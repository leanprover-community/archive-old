---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html">✔ Cube Root</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276540906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276540906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276540906">(Mar 24 2022 at 21:20)</a>:</h4>
<p>I made the definition </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">cube_root</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">if</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="k">then</span> <span class="o">(</span><span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">))</span> <span class="k">else</span> <span class="o">((</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span><span class="bp">/</span><span class="mi">2</span><span class="o">)</span>
</code></pre></div>
<p>But it complains about: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">definition</span> <span class="bp">'</span><span class="n">cube_root'</span> <span class="n">is</span> <span class="kd">noncomputable</span><span class="o">,</span> <span class="n">it</span> <span class="n">depends</span> <span class="n">on</span> <span class="bp">'</span><span class="n">real.decidable_lt'</span>
</code></pre></div>



<a name="276541430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276541430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276541430">(Mar 24 2022 at 21:24)</a>:</h4>
<p>You can put <code>noncomputable theory</code> at the top of the file or put <code>noncomputable</code> right before <code>def</code>.</p>
<p>That's essentially a warning that the definition cannot be evaluated with <code>#eval</code>.</p>



<a name="276541872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276541872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276541872">(Mar 24 2022 at 21:28)</a>:</h4>
<p>Shouldn't it be</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">cube_root</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">if</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">x</span> <span class="k">then</span> <span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span> <span class="k">else</span> <span class="bp">-</span><span class="o">(</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span>
</code></pre></div>



<a name="276541976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276541976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276541976">(Mar 24 2022 at 21:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Cube.20Root/near/276414228">said</a>:</p>
<blockquote>
<p>and then project down to the real line again to get the real function. That's why the negative function is the reflection of the positive one but scaled down by 1/2</p>
</blockquote>
<p>So this isn't correct? <span class="user-mention" data-user-id="387244">@Yaël Dillies</span></p>



<a name="276542109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542109">(Mar 24 2022 at 21:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/Cube.20Root/near/276541872">said</a>:</p>
<blockquote>
<p>Shouldn't it be</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">cube_root</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">if</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">x</span> <span class="k">then</span> <span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span> <span class="k">else</span> <span class="bp">-</span><span class="o">(</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Wait that seems correct when I look again</p>



<a name="276542114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542114">(Mar 24 2022 at 21:30)</a>:</h4>
<p>This is correct, but you don't want to reproduce the wonky results of the existing pow, right?</p>



<a name="276542180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542180">(Mar 24 2022 at 21:31)</a>:</h4>
<p>I mean, you successfully created a function which equals <code>x^(1/3)</code> everywhere, but that's not what you're after.</p>



<a name="276542212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542212">(Mar 24 2022 at 21:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="367659">Callum Cassidy-Nolan</span> <a href="#narrow/stream/113489-new-members/topic/Cube.20Root/near/276413458">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Cube.20Root/near/276412914">said</a>:</p>
<blockquote>
<p>What function do you want? If you only need the nonnegative values then <code>x^(1/3)</code> is fine</p>
</blockquote>
<p>I'm looking for the function which comes from this graph as a function <code>R -&gt; R</code>: <a href="/user_uploads/3121/uX1rTZBC6jE-a2kb8eo6VOhx/image.png">image.png</a></p>
</blockquote>
<p>This is my goal</p>



<a name="276542279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542279">(Mar 24 2022 at 21:32)</a>:</h4>
<p>the one you wrote down is wonky_pow</p>



<a name="276542285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542285">(Mar 24 2022 at 21:32)</a>:</h4>
<p>the one yael wrote is what I think you want</p>



<a name="276542486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542486">(Mar 24 2022 at 21:34)</a>:</h4>
<p>Closing the thread with the final definition : </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">cube_root</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span> <span class="k">if</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">x</span> <span class="k">then</span> <span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span> <span class="k">else</span> <span class="bp">-</span><span class="o">(</span><span class="bp">-</span><span class="n">x</span><span class="o">)</span><span class="bp">^</span><span class="o">(</span><span class="mi">1</span><span class="bp">/</span><span class="mi">3</span><span class="o">)</span>
</code></pre></div>



<a name="276542492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20Cube%20Root/near/276542492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20Cube.20Root.html#276542492">(Mar 24 2022 at 21:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="367659">Callum Cassidy-Nolan</span> has marked this topic as resolved.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>