---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/simplifying.20divisor.20statements.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html">simplifying divisor statements</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211849299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211849299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211849299">(Sep 30 2020 at 22:43)</a>:</h4>
<p>Pretty mundane question but I can't figure it out  - is there some tactic that will automatically prove that 11 is not a divisor of 100? (couldnt quite get the lean code to display in zulip.) <code>\not (11 \| 100)</code></p>



<a name="211849426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211849426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211849426">(Sep 30 2020 at 22:44)</a>:</h4>
<p><code>norm_num</code> works</p>



<a name="211849439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211849439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211849439">(Sep 30 2020 at 22:44)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">¬</span> <span class="o">(</span><span class="mi">11</span> <span class="bp">∣</span> <span class="mi">100</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">norm_num</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="211849553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211849553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211849553">(Sep 30 2020 at 22:46)</a>:</h4>
<p>nice thanks</p>



<a name="211850215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211850215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211850215">(Sep 30 2020 at 22:56)</a>:</h4>
<p>ok similar question. i have a function defined as <code>def sum_of_squares (L : list ℕ) : ℕ := L.foldr (λ x y, x*x + y) 0</code>. I would like to just automatically expand this out on a given list to have it be able to solve that, for example, <code>sum_of_squares [1, 1, 0] = 2</code>. is there any tactic that can do this?</p>



<a name="211850707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211850707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211850707">(Sep 30 2020 at 23:01)</a>:</h4>
<p>well, i figured this out by trial and error, first <code>norm_num</code> then <code>ring</code> can do it</p>



<a name="211851266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851266">(Sep 30 2020 at 23:09)</a>:</h4>
<p>hmm, but if the statement is mildly more complicated - <code>10 \ne sum_of_squares [1, 1, 0]</code> - then ring cannot solve it</p>



<a name="211851284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851284">(Sep 30 2020 at 23:09)</a>:</h4>
<p>i feel like i must be solving this the wrong way, i am just stabbing around seeing what these tactics can automatically solve</p>



<a name="211851361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851361">(Sep 30 2020 at 23:10)</a>:</h4>
<p>whereas i want to be expressing, hey this <code>sum_of_squares</code> function can just be simplified wherever it occurs in an expression</p>



<a name="211851420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851420">(Sep 30 2020 at 23:11)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">sum_of_squares</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">list</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="n">L.foldr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span><span class="bp">*</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="o">)</span> <span class="mi">0</span>
<span class="kd">example</span> <span class="o">:</span><span class="mi">10</span> <span class="bp">≠</span> <span class="n">sum_of_squares</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">]</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">norm_num</span> <span class="o">[</span><span class="n">sum_of_squares</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



<a name="211851489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851489">(Sep 30 2020 at 23:12)</a>:</h4>
<p>If you give the def to <code>norm_num</code> it will pass it on to the simplifier and then do all the arithmetic.</p>



<a name="211851540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851540">(Sep 30 2020 at 23:13)</a>:</h4>
<p>You can mark a definition @[reducible], also:<br>
<a href="https://leanprover.github.io/theorem_proving_in_lean/interacting_with_lean.html">https://leanprover.github.io/theorem_proving_in_lean/interacting_with_lean.html</a></p>



<a name="211851648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851648">(Sep 30 2020 at 23:14)</a>:</h4>
<p>And there is <code>unfold sum_of_squares</code> (optionally <code>at ...</code>) to get rid of it just in one place.</p>



<a name="211851721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211851721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211851721">(Sep 30 2020 at 23:15)</a>:</h4>
<p>reducible does not seem to enable <code>norm_num</code> to solve it here, but passing along the definition explicitly does</p>



<a name="211852118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852118">(Sep 30 2020 at 23:21)</a>:</h4>
<p>okay, this is a more complicated question. I have an expression <code>a \or b</code>, and I know that one of a or b is provable by norm_num, but I don't know which. is there a way to say, try it out on both of them, and as long as it works on one of them, then the proof is fine?</p>



<a name="211852235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852235">(Sep 30 2020 at 23:23)</a>:</h4>
<p>How do you know that one of them is provable by <code>norm_num</code>? Is that "meta" knowledge, or is it something in the context?</p>



<a name="211852252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852252">(Sep 30 2020 at 23:23)</a>:</h4>
<p>well only one of them is true</p>



<a name="211852264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852264">(Sep 30 2020 at 23:23)</a>:</h4>
<p>i mean, I personally know it. lean doesn't know anything of the sort</p>



<a name="211852315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852315">(Sep 30 2020 at 23:24)</a>:</h4>
<p>Don't use <code>reducible</code> for recursive definitions, that only makes sense for "abbreviation" style definitions</p>



<a name="211852348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852348">(Sep 30 2020 at 23:24)</a>:</h4>
<p>If you have <code>a \or b</code> and norm_num can solve one of them then it can solve the or</p>



<a name="211852366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852366">(Sep 30 2020 at 23:25)</a>:</h4>
<p>because it passes all that along to <code>simp</code> and simp will simplify <code>true \or p</code> to <code>true</code></p>



<a name="211852380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852380">(Sep 30 2020 at 23:25)</a>:</h4>
<p>ok, excellent</p>



<a name="211852394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852394">(Sep 30 2020 at 23:25)</a>:</h4>
<p>and presumably i can pass irrelevant functions to <code>norm_num</code> and it'll happily ignore them</p>



<a name="211852400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852400">(Sep 30 2020 at 23:25)</a>:</h4>
<p>Why not do a <code>&lt;|&gt;</code> with or something with try?</p>



<a name="211852405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852405">(Sep 30 2020 at 23:25)</a>:</h4>
<p>it just calls <code>simp</code> with the passed arguments</p>



<a name="211852474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852474">(Sep 30 2020 at 23:26)</a>:</h4>
<p>maybe I shoudl be doing that. <code>&lt;|&gt;</code> is just yet more lean syntax i have not heard of</p>



<a name="211852480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852480">(Sep 30 2020 at 23:26)</a>:</h4>
<p>you should prefer <code>simp</code> over <code>norm_num</code> unless you have some numerical calculations to do in the middle</p>



<a name="211852485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852485">(Sep 30 2020 at 23:26)</a>:</h4>
<p>simp doesn't seem to work</p>



<a name="211852509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852509">(Sep 30 2020 at 23:26)</a>:</h4>
<p><code>&lt;|&gt;</code> is a tactic combinator that lets you try one tactic and then another if the first fails</p>



<a name="211852511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852511">(Sep 30 2020 at 23:27)</a>:</h4>
<p>cool</p>



<a name="211852531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplifying%20divisor%20statements/near/211852531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplifying.20divisor.20statements.html#211852531">(Sep 30 2020 at 23:27)</a>:</h4>
<p>for example <code>{left, norm_num} &lt;|&gt; {right, norm_num}</code> would do what you suggested</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>