---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html">Renaming fields of structures being extended</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="230403282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230403282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230403282">(Mar 15 2021 at 19:23)</a>:</h4>
<p>Hi Folks,</p>
<p>I know that at one point Lean had an "extending x-&gt;y" construct enabling the renaming of field inherited from parent structures. So you could say, for example, "structure X extends Y renaming z-&gt;x." It appears (to me) that this feature has been changed or eliminated. Is there a way to rename fields of structures when extending structures?Also, it looks like the merging of multiply inherited field names is not happening. Is there up-to-date documentation on these aspects of Lean 3?</p>



<a name="230406987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230406987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230406987">(Mar 15 2021 at 19:49)</a>:</h4>
<p>I've never heard of such a feature</p>



<a name="230407054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230407054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230407054">(Mar 15 2021 at 19:50)</a>:</h4>
<p>There is <code>renaming</code> in <code>open</code> IIRC but not in <code>structure</code></p>



<a name="230407102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230407102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230407102">(Mar 15 2021 at 19:50)</a>:</h4>
<p>Merging of multiply inherited field names happens when you set <code>set_option old_structure_cmd true</code></p>



<a name="230407232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230407232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230407232">(Mar 15 2021 at 19:51)</a>:</h4>
<p>mathlib primarily uses the "old structure cmd" but lean 4 is doing away with it so we'll need to reimplement it in the mathlib prelude</p>



<a name="230410433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230410433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230410433">(Mar 15 2021 at 20:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Since I was fighting with this problem a couple of days ago (trying to extend a structure, but Lean complaining that something with the same name already existed), can you point to some <code>docs</code>about <code>set_option old_structure_cmd true</code>? Thanks! <span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>



<a name="230412443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230412443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230412443">(Mar 15 2021 at 20:24)</a>:</h4>
<p>No particular docs to point to, but the usage is pretty simple:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>
<span class="kd">structure</span> <span class="n">foo</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kd">structure</span> <span class="n">bar</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kd">structure</span> <span class="n">baz</span> <span class="kd">extends</span> <span class="n">foo</span><span class="o">,</span> <span class="n">bar</span>

<span class="k">#print</span> <span class="n">baz</span>
<span class="c1">-- structure baz : Type</span>
<span class="c1">-- fields:</span>
<span class="c1">-- baz.a : baz → ℕ</span>
<span class="c1">-- baz.b : baz → ℕ</span>
<span class="c1">-- baz.c : baz → ℕ</span>
</code></pre></div>



<a name="230417018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230417018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230417018">(Mar 15 2021 at 20:57)</a>:</h4>
<p>This feature does exist, the keyword is <code>renaming</code></p>



<a name="230431827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230431827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230431827">(Mar 15 2021 at 22:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended/near/230412443">said</a>:</p>
<blockquote>
<p>No particular docs to point to, but the usage is pretty simple:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>
<span class="kd">structure</span> <span class="n">foo</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kd">structure</span> <span class="n">bar</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>
<span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span>

<span class="kd">structure</span> <span class="n">baz</span> <span class="kd">extends</span> <span class="n">foo</span><span class="o">,</span> <span class="n">bar</span>

<span class="k">#print</span> <span class="n">baz</span>
<span class="c1">-- structure baz : Type</span>
<span class="c1">-- fields:</span>
<span class="c1">-- baz.a : baz → ℕ</span>
<span class="c1">-- baz.b : baz → ℕ</span>
<span class="c1">-- baz.c : baz → ℕ</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Thanks! No <code>docs</code> beats such an example.</p>



<a name="230447965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230447965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Sullivan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230447965">(Mar 16 2021 at 01:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended/near/230417018">said</a>:</p>
<blockquote>
<p>This feature does exist, the keyword is <code>renaming</code></p>
</blockquote>
<p>I get syntax errors at "renaming" when I copy and paste old code that presumably used to work.</p>



<a name="230448212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230448212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230448212">(Mar 16 2021 at 01:46)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/blob/cab92ef9f05754271116ab6786890d558c53e746/tests/lean/run/record10.lean#L7-L8">https://github.com/leanprover-community/lean/blob/cab92ef9f05754271116ab6786890d558c53e746/tests/lean/run/record10.lean#L7-L8</a></p>



<a name="230448227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Renaming%20fields%20of%20structures%20being%20extended/near/230448227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Renaming.20fields.20of.20structures.20being.20extended.html#230448227">(Mar 16 2021 at 01:46)</a>:</h4>
<p>In case that helps, grepping the test suite finds some examples that presumably still work/run in CI?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>