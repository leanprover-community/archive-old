---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html">Inequality with ennreal type</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300098791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300098791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300098791">(Sep 22 2022 at 08:20)</a>:</h4>
<p>Hi All! </p>
<p>I came to the last stage of the proof of the Weak Law  but I have big troubles with it. Namely, I try to proof inequality below in ennreal terms, which will be close my proof since of chebyshev inequality.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">probability.ident_distrib</span>
<span class="kn">import</span> <span class="n">probability.notation</span>
<span class="kn">import</span> <span class="n">probability.integration</span>
<span class="kn">import</span> <span class="n">probability.variance</span>
<span class="kn">import</span> <span class="n">topology.metric_space.basic</span>
<span class="kn">import</span> <span class="n">algebra.order.floor</span>


<span class="kn">open</span> <span class="n">measure_theory</span> <span class="n">filter</span> <span class="n">finset</span>

<span class="n">open_locale</span> <span class="n">topological_space</span> <span class="n">big_operators</span> <span class="n">measure_theory</span> <span class="n">probability_theory</span> <span class="n">ennreal</span> <span class="n">nnreal</span>

<span class="kn">namespace</span> <span class="n">probability_theory</span>


<span class="kd">variables</span> <span class="o">{</span><span class="bp">Œ©</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measure_space</span> <span class="bp">Œ©</span><span class="o">]</span> <span class="o">[</span><span class="n">is_probability_measure</span> <span class="o">(</span><span class="n">‚Ñô</span> <span class="o">:</span> <span class="n">measure</span> <span class="bp">Œ©</span><span class="o">)][</span><span class="n">œâ</span><span class="o">:</span><span class="bp">Œ©</span><span class="o">][</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">]</span>





<span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">):</span>
<span class="n">tendsto</span> <span class="o">(</span><span class="bp">Œª</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">‚Ñï</span><span class="o">),</span> <span class="n">‚Ñô</span> <span class="o">{</span><span class="n">œâ</span> <span class="bp">|</span> <span class="n">c</span><span class="bp">*</span><span class="n">n</span> <span class="bp">‚â§|</span><span class="o">(</span><span class="bp">‚àë</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="n">X</span> <span class="n">i</span> <span class="o">)</span> <span class="n">œâ</span> <span class="bp">-</span> <span class="n">n</span><span class="bp">*ùîº</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">|</span><span class="o">})</span> <span class="n">at_top</span> <span class="o">(</span><span class="bp">ùìù</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">rw</span> <span class="n">ennreal.tendsto_at_top_zero</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">e</span> <span class="n">ep</span><span class="o">,</span>
<span class="k">let</span> <span class="n">N</span><span class="o">:=</span> <span class="n">nat.ceil</span><span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">ennreal.to_real</span><span class="o">(</span><span class="n">e</span><span class="o">)))),</span>
<span class="n">use</span> <span class="n">N</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">n</span> <span class="n">n_more_N</span><span class="o">,</span>

<span class="k">have</span> <span class="n">A</span><span class="o">:</span> <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">C</span><span class="o">:</span> <span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">ennreal.to_real</span><span class="o">(</span><span class="n">e</span><span class="o">)))</span><span class="bp">‚â§</span><span class="n">nat.ceil</span><span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">ennreal.to_real</span><span class="o">(</span><span class="n">e</span><span class="o">)))),</span>
    <span class="n">simp</span> <span class="n">only</span><span class="o">[</span><span class="n">nat.le_ceil</span><span class="o">],</span>

<span class="kd">end</span>

<span class="kd">end</span> <span class="n">probability_theory</span>
</code></pre></div>
<p>I am  trying to get rid of the <code>ennreal</code>  part and transform the expression using assumptions on n, but all I can do is to rid of integer part. Maybe some suggestion what can I do? Thank you <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="300161034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300161034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300161034">(Sep 22 2022 at 13:39)</a>:</h4>
<p>Your code has two unsolved goals. Which step do you have a problem with? Can you just present me with the goal you want closed, and with the hypotheses which justify the claim mathematically?</p>



<a name="300305157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300305157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300305157">(Sep 23 2022 at 07:52)</a>:</h4>
<p><a href="/user_uploads/3121/Pij07pDJfQD3xMT2puTA3NjG/Ineq.pdf">Ineq.pdf</a> <br>
Dear Kevin,</p>
<p>Yes, sure, I just try to leave this inequality in context.  Here is a goal which I want to proof and assumption which we can use </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">probability.notation</span>
<span class="kn">import</span> <span class="n">probability.integration</span>
<span class="kn">import</span> <span class="n">probability.variance</span>
<span class="kn">import</span> <span class="n">algebra.order.floor</span>


<span class="kn">open</span> <span class="n">measure_theory</span> <span class="n">filter</span> <span class="n">finset</span>

<span class="n">open_locale</span> <span class="n">topological_space</span> <span class="n">big_operators</span> <span class="n">measure_theory</span> <span class="n">probability_theory</span> <span class="n">ennreal</span> <span class="n">nnreal</span>

<span class="kn">namespace</span> <span class="n">probability_theory</span>


<span class="kd">variables</span> <span class="o">{</span><span class="bp">Œ©</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">measure_space</span> <span class="bp">Œ©</span><span class="o">]</span> <span class="o">[</span><span class="n">is_probability_measure</span> <span class="o">(</span><span class="n">‚Ñô</span> <span class="o">:</span> <span class="n">measure</span> <span class="bp">Œ©</span><span class="o">)][</span><span class="n">œâ</span><span class="o">:</span><span class="bp">Œ©</span><span class="o">][</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">]</span>





<span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
<span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
<span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">(</span><span class="n">N</span><span class="o">:</span> <span class="n">‚Ñï</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span><span class="o">)</span>
<span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)(</span><span class="n">n_pos</span><span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">):</span>
 <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>


<span class="kd">end</span>

<span class="kd">end</span> <span class="n">probability_theory</span>
</code></pre></div>
<p>As well I am sending overleaf version of theorem. Proof is naive in sense of math but if you want I can sent you proof too.</p>



<a name="300305462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300305462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300305462">(Sep 23 2022 at 07:54)</a>:</h4>
<p>Note you can write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> directly into Zulip between double dollars, no need to link to overleaf (at least, for short-ish things)</p>



<a name="300316351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300316351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300316351">(Sep 23 2022 at 08:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type/near/300305462">said</a>:</p>
<blockquote>
<p>Note you can write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> directly into Zulip between double dollars, no need to link to overleaf (at least, for short-ish things)</p>
</blockquote>
<p>Zulip is so smart, I did not expect this. Thank you so much!</p>



<a name="300323351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300323351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300323351">(Sep 23 2022 at 09:32)</a>:</h4>
<p>Your theorem is false, because <code>(N: ‚Ñï := ‚åàVar[X 0] / (c ^ 2 * e.to_real)‚åâ‚Çä)</code> doesn't say what you think it does</p>



<a name="300323426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300323426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300323426">(Sep 23 2022 at 09:33)</a>:</h4>
<p>That says "let <code>N</code> be any natural. If the user chooses not to provide one, then pick this one for them"</p>



<a name="300324443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300324443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300324443">(Sep 23 2022 at 09:39)</a>:</h4>
<p>has mathlib ever used <code>opt_param</code>?</p>



<a name="300324946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300324946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300324946">(Sep 23 2022 at 09:42)</a>:</h4>
<p>Yes, for proof arguments to data functions like <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.disj_union">docs#finset.disj_union</a>.</p>



<a name="300340981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300340981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300340981">(Sep 23 2022 at 11:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type/near/300323426">said</a>:</p>
<blockquote>
<p>That says "let <code>N</code> be any natural. If the user chooses not to provide one, then pick this one for them"</p>
</blockquote>
<p>Eric, Thank you for your comment. In a first section (were my actual statment is) I introduce N with function <code>let</code>.  Is it correct form of introducing N. By the way, I will be very happy if you share how I can introduce N in assumption.</p>



<a name="300341187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300341187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300341187">(Sep 23 2022 at 11:29)</a>:</h4>
<p>In this particular case I'd recommend just not doing so:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span><span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span><span class="o">):</span>
  <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="kd">end</span>
</code></pre></div>



<a name="300341355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300341355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300341355">(Sep 23 2022 at 11:30)</a>:</h4>
<p>But you could also write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span><span class="o">:</span> <span class="k">let</span> <span class="n">N</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span> <span class="k">in</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">):</span>
  <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="kd">end</span>
</code></pre></div>



<a name="300342858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300342858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300342858">(Sep 23 2022 at 11:41)</a>:</h4>
<p>Okay, I see, Thank You very much!</p>



<a name="300343768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300343768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300343768">(Sep 23 2022 at 11:47)</a>:</h4>
<p>Or even</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">N</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span> <span class="k">in</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="kd">end</span>
</code></pre></div>



<a name="300354211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300354211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300354211">(Sep 23 2022 at 12:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type/near/300343768">said</a>:</p>
<blockquote>
<p>Or even</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">N</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span> <span class="k">in</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Thank you, I have changed it in my last code!</p>



<a name="300374481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300374481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300374481">(Sep 23 2022 at 14:10)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">N</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span> <span class="k">in</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">N</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- annoying special case n = 0</span>
  <span class="n">rcases</span> <span class="n">nat.eq_zero_or_pos</span> <span class="n">n</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hn0</span><span class="o">),</span> <span class="o">{</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="c1">-- annoying special case e = ‚àû</span>
  <span class="n">rcases</span> <span class="n">eq_top_or_lt_top</span> <span class="n">e</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">he</span><span class="o">),</span> <span class="o">{</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="c1">-- using N just makes things more annoying. Why not just not define N at all?</span>
  <span class="n">change</span> <span class="bp">‚åà</span> <span class="n">_</span> <span class="bp">‚åâ‚Çä</span> <span class="bp">‚â§</span> <span class="n">n</span> <span class="n">at</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- get rid of ceiling</span>
  <span class="n">rw</span> <span class="n">nat.ceil_le</span> <span class="n">at</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- get rid of ennreal stuff in goal</span>
  <span class="n">apply</span> <span class="n">ennreal.of_real_le_of_le_to_real</span><span class="o">,</span>
  <span class="c1">-- clear denominators (will show they're positive later)</span>
  <span class="n">rw</span> <span class="n">div_le_iff</span> <span class="n">at</span> <span class="n">hn</span> <span class="bp">‚ä¢</span><span class="o">,</span>
  <span class="o">{</span> <span class="c1">-- main goal now easy</span>
    <span class="n">convert</span> <span class="n">hn</span> <span class="n">using</span> <span class="mi">1</span><span class="o">,</span>
    <span class="n">ring</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="c1">-- positivity side goal: a bit annoying that I need to use theorems and not tactics here</span>
    <span class="n">exact</span> <span class="n">mul_pos</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hc</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">exact_mod_cast</span> <span class="n">hn0</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="c1">-- second positivity side goal: here we still have to deal with e</span>
    <span class="n">refine</span> <span class="n">mul_pos</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hc</span> <span class="mi">2</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">ennreal.to_real_pos_iff</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">e_pos</span><span class="o">,</span> <span class="n">he</span><span class="o">‚ü©,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p><span class="user-mention" data-user-id="525359">@Daniil Homza</span></p>



<a name="300591779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Inequality%20with%20ennreal%20type/near/300591779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniil Homza <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type.html#300591779">(Sep 24 2022 at 23:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Inequality.20with.20ennreal.20type/near/300374481">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">weak_law</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">‚Ñï</span> <span class="bp">‚Üí</span> <span class="bp">Œ©</span> <span class="bp">‚Üí</span> <span class="n">‚Ñù</span><span class="o">}</span>  <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">mem_‚Ñíp</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">hint</span> <span class="o">:</span> <span class="n">integrable</span> <span class="o">(</span><span class="n">X</span> <span class="mi">0</span><span class="o">))</span>
  <span class="o">(</span><span class="n">c</span><span class="o">:</span><span class="n">‚Ñù</span><span class="o">)(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e</span><span class="o">:</span><span class="n">‚Ñù</span><span class="bp">‚â•</span><span class="mi">0</span><span class="bp">‚àû</span><span class="o">)(</span><span class="n">e_pos</span><span class="o">:</span> <span class="n">e</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="k">let</span> <span class="n">N</span> <span class="o">:=</span> <span class="bp">‚åà</span><span class="n">Var</span><span class="o">[</span><span class="n">X</span> <span class="mi">0</span><span class="o">]</span> <span class="bp">/</span> <span class="o">(</span><span class="n">c</span> <span class="bp">^</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">e.to_real</span><span class="o">)</span><span class="bp">‚åâ‚Çä</span> <span class="k">in</span> <span class="bp">‚àÄ</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span> <span class="n">‚Ñï</span><span class="o">)</span> <span class="o">(</span><span class="n">n_pos</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">‚â•</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">ennreal.of_real</span> <span class="o">(</span><span class="n">Var</span><span class="o">[(</span><span class="n">X</span> <span class="mi">0</span><span class="o">)]</span><span class="bp">/</span><span class="o">(</span><span class="n">c</span><span class="bp">^</span><span class="mi">2</span><span class="bp">*</span><span class="n">n</span><span class="o">))</span> <span class="bp">‚â§</span> <span class="n">e</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">N</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- annoying special case n = 0</span>
  <span class="n">rcases</span> <span class="n">nat.eq_zero_or_pos</span> <span class="n">n</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">hn0</span><span class="o">),</span> <span class="o">{</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="c1">-- annoying special case e = ‚àû</span>
  <span class="n">rcases</span> <span class="n">eq_top_or_lt_top</span> <span class="n">e</span> <span class="k">with</span> <span class="o">(</span><span class="n">rfl</span> <span class="bp">|</span> <span class="n">he</span><span class="o">),</span> <span class="o">{</span> <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="c1">-- using N just makes things more annoying. Why not just not define N at all?</span>
  <span class="n">change</span> <span class="bp">‚åà</span> <span class="n">_</span> <span class="bp">‚åâ‚Çä</span> <span class="bp">‚â§</span> <span class="n">n</span> <span class="n">at</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- get rid of ceiling</span>
  <span class="n">rw</span> <span class="n">nat.ceil_le</span> <span class="n">at</span> <span class="n">hn</span><span class="o">,</span>
  <span class="c1">-- get rid of ennreal stuff in goal</span>
  <span class="n">apply</span> <span class="n">ennreal.of_real_le_of_le_to_real</span><span class="o">,</span>
  <span class="c1">-- clear denominators (will show they're positive later)</span>
  <span class="n">rw</span> <span class="n">div_le_iff</span> <span class="n">at</span> <span class="n">hn</span> <span class="bp">‚ä¢</span><span class="o">,</span>
  <span class="o">{</span> <span class="c1">-- main goal now easy</span>
    <span class="n">convert</span> <span class="n">hn</span> <span class="n">using</span> <span class="mi">1</span><span class="o">,</span>
    <span class="n">ring</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="c1">-- positivity side goal: a bit annoying that I need to use theorems and not tactics here</span>
    <span class="n">exact</span> <span class="n">mul_pos</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hc</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">exact_mod_cast</span> <span class="n">hn0</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="c1">-- second positivity side goal: here we still have to deal with e</span>
    <span class="n">refine</span> <span class="n">mul_pos</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hc</span> <span class="mi">2</span><span class="o">)</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">ennreal.to_real_pos_iff</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">‚ü®</span><span class="n">e_pos</span><span class="o">,</span> <span class="n">he</span><span class="o">‚ü©,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
<p><span class="user-mention silent" data-user-id="525359">Daniil Homza</span></p>
</blockquote>
<p>Dear Kevin,</p>
<p>Thank You so much, It works. It is look very smart and amazing to see how Lean work in real problems. I think it helps me a lot in Lean learning. Thank You! </p>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>