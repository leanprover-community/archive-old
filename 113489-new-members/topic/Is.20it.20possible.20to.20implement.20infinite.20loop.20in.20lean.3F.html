---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html">Is it possible to implement infinite loop in lean?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219361310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rui Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361310">(Dec 09 2020 at 16:31)</a>:</h4>
<p>Is it possible to define such a function: <code>def find_first_true: (N -&gt; bool) -&gt; N</code>, which will find the first value of natural number that's true for a function?</p>



<a name="219361394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361394">(Dec 09 2020 at 16:31)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/nat.find">docs#nat.find</a> might be related</p>



<a name="219361523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361523">(Dec 09 2020 at 16:32)</a>:</h4>
<p>This is <code>nat.find</code>, but note the precondition: it needs to be not always false!</p>



<a name="219361599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rui Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361599">(Dec 09 2020 at 16:33)</a>:</h4>
<p>Is it possible that this call runs forever?</p>



<a name="219361655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361655">(Dec 09 2020 at 16:33)</a>:</h4>
<p>all lean programs terminate</p>



<a name="219361690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361690">(Dec 09 2020 at 16:33)</a>:</h4>
<p>halting problem solved :)</p>



<a name="219361822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rui Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361822">(Dec 09 2020 at 16:34)</a>:</h4>
<p>so in lean, it's not possible to have infinite loop? lean cannot be used as general programming language?</p>



<a name="219361875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361875">(Dec 09 2020 at 16:34)</a>:</h4>
<p>you can write meta code and then it's just like Haskell</p>



<a name="219361911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361911">(Dec 09 2020 at 16:35)</a>:</h4>
<p>but if it's not meta, the kernel checks that it terminates</p>



<a name="219361929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219361929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219361929">(Dec 09 2020 at 16:35)</a>:</h4>
<p>there are caveats, of course. But for non-<code>meta</code> functions it would break the logic (make it inconsistent) to have nonterminating functions</p>



<a name="219362133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219362133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rui Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219362133">(Dec 09 2020 at 16:36)</a>:</h4>
<p>OK...</p>



<a name="219362242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219362242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219362242">(Dec 09 2020 at 16:37)</a>:</h4>
<p>consider that if you could write <code>find_first_true</code> in lean, you should be able to refine it to the signature <code>\all f : N -&gt; bool, {n | f n = tt}</code>, and this is plainly false</p>



<a name="219362605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20it%20possible%20to%20implement%20infinite%20loop%20in%20lean%3F/near/219362605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20it.20possible.20to.20implement.20infinite.20loop.20in.20lean.3F.html#219362605">(Dec 09 2020 at 16:39)</a>:</h4>
<p>however if you don't care about computation or garbage values and just want a function with that signature, you can write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">nat.maybe_find</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">bool</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">classical</span><span class="bp">;</span> <span class="n">exact</span>
<span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">n</span><span class="o">,</span> <span class="n">f</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">tt</span> <span class="k">then</span> <span class="n">nat.find</span> <span class="n">h</span> <span class="k">else</span> <span class="mi">37</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>