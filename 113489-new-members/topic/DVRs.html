---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/DVRs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html">DVRs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199927668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927668">(Jun 05 2020 at 20:06)</a>:</h4>
<p><code>map_top' : to_fun 0 = 1</code> looks wrong...</p>



<a name="199927748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927748">(Jun 05 2020 at 20:07)</a>:</h4>
<p>You could decide to map <code>0</code> to something (I would choose <code>0</code>, if you don't add infinity to <code>Z</code>). But then you need to exclude it in <code>map_add_leq'</code>.</p>



<a name="199927843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927843">(Jun 05 2020 at 20:08)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> Where do you get your errors? Could you edit your message, to add a comment in the code saying <code>-- error here</code>?</p>



<a name="199927908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927908">(Jun 05 2020 at 20:08)</a>:</h4>
<p><code>max_ideal</code> is not known, because the full name is <code>discrete_valuation_ring.max_ideal</code>.<br>
You could write <code>open discrete_valuation_ring</code> if you want to get access to it.</p>



<a name="199927925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927925">(Jun 05 2020 at 20:09)</a>:</h4>
<p>when I try to run your code block, I get <code>unknown identifier 'principal_ideal_domain'</code> is there a missing <code>open namespace</code>?</p>



<a name="199927955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199927955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199927955">(Jun 05 2020 at 20:09)</a>:</h4>
<p>Alternative: extend <code>local_ring R</code> as well... and then you only need <code>uniq_prime_ideal</code></p>



<a name="199928060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928060">(Jun 05 2020 at 20:10)</a>:</h4>
<p>For the other error, my guess is that you need <code>ideal.span ({\pi} : set R)</code></p>



<a name="199928093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928093">(Jun 05 2020 at 20:10)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">[</span><span class="n">discrete_valuation_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="kn">open</span> <span class="n">discrete_valuation_ring</span>
<span class="n">def</span> <span class="n">uniformizers</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">π</span> <span class="bp">|</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">({</span><span class="n">π</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="n">max_ideal</span> <span class="o">}</span>
</code></pre></div>


<p>will probably help</p>



<a name="199928165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928165">(Jun 05 2020 at 20:11)</a>:</h4>
<p>The <code>({π} : set R) </code> is a shame, this is Lean 3 elaborator not being smart enough. The rest is on you.</p>



<a name="199928272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928272">(Jun 05 2020 at 20:12)</a>:</h4>
<p>And you probably want to define a version of max_ideal where R is explicit.</p>



<a name="199928286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928286">(Jun 05 2020 at 20:12)</a>:</h4>
<p>But that's up to you.</p>



<a name="199928325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928325">(Jun 05 2020 at 20:13)</a>:</h4>
<p>Well, you don't want it to conflict with <code>local_ring</code>. So you should reuse that.</p>



<a name="199928446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928446">(Jun 05 2020 at 20:14)</a>:</h4>
<p>Also, could you please edit your first message above to change the topic to something more useful? The whole stream is for noob questions so your simply repeating information instead of having your own cosy little topic.</p>



<a name="199928963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199928963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199928963">(Jun 05 2020 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> You need <code> ` </code> (next to the <code>1</code> on qwerty keyboards).</p>



<a name="199929021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199929021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199929021">(Jun 05 2020 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> Anyway, I should say that it's cool to see you attacking DVRs</p>



<a name="199947696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199947696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199947696">(Jun 06 2020 at 00:25)</a>:</h4>
<p>Thank you all! It is now showing me the error</p>
<div class="codehilite"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">π</span><span class="o">}</span> <span class="bp">=</span> <span class="n">max_ideal</span>
<span class="n">term</span>
  <span class="n">max_ideal</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">Π</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="err">?</span><span class="o">)</span> <span class="o">[</span><span class="n">c</span> <span class="o">:</span> <span class="n">discrete_valuation_ring</span> <span class="n">R</span><span class="o">],</span> <span class="n">ideal</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="err">?</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">ideal</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
</code></pre></div>


<p>I don't see why this type mismatch occurs, because both are in ideals in R..</p>



<a name="199947758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199947758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199947758">(Jun 06 2020 at 00:26)</a>:</h4>
<p>The first type <code>Π (R : Type ?) [c : discrete_valuation_ring R], ideal R : Type (?+1)</code> cannot be unified with the second type <code>ideal R : Type u</code>. Do you see why?</p>



<a name="199947789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199947789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199947789">(Jun 06 2020 at 00:27)</a>:</h4>
<p>I suspect <code>max_ideal</code> is missing an argument.</p>



<a name="199947847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199947847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199947847">(Jun 06 2020 at 00:28)</a>:</h4>
<p>I am guessing I should explicitly define the type of max_ideal?</p>



<a name="199948261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199948261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199948261">(Jun 06 2020 at 00:39)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">ideals</span>
<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">principal_ideal_domain</span>
<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">localization</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="n">class</span> <span class="n">discrete_valuation_ring</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">principal_ideal_domain</span> <span class="n">R</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">max_ideal</span> <span class="o">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">maximal</span> <span class="o">:</span> <span class="n">max_ideal</span><span class="bp">.</span><span class="n">is_maximal</span><span class="o">)</span>
<span class="o">(</span><span class="n">unique_prime_ideal</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">M</span> <span class="o">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="o">,</span> <span class="n">M</span><span class="bp">.</span><span class="n">is_prime</span> <span class="bp">→</span> <span class="n">M</span> <span class="bp">=</span> <span class="err">⊥</span> <span class="bp">∨</span> <span class="n">M</span> <span class="bp">=</span> <span class="n">max_ideal</span><span class="o">)</span>

<span class="c1">-- this doesn&#39;t work for me because `fraction_ring` was removed in a recent commit to mathlib:</span>
<span class="c1">-- https://github.com/leanprover-community/mathlib/commit/80ad9edc9a6d6d2971dd044f6079cc770e755020</span>
<span class="c1">-- structure discrete_valuation_ring.discrete_valuation (R : Type u) [discrete_valuation_ring R] extends localization.fraction_ring R →* ℤ :=</span>
<span class="c1">-- (map_top&#39; : to_fun 0 = 1)</span>
<span class="c1">-- (map_add_leq&#39; : ∀ x y, to_fun (x + y) ≤ max (to_fun x) (to_fun y))</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">discrete_valuation_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="kn">open</span> <span class="n">discrete_valuation_ring</span>
<span class="n">def</span> <span class="n">uniformizers</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">π</span> <span class="bp">|</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">({</span><span class="n">π</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="n">max_ideal</span> <span class="o">}</span>  <span class="c1">-- fixed</span>
</code></pre></div>



<a name="199948332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/199948332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#199948332">(Jun 06 2020 at 00:41)</a>:</h4>
<p>You don't have to give <code>R</code> as a parameter to <code>discrete_valuation_ring.max_ideal</code>. The <code>discrete_valuation_ring</code> structure on <code>R</code> is found via type class inference.</p>



<a name="200029578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029578">(Jun 07 2020 at 15:49)</a>:</h4>
<p>Sorry, I'm not sure I understand. How do I define max_ideal without saying that it is an ideal of R? Perhaps I misunderstood.</p>



<a name="200029646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029646">(Jun 07 2020 at 15:50)</a>:</h4>
<p>Can you restate the problem, if there is still a problem?</p>



<a name="200029707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029707">(Jun 07 2020 at 15:52)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">ideals</span>

<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">principal_ideal_domain</span>

<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">localization</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="n">class</span> <span class="n">discrete_valuation_ring</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="kn">extends</span> <span class="n">principal_ideal_domain</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">max_ideal</span> <span class="o">:</span> <span class="n">ideal</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">maximal</span> <span class="o">:</span> <span class="n">max_ideal</span><span class="bp">.</span><span class="n">is_maximal</span><span class="o">)</span>
<span class="o">(</span><span class="n">unique_prime_ideal</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">M</span> <span class="o">:</span> <span class="n">ideal</span> <span class="n">α</span><span class="o">,</span> <span class="n">M</span><span class="bp">.</span><span class="n">is_prime</span> <span class="bp">→</span> <span class="n">M</span> <span class="bp">=</span> <span class="err">⊥</span> <span class="bp">∨</span> <span class="n">M</span> <span class="bp">=</span> <span class="n">max_ideal</span><span class="o">)</span>

<span class="kn">structure</span> <span class="n">discrete_valuation_ring</span><span class="bp">.</span><span class="n">discrete_valuation</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">discrete_valuation_ring</span> <span class="n">α</span><span class="o">]</span> <span class="kn">extends</span> <span class="n">localization</span><span class="bp">.</span><span class="n">fraction_ring</span> <span class="n">α</span> <span class="bp">→*</span> <span class="bp">ℤ</span> <span class="o">:=</span>

<span class="o">(</span><span class="n">map_top&#39;</span> <span class="o">:</span> <span class="n">to_fun</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span>

<span class="o">(</span><span class="n">map_add_leq&#39;</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">to_fun</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">y</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">max</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">y</span><span class="o">))</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">discrete_valuation_ring</span> <span class="n">α</span> <span class="o">]</span>
<span class="kn">open</span> <span class="n">discrete_valuation_ring</span>
<span class="n">def</span> <span class="n">uniformizers</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">π</span> <span class="bp">|</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">({</span><span class="n">π</span><span class="o">}</span> <span class="o">:</span><span class="n">set</span> <span class="n">α</span> <span class="o">)</span> <span class="bp">=</span> <span class="n">max_ideal</span> <span class="o">}</span>
</code></pre></div>


<p>The last line gives me an error : </p>
<div class="codehilite"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">π</span><span class="o">}</span> <span class="bp">=</span> <span class="n">max_ideal</span>
<span class="n">term</span>
  <span class="n">max_ideal</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="err">?</span><span class="o">)</span> <span class="o">[</span><span class="n">c</span> <span class="o">:</span> <span class="n">discrete_valuation_ring</span> <span class="n">α</span><span class="o">],</span> <span class="n">ideal</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="err">?</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">ideal</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
</code></pre></div>



<a name="200029711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029711">(Jun 07 2020 at 15:52)</a>:</h4>
<p><code>max_ideal</code> is a function which eats two things, first R and second a proof that R is a DVR, and spits out the max ideal of R. Because R is in round brackets the user has to supply it themselves. Because the DVR parameter is in square brackets, Lean will supply it automatically.</p>



<a name="200029792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029792">(Jun 07 2020 at 15:54)</a>:</h4>
<p>wait, the error is elsewhere</p>



<a name="200029856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029856">(Jun 07 2020 at 15:56)</a>:</h4>
<p>Ashvni can you update your Lean to the current version? I don't get an error with the max_ideal, perhaps because I am a bit more up to date.</p>



<a name="200029864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029864">(Jun 07 2020 at 15:56)</a>:</h4>
<p><code>leanproject up</code> should do it (then close and open VS Code, it should restore all the files you had open etc)</p>



<a name="200029925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200029925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200029925">(Jun 07 2020 at 15:58)</a>:</h4>
<p>(You can also restart Lean without restarting VS Code by hitting ctrl+shift+P and searching for the "Lean: restart" command.)</p>



<a name="200030026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030026">(Jun 07 2020 at 16:01)</a>:</h4>
<p>Still shows me the same error</p>



<a name="200030273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030273">(Jun 07 2020 at 16:07)</a>:</h4>
<p>That is strange. What does your <code>leanpkg.toml</code> say?</p>



<a name="200030282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030282">(Jun 07 2020 at 16:07)</a>:</h4>
<p>Did you update Lean and mathlib with <code>leanproject up</code>?</p>



<a name="200030562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030562">(Jun 07 2020 at 16:14)</a>:</h4>
<p>No, I did Lean : restart. That did not work. Sorry, how do I update Lean using  leanproject up?</p>



<a name="200030579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030579">(Jun 07 2020 at 16:15)</a>:</h4>
<p><code>leanproject up</code> is a command you need to enter at the command line.</p>



<a name="200030624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030624">(Jun 07 2020 at 16:16)</a>:</h4>
<p>It should work if you followed the recommended directions at <a href="https://leanprover-community.github.io/get_started.html#regular-install">https://leanprover-community.github.io/get_started.html#regular-install</a></p>



<a name="200030639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030639">(Jun 07 2020 at 16:16)</a>:</h4>
<p>You have to run it in the directory of the project. It's the only trick you have to know about from the command line. It keeps your Lean and mathlib up to date so you have the latest tactics</p>



<a name="200030719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030719">(Jun 07 2020 at 16:18)</a>:</h4>
<p>As I've said before, I think you should extend <code>local_ring R</code>.</p>



<a name="200030837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030837">(Jun 07 2020 at 16:21)</a>:</h4>
<p>Can we just extend <code>local_ring R</code> and <code>principal_ideal_domain R</code>? That would then be the full definition, right? With old structure command true?</p>



<a name="200030896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030896">(Jun 07 2020 at 16:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">ideals</span>
<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">principal_ideal_domain</span>
<span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">localization</span>

<span class="kn">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>

<span class="n">class</span> <span class="n">discrete_valuation_ring</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="kn">extends</span> <span class="n">principal_ideal_domain</span> <span class="n">R</span><span class="o">,</span> <span class="n">local_ring</span> <span class="n">R</span><span class="bp">.</span>
</code></pre></div>



<a name="200030917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200030917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200030917">(Jun 07 2020 at 16:23)</a>:</h4>
<p>wait, that includes fields which are probably not DVRs</p>



<a name="200031031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200031031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200031031">(Jun 07 2020 at 16:25)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">discrete_valuation_ring</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
  <span class="kn">extends</span> <span class="n">principal_ideal_domain</span> <span class="n">R</span><span class="o">,</span> <span class="n">local_ring</span> <span class="n">R</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">non_field</span> <span class="o">:</span> <span class="n">local_ring</span><span class="bp">.</span><span class="n">nonunits_ideal</span> <span class="n">R</span> <span class="bp">≠</span> <span class="err">⊥</span><span class="o">)</span>
</code></pre></div>


<p>? What should the structure field be called?</p>



<a name="200031111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200031111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200031111">(Jun 07 2020 at 16:27)</a>:</h4>
<p>There's no <code>local_ring.maximal_ideal</code>?</p>



<a name="200031121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200031121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200031121">(Jun 07 2020 at 16:27)</a>:</h4>
<p>I think <code>local_ring.max_ideal</code> should be an alias for <code>nonunits_ideal</code></p>



<a name="200031129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200031129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200031129">(Jun 07 2020 at 16:27)</a>:</h4>
<p>Or the latter should simply be renamed</p>



<a name="200038016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038016">(Jun 07 2020 at 19:15)</a>:</h4>
<p>I tried to update with leanproject up, says command not found. Also, Lean is taking a really long time to check goals, and is now showing me 1001 errors. Maybe I should just reinstall Lean?</p>



<a name="200038139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038139">(Jun 07 2020 at 19:18)</a>:</h4>
<p>That shouldn't be necessary</p>



<a name="200038143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038143">(Jun 07 2020 at 19:19)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> do you have <code>elan</code> installed?</p>



<a name="200038148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038148">(Jun 07 2020 at 19:19)</a>:</h4>
<p>How did you install Lean? The recommended instructions are at this link: <a href="https://leanprover-community.github.io/get_started.html#regular-install">#install</a></p>



<a name="200038272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038272">(Jun 07 2020 at 19:22)</a>:</h4>
<p>I installed Lean a while ago, I am quite sure I followed the instructions. I don't think I have installed elan</p>



<a name="200038475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038475">(Jun 07 2020 at 19:28)</a>:</h4>
<p>The instructions include installing <code>elan</code> as one of the steps (and have for more than a year). Try going through the directions corresponding to the operating system you're using in the link above.</p>



<a name="200038494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038494">(Jun 07 2020 at 19:29)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> In a terminal, could you run the command <code>which lean</code>?</p>



<a name="200038539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038539">(Jun 07 2020 at 19:30)</a>:</h4>
<p>If it says something that ends in <code>.elan/bin/lean</code>, then you have <code>elan</code> installed</p>



<a name="200038548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038548">(Jun 07 2020 at 19:30)</a>:</h4>
<p>Yes, I do have elan installed.</p>



<a name="200038568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038568">(Jun 07 2020 at 19:31)</a>:</h4>
<p>Did you install lean when you did that project with Lambert about six months ago?</p>



<a name="200038574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038574">(Jun 07 2020 at 19:31)</a>:</h4>
<p>Yes</p>



<a name="200038587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038587">(Jun 07 2020 at 19:31)</a>:</h4>
<p>If you have <code>elan</code>, then <code>leanproject up</code> should not cause problems</p>



<a name="200038629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038629">(Jun 07 2020 at 19:32)</a>:</h4>
<p>She might not have leanproject</p>



<a name="200038639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038639">(Jun 07 2020 at 19:32)</a>:</h4>
<p>She might have followed the instructions exactly as they were before leanproject appeared</p>



<a name="200038673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038673">(Jun 07 2020 at 19:33)</a>:</h4>
<p>Aah, I see. <span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> <code>leanproject</code> is a really useful tool. It will automatically download the latest version of mathlib, with precompiled binaries. So it exactly solves the problem of lean being very slow, and all those errors, etc...</p>



<a name="200038798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200038798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200038798">(Jun 07 2020 at 19:36)</a>:</h4>
<p>I see. I will try to install it.</p>



<a name="200087007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200087007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200087007">(Jun 08 2020 at 11:56)</a>:</h4>
<p>Installing leanproject didn't work out too well. The Lean checker was taking too long and was showing 1001 errors. So I uninstalled and reinstalled Lean. But the same thing continues. Also, when I try to use leanproject, I get : </p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">WinError</span> <span class="mi">5</span><span class="o">]</span> <span class="n">Access</span> <span class="n">is</span> <span class="n">denied</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">C</span><span class="o">:</span><span class="err">\\</span><span class="n">Users</span><span class="err">\\</span><span class="n">ashvn</span><span class="err">\\</span><span class="n">my_project</span><span class="err">\\</span><span class="bp">_</span><span class="n">target</span><span class="err">\\</span><span class="n">deps</span><span class="err">\\</span><span class="n">mathlib</span><span class="err">\\</span><span class="bp">.</span><span class="n">git</span><span class="err">\\</span><span class="n">objects</span><span class="err">\\</span><span class="mi">04</span><span class="err">\\</span><span class="mi">7707</span><span class="n">d4b8ad5af2062cd42ae6ea954fa9fdda62&#39;</span>
</code></pre></div>



<a name="200087508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200087508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200087508">(Jun 08 2020 at 12:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Didn't you have similar issues at some point?</p>



<a name="200091006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200091006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200091006">(Jun 08 2020 at 12:38)</a>:</h4>
<p>What do you get if you type <code>leanproject --version</code>?</p>



<a name="200096051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200096051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200096051">(Jun 08 2020 at 13:20)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> yeah and then Patrick fixed it</p>



<a name="200119672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200119672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200119672">(Jun 08 2020 at 16:02)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">leanproject</span><span class="o">,</span> <span class="n">version</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">0</span><span class="bp">.</span><span class="mi">8</span>
</code></pre></div>



<a name="200133812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200133812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200133812">(Jun 08 2020 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> aargh</p>



<a name="200134407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134407">(Jun 08 2020 at 18:02)</a>:</h4>
<p>That's a new error, not the same as Kenny's.</p>



<a name="200134437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134437">(Jun 08 2020 at 18:03)</a>:</h4>
<p>Well, it's sort of the same error: a Windows user</p>



<a name="200134469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134469">(Jun 08 2020 at 18:03)</a>:</h4>
<p>So what's the workaround?</p>



<a name="200134493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134493">(Jun 08 2020 at 18:03)</a>:</h4>
<p>Installing Linux?</p>



<a name="200134602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134602">(Jun 08 2020 at 18:04)</a>:</h4>
<p>Is there anything which takes up fewer gigabytes of memory?</p>



<a name="200134623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200134623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200134623">(Jun 08 2020 at 18:04)</a>:</h4>
<p>Before that maybe try with current leanproject master, since I changed stuff this morning.</p>



<a name="200135408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200135408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200135408">(Jun 08 2020 at 18:10)</a>:</h4>
<p>I remember having to delete <code>_target</code> in an old Lean package on my Windows machine when I started using <code>leanproject</code> there. Maybe that will help?</p>



<a name="200136004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200136004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200136004">(Jun 08 2020 at 18:15)</a>:</h4>
<p>This is worth trying.</p>



<a name="200136304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200136304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200136304">(Jun 08 2020 at 18:17)</a>:</h4>
<p>This morning I was testing video conference with people that I'll interview for a job on Thursday. The first one couldn't hear what I was saying. After twenty minutes trying various stuff, he wrote he was using Windows. Not only he was using Windows, but he wasn't knowing the basics of using Windows. I had to write he should try rebooting his computer. And then it worked.</p>



<a name="200137310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200137310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200137310">(Jun 08 2020 at 18:27)</a>:</h4>
<p>If only one could prove theorems this way</p>



<a name="200137426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200137426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200137426">(Jun 08 2020 at 18:28)</a>:</h4>
<p>Did you ever try it?</p>



<a name="200137465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200137465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200137465">(Jun 08 2020 at 18:29)</a>:</h4>
<p>I'm not on Windows so I tend not to reboot my computer</p>



<a name="200137786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200137786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200137786">(Jun 08 2020 at 18:31)</a>:</h4>
<p>This is the kind of stories that tell me from time to time that nothing changed since I stopped using Windows in 1999.</p>



<a name="200138366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200138366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200138366">(Jun 08 2020 at 18:35)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> try removing the subdirectory <code>_target</code> from the root directory of your project, and then running <code>leanproject up</code> again</p>



<a name="200144986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200144986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200144986">(Jun 08 2020 at 19:30)</a>:</h4>
<p>It is finally working! Turns out my file was in the wrong location. Apologies for the bother!</p>



<a name="200145052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200145052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200145052">(Jun 08 2020 at 19:31)</a>:</h4>
<p>Next time you want to talk about DVRs, start a chat in #maths because not everyone looks here</p>



<a name="200145059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200145059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200145059">(Jun 08 2020 at 19:31)</a>:</h4>
<p>Congrats! It's a real pain, getting the setup right. But now you can finally start doing maths again...</p>



<a name="200145209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200145209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200145209">(Jun 08 2020 at 19:32)</a>:</h4>
<p>Thanks for all the help!</p>



<a name="200145288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200145288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200145288">(Jun 08 2020 at 19:33)</a>:</h4>
<p>If you understand what you were doing wrong and have suggestions to improve the documentation then we're  interested.</p>



<a name="200150119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200150119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200150119">(Jun 08 2020 at 20:12)</a>:</h4>
<p>The problem is back : </p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">localization</span>
</code></pre></div>


<p>gives the error</p>
<div class="codehilite"><pre><span></span><code><span class="n">invalid</span> <span class="kn">import</span><span class="o">:</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">localization</span>
<span class="n">excessive</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">detected</span> <span class="n">at</span> <span class="err">&#39;</span><span class="n">expression</span> <span class="n">traversal&#39;</span> <span class="o">(</span><span class="n">potential</span> <span class="n">solution</span><span class="o">:</span> <span class="n">increase</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">threshold</span><span class="o">)</span>
</code></pre></div>


<p>Also,  </p>
<div class="codehilite"><pre><span></span><code><span class="n">leanproject</span> <span class="n">up</span>
</code></pre></div>


<p>still does not work. This time, this is the error:</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">WinError</span> <span class="mi">5</span><span class="o">]</span> <span class="n">Access</span> <span class="n">is</span> <span class="n">denied</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">C</span><span class="o">:</span><span class="err">\\</span><span class="n">Users</span><span class="err">\\</span><span class="n">ashvn</span><span class="err">\\</span><span class="n">my_project</span><span class="err">\\</span><span class="bp">_</span><span class="n">target</span><span class="err">\\</span><span class="n">deps</span><span class="err">\\</span><span class="n">mathlib</span><span class="err">\\</span><span class="bp">.</span><span class="n">git</span><span class="err">\\</span><span class="n">objects</span><span class="err">\\</span><span class="mi">04</span><span class="err">\\</span><span class="mi">7707</span><span class="n">d4b8ad5af2062cd42ae6ea954fa9fdda62&#39;</span>
</code></pre></div>


<p>I am totally clueless now.</p>



<a name="200150432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200150432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200150432">(Jun 08 2020 at 20:15)</a>:</h4>
<p>Did you try closing VS Code and re-opening?</p>



<a name="200150518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200150518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200150518">(Jun 08 2020 at 20:16)</a>:</h4>
<p>Sometimes things run out of memory, and restarting can fix it. The leanproject error is a different issue.</p>



<a name="200150570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200150570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200150570">(Jun 08 2020 at 20:16)</a>:</h4>
<p>I have restarted it a few times.</p>



<a name="200150693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200150693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200150693">(Jun 08 2020 at 20:17)</a>:</h4>
<p>Can you send a screenshot? Did you "open folder" and open your project folder (if you just open a file, imports won't work)</p>



<a name="200151064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200151064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200151064">(Jun 08 2020 at 20:21)</a>:</h4>
<p><a href="/user_uploads/3121/1zNbF-Nim0HFELvw3Di6FNZM/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/1zNbF-Nim0HFELvw3Di6FNZM/image.png" title="image.png"><img src="/user_uploads/3121/1zNbF-Nim0HFELvw3Di6FNZM/image.png"></a></div><p>I restarted and tried again, got a different error.</p>



<a name="200151768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200151768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200151768">(Jun 08 2020 at 20:27)</a>:</h4>
<p>You don't have any errors there, you have an orange bar.</p>



<a name="200151927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200151927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200151927">(Jun 08 2020 at 20:28)</a>:</h4>
<p>The error is reporting what happened before you'd finished typing. Your problem is that you don't have a compiled mathlib. Please remove _target, upgrade <code>leanproject</code> and run <code>leanproject up</code> in the root directory of the project. And close VS Code, it's just making your computer hot.</p>



<a name="200151960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200151960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200151960">(Jun 08 2020 at 20:29)</a>:</h4>
<p>In general, I've found <code>leanproject up</code> breaks my directories. You can try editing your <code>leanpkg.toml</code> to a more recent lean and mathlib dependencies, and then running <del>leanpkg get-cache</del> <code>leanproject get-cache</code></p>



<a name="200152016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200152016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200152016">(Jun 08 2020 at 20:29)</a>:</h4>
<p>Don't do this, it's not supported and for a beginner it will make matters worse</p>



<a name="200152028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200152028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200152028">(Jun 08 2020 at 20:29)</a>:</h4>
<p>An expert can perhaps try this approach</p>



<a name="200152121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200152121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200152121">(Jun 08 2020 at 20:30)</a>:</h4>
<p>Also, I think you mean <code>leanproject get-cache</code>, not <code>leanpkg get-cache</code>.</p>



<a name="200152255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200152255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200152255">(Jun 08 2020 at 20:31)</a>:</h4>
<p><code>leanproject up</code> shouldn't break anything, and if it's breaking something then rather than working around it you should file an issue. Who knows what Yakov means but we are trying to get a new user with little experience in the command line up and running, and starting to use deprecated commands is, for this user, a step in the wrong direction. I totally appreciate that there are other ways to do this.</p>



<a name="200152587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200152587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200152587">(Jun 08 2020 at 20:34)</a>:</h4>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> if on the command line, in the directory called <code>my_project</code>, what happens if you type <code>lean --make DVR.lean</code>? Do you get an error? Does the command succeed, or just sit there doing nothing?</p>



<a name="200153390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153390">(Jun 08 2020 at 20:41)</a>:</h4>
<p>It does not show an error, I don't know if it is successful, some parsing seems to be happening</p>



<a name="200153438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153438">(Jun 08 2020 at 20:41)</a>:</h4>
<p>I think your problem is that you don't have a compiled Lean. Can you try updating <code>leanproject</code> to 0.0.9?</p>



<a name="200153488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153488">(Jun 08 2020 at 20:42)</a>:</h4>
<p>Just do what you did to install it -- it got updated today.</p>



<a name="200153607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153607">(Jun 08 2020 at 20:43)</a>:</h4>
<p>Then try, in your project, <code>rm -rf _target</code> and then <code>leanproject up</code> again. Do all of these with the command line in root directory of your project folder. You can check to see if the <code>rm</code> command worked by typing <code>ls</code> before and after -- before, <code>ls</code> should show a directory called <code>_target</code> but afterwards it should be gone</p>



<a name="200153637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153637">(Jun 08 2020 at 20:43)</a>:</h4>
<p>I don't think 0.0.9 has been released yet: <a href="https://pypi.org/project/mathlibtools/">https://pypi.org/project/mathlibtools/</a></p>



<a name="200153726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153726">(Jun 08 2020 at 20:44)</a>:</h4>
<p>Thanks Bryan. In that case, just try removing _target and seeing what happens.</p>



<a name="200153810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153810">(Jun 08 2020 at 20:45)</a>:</h4>
<p>If you get the same error about access is denied, I'll have to leave you in the hands of someone who understands Windows. <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> can you suggest anything less drastic than editing leanpkg.toml? I really want this to be a last resort because it will be hard to explain</p>



<a name="200153922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153922">(Jun 08 2020 at 20:46)</a>:</h4>
<p>I would remove the entire directory using File Explorer, and start over with a <code>leanproject get  ...</code></p>



<a name="200153972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200153972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200153972">(Jun 08 2020 at 20:47)</a>:</h4>
<p>and hope it works! What's the leanproject project name that is causing issues? I can try it on my windows machine</p>



<a name="200154092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200154092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200154092">(Jun 08 2020 at 20:48)</a>:</h4>
<p>ha ha! Ashvni this is certainly another approach! Is the project you're working on on GitHub?</p>



<a name="200154246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200154246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200154246">(Jun 08 2020 at 20:50)</a>:</h4>
<p>If not, then try <code>leanproject new dvr-project</code> and then copy stuff over. Perhaps this is the simplest solution.</p>



<a name="200154327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200154327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200154327">(Jun 08 2020 at 20:50)</a>:</h4>
<p>Output should look something like this:</p>
<div class="codehilite"><pre><span></span><code>$ leanproject new dvr_project
&gt; mkdir -p dvr_project
&gt; cd dvr_project
&gt; mkdir src
&gt; git init -q
&gt; git checkout -b lean-3.4.2
Switched to a new branch &#39;lean-3.4.2&#39;
configuring dvr_project 0.1
Adding mathlib
mathlib: cloning https://github.com/leanprover-community/mathlib to _target/deps/mathlib
&gt; git clone https://github.com/leanprover-community/mathlib _target/deps/mathlib
Cloning into &#39;_target/deps/mathlib&#39;...
remote: Enumerating objects: 290, done.
remote: Counting objects: 100% (290/290), done.
remote: Compressing objects: 100% (214/214), done.
remote: Total 51776 (delta 181), reused 130 (delta 74), pack-reused 51486
Receiving objects: 100% (51776/51776), 22.32 MiB | 1.07 MiB/s, done.
Resolving deltas: 100% (39965/39965), done.
&gt; git checkout --detach 470ccd328e15391cf328e0e006e13a06ff7d7b29    # in directory _target/deps/mathlib
HEAD is now at 470ccd32 chore(scripts): update nolints.txt (#2993)
configuring dvr_project 0.1
mathlib: trying to update _target/deps/mathlib to revision 470ccd328e15391cf328e0e006e13a06ff7d7b29
&gt; git checkout --detach 470ccd328e15391cf328e0e006e13a06ff7d7b29    # in directory _target/deps/mathlib
HEAD is now at 470ccd32 chore(scripts): update nolints.txt (#2993)
Looking for local mathlib oleans
Looking for remote mathlib oleans
Trying to download https://oleanstorage.azureedge.net/mathlib/470ccd328e15391cf328e0e006e13a06ff7d7b29.tar.xz to /home/buzzard/.mathlib/470ccd328e15391cf328e0e006e13a06ff7d7b29.tar.xz
100%|█████████████████████████████████████████████████████████████████████████████████████| 22.5M/22.5M [00:21&lt;00:00, 1.07MiB/s]
Found mathlib oleans at https://oleanstorage.azureedge.net/mathlib/
</code></pre></div>



<a name="200154337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200154337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200154337">(Jun 08 2020 at 20:50)</a>:</h4>
<p>I tried removing target, and </p>
<div class="codehilite"><pre><span></span><code><span class="n">leanproject</span> <span class="n">up</span>
</code></pre></div>


<p>worked. Currently, it shows 10 problems instead of 1001, so I assume things are working okay</p>



<a name="200154371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200154371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200154371">(Jun 08 2020 at 20:51)</a>:</h4>
<p>rofl, working OK is 0 problems :D</p>



<a name="200156480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/DVRs/near/200156480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/DVRs.html#200156480">(Jun 08 2020 at 21:11)</a>:</h4>
<p>Glad you got things working! I opened an issue: <a href="https://github.com/leanprover-community/mathlib-tools/issues/55">mathlib-tools#55</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>