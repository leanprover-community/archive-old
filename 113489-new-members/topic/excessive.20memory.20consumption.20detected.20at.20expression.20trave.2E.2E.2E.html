---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html">excessive memory consumption detected at expression trave...</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292337396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292337396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luisitoon <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292337396">(Aug 07 2022 at 20:12)</a>:</h4>
<p>Hi, all! I am Luis from Barcelona! I am just trying to run Lean 3 on Debian-based Linux (Ubuntu) with VS Code and the Lean Infoview shows me the following error: "excessive memory consumption detected at expression traversal (potential solution: increase memory consumption threshold)". Have you ever got across this error? Everything is fine but this... (I have both Windows and Ubuntu on the laptop, everything runs perfectly on Windows, but not on Ubuntu...)</p>



<a name="292337726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292337726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292337726">(Aug 07 2022 at 20:20)</a>:</h4>
<p>A message was moved here from <a class="stream-topic" data-stream-id="113488" href="/#narrow/stream/113488-general/topic/golf.20request">#general &gt; golf request</a> by <span class="user-mention silent" data-user-id="306601">Kyle Miller</span>.</p>



<a name="292337759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292337759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292337759">(Aug 07 2022 at 20:22)</a>:</h4>
<p><span class="user-mention" data-user-id="520693">@Luisitoon</span> Had you ever had Lean working before?</p>
<p>How did you install and set up Lean? Did you follow <a href="https://leanprover-community.github.io/get_started.html#regular-install">https://leanprover-community.github.io/get_started.html#regular-install</a> ?</p>



<a name="292337928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292337928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luisitoon <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292337928">(Aug 07 2022 at 20:25)</a>:</h4>
<p>Hi, Kyle! Thank you for your quick answer! As I said, on Windows works perfectly fine, but on Ubuntu, despite appearing the "Orange bars", after a while they disappear and it shows that error. I have been following the leanprover community tutorial to install Lean on Ubuntu (<a href="https://www.youtube.com/watch?v=02ff4WrW0FU&amp;ab_channel=leanprovercommunity">https://www.youtube.com/watch?v=02ff4WrW0FU&amp;ab_channel=leanprovercommunity</a>).</p>
<div class="youtube-video message_inline_image"><a data-id="02ff4WrW0FU" href="https://www.youtube.com/watch?v=02ff4WrW0FU&amp;ab_channel=leanprovercommunity"><img src="https://uploads.zulipusercontent.net/b964743489267132942933ca7c1e8f4e808cdb13/68747470733a2f2f692e7974696d672e636f6d2f76692f30326666345772573046552f64656661756c742e6a7067"></a></div>



<a name="292337986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292337986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luisitoon <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292337986">(Aug 07 2022 at 20:27)</a>:</h4>
<p>The thing is that I need to run it on Ubuntu because I want to create a Lean Game for students, such as the Natural Number Game from Kevin Buzzard, and using Ubuntu is easier than using Windows in this case :)</p>



<a name="292339383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292339383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292339383">(Aug 07 2022 at 21:00)</a>:</h4>
<p>Offtopic: Watching the video, it seems <a href="https://github.com/leanprover-community/mathlib-tools/blob/c24c0c5b5e10a0164263a2e20cba18dc964a86fe/scripts/install_debian.sh#L8">this line</a> of the install script works by accident: it is equivalent to "apt install -y code" and does not use the downloaded code.deb, but the Ubuntu repository has a "code" package</p>



<a name="292340044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292340044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292340044">(Aug 07 2022 at 21:17)</a>:</h4>
<blockquote>
<p>"excessive memory consumption detected at expression traversal (potential solution: increase memory consumption threshold)".</p>
</blockquote>
<p>In my experience this usually happens when I don't have the oleans. Did you run <code>leanproject get-cache</code>?</p>



<a name="292398677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/excessive%20memory%20consumption%20detected%20at%20expression%20trave.../near/292398677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luisitoon <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/excessive.20memory.20consumption.20detected.20at.20expression.20trave.2E.2E.2E.html#292398677">(Aug 08 2022 at 13:06)</a>:</h4>
<p>YESSS!! It finally worked!! Thank you both for your answers!! The problem was that I had to run the command "leanproject get-mathlib-cache" and then restart Lean in VS Code. If anyone tries to solve this error again, I recommend you to look at this forum as well: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Memory.20consumption.20of.20mathlib.html">https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Memory.20consumption.20of.20mathlib.html</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>