---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html">`linear_independent` and `function.injective`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233148843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233148843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233148843">(Apr 05 2021 at 08:23)</a>:</h4>
<p>Dear All,</p>
<p>I would like to use that if a singleton <code>{m : M}</code> is <code>linear_independent</code>, then multiplying <code>m</code> by a scalar is an injective function <code>R → M</code>.  While this is all that I need, I also tried looking for a more general statement about linear independence and injectivity, but I could not find it.</p>
<p>It might be available for something with <code>torsors</code> that I saw recently, but before looking for it there, I thought of asking here, since someone might simply know it straight-away.</p>
<p>Something along the lines of the lemma below would be great!</p>
<p>Thanks a lot!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra.linear_independent</span>

<span class="kd">lemma</span> <span class="n">linear_independent_singleton_iff</span> <span class="o">{</span><span class="n">R</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">{</span><span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">linear_independent</span> <span class="n">R</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">,</span> <span class="n">m</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">function.injective</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="n">h</span> <span class="bp">•</span> <span class="n">m</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>Of course, I would also expect a surjectivity statement for <code>submodule.span</code>, but I have not actually checked whether it exists or not, since I have not (yet) needed it.</p>



<a name="233149188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149188">(Apr 05 2021 at 08:28)</a>:</h4>
<p>isn't <code>fin 0</code> empty?</p>



<a name="233149220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149220">(Apr 05 2021 at 08:29)</a>:</h4>
<p>I would generalize this to necessary and sufficient conditions for <code>linear_independent R (λ i : A, m)</code></p>



<a name="233149422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149422">(Apr 05 2021 at 08:32)</a>:</h4>
<p>I guess it is not hard to show that <code>A</code> has to be a subsingleton, assuming <code>R</code> is a ring</p>



<a name="233149447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149447">(Apr 05 2021 at 08:32)</a>:</h4>
<p>If <code>A</code> is empty then it's trivially true</p>



<a name="233149468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149468">(Apr 05 2021 at 08:33)</a>:</h4>
<p>and if <code>A</code> is a singleton then you get your statement</p>



<a name="233149668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233149668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233149668">(Apr 05 2021 at 08:35)</a>:</h4>
<p>I think it is possible to have weird linear independent sets on semimodules though. For example, with <code>nat</code> as a semimodule over itself, <code>\lam _: A, 1</code> is a linearly independent set for all <code>A</code></p>



<a name="233151160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233151160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233151160">(Apr 05 2021 at 08:58)</a>:</h4>
<p>Mario, I corrected <code>fin 0</code> to <code>fin 1</code> in the lemma: thanks!</p>



<a name="233151288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233151288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233151288">(Apr 05 2021 at 09:00)</a>:</h4>
<p>Yes, I am even thinking that I would like the definition of <code>linear_independent</code> to be that the appropriate function is injective.  Then, the definition in terms of vanishing linear combination would be a consequence.  And it would be equivalent in the case in which there are opposites (or maybe even simply for cancellative stuff, if true).</p>



<a name="233151457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233151457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233151457">(Apr 05 2021 at 09:03)</a>:</h4>
<p>Ok, anyway, these proofs are likely all very easy, I was just wondering whether I should prove such injectivity statement or whether I could find it "already in the box"!</p>



<a name="233154407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154407">(Apr 05 2021 at 09:46)</a>:</h4>
<p>There are already theorems that say that <code>f.ker = bot</code> is equivalent to <code>injective f</code>, but I guess this is injectivity of the wrong function for you</p>



<a name="233154611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154611">(Apr 05 2021 at 09:49)</a>:</h4>
<p>oh, interesting, <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_independent_iff_injective_total">docs#linear_independent_iff_injective_total</a> requires a ring</p>



<a name="233154686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154686">(Apr 05 2021 at 09:50)</a>:</h4>
<p>Yes, the more I think about this, the more I would like to say that <code>linear_independent</code> "should be" defined for a <code>semiring</code> and should assert injectivity of the correct function.  If you have opposites, then injectivity is equivalent to having trivial kernel, by "subtracting".</p>



<a name="233154727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154727">(Apr 05 2021 at 09:51)</a>:</h4>
<p>Right, the theorem is false: if the semiring is <code>fin 37</code> then the theorem fails for <code>\lam _: fin 1, 1</code></p>



<a name="233154800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154800">(Apr 05 2021 at 09:52)</a>:</h4>
<p>Certainly when <code>linear_independent</code> was first written semimodules weren't a thing</p>



<a name="233154803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154803">(Apr 05 2021 at 09:52)</a>:</h4>
<p>so perhaps this is the wrong definition</p>



<a name="233154820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154820">(Apr 05 2021 at 09:53)</a>:</h4>
<p>Ok, so it seems like I can obtain what I want adding extra assumptions, but I would like to not do that and re-define the meaning of <code>linear_independent</code> to something that is equivalent to the one that is mathlib right now and is equivalent to it, assuming the existence of opposites (or possibly simply cancellativity assumptions).</p>



<a name="233154898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154898">(Apr 05 2021 at 09:54)</a>:</h4>
<p>This is all very similar to the <code>zero_divisors</code> vs <code>integral_domain</code> thing that was discussed (often by me!) on other occasions.</p>



<a name="233154933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154933">(Apr 05 2021 at 09:55)</a>:</h4>
<p>do you need semimodules? Probably the easiest thing is to just work with modules</p>



<a name="233154967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233154967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233154967">(Apr 05 2021 at 09:55)</a>:</h4>
<p>Still, I think that "[linear combination equal zero] implies [coefficients equal zero]" should really be a consequence of "[linear combinations are injective functions] implies [coefficients are equal]".</p>



<a name="233155005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155005">(Apr 05 2021 at 09:56)</a>:</h4>
<p>the whole idea of a kernel is a bit dubious on semimodules</p>



<a name="233155023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155023">(Apr 05 2021 at 09:56)</a>:</h4>
<p>the kernel definition is definitely easier to work with when doing normal linear algebra</p>



<a name="233155039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155039">(Apr 05 2021 at 09:57)</a>:</h4>
<p>No, I do not really "need" semimodules, it was just trying to work in the "mathlib spirit", of generalizing as much as I could.  In the end, I want to apply this to <code>nat</code>, though, so I can go by with stepping through <code>Z</code> and then restricting.</p>



<a name="233155111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155111">(Apr 05 2021 at 09:58)</a>:</h4>
<p>I don't think we need to really do "linear algebra" with semimodules</p>



<a name="233155131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155131">(Apr 05 2021 at 09:58)</a>:</h4>
<p>To give some more context, I would like to prove that a module over <code>nat</code> or <code>int</code> that is generated by a single element has finitely many generators.  I only need this in the case in which the module is torsion-free, but it should be true regardless of this assumption.</p>



<a name="233155140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155140">(Apr 05 2021 at 09:58)</a>:</h4>
<p>they were originally introduced so that measures and nnreal and stuff can share <code>has_scalar</code></p>



<a name="233155169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155169">(Apr 05 2021 at 09:59)</a>:</h4>
<p>but modules are already weird enough when it comes to doing proper linear algebra</p>



<a name="233155180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155180">(Apr 05 2021 at 09:59)</a>:</h4>
<p>Ok, fair enough!  I will try to work-around this: I will do linear algebra over <code>int</code> and then deduce what I want for the "<code>nat</code> inside <code>int</code>".</p>



<a name="233155195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155195">(Apr 05 2021 at 09:59)</a>:</h4>
<p>generated how?</p>



<a name="233155196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155196">(Apr 05 2021 at 09:59)</a>:</h4>
<p>I agree: linear algebra for modules is called K-theory!</p>



<a name="233155282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155282">(Apr 05 2021 at 10:00)</a>:</h4>
<p>isn't this some kind of PID thing?</p>



<a name="233155360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155360">(Apr 05 2021 at 10:01)</a>:</h4>
<p>I would like to say that, if <code>M</code> is an <code>int</code> module and <code>submodule.span \int { m } = submodule.span \int { n }</code>, then <code>m = \pm n</code>.  I did not actually write a lean statement for this, but I can if this is not clear enough.</p>



<a name="233155442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155442">(Apr 05 2021 at 10:02)</a>:</h4>
<p>I am fairly sure that I can "simply prove" this, but I was hoping that this was a simple enough statement that it was essentially already in mathlib.</p>
<p>It boils down to \pm 1 are the units in \Z.</p>



<a name="233155455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155455">(Apr 05 2021 at 10:03)</a>:</h4>
<p>that statement is in mathlib</p>



<a name="233155496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155496">(Apr 05 2021 at 10:03)</a>:</h4>
<p>(in the above statement, there is the implicit assumption that <code>M</code> has a basis.)</p>



<a name="233155502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155502">(Apr 05 2021 at 10:03)</a>:</h4>
<p>can you generalize it to "equal submodule spans imply differing by a unit"?</p>



<a name="233155514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155514">(Apr 05 2021 at 10:03)</a>:</h4>
<p>Yes, I found the statement about integer units, but it is still cumbersome, for me, to convert between the two.</p>



<a name="233155596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155596">(Apr 05 2021 at 10:04)</a>:</h4>
<p>I don't think that this theorem has a significantly shorter proof than the composition of those two statements though</p>



<a name="233155600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155600">(Apr 05 2021 at 10:04)</a>:</h4>
<p>Ah, you are right!  I have not tried looking at <code>associates</code>, that I think are in mathlib.  This would be the "differ by a unit"-like statement.</p>



<a name="233155721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155721">(Apr 05 2021 at 10:06)</a>:</h4>
<p>That's for rings though, I think you need associated elements in a module here</p>



<a name="233155740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155740">(Apr 05 2021 at 10:06)</a>:</h4>
<p>you might just say <code>m = u \bu n</code></p>



<a name="233155778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155778">(Apr 05 2021 at 10:07)</a>:</h4>
<p>Ah, I have not worked with <code>associates</code> and, whenever I saw it, I assumed that it was for modules.  Ok, maybe I will stick to the statement about units.</p>



<a name="233155890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155890">(Apr 05 2021 at 10:08)</a>:</h4>
<p>Actually I think it's not too hard: <code>submodule.span R {m} = {r | r \bu m}</code>, so <code>m = r1 * n</code> and <code>n = r2 * m</code>. The tricky part is to cancel <code>(r1 * r2) * m = m -&gt; r1 * r2 = 1</code></p>



<a name="233155894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155894">(Apr 05 2021 at 10:08)</a>:</h4>
<p>ok, so here is a formal-looking, though not tested, statement:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">generators_cyclic_is_basis_plus_minus</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">M</span><span class="o">}</span> <span class="o">(</span><span class="n">bH</span> <span class="o">:</span> <span class="n">is_basis</span> <span class="n">ℤ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">,</span> <span class="n">g</span><span class="o">))</span> <span class="o">:</span>
  <span class="o">{</span> <span class="n">c</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">|</span> <span class="n">is_basis</span> <span class="n">ℤ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">,</span> <span class="n">c</span><span class="o">)</span> <span class="o">}</span> <span class="bp">=</span> <span class="o">{</span> <span class="n">g</span><span class="o">,</span> <span class="bp">-</span> <span class="n">g</span> <span class="o">}</span> <span class="o">:=</span>
</code></pre></div>



<a name="233155957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233155957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233155957">(Apr 05 2021 at 10:09)</a>:</h4>
<p>I have not yet made the convertion to <code>\smul</code>.</p>



<a name="233156018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156018">(Apr 05 2021 at 10:10)</a>:</h4>
<p>there's a lemma about that</p>



<a name="233156058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156058">(Apr 05 2021 at 10:10)</a>:</h4>
<p>Indeed, Mario, this was my beginning:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">refine</span> <span class="n">set.subset.antisymm</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">refine</span> <span class="bp">λ</span> <span class="n">c</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">is_basis</span> <span class="n">ℤ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">),</span> <span class="n">c</span><span class="o">)),</span> <span class="n">_</span><span class="o">,</span>
<span class="c1">--    obtain F := generators_cyclic_is_basis_plus_minus bH c,</span>
    <span class="n">rcases</span> <span class="n">submodule_generator</span> <span class="n">bH</span> <span class="n">c</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span>
    <span class="n">rcases</span> <span class="n">submodule_generator</span> <span class="n">hc</span> <span class="n">g</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">n1</span><span class="o">,</span> <span class="n">hn1</span><span class="o">⟩,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">one_smul</span> <span class="n">ℤ</span> <span class="n">g</span><span class="o">]</span> <span class="n">at</span> <span class="n">hn1</span> <span class="o">{</span> <span class="n">occs</span> <span class="o">:=</span> <span class="n">occurrences.pos</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">},</span>
    <span class="n">rw</span> <span class="n">smul_smul</span> <span class="n">at</span> <span class="n">hn1</span> <span class="o">},</span>
</code></pre></div>



<a name="233156065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156065">(Apr 05 2021 at 10:10)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.mem_span_singleton">docs#submodule.mem_span_singleton</a></p>



<a name="233156180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156180">(Apr 05 2021 at 10:12)</a>:</h4>
<p>Ok, this is comforting: at least it seems that I am finding the right lemmas.  I had proven <code>submodule_generator</code> as a temporary helper lemma and it is essentially <code>submodule.mem_span_singleton</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">submodule_generator</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">M</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">is_basis</span> <span class="n">ℤ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">1</span><span class="o">,</span> <span class="n">g</span><span class="o">))</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">,</span> <span class="n">n</span> <span class="bp">•</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">m</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">submodule.mem_span_singleton.mp</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="bp">@</span><span class="n">set.range_const</span> <span class="n">M</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">1</span><span class="o">),</span> <span class="n">h.2</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">submodule.mem_top</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="233156296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156296">(Apr 05 2021 at 10:14)</a>:</h4>
<p>I'm feeling better about myself, though.  It seems that</p>
<ul>
<li>What I want may not be already in mathlib,</li>
<li>My approach to proving it is close to a "natural" proof along the lines of what is in mathlib!</li>
</ul>



<a name="233156333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156333">(Apr 05 2021 at 10:15)</a>:</h4>
<p>Of course, 10 lines of my proof would probably convert to a couple of symbols from Mario, but that is ok!</p>



<a name="233156477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%60linear_independent%60%20and%20%60function.injective%60/near/233156477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.60linear_independent.60.20and.20.60function.2Einjective.60.html#233156477">(Apr 05 2021 at 10:17)</a>:</h4>
<p>Anyway, Mario, thank you very much for this discussion: I feel more motivated now!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>