---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/slow.20proof.20state.20update.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html">slow proof state update</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272146604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272146604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272146604">(Feb 16 2022 at 17:15)</a>:</h4>
<p>Sometimes I get lean/vscode into a state where it updates the state view not just very slowly, but it seems it doesn’t “skip ahead”, and instead shows the state after each character I inputted.</p>
<p>For example, while I type a keyword, I can see <code>unknown identifier 'r'</code> and then <code>unknown identifier 're'</code> etc. for each character that I typed, although I have long finished typing <code>refine</code>.</p>
<p>But only sometimes – usually it only processes the latest state, and I have no idea yet what’s causing this. Do others observe this as well?</p>



<a name="272147022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272147022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272147022">(Feb 16 2022 at 17:18)</a>:</h4>
<p>Happens to me as well. I assume it's a memory leak. The only thing that seems to solve it is restart the Lean server.</p>



<a name="272147075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272147075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272147075">(Feb 16 2022 at 17:18)</a>:</h4>
<p>Yeah this happens to me fairly often to me, would be a nice issue to track down once and for all, but maybe another one of those things that we live with as it will likely not be the same in lean 4.<br>
Usually this happens when editing a file deep in the import heierachy in mathlib.<br>
My solution is to have a keybind to restart lean, which normally is faster than waiting for it to finish typing one character at a time.</p>



<a name="272147325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272147325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272147325">(Feb 16 2022 at 17:20)</a>:</h4>
<p><code>Ctrl + &lt; + P + Enter</code> on VScode</p>



<a name="272147742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272147742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272147742">(Feb 16 2022 at 17:22)</a>:</h4>
<p>It happens for me mostly when I'm editing a deep file, when I also have a lot of other tabs open with other files that depend on it. If I don't have those depend files open, I'm fine</p>



<a name="272147880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272147880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272147880">(Feb 16 2022 at 17:23)</a>:</h4>
<p>I do restart lean from time to time and know the keybinding, but so far it didn’t fix this issue reliably, I thought. <br>
Deep file with other tabs open might be it, but shouln’t “check visible file” or  “check visible lines” prevent that? (but that may just be how it should be, not how it is)</p>



<a name="272148028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148028">(Feb 16 2022 at 17:24)</a>:</h4>
<p>"how it should, not how it is" is my understanding too.</p>



<a name="272148136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148136">(Feb 16 2022 at 17:25)</a>:</h4>
<p>You can also assign a specific keybind to restart lean though, which is a bit more convenient if the computer response time is lagging, I use cmd+shift+L .<br>
Indeed this is not how it should be, but a convenient way to reproduce this issue, and a lot of motivation for someone who knows leans internals well are prerequisites for fixing it!</p>



<a name="272148407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148407">(Feb 16 2022 at 17:26)</a>:</h4>
<p>as far as I know, Yakov's experience is mine too</p>



<a name="272148484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148484">(Feb 16 2022 at 17:27)</a>:</h4>
<p>a well placed <code>#exit</code> after and <code>.</code> before mitigates it, but isn't great. another thing I do is close all other files and restart, but this isn't ideal</p>



<a name="272148657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148657">(Feb 16 2022 at 17:28)</a>:</h4>
<p>it's kinda hard to diagnose, because it's to do with performance - my new laptop gets it a lot less than my 10 year old desktop, but it still can sometimes happen</p>



<a name="272148961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/slow%20proof%20state%20update/near/272148961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/slow.20proof.20state.20update.html#272148961">(Feb 16 2022 at 17:30)</a>:</h4>
<p>FWIW I see this in neovim occasionally, so I think it's something totally unrelated to VSCode specifically, it's on the Lean server side.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>