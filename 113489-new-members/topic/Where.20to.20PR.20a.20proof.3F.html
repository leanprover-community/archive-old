---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html">Where to PR a proof?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264202991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264202991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264202991">(Dec 08 2021 at 18:58)</a>:</h4>
<p>I've PR'ed a proof (<a href="https://github.com/leanprover-community/mathlib/issues/10624">#10624</a>) of a generalisation of <code>prime.dvd_mul</code> for the product of a <code>list ℕ</code>.  I'm wondering if it would be useful to also PR my proofs of the corresponding statements for <code>finset</code> and <code>finsupp</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finset.dvd_prod</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">pp</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p</span> <span class="bp">∣</span> <span class="n">S.prod</span> <span class="n">g</span> <span class="bp">↔</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">),</span> <span class="n">p</span> <span class="bp">∣</span> <span class="n">g</span> <span class="n">a</span> <span class="o">:=</span>
</code></pre></div>
<p>and</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finsupp.dvd_prod</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span><span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→₀</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">pp</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">∣</span> <span class="n">f.prod</span> <span class="n">pow</span><span class="o">)</span> <span class="bp">↔</span> <span class="bp">∃</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">f.support</span><span class="o">,</span> <span class="n">p</span> <span class="bp">∣</span> <span class="n">a</span><span class="bp">^</span><span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="264203214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203214">(Dec 08 2021 at 18:59)</a>:</h4>
<p>If so, where should these proofs go?   For example, no file in <code>data/finset</code> seems to know about <code>prime</code>, while <code>data/nat/prime</code> doesn't know about <code>finset.prod</code>.</p>



<a name="264203307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203307">(Dec 08 2021 at 18:59)</a>:</h4>
<p>those look like <code>algebra.big_operators</code></p>



<a name="264203402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203402">(Dec 08 2021 at 19:00)</a>:</h4>
<p>Maybe <code>algebra/big_operators/prime.lean</code>?</p>



<a name="264203451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203451">(Dec 08 2021 at 19:00)</a>:</h4>
<p>If it doesn't exist yet, feel free to start it</p>



<a name="264203642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203642">(Dec 08 2021 at 19:01)</a>:</h4>
<p>It doesn't, so I shall.  Thanks very much.</p>



<a name="264203863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264203863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264203863">(Dec 08 2021 at 19:03)</a>:</h4>
<p>More generally, if you have a proof that involves definitions/theorems <code>X</code> and <code>Y</code>, is there a general method to determine which files know about both of them?</p>



<a name="264204420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264204420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264204420">(Dec 08 2021 at 19:07)</a>:</h4>
<p>You might find this python script helpful.<br>
<a href="#narrow/stream/113488-general/topic/Finding.20homes.20for.20lemmas/near/260255746">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Finding.20homes.20for.20lemmas/near/260255746</a></p>



<a name="264204966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264204966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264204966">(Dec 08 2021 at 19:10)</a>:</h4>
<p>for <code>finsupp.dvd_prod</code>, can't it be <code>p \| a</code>? also you can probably generalize this to some level of <code>monoid</code></p>



<a name="264205834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264205834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264205834">(Dec 08 2021 at 19:17)</a>:</h4>
<p>Well, there is always the <code>nat.prime</code> vs <code>prime</code> issue. I guess these lemmas should be called something like <code>nat.prime.dvd_prod_iff</code></p>



<a name="264211258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264211258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264211258">(Dec 08 2021 at 19:56)</a>:</h4>
<p>Thanks all for your help.  PR'ed as <a href="https://github.com/leanprover-community/mathlib/issues/10675">#10675</a></p>



<a name="264212069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264212069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264212069">(Dec 08 2021 at 20:01)</a>:</h4>
<p>I wasn't sure how the various <code>nat</code>, <code>prime</code> and <code>finset</code>/<code>finsupp</code> prefixes should stack up.  From the root namespace is there a standard order in which these should go?  That is, should these be <code>nat.prime.finset.dvd_prod_iff</code> or  <code>finset.nat.prime.dvd_prod_iff</code> or something else?</p>



<a name="264212276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264212276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264212276">(Dec 08 2021 at 20:03)</a>:</h4>
<p>(deleted)</p>



<a name="264212792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264212792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264212792">(Dec 08 2021 at 20:07)</a>:</h4>
<p>You shouldn't literally stack namespaces</p>



<a name="264212975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264212975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264212975">(Dec 08 2021 at 20:08)</a>:</h4>
<p>No, I've put the two lemmas in separate namespaces <code>finset</code> and <code>finsupp</code>.</p>



<a name="264213037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264213037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264213037">(Dec 08 2021 at 20:09)</a>:</h4>
<p>Within these, should each lemma then be called <code>nat.prime.dvd_prod_iff</code>?</p>



<a name="264213044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264213044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264213044">(Dec 08 2021 at 20:09)</a>:</h4>
<p>In that case, you have an hypothesis of type <code>nat.prime</code>, so you should start with <code>nat.prime</code> for dot notation to work. Then it depends on the specific convention. Here I would do something like <code>nat.prime.dvd_finset_prod_iff</code></p>



<a name="264213188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264213188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264213188">(Dec 08 2021 at 20:10)</a>:</h4>
<p>Yeah, that's precisely what I don't want you to do. You (usually) shouldn't have something like <code>nat.prime.finset</code> or <code>finset.nat.prime</code>.</p>



<a name="264213384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Where%20to%20PR%20a%20proof%3F/near/264213384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Where.20to.20PR.20a.20proof.3F.html#264213384">(Dec 08 2021 at 20:11)</a>:</h4>
<p>Ok, I'll get rid of the namespaces and rename them as you suggested.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>