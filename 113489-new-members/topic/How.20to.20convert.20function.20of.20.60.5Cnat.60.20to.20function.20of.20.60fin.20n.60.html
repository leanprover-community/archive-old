---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html">How to convert function of `\nat` to function of `fin n`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267364700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267364700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeffrey Li <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267364700">(Jan 09 2022 at 16:10)</a>:</h4>
<p>Any function of <code>\nat</code> can be resolved to a function of <code>fin n</code> because <code>fin n \subset \nat</code>, but when i try to pass a function <code>\nat \to A</code> as an argument that is typed as <code>fin n \to A</code>, it gives me a type mismatch error. Can I do the conversion implicitly or do i have to explicitly make a new function to satisfy the <code>fin n \to A</code> type constraint? Thanks</p>



<a name="267365620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267365620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267365620">(Jan 09 2022 at 16:33)</a>:</h4>
<p>If you have a function <code>f : fin 3 -&gt; A</code>, what do you want <code>f 5</code> to be?</p>



<a name="267365933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267365933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeffrey Li <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267365933">(Jan 09 2022 at 16:42)</a>:</h4>
<p>Sorry I think you misunderstand, I have a function <code>f : \nat \to A</code>, and I want to pass it as an argument of type <code>fin n \to A</code></p>



<a name="267366037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267366037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeffrey Li <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267366037">(Jan 09 2022 at 16:44)</a>:</h4>
<p>Also how I produce the proof that allows me to compare <code>(fin n)</code> with <code>ℕ</code>? Right now if I have the variable <code>i : fin n</code>, I can't do the comparison <code>i == 1</code>, because I believe I need the following proof</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">eq_decidable_fin_n</span><span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">i</span> <span class="bp">==</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>But I'm not sure how to produce that proof. Thanks</p>



<a name="267366516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267366516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267366516">(Jan 09 2022 at 16:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="462368">Jeffrey Li</span> <a href="#narrow/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60/near/267364700">said</a>:</p>
<blockquote>
<p><code>fin n \subset \nat</code></p>
</blockquote>
<p>This isn't how it works in Lean--<code>fin n</code> and <code>nat</code> are two different types, and a type can't be a subset of another one. Rather, there is a coercion from <code>fin n</code> to <code>nat</code>. This means that if you have <code>x : fin n</code> and you write <code>x : ℕ</code> then Lean will notice that it doesn't type check and replace <code>x</code> by a coercion <code>↑x</code>, which elsewhere was defined to mean <code>x.val</code> or whatever.</p>



<a name="267366577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267366577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267366577">(Jan 09 2022 at 16:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="462368">Jeffrey Li</span> <a href="#narrow/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60/near/267364700">said</a>:</p>
<blockquote>
<p>Can I do the conversion implicitly or do i have to explicitly make a new function to satisfy the <code>fin n \to A</code> type constraint?</p>
</blockquote>
<p>You will have to write something like <code>λ x, f x</code> (which really means <code>λ x, f (↑x)</code>) instead of just <code>f</code>.</p>



<a name="267366588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267366588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267366588">(Jan 09 2022 at 16:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="462368">Jeffrey Li</span> <a href="#narrow/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60/near/267366037">said</a>:</p>
<blockquote>
<p>Also how I produce the proof that allows me to compare <code>(fin n)</code> with <code>ℕ</code>? Right now if I have the variable <code>i : fin n</code>, I can't do the comparison <code>i == 1</code>, because I believe I need the following proof</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">eq_decidable_fin_n</span><span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">)(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">i</span> <span class="bp">==</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>But I'm not sure how to produce that proof. Thanks</p>
</blockquote>
<p>This is not possible. Basically, don't use <code>==</code>.</p>



<a name="267366594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267366594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267366594">(Jan 09 2022 at 16:56)</a>:</h4>
<p>Oh sorry, it actually is possible but <code>i == k</code> doesn't mean what you want anyways.</p>



<a name="267367262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/How%20to%20convert%20function%20of%20%60%5Cnat%60%20to%20function%20of%20%60fin%20n%60/near/267367262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeffrey Li <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60.html#267367262">(Jan 09 2022 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60/near/267366516">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="462368">Jeffrey Li</span> <a href="#narrow/stream/113489-new-members/topic/How.20to.20convert.20function.20of.20.60.5Cnat.60.20to.20function.20of.20.60fin.20n.60/near/267364700">said</a>:</p>
<blockquote>
<p><code>fin n \subset \nat</code></p>
</blockquote>
<p>This isn't how it works in Lean--<code>fin n</code> and <code>nat</code> are two different types, and a type can't be a subset of another one. Rather, there is a coercion from <code>fin n</code> to <code>nat</code>. This means that if you have <code>x : fin n</code> and you write <code>x : ℕ</code> then Lean will notice that it doesn't type check and replace <code>x</code> by a coercion <code>↑x</code>, which elsewhere was defined to mean <code>x.val</code> or whatever.</p>
</blockquote>
<p>Oh thank you so much, using <code>x.val</code> makes everything work. Still new to lean so trying to figure out how the type / subtype system works.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>