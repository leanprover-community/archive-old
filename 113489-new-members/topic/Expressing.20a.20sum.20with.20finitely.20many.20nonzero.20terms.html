---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html">Expressing a sum with finitely many nonzero terms</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202589859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202589859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202589859">(Jul 01 2020 at 16:20)</a>:</h4>
<p>I'm trying to state the following in lean:</p>
<div class="codehilite"><pre><span></span><code><span class="n">every</span> <span class="n">A</span> <span class="err">∈</span> <span class="n">G</span> <span class="n">may</span> <span class="n">be</span> <span class="n">expressed</span> <span class="n">one</span> <span class="n">and</span> <span class="n">only</span> <span class="n">one</span> <span class="n">way</span> <span class="n">as</span> <span class="n">A</span> <span class="bp">=</span> <span class="err">∑</span><span class="bp">_</span><span class="n">r</span> <span class="n">Ar</span> <span class="n">where</span> <span class="n">Ar</span> <span class="err">∈</span> <span class="n">Gr</span> <span class="n">and</span> <span class="n">all</span> <span class="n">but</span> <span class="n">finitely</span> <span class="n">many</span> <span class="n">Ar</span> <span class="n">vanish</span><span class="bp">.</span>
</code></pre></div>


<p>I've attempted to write that as </p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">graded_algebra_iso</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
  <span class="o">[</span><span class="n">graded_algebra_components</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">A</span> <span class="mi">0</span><span class="o">)</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">to_fun</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">{</span><span class="n">r</span><span class="o">},</span> <span class="n">A</span> <span class="n">r</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">from_fun</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">r</span><span class="o">,</span> <span class="n">G</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="n">A</span> <span class="n">r</span><span class="o">)</span>
<span class="o">(</span><span class="n">to_inj</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">r</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">v</span><span class="o">:</span> <span class="n">A</span> <span class="n">r</span><span class="o">),</span> <span class="n">v</span> <span class="bp">=</span> <span class="n">from_fun</span> <span class="n">r</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">v</span><span class="o">))</span> <span class="c1">-- to_fun is injective</span>
<span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∑</span> <span class="n">r</span> <span class="k">in</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">to_fun</span> <span class="o">(</span><span class="n">from_fun</span> <span class="n">r</span> <span class="n">g</span><span class="o">)))</span> <span class="c1">-- the domain of `from_fun r` covers all of `G`</span>
</code></pre></div>


<p>but the <code>∑ </code> is unhappy because <code>ℕ</code> is not a <code>finset</code>. I think the issue is my definition does not account for the " all but finitely many Ar vanish" part.</p>



<a name="202593715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202593715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202593715">(Jul 01 2020 at 16:50)</a>:</h4>
<p>Solved!</p>
<div class="codehilite"><pre><span></span><code><span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">rs</span> <span class="o">:</span> <span class="n">finset</span> <span class="bp">ℕ</span><span class="o">),</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">r</span> <span class="err">∉</span> <span class="n">rs</span><span class="o">,</span> <span class="n">from_fun</span> <span class="n">r</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">∧</span>
  <span class="o">(</span><span class="n">g</span> <span class="bp">=</span> <span class="err">∑</span> <span class="n">r</span> <span class="k">in</span> <span class="n">rs</span><span class="o">,</span> <span class="n">to_fun</span> <span class="o">(</span><span class="n">from_fun</span> <span class="n">r</span> <span class="n">g</span><span class="o">))</span>
</code></pre></div>



<a name="202594016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202594016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202594016">(Jul 01 2020 at 16:52)</a>:</h4>
<p>We also have <a href="https://leanprover-community.github.io/mathlib_docs/data/finsupp.html#top"><code>finsupp</code>s</a>, which might be useful here.</p>



<a name="202594664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202594664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202594664">(Jul 01 2020 at 16:57)</a>:</h4>
<p>It's not immediately clear to me how to apply that</p>



<a name="202595806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202595806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202595806">(Jul 01 2020 at 17:06)</a>:</h4>
<p>Yes, it will definitely take some wrangling. Maybe looking at how it's used in <code>linear_algebra.basis</code> will help, particularly e.g. <a href="https://leanprover-community.github.io/mathlib_docs/find/is_basis.repr">docs#is_basis.repr</a> and other theorems around there.</p>



<a name="202652373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652373">(Jul 02 2020 at 05:49)</a>:</h4>
<p>Defining an infinite-dimensional geometric algebra is that it is essential to the treatment of manifolds in Chapter 4 of Clifford Algebra to Geometric Calculus.</p>



<a name="202652441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652441">(Jul 02 2020 at 05:50)</a>:</h4>
<p>Is there code to do this for infinitely many Ar? We'll eventually need it.</p>



<a name="202652680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652680">(Jul 02 2020 at 05:55)</a>:</h4>
<p>As David Sheets is working on this in Agda.</p>



<a name="202652763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652763">(Jul 02 2020 at 05:56)</a>:</h4>
<p>It's better if we can assume nothing of the finiteness of the dimension at the outset and have a finite version later.</p>



<a name="202652770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652770">(Jul 02 2020 at 05:57)</a>:</h4>
<p>linear algebra in mathlib seems to be doing exactly this.</p>



<a name="202652776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652776">(Jul 02 2020 at 05:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="296911">Utensil Song</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202652441">said</a>:</p>
<blockquote>
<p>Is there code to do this for infinitely many Ar? We'll eventually need it.</p>
</blockquote>
<p>What is Ar?</p>



<a name="202652840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202652840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202652840">(Jul 02 2020 at 05:58)</a>:</h4>
<p><code>A r</code> as in <code>(A : ℕ → Type u)</code></p>



<a name="202653006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653006">(Jul 02 2020 at 06:02)</a>:</h4>
<p>It doesn't matter what it is concretely here. The question is only about summing (multiplying) infinitely with the familiar <code>big_operators</code> in Lean.</p>



<a name="202653141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653141">(Jul 02 2020 at 06:05)</a>:</h4>
<p>Aha, as opposed to <code>A : (fin n) → Type</code>?</p>



<a name="202653144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653144">(Jul 02 2020 at 06:05)</a>:</h4>
<p>Yes</p>



<a name="202653183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653183">(Jul 02 2020 at 06:06)</a>:</h4>
<p>I think it's nontrivial to allow for both <code>nat</code> and <code>fin n</code> as indexing types. But it can be done.</p>



<a name="202653215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653215">(Jul 02 2020 at 06:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Would it be safe to take <code>A : nat → Type</code> as a field of a structure, and an axiom <code>\for k, n &lt; k → A k = empty</code>?</p>



<a name="202653233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653233">(Jul 02 2020 at 06:07)</a>:</h4>
<p>type equality bad</p>



<a name="202653278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653278">(Jul 02 2020 at 06:08)</a>:</h4>
<p>Yup... guessed that...</p>



<a name="202653279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653279">(Jul 02 2020 at 06:08)</a>:</h4>
<p><code>\for k, n &lt; k, \not nonempty (A k)</code> is better</p>



<a name="202653288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653288">(Jul 02 2020 at 06:08)</a>:</h4>
<p>or <code>A k -&gt; false</code> if you prefer</p>



<a name="202653308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653308">(Jul 02 2020 at 06:09)</a>:</h4>
<p><span class="user-mention" data-user-id="296911">@Utensil Song</span> And now you could do this for <code>n : enat</code>, and then you would have merged <code>nat</code> and <code>fin n</code>.</p>



<a name="202653366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653366">(Jul 02 2020 at 06:10)</a>:</h4>
<p>if you use <code>nat</code>, then why is the sum finite?</p>



<a name="202653478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653478">(Jul 02 2020 at 06:13)</a>:</h4>
<p>I guess because you are looking at the direct sum of the <code>A i</code></p>



<a name="202653667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653667">(Jul 02 2020 at 06:17)</a>:</h4>
<p>One way to write <code>from_iso</code> using <code>dfinsupp</code> is</p>
<div class="codehilite"><pre><span></span><code><span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">Π</span><span class="err">₀</span> <span class="n">r</span><span class="o">,</span> <span class="n">A</span> <span class="n">r</span><span class="o">),</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">r</span><span class="o">,</span> <span class="n">f</span> <span class="n">r</span> <span class="bp">=</span> <span class="n">from_fun</span> <span class="n">r</span> <span class="n">g</span><span class="o">)</span> <span class="bp">∧</span>
  <span class="o">(</span><span class="n">g</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">to_fun</span><span class="o">))</span>
</code></pre></div>



<a name="202653821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653821">(Jul 02 2020 at 06:20)</a>:</h4>
<p>alternatively you can bake this into <code>from_fun</code> by reordering the arguments to</p>
<div class="codehilite"><pre><span></span><code><span class="o">(</span><span class="n">from_fun</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="o">(</span><span class="bp">Π</span><span class="err">₀</span> <span class="n">r</span><span class="o">,</span> <span class="n">A</span> <span class="n">r</span><span class="o">))</span>
</code></pre></div>



<a name="202653903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202653903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202653903">(Jul 02 2020 at 06:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">graded_algebra_iso</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>
  <span class="o">[</span><span class="n">graded_algebra_components</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">A</span> <span class="mi">0</span><span class="o">)</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">to_fun</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">{</span><span class="n">r</span><span class="o">},</span> <span class="n">A</span> <span class="n">r</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">from_fun</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="o">(</span><span class="bp">Π</span><span class="err">₀</span> <span class="n">r</span><span class="o">,</span> <span class="n">A</span> <span class="n">r</span><span class="o">))</span>
<span class="o">(</span><span class="n">to_inj</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">r</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">v</span><span class="o">:</span> <span class="n">A</span> <span class="n">r</span><span class="o">),</span> <span class="n">v</span> <span class="bp">=</span> <span class="n">from_fun</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">v</span><span class="o">)</span> <span class="n">r</span><span class="o">)</span>
<span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="n">g</span> <span class="bp">=</span> <span class="o">(</span><span class="n">from_fun</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="n">to_fun</span><span class="o">))</span>
</code></pre></div>


<p>(untested)</p>



<a name="202654489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202654489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202654489">(Jul 02 2020 at 06:34)</a>:</h4>
<p>It's much more readable now!</p>
<p>To be sure, <code>Π₀ r</code> allows optional <code>fin r</code> and it can also work like the ordinary <code>Π r</code> which assumes no finiteness?</p>



<a name="202654627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202654627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202654627">(Jul 02 2020 at 06:37)</a>:</h4>
<p>I'm confused by what you mean/want.</p>



<a name="202655069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202655069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202655069">(Jul 02 2020 at 06:46)</a>:</h4>
<p>I was thinking about an approach that we first do everything about <code>ℕ</code> assuming no finiteness, then do things about <code>fin n</code> assuming the finiteness. But the <code>enat</code> and <code>Π₀</code> gave me the impressions that I can merge two steps into one but I can't see how lemmas only apply to the finite version interact with the infinite version (could be more general (so every lemma in the infinite version apply to the finite version)or could have its own special lemmas).</p>
<p>But I won't know whether this impression is correct until I try some proofs with the defs with <code>enat</code> and <code>Π₀</code>. (I'm guessing I'm wrong)</p>



<a name="202655275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202655275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202655275">(Jul 02 2020 at 06:50)</a>:</h4>
<p>I think you can merge the definitions.</p>



<a name="202655295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202655295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202655295">(Jul 02 2020 at 06:50)</a>:</h4>
<p>Q: what is this number called, the maximal <code>r</code> such that <code>A r</code> is non-trivial?</p>



<a name="202655982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202655982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202655982">(Jul 02 2020 at 07:01)</a>:</h4>
<p>with this approach, you only ever use <code>nat</code>, and the <code>Π₀</code> ensures that the <code>A r</code> are eventually trivial</p>



<a name="202656082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656082">(Jul 02 2020 at 07:02)</a>:</h4>
<p>I don't get what's the triviality being talked about here.</p>



<a name="202656093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656093">(Jul 02 2020 at 07:02)</a>:</h4>
<p><code>A r = {0}</code></p>



<a name="202656241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656241">(Jul 02 2020 at 07:04)</a>:</h4>
<p>I see. But it can also be non-trivial even for <code>A \inf</code>, right?</p>



<a name="202656249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656249">(Jul 02 2020 at 07:04)</a>:</h4>
<p>Actually I think the version I wrote allows for this to not happen</p>



<a name="202656295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656295">(Jul 02 2020 at 07:05)</a>:</h4>
<p>there is no <code>A inf</code> in the version I wrote, or the version you wrote at the beginning</p>



<a name="202656396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656396">(Jul 02 2020 at 07:06)</a>:</h4>
<p><span class="user-mention" data-user-id="296911">@Utensil Song</span> We are mixing <code>A : nat → Type</code> and <code>n : enat</code>.</p>



<a name="202656405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656405">(Jul 02 2020 at 07:06)</a>:</h4>
<p>I think Johan thinks that these conditions imply that there are only finitely many nonzero <code>A r</code> sets, but the finiteness is different for each <code>g : G</code> so I think that's not necessarily the case</p>



<a name="202656424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656424">(Jul 02 2020 at 07:07)</a>:</h4>
<p>I could be wrong though, this is an unusual definition that I don't know much about</p>



<a name="202656573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656573">(Jul 02 2020 at 07:09)</a>:</h4>
<p>No, there can be infinitely many nonzero <code>A r</code>, if I understand Utensil correctly</p>



<a name="202656640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656640">(Jul 02 2020 at 07:10)</a>:</h4>
<p>Yes, there can be infinitely many nonzero <code>A r</code></p>



<a name="202656644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656644">(Jul 02 2020 at 07:10)</a>:</h4>
<p><span class="user-mention" data-user-id="296911">@Utensil Song</span> Is there a name for the maximal degree (possibly inf) for which <code>A r</code> is nonzero?</p>



<a name="202656806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656806">(Jul 02 2020 at 07:13)</a>:</h4>
<p>I think the original text description given by Eric at the start of this thread doesn't match the statement of <code>to_inj</code></p>



<a name="202656886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202656886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202656886">(Jul 02 2020 at 07:14)</a>:</h4>
<p>I think the uniqueness should be something like </p>
<div class="codehilite"><pre><span></span><code><span class="o">(</span><span class="n">to_fun</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">{</span><span class="n">r</span><span class="o">},</span> <span class="n">A</span> <span class="n">r</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">from_fun</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="o">(</span><span class="bp">Π</span><span class="err">₀</span> <span class="n">r</span><span class="o">,</span> <span class="n">A</span> <span class="n">r</span><span class="o">))</span>
<span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">f</span><span class="o">,</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">from_fun</span> <span class="n">g</span> <span class="bp">↔</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="n">to_fun</span><span class="o">))</span>
</code></pre></div>



<a name="202657281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202657281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202657281">(Jul 02 2020 at 07:19)</a>:</h4>
<p>That is also enough to prove that <code>\all r (v : A r), from_fun (to_fun v) = single r v</code></p>



<a name="202657301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202657301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202657301">(Jul 02 2020 at 07:19)</a>:</h4>
<p>also the names of <code>from_fun</code> and <code>to_fun</code> seem to be swapped</p>



<a name="202658094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202658094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202658094">(Jul 02 2020 at 07:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202656644">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="296911">Utensil Song</span> Is there a name for the maximal degree (possibly inf) for which <code>A r</code> is nonzero?</p>
</blockquote>
<p>I don't see explicitly naming it in literature. But it's equal to the dimension of the vector space that Clifford Algebra is extending. If one begins with a real countably infinite-dimensional vector space and assumes sufficient structure on this space, a Clifford algebra will be generated, the same for the finite-dimensional case. The infinite-dimensional Clifford algebra contains all finite-dimensional Clifford algebras.</p>



<a name="202658812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202658812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202658812">(Jul 02 2020 at 07:40)</a>:</h4>
<p>So in the infinite dimensional case you don't want indexing by <code>nat</code> by some ordinal or something?</p>



<a name="202659186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202659186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202659186">(Jul 02 2020 at 07:46)</a>:</h4>
<p>Is enat enough? How about <code>fin' n</code> for <code>n : enat</code>?</p>



<a name="202659352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202659352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202659352">(Jul 02 2020 at 07:50)</a>:</h4>
<p>The <code>dfinsupp</code> definition doesn't require anything for the type of <code>r</code> except that it have a 0 so that <code>A 0</code> makes sense</p>



<a name="202659403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202659403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202659403">(Jul 02 2020 at 07:50)</a>:</h4>
<p>in fact <code>A 0</code> could just be some other ring here</p>



<a name="202660427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202660427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202660427">(Jul 02 2020 at 08:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202658812">said</a>:</p>
<blockquote>
<p>So in the infinite dimensional case you don't want indexing by <code>nat</code> by some ordinal or something?</p>
</blockquote>
<p>In the relevant proofs, it seems it's always lazily and relatively indexed. Like assuming <code>A p</code> and <code>A q</code> then later there would be <code>A p+q</code>in the proof.</p>



<a name="202660612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202660612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202660612">(Jul 02 2020 at 08:09)</a>:</h4>
<p>I could not find <code>fin'</code></p>



<a name="202660613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202660613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202660613">(Jul 02 2020 at 08:09)</a>:</h4>
<p>It doesn't exist.</p>



<a name="202660620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202660620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202660620">(Jul 02 2020 at 08:09)</a>:</h4>
<p>Kevin was proposing if it should be defined</p>



<a name="202661462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202661462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202661462">(Jul 02 2020 at 08:22)</a>:</h4>
<p>I've seen a few <code>sth'</code> or <code>sth2</code> in mathlib. Shouldn't this be discouraged?</p>



<a name="202661870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202661870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202661870">(Jul 02 2020 at 08:27)</a>:</h4>
<p>It could be enat.fin if you like</p>



<a name="202664335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202664335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202664335">(Jul 02 2020 at 08:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202656886">said</a>:</p>
<blockquote>
<p>I think the uniqueness should be something like </p>
<div class="codehilite"><pre><span></span><code><span class="o">(</span><span class="n">to_fun</span> <span class="o">:</span> <span class="bp">∀</span><span class="o">{</span><span class="n">r</span><span class="o">},</span> <span class="n">A</span> <span class="n">r</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="n">G</span><span class="o">)</span>
<span class="o">(</span><span class="n">from_fun</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">A</span> <span class="mi">0</span><span class="o">]</span> <span class="o">(</span><span class="bp">Π</span><span class="err">₀</span> <span class="n">r</span><span class="o">,</span> <span class="n">A</span> <span class="n">r</span><span class="o">))</span>
<span class="o">(</span><span class="n">from_iso</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">f</span><span class="o">,</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">from_fun</span> <span class="n">g</span> <span class="bp">↔</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="n">to_fun</span><span class="o">))</span>
</code></pre></div>


</blockquote>
<p>Thanks for this. Unfortunately, that example fails for me due to inability to synthesize a type class instance for <code>Π (i : ℕ) (x : A i), decidable (x ≠ 0)</code></p>



<a name="202665193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665193">(Jul 02 2020 at 09:09)</a>:</h4>
<p><code>open_locale classical</code></p>



<a name="202665301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665301">(Jul 02 2020 at 09:11)</a>:</h4>
<p>Now I'm left with the problem of synthesizing <code>semimodule (A 0) (Π₀ (r : ℕ), A r)</code> from<code>∀ r, module (A 0) (A r)</code> - which is presumably because I need something captureing both <code>→ₗ</code> and <code>Π₀</code></p>



<a name="202665409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665409">(Jul 02 2020 at 09:12)</a>:</h4>
<p>that should be in mathlib</p>



<a name="202665430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665430">(Jul 02 2020 at 09:13)</a>:</h4>
<p>"I think its there already" or "it should be there if it isn't"?</p>



<a name="202665451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665451">(Jul 02 2020 at 09:13)</a>:</h4>
<p>both</p>



<a name="202665470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665470">(Jul 02 2020 at 09:13)</a>:</h4>
<p>Maybe I need to update</p>



<a name="202665487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665487">(Jul 02 2020 at 09:13)</a>:</h4>
<p>it is there, but it's not an instance. Try <code>attribute [instance] dfinsupp.to_semimodule</code></p>



<a name="202665550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665550">(Jul 02 2020 at 09:14)</a>:</h4>
<p>Sure enough, that does the trick</p>



<a name="202665556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665556">(Jul 02 2020 at 09:14)</a>:</h4>
<p>Should that be an instance?</p>



<a name="202665565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665565">(Jul 02 2020 at 09:14)</a>:</h4>
<p>I think so</p>



<a name="202665594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202665594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202665594">(Jul 02 2020 at 09:14)</a>:</h4>
<p>it's probably leftover from a change to <code>module</code> before which it could not safely be an instance</p>



<a name="202667514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667514">(Jul 02 2020 at 09:39)</a>:</h4>
<p>I'm confused about the effect of <code>attribute [instance]</code></p>



<a name="202667585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667585">(Jul 02 2020 at 09:40)</a>:</h4>
<p>It marks the bundled field as elegible for type class lookup, I think</p>



<a name="202667589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667589">(Jul 02 2020 at 09:40)</a>:</h4>
<p><code>@[instance] def</code> is the same as <code>instance</code></p>



<a name="202667598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667598">(Jul 02 2020 at 09:40)</a>:</h4>
<p>What's its natural form</p>



<a name="202667630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667630">(Jul 02 2020 at 09:40)</a>:</h4>
<p>It's just a tag on definitions saying "hey type class inference system, look at me"</p>



<a name="202667646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667646">(Jul 02 2020 at 09:41)</a>:</h4>
<p>and you can mark a def as an instance after the fact using <code>attribute [instance]</code> or more commonly <code>local attribute [instance]</code></p>



<a name="202667660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667660">(Jul 02 2020 at 09:41)</a>:</h4>
<p><code>instance</code> (with a proof) v.s. <code>@[instance]</code> v.s. <code>attribute [instance]</code></p>



<a name="202667751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667751">(Jul 02 2020 at 09:42)</a>:</h4>
<p><code>[instance]</code> is an attribute that you can stick on definitions just like <code>@[simp]</code> and others</p>



<a name="202667752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667752">(Jul 02 2020 at 09:42)</a>:</h4>
<p>Can <code>@[instance]</code> be used in this case?</p>



<a name="202667765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667765">(Jul 02 2020 at 09:42)</a>:</h4>
<p>You use <code>@[instance]</code> at the moment you're making the def</p>



<a name="202667775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667775">(Jul 02 2020 at 09:42)</a>:</h4>
<p><code>instance foo</code> is the same as <code>@[instance] def foo</code></p>



<a name="202667779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667779">(Jul 02 2020 at 09:42)</a>:</h4>
<p>and only at the moment?</p>



<a name="202667794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667794">(Jul 02 2020 at 09:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202667646">said</a>:</p>
<blockquote>
<p>and you can mark a def as an instance after the fact using <code>attribute [instance]</code> or more commonly <code>local attribute [instance]</code></p>
</blockquote>



<a name="202667820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202667820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202667820">(Jul 02 2020 at 09:43)</a>:</h4>
<p>I mean: is it that<code>@</code> can only be used at the moment of definition and <code>attribute</code> can only be used after the definition?</p>



<a name="202668049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668049">(Jul 02 2020 at 09:46)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">foo</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- fails</span>

<span class="c1">-- Option 1 --</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">foo</span> <span class="n">nat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">37</span><span class="bp">⟩</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- works</span>

<span class="c1">-- Option 2 --</span>
<span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">def</span> <span class="n">nat</span><span class="bp">.</span><span class="n">foo</span> <span class="o">:</span> <span class="n">foo</span> <span class="n">nat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">37</span><span class="bp">⟩</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- works</span>

<span class="c1">-- Option 3 --</span>
<span class="n">def</span> <span class="n">nat</span><span class="bp">.</span><span class="n">foo</span> <span class="o">:</span> <span class="n">foo</span> <span class="n">nat</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="mi">37</span><span class="bp">⟩</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- fails</span>
<span class="kn">section</span>
<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">nat</span><span class="bp">.</span><span class="n">foo</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- works</span>
<span class="kn">end</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- fails</span>
<span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">nat</span><span class="bp">.</span><span class="n">foo</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">foo</span><span class="bp">.</span><span class="n">a</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="c1">-- works</span>
</code></pre></div>



<a name="202668090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668090">(Jul 02 2020 at 09:47)</a>:</h4>
<p>You can also write <code>attribute [instance] def nat.foo : foo nat := ⟨37⟩</code> instead but this is usually not used</p>



<a name="202668151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668151">(Jul 02 2020 at 09:48)</a>:</h4>
<p>The <code>@[attr]</code> form only works immediately before a keyword like <code>def</code> or <code>theorem</code></p>



<a name="202668193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668193">(Jul 02 2020 at 09:49)</a>:</h4>
<p>The <code>attribute [attr] nat.foo</code> form works as a standalone command but requires the name of the definition(s) being marked</p>



<a name="202668499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668499">(Jul 02 2020 at 09:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202657281">said</a>:</p>
<blockquote>
<p>That is also enough to prove that <code>\all r (v : A r), from_fun (to_fun v) = single r v</code></p>
</blockquote>
<p>Any tips for that proof?</p>



<a name="202668628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668628">(Jul 02 2020 at 09:54)</a>:</h4>
<p>Applying <code>from_iso</code>, you have to prove <code>to_fun v = (single r v).sum (λ r, to_fun)</code>, which follows from <code>sum_single_index</code></p>



<a name="202668706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202668706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202668706">(Jul 02 2020 at 09:55)</a>:</h4>
<p>Thanks, will see what I can come up with, then ask how to simplify my proof :)</p>



<a name="202669170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202669170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202669170">(Jul 02 2020 at 10:01)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  <span class="kn">lemma</span> <span class="n">from_zulip</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">A</span> <span class="n">r</span><span class="o">)</span> <span class="o">:</span> <span class="n">select</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">v</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="bp">=</span> <span class="n">dfinsupp</span><span class="bp">.</span><span class="n">single</span> <span class="n">r</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">begin</span>
    <span class="n">symmetry</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">from_iso</span> <span class="o">(</span><span class="n">to_fun</span> <span class="n">v</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">dfinsupp</span><span class="bp">.</span><span class="n">single</span> <span class="n">r</span> <span class="n">v</span><span class="o">),</span>
    <span class="n">symmetry</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">dfinsupp</span><span class="bp">.</span><span class="n">sum_single_index</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">linear_map</span><span class="bp">.</span><span class="n">map_zero</span> <span class="bp">_</span><span class="o">,</span>
  <span class="kn">end</span>
</code></pre></div>



<a name="202669548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202669548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202669548">(Jul 02 2020 at 10:05)</a>:</h4>
<p>you can write that in term mode if you want, probably something like <code>((from_iso _ _).2 (dfinsupp.sum_single_index _ (linear_map.map_zero _)).symm).symm</code> although I can't say for sure without an <a href="https://leanprover-community.github.io/mwe.html">#mwe</a></p>



<a name="202669641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202669641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202669641">(Jul 02 2020 at 10:06)</a>:</h4>
<p>Would it be sensible to define my <code>from_iso</code> with the both equalities reversed to avoid needing the symm?</p>



<a name="202669716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202669716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202669716">(Jul 02 2020 at 10:07)</a>:</h4>
<p>I would wait to see 5 or 6 uses of the theorem before taking a guess on which direction is more common</p>



<a name="202670818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202670818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202670818">(Jul 02 2020 at 10:21)</a>:</h4>
<p>One final question before I write all this up - is this a suitable set of precedences for notation?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">notation</span> <span class="bp">`⟨`</span><span class="n">g</span><span class="bp">`⟩_`</span><span class="o">:</span><span class="mi">0</span> <span class="n">r</span><span class="o">:</span><span class="mi">100</span> <span class="o">:=</span> <span class="n">graded_algebra_iso</span><span class="bp">.</span><span class="n">from_fun</span> <span class="n">g</span> <span class="n">r</span>
</code></pre></div>


<p>The problem I'm having is that for <code>v : A r</code>, I can't seem to write <code>⟨v : G⟩_r</code> but have to add parentheses for the syntax to be understood as  <code>⟨(v : G)⟩_r</code></p>



<a name="202671485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202671485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202671485">(Jul 02 2020 at 10:30)</a>:</h4>
<p>I guess in the spirit of the tail recursion, it's usually better to add the "new" thing to the right and proofs usually start cracking it from the right. But I don't know how to apply this principle to this case...</p>



<a name="202691686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202691686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202691686">(Jul 02 2020 at 13:58)</a>:</h4>
<p>Wrapped this up at <a href="https://github.com/pygae/lean-ga/pull/5">https://github.com/pygae/lean-ga/pull/5</a> for anyone interested.</p>



<a name="202798521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202798521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202798521">(Jul 03 2020 at 12:29)</a>:</h4>
<p>A related question: how to express "generated by" in Lean?</p>



<a name="202798830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202798830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202798830">(Jul 03 2020 at 12:33)</a>:</h4>
<p>What I can find is in <a href="https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/noetherian.lean">https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/noetherian.lean</a></p>
<h2>Main definitions</h2>
<p>Let <code>R</code> be a ring and let <code>M</code> and <code>P</code> be <code>R</code>-modules. Let <code>N</code> be an <code>R</code>-submodule of <code>M</code>.</p>
<ul>
<li><code>fg N : Prop</code> is the assertion that <code>N</code> is finitely generated as an <code>R</code>-module.</li>
<li><code>is_noetherian R M</code> is the proposition that <code>M</code> is a Noetherian <code>R</code>-module. It is a class,<br>
  implemented as the predicate that all <code>R</code>-submodules of <code>M</code> are finitely generated.</li>
</ul>



<a name="202799450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202799450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202799450">(Jul 03 2020 at 12:40)</a>:</h4>
<p>Did you look at the implementation of <code>fg</code> or <code>is_noetherian</code>?</p>



<a name="202799815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202799815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202799815">(Jul 03 2020 at 12:44)</a>:</h4>
<p>The subobject generated by X is typically called <code>span X</code>, and "X generates A" is typically just written <code>span X = \top</code></p>



<a name="202800348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800348">(Jul 03 2020 at 12:50)</a>:</h4>
<p>I don't understand it when the implementation reaches the part about complete lattices.</p>



<a name="202800684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800684">(Jul 03 2020 at 12:54)</a>:</h4>
<p>Complete lattices by itself look well defined, but I don't understand the necessity of using it to express/implement a pretty elementary concept <code>span</code>.</p>



<a name="202800773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800773">(Jul 03 2020 at 12:55)</a>:</h4>
<p><a href="/user_uploads/3121/CZU1pJJoXa6QMxLTXFuBhVVe/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/CZU1pJJoXa6QMxLTXFuBhVVe/image.png" title="image.png"><img src="/user_uploads/3121/CZU1pJJoXa6QMxLTXFuBhVVe/image.png"></a></div>



<a name="202800803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800803">(Jul 03 2020 at 12:55)</a>:</h4>
<p>Where is that image from?</p>



<a name="202800887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800887">(Jul 03 2020 at 12:56)</a>:</h4>
<p>Mathlib paper</p>



<a name="202800905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800905">(Jul 03 2020 at 12:56)</a>:</h4>
<p>There is a "bottom-up" and a "top-down" way to define span</p>



<a name="202800955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202800955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202800955">(Jul 03 2020 at 12:57)</a>:</h4>
<p>The "top-down" way is to define the foo-span of the set X as the intersection of all the foos which contain X</p>



<a name="202801034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202801034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202801034">(Jul 03 2020 at 12:58)</a>:</h4>
<p>The bottom-up way is to make some new set recursively, which contains X and is closed under all the foo axioms</p>



<a name="202801912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202801912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202801912">(Jul 03 2020 at 13:08)</a>:</h4>
<p>Ah, I see how this applies to linear algebra.</p>



<a name="202801962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202801962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202801962">(Jul 03 2020 at 13:08)</a>:</h4>
<p>But the question at our hand seems to be:</p>
<p>If we think of Grassmann Algebra as a vector space generated by its subspaces, this seems to be sufficient. But the subspaces, in turn, are generated by vectors. So how to express the concept of Grassmann Algebra is "generated" by vectors via wedge product?</p>



<a name="202802016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802016">(Jul 03 2020 at 13:09)</a>:</h4>
<p>(using Grassmann Algebra for a simpler analogy of Clifford Algebra)</p>



<a name="202802350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802350">(Jul 03 2020 at 13:13)</a>:</h4>
<p>You can apply the same method to subalgebras.</p>



<a name="202802373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802373">(Jul 03 2020 at 13:13)</a>:</h4>
<p>So in this case, I was kind of thinking about things like generators in group theory.</p>



<a name="202802403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802403">(Jul 03 2020 at 13:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms/near/202802350">said</a>:</p>
<blockquote>
<p>You can apply the same method to subalgebras.</p>
</blockquote>
<p>So do I have to use a two-level <code>span</code> here?</p>



<a name="202802529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802529">(Jul 03 2020 at 13:15)</a>:</h4>
<p>Also, I don't get the remark of the "tension" <a href="#narrow/stream/113489-new-members/topic/cleaning.20up.20this.20tactic.20proof.20%28regarding.20closures%29/near/193043418">here</a>.</p>



<a name="202802888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202802888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202802888">(Jul 03 2020 at 13:19)</a>:</h4>
<p>I need more help to help you here. Which part you don't get?</p>



<a name="202803005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803005">(Jul 03 2020 at 13:20)</a>:</h4>
<p>Is it the non-zero characteristic thing?</p>



<a name="202803056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803056">(Jul 03 2020 at 13:21)</a>:</h4>
<p>"the fact (seen as the subspace of multilinear maps) is clearly wrong in positive characteristic where (seen as a quotient of the tensor algebra)"</p>



<a name="202803131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803131">(Jul 03 2020 at 13:22)</a>:</h4>
<p>I understand what's in the parentheses and not the sentence connecting them.</p>



<a name="202803258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803258">(Jul 03 2020 at 13:23)</a>:</h4>
<p>Where do you see this quote?</p>



<a name="202803337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803337">(Jul 03 2020 at 13:24)</a>:</h4>
<p>I see</p>
<blockquote>
<p>There is a tension between having <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Λ</mi><mi>k</mi></msup><msup><mi>V</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda^k V^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> seen as the subspace of multilinear maps from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">V^k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> to the base field which happen to be antisymmetric, which is nice and concrete, and the fact this is clearly wrong in positive characteristic where there is no other choice than seeing it as a <em>quotient</em> of the tensor algebra.</p>
</blockquote>



<a name="202803550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803550">(Jul 03 2020 at 13:26)</a>:</h4>
<p>Let me try again. In any case, there is a very concrete elementary thing  which is the subspace of multilinear forms made of antisymmetric forms. And there is a slightly more abstract thing which is a quotient of the space of multilinear forms by some subspace. In characteristic zero, there is an isomorphism between those things, so there is not much loss in forgetting about the abstract one. In positive characteristic you can't.</p>



<a name="202803767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803767">(Jul 03 2020 at 13:29)</a>:</h4>
<p>I see</p>



<a name="202803903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202803903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202803903">(Jul 03 2020 at 13:31)</a>:</h4>
<p>So the approach might be using the latter as a general definition, and prove the former is isomorphic to the latter in characteristic zero?</p>



<a name="202804282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202804282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202804282">(Jul 03 2020 at 13:35)</a>:</h4>
<p>Probably yes, but this kind of question is hard to answer with total confidence without trying. Note that there is an additional complication: in the positive characteristic world, characteristic 2 is a world of its own. In characteristic 2, you'll also have to be careful that alternating and antisymmetric are not the same thing.</p>



<a name="202805607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202805607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202805607">(Jul 03 2020 at 13:51)</a>:</h4>
<p><a href="/user_uploads/3121/wbGSy-i03J8mgmJIaarLBYLU/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/wbGSy-i03J8mgmJIaarLBYLU/image.png" title="image.png"><img src="/user_uploads/3121/wbGSy-i03J8mgmJIaarLBYLU/image.png"></a></div><p><a href="/user_uploads/3121/5GLsuZV5Mg1udm92Aa81HlE3/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/5GLsuZV5Mg1udm92Aa81HlE3/image.png" title="image.png"><img src="/user_uploads/3121/5GLsuZV5Mg1udm92Aa81HlE3/image.png"></a></div><p>from Clifford Algebras and Spinor Structures.</p>
<p>It elaborates on the issue here and there seems possible to have some reasonable solutions to this. But, yeah, hard to answer without trying.</p>



<a name="202806724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202806724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202806724">(Jul 03 2020 at 14:02)</a>:</h4>
<p>Back to "generated by". <span class="user-mention" data-user-id="310045">@Eric Wieser</span> used a pretty elementary way to "generate" subobjects (i.e. r-blade) by orthogonal vectors, but I don't know how can that be connected to the abstract way(complete lattices) of expressing <code>span</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">is_rblade</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="c1">-- a product of orthogonal vectors an a scalar</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span> <span class="n">G₀</span><span class="o">)</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">pairwise_ortho_vector</span> <span class="n">r</span><span class="o">),</span>
   <span class="n">b</span> <span class="bp">=</span> <span class="n">fₛ</span> <span class="n">k</span> <span class="bp">*</span> <span class="n">list</span><span class="bp">.</span><span class="n">prod</span> <span class="o">(</span><span class="n">v</span><span class="bp">.</span><span class="n">val</span><span class="bp">.</span><span class="n">val</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="err">ᵥ</span><span class="o">))</span>
</code></pre></div>


<p>as in <a href="https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/nursery/chisolm.lean#L108">https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/nursery/chisolm.lean#L108</a></p>



<a name="202807016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202807016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202807016">(Jul 03 2020 at 14:05)</a>:</h4>
<p>I had a variant of the definition on <a href="https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/nursery/chisolm.lean#L228">https://github.com/pygae/lean-ga/blob/master/src/geometric_algebra/nursery/chisolm.lean#L228</a> that used lattices via <code>def Mᵣ (r : ℕ) := ⨆ s &lt;= r, Gᵣ s</code>, if that helps</p>



<a name="202807307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202807307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202807307">(Jul 03 2020 at 14:08)</a>:</h4>
<p>I think I accidentally merged your two PRs with parallel designs in mind into one file which happens to have no conflict</p>



<a name="202807743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202807743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202807743">(Jul 03 2020 at 14:13)</a>:</h4>
<p><del>You 100% did</del> I thought so too, but can't see any evidence of the second one</p>



<a name="202808236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202808236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202808236">(Jul 03 2020 at 14:19)</a>:</h4>
<p>I see</p>



<a name="202808368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202808368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202808368">(Jul 03 2020 at 14:20)</a>:</h4>
<p>The branch in <a href="https://github.com/pygae/lean-ga/issues/4">pygae/lean-ga#4</a> is based on <a href="https://github.com/pygae/lean-ga/issues/3">pygae/lean-ga#3</a> (which deleted the whole <a href="https://github.com/pygae/lean-ga/issues/3">pygae/lean-ga#3</a> in <a href="https://github.com/pygae/lean-ga/commit/9235ca262b12b4e7f8861a7dfcfd0cdc401069de">https://github.com/pygae/lean-ga/commit/9235ca262b12b4e7f8861a7dfcfd0cdc401069de</a> ) .</p>



<a name="202808492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/202808492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#202808492">(Jul 03 2020 at 14:21)</a>:</h4>
<p>The meta-question here might be how to connect the more elementary presentation of a subject with the mathematical rigorous and abstract treatment. Both can be done in Lean, but it's difficult to establish a link. Geometric Algebra, as reformulated by Hestenes and many from Clifford Algebra, is meant to be more elementary and application-oriented. This more elementary formalism (which is meant to do "application" level reasoning) is unlikely to be PRed into mathlib, but mathlib would certainly have a general version of Clifford Algebra, which would be of little interest of the intended audience here. But it would be nice to show the elementary version is isomorphic to the general version under certain conditions.</p>



<a name="203473258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Expressing%20a%20sum%20with%20finitely%20many%20nonzero%20terms/near/203473258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Expressing.20a.20sum.20with.20finitely.20many.20nonzero.20terms.html#203473258">(Jul 10 2020 at 06:26)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Free_algebra">Free module</a> seems to be related, see also <a href="https://gist.github.com/sflicht/53bdcdb1e3536e668736f7b4eb63cd79">free.lean</a> discussed <a href="#narrow/stream/116395-maths/topic/f.2Eg.2E.20free.20modules/near/199450926">here</a>, seems that it hasn't made into mathlib yet.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>