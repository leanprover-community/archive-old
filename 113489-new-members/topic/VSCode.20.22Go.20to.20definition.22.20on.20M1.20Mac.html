---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html">VSCode "Go to definition" on M1 Mac</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284015172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284015172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284015172">(May 26 2022 at 14:48)</a>:</h4>
<p>I have an M1 Macbook Air.  I installed Lean using <a href="#narrow/stream/113489-new-members/topic/M1.20Macs.3A.20Installing.20the.20Lean.203.20toolchain/near/262832039">these instructions</a>, that say to do everything under <code>arch -x86_64</code> and use rosetta.</p>
<p>I have a recent VS Code, and the lean plugin for it.  However, when trying to use "Go to definition" in VS Code, it sometimes says "No definition found", other times it takes me to the wrong place, like the definition of <code>rw</code> or <code>exact</code>.  Sometimes it takes me to the right place.</p>
<p><a href="/user_uploads/3121/9d3dbZhi6pPjYzOr61nXEGuq/Screen-Shot-2022-05-26-at-10.46.19-AM.png">From order/liminf_limsup.lean</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/9d3dbZhi6pPjYzOr61nXEGuq/Screen-Shot-2022-05-26-at-10.46.19-AM.png" title="From order/liminf_limsup.lean"><img src="/user_uploads/3121/9d3dbZhi6pPjYzOr61nXEGuq/Screen-Shot-2022-05-26-at-10.46.19-AM.png"></a></div><p>How can I debug this?</p>



<a name="284015573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284015573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284015573">(May 26 2022 at 14:51)</a>:</h4>
<p>Mm, I've run into it taking me to the wrong place as well on linux, like ending up somewhere in lean core from a local hypothesis called <code>pp</code>, so it might not be specific to you. Not sure I even had "no definition found"</p>



<a name="284016475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284016475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284016475">(May 26 2022 at 14:58)</a>:</h4>
<p>Yeah, for example on line 97 of that same file, order/liminf_limsup.lean, if I double click <code>eventually_map</code> and hit F12, it takes me to the definition of <code>rw</code> in interactive.lean, as you say that's in the lean core.</p>



<a name="284016722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284016722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284016722">(May 26 2022 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>, isn't that due to the codepoint counting mismatch?</p>



<a name="284017558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284017558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284017558">(May 26 2022 at 15:07)</a>:</h4>
<p>Martin has the new version, Yael</p>



<a name="284019233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284019233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284019233">(May 26 2022 at 15:20)</a>:</h4>
<p>The "Go to definition" operation has never been 100% reliable.</p>



<a name="284020392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284020392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284020392">(May 26 2022 at 15:30)</a>:</h4>
<p>When it takes me to lean core, it's generally something higher up in the parse tree, or at least what I imagine the parse tree to be.  For example, on line 464, if I try <code>exists_lt_of_lt_cSup</code>, it takes me to <code>obtain</code>, which is probably 40 tokens earlier on the line above.  But <code>exists_lt_of_lt_cSup</code> is the start of the body of the <code>obtain</code>.</p>



<a name="284020716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284020716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284020716">(May 26 2022 at 15:33)</a>:</h4>
<p>I noticed that too, but for me, "Go to definition" is much better in Lean 4, so maybe it's one of those details that are hard to get precisely right in Lean 3 but is already solved in Lean 4 because of LSP</p>



<a name="284021394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284021394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284021394">(May 26 2022 at 15:38)</a>:</h4>
<p>I'm not sure if anyone else gets this on M1 macs. I don't have an issue on mine, but I rebuild my Lean to be running on ARM-native so it's not directly comparable.</p>



<a name="284022337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284022337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284022337">(May 26 2022 at 15:46)</a>:</h4>
<p>Should I try recomputing the <code>olean</code> file for that source file?  How do I do that?</p>



<a name="284022364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/VSCode%20%22Go%20to%20definition%22%20on%20M1%20Mac/near/284022364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/VSCode.20.22Go.20to.20definition.22.20on.20M1.20Mac.html#284022364">(May 26 2022 at 15:46)</a>:</h4>
<p>Is the <code>olean</code> format documented anywhere?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>