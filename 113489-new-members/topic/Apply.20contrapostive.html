---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Apply.20contrapostive.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html">Apply contrapostive</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="254072405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254072405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254072405">(Sep 20 2021 at 15:53)</a>:</h4>
<p>How can I apply the contrapositive of a theorem? I guess I'm looking for something like <code>apply theorem_name.contrapositive</code>. Something similar to how we can use <code>apply iff_theoerem.mp</code> or <code>apply iff_theoerem.mpr</code>. Just to be clear, I know about the <code>contrapose</code> tactic, but I can't seem to make it work for theorems.</p>



<a name="254072787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254072787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254072787">(Sep 20 2021 at 15:55)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/mt">docs#mt</a> is modus tollens.  Rather than using dot notation (since implications can't use dot notation), you'd do <code>apply mt theorem_name</code></p>



<a name="254073153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254073153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254073153">(Sep 20 2021 at 15:58)</a>:</h4>
<p>Incidentally, it would be nice if iffs could be contraposed as well.  These seem not to be present in mathlib:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">iff.mt</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">b</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">a</span> <span class="o">:=</span> <span class="n">mt</span> <span class="n">h.mp</span>
<span class="kd">lemma</span> <span class="n">iff.mtr</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">b</span> <span class="o">:=</span> <span class="n">mt</span> <span class="n">h.mpr</span>
</code></pre></div>
<p>Then, in addition to <code>apply iff_theorem.mp</code> you could do <code>apply iff_theorem.mt</code>.</p>



<a name="254073229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254073229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254073229">(Sep 20 2021 at 15:58)</a>:</h4>
<p>Perfect. What I needed to do was <code>apply mt filter.ext_iff.mp</code> which works exactly how I wanted.</p>



<a name="254073398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254073398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254073398">(Sep 20 2021 at 15:59)</a>:</h4>
<p>Yes. because there is <code>iff.mp</code> and <code>iff.mpr</code> I would expect an <code>iff.mt</code>.</p>



<a name="254073600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254073600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254073600">(Sep 20 2021 at 16:00)</a>:</h4>
<p>Perhaps versions that do <code>push_neg</code> would be convenient as well.</p>



<a name="254073609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254073609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254073609">(Sep 20 2021 at 16:00)</a>:</h4>
<p>I just learned about <a href="https://leanprover-community.github.io/mathlib_docs/find/not_congr">docs#not_congr</a>, but it's not in the <code>iff</code> namespace so it can't be used with dot notation.</p>



<a name="254078170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254078170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254078170">(Sep 20 2021 at 16:31)</a>:</h4>
<p>Perhaps we should alias <code>not_congr</code> in the <code>iff</code> namespace somewhere</p>



<a name="254078982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254078982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254078982">(Sep 20 2021 at 16:36)</a>:</h4>
<p>I'd suggest <code>iff.mtr</code> for it, and <code>iff.mt</code> for its reverse.</p>
<p>It would also be nice to have the reverse versions of these, that strip off the nots.  I don't know if these have a name in logic... maybe they could be <code>rmt</code> for "reverse modus tollens" and <code>rmtr</code> for "reverse modus tollens reverse".</p>



<a name="254079222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254079222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254079222">(Sep 20 2021 at 16:37)</a>:</h4>
<p>Now we only need <code>rmp</code> and <code>rmpr</code>...</p>



<a name="254084514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254084514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254084514">(Sep 20 2021 at 17:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/Apply.20contrapostive/near/254073153">said</a>:</p>
<blockquote>
<p>Incidentally, it would be nice if iffs could be contraposed as well.  These seem not to be present in mathlib:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">iff.mt</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">b</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">a</span> <span class="o">:=</span> <span class="n">mt</span> <span class="n">h.mp</span>
<span class="kd">lemma</span> <span class="n">iff.mtr</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span> <span class="bp">→</span> <span class="bp">¬</span><span class="n">b</span> <span class="o">:=</span> <span class="n">mt</span> <span class="n">h.mpr</span>
</code></pre></div>
<p>Then, in addition to <code>apply iff_theorem.mp</code> you could do <code>apply iff_theorem.mt</code>.</p>
</blockquote>
<p>Yes please! I really wanted those at one point.</p>



<a name="254089346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254089346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254089346">(Sep 20 2021 at 17:45)</a>:</h4>
<p>If we had <code>iff.not</code> as <code>(h : a ↔ b) : ¬a ↔ ¬b</code> then you could use <code>h.not.mpr</code> and <code>h.not.mp</code> for those, which might be more discoverable</p>



<a name="254089476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Apply%20contrapostive/near/254089476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Apply.20contrapostive.html#254089476">(Sep 20 2021 at 17:46)</a>:</h4>
<p>I suppose we could do something similar for <a href="https://leanprover-community.github.io/mathlib_docs/find/and_congr">docs#and_congr</a> too</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>