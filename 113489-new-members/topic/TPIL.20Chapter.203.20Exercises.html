---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html">TPIL Chapter 3 Exercises</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="189827803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189827803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189827803">(Mar 05 2020 at 19:33)</a>:</h4>
<p>I'm working through the exercises in TIPL and am having trouble with some of the exercises</p>
<p><a href="https://github.com/leanprover-community/mathlib/issues/3" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/3">#3</a>.1 </p>
<p>Q1:I'm getting an error on the or.elim in the following code. Lean is saying that it's expecting a type  p∨q but is getting type q∨p. </p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span> <span class="bp">↔</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span> <span class="o">:=</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">q</span> <span class="n">hp</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">p</span> <span class="n">hq</span><span class="o">))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h2</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">p</span> <span class="n">hq</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">q</span> <span class="bp">∨</span> <span class="n">p</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">q</span> <span class="n">hp</span><span class="o">))</span>
</pre></div>


<p>Q2: I'm getting type mismatch errors again for <code>show</code> and <code>or.intro</code> in the last line of this exercise. </p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hpq</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)))</span>
</pre></div>



<a name="189829479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189829479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189829479">(Mar 05 2020 at 19:50)</a>:</h4>
<p>Q1: the error is indeed expected. Do you know what the second input to the <code>iff.intro</code> is supposed to be a proof of? And can you see what you're proving?</p>



<a name="189829539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189829539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189829539">(Mar 05 2020 at 19:51)</a>:</h4>
<p>Q2: your term is not really complete so it's not surprising you have errors. Why not put in some <code>_</code>s or <code>sorry</code>s to make the term compile?</p>



<a name="189829579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189829579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189829579">(Mar 05 2020 at 19:51)</a>:</h4>
<p>But honestly these "verbose mode" things are hell to debug. Why not use full term mode or full tactic mode?</p>



<a name="189829696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189829696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189829696">(Mar 05 2020 at 19:53)</a>:</h4>
<p>For Q2 the full errors tell you exactly what you are doing wrong. Lean tells you exactly what it expects you to be proving and what you are proving.</p>



<a name="189830145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189830145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189830145">(Mar 05 2020 at 19:58)</a>:</h4>
<p>The <code>show</code> is fine, Lean is just confused by the fact that you made an error later. Can you understand the error message?</p>



<a name="189830871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189830871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189830871">(Mar 05 2020 at 20:05)</a>:</h4>
<p>Q1: I thought the second input to iff.intro was just in the "other direction", so wouldn't it work essentially the same as the first input but with the p and q reversed?</p>
<p>Q2: You're right, I missed a whole chunk of code when I copied it over. Here is the full proof. The errors still hold though</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hpq</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">p</span> <span class="n">hp</span><span class="o">)</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">q</span> <span class="n">hq</span><span class="o">)))</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="n">hr</span><span class="o">)))</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h2</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">p</span> <span class="n">hp</span><span class="o">))</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hqr</span> <span class="o">:</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hqr</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">q</span> <span class="n">hq</span><span class="o">))</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">r</span> <span class="n">hr</span><span class="o">)))</span>
</pre></div>


<p>Do you think it isn't productive to practice these proofs outside of tactic mode? I feel somewhat comfortable with tactic mode, but wanted to fully understand TIPL since I feel like I still don't understand a lot of what's going on in the chat/in other definitions I try to use. .</p>



<a name="189830992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189830992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189830992">(Mar 05 2020 at 20:07)</a>:</h4>
<p>Q3: I'm getting a term mismatch for the two assume statements I'm passing intro <code>iff.intro</code>. I think I'm misunderstanding how iff.intro works more generally. Any guidance would be appreciated.</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span>
  <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">right</span> <span class="n">h</span><span class="o">),</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">),</span>
    <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">left</span> <span class="n">h</span><span class="o">)</span>  <span class="n">hq</span><span class="o">))</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">),</span>
    <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">left</span> <span class="n">h</span><span class="o">)</span>  <span class="n">hr</span><span class="o">)))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">),</span>
  <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span><span class="o">,</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span>
    <span class="k">from</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">left</span> <span class="n">hpq</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">q</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">right</span> <span class="n">hpq</span><span class="o">)))</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">hpr</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span>
    <span class="k">from</span> <span class="n">and</span><span class="bp">.</span><span class="n">intro</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">left</span> <span class="n">hpr</span><span class="o">)</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="o">(</span><span class="n">and</span><span class="bp">.</span><span class="n">right</span> <span class="n">hpr</span><span class="o">))))</span>
</pre></div>



<a name="189832715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189832715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189832715">(Mar 05 2020 at 20:27)</a>:</h4>
<p>I personally have never seen the point of this super-verbose term mode. But others clearly think differently because it's explained in TPIL!</p>



<a name="189832846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189832846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189832846">(Mar 05 2020 at 20:29)</a>:</h4>
<p>Your Q3 the errors are a real mess and I just look at all this super-verbose term mode and think "if this was my problem I'd just start again"</p>



<a name="189832880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189832880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189832880">(Mar 05 2020 at 20:29)</a>:</h4>
<p>I'm sure it's possible to debug but I don't fancy it</p>



<a name="189833132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189833132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189833132">(Mar 05 2020 at 20:31)</a>:</h4>
<p>The error</p>
<div class="codehilite"><pre><span></span>  type mismatch, term
    (?m_3, ?m_4)
  has type
    ?m_1 × ?m_2 : Type (max ? ?)
  but is expected to have type
    p ∧ (q ∨ r) → p ∧ q ∨ p ∧ r : Prop
</pre></div>


<p>just indicates that you've got the brackets wrong somewhere.</p>



<a name="189833269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189833269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189833269">(Mar 05 2020 at 20:33)</a>:</h4>
<p>I would start like this:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">iff</span><span class="bp">.</span><span class="n">intro</span> <span class="bp">_</span> <span class="bp">_</span>
</pre></div>


<p>and I'd just keep checking that the errors were not insane at all stages.</p>



<a name="189833320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189833320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189833320">(Mar 05 2020 at 20:34)</a>:</h4>
<p>As Kevin says, there's a way to build up proofs of simple logical propositions like this by "chasing underscores". I worked through a different example <a href="#narrow/stream/113489-new-members/topic/basics/near/185070320" title="#narrow/stream/113489-new-members/topic/basics/near/185070320">here</a> and in another post linked there.</p>



<a name="189834369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189834369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189834369">(Mar 05 2020 at 20:44)</a>:</h4>
<p>I resolve Q2. I misread how <code>or.intro</code> is defined. Its first input should be the type of the term NOT being exacted. Fixing this now makes the proof compile successfully. </p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">iff</span><span class="bp">.</span><span class="n">intro</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">,</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hpq</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="n">hp</span><span class="o">)</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">p</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="n">hq</span><span class="o">)))</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">p</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">q</span> <span class="n">hr</span><span class="o">)))</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h2</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">q</span> <span class="n">hp</span><span class="o">))</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hqr</span> <span class="o">:</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">),</span> <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hqr</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hq</span> <span class="o">:</span> <span class="n">q</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_left</span> <span class="n">r</span> <span class="o">(</span><span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="n">p</span> <span class="n">hq</span><span class="o">))</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span> <span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">or</span><span class="bp">.</span><span class="n">intro_right</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="n">hr</span><span class="o">)))</span>
</pre></div>



<a name="189837526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189837526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189837526">(Mar 05 2020 at 21:18)</a>:</h4>
<p>Q4: I'm confused how to handle an implication in the assumption of another implication, such as <code>example : (((p → q) → p) → p) :=  sorry</code>. I get intuitively that if we can get p out of p implying q, that means that p must always be true because "p implies q" doesn't give us p on its own. I don't see how we could translate that into lean though. I was thinking about doing a <code>by_cases</code> since this is in the classical logic section, but I feel like I don't have good tools to work with a variable like <code>((p → q) → p)</code>.</p>



<a name="189837553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189837553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189837553">(Mar 05 2020 at 21:19)</a>:</h4>
<p>do cases on <code>p</code></p>



<a name="189837810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189837810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rocky Kamen-Rubio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189837810">(Mar 05 2020 at 21:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises/near/189837553" title="#narrow/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises/near/189837553">said</a>:</p>
<blockquote>
<p>do cases on <code>p</code></p>
</blockquote>
<p>That was my original thought but I keep getting stuck here</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">hpqp</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span><span class="o">,</span>
<span class="n">by_cases</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hp</span><span class="o">)</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hnp</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="bp">...</span><span class="o">)</span>
</pre></div>


<p>I can't think of a way to use <code>hpqp</code> in a useful way here. I feel like maybe there's a function I'm forgetting.</p>



<a name="189837926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189837926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189837926">(Mar 05 2020 at 21:22)</a>:</h4>
<p>Prove <code>false</code>, by using the assumption and the implication (which will require you to prove <code>p -&gt; q</code>)</p>



<a name="189840894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189840894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189840894">(Mar 05 2020 at 21:52)</a>:</h4>
<p>Q3 you have some extraneous commas after applying <code>or.elim</code></p>



<a name="189840915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/189840915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#189840915">(Mar 05 2020 at 21:53)</a>:</h4>
<p>These term mode proofs require a lot of attention to detail.</p>



<a name="252244837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252244837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252244837">(Sep 07 2021 at 03:06)</a>:</h4>
<p>I'm having a hard time with the classical problems, this is how far I got on the first one (Theorem boo) with before getting stuck. I may also just be completely on the wrong track too</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="n">s</span> <span class="o">:</span> <span class="kt">Prop</span>


<span class="kd">lemma</span> <span class="n">helper</span> <span class="o">:</span> <span class="o">(</span><span class="bp">¬</span><span class="n">r</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">¬</span><span class="o">(</span><span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span><span class="o">:</span> <span class="o">(</span><span class="bp">¬</span><span class="n">r</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">s</span><span class="o">),</span>
   <span class="k">show</span> <span class="bp">¬</span><span class="o">(</span><span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span>
   <span class="k">from</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">,</span> <span class="n">or.elim</span> <span class="n">x</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hr</span><span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">hr</span> <span class="n">mh.left</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hs</span><span class="o">:</span> <span class="n">s</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">hs</span> <span class="n">mh.right</span><span class="o">)</span> <span class="o">)</span>
  <span class="o">)</span>

<span class="kd">lemma</span> <span class="n">helper2</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span> <span class="o">:</span> <span class="o">(</span><span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>
   <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>
   <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="n">p</span><span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">x</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>
      <span class="k">from</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span><span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span> <span class="n">mh</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="o">)</span>
     <span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">y</span><span class="o">:</span> <span class="bp">¬</span><span class="n">p</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>
      <span class="k">from</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">g</span><span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span> <span class="o">)</span> <span class="c1">-- This is where I'm stuck</span>
     <span class="o">)</span>
   <span class="o">)</span>

<span class="kd">theorem</span> <span class="n">boo</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">))</span> <span class="o">:=</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span><span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span>
   <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
   <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="n">r</span><span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hr</span><span class="o">:</span> <span class="n">r</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
      <span class="k">from</span> <span class="n">or.inl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hr</span><span class="o">)</span>
     <span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hnr</span><span class="o">:</span> <span class="bp">¬</span><span class="n">r</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
      <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="n">s</span><span class="o">)</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hs</span><span class="o">:</span> <span class="n">s</span><span class="o">,</span>
         <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
         <span class="k">from</span> <span class="n">or.inr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp1</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hs</span><span class="o">)</span>
        <span class="o">)</span>
        <span class="o">(</span><span class="k">assume</span> <span class="n">hns</span><span class="o">:</span> <span class="bp">¬</span><span class="n">s</span><span class="o">,</span>
         <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
         <span class="k">from</span> <span class="n">absurd</span> <span class="n">mh</span> <span class="c1">-- helper2 (helper (and.intro hnr hns))</span>
        <span class="o">)</span>
     <span class="o">)</span>
  <span class="o">)</span>
</code></pre></div>



<a name="252249230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252249230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252249230">(Sep 07 2021 at 04:22)</a>:</h4>
<p>My suggestion for <code>boo</code> is to start by cases on <code>em p</code></p>



<a name="252249258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252249258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252249258">(Sep 07 2021 at 04:22)</a>:</h4>
<p>you shouldn't need any other uses of EM</p>



<a name="252250667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252250667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252250667">(Sep 07 2021 at 04:44)</a>:</h4>
<p>What do you mean exactly by cases on em p?? <br>
by_cases type is (p -&gt;q) -&gt; (~p -&gt;q) -&gt; q<br>
while em p is p v ~p</p>



<a name="252253581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252253581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252253581">(Sep 07 2021 at 05:27)</a>:</h4>
<p>My best guess is that you meant something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">boo</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">))</span> <span class="o">:=</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span><span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span>
   <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
   <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="n">p</span><span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span>
      <span class="n">or.elim</span> <span class="o">(</span><span class="n">mh</span> <span class="n">hp</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hr</span><span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">or.inl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hr</span><span class="o">))</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hs</span><span class="o">:</span> <span class="n">s</span><span class="o">,</span> <span class="n">or.inr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hs</span><span class="o">))</span>
     <span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hnp</span><span class="o">:</span> <span class="bp">¬</span><span class="n">p</span><span class="o">,</span>
       <span class="n">by_cases</span> <span class="n">mh</span> <span class="bp">...</span>
     <span class="o">)</span>
  <span class="o">)</span>
</code></pre></div>
<p>but that feels wrong and I think I'm misunderstanding you</p>



<a name="252271717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252271717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252271717">(Sep 07 2021 at 08:51)</a>:</h4>
<p>Pretty sure he meant <code>or.cases_on</code>, but you're pretty much there already with <code>or.elim (em p)</code>.</p>



<a name="252272127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252272127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252272127">(Sep 07 2021 at 08:55)</a>:</h4>
<p>You're extremely close here. Without giving it away, just look at what resources you already have (the hypotheses) and look closely at the structure of the goal.</p>



<a name="252272177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252272177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252272177">(Sep 07 2021 at 08:56)</a>:</h4>
<p>Which I know sounds obvious.</p>



<a name="252300617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252300617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252300617">(Sep 07 2021 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="228466">Chris B</span>Thanks! I appreciate you giving me a nudge without giving it away. What I ended up with is this :</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">boo</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">)</span> <span class="bp">→</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">))</span> <span class="o">:=</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">mh</span><span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span> <span class="bp">∨</span> <span class="n">s</span><span class="o">),</span>
   <span class="k">show</span> <span class="o">((</span><span class="n">p</span> <span class="bp">→</span> <span class="n">r</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">s</span><span class="o">)),</span>
   <span class="k">from</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">em</span> <span class="n">p</span><span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span>
      <span class="n">or.elim</span> <span class="o">(</span><span class="n">mh</span> <span class="n">hp</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hr</span><span class="o">:</span> <span class="n">r</span><span class="o">,</span> <span class="n">or.inl</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hr</span><span class="o">))</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hs</span><span class="o">:</span> <span class="n">s</span><span class="o">,</span> <span class="n">or.inr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">hs</span><span class="o">))</span>
     <span class="o">)</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">hnp</span><span class="o">:</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">false</span><span class="o">,</span>
       <span class="n">or.inl</span><span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">hp</span> <span class="n">hnp</span> <span class="o">)</span>
     <span class="o">)</span>
  <span class="o">)</span>
</code></pre></div>
<p>Still, that last absurd feels a little brutish, and not so elegant. </p>
</div></div>
<p>Maybe there's another proof out there with a better pay off??</p>



<a name="252301079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252301079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252301079">(Sep 07 2021 at 13:02)</a>:</h4>
<p>Wait, is posting final answers on this chat frowned upon?? I'll take it down if so</p>



<a name="252301288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252301288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252301288">(Sep 07 2021 at 13:04)</a>:</h4>
<p>Perhaps spoiler tags?</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>````spoiler
```lean
theorem boo : _ := _
```
````
</code></pre></div>



<a name="252301336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252301336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252301336">(Sep 07 2021 at 13:04)</a>:</h4>
<p>Becomes</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">boo</span> <span class="o">:</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">_</span>
</code></pre></div>
</div></div>



<a name="252301588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/252301588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Teixeira <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#252301588">(Sep 07 2021 at 13:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span>  Thanks for the tip!</p>



<a name="281276700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281276700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Will Wan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281276700">(May 05 2022 at 09:55)</a>:</h4>
<p>How to prove this one?<br>
¬(p → q) → p ∧ ¬q<br>
Need help!</p>



<a name="281277727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281277727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281277727">(May 05 2022 at 10:05)</a>:</h4>
<p>What have you tried so far?</p>



<a name="281278852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281278852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Will Wan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281278852">(May 05 2022 at 10:17)</a>:</h4>
<p>I tried to (em p).elim and (em q).elim, but cannot solve the hnp:¬p and hnq:¬q case. I think this is the wrong way.</p>



<a name="281279346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281279346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281279346">(May 05 2022 at 10:22)</a>:</h4>
<p>Try working by contradiction - you should be able to get there from <code>¬(p → q)</code> and <code>¬(p ∧ ¬q)</code> using some of the things you've proved before</p>



<a name="281279502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281279502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281279502">(May 05 2022 at 10:24)</a>:</h4>
<p>I will say that casing on <code>q</code> is unnecessary</p>



<a name="281282601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281282601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Will Wan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281282601">(May 05 2022 at 11:01)</a>:</h4>
<p>Managed to prove it by contradiction using lemma<br>
    ¬(p ∧ ¬q) → (¬p ∨ q),  (I used double em casing on p and q to prove this one, wonder why it works here)<br>
    (¬p ∨ q) → (p → q)<br>
    and finally ¬(p ∧ ¬q) → (p → q), <br>
thanks! :)</p>



<a name="281296837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/281296837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#281296837">(May 05 2022 at 13:11)</a>:</h4>
<p>for future's sake, my solution:</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="kt">Sort</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable</span> <span class="n">p</span><span class="o">]</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">p</span> <span class="bp">→</span> <span class="n">q</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">q</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">decidable.by_cases</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="o">⟨</span><span class="n">hp</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">q</span><span class="o">,</span> <span class="n">h</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">q</span><span class="o">)⟩)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">hp</span><span class="o">,</span> <span class="n">h.elim</span> <span class="n">hp.elim</span><span class="o">)</span>
</code></pre></div>
</div></div>



<a name="282644657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/282644657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fernand <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#282644657">(May 17 2022 at 14:02)</a>:</h4>
<p>Hello, I'm also doing the exercises in the book Theorem Proving in Lean 4 and am not sure whether my proofs are actually correct.</p>
<p>My proof below does for example not return any error even though I have the impression that I'm not really proving anything:</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>¬(p ∧ q) → ¬p ∨ ¬q </p>
</div><div class="spoiler-content" aria-hidden="true">
<p>variable (hpq : p ∧ q)</p>
<p>example : ¬(p ∧ q) → ¬p ∨ ¬q :=<br>
  fun h: ¬(p ∧ q) =&gt; <br>
  Or.inl (fun hp : p =&gt; h hpq)</p>
</div></div>
<p>According to previous posts in this stream, the proof should  be more elaborate than this and classical logic should be required. So whats going on?</p>



<a name="282645653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/282645653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#282645653">(May 17 2022 at 14:08)</a>:</h4>
<p>With <code>variable (hpq : p ∧ q)</code> you assumed <code>p ∧ q</code>, so then in the example from <code>¬(p ∧ q)</code> it should be easy to prove anything.</p>



<a name="282646947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20Chapter%203%20Exercises/near/282646947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fernand <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20Chapter.203.20Exercises.html#282646947">(May 17 2022 at 14:17)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110032">@Reid Barton</span> seems obvious now that you mention it. I felt that I was cheating somehow so thanks for calling it out ;)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>