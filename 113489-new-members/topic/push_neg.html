---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/push_neg.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html">push_neg</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214612837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214612837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214612837">(Oct 26 2020 at 18:14)</a>:</h4>
<p>How come the third of these lemmas requires explicitly pushing the negation? (If the answer is just "because it does" that's fine enough)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">all_thingies_then_false</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">false</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">exact</span> <span class="n">eq_bot_iff</span>

<span class="kd">lemma</span> <span class="n">all_thingies_not</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∉</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">exact</span> <span class="n">eq_bot_iff</span>

<span class="kd">lemma</span> <span class="n">no_thingies</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">push_neg</span><span class="o">,</span> <span class="n">exact</span> <span class="n">eq_bot_iff</span> <span class="o">}</span>
</code></pre></div>

<p>I ask mainly because I originally wrote out the third being sure it'd exist somewhere, but then <code>suggest</code> / <code>library_search</code> didn't find it, till I figured I should just rejigger.</p>



<a name="214613087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613087">(Oct 26 2020 at 18:16)</a>:</h4>
<p><code>not exists</code> is not <em>definitionally</em> equal to <code>forall not</code>.</p>



<a name="214613120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613120">(Oct 26 2020 at 18:16)</a>:</h4>
<p>and the corresponding lemma just doesn't exist in mathlib?</p>



<a name="214613140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613140">(Oct 26 2020 at 18:16)</a>:</h4>
<p>(one using not exists)</p>



<a name="214613228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613228">(Oct 26 2020 at 18:17)</a>:</h4>
<p>Certainly the lemma that not exists is equivalent to forall not will be in mathlib</p>



<a name="214613274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613274">(Oct 26 2020 at 18:17)</a>:</h4>
<p>Yeah sorry I mean the corresponding lemma to <code>eq_bot_iff</code> I guess</p>



<a name="214613279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613279">(Oct 26 2020 at 18:17)</a>:</h4>
<p>the forall not formulation is preferred</p>



<a name="214613292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613292">(Oct 26 2020 at 18:17)</a>:</h4>
<p>Probably what I mean to ask is "is there... yeah what MArio answered :)</p>



<a name="214613343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613343">(Oct 26 2020 at 18:18)</a>:</h4>
<p>So if I want one or the other I should assume it's defined as a forall</p>



<a name="214613369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613369">(Oct 26 2020 at 18:18)</a>:</h4>
<p>Cool, thanks!</p>



<a name="214613380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613380">(Oct 26 2020 at 18:18)</a>:</h4>
<p>yeah, these are so-called "idioms" in mathlib</p>



<a name="214613394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613394">(Oct 26 2020 at 18:18)</a>:</h4>
<p>like "use x &lt; y over y &gt; x"</p>



<a name="214613403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613403">(Oct 26 2020 at 18:18)</a>:</h4>
<p><em>nod</em></p>



<a name="214613420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613420">(Oct 26 2020 at 18:18)</a>:</h4>
<p>it keeps the number of needed lemmas down</p>



<a name="214613462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613462">(Oct 26 2020 at 18:19)</a>:</h4>
<p>Makes sense.</p>



<a name="214613492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613492">(Oct 26 2020 at 18:19)</a>:</h4>
<p><code>simp</code> converts not exists into forall not.</p>



<a name="214613592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613592">(Oct 26 2020 at 18:20)</a>:</h4>
<p>which means <code>by simp [eq_bot_iff]</code> should also prove the theorem</p>



<a name="214613752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613752">(Oct 26 2020 at 18:21)</a>:</h4>
<p><code>simp</code> generally tries to put things into "mathlib normal form". A great example is nonempty (rather than empty) -- there seemed to be about three ways to say that a set was non-empty in mathlib, and relatively recently it was decided to make <code>x.nonempty</code> the "canonical form" and then all the other occurrences were purged from mathlib lemmas other than the simp lemma which turns other ways of saying it into <code>x.nonempty</code></p>



<a name="214613842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214613842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214613842">(Oct 26 2020 at 18:22)</a>:</h4>
<p>That's nice, I was pondering that (whether simp encodes the idioms)</p>



<a name="214614029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614029">(Oct 26 2020 at 18:23)</a>:</h4>
<p>PS <code>by exact</code> cancels :-) </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">all_thingies_then_false</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">false</span> <span class="o">:=</span>
<span class="n">eq_bot_iff</span>
</code></pre></div>



<a name="214614031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614031">(Oct 26 2020 at 18:23)</a>:</h4>
<p>Maybe I'll ask then why <code>library_search</code> doesn't call simp first (or at least call it if it fails)</p>



<a name="214614108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614108">(Oct 26 2020 at 18:24)</a>:</h4>
<p>Tactics have very well-defined domains</p>



<a name="214614153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614153">(Oct 26 2020 at 18:24)</a>:</h4>
<p><code>library_search</code> looks for one lemma in the library which closes the goal immediately. That's its job.</p>



<a name="214614169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614169">(Oct 26 2020 at 18:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/push_neg/near/214614029">said</a>:</p>
<blockquote>
<p>PS <code>by exact</code> cancels :-) </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">all_thingies_then_false</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="bp">→</span> <span class="n">false</span> <span class="o">:=</span>
<span class="n">eq_bot_iff</span>
</code></pre></div>

</blockquote>
<p>aha thanks! I tried \&lt;eq_bot_iff\&gt; and some other random syntax permutations, but not that one, appreciated</p>



<a name="214614200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614200">(Oct 26 2020 at 18:25)</a>:</h4>
<p>it would be <em>way</em> too expensive to call <code>simp</code> on every lemma in the library</p>



<a name="214614214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614214">(Oct 26 2020 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/push_neg/near/214614153">said</a>:</p>
<blockquote>
<p><code>library_search</code> looks for one lemma in the library which closes the goal immediately. That's its job.</p>
</blockquote>
<p>yeah fair enough then some other higher level tactic right?</p>



<a name="214614227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614227">(Oct 26 2020 at 18:25)</a>:</h4>
<p>not on every lemma in the library, just on the goal</p>



<a name="214614240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614240">(Oct 26 2020 at 18:25)</a>:</h4>
<p><code>{simp, library_search}</code> is one tactic</p>



<a name="214614286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614286">(Oct 26 2020 at 18:26)</a>:</h4>
<p>basically it didn't find <code>eq_bot_iff</code> because my thing was not in mathlib-normal form (and yeah I didn't think of running <code>simp</code> myself because I didn't know I wasn't in normal form)</p>



<a name="214614363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614363">(Oct 26 2020 at 18:26)</a>:</h4>
<p>but I can commit to memory to run <code>{simp, library_search}</code> instead next time I'm "stuck" if that's a decent idea?</p>



<a name="214614418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614418">(Oct 26 2020 at 18:26)</a>:</h4>
<p>non-terminal simps are evil</p>



<a name="214614464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614464">(Oct 26 2020 at 18:27)</a>:</h4>
<p>it's fine for <code>library_search</code> since it's not going into mathlib</p>



<a name="214614476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614476">(Oct 26 2020 at 18:27)</a>:</h4>
<p>right and then <code>squeeze_simp</code> when it finds it etc., hopefully I'm starting to commit at least some of this mental algorithm :D</p>



<a name="214614532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614532">(Oct 26 2020 at 18:27)</a>:</h4>
<p>PS <code>finset.eq_empty_iff_forall_not_mem</code> is a thing, which is far closer to what you want</p>



<a name="214614548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614548">(Oct 26 2020 at 18:27)</a>:</h4>
<p>once you know what lemma you want, you can better figure out how to make it applicable, whether <code>simp</code> or <code>rw</code> or <code>apply</code> is appropriate</p>



<a name="214614621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614621">(Oct 26 2020 at 18:28)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">no_thingies</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">finset.eq_empty_iff_forall_not_mem</span><span class="o">]</span>
</code></pre></div>



<a name="214614645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614645">(Oct 26 2020 at 18:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/push_neg/near/214614621">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">no_thingies</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">nat</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="bp">↔</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">nat</span><span class="o">),</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">finset.eq_empty_iff_forall_not_mem</span><span class="o">]</span>
</code></pre></div>

</blockquote>
<p>aha, thank you! did you find that from just looking at <code>finset</code>'s file?</p>



<a name="214614672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614672">(Oct 26 2020 at 18:28)</a>:</h4>
<p>(and/or knowing about it)</p>



<a name="214614691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614691">(Oct 26 2020 at 18:28)</a>:</h4>
<p>none of those things</p>



<a name="214614725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614725">(Oct 26 2020 at 18:29)</a>:</h4>
<p>I found it by typing <code>eq_empty_iff</code> and pressing ctrl-space</p>



<a name="214614761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614761">(Oct 26 2020 at 18:29)</a>:</h4>
<p>because I was interested in seeing which lemmas started with <code>x = empty iff ...</code></p>



<a name="214614792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614792">(Oct 26 2020 at 18:29)</a>:</h4>
<p>got it, yeah I don't think I know the naming conventions well enough yet to do that</p>



<a name="214614810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614810">(Oct 26 2020 at 18:30)</a>:</h4>
<p><a href="https://leanprover-community.github.io/contribute/naming.html">#naming</a></p>



<a name="214614911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214614911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214614911">(Oct 26 2020 at 18:30)</a>:</h4>
<p>thanks obviously each of these tips are super helpful</p>



<a name="214615019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214615019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214615019">(Oct 26 2020 at 18:31)</a>:</h4>
<p>This is a really powerful way to find lemmas. I did it because <code>simp [eq_bot_iff]</code> doesn't work because Lean doesn't realise the definitional equalities (<code>simp</code> and <code>rw</code> work with syntactic equalities) so I wanted to find the same lemma but specifically for finsets.</p>



<a name="214615169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214615169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214615169">(Oct 26 2020 at 18:32)</a>:</h4>
<p>If <code>eq_bot_iff</code> is <code>x = \bot \iff ...</code> then it's not surprising that <code>eq_empty_iff</code> is what we want.</p>



<a name="214641871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214641871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214641871">(Oct 26 2020 at 22:36)</a>:</h4>
<p>well hooray, I successfully managed to find/use <code>option.eq_none_iff_forall_not_mem</code>just now in a similar situation when suggest + library_search were failing me, so some progress on me learning the naming conventions.</p>



<a name="214653970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214653970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214653970">(Oct 27 2020 at 01:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321696">Julian Berman</span> <a href="#narrow/stream/113489-new-members/topic/push_neg/near/214614363">said</a>:</p>
<blockquote>
<p>but I can commit to memory to run <code>{simp, library_search}</code> instead next time I'm "stuck" if that's a decent idea?</p>
</blockquote>
<p>You might try <code>hint</code>.</p>



<a name="214654157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214654157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214654157">(Oct 27 2020 at 02:01)</a>:</h4>
<p>I have vague memories of you telling me that the last time I was stuck (and then following it up by saying <code>hint</code> sometimes says silly things)</p>



<a name="214654164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/push_neg/near/214654164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/push_neg.html#214654164">(Oct 27 2020 at 02:01)</a>:</h4>
<p>But thanks probably good reminder, I forgot about <code>hint</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>