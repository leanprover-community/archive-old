---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/lub.20property.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html">lub property</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="282688903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282688903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282688903">(May 17 2022 at 18:48)</a>:</h4>
<p>Hello, I'm working through the following proof: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">field_theory.ratfunc</span>

<span class="kd">theorem</span> <span class="n">baby_rudin_c1_p20_a</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">v</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">v</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span><span class="o">}</span> <span class="k">with</span> <span class="n">hS</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">not_exists</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>My goal now is to use the fact that R has the least upperbound property so then S being a subset of R that is non-empty and bounded above (by y) we must get some least upperbound a, and I'll use that to get a contradiction.</p>
<p>Can I get a tip as to what the name of these upperbound properties would be called in mathlib?</p>



<a name="282689706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282689706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282689706">(May 17 2022 at 18:53)</a>:</h4>
<p>"lub" is probably the right abbreviation to search for</p>



<a name="282689972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282689972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282689972">(May 17 2022 at 18:55)</a>:</h4>
<p>Maybe also <code>bdd_above</code>?</p>



<a name="282690127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282690127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282690127">(May 17 2022 at 18:56)</a>:</h4>
<p>Taking a look</p>



<a name="282690426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282690426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282690426">(May 17 2022 at 18:58)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/is_lub">docs#is_lub</a></p>



<a name="282690449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282690449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282690449">(May 17 2022 at 18:58)</a>:</h4>
<p>It goes along <a href="https://leanprover-community.github.io/mathlib_docs/find/is_least">docs#is_least</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/bdd_above">docs#bdd_above</a></p>



<a name="282690869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282690869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282690869">(May 17 2022 at 19:01)</a>:</h4>
<p>I want to say that there exists a lub for <code>S</code> as it's a non-empty bounded above subset of <code>R</code>, any hint for that theorem?</p>



<a name="282691129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282691129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282691129">(May 17 2022 at 19:02)</a>:</h4>
<p>this one? <a href="https://leanprover-community.github.io/mathlib_docs/find/exists_lub_Iio">docs#exists_lub_Iio</a></p>



<a name="282694481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282694481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282694481">(May 17 2022 at 19:26)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/Sup">docs#Sup</a> is the least upper bound, and facts about the version for real numbers are near <a href="https://leanprover-community.github.io/mathlib_docs/find/real.Sup_def">docs#real.Sup_def</a>. See for example <a href="https://leanprover-community.github.io/mathlib_docs/find/real.is_lub_Sup">docs#real.is_lub_Sup</a></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">field_theory.ratfunc</span>

<span class="kd">theorem</span> <span class="n">baby_rudin_c1_p20_a</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">v</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">v</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span><span class="o">}</span> <span class="k">with</span> <span class="n">hS</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hSn</span> <span class="o">:</span> <span class="n">S.nonempty</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">],</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hSb</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">_</span> <span class="n">hn</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hl</span> <span class="o">:=</span> <span class="n">real.is_lub_Sup</span> <span class="n">S</span> <span class="n">hSn</span> <span class="n">hSb</span><span class="o">,</span>
  <span class="c1">-- hl : is_lub S (Sup S)</span>

<span class="kd">end</span>
</code></pre></div>



<a name="282694788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282694788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282694788">(May 17 2022 at 19:29)</a>:</h4>
<p>By the way, you can write that set as <code>{ (n * x : ℝ) | (n : ℕ) (h : 0 &lt; n) }</code>. When there are parentheses around the left of the <code>|</code>, it's treated as an expression, and everything to the right of the <code>|</code> is treated as arguments for an existential.</p>



<a name="282694872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282694872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282694872">(May 17 2022 at 19:30)</a>:</h4>
<p>It's a slightly different definition since it's using <code>exists</code> rather than <code>and</code> for the <code>0 &lt; n</code>.</p>



<a name="282707640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282707640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282707640">(May 17 2022 at 21:11)</a>:</h4>
<p>How have I never known about this syntax? <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="282708201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282708201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282708201">(May 17 2022 at 21:16)</a>:</h4>
<p>It was only added a couple of years ago in the community edition, so while its been around for a while its not as widely known/used as things in core that are discussed in <a href="https://leanprover.github.io/theorem_proving_in_lean/">#tpil</a> etc.</p>



<a name="282978261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282978261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282978261">(May 19 2022 at 19:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/lub.20property/near/282694481">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/Sup">docs#Sup</a> is the least upper bound, and facts about the version for real numbers are near <a href="https://leanprover-community.github.io/mathlib_docs/find/real.Sup_def">docs#real.Sup_def</a>. See for example <a href="https://leanprover-community.github.io/mathlib_docs/find/real.is_lub_Sup">docs#real.is_lub_Sup</a></p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">field_theory.ratfunc</span>

<span class="kd">theorem</span> <span class="n">baby_rudin_c1_p20_a</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">v</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">v</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span><span class="o">}</span> <span class="k">with</span> <span class="n">hS</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hSn</span> <span class="o">:</span> <span class="n">S.nonempty</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">],</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hSb</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">_</span> <span class="n">hn</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hl</span> <span class="o">:=</span> <span class="n">real.is_lub_Sup</span> <span class="n">S</span> <span class="n">hSn</span> <span class="n">hSb</span><span class="o">,</span>
  <span class="c1">-- hl : is_lub S (Sup S)</span>

<span class="kd">end</span>
</code></pre></div><br>
</p>
</blockquote>
<p>This is really useful, I'm trying to imitate this proof:</p>
<p><a href="/user_uploads/3121/KLb_Y4lOcNAKOscriG-Oiixs/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/KLb_Y4lOcNAKOscriG-Oiixs/image.png" title="image.png"><img src="/user_uploads/3121/KLb_Y4lOcNAKOscriG-Oiixs/image.png"></a></div><p>So I'm wondering if anyone knows of any theorems in mathlib that would help with </p>
<p>"since alpha - x &lt; alpha, and alpha is the least upper bound we get that alpha - x is not a lower bound, so then there exists a positive integer m so that alpha - x &lt; mx, and then keep going for the contradiction"?</p>



<a name="282978409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282978409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282978409">(May 19 2022 at 19:14)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/exists_lt_of_lt_cSup">docs#exists_lt_of_lt_cSup</a></p>



<a name="282980491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282980491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282980491">(May 19 2022 at 19:32)</a>:</h4>
<p>I got the proof down to this: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">field_theory.ratfunc</span>

<span class="kd">theorem</span> <span class="n">baby_rudin_c1_p20_a</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">}</span> <span class="k">with</span> <span class="n">hS</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hSn</span> <span class="o">:</span> <span class="n">S.nonempty</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">],</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hSb</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">_</span> <span class="n">hn</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hl</span> <span class="o">:=</span> <span class="n">real.is_lub_Sup</span> <span class="n">S</span> <span class="n">hSn</span> <span class="n">hSb</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">α</span> <span class="o">:=</span> <span class="n">Sup</span> <span class="n">S</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hlt</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">Sup</span> <span class="n">S</span><span class="o">,</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">exists_lt_of_lt_cSup</span> <span class="n">hSn</span> <span class="n">hlt</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hb</span> <span class="k">with</span> <span class="n">hSk</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hSk</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hltx</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">,</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hnin</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">∉</span> <span class="n">upper_bounds</span> <span class="n">S</span><span class="o">,</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="c1">-- contradiction using hl and hnin to finish...</span>
<span class="kd">end</span>
</code></pre></div>
<p>So there's a few things I'm struggling with to finish that proof, an tips on how I can get this working? (P.S I took a little break from lean so I'm a little rusty rn)</p>



<a name="282983700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282983700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282983700">(May 19 2022 at 19:57)</a>:</h4>
<p>For the first sorry, I guessed the name of the relevant lemma: <a href="https://leanprover-community.github.io/mathlib_docs/find/sub_lt_self">docs#sub_lt_self</a></p>



<a name="282984377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282984377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282984377">(May 19 2022 at 20:02)</a>:</h4>
<p>And <code>exact hnin hl.1,</code> finishes the proof, since <code>is_lub</code> is deep down <code>α ∈ upper_bounds S ∧ _</code></p>



<a name="282984444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282984444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282984444">(May 19 2022 at 20:02)</a>:</h4>
<p>There's probably a better way to spell <code>hl.1</code>, but I couldn't find it just now</p>



<a name="282984560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282984560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282984560">(May 19 2022 at 20:03)</a>:</h4>
<p>Btw, I'm assuming you're mostly doing this to get used to lub arguments, because there's a direct three-line proof of the lemma as well</p>



<a name="282985122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/282985122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#282985122">(May 19 2022 at 20:07)</a>:</h4>
<p>Final one before I head off: guessing lemma names found <code>sub_lt_iff_lt_add</code> and <code>add_one_mul</code> for the second sorry</p>



<a name="287637393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/287637393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#287637393">(Jun 27 2022 at 21:10)</a>:</h4>
<p>I managed to finish the proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">field_theory.ratfunc</span>

<span class="kd">theorem</span> <span class="n">baby_rudin_c1_p20_a</span>
  <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">∧</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="o">{</span> <span class="o">(</span><span class="n">n</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">|</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">}</span> <span class="k">with</span> <span class="n">hS</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hSn</span> <span class="o">:</span> <span class="n">S.nonempty</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">],</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hSb</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="n">y</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">_</span> <span class="n">hn</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hl</span> <span class="o">:=</span> <span class="n">real.is_lub_Sup</span> <span class="n">S</span> <span class="n">hSn</span> <span class="n">hSb</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">α</span> <span class="o">:=</span> <span class="n">Sup</span> <span class="n">S</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hlt</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">-</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">Sup</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="k">have</span> <span class="n">lt_self</span> <span class="o">:=</span> <span class="n">lt_add_of_pos_right</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span><span class="o">)</span> <span class="n">h₀</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">sub_right_lt_of_lt_add</span> <span class="n">lt_self</span><span class="o">,</span>
  <span class="o">}</span> <span class="o">,</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">exists_lt_of_lt_cSup</span> <span class="n">hSn</span> <span class="n">hlt</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hb</span> <span class="k">with</span> <span class="n">hSk</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hSk</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hltx</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="k">have</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">lt_add_of_sub_right_lt</span> <span class="n">hb</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hb</span> <span class="o">:=</span> <span class="n">add_one_mul</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">b</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="k">have</span> <span class="n">hin</span> <span class="o">:</span> <span class="o">((</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">use</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>
      <span class="k">have</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">lt_add_one</span> <span class="n">n</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">lt_trans</span> <span class="n">hn</span> <span class="n">x</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span>
      <span class="n">refl</span><span class="o">,</span>
    <span class="o">}</span>
  <span class="o">},</span>
  <span class="k">have</span> <span class="n">hnin</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">∉</span> <span class="n">upper_bounds</span> <span class="n">S</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">let</span> <span class="n">hc</span> <span class="o">:=</span> <span class="n">not_lt_of_le</span> <span class="o">(</span><span class="n">h</span> <span class="n">hin</span><span class="o">),</span>
    <span class="n">exact</span> <span class="n">hc</span> <span class="n">hltx</span><span class="o">,</span>
  <span class="o">}</span> <span class="o">,</span>
  <span class="n">exact</span> <span class="n">hnin</span> <span class="n">hl.1</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>But I had a few questions:</p>
<p>1) How does     <code>simp [S]</code>,  on line 14 finish the sub proof?<br>
2) What does <code>    obtain ⟨n, hn, rfl⟩ := ha,</code> on line 18 actually do? Curious about the <code>rfl</code> part<br>
3) Is there anything that could be done to shorten the proof?</p>



<a name="287637645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lub%20property/near/287637645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lub.20property.html#287637645">(Jun 27 2022 at 21:12)</a>:</h4>
<p>For 2) you can read about the <code>rfl</code> Easter egg in my course notes <a href="https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2022/Part_C/tactics/rintro.html">here</a> but I'd be surprised if it's not mentioned in the docstring of the tactic.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>