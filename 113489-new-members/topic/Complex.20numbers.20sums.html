---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Complex.20numbers.20sums.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html">Complex numbers sums</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234176580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234176580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234176580">(Apr 12 2021 at 15:10)</a>:</h4>
<p>Hello! I was playing with some sums over real and complex numbers, but I got stuck at the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">data.complex.basic</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">universe</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">V</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">ℂ</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">test_lemma</span> <span class="o">:</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="o">(</span><span class="n">c</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">r</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="o">(</span><span class="n">r</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">c</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">key</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="o">(</span><span class="n">c</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">r</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">r</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">c</span> <span class="n">i</span><span class="o">),</span>
  <span class="o">{</span><span class="n">intro</span> <span class="n">i</span><span class="o">,</span> <span class="n">exact</span> <span class="n">mul_comm</span> <span class="o">(</span><span class="n">c</span> <span class="n">i</span><span class="o">)</span> <span class="bp">↑</span><span class="o">(</span><span class="n">r</span> <span class="n">i</span><span class="o">)},</span>
  <span class="n">simp</span><span class="o">[</span><span class="n">key</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">def</span> <span class="n">test_real</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="n">r</span> <span class="n">i</span>
<span class="kd">def</span> <span class="n">test_complex</span> <span class="o">:</span> <span class="n">ℂ</span> <span class="o">:=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="c1">-- definition 'test_complex' is noncomputable, it depends on 'complex.field'</span>

<span class="kd">def</span> <span class="n">sum_elems</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="n">c</span> <span class="n">i</span> <span class="c1">-- same</span>

<span class="kd">def</span> <span class="n">product_elems</span> <span class="o">:</span> <span class="n">ℂ</span> <span class="o">:=</span> <span class="bp">∑</span> <span class="n">j</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="n">c</span> <span class="n">j</span> <span class="bp">*</span> <span class="n">r</span> <span class="n">j</span> <span class="c1">-- same</span>
</code></pre></div>
<p>I was trying to create a function that would do a "dot_product" between a real and a complex vector, but I got an error, and apparently I can't have a definition that, given a complex vector, returns the sum of its elements. The explanation I see is that the part where we prove that the set of complex numbers is a field is noncomputable, but from what I saw (correct me if I'm wrong), this is also the case for the set of real numbers. However, for real numbers everything is fine. Additionally, I could work in a lemma with the sum I wanted to obtain (and I tested it on a simple lemma to see how it behaves) without any complains. What should I do?</p>



<a name="234176731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234176731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234176731">(Apr 12 2021 at 15:11)</a>:</h4>
<p>Quick answer: you can put <code>noncomputable theory</code> after the imports, then Lean will stop warning you about noncomputability.</p>



<a name="234177071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234177071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234177071">(Apr 12 2021 at 15:13)</a>:</h4>
<p>You need to warn that a <code>def</code> is noncomputable because normally, Lean produces executable code for a <code>def</code>. For lemmas, it only checks that the lemma proof has the type of the lemma statement.</p>



<a name="234178835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234178835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234178835">(Apr 12 2021 at 15:22)</a>:</h4>
<p>The reason why it happens to work for reals and not for complex numbers is kind of technical: in principle both <code>test_real</code> and <code>test_complex</code> should be computable, since addition, subtraction and multiplication of real numbers are computable, so are the equivalent operations for complex numbers: there is a computable <code>comm_ring ℝ</code> structure in mathlib (called <a href="https://leanprover-community.github.io/mathlib_docs/find/real.comm_ring">docs#real.comm_ring</a>). But for complex numbers, there is only a <code>field ℂ</code> structure available, <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.field">docs#complex.field</a>, and mathlib's division operator is not computable for real or complex numbers. This noncomputability also "infects" the <code>add_comm_monoid ℂ</code> structure used by the summation over <code>V</code>, making it noncomputable too.</p>



<a name="234179647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234179647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234179647">(Apr 12 2021 at 15:28)</a>:</h4>
<p>But if I want to continue working with the sum_elems and product_elems definitons, is it ok to make them noncomputable and then carry on using them?</p>



<a name="234179779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234179779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234179779">(Apr 12 2021 at 15:28)</a>:</h4>
<p>Yes, there should be no problem marking them noncomputable.</p>



<a name="234180014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234180014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234180014">(Apr 12 2021 at 15:30)</a>:</h4>
<p>Ultimately, I am trying to work with the eigenvalues of a real-valued matrix, and since they can be complex, my plan is to define eigenvectors as complex and this would imply a (real)matrix-(complex)vector multiplication operation. I don't know if this is a good approach, but might get more experience from it.</p>



<a name="234180395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234180395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234180395">(Apr 12 2021 at 15:32)</a>:</h4>
<p>That sounds like a good start if you are doing the project to practice. If you want to contribute to mathlib, be sure to check out <a href="https://leanprover-community.github.io/mathlib_docs/find/module.End.has_eigenvector">docs#module.End.has_eigenvector</a> as well, so you don't do too much duplicate work :)</p>



<a name="234181273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234181273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234181273">(Apr 12 2021 at 15:38)</a>:</h4>
<p>I consulted that as well, but it seems a little too complicated for me at the moment, as I am not a very experienced mathematician :( .  I don't really see how to apply the definition</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">eigenspace</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">End</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">μ</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">R</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">f</span> <span class="bp">-</span> <span class="n">algebra_map</span> <span class="n">R</span> <span class="o">(</span><span class="n">End</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="n">μ</span><span class="o">)</span><span class="bp">.</span><span class="n">ker</span>
</code></pre></div>
<p>to my case with f being a matrix (linear transformation) with coefficients in ℝ and μ a complex value. So that's why I wanted to make something more restricted (even though I am using noncomputable to every definition I create <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> ), but obviously the best way would be to use the already existing model and build from it.</p>



<a name="234181682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234181682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234181682">(Apr 12 2021 at 15:40)</a>:</h4>
<p>You can interpret the real matrix as being in C, then the types match up</p>



<a name="234181840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234181840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234181840">(Apr 12 2021 at 15:41)</a>:</h4>
<p>Would you rather work with <code>matrix ...</code> or <code>linear_map</code>?</p>



<a name="234182354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234182354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234182354">(Apr 12 2021 at 15:44)</a>:</h4>
<p>I am not sure what would be the best option. I already have some work with matrices and I wanted to develop that more with some eigenvalue properties, so that's why I wanted to work with matrices. Can I juggle between them  easily/efficiently?</p>



<a name="234182778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234182778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234182778">(Apr 12 2021 at 15:46)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.to_lin'">docs#matrix.to_lin'</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.to_matrix'">docs#linear_map.to_matrix'</a></p>



<a name="234182836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234182836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234182836">(Apr 12 2021 at 15:46)</a>:</h4>
<p>So easy interconversion retaining the linear structure</p>



<a name="234183172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234183172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234183172">(Apr 12 2021 at 15:48)</a>:</h4>
<p>And you can use a <code>coe</code> that is a <code>linear_map</code> to express your linear map on R as a linear map on C</p>



<a name="234183424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234183424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234183424">(Apr 12 2021 at 15:50)</a>:</h4>
<p>Thank you! I'll see how I can work with those!</p>



<a name="234183508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234183508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234183508">(Apr 12 2021 at 15:50)</a>:</h4>
<p>I'm sure somewhere in mathlib we have the linear_map, or even linear_isometry of the embedding of R into C</p>



<a name="234183629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234183629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234183629">(Apr 12 2021 at 15:51)</a>:</h4>
<p>Then you get your <code>End C C</code> iiuc</p>



<a name="234184166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234184166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234184166">(Apr 12 2021 at 15:54)</a>:</h4>
<p>How would a lemma like "Eigenvalues of a symmetric real matrix are real" be stated using linear maps then?</p>



<a name="234184609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234184609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234184609">(Apr 12 2021 at 15:57)</a>:</h4>
<p>for all <code>mu</code> such that <code>End.has_eigenvalue (real_to_complex f) mu</code>, <code>mu.im = 0</code> or something more neat</p>



<a name="234184758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234184758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234184758">(Apr 12 2021 at 15:58)</a>:</h4>
<p>And where does the symmetry come into place?</p>



<a name="234184848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234184848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234184848">(Apr 12 2021 at 15:59)</a>:</h4>
<p>Well, it's a constraint on what <code>f</code> you provide</p>



<a name="234185081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234185081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234185081">(Apr 12 2021 at 16:00)</a>:</h4>
<p>If you're working on <code>End</code>, you might use <code>linear_equiv</code></p>



<a name="234185454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234185454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234185454">(Apr 12 2021 at 16:02)</a>:</h4>
<p>I see, and btw if I have a noncomputable definition test_def, I can't have a command "unfold test_def" I suppose, right?</p>



<a name="234185682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234185682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234185682">(Apr 12 2021 at 16:03)</a>:</h4>
<p>Yes, you can. <code>noncomputable</code> just means that no VM code is generated for that defn</p>



<a name="234188129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234188129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234188129">(Apr 12 2021 at 16:21)</a>:</h4>
<p>(deleted)</p>



<a name="234188261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234188261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234188261">(Apr 12 2021 at 16:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/113489-new-members/topic/Complex.20numbers.20sums/near/234178835">said</a>:</p>
<blockquote>
<p>But for complex numbers, there is only a <code>field ℂ</code> structure available, <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.field">docs#complex.field</a>,</p>
</blockquote>
<p>Citation needed: <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.comm_ring">docs#complex.comm_ring</a></p>



<a name="234188383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234188383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234188383">(Apr 12 2021 at 16:22)</a>:</h4>
<p>It sounds like the action problem is that <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.add_comm_monoid">docs#complex.add_comm_monoid</a> is missing</p>



<a name="234196864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234196864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234196864">(Apr 12 2021 at 17:18)</a>:</h4>
<p>Is there a way to prove that :</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">sum_complex_re</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="n">x</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">re</span> <span class="bp">=</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">re</span>
</code></pre></div>
<p>I was thinking about using the "add_re" lemma, but I don't see how.</p>



<a name="234198250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234198250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234198250">(Apr 12 2021 at 17:28)</a>:</h4>
<p>Previously that would be <code>linear_map.re.map_sum</code></p>



<a name="234198276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234198276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234198276">(Apr 12 2021 at 17:28)</a>:</h4>
<p>But I think <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.re">docs#linear_map.re</a> got renamed</p>



<a name="234198309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234198309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234198309">(Apr 12 2021 at 17:28)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/complex.re_lm">docs#complex.re_lm</a>?</p>



<a name="234198667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234198667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234198667">(Apr 12 2021 at 17:31)</a>:</h4>
<p>And how can it be used for the sum?</p>



<a name="234199301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234199301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234199301">(Apr 12 2021 at 17:35)</a>:</h4>
<p>You'd need <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.map_sum">docs#linear_map.map_sum</a> with <code>re_lm</code> as <code>f</code></p>



<a name="234199385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234199385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234199385">(Apr 12 2021 at 17:36)</a>:</h4>
<p><code>complex.re_lm.map_sum</code> I think is the proof of your lemma</p>



<a name="234200286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234200286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234200286">(Apr 12 2021 at 17:42)</a>:</h4>
<p>Found it, it was  <code>linear_map.re.map_sum</code>, thanks!</p>



<a name="234201513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234201513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234201513">(Apr 12 2021 at 17:51)</a>:</h4>
<p>Sounds like you're on an old mathlib</p>



<a name="234234435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234234435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234234435">(Apr 12 2021 at 21:31)</a>:</h4>
<p>There's no such thing as a symmetric linear map -- this is a predicate on matrices, ie it depends on the choice of basis</p>



<a name="234234893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234234893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234234893">(Apr 12 2021 at 21:35)</a>:</h4>
<p>You can still phrase this about linear_maps in a round-about way via <code>matrix.to_lin</code>, which does require two explicit bases</p>



<a name="234346360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234346360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234346360">(Apr 13 2021 at 15:18)</a>:</h4>
<p>Is there a lemma which states that the sum of nonnegative (real) numbers is 0 iff all the numbers are 0?</p>



<a name="234346597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234346597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234346597">(Apr 13 2021 at 15:20)</a>:</h4>
<p>That's a lemma about a constant function</p>



<a name="234346954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234346954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234346954">(Apr 13 2021 at 15:21)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sum_const_zero">docs#finset.sum_const_zero</a></p>



<a name="234347080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347080">(Apr 13 2021 at 15:22)</a>:</h4>
<p>That's only one direction of the iff, surely</p>



<a name="234347278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347278">(Apr 13 2021 at 15:23)</a>:</h4>
<p>Or <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sum_subset">docs#finset.sum_subset</a></p>



<a name="234347458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347458">(Apr 13 2021 at 15:24)</a>:</h4>
<p>Yeah, I am more interested in the =&gt; direction. (sum = 0 =&gt; numbers are 0)</p>



<a name="234347502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347502">(Apr 13 2021 at 15:24)</a>:</h4>
<p>I don't think the iff is stated anywhere obvious because nonnegative numbers isn't a type.</p>



<a name="234347541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347541">(Apr 13 2021 at 15:24)</a>:</h4>
<p>Unless you're working on nnreal</p>



<a name="234347645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347645">(Apr 13 2021 at 15:25)</a>:</h4>
<p>Or it is, but I can't guess the name at the moment</p>



<a name="234347673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347673">(Apr 13 2021 at 15:25)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sum_eq_zero_iff_of_nonneg">docs#finset.sum_eq_zero_iff_of_nonneg</a>  ?</p>



<a name="234347726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234347726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234347726">(Apr 13 2021 at 15:25)</a>:</h4>
<p>This one looks helpful</p>



<a name="234348341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234348341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234348341">(Apr 13 2021 at 15:29)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/finset.sum_eq_zero_iff">docs#finset.sum_eq_zero_iff</a> seems to work on nnreal</p>



<a name="234479294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234479294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234479294">(Apr 14 2021 at 11:00)</a>:</h4>
<p>Is there a lemma which states that a polynomial of degree n (with real coefficients) has n (complex) roots?</p>



<a name="234479631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234479631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234479631">(Apr 14 2021 at 11:03)</a>:</h4>
<p>Probably the easiest: combine <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.degree_eq_card_roots">docs#polynomial.degree_eq_card_roots</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.is_alg_closed">docs#complex.is_alg_closed</a>, via <a href="https://leanprover-community.github.io/mathlib_docs/find/is_alg_closed.splits">docs#is_alg_closed.splits</a></p>



<a name="234481012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481012">(Apr 14 2021 at 11:17)</a>:</h4>
<p>And the homomorphism should be from C to C? I am a little confused about the "splits" part</p>



<a name="234481139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481139">(Apr 14 2021 at 11:18)</a>:</h4>
<p><span class="user-mention" data-user-id="366674">@Gabriel Moise</span> in general a polynomial only split over a some larger field extension.</p>



<a name="234481164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481164">(Apr 14 2021 at 11:19)</a>:</h4>
<p>So you have to give the ring hom that describes this extension.</p>



<a name="234481223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481223">(Apr 14 2021 at 11:19)</a>:</h4>
<p>But that last lemma that Anne linked to shows that <code>id : C -&gt; C</code> will work, because <code>C</code> is alg. closed (2nd link).</p>



<a name="234481224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481224">(Apr 14 2021 at 11:19)</a>:</h4>
<p>Since your coefficients are real, the specific ring hom will be <code>algebra_map ℝ ℂ</code>.</p>



<a name="234481299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481299">(Apr 14 2021 at 11:20)</a>:</h4>
<p>Good point, I forgot the actual question <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="234481576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481576">(Apr 14 2021 at 11:22)</a>:</h4>
<p>Hmm, you'll have to do some rewriting (composing <code>algebra_map ℝ ℂ</code> with the identity) to get this to work. Should we define <code>is_alg_closed.splits : ∀ {R S} (f : R →+* S) (p : polynomial R), p.splits f</code> instead?</p>



<a name="234481645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481645">(Apr 14 2021 at 11:23)</a>:</h4>
<p>That is: keep the definition of <code>is_alg_closed</code>, rename <code>is_alg_closed.splits</code> to <code>is_alg_closed.splits'</code> and add this as a better eliminator.</p>



<a name="234481764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481764">(Apr 14 2021 at 11:25)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span> yes, that seems very reasonable</p>



<a name="234481887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481887">(Apr 14 2021 at 11:26)</a>:</h4>
<p>Where I assume <code>S</code> is your preferred letter for algebraically closed fields <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="234481945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234481945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234481945">(Apr 14 2021 at 11:26)</a>:</h4>
<p>Ah nevermind, that is literally the next definition <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splits'">docs#polynomial.splits'</a> :P</p>



<a name="234482161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234482161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234482161">(Apr 14 2021 at 11:28)</a>:</h4>
<p>Wait no, there <code>f</code> goes in the opposite direction.</p>



<a name="234482402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234482402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234482402">(Apr 14 2021 at 11:31)</a>:</h4>
<p>Lol... I guess we want both</p>



<a name="234482662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234482662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234482662">(Apr 14 2021 at 11:33)</a>:</h4>
<p>I don't want to call them <code>polynomial.splits'</code> and <code>polynomial.splits''</code>, how about <code>is_alg_closed.splits_domain</code> (the domain of <code>f</code> is alg closed) and <code>is_alg_closed.splits_codomain</code> (the codomain of <code>f</code> is alg closed)?</p>



<a name="234483280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234483280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234483280">(Apr 14 2021 at 11:38)</a>:</h4>
<p>I am a little stuck with these two now:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">help_split</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">splits</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">)</span> <span class="n">P</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">help_algebra_map</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">multiset.card</span> <span class="o">(</span><span class="n">map</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">)</span> <span class="n">P</span><span class="o">)</span><span class="bp">.</span><span class="n">roots</span> <span class="bp">=</span> <span class="n">multiset.card</span> <span class="n">P.roots</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="234483337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234483337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234483337">(Apr 14 2021 at 11:39)</a>:</h4>
<p>I would imagine that <code>multiset.card P.roots</code> is just the roots of P in the reals, so that second one might not be true for something like x^2+1 right?</p>



<a name="234483689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234483689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234483689">(Apr 14 2021 at 11:42)</a>:</h4>
<p>Oh, I see, then this approach doesn't work then?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">help_split</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">splits</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">)</span> <span class="n">P</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">degree_n_poly_has_n_roots</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H_P</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">P.degree</span> <span class="bp">=</span> <span class="n">P.roots.card</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">i</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→+*</span> <span class="n">ℂ</span> <span class="o">:=</span> <span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hsplit</span> <span class="o">:</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">P</span><span class="o">,</span> <span class="o">{</span><span class="n">exact</span> <span class="n">help_split</span> <span class="n">P</span><span class="o">},</span>
  <span class="n">rw</span> <span class="n">degree_eq_card_roots</span> <span class="n">H_P</span> <span class="n">hsplit</span><span class="o">,</span>
  <span class="c1">-- Goal : ↑(⇑multiset.card (map i P).roots) = ↑(⇑multiset.card P.roots)</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="234484370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234484370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234484370">(Apr 14 2021 at 11:48)</a>:</h4>
<p>Question 1:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">help_split</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">splits</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">)</span> <span class="n">P</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">)</span><span class="bp">.</span><span class="n">id_comp</span><span class="o">,</span> <span class="bp">←</span> <span class="n">splits_map_iff</span><span class="o">],</span>
     <span class="n">exact</span> <span class="n">is_alg_closed.splits</span> <span class="o">(</span><span class="n">P.map</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℝ</span> <span class="n">ℂ</span><span class="o">))</span> <span class="o">}</span>
</code></pre></div>
<p>(soon it will just be <code>:= is_alg_closed.splits_codomain _ _</code>).</p>



<a name="234484430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234484430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234484430">(Apr 14 2021 at 11:49)</a>:</h4>
<p>Indeed, <code>degree_n_poly_has_n_roots</code> as is stated now is not true, because <code>P.roots</code> does not include any complex roots.</p>



<a name="234484636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234484636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234484636">(Apr 14 2021 at 11:51)</a>:</h4>
<p>PR created: <a href="https://github.com/leanprover-community/mathlib/issues/7187">#7187</a></p>



<a name="234484677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234484677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234484677">(Apr 14 2021 at 11:51)</a>:</h4>
<p>I see, thank you very much for the clarifications!</p>



<a name="234485750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234485750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234485750">(Apr 14 2021 at 12:00)</a>:</h4>
<p>But if I modify P to be a polynomial over C, the degree_n_poly_has_n_roots would be correct, though I don't know how to continue with that:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">degree_n_poly_has_n_roots</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">H_P</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">P.degree</span> <span class="bp">=</span> <span class="n">P.roots.card</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">i</span> <span class="o">:</span> <span class="n">ℂ</span> <span class="bp">→+*</span> <span class="n">ℂ</span> <span class="o">:=</span> <span class="n">algebra_map</span> <span class="n">ℂ</span> <span class="n">ℂ</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hsplit</span> <span class="o">:</span> <span class="n">splits</span> <span class="n">i</span> <span class="n">P</span><span class="o">,</span> <span class="o">{</span><span class="n">exact</span> <span class="n">help_split</span> <span class="n">P</span><span class="o">},</span>
  <span class="n">rw</span> <span class="n">degree_eq_card_roots</span> <span class="n">H_P</span> <span class="n">hsplit</span><span class="o">,</span>
  <span class="c1">-- Goal : ↑(⇑multiset.card (map i P).roots) = ↑(⇑multiset.card P.roots)</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="234485945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234485945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234485945">(Apr 14 2021 at 12:02)</a>:</h4>
<p>Does <code>refl</code> solve it?</p>



<a name="234486338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/234486338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#234486338">(Apr 14 2021 at 12:05)</a>:</h4>
<p><code>dsimp [i], simp [map_id]</code> hopefully.</p>



<a name="244612326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Complex%20numbers%20sums/near/244612326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Complex.20numbers.20sums.html#244612326">(Jul 01 2021 at 19:03)</a>:</h4>
<p>The original computability problem at the top of this thread will be solved by <a href="https://github.com/leanprover-community/mathlib/issues/8166">#8166</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>