---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/server.20reloads.20imports.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html">server reloads imports?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195847535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195847535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195847535">(Apr 30 2020 at 14:33)</a>:</h4>
<p>Sometimes VSCode will decide that I don't get to see anything in the Lean messages anymore, and the yellow bar on the side of the screen goes all the way up to the first line of my file. I think what's happening is that it decided to rerun all of the code in the imported files. But sometimes it hangs there for minutes and I have to restart VSCode. Any ideas about what is going wrong?</p>



<a name="195848194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848194">(Apr 30 2020 at 14:37)</a>:</h4>
<p>oh, I am being dumb. I was working on the files in my project while leanproject up was running...</p>



<a name="195848416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848416">(Apr 30 2020 at 14:39)</a>:</h4>
<p>no but sometimes this also happens to me whenever I decide to peek the definition of something or print something</p>



<a name="195848421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848421">(Apr 30 2020 at 14:39)</a>:</h4>
<p>Sometimes things like hovers can trigger a recompilation of imported files. I'm not sure exactly what conditions cause it</p>



<a name="195848658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848658">(Apr 30 2020 at 14:40)</a>:</h4>
<p>yeah and it isn't immediate after the two conditions above, but it doesn't happen if I don't do the two things above</p>



<a name="195848726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848726">(Apr 30 2020 at 14:41)</a>:</h4>
<p>Is this a Windows only thing which has been mentioned in the past?</p>



<a name="195848820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848820">(Apr 30 2020 at 14:42)</a>:</h4>
<p>the standard workaround is to restart the Lean server (Ctrl+Shift+P)</p>



<a name="195848951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195848951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195848951">(Apr 30 2020 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/server.20reloads.20imports.3F/near/195848726" title="#narrow/stream/113489-new-members/topic/server.20reloads.20imports.3F/near/195848726">said</a>:</p>
<blockquote>
<p>Is this a Windows only thing which has been mentioned in the past?</p>
</blockquote>
<p>probably not since I am on macOS</p>



<a name="195849438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/195849438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#195849438">(Apr 30 2020 at 14:46)</a>:</h4>
<p>When I get the orange bar hell it is usually because I didn't quite wait for long enough for <code>leanproject up</code> (I'm on linux). I think that VS Code implicitly compiles stuff somehow, and then if you change olean files it can get very confused and try to start again from scratch. Restarting VS Code should work (this is just something which one occasionally has to do, in my experience -- sometimes the goal window can crash, or sometimes you can get some hideous memory error etc). I used to restart Lean but for some reason I now have it in my head that when you're messing with olean files then it's safer to just restart VS Code.</p>



<a name="196030181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/server%20reloads%20imports%3F/near/196030181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/server.20reloads.20imports.3F.html#196030181">(May 02 2020 at 03:20)</a>:</h4>
<p>I've also been finding that merely restarting the server doesn't solve all problems, and restarting VS Code is more effective. Sometimes, especially when my computer is working harder, I will get into a state where clearly old requests are not being cancelled properly, and I'll get error messages appearing which reflect my keystrokes one by one, but spaced much too long apart. Restarting the server doesn't help, but restarting VS Code always solves it. I've never found a reproducible trigger, sadly. :-(</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>