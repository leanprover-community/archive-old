---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Group.20Theory.20Tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html">Group Theory Tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="198383670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383670">(May 21 2020 at 22:10)</a>:</h4>
<p>Is there any sort of tactic for group theory? Such a tactic should be able to prove things like the Hall-Witt identity.</p>



<a name="198383747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383747">(May 21 2020 at 22:11)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Hall%27s_identity">https://en.wikipedia.org/wiki/Hall%27s_identity</a></p>



<a name="198383812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383812">(May 21 2020 at 22:11)</a>:</h4>
<p>This? I don't understand the <code>[x,y,z]</code> notation, though I understand <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>y</mi></msup></mrow><annotation encoding="application/x-tex">x^y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span></span></span> means <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mi>x</mi><msup><mi>y</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">yxy^{-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">x</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p>



<a name="198383883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383883">(May 21 2020 at 22:12)</a>:</h4>
<p>for commutative groups (well, commutative groups that happen to be written additively) we have <code>abel</code></p>



<a name="198383921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383921">(May 21 2020 at 22:13)</a>:</h4>
<p>You can get some of the way to a general group tactic with a well chosen <code>simp</code> set</p>



<a name="198383964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198383964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198383964">(May 21 2020 at 22:13)</a>:</h4>
<p>If I had a precise statement of this hall's identity i could look for a proof that leverages automation</p>



<a name="198384036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384036">(May 21 2020 at 22:14)</a>:</h4>
<p>[x,y,z] means [[x,y],z] where [x,y]=x y x^{-1} y^{-1}, but that's not super relevant (I'm not specifically interested in the Hall-Witt identity). What I'm getting at is that it is easy to check whether two words in group theory are equal and it seems like there should be a tactic for this</p>



<a name="198384111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384111">(May 21 2020 at 22:15)</a>:</h4>
<p>well, no, it's undecidable in general to check whether are equal?</p>



<a name="198384120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384120">(May 21 2020 at 22:15)</a>:</h4>
<p>i guess you're asking specifically about deciding the word problem for free groups?</p>



<a name="198384124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384124">(May 21 2020 at 22:15)</a>:</h4>
<p>that's right</p>



<a name="198384159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384159">(May 21 2020 at 22:15)</a>:</h4>
<p>(The first step to writing a tactic may be to collect test cases)</p>



<a name="198384217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384217">(May 21 2020 at 22:16)</a>:</h4>
<p>is there a paper describing an algorithm for deciding the word problem for free groups?</p>



<a name="198384277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384277">(May 21 2020 at 22:17)</a>:</h4>
<p><a href="https://rjlipton.wordpress.com/2009/04/16/the-word-problem-for-free-groups/">https://rjlipton.wordpress.com/2009/04/16/the-word-problem-for-free-groups/</a></p>



<a name="198384282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384282">(May 21 2020 at 22:17)</a>:</h4>
<p>I mean, the algorithm is to distribution any inverses (i.e. (gh)^{-1} = h^{-1} g^{-1}), collect powers like g^m and g^n into g^(m+n), and check whether the resulting words are the same</p>



<a name="198384308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384308">(May 21 2020 at 22:17)</a>:</h4>
<p>it's not terribly sophisticated</p>



<a name="198384393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384393">(May 21 2020 at 22:18)</a>:</h4>
<p>(we don't already have it, I'm trying to have a discussion that's explicit enough to start making progress on writing it)</p>



<a name="198384405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384405">(May 21 2020 at 22:18)</a>:</h4>
<p>sure</p>



<a name="198384446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384446">(May 21 2020 at 22:18)</a>:</h4>
<p>i think <code>simp</code> can do what you suggest</p>



<a name="198384463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384463">(May 21 2020 at 22:19)</a>:</h4>
<p>the worry I'm having is associativity</p>



<a name="198384494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384494">(May 21 2020 at 22:19)</a>:</h4>
<p>have you tried any examples?</p>



<a name="198384508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384508">(May 21 2020 at 22:19)</a>:</h4>
<p>trying an example will make a lot more progress than talking at this point</p>



<a name="198384510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384510">(May 21 2020 at 22:19)</a>:</h4>
<p>ok</p>



<a name="198384514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384514">(May 21 2020 at 22:19)</a>:</h4>
<p>give me a minute</p>



<a name="198384694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384694">(May 21 2020 at 22:21)</a>:</h4>
<p><code>lemma example1 {G} [group G] (g h : G) : (g * h) * (g * h) * g = g * (h * g) * (h * g) :=
begin
sorry,
end</code></p>



<a name="198384707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384707">(May 21 2020 at 22:21)</a>:</h4>
<p>not sure how to add code in zulip</p>



<a name="198384717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384717">(May 21 2020 at 22:21)</a>:</h4>
<p>but simp can't even do that</p>



<a name="198384782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198384782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198384782">(May 21 2020 at 22:22)</a>:</h4>
<p>although that particular one can be done with repeating mul_assoc</p>



<a name="198385107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385107">(May 21 2020 at 22:26)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">example1</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">*</span> <span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">},</span><span class="c1">--if there is no cancellation then this is enough</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">example2</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="n">k</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">h</span> <span class="bp">*</span> <span class="n">k</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">},</span><span class="c1">--if the cancellation is in the middle then you&#39;re in trouble</span>
<span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="198385254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385254">(May 21 2020 at 22:27)</a>:</h4>
<p>We have a related open issue on this here: <a href="https://github.com/leanprover-community/mathlib/issues/2729">#2729</a>, see particularly the zulip thread linked from there.</p>



<a name="198385419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385419">(May 21 2020 at 22:28)</a>:</h4>
<p>You just need a simp lemma that says <code>g * (g⁻¹ * k) = k</code></p>



<a name="198385824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385824">(May 21 2020 at 22:32)</a>:</h4>
<p>And one for g-1 * (g * k)</p>



<a name="198385856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385856">(May 21 2020 at 22:32)</a>:</h4>
<p>There was a thread about the one relator problem recently</p>



<a name="198385921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385921">(May 21 2020 at 22:33)</a>:</h4>
<p>It should be linked in the issue I linked above.</p>



<a name="198385940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198385940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198385940">(May 21 2020 at 22:33)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/.60group.60.20tactic">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.60group.60.20tactic</a></p>



<a name="198386015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386015">(May 21 2020 at 22:34)</a>:</h4>
<p>those two simp lemmas don't seem to be enough</p>
<div class="codehilite"><pre><span></span><code><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">useful_lemma</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">h</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">useful_lemma_2</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">h</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">simp</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">*</span><span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="n">c</span><span class="bp">*</span><span class="n">c</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">simp</span><span class="o">,</span>
<span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="198386051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386051">(May 21 2020 at 22:34)</a>:</h4>
<p>However, the group tactic in that thread might be what I need</p>



<a name="198386428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386428">(May 21 2020 at 22:38)</a>:</h4>
<p>(I just give an easier-for-human-to-parse definition of the group tactic from that thread)</p>
<div class="codehilite"><pre><span></span><code><span class="n">meta</span> <span class="n">def</span> <span class="n">nonabel</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_inv_self</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">mul_inv_self</span><span class="o">,</span> <span class="n">mul_inv_rev</span><span class="o">,</span><span class="n">inv_inv</span><span class="o">,</span><span class="n">inv_mul_self</span><span class="o">,</span><span class="n">mul_inv_cancel_right</span><span class="o">,</span><span class="n">mul_inv_cancel_left</span><span class="o">,</span><span class="n">inv_mul_cancel_right</span><span class="o">,</span><span class="n">inv_mul_cancel_left</span><span class="o">]]</span>

<span class="kn">lemma</span> <span class="n">example1</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span> <span class="bp">*</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">g</span> <span class="bp">*</span> <span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">nonabel</span>


<span class="kn">lemma</span> <span class="n">example2</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="n">k</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">k</span><span class="o">)</span> <span class="bp">=</span> <span class="n">h</span> <span class="bp">*</span> <span class="n">k</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">nonabel</span>
</code></pre></div>



<a name="198386513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386513">(May 21 2020 at 22:38)</a>:</h4>
<p>I guess the PR hasn't been made yet</p>



<a name="198386576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386576">(May 21 2020 at 22:39)</a>:</h4>
<p>seems to me like we should put this naive group tactic in mathlib and wait for someone who gets frustrated with it to implement a more efficient / expressive version</p>



<a name="198386594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386594">(May 21 2020 at 22:39)</a>:</h4>
<p>It's not exactly the same since I think Patrick's tactic allows writing <code>group at h</code>.</p>



<a name="198386878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386878">(May 21 2020 at 22:42)</a>:</h4>
<p>ah okay, i thought there must be a reason for the extra complexity but didn't think hard about it</p>



<a name="198386961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198386961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198386961">(May 21 2020 at 22:43)</a>:</h4>
<p>I guess a PR "just" needs to add a "good enough" set of test cases</p>



<a name="198387050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198387050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198387050">(May 21 2020 at 22:44)</a>:</h4>
<p>is it plausible to prove a theorem like "if this equation is true in the free group, then this tactic will eventually halt with a proof"?</p>



<a name="198387127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198387127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198387127">(May 21 2020 at 22:44)</a>:</h4>
<p>Probably not, since tactics live in <code>meta</code>.</p>



<a name="198388080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198388080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198388080">(May 21 2020 at 22:54)</a>:</h4>
<p>Good news: that group theory tactic can do the Hall-Witt identity!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">namespace</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>
<span class="n">setup_tactic_parser</span>
<span class="kn">open</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">simp_arg_type</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">group</span> <span class="o">(</span><span class="n">locat</span> <span class="o">:</span> <span class="n">parse</span> <span class="n">location</span><span class="o">)</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">simp_core</span> <span class="o">{}</span> <span class="n">skip</span> <span class="n">tt</span> <span class="o">[</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_self</span><span class="o">),</span>
  <span class="n">symm_expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_assoc</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_self</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_rev</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_inv</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_self</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_cancel_right</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_cancel_left</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_cancel_right</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_cancel_left</span><span class="o">)]</span>
  <span class="o">[]</span> <span class="n">locat</span>
<span class="kn">end</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="n">def</span> <span class="n">commutator</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">g</span> <span class="n">h</span><span class="o">,</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">h</span><span class="bp">⁻¹</span>

<span class="n">def</span> <span class="n">commutator3</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">))</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">g</span> <span class="n">h</span> <span class="n">k</span><span class="o">,</span> <span class="n">commutator</span> <span class="o">(</span><span class="n">commutator</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="n">k</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="n">k</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="n">h</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">k</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">k</span><span class="bp">⁻¹</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="n">k</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">h</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">h</span><span class="bp">⁻¹</span> <span class="n">k</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="n">h</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">commutator3</span><span class="o">},</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">commutator</span><span class="o">},</span>
<span class="n">group</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="198389387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198389387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198389387">(May 21 2020 at 23:07)</a>:</h4>
<p>it would make a nice test case in the PR :)</p>



<a name="198392180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198392180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198392180">(May 21 2020 at 23:44)</a>:</h4>
<p>That's really nice!</p>
<p>Mario was moaning the other day that us mathematicians don't specify our tactics well enough. Perhaps I should keep track better whenever I run into a goal which I feel should be solvable with automation but which I can't solve in Lean without some pain. A collection of tests might be what one needs to make a start at a tactic.</p>



<a name="198392321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198392321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198392321">(May 21 2020 at 23:46)</a>:</h4>
<p>I intend to collect such observations on the metaprogramming stream</p>



<a name="198392719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198392719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198392719">(May 21 2020 at 23:53)</a>:</h4>
<p>there is a metaprogramming stream?</p>



<a name="198393137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393137">(May 21 2020 at 23:59)</a>:</h4>
<p>It's not active (yet?), I made it so that there would be a natural place to collect these "tactic specifications"<br>
<a href="#narrow/stream/239415-metaprogramming-.2F.20tactics/topic/stream.20events/near/197849636">https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming-.2F.20tactics/topic/stream.20events/near/197849636</a></p>



<a name="198393219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393219">(May 22 2020 at 00:00)</a>:</h4>
<p>most of the content there is a discussion about streams, some which bubbled back up into meta</p>



<a name="198393357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393357">(May 22 2020 at 00:02)</a>:</h4>
<p>I think that creating new streams is problematic because of lack of discoverability. It's a great way to have conversations that most people won't notice</p>



<a name="198393403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393403">(May 22 2020 at 00:03)</a>:</h4>
<p>yes, i did honestly intend to have conversations that most people won't pay attention to</p>



<a name="198393437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393437">(May 22 2020 at 00:03)</a>:</h4>
<p>once a "tactic specification"is complete enough to deserve attention one could advertise it elsewhere</p>



<a name="198393501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393501">(May 22 2020 at 00:04)</a>:</h4>
<p>maybe I'm just trying to implement a poor version of having a mathlib branch without a PR</p>



<a name="198393554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393554">(May 22 2020 at 00:05)</a>:</h4>
<p>I think that conversations on general have an appropriate level of exposure for this sort of thing</p>



<a name="198393582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393582">(May 22 2020 at 00:05)</a>:</h4>
<p>thanks, that is a useful judgement</p>



<a name="198393609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393609">(May 22 2020 at 00:05)</a>:</h4>
<p>conversations on a new non-default public stream are barely better than a group PM</p>



<a name="198393726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393726">(May 22 2020 at 00:07)</a>:</h4>
<p>I agree with that</p>



<a name="198393853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198393853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198393853">(May 22 2020 at 00:08)</a>:</h4>
<p>(I see now that the only conversation that has happened so far on the metaprogramming stream is a replay of what I just said)</p>



<a name="198395937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198395937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198395937">(May 22 2020 at 00:44)</a>:</h4>
<p>I think the following text should be a PR. (I'm trying to make it but this requires me to understand more things about git first)</p>
<div class="codehilite"><pre><span></span><code><span class="c">/-</span><span class="cm"></span>
<span class="cm">Copyright (c) 2020. All rights reserved.</span>
<span class="cm">Released under Apache 2.0 license as described in the file LICENSE.</span>
<span class="cm">Authors: Patrick Massot, Thomas Browning</span>
<span class="cm">-/</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="c">/-</span><span class="cm">!</span>
<span class="cm"># `group`</span>

<span class="cm">Evaluate expressions in the language of groups. Ideally this would implement a full algorithm for the word problem in free groups.</span>

<span class="cm">## Tags</span>

<span class="cm">group_theory</span>
<span class="cm">-/</span>

<span class="kn">namespace</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>
<span class="n">setup_tactic_parser</span>
<span class="kn">open</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">simp_arg_type</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">group</span> <span class="o">(</span><span class="n">locat</span> <span class="o">:</span> <span class="n">parse</span> <span class="n">location</span><span class="o">)</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">simp_core</span> <span class="o">{}</span> <span class="n">skip</span> <span class="n">tt</span> <span class="o">[</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_self</span><span class="o">),</span>
  <span class="n">symm_expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_assoc</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_self</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_rev</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_inv</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_self</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_cancel_right</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">mul_inv_cancel_left</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_cancel_right</span><span class="o">),</span>
  <span class="n">expr</span> <span class="bp">``</span><span class="o">(</span><span class="n">inv_mul_cancel_left</span><span class="o">)]</span>
  <span class="o">[]</span> <span class="n">locat</span>
<span class="kn">end</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">interactive</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">*</span><span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="n">c</span><span class="bp">*</span><span class="n">c</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">group</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">*</span><span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">*</span><span class="n">c</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">group</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span><span class="bp">⁻¹*</span><span class="o">(</span><span class="n">b</span><span class="bp">*</span><span class="n">c</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">*</span><span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">b</span><span class="bp">⁻¹*</span><span class="n">a</span><span class="bp">⁻¹*</span><span class="n">b</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">group</span>


<span class="n">def</span> <span class="n">commutator</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">g</span> <span class="n">h</span><span class="o">,</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">h</span> <span class="bp">*</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">h</span><span class="bp">⁻¹</span>

<span class="n">def</span> <span class="n">commutator3</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">G</span> <span class="bp">→</span> <span class="n">G</span><span class="o">))</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">g</span> <span class="n">h</span> <span class="n">k</span><span class="o">,</span> <span class="n">commutator</span> <span class="o">(</span><span class="n">commutator</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="n">k</span>

<span class="c1">-- The following is known as the Hall-Witt identity, see e.g. https://en.wikipedia.org/wiki/Three_subgroups_lemma#Proof_and_the_Hall%E2%80%93Witt_identity</span>
<span class="kn">example</span> <span class="o">{</span><span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="n">k</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="n">h</span> <span class="n">k</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">k</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">k</span><span class="bp">⁻¹</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="bp">*</span> <span class="n">k</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">h</span> <span class="bp">*</span> <span class="o">(</span><span class="n">commutator3</span> <span class="n">h</span><span class="bp">⁻¹</span> <span class="n">k</span> <span class="n">g</span><span class="o">)</span> <span class="bp">*</span> <span class="n">h</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">commutator3</span><span class="o">},</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">unfold</span> <span class="n">commutator</span><span class="o">},</span>
<span class="n">group</span><span class="o">,</span>
<span class="kn">end</span>

<span class="c1">-- todo : a nontrivial example of using `group at h`</span>
</code></pre></div>



<a name="198396154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198396154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198396154">(May 22 2020 at 00:49)</a>:</h4>
<p>You'll want to add docstrings to all the <code>def</code>s and all the examples should be in <code>test/group.lean</code>. The Hall-Witt identity probably should be in the appropriate <code>group_theory</code> or <code>algebra</code> file. Also don't forget the PR name should follow <a href="https://github.com/leanprover-community/lean/blob/master/doc/commit_convention.md">our commit convention</a>. I just noticed that that file wasn't linked on our website, so I'll fix that.</p>



<a name="198396317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198396317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198396317">(May 22 2020 at 00:53)</a>:</h4>
<p>thanks, somehow it did not occur to me that there would be a PR naming convention</p>



<a name="198396385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198396385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198396385">(May 22 2020 at 00:54)</a>:</h4>
<p>i'll try reading a bunch of PRs and see if I notice any other patterns</p>



<a name="198398585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198398585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198398585">(May 22 2020 at 01:37)</a>:</h4>
<p>Also, you should have a test for the <code>group at h</code> usage.</p>



<a name="198425610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198425610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198425610">(May 22 2020 at 10:18)</a>:</h4>
<p>I think it doesn't make sense to PR such a broken tactic. I'll try to find time to work on it.</p>



<a name="198467071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198467071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198467071">(May 22 2020 at 17:02)</a>:</h4>
<p>I think I'm back on track with this tactic. But of course I didn't want to spend time on it today. So anyone who wants to have this tactic really soon is welcome to turn the code at <a href="https://gist.github.com/PatrickMassot/051ecff8c84a4a2fcb5c9caf00b65826">https://gist.github.com/PatrickMassot/051ecff8c84a4a2fcb5c9caf00b65826</a> into a PR. It means dispatching the lemmas to the right places (maybe all of them should go to <code>algebra.group_power</code>), moving all test into a separate file in the test folder, adding more tests, finding bugs etc. I guess the previous version was faster on the very limited examples that worked, but I hope that one is not too far away from actually doing the job.</p>



<a name="198467312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198467312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198467312">(May 22 2020 at 17:04)</a>:</h4>
<p>Nice, sorry its hard to read all the lemma, does it work when you have a gpow mul a pow?</p>



<a name="198467412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198467412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198467412">(May 22 2020 at 17:05)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/wiki/Minimum-Working-Example-&#40;MWE&#41;">#mwe</a>?</p>



<a name="198467551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198467551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198467551">(May 22 2020 at 17:06)</a>:</h4>
<p>I forgot to write as part of the PRing process: give actual names to things like <code>gpow_trick_one</code>...</p>



<a name="198467825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198467825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198467825">(May 22 2020 at 17:09)</a>:</h4>
<p>Looks good!</p>



<a name="198468041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198468041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198468041">(May 22 2020 at 17:11)</a>:</h4>
<p>Ok, don't hesitate to play more with this. I didn't follow rigorous process here, I mostly randomly added lemmas to the simp set.</p>



<a name="198469315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Group%20Theory%20Tactic/near/198469315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Group.20Theory.20Tactic.html#198469315">(May 22 2020 at 17:21)</a>:</h4>
<p>Actually there are edge cases where we should start with ring, so I modified the gist. It now calls ring twice in a row in some edge cases, but I should really stop now</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>