---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Endomorphism.20eigen.20values.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html">Endomorphism eigen values</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241814636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241814636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Maxime Darrin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241814636">(Jun 07 2021 at 17:50)</a>:</h4>
<p>Hi,</p>
<p>I'm trying to express that "0 \not \in sp(f) &lt;-&gt; f surjective" where f is an endomorphism. I wrote the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.module.linear_map</span>
<span class="kn">import</span> <span class="n">linear_algebra.basic</span>
<span class="kn">import</span> <span class="n">linear_algebra.eigenspace</span>

<span class="kd">example</span>
<span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>
<span class="o">[</span><span class="n">add_comm_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">E</span><span class="o">]</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">module.End</span> <span class="n">R</span> <span class="n">E</span><span class="o">):</span>

<span class="o">(</span><span class="bp">¬</span> <span class="o">(</span><span class="n">f.has_eigenvalue</span> <span class="mi">0</span><span class="o">))</span> <span class="bp">&lt;-&gt;</span> <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">R</span> <span class="n">E</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">⊤</span>
<span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>I get an error about the type of f that I do not understand.  What  am i doing wrong?</p>



<a name="241814803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241814803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241814803">(Jun 07 2021 at 17:51)</a>:</h4>
<p>What's the error?</p>



<a name="241814952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241814952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241814952">(Jun 07 2021 at 17:52)</a>:</h4>
<p>One thing you're doing wrong is that I very much doubt that this is true without some finiteness hypotheses</p>



<a name="241815165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815165">(Jun 07 2021 at 17:54)</a>:</h4>
<p>Eg consider the abelian group hom <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>:</mo><mo>=</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>→</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E:=\Z[X]\to\Z[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">Z</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">Z</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> sending X to 2X</p>



<a name="241815225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Maxime Darrin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815225">(Jun 07 2021 at 17:54)</a>:</h4>
<p>The error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">f.has_eigenvalue</span>
<span class="n">term</span>
  <span class="n">f</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">module.End</span> <span class="n">R</span> <span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">module.End</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">?</span><span class="n">m_2</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span>
</code></pre></div>
<p>And yeah, ok I forgot the finiteness</p>



<a name="241815276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815276">(Jun 07 2021 at 17:54)</a>:</h4>
<p>Probably you need R to be a ring</p>



<a name="241815353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815353">(Jun 07 2021 at 17:55)</a>:</h4>
<p>So this should suggest to you that the <code>has_eigenvalue</code> function requires some typeclass which you don't have. I suggest starting there</p>



<a name="241815366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815366">(Jun 07 2021 at 17:55)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/module.End.has_eigenvalue">docs#module.End.has_eigenvalue</a></p>



<a name="241815405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815405">(Jun 07 2021 at 17:55)</a>:</h4>
<p><code>comm_ring R</code></p>



<a name="241815409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815409">(Jun 07 2021 at 17:55)</a>:</h4>
<p>Hover over <code>has_eigenvalue</code> in your code and you'll see what assumptions it needs</p>



<a name="241815449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241815449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241815449">(Jun 07 2021 at 17:56)</a>:</h4>
<p>Or do what Eric did and then click on the link</p>



<a name="241816132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241816132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Maxime Darrin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241816132">(Jun 07 2021 at 18:01)</a>:</h4>
<p>Thanks i got it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span>
<span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>
<span class="o">[</span><span class="n">field</span> <span class="n">R</span><span class="o">]</span>
<span class="o">[</span><span class="n">add_comm_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">E</span><span class="o">]</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">module.End</span> <span class="n">R</span> <span class="n">E</span><span class="o">):</span>
<span class="n">finite_dimensional</span> <span class="n">R</span> <span class="n">E</span> <span class="bp">-&gt;</span> <span class="o">((</span><span class="bp">¬</span> <span class="o">(</span><span class="n">f.has_eigenvalue</span> <span class="mi">0</span><span class="o">))</span> <span class="bp">&lt;-&gt;</span> <span class="o">(</span><span class="bp">⊤</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">R</span> <span class="n">E</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">⊤</span><span class="o">)</span>
<span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>Is this the correct way to add the finite dimensionality hypothesis ?</p>



<a name="241816180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241816180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241816180">(Jun 07 2021 at 18:01)</a>:</h4>
<p>Just add <code>[finite_dimensional R E]</code> before you introduce <code>f</code></p>



<a name="241816343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Endomorphism%20eigen%20values/near/241816343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Endomorphism.20eigen.20values.html#241816343">(Jun 07 2021 at 18:02)</a>:</h4>
<p>But this looks good now</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>