---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html">MacOS install using MacPorts?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203922566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922566">(Jul 15 2020 at 07:13)</a>:</h4>
<p>How to install using MacPorts, if possible?</p>



<a name="203922640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922640">(Jul 15 2020 at 07:14)</a>:</h4>
<p>I don't know of any Mac users using such a set up...</p>



<a name="203922651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922651">(Jul 15 2020 at 07:14)</a>:</h4>
<p>I think brew is the more popular route</p>



<a name="203922700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922700">(Jul 15 2020 at 07:15)</a>:</h4>
<p>I am under the impression that Brew and MacPorts do not well coexist.</p>



<a name="203922705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922705">(Jul 15 2020 at 07:15)</a>:</h4>
<p>I don't know anything about MacPorts, but my guess is that you can adapt <a href="https://leanprover-community.github.io/install/macos_details.html">https://leanprover-community.github.io/install/macos_details.html</a> to MacPorts</p>



<a name="203922853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922853">(Jul 15 2020 at 07:17)</a>:</h4>
<p>It looks like you only use Brew to install python3 and pipe. Am I missing anything? Using MacPorts should be equivalent.</p>
<p>brew install python3 pipx<br>
pipx ensurepath<br>
pipx install mathlibtools</p>



<a name="203922913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922913">(Jul 15 2020 at 07:18)</a>:</h4>
<p><code>brew install gmp coreutils</code></p>



<a name="203922932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922932">(Jul 15 2020 at 07:18)</a>:</h4>
<p>If you scroll up a bit (I linked to the middle of the page <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span> )</p>



<a name="203922954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203922954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203922954">(Jul 15 2020 at 07:19)</a>:</h4>
<p>Btw, I don't really know Mac... so this is just hearsay.</p>



<a name="203923140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203923140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203923140">(Jul 15 2020 at 07:22)</a>:</h4>
<p>Right you are. Thanks for the pointers!</p>



<a name="203923510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203923510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203923510">(Jul 15 2020 at 07:26)</a>:</h4>
<p>Reading is Fundamental! ;)</p>



<a name="203924587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203924587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203924587">(Jul 15 2020 at 07:41)</a>:</h4>
<p>sudo port install coreutils <br>
appears to install both GNU coreutils and GNU GMP as a dependency. So that's good so far.</p>



<a name="203924717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203924717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203924717">(Jul 15 2020 at 07:43)</a>:</h4>
<p>Is python3.8  (or 3.7?)  an acceptable choice? MacPorts seems to want a particular 3.x choice of python3</p>



<a name="203924726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203924726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203924726">(Jul 15 2020 at 07:43)</a>:</h4>
<p>The newer the better</p>



<a name="203925283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203925283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203925283">(Jul 15 2020 at 07:50)</a>:</h4>
<p>Python 3.8 then. One advantage -- it will be supported until 2024-10. That's a whole 50 months!</p>



<a name="203925416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203925416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203925416">(Jul 15 2020 at 07:52)</a>:</h4>
<p>I use to install Lean's dependencies via macports, but haven't for ~2 years. homebrew is better :-)</p>



<a name="203925749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203925749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Amos Turchet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203925749">(Jul 15 2020 at 07:57)</a>:</h4>
<p>I've done with MacPorts and everything works fine</p>



<a name="203925773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203925773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Amos Turchet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203925773">(Jul 15 2020 at 07:57)</a>:</h4>
<p>I installed through ports python 3.8 pipx and coreutils</p>



<a name="203954355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203954355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203954355">(Jul 15 2020 at 13:24)</a>:</h4>
<p>something went wrong with dyld;  VSC error:<br>
dyld: Library not loaded: /usr/local/opt/gmp/lib/libgmp.10.dylib<br>
  Referenced from: /Users/a/.elan/toolchains/stable/bin/lean<br>
  Reason: image not found</p>
<p>INSTALL ERROR:<br>
$ leanproject get lftcm2020<br>
Cloning from <a href="https://github.com/leanprover-community/lftcm2020.git">https://github.com/leanprover-community/lftcm2020.git</a><br>
info: downloading component 'lean'<br>
  7.2 MiB /   7.2 MiB (100 %)   1.7 MiB/s ETA:   0 s                <br>
info: installing component 'lean'<br>
dyld: Library not loaded: /usr/local/opt/gmp/lib/libgmp.10.dylib<br>
  Referenced from: /Users/a/.elan/toolchains/leanprover-community-lean-3.17.1/bin/lean<br>
  Reason: image not found<br>
Command '['leanpkg', 'configure']' died with &lt;Signals.SIGABRT: 6&gt;.</p>



<a name="203954686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203954686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203954686">(Jul 15 2020 at 13:27)</a>:</h4>
<p>Looks like <span class="user-mention" data-user-id="110087">@Scott Morrison</span> had the same problem two years ago, and the answer seemed to be to switch to homebrew: <a href="#narrow/stream/113488-general/topic/nightly.20version.20stapling/near/124795748">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nightly.20version.20stapling/near/124795748</a></p>



<a name="203954990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203954990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203954990">(Jul 15 2020 at 13:29)</a>:</h4>
<p>Where does macports install <code>libgmp</code>? Maybe you just have to make a symbolic link in <code>/usr/local/opt/</code>...  that points to the macports gmp location. </p>
<p>(Though I would also second the recommendation to just use homebrew.)</p>



<a name="203955397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203955397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203955397">(Jul 15 2020 at 13:33)</a>:</h4>
<p>I never looked back. :-)</p>



<a name="203956071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203956071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Amos Turchet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203956071">(Jul 15 2020 at 13:39)</a>:</h4>
<p>When I installed everything through MacPorts there was an issue at the end about paths where the stuff was installed that has been solved by using pipx instead of pip and then manually adding the .profile path to the .bash_profile path</p>



<a name="203956095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203956095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Amos Turchet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203956095">(Jul 15 2020 at 13:39)</a>:</h4>
<p>not sure if this solves your issue (that didn't happen to me) but could be worth trying</p>



<a name="203956134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203956134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Amos Turchet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203956134">(Jul 15 2020 at 13:39)</a>:</h4>
<p>(I meant the .profile path to the .bash_profile file)</p>



<a name="203956297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203956297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203956297">(Jul 15 2020 at 13:41)</a>:</h4>
<p>Ah MacPorts puts things in places like<br>
/opt/local/lib/libgmp.10.dylib</p>



<a name="203956506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203956506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203956506">(Jul 15 2020 at 13:42)</a>:</h4>
<p>ensurepath didn't seem to make the changes it claimed it did. Maybe because Catalina shifted from bash to zsh and I'm still using bash. I will try Amos's suggestion.</p>



<a name="203960072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203960072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Philip Vetter <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203960072">(Jul 15 2020 at 14:11)</a>:</h4>
<p>I think there is an early problem with the <a href="http://elan-init.sh">elan-init.sh</a>. It seems to work correctly but says <br>
 stable installed - (error reading lean version).    &lt;==== !</p>
<p>info: syncing channel updates for 'stable'<br>
info: latest update on stable, lean version v3.17.1<br>
info: downloading component 'lean'<br>
  7.2 MiB /   7.2 MiB (100 %)   1.1 MiB/s ETA:   0 s                <br>
info: installing component 'lean'<br>
info: default toolchain set to 'stable'<br>
  stable installed - (error reading lean version)<br>
Elan is installed now. Great!</p>



<a name="203964771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203964771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203964771">(Jul 15 2020 at 14:47)</a>:</h4>
<p>Unfortunately I don't think any regulars have moved to Catalina yet, so Lean on Catalina is entirely untested.</p>



<a name="203964875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203964875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203964875">(Jul 15 2020 at 14:48)</a>:</h4>
<p>Knowing whether it works with the standard install instruction (i.e. homebrew) would be much more useful than knowing about behaviour under macports, however.</p>



<a name="203986382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/MacOS%20install%20using%20MacPorts%3F/near/203986382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/MacOS.20install.20using.20MacPorts.3F.html#203986382">(Jul 15 2020 at 17:29)</a>:</h4>
<p>i'm on macOS catalina 10.15.4<br>
i set things up with <code>brew</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>