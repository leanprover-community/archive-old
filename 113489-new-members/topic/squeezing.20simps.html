---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/squeezing.20simps.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html">squeezing simps</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218955975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218955975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218955975">(Dec 05 2020 at 22:10)</a>:</h4>
<p>Is it considered useful to replace bare simps in mathlib with <code>simp only</code> ones? I'm reading a file for other reasons (it's algebra/group/basic) which has a bunch of bare ones. Or is that not useful considering the lemmas simp are using for this file are unlikely to disappear?</p>



<a name="218956054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218956054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218956054">(Dec 05 2020 at 22:12)</a>:</h4>
<p>bare simp is fine if it closes the goal.</p>



<a name="218956081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218956081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218956081">(Dec 05 2020 at 22:13)</a>:</h4>
<p>This is a maintenance issue. <code>simp</code> gets better over time, so <code>simp</code> in the middle of a goal might change behaviour making code hard to maintain. <code>simp only</code> is far less likely to change even if new simp lemmas are added.</p>



<a name="218956153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218956153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218956153">(Dec 05 2020 at 22:15)</a>:</h4>
<p>Got it OK -- I thought I saw a note in the docs that they weren't desirable entirely because if a proof using bare simp starts to fail you don't know what lemma that disappeared is the one that was relied on (whereas if you have the explicit list you at least maybe guess at what the lemma said or something). Maybe that was referring to something else</p>



<a name="218956297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218956297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218956297">(Dec 05 2020 at 22:19)</a>:</h4>
<p>Yeah not finding that language now, must be my mistake, thanks.</p>



<a name="218956356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218956356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218956356">(Dec 05 2020 at 22:20)</a>:</h4>
<p>I don't think lemmas usually disappear. The problem is that new ones appear!</p>



<a name="218979614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/squeezing%20simps/near/218979614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/squeezing.20simps.html#218979614">(Dec 06 2020 at 10:12)</a>:</h4>
<p>Also worth noting - sometimes <code>simp only</code> can be a lot faster than just <code>simp</code>. In <a href="https://github.com/leanprover-community/mathlib/issues/3963">#3963</a> I (mostly) just replaced <code>simp</code> with <code>simp only</code>, and the time required to check that file halved, for one lemma it went from 40 seconds to 2.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>