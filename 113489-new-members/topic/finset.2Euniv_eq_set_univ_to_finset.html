---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html">finset.univ_eq_set_univ_to_finset</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="246330716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246330716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246330716">(Jul 17 2021 at 15:49)</a>:</h4>
<p>I wrote</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">I</span><span class="o">]</span>
<span class="kd">lemma</span> <span class="n">finset.univ_eq_set_univ_to_finset</span> <span class="o">:</span>
<span class="n">finset.univ</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span><span class="bp">.</span><span class="n">to_finset</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span><span class="n">simp</span> <span class="o">[</span><span class="n">finset.univ</span><span class="o">,</span> <span class="n">set.to_finset</span><span class="o">],</span> <span class="n">ext</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">exact</span> <span class="n">fintype.complete</span> <span class="n">a</span><span class="o">}</span>
</code></pre></div>
<p>Should this be a simplification lemma? If so, which direction is the right direction to simply?</p>



<a name="246331004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246331004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246331004">(Jul 17 2021 at 15:54)</a>:</h4>
<p>Did you try <code>by library_search</code> to see if we already have this?</p>



<a name="246331029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246331029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246331029">(Jul 17 2021 at 15:55)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.to_finset_univ">docs#set.to_finset_univ</a> <del>or <a href="https://leanprover-community.github.io/mathlib_docs/find/set.univ_to_finset">docs#set.univ_to_finset</a></del> would be my immediate guess</p>



<a name="246331099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246331099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246331099">(Jul 17 2021 at 15:56)</a>:</h4>
<p>So yes, this should be and already is a simp lemma</p>



<a name="246331133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246331133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246331133">(Jul 17 2021 at 15:57)</a>:</h4>
<p>I think your mistake here was simplifying away the definitions before asking lean if the result was already proven</p>



<a name="246333062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333062">(Jul 17 2021 at 16:42)</a>:</h4>
<p>I think they are not the same thing actually,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finset.univ_eq_set_univ_to_finset</span> <span class="o">:</span>
<span class="n">finset.univ</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span><span class="bp">.</span><span class="n">to_finset</span> <span class="o">:=</span>
<span class="n">set.to_finset_univ.symm</span>
</code></pre></div>
<p>won't able to close the goal.</p>



<a name="246333380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333380">(Jul 17 2021 at 16:51)</a>:</h4>
<p>With what error?</p>



<a name="246333643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333643">(Jul 17 2021 at 16:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span><span class="o">,</span> <span class="n">term</span>
  <span class="n">set.to_finset_univ.symm</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">@</span><span class="n">finset.univ</span> <span class="bp">?</span><span class="n">m_1</span> <span class="bp">?</span><span class="n">m_2</span> <span class="bp">=</span>
    <span class="bp">@</span><span class="n">set.to_finset</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="bp">?</span><span class="n">m_1</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">subtype.fintype</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">?</span><span class="n">m_1</span><span class="o">),</span> <span class="n">x</span> <span class="bp">∈</span> <span class="bp">@</span><span class="n">set.univ</span> <span class="bp">?</span><span class="n">m_1</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">?</span><span class="n">m_1</span><span class="o">),</span> <span class="bp">@</span><span class="n">set.univ_decidable</span> <span class="bp">?</span><span class="n">m_1</span> <span class="n">a</span><span class="o">)</span> <span class="bp">?</span><span class="n">m_2</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="bp">@</span><span class="n">finset.univ</span> <span class="n">I</span> <span class="n">_inst_1</span> <span class="bp">=</span> <span class="bp">@</span><span class="n">set.to_finset</span> <span class="n">I</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.fintype_univ</span> <span class="n">I</span> <span class="n">_inst_1</span><span class="o">)</span>
</code></pre></div>



<a name="246333875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333875">(Jul 17 2021 at 17:03)</a>:</h4>
<p>Can you give a mwe with imports?</p>



<a name="246333881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333881">(Jul 17 2021 at 17:04)</a>:</h4>
<p>It might succeed / fail depending  on what you have imported</p>



<a name="246333933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246333933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246333933">(Jul 17 2021 at 17:04)</a>:</h4>
<p><code>by convert set.to_finset_univ.symm</code> may also close it</p>



<a name="246335799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246335799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246335799">(Jul 17 2021 at 17:54)</a>:</h4>
<p>That is weird, Eric. Why should this happen? <span class="user-mention" data-user-id="310045">@Eric Wieser</span> <br>
If I do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data.fintype.card</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">I</span><span class="o">]</span>
<span class="kd">lemma</span> <span class="n">finset.univ_eq_set_univ_to_finset</span> <span class="o">:</span>
<span class="n">finset.univ</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span><span class="bp">.</span><span class="n">to_finset</span> <span class="o">:=</span>
<span class="n">set.to_finset_univ.symm</span>
</code></pre></div>
<p>then it fails, but it will succeed if I remove the import tactic.</p>



<a name="246336069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336069">(Jul 17 2021 at 18:00)</a>:</h4>
<p>Can you narrow down the import that makes it fail?</p>



<a name="246336075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336075">(Jul 17 2021 at 18:01)</a>:</h4>
<p><code>import tactic</code> imports <code>tactic.default</code>, which is just a file full of imports</p>



<a name="246336082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336082">(Jul 17 2021 at 18:01)</a>:</h4>
<p>You can paste those all in, and delete them one at a time until it works</p>



<a name="246336295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336295">(Jul 17 2021 at 18:06)</a>:</h4>
<p><code>tactic</code> imports <code>data.set.finite</code>, which provides the instance <code>fintype_univ</code>, which conflicts with <code>subtype.fintype</code> for <code>set.univ</code>.</p>



<a name="246336302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336302">(Jul 17 2021 at 18:07)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data.fintype.card</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="bp">-</span><span class="kd">instance</span><span class="o">]</span> <span class="n">set.fintype_univ</span>
<span class="kd">lemma</span> <span class="n">finset.univ_eq_set_univ_to_finset</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">I</span><span class="o">]</span> <span class="o">:</span>
<span class="n">finset.univ</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span><span class="bp">.</span><span class="n">to_finset</span> <span class="o">:=</span>
<span class="n">set.to_finset_univ.symm</span>
</code></pre></div>



<a name="246336323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336323">(Jul 17 2021 at 18:07)</a>:</h4>
<p>Maybe <code>set.to_finset_univ</code> should be changed to take a <code>[fintype set.univ]</code> instance</p>



<a name="246336580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336580">(Jul 17 2021 at 18:13)</a>:</h4>
<p>Is there any reason for <a href="https://leanprover-community.github.io/mathlib_docs/find/set.fintype_univ">docs#set.fintype_univ</a> to exist?</p>



<a name="246336625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336625">(Jul 17 2021 at 18:14)</a>:</h4>
<p>If not, it seems easier to remove it than to add that argument</p>



<a name="246336804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246336804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246336804">(Jul 17 2021 at 18:19)</a>:</h4>
<p>I don't see why <code>set.fintype_univ</code> exists, since <code>set.univ</code> is a decidable predicate.  Only thing I can think of is that <code>subtype.fintype</code> breaks the set API slightly, since it treats sets as predicates directly.</p>
<p>(Though it still might be worth fixing <code>set.to_finset_univ</code>, since it breaks the ideal rule that instances used in a lemma should all be given as arguments.)</p>



<a name="246337979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246337979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246337979">(Jul 17 2021 at 18:48)</a>:</h4>
<p>I thought I fixed <a href="https://leanprover-community.github.io/mathlib_docs/find/subtype.fintype">docs#subtype.fintype</a> to not abuse the set API</p>



<a name="246338084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246338084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246338084">(Jul 17 2021 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="408694">@Alex Zhang</span> The reason <code>by convert</code> works is that it makes use of the fact that <code>fintype</code> is a subsingleton (if you have two <code>fintype</code> instances, while they might not be definitionally equal, they are at least provably equal).  There are two instances for <code>fintype (@set.univ I)</code> floating around, and <code>set.to_finset_univ</code> has picked up on a different instance than <code>(@set.univ I).to_finset</code>.</p>
<p>Just for completeness, here is how to get it to work (better to not mess around with removing attributes):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">data.fintype.card</span>

<span class="kd">lemma</span> <span class="n">finset.univ_eq_set_univ_to_finset</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">I</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">finset.univ</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">set.univ</span> <span class="n">I</span><span class="o">)</span><span class="bp">.</span><span class="n">to_finset</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">convert</span> <span class="n">set.to_finset_univ.symm</span>
</code></pre></div>



<a name="246338195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246338195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246338195">(Jul 17 2021 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I'm not sure what counts as abuse exactly.  I was just going on the fact that <code>p</code> here is not a set:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">subtype.fintype</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_pred</span> <span class="n">p</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">fintype</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">x</span><span class="o">}</span> <span class="o">:=</span>
<span class="n">fintype.subtype</span> <span class="o">(</span><span class="n">univ.filter</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">)</span>
</code></pre></div>
<p>(If this is an abuse, I think it's an ok one, but that's just my opinion. I think the fact that sets are predicates is a fundamental fact about them.)</p>



<a name="246338929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246338929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246338929">(Jul 17 2021 at 19:08)</a>:</h4>
<p>Doesn't it infer that with <code>p = (∈ s)</code>?</p>



<a name="246338941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246338941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246338941">(Jul 17 2021 at 19:09)</a>:</h4>
<p>Interestingly we have <a href="https://leanprover-community.github.io/mathlib_docs/find/set_fintype">docs#set_fintype</a> right below that, but it's not an instance</p>



<a name="246339667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246339667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246339667">(Jul 17 2021 at 19:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset/near/246338929">said</a>:</p>
<blockquote>
<p>Doesn't it infer that with <code>p = (∈ s)</code>?</p>
</blockquote>
<p>Oh, my mistake -- thanks.</p>



<a name="246339715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246339715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246339715">(Jul 17 2021 at 19:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset/near/246337979">said</a>:</p>
<blockquote>
<p>I thought I fixed <a href="https://leanprover-community.github.io/mathlib_docs/find/subtype.fintype">docs#subtype.fintype</a> to not abuse the set API</p>
</blockquote>
<p>Eric, what do you mean by "not abuse the set API" here?</p>



<a name="246339737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246339737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246339737">(Jul 17 2021 at 19:24)</a>:</h4>
<p>A lot of stuff used to behave the way you were claiming though - I changed it in the last week or so.</p>



<a name="246339799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246339799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246339799">(Jul 17 2021 at 19:25)</a>:</h4>
<p>By abuse, I mean using <code>s x</code> instead <code>x ∈ s</code> when <code>s : set α</code></p>



<a name="246340328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246340328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246340328">(Jul 17 2021 at 19:37)</a>:</h4>
<p>So is the current solution for working on relevant things to block an instance?</p>



<a name="246340373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246340373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246340373">(Jul 17 2021 at 19:38)</a>:</h4>
<p>Is <code>local attribute [-instance] set.fintype_univ</code> the right thing supposed to do now?</p>



<a name="246340388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246340388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246340388">(Jul 17 2021 at 19:38)</a>:</h4>
<p>and also do <code>local attribute [instance] set_fintype</code> perhas?</p>



<a name="246340404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246340404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246340404">(Jul 17 2021 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>  <span class="user-mention" data-user-id="306601">@Kyle Miller</span></p>



<a name="246340552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246340552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246340552">(Jul 17 2021 at 19:43)</a>:</h4>
<p>I asked how to block things in another post as I had felt that something was going wrong at that point before encounter this specific issue when working on my own project.</p>



<a name="246341666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246341666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246341666">(Jul 17 2021 at 20:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="408694">Alex Zhang</span> <a href="#narrow/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset/near/246340373">said</a>:</p>
<blockquote>
<p>Is <code>local attribute [-instance] set.fintype_univ</code> the right thing supposed to do now?</p>
</blockquote>
<p>No, you should use <code>by convert</code> like in the code block in one of my last comments (at least until these overlapping instances are possibly fixed).</p>



<a name="246341951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246341951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246341951">(Jul 17 2021 at 20:13)</a>:</h4>
<p>There is no mismatch of instances constructed between  <code>set_fintype</code> and <code>subtype.fintype</code> right? <span class="user-mention" data-user-id="306601">@Kyle Miller</span></p>



<a name="246342587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246342587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246342587">(Jul 17 2021 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="408694">@Alex Zhang</span> Correct, those are definitionally equal.</p>



<a name="246343001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246343001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246343001">(Jul 17 2021 at 20:41)</a>:</h4>
<p>I note there is one mismatch : <code>set_fintype</code> uses <code>[_inst_1 : decidable_pred p]</code>, <code>subtype.fintype</code> uses <code>[_inst_1 : decidable_pred p]</code>. I suggest to match them.<br>
Which condition is a better form?</p>



<a name="246345123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246345123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246345123">(Jul 17 2021 at 21:19)</a>:</h4>
<p>Did you mean to type those as the same in both cases?</p>



<a name="246345965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246345965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246345965">(Jul 17 2021 at 21:43)</a>:</h4>
<p>Yes!</p>



<a name="246346377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246346377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246346377">(Jul 17 2021 at 21:54)</a>:</h4>
<p>Then in what way are they a mismatch?</p>



<a name="246346721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246346721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246346721">(Jul 17 2021 at 22:03)</a>:</h4>
<p>sorry, there is a typo, I fixed it.</p>



<a name="246346935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246346935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246346935">(Jul 17 2021 at 22:09)</a>:</h4>
<p><code>decidable_pred</code> expects a <code>p : α → Prop</code>, but <code>s : set α</code>. To get the right type, we need <code>(∈ s) : α → Prop</code>.</p>



<a name="246346983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246346983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246346983">(Jul 17 2021 at 22:10)</a>:</h4>
<p>Using <code>decidable_pred s</code> directly is telling lean to unfold <code>set</code>, which you should never do</p>



<a name="246347244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347244">(Jul 17 2021 at 22:19)</a>:</h4>
<p>What I am saying is that <code>subtype.fintype</code> uses<code> [_inst_1 : decidable_pred p]</code> as a condition, I suggest to rewrite it to <code>[_inst_2 : decidable_pred (λ (_x : α), _x ∈ s)]</code></p>



<a name="246347518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347518">(Jul 17 2021 at 22:27)</a>:</h4>
<p>But subtype.fintype has no <code>s</code> argument, so that second version doesn't make sense!</p>



<a name="246347564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347564">(Jul 17 2021 at 22:28)</a>:</h4>
<p>You use p.</p>



<a name="246347569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347569">(Jul 17 2021 at 22:28)</a>:</h4>
<p>You can't use <code> ∈</code> on <code>p</code> because it's not a set</p>



<a name="246347581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347581">(Jul 17 2021 at 22:29)</a>:</h4>
<p>Oh, that's sad..</p>



<a name="246347582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347582">(Jul 17 2021 at 22:29)</a>:</h4>
<p>Why?</p>



<a name="246347627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347627">(Jul 17 2021 at 22:30)</a>:</h4>
<p>If you have [_inst_2 : decidable_pred (λ (_x : α), _x ∈ s)], can lean infer <code>[_inst_1 : decidable_pred s]</code>?</p>



<a name="246347662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347662">(Jul 17 2021 at 22:31)</a>:</h4>
<p>The latter is nonsense, because it implies using <code>s x</code> on a set</p>



<a name="246347666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347666">(Jul 17 2021 at 22:31)</a>:</h4>
<p>Lean happens to accept it, but you don't want to do it</p>



<a name="246347714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347714">(Jul 17 2021 at 22:32)</a>:</h4>
<p>Because there are no lemmas about <code>s x</code> but lots of lemmas about <code>x ∈ x</code></p>



<a name="246347790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347790">(Jul 17 2021 at 22:35)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/8211">#8211</a> tried to clean this sort of mess up</p>



<a name="246347849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347849">(Jul 17 2021 at 22:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="408694">Alex Zhang</span> <a href="#narrow/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset/near/246347581">said</a>:</p>
<blockquote>
<p>Oh, that's sad..</p>
</blockquote>
<p>Just FYI, <code>set_of</code> is how you convert a predicate into a set.  The <code>subtype.fintype</code> instance will convert the set into a predicate (via <code>(λ (x : α), x ∈ s</code>) through a couple of nice coincidences.</p>



<a name="246347911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246347911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246347911">(Jul 17 2021 at 22:39)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set_of">docs#set_of</a> aka <code>{x | p x}</code></p>



<a name="246348040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246348040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246348040">(Jul 17 2021 at 22:43)</a>:</h4>
<p>As I understand it, the only reason that lean doesn't define <code>set</code> as <code>structure set := (mem : α → Prop)</code> is so that both <code>(∈ {x | p x}) = p</code> and <code>{x | x ∈ s} = s</code> are true definitionally; if it were a <code>structure</code>, the second statement would require extensionality to prove as lean does not perform eta reduction.</p>



<a name="246354852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246354852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246354852">(Jul 18 2021 at 02:12)</a>:</h4>
<p>BTW, to answer the first question, <a href="https://leanprover-community.github.io/mathlib_docs/find/set.to_finset_univ">docs#set.to_finset_univ</a> is in the desired direction. An alright rule of thumb for simp lemmas is that the RHS term should have fewer terms.</p>



<a name="246354866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/finset.univ_eq_set_univ_to_finset/near/246354866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/finset.2Euniv_eq_set_univ_to_finset.html#246354866">(Jul 18 2021 at 02:12)</a>:</h4>
<p>On the LHS, you have both set.univ and set.to_finset. The RHS only have finset.univ</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>