---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html">i proved stars and bars!!!</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265123493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265123493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265123493">(Dec 16 2021 at 08:19)</a>:</h4>
<p>however my code is not mathlib quality yet... any comments? <a href="https://gist.github.com/huynhtrankhanh/53d14471b83b6df4df89528acd70f699">https://gist.github.com/huynhtrankhanh/53d14471b83b6df4df89528acd70f699</a></p>



<a name="265123661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265123661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265123661">(Dec 16 2021 at 08:21)</a>:</h4>
<p>because this code doesn't meet mathlib standards, i haven't made a PR yet <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> please teach me how to improve my code <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span></p>



<a name="265124652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265124652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265124652">(Dec 16 2021 at 08:32)</a>:</h4>
<p>Wow those are long proofs.</p>



<a name="265126507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265126507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265126507">(Dec 16 2021 at 08:53)</a>:</h4>
<p>Nice!</p>



<a name="265128237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265128237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265128237">(Dec 16 2021 at 09:11)</a>:</h4>
<blockquote>
<p>please teach me how to improve my code</p>
</blockquote>
<p>The first thing that jumps out is that you're not using <code>{}</code> to separate subgoals</p>



<a name="265167240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265167240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265167240">(Dec 16 2021 at 14:56)</a>:</h4>
<p>oh... so I'll add <code>{}</code>. after that I can make a pull request right?</p>



<a name="265167318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265167318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265167318">(Dec 16 2021 at 14:56)</a>:</h4>
<p>or do I have to change some names?</p>



<a name="265167384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265167384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265167384">(Dec 16 2021 at 14:57)</a>:</h4>
<p>or is my proof too convoluted and I have to simplify it?</p>



<a name="265167622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265167622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265167622">(Dec 16 2021 at 14:58)</a>:</h4>
<p>Probably a bit convoluted, but a PR is a good place to sort that out</p>



<a name="265167921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265167921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265167921">(Dec 16 2021 at 15:00)</a>:</h4>
<p>I am definitely <em>not</em> an expert, but when I see declarations doing so much I tend to ask myself if I can break it into smaller pieces that are easier to understand and review. Could not be the case tho!</p>



<a name="265171634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265171634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265171634">(Dec 16 2021 at 15:25)</a>:</h4>
<p>I guess a PR would be useful to tell apart what's new and what's Yael and Bhavik's existing code</p>



<a name="265172148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265172148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265172148">(Dec 16 2021 at 15:28)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/10846">https://github.com/leanprover-community/mathlib/pull/10846</a></p>



<a name="265172912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265172912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265172912">(Dec 16 2021 at 15:33)</a>:</h4>
<p>Another common thing is that if you do two <code>rw</code> in a row, they should be written in one line as <code>rw [lem1, lem2]</code>.</p>



<a name="265173305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265173305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265173305">(Dec 16 2021 at 15:36)</a>:</h4>
<p>And sometimes you do two <code>cases</code>right after each other, which can probably be put in one line using <code>rcases</code>.</p>



<a name="265177167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265177167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265177167">(Dec 16 2021 at 16:01)</a>:</h4>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span>: just FYI, in Zulip, <code>#10846</code> becomes <a href="https://github.com/leanprover-community/mathlib/pull/10846">#10846</a>.</p>



<a name="265178202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265178202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265178202">(Dec 16 2021 at 16:09)</a>:</h4>
<p>I added some comments - thanks for adding the <code>{}</code>s, they already make it way more readable than it was</p>



<a name="265250923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265250923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265250923">(Dec 17 2021 at 03:48)</a>:</h4>
<p>thank you for your suggestions! i fixed all the issues you mentioned <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span> <a href="https://github.com/leanprover-community/mathlib/pull/10846">#10846</a></p>



<a name="265250946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265250946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265250946">(Dec 17 2021 at 03:49)</a>:</h4>
<p>oh wait. i still need to use <code>rcases</code>. back to work <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="265251260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265251260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265251260">(Dec 17 2021 at 03:55)</a>:</h4>
<p>done <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>



<a name="265251631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265251631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265251631">(Dec 17 2021 at 04:01)</a>:</h4>
<p>today i learned that this community becomes 10000000000x more helpful when i contribute to mathlib <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="265253112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265253112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265253112">(Dec 17 2021 at 04:30)</a>:</h4>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> you can remove the label <code>awating-author</code> and add the label <code>awating-review</code> if the PR is ready again</p>



<a name="265409852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265409852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265409852">(Dec 18 2021 at 10:02)</a>:</h4>
<p>It looks like you've PR'd from your personal repo, which is an easy mistake to make since how that's how most github projects operate. I've granted you write access to non-master branches so that you can push to a branch like <code>huynhtrankhanh/stars-and-bars</code> in the shared repo instead. See the comment on the PR</p>



<a name="265480770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265480770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265480770">(Dec 19 2021 at 13:40)</a>:</h4>
<p>i'm back <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> ok so i'll make another PR to provide instances and add some functions for <code>sym</code>. but i have some questions:</p>
<blockquote>
<p>Can you extract everything to the right of <code>sum.inr</code> to a new definition, <code>sym2.erase</code>?</p>
</blockquote>
<p>is there a way to do this elegantly? i'm afraid there isn't. this is because the length of the returned <code>sym</code> depends on whether the to be erased element is in the input <code>sym</code> or not. should i take a hypothesis stating that the element to be erased is a member of the original <code>sym</code>?</p>
<blockquote>
<p>I would rather write it like <code>def encode {k : ℕ} (x : sym (option α) k.succ) : sym α k.succ ⊕ sym (option α) k :=</code></p>
</blockquote>
<p>well, you are not the first to come up with this idea. this is part of my <a href="https://photos.app.goo.gl/RdLqMaFFQ8SeeKdUA">proof sketch</a>. however i decided against using this type signature because i assumed that the proof would be quite cantankerous... and at the end of the day i would still need to map the type back to <code>fin n</code> anyway, otherwise there is no way i can define the two <code>multichoose</code> functions... the proof strategy would be quite different i'm afraid</p>
<p>i will address other comments in a new PR. thanks!</p>



<a name="265480836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265480836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265480836">(Dec 19 2021 at 13:42)</a>:</h4>
<p>Then I encourage you to try the foreseen cantakerous proof. I promise it's not that bad, and you might even enjoy it.</p>



<a name="265481009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265481009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265481009">(Dec 19 2021 at 13:47)</a>:</h4>
<p>Yes, I'm suggesting <code>erase (s : sym α n.succ) (a : α) (ha : a ∈ s) : sym α n</code></p>



<a name="265481017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265481017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265481017">(Dec 19 2021 at 13:47)</a>:</h4>
<p>Since that's the version it seems you actually use</p>



<a name="265997776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265997776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265997776">(Dec 24 2021 at 12:07)</a>:</h4>
<p>i made a new PR!!! <a href="https://github.com/leanprover-community/mathlib/pull/11032">#11032</a></p>



<a name="265997862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265997862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265997862">(Dec 24 2021 at 12:09)</a>:</h4>
<p>this time i do things very properly <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> i hope someone will review and merge my PR <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="265998821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265998821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265998821">(Dec 24 2021 at 12:28)</a>:</h4>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> I've left a first set of comments. Main remark: use more explicit variables when writing <code>instance</code>s.</p>



<a name="265998860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/265998860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#265998860">(Dec 24 2021 at 12:29)</a>:</h4>
<p>Thanks, that PR looks great! Some of the proofs look a little strangely written, but the statements largely look good</p>



<a name="266041427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266041427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266041427">(Dec 25 2021 at 04:40)</a>:</h4>
<p>i've made the necessary changes and the PR is now ready for review again <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="266043347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266043347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266043347">(Dec 25 2021 at 05:39)</a>:</h4>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> I left another review.</p>



<a name="266052616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266052616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266052616">(Dec 25 2021 at 10:11)</a>:</h4>
<p>docstrings added, you can review the PR again</p>



<a name="266091193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266091193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266091193">(Dec 26 2021 at 04:48)</a>:</h4>
<p>I just fixed stuff <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> I don't know how to do the docstring thing though, please review my PR again</p>



<a name="266109355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266109355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266109355">(Dec 26 2021 at 13:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="270523">Huỳnh Trần Khanh</span> <a href="#narrow/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!/near/266091193">said</a>:</p>
<blockquote>
<p>I just fixed stuff <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> I don't know how to do the docstring thing though, please review my PR again</p>
</blockquote>
<p>On the PR page, if you to the bottom and check the box with the tests, you'll notice this line with a red mark indicating failure:<br>
<code>continuous integration / Lint mathlib (push) Failing after 40m — Lint mathlib Details</code><br>
Then you can click on <code>Details</code> and check what broke</p>



<a name="266109426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266109426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266109426">(Dec 26 2021 at 13:19)</a>:</h4>
<p>In this case, it's because you added a definition of <a href="https://github.com/leanprover-community/mathlib/blob/a3c474a3ff62f788dacf752bfc78cfd6c8622e31/src/data/sym/basic.lean#L231"><code>sym.map</code></a> and didn't add a docstring for it</p>



<a name="266163071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266163071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266163071">(Dec 27 2021 at 10:43)</a>:</h4>
<p>yayy!!! my PR looks <em>very</em> ready to merge <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> can anyone run <code>bors r+</code> <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span> or tell me if there's anything I need to fix <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="266321179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266321179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266321179">(Dec 29 2021 at 06:27)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/10846">#10846</a> someone please review <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="266321486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266321486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266321486">(Dec 29 2021 at 06:34)</a>:</h4>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> You should label the PR with <code>awaiting-review</code>. That way you can make it show up on the <a href="https://bit.ly/3zVLgqR">#queue</a></p>



<a name="266411403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266411403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266411403">(Dec 30 2021 at 08:22)</a>:</h4>
<p>I just opened <a href="https://github.com/leanprover-community/mathlib/pull/11142">#11142</a>, which should hopefully generalize the approach (from fintypes to finsets). Hence I suggest putting it as a dependency of <a href="https://github.com/leanprover-community/mathlib/pull/10846">#10846</a>.</p>



<a name="266435312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266435312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266435312">(Dec 30 2021 at 15:12)</a>:</h4>
<p>sorry I couldn't get fin.cast_pred to work. anyway if anyone has any suggestions please let me know <a href="https://github.com/leanprover-community/mathlib/pull/10846">#10846</a></p>



<a name="266436232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266436232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266436232">(Dec 30 2021 at 15:27)</a>:</h4>
<p>but I think I have a question <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> I don't quite understand what <a href="https://github.com/leanprover-community/mathlib/pull/11142">#11142</a> does really... does it mean I have to <del>rewrite my PR</del>? that is, do I have to use <code>finset</code> in my proof now? and I can't have my straightforward proof based on equinumerosity?</p>



<a name="266436705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266436705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266436705">(Dec 30 2021 at 15:35)</a>:</h4>
<p>I like this <code>finset.sym2</code>, but I'm not sure it's better to base stars-and-bars on it (or if it is better, I'm not sure it's necessary to rewrite the PR to use it right now).  I think this is a case where manipulating types directly gives a more direct proof, vs manipulating finsets in types. It's probably fairly easy to get the <code>finset</code> version of the theorem from the type version.</p>



<a name="266440070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266440070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266440070">(Dec 30 2021 at 16:23)</a>:</h4>
<p>i'd say that it would be silly to base my PR off of <a href="https://github.com/leanprover-community/mathlib/pull/11142">#11142</a> because the proof would become... more convoluted? and my proof is as straightforward as it gets <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> i believe equinumerosity is the most natural approach to prove stars and bars, <a href="#narrow/stream/116395-maths/topic/Stars.20and.20bars">even stars and bars isn't as natural as my approach</a> <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="266440676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266440676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266440676">(Dec 30 2021 at 16:33)</a>:</h4>
<p>this is my opinion, and of course you might disagree but i believe my opinion is pretty reasonable: we should get my PR merged without changing the overall proof strategy or generalizing stuff <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> building an API for <code>data.sym</code> is reasonable, and i think there might be some lean idioms that i missed. also the names don't really follow mathlib conventions so maybe you should tell me how to fix those names too. but i don't think the proof strategy should be changed for the time being</p>



<a name="266441420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266441420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266441420">(Dec 30 2021 at 16:46)</a>:</h4>
<p>I think it's nice having combinatorial proofs where we encode algebraic expressions of numbers as algebraic expressions of types, with equalities being equivalences, ideally in a way where these equivalences are useful functions in their own right.</p>
<p>I'd like it more if our equivalences used "generic" types, like sums, products, and <code>option</code>.  (<code>option</code> I think we can agree ought to be the standard combinatorial encoding of "add one.") Right now the <code>equivalent</code> definition uses special properties of <code>fin</code>, and I think everything will end up being cleaner if we use Yael's earlier suggestion of  <code>sym (option α) k.succ ≃ sym α k.succ ⊕ sym (option α) k</code>.</p>
<p>I'm happy to go through and switch things over to this if you want any help <span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span>.</p>



<a name="266441540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266441540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266441540">(Dec 30 2021 at 16:48)</a>:</h4>
<p>(I want to be mindful of the fact that it's not that fun being part of a long and drawn-out PR process, so I don't want to ask you to do more work for this to get it in.)</p>



<a name="266442196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266442196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266442196">(Dec 30 2021 at 16:59)</a>:</h4>
<p>I have the same feeling that the way you attacked things won't translate that well from types to finsets. The <code>sym2</code>  stars and bars, however, went unscathed.</p>



<a name="266442615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266442615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266442615">(Dec 30 2021 at 17:04)</a>:</h4>
<p>One way <code>finset.sym</code> could help is if it were inductively defined in such a way that every <code>sym</code> is added exactly once, in which case the inductive definition turns into an inductive relation on its card. I wrote <a href="https://github.com/leanprover-community/mathlib/pull/11142">#11142</a> with the idea that the definition might change in mind, by making sure most of the API wasn't directly using the definition but instead going through <code>finset.mem_sym_iff</code>, which is <em>the</em> main theorem.</p>



<a name="266442806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266442806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266442806">(Dec 30 2021 at 17:07)</a>:</h4>
<p>this is what I did for <code>card_embedding</code>; there's a bunch of <a href="https://github.com/leanprover-community/mathlib/blob/master/src/data/equiv/embedding.lean">equivs</a> which basically underscore the proof (and <code>option</code> used for <code>add_one</code>!)</p>



<a name="266442853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266442853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266442853">(Dec 30 2021 at 17:08)</a>:</h4>
<p>(and the end proof looked like <a href="https://tqft.net/mathlib/data/fintype/card_embedding">file#data/fintype/card_embedding</a></p>



<a name="266442897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266442897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266442897">(Dec 30 2021 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> Just to clarify, what's "this"? (I'm assuming it's what I mentioned about equivalences, but just want to be sure since there are a couple things under discussion.)</p>



<a name="266443034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266443034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266443034">(Dec 30 2021 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!/near/266441420">said</a>:</p>
<blockquote>
<p>I think it's nice having combinatorial proofs where we encode algebraic expressions of numbers as algebraic expressions of types, with equalities being equivalences, ideally in a way where these equivalences are useful functions in their own right.</p>
<p>I'd like it more if our equivalences used "generic" types, like sums, products, and <code>option</code>.  (<code>option</code> I think we can agree ought to be the standard combinatorial encoding of "add one.") Right now the <code>equivalent</code> definition uses special properties of <code>fin</code>, and I think everything will end up being cleaner if we use Yael's earlier suggestion of  <code>sym (option α) k.succ ≃ sym α k.succ ⊕ sym (option α) k</code>.</p>
<p>I'm happy to go through and switch things over to this if you want any help <span class="user-mention silent" data-user-id="270523">Huỳnh Trần Khanh</span>.</p>
</blockquote>



<a name="266478929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266478929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266478929">(Dec 31 2021 at 03:47)</a>:</h4>
<p>i made a new PR from a branch on mathlib. you, as in everyone with write access can commit anything you want now <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> <a href="https://github.com/leanprover-community/mathlib/pull/11162">#11162</a></p>
<p>feel free to do crazy stuff</p>



<a name="266492758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266492758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266492758">(Dec 31 2021 at 09:33)</a>:</h4>
<p>I'm trying the <code>option α</code> stuff out.</p>



<a name="266493916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266493916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266493916">(Dec 31 2021 at 09:59)</a>:</h4>
<p>What you were missing to make that work was</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">attach</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">sym</span> <span class="n">α</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">sym</span> <span class="o">{</span><span class="n">a</span> <span class="bp">//</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">}</span> <span class="n">n</span>
</code></pre></div>



<a name="266501873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266501873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266501873">(Dec 31 2021 at 12:51)</a>:</h4>
<p>Okay, I got it working, with many more <code>sym</code> lemmas.</p>



<a name="266502992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266502992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266502992">(Dec 31 2021 at 13:16)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Oh, I was working on that, too, and I also implemented <code>attach</code>. That's what my offer to <span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> was supposed to mean and the <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span>, but I should have been more explicit I guess.</p>



<a name="266502997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266502997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266502997">(Dec 31 2021 at 13:17)</a>:</h4>
<p>Ah yeah, sorry. I did say I was working on it 3 hours ago.</p>



<a name="266503082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266503082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266503082">(Dec 31 2021 at 13:19)</a>:</h4>
<p>I mean I was working on it yesterday (and I just woke up in this timezone)</p>



<a name="266503140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266503140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266503140">(Dec 31 2021 at 13:20)</a>:</h4>
<p>Oh whoops</p>



<a name="266503144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266503144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266503144">(Dec 31 2021 at 13:20)</a>:</h4>
<p>Oh well, I'll just merge in some of the additional things I have.</p>



<a name="266514107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266514107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266514107">(Dec 31 2021 at 17:07)</a>:</h4>
<p>Ok, merged. <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> I reorganized the new lemmas you wrote and put them in <code>data/sym/basic</code>, and other than that I don't think I modified them other than renaming <code>map_attach_val</code> to <code>attach_map_coe</code>. There's a <code>section unused</code> in <code>data/sym/card</code> with a few things that weren't used in the argument (and which I didn't want to find proper homes for to avoid recompilation).</p>
<p><span class="user-mention" data-user-id="270523">@Huỳnh Trần Khanh</span> I changed the design slightly. I consolidated the <code>multichoose*</code> functions to a single one:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">multichoose</span> <span class="o">(</span><span class="n">n</span> <span class="n">k</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="n">k</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">choose</span> <span class="n">k</span>
</code></pre></div>
<p>and I filled in the proof for</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">multichoose_eq</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">hα</span> <span class="o">:</span> <span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="o">(</span><span class="n">sym</span> <span class="n">α</span> <span class="n">k</span><span class="o">)]</span> <span class="o">:</span>
  <span class="n">multichoose</span> <span class="o">(</span><span class="n">card</span> <span class="n">α</span><span class="o">)</span> <span class="n">k</span> <span class="bp">=</span> <span class="n">card</span> <span class="o">(</span><span class="n">sym</span> <span class="n">α</span> <span class="n">k</span><span class="o">)</span>
</code></pre></div>
<p>I figured <code>card (sym α k)</code> is a short enough name for itself.</p>



<a name="266514395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266514395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266514395">(Dec 31 2021 at 17:14)</a>:</h4>
<p>(<span class="user-mention" data-user-id="387244">@Yaël Dillies</span> That was a good change to <code>sym.cons</code> to help unstick simplifications.)</p>



<a name="266515087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266515087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266515087">(Dec 31 2021 at 17:31)</a>:</h4>
<p>Btw I meant to replace <code>multichoose</code> by <code>nat.
asc_fac</code> or something</p>



<a name="266515303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266515303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266515303">(Dec 31 2021 at 17:36)</a>:</h4>
<p>Whatever it's called, putting it into the <code>nat</code> is a good idea. <code>nat.multichoose</code> seems fine to me, and it seems like a relatively common name.</p>
<p>Where's the name <code>nat.asc_fac</code> coming from?</p>



<a name="266517128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266517128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266517128">(Dec 31 2021 at 18:20)</a>:</h4>
<p>Sorry, was on my phone. I meant <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.asc_factorial">docs#nat.asc_factorial</a></p>



<a name="266517664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/i%20proved%20stars%20and%20bars%21%21%21/near/266517664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/i.20proved.20stars.20and.20bars!!!.html#266517664">(Dec 31 2021 at 18:35)</a>:</h4>
<p>Oh, I see, makes sense.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>