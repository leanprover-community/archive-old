---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html">Hello! Have a proof of Heron's Area Formula!</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="232667443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232667443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232667443">(Mar 31 2021 at 21:23)</a>:</h4>
<p>Hi all! I discovered lean a couple days ago and have been thoroughly enjoying it. I noticed that Heron's Area Formula was on the list of missing theorems of the big 100, so as a fun experiment I attempted a proof. Lo and behold, I actually managed to do it!</p>
<p>Warning: The proof is incredibly, terribly messy. I know it can be simplified drastically - I will have fun doing that soon! But I was excited that I had killed my last <code>sorry</code> and want to share:</p>
<p><a href="https://github.com/matt-kempster/mathlib/commit/a9981fde5877c78edfa70e64bd99ce225dc1a4f2">https://github.com/matt-kempster/mathlib/commit/a9981fde5877c78edfa70e64bd99ce225dc1a4f2</a></p>
<p>Let me know if you have any pointed feedback - ways to rewrite sections, etc. I will be opening a PR soon; first I must:</p>
<ul>
<li>Extract the proof into the archive directory (instead of being inlined into geometry.lean</li>
<li>Clean it up (obviously)</li>
<li>Double-check that I actually proved the right thing/formulated it correctly/don't need to prove anything else</li>
</ul>
<p>Thanks for reading!</p>
<p>P.S.: hello! Good to be here! :D</p>



<a name="232667616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232667616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232667616">(Mar 31 2021 at 21:25)</a>:</h4>
<p>Welcome! Heron's area formula might well deserve to be in the main library rather than the archive, actually.</p>



<a name="232669665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232669665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232669665">(Mar 31 2021 at 21:41)</a>:</h4>
<p>Ideally, someday, the LHS of your equation will be <code>volume (convex_hull {p1, p2, p3})</code>, where <code>volume</code> is a measure naturally induced on the affine Euclidean space in question, coming from the Euclidean inner product.</p>



<a name="232669989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232669989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232669989">(Mar 31 2021 at 21:44)</a>:</h4>
<p>Agreed, that's how the other theorem provers seem to be doing it. I wonder if Freek is okay with this formulation or not :)</p>



<a name="232670029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670029">(Mar 31 2021 at 21:44)</a>:</h4>
<p>In my mind the main point would be that a real inner product (element of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo><mi mathvariant="normal">Sym</mi><mo>⁡</mo></mo><mn>2</mn></msup><msup><mi>V</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\operatorname{Sym}^2V^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.081778em;vertical-align:-0.19444em;"></span><span class="mop"><span class="mop"><span class="mord mathrm">S</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span><span class="mord mathrm">m</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.887338em;"><span style="top:-3.1362300000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>) induces a volume form (element of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Λ</mi><mi>n</mi></msup><msup><mi>V</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda^nV^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>).  <span class="user-mention" data-user-id="310045">@Eric Wieser</span> might be able to comment on how far away this is ...</p>



<a name="232670127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670127">(Mar 31 2021 at 21:45)</a>:</h4>
<p>Is this also how other theorem provers do it?  Or is it a more concrete construction of the associated measure?  (I don't know if the other theorem provers have much in the way of tensors, etc.)</p>



<a name="232670402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670402">(Mar 31 2021 at 21:47)</a>:</h4>
<p>I think that <span class="user-mention" data-user-id="118107">@Amelia Livingston</span> has more to say about exterior powers than I do</p>



<a name="232670405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670405">(Mar 31 2021 at 21:47)</a>:</h4>
<p>I just looked. It appears that HOL Light and Isabelle use the convex hull formulation, while Metamath, Coq, and Mizar all use the same formulation I did (based on distances between three points).</p>



<a name="232670505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670505">(Mar 31 2021 at 21:48)</a>:</h4>
<p>Although exterior powers over a dual space (if that's what the * is) are isomorphic to <a href="https://leanprover-community.github.io/mathlib_docs/find/alternating_map">docs#alternating_map</a>, right?</p>



<a name="232670556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670556">(Mar 31 2021 at 21:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="401024">Matt Kempster</span> <a href="#narrow/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!/near/232670405">said</a>:</p>
<blockquote>
<p>I just looked. It appears that HOL Light and Isabelle use the convex hull formulation, while Metamath, Coq, and Mizar all use the same formulation I did (based on distances between three points).</p>
</blockquote>
<p>What is the measure on the space in which the convex hull is taken?  Effectively, is the space itself R^n (with the product measure) or a general affine Euclidean space?</p>



<a name="232670874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670874">(Mar 31 2021 at 21:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!/near/232670556">said</a>:</p>
<blockquote>
<p>What is the measure on the space in which the convex hull is taken?  Effectively, is the space itself R^n (with the product measure) or a general affine Euclidean space?</p>
</blockquote>
<p>I'm no expert in either of those theorem provers, but it looks like they both use R^2:</p>
<ul>
<li><a href="https://www.cs.ru.nl/~freek/100/hol.html#57">https://www.cs.ru.nl/~freek/100/hol.html#57</a></li>
<li><a href="http://www.cse.unsw.edu.au/~kleing/top100/#57">http://www.cse.unsw.edu.au/~kleing/top100/#57</a></li>
</ul>



<a name="232670892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232670892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232670892">(Mar 31 2021 at 21:51)</a>:</h4>
<p>If you work in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>, we do have the measure, but you lose all the nice geometric expression.  A little unsatisfactory either way :)</p>



<a name="232671013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232671013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232671013">(Mar 31 2021 at 21:52)</a>:</h4>
<p>(To be clear, it's our library that's unsatisfactory, not your proof!) <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="232671209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232671209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232671209">(Mar 31 2021 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="401024">@Matt Kempster</span> Freek told me that he explicitly avoids saying precisely how the theorem should be formalised and is happy if different people interpret a result in different ways. I think at least one of the proofs of Pythagoras's theorem just points to a definition of a norm on R^2 for example.</p>



<a name="232671438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232671438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232671438">(Mar 31 2021 at 21:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!/near/232670505">said</a>:</p>
<blockquote>
<p>Although exterior powers over a dual space (if that's what the * is) are isomorphic to <a href="https://leanprover-community.github.io/mathlib_docs/find/alternating_map">docs#alternating_map</a>, right?</p>
</blockquote>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> Yes, so we want a construction of the alternating map induced by an inner product, and also a construction of the measure induced by an alternating map to the scalar field.</p>



<a name="232671874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232671874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232671874">(Mar 31 2021 at 21:59)</a>:</h4>
<p>Actually, sorry, it's more complicated.  An inner product induces an element of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi mathvariant="normal">Λ</mi><mi>n</mi></msup><msup><mi>V</mi><mo>∗</mo></msup><msup><mo stretchy="false">)</mo><mrow><mo>⊗</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">(\Lambda^nV^*)^{\otimes 2}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊗</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>.  This determines a density, and hence a measure, where a density is defined to be a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>±</mo></mrow><annotation encoding="application/x-tex">\pm</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">±</span></span></span></span>-equivalence class of elements of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Λ</mi><mi>n</mi></msup><msup><mi>V</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda^nV^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="232672439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232672439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232672439">(Mar 31 2021 at 22:02)</a>:</h4>
<p>The closest I can offer right now for alternating maps derived from a quadratic form is <a href="https://pygae.github.io/lean-ga-docs/geometric_algebra/from_mathlib/basic.html#clifford_algebra.%CE%B9_wedge">the <code>clifford_algebra.ι_wedge</code> definition</a> in my repo</p>



<a name="232672628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232672628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232672628">(Mar 31 2021 at 22:04)</a>:</h4>
<p>Square the result of that, and conjure an inverse algebra map, and I think you have your volume (squared)</p>



<a name="232672800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232672800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232672800">(Mar 31 2021 at 22:05)</a>:</h4>
<p>What do you mean by "square" here?  It's clear if the object is an element of the top exterior power, and squaring produces an element of the tensor square of the top exterior power; it's less clear to me what is meant if the object is an alternating map.</p>



<a name="232672926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232672926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232672926">(Mar 31 2021 at 22:06)</a>:</h4>
<p>I mean square the output after applying the map I guess</p>



<a name="232673056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232673056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232673056">(Mar 31 2021 at 22:07)</a>:</h4>
<p>Which maybe doesn't make much sense if we're working with alternating maps only as a conveniently isomorphic object</p>



<a name="232673756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232673756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232673756">(Mar 31 2021 at 22:14)</a>:</h4>
<p>Having actual exterior power objects in mathlib would certainly make this clearer!</p>



<a name="232685801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232685801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232685801">(Apr 01 2021 at 00:20)</a>:</h4>
<p>The convention used for geometry results in mathlib is that you have <code>{V : Type*} {P : Type*} [inner_product_space ℝ V] [metric_space P] [normed_add_torsor V P]</code>, so an arbitrary (possibly infinite-dimensional) Euclidean space, and then if the result is specific to two dimensions you have a two-dimensional subspace <code>{s : affine_subspace ℝ P} [finite_dimensional ℝ s.direction] (hd : findim ℝ s.direction = 2)</code> and hypotheses that points are in it. Then you possibly have a variant of the result when the whole space is two-dimensional, for convenience of people using it in that context. (E.g. when stating an IMO geometry problem it makes sense to have <code>[finite_dimensional ℝ V] (hd2 : findim ℝ V = 2)</code> rather than embedding the plane in a possibly larger space.) (When working with a triangle, you don't need those extra hypotheses, but you would if e.g. dealing with four points that must be coplanar.)</p>
<p>I think area in Heron (in mathlib proper) ought to be using the measure theory part of the library. To give and justify a definition of area/volume for an arbitrary Euclidean (affine) space by reference to one for <code>euclidean_space ℝ (fin n)</code> (I'm not sure how close what we have on product measures is to giving us the latter), you need (a) an isometry from the arbitrary space to the <code>euclidean_space</code> (which we have, more or less, given an isometry between <code>P</code> and <code>V</code> from <code>vadd_const</code> etc. together with <code>linear_isometry_equiv.of_inner_product_space</code>) and (b) a proof that the measure on the <code>euclidean_space</code> is invariant under isometries, which I don't think we have, to show the definition is genuinely independent of the arbitrary choice of isometry used. (More generally, we ought to have that any affine map multiplies the measure by the absolute value of the determinant.)</p>
<p>Then you have the matter of expressing results on area / volume in a way that makes sense for a two-dimensional triangle in a larger-dimensional space, so want a notion of two-dimensional measure meaningful in that context (and to show it's equal to measure in a two-dimensional space when you use coercions to treat the subspace as a Euclidean space itself; I'm not sure we have all those coercions yet). (As an example of why that generality is useful, clearly we ought to have the result that the volume of a (possibly degenerate) n-dimensional simplex is equal to 1/n * volume of base * height, which is talking about both (n-1)-dimensional and n-dimensional volumes in the same space.)</p>
<p>I think convex hull makes sense as the thing you are taking the measure of (see Yury's past unfinished attempts to redo convexity in mathlib for affine spaces, <a href="https://github.com/leanprover-community/mathlib/issues/2910">#2910</a>).</p>
<p>In the absence of being a statement about areas in a form properly linked to the measure theory part of the library, maybe the archive is a better place for the proof (with a view to being moved into mathlib proper once linked with measure theory).</p>



<a name="232686150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686150">(Apr 01 2021 at 00:25)</a>:</h4>
<p>Also, Heron (in a form going in mathlib proper) shouldn't have the hypotheses you have that the points are different; it's true for all degenerate triangles as well, and might sometimes be useful in degenerate cases.</p>



<a name="232686735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686735">(Apr 01 2021 at 00:33)</a>:</h4>
<p><span class="user-mention" data-user-id="401024">@Matt Kempster</span>, by the way, I don't know if you have seen the proof for the area of a disc, by James Arthur, Ben Davidson and Andrew Souther:<br>
<a href="https://github.com/leanprover-community/mathlib/blob/cc9915282edc5c432650e4838535cdef9f65c086/archive/100-theorems-list/9_area_of_a_circle.lean#L75">https://github.com/leanprover-community/mathlib/blob/cc9915282edc5c432650e4838535cdef9f65c086/archive/100-theorems-list/9_area_of_a_circle.lean#L75</a><br>
They take the opposite approach from you (with the opposite "problem"): it's stated using measure theory for a disc in <code>ℝ × ℝ</code> (so someday it will also generalize to <code>metric.ball</code> in a Euclidean affine space).</p>



<a name="232686743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686743">(Apr 01 2021 at 00:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="266253">Joseph Myers</span> <a href="#narrow/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!/near/232686150">said</a>:</p>
<blockquote>
<p>Also, Heron (in a form going in mathlib proper) shouldn't have the hypotheses you have that the points are different; it's true for all degenerate triangles as well, and might sometimes be useful in degenerate cases.</p>
</blockquote>
<p>This is true, I was thinking about this. I suppose a workaround would be to define the area of a degenerate triangle as 0, right?</p>



<a name="232686830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686830">(Apr 01 2021 at 00:34)</a>:</h4>
<p>I think any reasonable definition should result in the area of a degenerate triangle being 0 without needing to special-case it in the definition (even if sometimes special cases are needed in the proofs).</p>



<a name="232686885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686885">(Apr 01 2021 at 00:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!/near/232686735">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="401024">Matt Kempster</span>, by the way, I don't know if you have seen the proof for the area of a disc, by James Arthur, Ben Davidson and Andrew Souther:<br>
<a href="https://github.com/leanprover-community/mathlib/blob/cc9915282edc5c432650e4838535cdef9f65c086/archive/100-theorems-list/9_area_of_a_circle.lean#L75">https://github.com/leanprover-community/mathlib/blob/cc9915282edc5c432650e4838535cdef9f65c086/archive/100-theorems-list/9_area_of_a_circle.lean#L75</a><br>
They take the opposite approach from you (with the opposite "problem"): it's stated using measure theory for a disc in <code>ℝ × ℝ</code> (so someday it will also generalize to <code>metric.ball</code> in a Euclidean affine space).</p>
</blockquote>
<p>Neat! By opposite "problem" you mean that it uses measure theory and wants to one day be part of Euclidean world, whereas my Heron proof is in Euclidean world and will one day be part of measure theory land?</p>



<a name="232686909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232686909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232686909">(Apr 01 2021 at 00:35)</a>:</h4>
<p>Precisely!</p>



<a name="232699165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232699165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232699165">(Apr 01 2021 at 03:39)</a>:</h4>
<p>I have opened <a href="https://github.com/leanprover-community/mathlib/issues/6988">#6988</a> for this, after a lot of simplification and refactoring. I'm actually rather happy with the proof now!</p>
<p>My questions (copy-pasted from the PR, comment there if you'd like):</p>
<ul>
<li>Is there a linter I can run?</li>
<li>Do you have any feedback on the proof style? Let me know where I can simplify or improve things.</li>
<li>What is the deal with the required rotate, { exact V }, { exact _inst_1 }, that I have, and what do those lines do? Can I get rid of those extra 2 goals?</li>
</ul>
<p>Also, hi to the following people whose names I recognize in here:</p>
<ul>
<li><span class="user-mention" data-user-id="252300">@Jalex Stark</span> </li>
<li><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> </li>
<li><span class="user-mention" data-user-id="402311">@Henry Swanson</span> </li>
<li><span class="user-mention" data-user-id="282271">@Bolton Bailey</span> </li>
</ul>
<p>What a cool coincidence that you guys are here!!</p>



<a name="232699966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232699966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232699966">(Apr 01 2021 at 03:51)</a>:</h4>
<p>Oh, I've just realized that I didn't do the workflow properly; I worked on a branch of a fork, instead of a branch of the main repository. Is this OK, or should I kill my PR and make a new one?</p>
<p>My github username is <code>matt-kempster</code> - could I have access to create new branches of mathlib? Thanks!</p>



<a name="232700206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232700206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232700206">(Apr 01 2021 at 03:55)</a>:</h4>
<p>Yes, please open a PR from the main repository. I've just sent you an invitation: <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>



<a name="232700299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232700299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232700299">(Apr 01 2021 at 03:57)</a>:</h4>
<p>We have two linters that are run by our CI scripts. To run them locally, see <a href="#narrow/stream/113489-new-members/topic/roadmap/near/228348297">this post</a>.</p>



<a name="232700397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Hello%21%20Have%20a%20proof%20of%20Heron%27s%20Area%20Formula%21/near/232700397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Kempster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Hello!.20Have.20a.20proof.20of.20Heron's.20Area.20Formula!.html#232700397">(Apr 01 2021 at 03:59)</a>:</h4>
<p>Thanks for the tips, Bryan.</p>
<p>Opened <a href="https://github.com/leanprover-community/mathlib/issues/6989">#6989</a>. Feel free to review!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>