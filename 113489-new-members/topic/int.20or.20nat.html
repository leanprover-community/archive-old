---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/int.20or.20nat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html">int or nat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233180805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233180805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233180805">(Apr 05 2021 at 14:45)</a>:</h4>
<p>Hi all! I encounter this problem trying to replicate this proof in lean  (figure 1). I don't know whether to make  x y a b to be integers or natural numbers. If they are nat, usually I can stuck on some tedious calculations especially involving subtraction (I guess it's because subtraction is defined differently e.g. 0 - 1 = 0). You can also check figure 2 where I give some examples that library_search cannot solve conjectures about nat but work in int. However, if I make them int, I'll need to combine nat and int using ↑, e.g. ↑q = x^2 + y^2 instead of q = x^2 + y^2 and it takes a lot of work to convert between int and nat.</p>
<p>Are there any suggestions? Thank you!<br>
<a href="/user_uploads/3121/Y7KKApLN-z_jO9-sUd1nNgXE/oringinal-proof.PNG">oringinal-proof.PNG</a><br>
<a href="/user_uploads/3121/hKQzu_zUL05nYGS7xebBuds_/int-vs-nat.PNG">int-vs-nat.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Y7KKApLN-z_jO9-sUd1nNgXE/oringinal-proof.PNG" title="oringinal-proof.PNG"><img src="/user_uploads/3121/Y7KKApLN-z_jO9-sUd1nNgXE/oringinal-proof.PNG"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/hKQzu_zUL05nYGS7xebBuds_/int-vs-nat.PNG" title="int-vs-nat.PNG"><img src="/user_uploads/3121/hKQzu_zUL05nYGS7xebBuds_/int-vs-nat.PNG"></a></div>



<a name="233180945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233180945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233180945">(Apr 05 2021 at 14:46)</a>:</h4>
<p>I would work with <code>int</code> all the time, because whilst this is a theorem about naturals there is a lot of subtraction going on.</p>



<a name="233181103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233181103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233181103">(Apr 05 2021 at 14:48)</a>:</h4>
<p>I would just use ints for everything -- then you don't even have up-arrows.</p>



<a name="233181210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233181210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233181210">(Apr 05 2021 at 14:49)</a>:</h4>
<p>As for the not working stuff -- the second example is not true (try <code>slim_check</code> and see if it finds a counterexample) and the first example could perhaps be solved by <code>omega</code>, but honestly I would avoid naturals.</p>



<a name="233183962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233183962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233183962">(Apr 05 2021 at 15:05)</a>:</h4>
<p>woah first time I see <code>slim_check</code>, that's really cool</p>



<a name="233197430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233197430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233197430">(Apr 05 2021 at 16:44)</a>:</h4>
<p>If you get stuck, feel free to check <a href="https://github.com/Ruben-VandeVelde/flt/blob/tmp/src/cox.lean">https://github.com/Ruben-VandeVelde/flt/blob/tmp/src/cox.lean</a> for my proof</p>



<a name="233202591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233202591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233202591">(Apr 05 2021 at 17:27)</a>:</h4>
<p>(deleted)</p>



<a name="233202693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233202693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233202693">(Apr 05 2021 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/int.20or.20nat/near/233181103">said</a>:</p>
<blockquote>
<p>I would just use ints for everything -- then you don't even have up-arrows.</p>
</blockquote>
<p>I see. I will stick to int later on. Thanks!</p>



<a name="233202896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/233202896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#233202896">(Apr 05 2021 at 17:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/int.20or.20nat/near/233197430">said</a>:</p>
<blockquote>
<p>If you get stuck, feel free to check <a href="https://github.com/Ruben-VandeVelde/flt/blob/tmp/src/cox.lean">https://github.com/Ruben-VandeVelde/flt/blob/tmp/src/cox.lean</a> for my proof</p>
</blockquote>
<p>Oh that's fantastic! Thank you!</p>



<a name="234139188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/234139188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#234139188">(Apr 12 2021 at 11:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/int.20or.20nat/near/233181103">said</a>:</p>
<blockquote>
<p>I would just use ints for everything -- then you don't even have up-arrows.</p>
</blockquote>
<p>By the way, there is no defintions for prime in int. To avoid nat, I've seen a lot of works importing field_theory.finite.basic to use the definition of prime. Is that the right thing to do?</p>



<a name="234140043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/234140043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#234140043">(Apr 12 2021 at 11:11)</a>:</h4>
<p>Not sure why you'd go through <code>field_theory.finite.basic</code>, though it probably works fine. Importing <code>algebra.associated</code> should be sufficient</p>



<a name="234140080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/234140080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#234140080">(Apr 12 2021 at 11:11)</a>:</h4>
<p><code>ring_theory.int.basic</code> is probably also useful</p>



<a name="234153606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/234153606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tianchen Zhao <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#234153606">(Apr 12 2021 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/int.20or.20nat/near/234140043">said</a>:</p>
<blockquote>
<p>Not sure why you'd go through <code>field_theory.finite.basic</code>, though it probably works fine. Importing <code>algebra.associated</code> should be sufficient</p>
</blockquote>
<p>Yeah I also noticed that ring_theory.int.basic works as well in your proof on cox, but I get the same results unfolding prime with the three imports. Is there a preference?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.associated</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">prime</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">n: ℤ</span>
<span class="cm">h: n ≠ 0 ∧ ¬is_unit n ∧ ∀ (a b : ℤ), n ∣ a * b → n ∣ a ∨ n ∣ b</span>
<span class="cm">⊢ ℤ</span>
<span class="cm">-/</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.finite.basic</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">prime</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">n: ℤ</span>
<span class="cm">h: n ≠ 0 ∧ ¬is_unit n ∧ ∀ (a b : ℤ), n ∣ a * b → n ∣ a ∨ n ∣ b</span>
<span class="cm">⊢ ℤ</span>
<span class="cm">-/</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.int.basic</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfold</span> <span class="n">prime</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">n: ℤ</span>
<span class="cm">h: n ≠ 0 ∧ ¬is_unit n ∧ ∀ (a b : ℤ), n ∣ a * b → n ∣ a ∨ n ∣ b</span>
<span class="cm">⊢ ℤ</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="234153779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/int%20or%20nat/near/234153779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/int.20or.20nat.html#234153779">(Apr 12 2021 at 13:05)</a>:</h4>
<p>It's the same function you're using every time.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>