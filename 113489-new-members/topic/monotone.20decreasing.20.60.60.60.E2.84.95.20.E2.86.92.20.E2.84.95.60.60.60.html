---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html">monotone decreasing ```ℕ → ℕ```</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209483766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209483766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209483766">(Sep 09 2020 at 08:25)</a>:</h4>
<p>Dear All,</p>
<p>I want to prove the lemma below, <del>stating essentially</del> which is an easy consequence of the fact that the map <code>rev_at</code> is monotone decreasing.  If I formulated it correctly, it says the following.  Given a finite subset <code>s</code> of <code>ℕ</code>, the "reflected" set, formed of the elements <code>(max s) - e</code> as <code>e ∈ s</code>, has as maximum the "reflection" of the minimum <code>(max s) - (min s)</code>.</p>
<p>I found <code>monotone</code>, but I think that it is only non-decreasing.  Note that, due to how subtraction works, every natural number above <code>max s</code> squashes to <code>0</code>: this is not a problem, since I never evaluate at those naturals.</p>
<p>Thanks!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">finset</span>

<span class="n">def</span> <span class="n">rev_at</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">,</span> <span class="o">(</span><span class="n">N</span><span class="bp">-</span><span class="n">i</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">min_max</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">:</span> <span class="n">max&#39;</span> <span class="o">(</span><span class="n">image</span> <span class="o">(</span><span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">))</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="n">exact</span> <span class="n">nonempty</span><span class="bp">.</span><span class="n">image</span> <span class="n">hs</span> <span class="o">(</span><span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)))</span> <span class="bp">=</span> <span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209484063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484063">(Sep 09 2020 at 08:29)</a>:</h4>
<p>I think there's a simpler way to state that a map is monotone decreasing</p>



<a name="209484107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484107">(Sep 09 2020 at 08:30)</a>:</h4>
<p>I'd be happy to know how to do it!  I tried looking for it, but could not find it...</p>



<a name="209484165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484165">(Sep 09 2020 at 08:30)</a>:</h4>
<p><code>x &lt;= y -&gt; f y &lt;= f x</code>?</p>



<a name="209484202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484202">(Sep 09 2020 at 08:30)</a>:</h4>
<p>(I found a lot of lemmas with maxs, mins, sups,... for monotone non-decreasing maps, but I could not find monotone non-increasing lemmas</p>



<a name="209484259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484259">(Sep 09 2020 at 08:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60/near/209484165">said</a>:</p>
<blockquote>
<p><code>x &lt;= y -&gt; f y &lt;= f x</code>?</p>
</blockquote>
<p>The map <code>rev_at</code> satisfies this condition.  Is there then a lemma saying what I want?</p>



<a name="209484349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484349">(Sep 09 2020 at 08:32)</a>:</h4>
<p>I'm just objecting your statement that <code>min_max</code> is the right way to say that a map is monotone decreasing</p>



<a name="209484416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484416">(Sep 09 2020 at 08:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60/near/209484349">said</a>:</p>
<blockquote>
<p>I'm just objecting your statement that <code>min_max</code> is the right way to say that a map is monotone decreasing</p>
</blockquote>
<p>Ah, I see!  I had meant that my lemma is an immediate consequence of the fact that <code>rev_at</code> is monotone non-increasing!  Sorry!  I will correct it.</p>



<a name="209484446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484446">(Sep 09 2020 at 08:33)</a>:</h4>
<p>then generalize the lemma and remove <code>rev_at</code></p>



<a name="209484633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484633">(Sep 09 2020 at 08:35)</a>:</h4>
<p>Ok, how do I introduce the hypothesis that a map N-&gt;N is monotone non-increasing?  The lemma that I stated already exists for monotone non-increasing maps and I would like to use something that is already available, if possible</p>



<a name="209484726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484726">(Sep 09 2020 at 08:36)</a>:</h4>
<p>just say that <code>x &lt;= y -&gt; f y &lt;= f x</code></p>



<a name="209484735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209484735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209484735">(Sep 09 2020 at 08:36)</a>:</h4>
<p>also generalize the domain and codomain</p>



<a name="209485906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209485906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209485906">(Sep 09 2020 at 08:48)</a>:</h4>
<p>Is this what you had in mind?  The lemma that I want follows easily from the statement below.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">finset</span>

<span class="n">def</span> <span class="n">mon</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">x</span>

<span class="kn">lemma</span> <span class="n">min_max</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">β</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">mf</span> <span class="o">:</span> <span class="n">mon</span> <span class="n">f</span><span class="o">}</span> <span class="o">:</span> <span class="n">max&#39;</span> <span class="o">(</span><span class="n">image</span> <span class="n">f</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="n">exact</span> <span class="n">nonempty</span><span class="bp">.</span><span class="n">image</span> <span class="n">hs</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209485938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209485938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209485938">(Sep 09 2020 at 08:49)</a>:</h4>
<p>But I still cannot find this last statement in mathlib...</p>



<a name="209486600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486600">(Sep 09 2020 at 08:57)</a>:</h4>
<p>yeah now you can prove it</p>



<a name="209486631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486631">(Sep 09 2020 at 08:57)</a>:</h4>
<p>you don't need decidable for <code>mon</code></p>



<a name="209486658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486658">(Sep 09 2020 at 08:57)</a>:</h4>
<p>also make it <code>\{{x y : \a\}}</code></p>



<a name="209486751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486751">(Sep 09 2020 at 08:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60/near/209486658">said</a>:</p>
<blockquote>
<p>also make it <code>\{{x y : \a\}}</code></p>
</blockquote>
<p>What does this mean?</p>



<a name="209486816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486816">(Sep 09 2020 at 08:59)</a>:</h4>
<p>It's something in between <code>{x y}</code> and <code>(x y)</code></p>



<a name="209486951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486951">(Sep 09 2020 at 09:00)</a>:</h4>
<p>The thing is... if you use <code>(x y)</code>, then you have to write them down all the time, when you use your lemma</p>



<a name="209486984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209486984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209486984">(Sep 09 2020 at 09:01)</a>:</h4>
<p>With <code>{x y}</code> and <code>{{x y}}</code> you tell Lean that you want it to figure them out itself.</p>



<a name="209487005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487005">(Sep 09 2020 at 09:01)</a>:</h4>
<p>But the difference between the two is how greedy Lean is when trying to do this.</p>



<a name="209487007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487007">(Sep 09 2020 at 09:01)</a>:</h4>
<p>ok, i knew one curly bracket, but not two</p>



<a name="209487021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487021">(Sep 09 2020 at 09:01)</a>:</h4>
<p>i see, thanks!</p>



<a name="209487030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487030">(Sep 09 2020 at 09:01)</a>:</h4>
<p>With <code>{x y}</code> it will try to figure out <code>x</code> and <code>y</code> as soon as possible.</p>



<a name="209487102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487102">(Sep 09 2020 at 09:02)</a>:</h4>
<p>But with <code>{{x y}}</code> it will leave them as part of the expression, until you start filling in arguments that come after them.</p>



<a name="209487104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487104">(Sep 09 2020 at 09:02)</a>:</h4>
<p>so, I should try to prove this lemma, then?</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">mon</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="o">⦃</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">⦄,</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">x</span>

<span class="kn">lemma</span> <span class="n">min_max_mon</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">)</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">mf</span> <span class="o">:</span> <span class="n">mon</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">max&#39;</span> <span class="o">(</span><span class="n">image</span> <span class="n">f</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="n">exact</span> <span class="n">nonempty</span><span class="bp">.</span><span class="n">image</span> <span class="n">hs</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209487141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487141">(Sep 09 2020 at 09:03)</a>:</h4>
<p>make <code>hs</code> explicit</p>



<a name="209487154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487154">(Sep 09 2020 at 09:03)</a>:</h4>
<p>and also <code>mf</code></p>



<a name="209487233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487233">(Sep 09 2020 at 09:04)</a>:</h4>
<p>and also use more newlines</p>



<a name="209487314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487314">(Sep 09 2020 at 09:05)</a>:</h4>
<p>wow we can copy codes now?</p>



<a name="209487329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487329">(Sep 09 2020 at 09:05)</a>:</h4>
<p>also indentation is 2 spaces not 1</p>



<a name="209487349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487349">(Sep 09 2020 at 09:05)</a>:</h4>
<p>also <code>\{{x</code> not <code>\{{ x</code></p>



<a name="209487352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487352">(Sep 09 2020 at 09:05)</a>:</h4>
<p>(I have been updating the code above, so your statements do not seem to make sense!)</p>



<a name="209487534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487534">(Sep 09 2020 at 09:07)</a>:</h4>
<p>also <code>hs.image f</code></p>



<a name="209487750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487750">(Sep 09 2020 at 09:09)</a>:</h4>
<p>I cannot believe how many issues there were with my coding grammar...</p>



<a name="209487854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487854">(Sep 09 2020 at 09:10)</a>:</h4>
<p><code>by exact</code> can go</p>



<a name="209487864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487864">(Sep 09 2020 at 09:10)</a>:</h4>
<p>One question: using <code>{α β : Type*}</code> can the universes of <code>α</code> and <code>β</code> be different?<br>
A: Yes.</p>



<a name="209487909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487909">(Sep 09 2020 at 09:11)</a>:</h4>
<p>what does the goal say?</p>



<a name="209487925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487925">(Sep 09 2020 at 09:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="mi">1</span> <span class="n">goal</span>
<span class="n">α</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">β</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span>
<span class="bp">_</span><span class="n">inst_1</span><span class="o">:</span> <span class="n">decidable_linear_order</span> <span class="n">α</span>
<span class="bp">_</span><span class="n">inst_2</span><span class="o">:</span> <span class="n">decidable_linear_order</span> <span class="n">β</span>
<span class="n">s</span><span class="o">:</span> <span class="n">finset</span> <span class="n">α</span>
<span class="n">hs</span><span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span>
<span class="n">f</span><span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span>
<span class="n">mf</span><span class="o">:</span> <span class="n">mon</span> <span class="n">f</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">image</span> <span class="n">f</span> <span class="n">s</span><span class="o">)</span><span class="bp">.</span><span class="n">max&#39;</span> <span class="bp">_</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">s</span><span class="bp">.</span><span class="n">min&#39;</span> <span class="n">hs</span><span class="o">)</span>
</code></pre></div>



<a name="209487943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209487943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209487943">(Sep 09 2020 at 09:12)</a>:</h4>
<p>good, thanks!</p>



<a name="209503995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209503995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209503995">(Sep 09 2020 at 12:31)</a>:</h4>
<p>In case anyone is keeping track, below is a solution to my question!<br>
Thanks for <span class="user-mention" data-user-id="110064">@Kenny Lau</span> and <span class="user-mention" data-user-id="112680">@Johan Commelin</span> for helping me!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">finset</span>

<span class="n">def</span> <span class="n">mon</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">linear_order</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="o">⦃</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">⦄,</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">x</span>

<span class="kn">lemma</span> <span class="n">min_max_mon</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_linear_order</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">)</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">mf</span> <span class="o">:</span> <span class="n">mon</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">max&#39;</span> <span class="o">(</span><span class="n">image</span> <span class="n">f</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">hs</span><span class="bp">.</span><span class="n">image</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="o">(</span><span class="n">image</span> <span class="n">f</span> <span class="n">s</span><span class="o">)</span><span class="bp">.</span><span class="n">max&#39;_le</span> <span class="o">(</span><span class="n">nonempty</span><span class="bp">.</span><span class="n">image</span> <span class="n">hs</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">))</span> <span class="bp">_</span><span class="o">,</span>
      <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mem_image</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">rcases</span> <span class="n">hx</span> <span class="k">with</span> <span class="bp">⟨</span> <span class="n">b</span> <span class="o">,</span> <span class="n">bs</span> <span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">mf</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">min&#39;_le</span><span class="o">,</span>
      <span class="n">assumption</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">apply</span> <span class="n">le_max&#39;</span><span class="o">,</span>
      <span class="n">refine</span> <span class="n">mem_image_of_mem</span> <span class="n">f</span> <span class="bp">_</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">min&#39;_mem</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span> <span class="o">},</span>
<span class="kn">end</span>

<span class="n">def</span> <span class="n">rev_at</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">,</span> <span class="o">(</span><span class="n">N</span><span class="bp">-</span><span class="n">i</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">min_max</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">hs</span> <span class="o">:</span> <span class="n">s</span><span class="bp">.</span><span class="n">nonempty</span><span class="o">}</span> <span class="o">:</span> <span class="n">max&#39;</span> <span class="o">(</span><span class="n">image</span> <span class="o">(</span><span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">))</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="k">by</span> <span class="n">exact</span> <span class="n">nonempty</span><span class="bp">.</span><span class="n">image</span> <span class="n">hs</span> <span class="o">(</span><span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)))</span> <span class="bp">=</span> <span class="n">rev_at</span> <span class="o">(</span><span class="n">max&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">(</span><span class="n">min&#39;</span> <span class="n">s</span> <span class="n">hs</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="n">min_max_mon</span> <span class="n">hs</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">y</span> <span class="n">hxy</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">rev_at</span><span class="o">,</span>
  <span class="n">omega</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="209504619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209504619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209504619">(Sep 09 2020 at 12:39)</a>:</h4>
<p>we should really have <code>finset.forall_mem_image</code></p>



<a name="209504633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/monotone%20decreasing%20%60%60%60%E2%84%95%20%E2%86%92%20%E2%84%95%60%60%60/near/209504633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/monotone.20decreasing.20.60.60.60.E2.84.95.20.E2.86.92.20.E2.84.95.60.60.60.html#209504633">(Sep 09 2020 at 12:39)</a>:</h4>
<p>like <code>list.forall_mem_map</code> iirc</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>