---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.22finish.22.20tactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html">"finish" tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200740360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200740360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200740360">(Jun 13 2020 at 00:35)</a>:</h4>
<p>I have read examples mentioning a tactic named "finish",  in one place described as implementing a tableau theorem prover complete for (intuitionistic) propositional logic.   Also mentioned in an example in a talk by Avigad:<br>
theoremgcd_comm6 (mn:N):gcdmn=gcdnm:= by finish<br>
However when I try it, I get "unknown identifier: finish", and I don't find it mentioned in the manual.  So does it exist or not, and if so, how can I use it?</p>



<a name="200740933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200740933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200740933">(Jun 13 2020 at 00:46)</a>:</h4>
<p>It's a mathlib tactic, so try <code>import tactic</code> at the top of the file?</p>



<a name="200750453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750453">(Jun 13 2020 at 05:34)</a>:</h4>
<p>I get file 'tactic' not found in the LEAN_PATH.  <br>
That file does exist in a directory ending like this.<br>
...Provers/lean-3.4.2-darwin/lib/lean/library/init/meta/tactic.lean<br>
Now,  core.lean is located one level up from there and of course it is found OK,<br>
so it looks like LEAN_PATH needs to include the subdirectory meta.   But I can't<br>
find out how to edit LEAN_PATH.  (It isn't an environment or shell variable apparently<br>
despite the all-caps.)</p>



<a name="200750560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750560">(Jun 13 2020 at 05:39)</a>:</h4>
<p>Are you using <code>mathlib</code>? <code>finish</code> is only in mathlib IIRC.</p>



<a name="200750606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750606">(Jun 13 2020 at 05:40)</a>:</h4>
<p>So are you using <code>leanproject</code>? How/when did you install Lean?</p>



<a name="200750780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750780">(Jun 13 2020 at 05:47)</a>:</h4>
<p>The <code>tactic.lean</code> that you found is part of Lean's core library which is automatically imported unless your Lean file begins with <code>prelude</code>. It does not contain the <code>finish</code> tactic.</p>
<p>If you want to use the <code>finish</code> tactic, you'll need to work in a Lean project with mathlib as a dependency. The easiest way to do this is by using the command-line tool <code>leanproject</code>. Instructions for installing Lean to work with <code>leanproject</code> can be found here: <a href="https://leanprover-community.github.io/get_started.html#regular-install">#install</a></p>



<a name="200750840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750840">(Jun 13 2020 at 05:49)</a>:</h4>
<p>Since it looks like you're using macOS, here's the page with instructions for macOS: <a href="https://leanprover-community.github.io/install/macos.html">https://leanprover-community.github.io/install/macos.html</a></p>



<a name="200750901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200750901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200750901">(Jun 13 2020 at 05:51)</a>:</h4>
<p>Here's the source code of <code>finish</code> on github, by the way: <a href="https://github.com/leanprover-community/mathlib/blob/master/src/tactic/finish.lean">https://github.com/leanprover-community/mathlib/blob/master/src/tactic/finish.lean</a></p>



<a name="200751828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200751828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200751828">(Jun 13 2020 at 06:23)</a>:</h4>
<p>OK,  thank you Bryan, problem solved.   I didn't know about "leanproject"  and had failed to follow the <br>
link to it at the bottom of the installation instructions.   When I ran leanproject it told me I first should install coreutils. <br>
And that required upgrading the version of gmp.  But eventually it all worked.   Thanks again.</p>



<a name="200751934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200751934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200751934">(Jun 13 2020 at 06:26)</a>:</h4>
<blockquote>
<p>I didn't know about "leanproject" and had failed to follow the link to it at the bottom of the installation instructions.</p>
</blockquote>
<p>This is a surprisingly common problem</p>



<a name="200752111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200752111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200752111">(Jun 13 2020 at 06:32)</a>:</h4>
<p>It really should just become step (6), instead of a trailing appendix.</p>



<a name="200752359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200752359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200752359">(Jun 13 2020 at 06:41)</a>:</h4>
<p>So I said everything was working, and it is in the sense that I could create a project, but,  file finish.lean still doesn't exist on my system,  so I don't think it was installed with mathlib.   Shouldn't I be able to see it by "locate finish.lean" ?</p>



<a name="200753270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200753270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200753270">(Jun 13 2020 at 07:12)</a>:</h4>
<p>Did you run <code>leanproject up</code>?</p>



<a name="200753274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200753274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200753274">(Jun 13 2020 at 07:12)</a>:</h4>
<p>It will eventually appear inside the <code>_target</code> directory in your project</p>



<a name="200757160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200757160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200757160">(Jun 13 2020 at 09:15)</a>:</h4>
<p>There is no need to run that command right after <code>leanproject new</code>.</p>



<a name="200759629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200759629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200759629">(Jun 13 2020 at 10:23)</a>:</h4>
<p>I think the unix <code>locate</code> command looks through a database which is typically created overnight by a cron job so no, it shouldn't find a file which has only just appeared on your system. The sensible way to find it would be to open a lean project with the "open folder" functionality of VS code, create a new file in <code>src</code> called something.lean, open the file, put <code>import tactic</code> at the top, write a simple proof which uses <code>finish</code> and then right click on finish and go to the definition. If you do that you'll find a bunch of possibly incomprehensible meta code defining the tactic</p>



<a name="200769998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200769998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200769998">(Jun 13 2020 at 14:52)</a>:</h4>
<p>OK,  indeed "locate" now locates it, also the Mac Finder locates it,  and there is exactly one copy of it and that copy<br>
is in the deps/mathlib subdirectory of my project.   Well, that is a surprise,  I guess I will have to read about "leanproject"<br>
if I want to know why it makes a copy in my project.  Anyway,   thank you Kevin for your answer.</p>



<a name="200770032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770032">(Jun 13 2020 at 14:53)</a>:</h4>
<p>leanproject downloads a compiled up to date copy of mathlib and adds it as a dependency to your project.</p>



<a name="200770108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770108">(Jun 13 2020 at 14:54)</a>:</h4>
<p><span class="user-mention" data-user-id="284844">@Michael Beeson</span> Although we believe in our setup and the fact that users shouldn't care, we do have <a href="https://leanprover-community.github.io/toolchain.html">documentation</a> for people who don't want to blindly follow instructions without trying to understand what they do.</p>



<a name="200770137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770137">(Jun 13 2020 at 14:55)</a>:</h4>
<p>I am some kind of mixture.  I like to blindly follow instructions and have them work  but then later on I eventually like to understand as much as possible.</p>



<a name="200770182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770182">(Jun 13 2020 at 14:56)</a>:</h4>
<p>So we (hopefully) have everything for you.</p>



<a name="200770201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770201">(Jun 13 2020 at 14:57)</a>:</h4>
<p>But we know it's not necessarily easy to find. We constantly try to improve things, but there are simply too many things to explain to make everything doc easy to find.</p>



<a name="200770364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770364">(Jun 13 2020 at 15:00)</a>:</h4>
<p>That documentation link you just gave me is just the right level of detail for me at this point.  Thank you.</p>



<a name="200770821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770821">(Jun 13 2020 at 15:11)</a>:</h4>
<p>At the end of that documentation it says elan will handle the updating of lean,  and presumably also the updating of mathlib; but it not stated who/what calls elan.  It kind of implies that the user doesn't do it, the updates will take place automatically.  Is that right?    Nightly?  Weekly?   When I open my project?  Or do I click "update" somewhere?</p>



<a name="200770832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770832">(Jun 13 2020 at 15:11)</a>:</h4>
<p>When you type <code>lean</code></p>



<a name="200770841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770841">(Jun 13 2020 at 15:11)</a>:</h4>
<p>or when something else does</p>



<a name="200770892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770892">(Jun 13 2020 at 15:12)</a>:</h4>
<p>e.g. when you open your project in VS Code</p>



<a name="200770907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770907">(Jun 13 2020 at 15:12)</a>:</h4>
<p>Thank you.  Now for the moment everything is clear!</p>



<a name="200770913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770913">(Jun 13 2020 at 15:12)</a>:</h4>
<p>But it will only update if you change your project toml by e.g. using <code>leanproject up</code></p>



<a name="200770932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770932">(Jun 13 2020 at 15:13)</a>:</h4>
<p>So as far as updating is concerned, if you edit <code>leanpkg.toml</code> to specify a newer version of Lean (or if you're working in a checkout of mathlib, and mathlib's copy of <code>leanpkg.toml</code> changes) then whatever invokes <code>lean</code> will cause the new version of Lean to be downloaded automatically.</p>



<a name="200770946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200770946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200770946">(Jun 13 2020 at 15:13)</a>:</h4>
<p>The <code>lean</code> command checks for a nearby <code>leanpkg.toml</code> and  calls <code>elan</code> to download a new version if it sees that you don't have the version stated in the toml</p>



<a name="200771020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200771020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200771020">(Jun 13 2020 at 15:14)</a>:</h4>
<p>Oh.    And leanproject up   edits  leanpkg.toml.   So,  when I want to update, I type leanproject up.</p>



<a name="200771062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200771062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Beeson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200771062">(Jun 13 2020 at 15:15)</a>:</h4>
<p>And is it conceivable that after an update my old project might be broken?</p>



<a name="200771125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200771125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200771125">(Jun 13 2020 at 15:16)</a>:</h4>
<p>Sure, that's why we are keeping your copy of mathlib next to your project code by default.</p>



<a name="200771135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%22finish%22%20tactic/near/200771135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.22finish.22.20tactic.html#200771135">(Jun 13 2020 at 15:16)</a>:</h4>
<p>You can have dozens of projects depending on different versions of Lean+mathlib</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>