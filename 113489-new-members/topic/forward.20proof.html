---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/forward.20proof.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html">forward proof</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="309360827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309360827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309360827">(Nov 12 2022 at 16:20)</a>:</h4>
<p>hello im new to lean, i want to ask particular question but not sure how too post it here</p>



<a name="309361226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309361226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309361226">(Nov 12 2022 at 16:23)</a>:</h4>
<p>so i have this functions </p>
<p>def excluded_middle : Prop :=<br>
∀a : Prop, a ∨ ¬ a</p>
<p>def peirce : Prop :=<br>
∀a b : Prop, ((a → b) → a) → a</p>
<p>def double_negation : Prop :=<br>
∀a : Prop, (¬¬ a) → a</p>
<p>i need to do forward proof of this <br>
lemma peirce_of_dn :<br>
  double_negation → peirce := </p>
<p>but i got stuck since yesterday</p>



<a name="309361595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309361595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309361595">(Nov 12 2022 at 16:27)</a>:</h4>
<div class="codehilite" data-code-language="def"><pre><span></span><code>∀a : Prop, a ∨ ¬ a ```

```def peirce : Prop :=
∀a b : Prop, ((a → b) → a) → a ```

```def double_negation : Prop :=
∀a : Prop, (¬¬ a) → a ```

```lemma peirce_of_dn :
double_negation → peirce :=```

but i got stuck since yesterday
i need to do forward proof of this
</code></pre></div>



<a name="309361790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309361790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309361790">(Nov 12 2022 at 16:29)</a>:</h4>
<p>Can you take another look at <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a> and edit (with the <span aria-label="pencil" class="emoji emoji-270f" role="img" title="pencil">:pencil:</span> icon) your message accordingly?</p>



<a name="309361924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309361924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309361924">(Nov 12 2022 at 16:30)</a>:</h4>
<p>(In particular, the <code> ``` </code>s need to be on their own line)</p>



<a name="309362412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309362412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309362412">(Nov 12 2022 at 16:35)</a>:</h4>
<p>You can add several lines to the "code block" (the content between backticks):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">∀</span><span class="n">a</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span> <span class="n">a</span> <span class="bp">∨</span> <span class="bp">¬</span> <span class="n">a</span>

<span class="kd">def</span> <span class="n">peirce</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span>

<span class="kd">def</span> <span class="n">double_negation</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span><span class="n">a</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span> <span class="o">(</span><span class="bp">¬¬</span> <span class="n">a</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span>

<span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
<span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
</code></pre></div>
<p>Sorry, this is not super friendly for people who aren't used to writing markdown content. You can click on the three dots at the top right corner of this message and see what I wrote with "View message source"</p>



<a name="309363736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309363736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309363736">(Nov 12 2022 at 16:49)</a>:</h4>
<p>ooooh thank you let me try it again</p>



<a name="309363899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309363899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309363899">(Nov 12 2022 at 16:51)</a>:</h4>
<div class="codehilite" data-code-language="def"><pre><span></span><code>∀a : Prop, a ∨ ¬ a

def peirce : Prop :=
∀a b : Prop, ((a → b) → a) → a

def double_negation : Prop :=
∀a : Prop, (¬¬ a) → a
</code></pre></div>
<p>but i got stuck since yesterday<br>
i need to do forward proof of this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
<span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
</code></pre></div>



<a name="309364784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309364784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309364784">(Nov 12 2022 at 17:00)</a>:</h4>
<p>There's no need to post it again, you can edit your original post</p>



<a name="309365568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309365568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309365568">(Nov 12 2022 at 17:06)</a>:</h4>
<p>You could start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">h1</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h2</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">h1</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>and you only need <code>intro</code>, <code>apply</code>, and <code>exfalso</code> to complete the proof.</p>



<a name="309367085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309367085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309367085">(Nov 12 2022 at 17:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309365568">said</a>:</p>
<blockquote>
<p>You could start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">h1</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h2</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">h1</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>and you only need <code>intro</code>, <code>apply</code>, and <code>exfalso</code> to complete the proof.</p>
</blockquote>
<p>but is it not backward proof?</p>



<a name="309367315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309367315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309367315">(Nov 12 2022 at 17:25)</a>:</h4>
<p>Oh sorry, I missed the forward requirement. But once you work out a backward proof, you can extract a forward proof from it. (Instead of <code>exfalso</code>, use <a href="https://leanprover-community.github.io/mathlib_docs/find/false.elim">docs#false.elim</a> or <a href="https://leanprover-community.github.io/mathlib_docs/find/absurd">docs#absurd</a>.)</p>



<a name="309367504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309367504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309367504">(Nov 12 2022 at 17:26)</a>:</h4>
<p>So for example the two lines of tactics above translate to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="n">h1</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h2</span><span class="o">,</span> <span class="n">h1</span> <span class="n">a</span> <span class="n">_</span>
</code></pre></div>
<p>and your task is just to fill in the underscore.</p>
<p>I don't think you should restrict yourself to a "forward thinking mode" when working out the proof :)</p>



<a name="309367701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309367701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309367701">(Nov 12 2022 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309367315">said</a>:</p>
<blockquote>
<p>Oh sorry, I missed the forward requirement. But once you work out a backward proof, you can extract a forward proof from it. (Instead of <code>exfalso</code>, use <a href="https://leanprover-community.github.io/mathlib_docs/find/false.elim">docs#false.elim</a> or <a href="https://leanprover-community.github.io/mathlib_docs/find/absurd">docs#absurd</a>.)</p>
</blockquote>
<p>I tried it like this but got error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="n">fix</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">)</span><span class="bp">```</span>
</code></pre></div>



<a name="309368178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309368178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309368178">(Nov 12 2022 at 17:33)</a>:</h4>
<p>may i know what is command in forward proof that equal to apply in backward proof?</p>



<a name="309368277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309368277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309368277">(Nov 12 2022 at 17:34)</a>:</h4>
<p>The first lines don't make sense, you must intro/assume variables in the order they appear, in this case:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
</code></pre></div>



<a name="309368755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309368755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309368755">(Nov 12 2022 at 17:38)</a>:</h4>
<p>By the way are you using Lean 3 or Lean 4? <code>fix</code> seems not recognized at all by Lean 3.</p>



<a name="309369059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309369059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309369059">(Nov 12 2022 at 17:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309368755">said</a>:</p>
<blockquote>
<p>By the way are you using Lean 3 or Lean 4? <code>fix</code> seems not recognized at all by Lean 3.</p>
</blockquote>
<p>hmm im not sure, i think i use lean 3..<br>
fix works in my side..</p>



<a name="309369393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309369393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309369393">(Nov 12 2022 at 17:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309368277">said</a>:</p>
<blockquote>
<p>The first lines don't make sense, you must intro/assume variables in the order they appear, in this case:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
</code></pre></div><br>
</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="c1">--fix a b : Prop,</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">)</span>
</code></pre></div>
<p>the first assume becomes error</p>



<a name="309369925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309369925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309369925">(Nov 12 2022 at 17:50)</a>:</h4>
<p>There's error because the type of the fourth line and below doesn't match, it doesn't happen at the first <code>assume</code>. If you write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span> <span class="n">_</span>
</code></pre></div>
<p>and place your cursor at the underscore, you see that <code>hda a b habaa</code> are successfully assumed/introduced, but the goal is <code>a</code> and it's not <code>¬a → something</code>, so it's invalid to <code>assume hna : ¬a</code> there.</p>



<a name="309371125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309371125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> lini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309371125">(Nov 12 2022 at 18:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309369925">said</a>:</p>
<blockquote>
<p>There's error because the type of the fourth line and below doesn't match, it doesn't happen at the first <code>assume</code>. If you write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span> <span class="n">_</span>
</code></pre></div>
<p>and place your cursor at the underscore, you see that <code>hda a b habaa</code> are successfully assumed/introduced, but the goal is <code>a</code> and it's not <code>¬a → something</code>, so it's invalid to <code>assume hna : ¬a</code> there.</p>
</blockquote>
<p>yah, but it means that i have to find a way to get "a" this is the case that i failed</p>



<a name="309371999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309371999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309371999">(Nov 12 2022 at 18:12)</a>:</h4>
<p>Since you have <code>hda</code> around you can do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="k">assume</span> <span class="n">na</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">na</span> <span class="n">ha</span><span class="o">,</span>
<span class="n">hda</span> <span class="n">a</span> <span class="n">nna</span>
</code></pre></div>



<a name="309373216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309373216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> alini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309373216">(Nov 12 2022 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309371999">said</a>:</p>
<blockquote>
<p>Since you have <code>hda</code> around you can do</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="k">assume</span> <span class="n">na</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">na</span> <span class="n">ha</span><span class="o">,</span>
<span class="n">hda</span> <span class="n">a</span> <span class="n">nna</span>
</code></pre></div><br>
</p>
</blockquote>
<p>but what does the <code>from _ </code> means?</p>



<a name="309374249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309374249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309374249">(Nov 12 2022 at 18:34)</a>:</h4>
<p>It means you need to fill in the underscore; you see a red squiggle there right? If you put your input cursor there, you see the goal is <code>a</code> again but now you have <code>(a → b) → a</code> and <code>¬a</code> in the context.</p>



<a name="309374684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309374684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> alini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309374684">(Nov 12 2022 at 18:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="n">fix</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">)</span>
</code></pre></div>
<p>i tried this but the <code>lemma</code> becomes yellowa</p>



<a name="309374758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309374758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> alini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309374758">(Nov 12 2022 at 18:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="563257">lini</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309374684">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="n">fix</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">)</span>
</code></pre></div>
<p>i tried this but the <code>lemma</code> becomes yellowa</p>
</blockquote>
<p>means that its still error</p>



<a name="309375738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309375738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309375738">(Nov 12 2022 at 18:49)</a>:</h4>
<p>You are close! Just remove <code>fix a b</code> from the beginning and show <code>a</code> at the end:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">),</span>
<span class="k">show</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">hda</span> <span class="n">a</span> <span class="n">nna</span>
</code></pre></div>



<a name="309375893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/forward%20proof/near/309375893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> alini <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/forward.20proof.html#309375893">(Nov 12 2022 at 18:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/113489-new-members/topic/forward.20proof/near/309375738">said</a>:</p>
<blockquote>
<p>You are close! Just remove <code>fix a b</code> from the beginning and show <code>a</code> at the end:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">peirce_of_dn</span> <span class="o">:</span>
  <span class="n">double_negation</span> <span class="bp">→</span> <span class="n">peirce</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">hda</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="bp">¬¬</span><span class="n">a</span> <span class="bp">→</span> <span class="n">a</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">habaa</span> <span class="o">:</span> <span class="o">((</span><span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span><span class="o">),</span>
<span class="k">have</span> <span class="n">nna</span> <span class="o">:</span> <span class="bp">¬¬</span><span class="n">a</span><span class="o">,</span> <span class="k">from</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">hna</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span><span class="o">,</span>
     <span class="k">have</span> <span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span>
     <span class="o">(</span><span class="k">assume</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">show</span> <span class="n">b</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">hna</span> <span class="n">ha</span><span class="o">)),</span>
     <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">habaa</span> <span class="n">hab</span><span class="o">,</span>
     <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hna</span> <span class="n">ha</span><span class="o">),</span>
<span class="k">show</span> <span class="n">a</span><span class="o">,</span> <span class="k">from</span> <span class="n">hda</span> <span class="n">a</span> <span class="n">nna</span>
</code></pre></div><br>
</p>
</blockquote>
<p>OH MYY GOD! THANK YOUU!!!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>