---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/intersection.20of.20sets.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html">intersection of sets</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199976879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199976879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199976879">(Jun 06 2020 at 14:13)</a>:</h4>
<p>I am trying to create a set of type <code>set A</code> from another set <code>U : set X</code> by taking its intersection with <code>A</code>  where <code>A</code> is something of type <code>set X</code>.<br>
I was able to come up with the following:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">set</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>
<span class="kn">instance</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">U</span><span class="o">,</span> <span class="o">{</span><span class="n">s</span> <span class="bp">|∃</span> <span class="n">u</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span> <span class="n">u</span> <span class="err">∈</span> <span class="n">A</span> <span class="err">∩</span> <span class="n">U</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span><span class="o">}</span><span class="bp">⟩</span>
</code></pre></div>


<p>but this is not very nice to work with so I'm wondering if there is a better way (perhaps already built into mathlib)?</p>



<a name="199976939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199976939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199976939">(Jun 06 2020 at 14:14)</a>:</h4>
<p>you have <code>A : set X</code> and you want <code>a : set A</code>? that feels wrong</p>



<a name="199976953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199976953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199976953">(Jun 06 2020 at 14:15)</a>:</h4>
<p>do you really want <code>B : set X</code> and <code>hB : B \sub A</code>?</p>



<a name="199976957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199976957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199976957">(Jun 06 2020 at 14:15)</a>:</h4>
<p>I'm working with subspaces of a topological space so that's what I came up with :/</p>



<a name="199977009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977009">(Jun 06 2020 at 14:16)</a>:</h4>
<p>So <code>A</code> can be promoted to a topological space?</p>



<a name="199977017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977017">(Jun 06 2020 at 14:16)</a>:</h4>
<p>and then you want <code>B</code> to be a set of points in the space <code>A</code>?</p>



<a name="199977019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977019">(Jun 06 2020 at 14:16)</a>:</h4>
<p>I made something like </p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_open</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">V</span><span class="o">),</span> <span class="n">A</span> <span class="err">∩</span> <span class="n">V</span> <span class="bp">=</span> <span class="n">U</span><span class="o">,</span>
  <span class="n">is_open_univ</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">is_open_inter</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">is_open_sUnion</span> <span class="o">:=</span> <span class="n">sorry</span> <span class="o">}</span>
</code></pre></div>


<p>and now I'm trying to show <code>A ∩ V </code> is open with respect to the subspace topology</p>



<a name="199977025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977025">(Jun 06 2020 at 14:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/113489-new-members/topic/intersection.20of.20sets/near/199977017">said</a>:</p>
<blockquote>
<p>and then you want <code>B</code> to be a set of points in the space <code>A</code>?</p>
</blockquote>
<p>Yeah exactly</p>



<a name="199977035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977035">(Jun 06 2020 at 14:17)</a>:</h4>
<p>can you give the imports to make it a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="199977041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977041">(Jun 06 2020 at 14:17)</a>:</h4>
<p>Alright, will do one sec</p>



<a name="199977045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977045">(Jun 06 2020 at 14:17)</a>:</h4>
<p><span class="user-mention" data-user-id="243312">@Jason KY.</span> Something like this can certainly be done, but will probably be painful...</p>



<a name="199977096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977096">(Jun 06 2020 at 14:18)</a>:</h4>
<p>I think "what is the right way to deal with substructures" is an open and active question in algebra-land</p>



<a name="199977097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977097">(Jun 06 2020 at 14:18)</a>:</h4>
<p>Is something like this implemented in mathlib? (such as subspaces of topological spaces)?</p>



<a name="199977098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977098">(Jun 06 2020 at 14:18)</a>:</h4>
<p>I suggest that you work with two types <code>A</code> and <code>X</code>, and a function <code>f : A → X</code>. Assume that you have a topology on both types, and assume <code>inducing f</code>.</p>



<a name="199977113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977113">(Jun 06 2020 at 14:19)</a>:</h4>
<p>probably the simplest example is subgroups</p>



<a name="199977114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977114">(Jun 06 2020 at 14:19)</a>:</h4>
<p>There is a lot of stuff in mathlib (about topology)</p>



<a name="199977116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977116">(Jun 06 2020 at 14:19)</a>:</h4>
<p>people say the words "bundled" and "unbundled" a lot when they talk about it</p>



<a name="199977119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977119">(Jun 06 2020 at 14:19)</a>:</h4>
<p>Your original definition can be written as <code>λ U, subtype.val \-1' U</code></p>



<a name="199977181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977181">(Jun 06 2020 at 14:20)</a>:</h4>
<p>If you follow Johan's suggestion, I guess you are forced into finding this.</p>



<a name="199977198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977198">(Jun 06 2020 at 14:20)</a>:</h4>
<p>Alright, I'll try to do the bundled approach</p>



<a name="199977208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977208">(Jun 06 2020 at 14:21)</a>:</h4>
<p>I'll come back if I get stuck again :)</p>



<a name="199977209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977209">(Jun 06 2020 at 14:21)</a>:</h4>
<p>Just to remark that Kenny had a terrible time trying to formalise an exercise in Hartshorne of the form "given sheaves on each element U_i of an open cover of X plus some gluing data, make a sheaf on X and prove it has some universal property"</p>



<a name="199977210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977210">(Jun 06 2020 at 14:21)</a>:</h4>
<p>Is</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span>  <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">U</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">A</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">U</span> <span class="n">x</span><span class="bp">⟩</span>
</code></pre></div>


<p>what you want?</p>



<a name="199977211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977211">(Jun 06 2020 at 14:21)</a>:</h4>
<p>You wrote <code>∃ u : X, ...</code> but then one of the conditions on <code>u</code> is that it equal some specific thing (<code>subtype.val s</code>), so the existential is not needed.</p>



<a name="199977275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977275">(Jun 06 2020 at 14:22)</a>:</h4>
<p>Kenny's audacious approach was to define a sheaf on U to literally be a sheaf on X, with an implicit (unenforced) promise that you were not to evaluate it on an open subset V of X which was not a subset of X</p>



<a name="199977277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977277">(Jun 06 2020 at 14:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/intersection.20of.20sets/near/199977210">said</a>:</p>
<blockquote>
<p>Is</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span>  <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">U</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">A</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">U</span> <span class="n">x</span><span class="bp">⟩</span>
</code></pre></div>


<p>what you want?</p>
</blockquote>
<p>Something like this but I think it will still be hard to work with</p>



<a name="199977297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977297">(Jun 06 2020 at 14:23)</a>:</h4>
<p>Mario modified the definition to make it a bit more principled -- he objected to it for some reason (despite not objecting to division by 0 being defined)</p>



<a name="199977381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977381">(Jun 06 2020 at 14:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/intersection.20of.20sets/near/199977275">said</a>:</p>
<blockquote>
<p>Kenny's audacious approach was to define a sheaf on U to literally be a sheaf on X, with an implicit (unenforced) promise that you were not to evaluate it on an open subset V of X which was not a subset of X</p>
</blockquote>
<p>Are you suggesting it is possible to define a topology on X using the subspace topology of A?</p>



<a name="199977439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977439">(Jun 06 2020 at 14:26)</a>:</h4>
<p>I think this approach is a bit controversial :P</p>



<a name="199977458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977458">(Jun 06 2020 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="243312">@Jason KY.</span> What is your bigger goal?</p>



<a name="199977467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977467">(Jun 06 2020 at 14:27)</a>:</h4>
<p>Do you only want to define a subspace topology, or is there a grand plan on the horizon?</p>



<a name="199977517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977517">(Jun 06 2020 at 14:28)</a>:</h4>
<p>My bigger goal is to learn topology by formalising it in lean, but right now I'm trying to show that if a space is Hausdorff, so is its subspaces</p>



<a name="199977539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977539">(Jun 06 2020 at 14:29)</a>:</h4>
<p>So that is the reason why I need a the intersection of two <code>set X</code> to be a <code>set A</code></p>



<a name="199977627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977627">(Jun 06 2020 at 14:31)</a>:</h4>
<p>So, you could prove a more general theorem (which is easier to prove), namely</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">foobar</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">Y</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">inducing</span> <span class="n">f</span><span class="o">)</span>
  <span class="o">[</span><span class="n">t2_space</span> <span class="n">Y</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">t2_space</span> <span class="n">X</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>



<a name="199977676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977676">(Jun 06 2020 at 14:32)</a>:</h4>
<p>You could then apply it to a subspace and <code>f = subtype.val</code> to recover the "special case".</p>



<a name="199977808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977808">(Jun 06 2020 at 14:35)</a>:</h4>
<p>Sorry for stupid question: what does <code>inducing</code> do and where can I find it?</p>



<a name="199977863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977863">(Jun 06 2020 at 14:36)</a>:</h4>
<p>This isn't really any easier except that it forces your mental model to match what's happening in Lean.</p>



<a name="199977946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977946">(Jun 06 2020 at 14:38)</a>:</h4>
<p>I would hope it is easier than all the different coersions I've been dealing with.</p>



<a name="199977954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199977954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199977954">(Jun 06 2020 at 14:38)</a>:</h4>
<p>It's exactly just callling all of those coercions <code>f</code>.</p>



<a name="199978045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978045">(Jun 06 2020 at 14:41)</a>:</h4>
<p>If <code>A : set X</code> then no matter what you are forced in Lean to think of <code>A</code> and <code>X</code> as separate types, related by an injective function <code>A -&gt; X</code> that happens to be called <code>subtype.val</code>, and which is also a coercion so often you don't have to write it explicitly.</p>



<a name="199978133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978133">(Jun 06 2020 at 14:43)</a>:</h4>
<p>Johan's suggestion is just work with arbitrary <code>A</code> and <code>X</code> and an injective function <code>f : A -&gt; X</code>--this is easier in the sense that now you've changed the math picture to match the Lean one. From a technical point of view, it's the same.</p>



<a name="199978212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978212">(Jun 06 2020 at 14:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/intersection.20of.20sets/near/199977210">said</a>:</p>
<blockquote>
<p>Is</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span>  <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">U</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">A</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">U</span> <span class="n">x</span><span class="bp">⟩</span>
</code></pre></div>


<p>what you want?</p>
</blockquote>
<p>Actually it's just</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span>  <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">U</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">U</span> <span class="n">x</span><span class="bp">⟩</span>
</code></pre></div>


<p>I think.</p>



<a name="199978241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978241">(Jun 06 2020 at 14:45)</a>:</h4>
<p>Well, these are equal but <code>x : A</code> so <code>A x</code> holds automatically.</p>



<a name="199978297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978297">(Jun 06 2020 at 14:46)</a>:</h4>
<p>Right, I think I understand. I think I will first prove that if f is a continuous injective map from X to Y and Y is Hausdorff then so is X (it was on my agenda to prove so anyway :)) and then the subspace lemma follows directly as Johan's suggestion</p>



<a name="199978315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199978315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199978315">(Jun 06 2020 at 14:46)</a>:</h4>
<p>I just have to show my coercion is continuous I suppose</p>



<a name="199985790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199985790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199985790">(Jun 06 2020 at 17:45)</a>:</h4>
<p>And it will be because the subspace topology is defined to be the smallest topology which makes the inclusion map continuous</p>



<a name="199986501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/intersection%20of%20sets/near/199986501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/intersection.20of.20sets.html#199986501">(Jun 06 2020 at 18:04)</a>:</h4>
<p>Exercise: Let X be a topological space and let X to Y be a surjection of sets. Construct some kind of topology on Y which makes the map continuous and is the correct topology</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>