---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/piecewise.20functions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html">piecewise functions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="152232475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152232475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aymon Wuolanne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152232475">(Dec 20 2018 at 04:10)</a>:</h4>
<p>Does anyone have any tips for dealing with piecewise functions, in particular showing that they're continuous? I have something like the following in mind:</p>
<div class="codehilite"><pre><span></span>variables (a : ℝ) (f : ℝ → ℝ) (g : ℝ → ℝ)
def pw : ℝ → ℝ := λ x, if x ≤ a then f x else g x
lemma continuous_pw : continuous f → continuous g → f a = g a → continuous (pw a f g) := sorry
</pre></div>



<a name="152234041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152234041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152234041">(Dec 20 2018 at 05:00)</a>:</h4>
<p>Coincidentally, I just issued a pull request with some additions to the analysis library. There is a lemma called <code>tendsto_if</code> which will be helpful: <a href="https://github.com/avigad/mathlib/blob/limit_stuff/order/filter.lean#L1257-L1261" target="_blank" title="https://github.com/avigad/mathlib/blob/limit_stuff/order/filter.lean#L1257-L1261">https://github.com/avigad/mathlib/blob/limit_stuff/order/filter.lean#L1257-L1261</a>. I'd use the fact that a function is continuous if it is continuous at every point (which used to be called <code>continuous_iff_tendsto</code> but in my PR is <code>continuous_iff_continuous_at</code>. Using <code>metric_space</code> you can unwrap the definition of neighborhoods in terms of distance.</p>



<a name="152236649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152236649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152236649">(Dec 20 2018 at 06:19)</a>:</h4>
<p>There's also <code>continuous_if</code> and <code>continuous_subtype_is_closed_cover</code></p>



<a name="152238561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152238561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152238561">(Dec 20 2018 at 07:16)</a>:</h4>
<blockquote>
<p>Coincidentally, I just issued a pull request with some additions to the analysis library. </p>
</blockquote>
<p>You should expect a lot of homework now, that Mario guy is merciless...</p>



<a name="152238630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152238630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152238630">(Dec 20 2018 at 07:18)</a>:</h4>
<p>Seriously I'm very excited to see some PR from your analysis work. I hope you already discussed it enough with Mario, and will convince Johannes quickly. It would be very nice to have a topology PR merge sprint before Amsterdam (or even before Christmas, and then a second one before Amsterdam)</p>



<a name="152238643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152238643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152238643">(Dec 20 2018 at 07:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> merciless</p>



<a name="152239509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152239509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152239509">(Dec 20 2018 at 07:41)</a>:</h4>
<p>Completely agree. Let's get these PRs moving.</p>



<a name="152240099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aymon Wuolanne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240099">(Dec 20 2018 at 07:56)</a>:</h4>
<p>Thanks! I think I should be able to get it working with <code>continuous_if</code></p>



<a name="152240118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aymon Wuolanne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240118">(Dec 20 2018 at 07:57)</a>:</h4>
<p>Side note: <code>frontier</code> is defined as <code>closure s \ interior s</code>, isn't this usually referred to as the boundary?</p>



<a name="152240169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240169">(Dec 20 2018 at 07:58)</a>:</h4>
<p>I've never heard of <code>frontier</code> before. I learned it as <code>boundary</code>.</p>



<a name="152240177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240177">(Dec 20 2018 at 07:58)</a>:</h4>
<p>I thought frontier was <code>closure s \ s</code></p>



<a name="152240204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240204">(Dec 20 2018 at 07:59)</a>:</h4>
<p>So what is <code>s \ interior s</code> called?</p>



<a name="152240214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240214">(Dec 20 2018 at 07:59)</a>:</h4>
<p>apparently it is sometimes called the boundary! not even making this up</p>



<a name="152240216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240216">(Dec 20 2018 at 07:59)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Boundary_(topology)" target="_blank" title="https://en.wikipedia.org/wiki/Boundary_(topology)">https://en.wikipedia.org/wiki/Boundary_(topology)</a></p>



<a name="152240264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240264">(Dec 20 2018 at 08:00)</a>:</h4>
<blockquote>
<p>So what is <code>s \ interior s</code> called?</p>
</blockquote>
<p>outliers?</p>



<a name="152240292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240292">(Dec 20 2018 at 08:00)</a>:</h4>
<p><a href="https://www.thesaurus.com/browse/boundary" target="_blank" title="https://www.thesaurus.com/browse/boundary">https://www.thesaurus.com/browse/boundary</a> enough words to choose from (-;</p>



<a name="152240303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240303">(Dec 20 2018 at 08:01)</a>:</h4>
<p>periphery is nice</p>



<a name="152240314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240314">(Dec 20 2018 at 08:01)</a>:</h4>
<p>is borderline acceptable</p>



<a name="152240318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240318">(Dec 20 2018 at 08:01)</a>:</h4>
<p>it's borderline acceptable</p>



<a name="152240374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240374">(Dec 20 2018 at 08:02)</a>:</h4>
<p>but actually I find very little use for these concepts, they are more a historical note for me</p>



<a name="152240378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152240378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152240378">(Dec 20 2018 at 08:02)</a>:</h4>
<p>boundary is useful though</p>



<a name="152284935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152284935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152284935">(Dec 20 2018 at 20:38)</a>:</h4>
<p>Mario has gone easy on me so far. I am about to get on a flight to California to visit my in-laws, but I should be able to make the corrections there.</p>



<a name="152285351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152285351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152285351">(Dec 20 2018 at 20:45)</a>:</h4>
<p>It looks pretty good. there is absolutely no chance of a conflict of interest, yep</p>



<a name="152285645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/152285645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#152285645">(Dec 20 2018 at 20:50)</a>:</h4>
<p>Would you give this PR a master's thesis?</p>



<a name="274153411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274153411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274153411">(Mar 04 2022 at 16:28)</a>:</h4>
<p>I managed to write a piecewise function like this:  <code>(h : g = λ x,  if x &lt; 2 then 2 * x else 2^x)</code>, is there a cleaner way to deal with  more complicated piecewise functions? Like this : <a href="/user_uploads/3121/FOJiklug-xxxSWrIHPAwTc0T/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/FOJiklug-xxxSWrIHPAwTc0T/image.png" title="image.png"><img src="/user_uploads/3121/FOJiklug-xxxSWrIHPAwTc0T/image.png"></a></div>



<a name="274153855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274153855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274153855">(Mar 04 2022 at 16:31)</a>:</h4>
<p>I'd probably just do it with two ifs, that seems reasonable, the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#split_ifs">tactic#split_ifs</a> should make unpacking them into 3 goals fairly painless</p>



<a name="274154552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274154552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274154552">(Mar 04 2022 at 16:37)</a>:</h4>
<p>Yeah I'll go with that method, another question I have is why if I change it to : <code>    (h : g = λ x,  if x ∈ set.Iio (2 : ℝ) then 2 * x else 2^x) </code> then I get </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="kd">class</span> <span class="kd">instance</span> <span class="n">for</span>
<span class="n">g</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span>
<span class="bp">⊢</span> <span class="n">decidable</span> <span class="o">(</span><span class="n">x</span> <span class="bp">∈</span> <span class="n">set.Iio</span> <span class="mi">2</span><span class="o">)</span>
</code></pre></div>



<a name="274154950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274154950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274154950">(Mar 04 2022 at 16:40)</a>:</h4>
<p>Put <code>open_locale classical</code> at the top of your file</p>



<a name="274156390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274156390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274156390">(Mar 04 2022 at 16:50)</a>:</h4>
<p>How would we deal with piecewise functions like this: <a href="/user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png">image.png</a> (there is a hole at (0,1)</p>
<div class="message_inline_image"><a href="/user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png" title="image.png"><img src="/user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png"></a></div>



<a name="274156539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274156539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274156539">(Mar 04 2022 at 16:51)</a>:</h4>
<p>it's <code>x^2 + 1</code> on the left and <code>x + 1</code> on the right</p>



<a name="274157392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274157392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274157392">(Mar 04 2022 at 16:57)</a>:</h4>
<p>In lean all functions are total, so you would have to define the function on the domain <code>{x : real // x \ne 0}</code> to represent a hole, or use <a href="https://leanprover-community.github.io/mathlib_docs/find/option">docs#option</a> for the missing point.</p>



<a name="274158294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158294">(Mar 04 2022 at 17:02)</a>:</h4>
<p>Oh ok, are there docs on how the <code>if</code> <code>else</code> blocks work? I want to do an <code>else if</code> and leave of the <code>else</code> block but I'm not sure if that's possible</p>



<a name="274158331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158331">(Mar 04 2022 at 17:03)</a>:</h4>
<p>it's not</p>



<a name="274158357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158357">(Mar 04 2022 at 17:03)</a>:</h4>
<p>the if syntax is <code>if p then a else b</code></p>



<a name="274158387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158387">(Mar 04 2022 at 17:03)</a>:</h4>
<p>or <code>if h : p then a else b</code></p>



<a name="274158486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158486">(Mar 04 2022 at 17:04)</a>:</h4>
<p>it doesn't really make sense to leave the else block off in most cases</p>



<a name="274158525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158525">(Mar 04 2022 at 17:04)</a>:</h4>
<p>I was interested in that because I only wanted to define the function for a certain interval</p>



<a name="274158572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158572">(Mar 04 2022 at 17:04)</a>:</h4>
<p>you need a domain constraint if you want to make the function undefined</p>



<a name="274158608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158608">(Mar 04 2022 at 17:05)</a>:</h4>
<p>like a hypothesis <code>(h : x != 2)</code></p>



<a name="274158633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158633">(Mar 04 2022 at 17:05)</a>:</h4>
<p>or you can return an <code>option</code></p>



<a name="274158681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274158681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274158681">(Mar 04 2022 at 17:05)</a>:</h4>
<p>or you can return a garbage value (this is what we usually do)</p>



<a name="274159377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274159377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274159377">(Mar 04 2022 at 17:10)</a>:</h4>
<p>`<br>
<span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/piecewise.20functions/near/274158608">said</a>:</p>
<blockquote>
<p>like a hypothesis <code>(h : x != 2)</code></p>
</blockquote>
<p>Where would this hypothesis go? Would it be part of the lambda  ? <code>λ x (h : x ≠ 0), ...</code></p>



<a name="274159925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274159925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274159925">(Mar 04 2022 at 17:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/piecewise.20functions/near/274158681">said</a>:</p>
<blockquote>
<p>or you can return a garbage value (this is what we usually do)</p>
</blockquote>
<p>So for this example : <a href="user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png">https://leanprover.zulipchat.com/user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png</a></p>
<div class="message_inline_image"><a href="user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png" title="https://leanprover.zulipchat.com/user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png"><img src="user_uploads/3121/Ybk2YpR0VKpVsRv8PPps8UfU/image.png"></a></div><p>You're suggesting something like </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="n">h</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="k">if</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="n">x</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">)</span>
    <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">h</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">999</span><span class="o">)</span>
</code></pre></div>
<p>?</p>



<a name="274160068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274160068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274160068">(Mar 04 2022 at 17:15)</a>:</h4>
<p>Right now we are asking you to decide the domain and codomain of your function</p>



<a name="274160273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274160273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274160273">(Mar 04 2022 at 17:17)</a>:</h4>
<p>A function goes from an input type to an output type. You have given us a picture which is all very nice but what are your input type and output type. Remember that a function has to be defined at every value of the input type and give an answer in the output type</p>



<a name="274160455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274160455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274160455">(Mar 04 2022 at 17:18)</a>:</h4>
<p>Before we can define the term (the function) we need to know the type of the term (<code>X -&gt; Y</code>)</p>



<a name="274162899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274162899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274162899">(Mar 04 2022 at 17:36)</a>:</h4>
<p>Ah ok, I think I get the just of it, if I make it <code>R -&gt; R</code> then we use a garage value, because as you said the function needs to be defined at every place</p>



<a name="274162948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274162948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274162948">(Mar 04 2022 at 17:37)</a>:</h4>
<p>What about piecewise functions that are like this? :<br>
<a href="/user_uploads/3121/0zB6X6vFDO5Qa4xjekLQU-4-/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/0zB6X6vFDO5Qa4xjekLQU-4-/image.png" title="image.png"><img src="/user_uploads/3121/0zB6X6vFDO5Qa4xjekLQU-4-/image.png"></a></div>



<a name="274163268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274163268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274163268">(Mar 04 2022 at 17:39)</a>:</h4>
<p>that's a specification, not a definition. How do you even know that the function is well defined?</p>



<a name="274163486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274163486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Callum Cassidy-Nolan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274163486">(Mar 04 2022 at 17:41)</a>:</h4>
<p>It was specified as a function, <code>    (h : f = λ n, if 1000 ≤ n then n - 3 else f (f (n + 5))</code> seems to work fine, but for some reason I thought we would have to use the inductive type</p>



<a name="274163726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274163726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274163726">(Mar 04 2022 at 17:43)</a>:</h4>
<p>Taking that as an assumption is saying that you assume <code>f</code>  is a function satisfying the specification</p>



<a name="274163755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274163755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274163755">(Mar 04 2022 at 17:43)</a>:</h4>
<p>it does not prove the existence of such a function</p>



<a name="274170198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/piecewise%20functions/near/274170198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/piecewise.20functions.html#274170198">(Mar 04 2022 at 18:33)</a>:</h4>
<p>That definition shouldn't "work fine", there are things to be proved before you can talk about f, i.e. that there exists a unique function with that property.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>