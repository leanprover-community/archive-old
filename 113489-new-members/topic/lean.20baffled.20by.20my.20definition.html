---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html">lean baffled by my definition</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="242666207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandra Foster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666207">(Jun 14 2021 at 22:21)</a>:</h4>
<p>Hi there! I'm a math undergrad at McMaster University in Hamilton, Ontario with a bit of a geometry addiction who decided to try and acquire some skill at Lean over the course of the summer by proving some elementary propositions in algebraic geometry about monomial ideals and their corresponding varieties. However, I've hit an enigmatic error and I'm not sure what to do about it to please Lean. Here is the code I'm attempting to run:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.basic</span>
<span class="kn">import</span> <span class="n">data.fintype.basic</span>
<span class="kn">import</span> <span class="n">algebra.field</span>

<span class="kd">noncomputable theory</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">k</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">σ</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">σ</span><span class="o">]</span>

<span class="c1">-- a subset V of k^n is called a "coordinate subspace"</span>
<span class="c1">--   if there exists a subset τ of the set of variable</span>
<span class="c1">--   indices σ such that</span>
<span class="c1">--        V = {(x₁,x₂,...,xₙ) | ∀ t ∈ τ, xₜ = 0}</span>
<span class="kd">def</span> <span class="n">coordinate_subspace</span> <span class="o">(</span><span class="n">τ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">σ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">set</span> <span class="o">(</span><span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span><span class="o">))</span> <span class="o">:=</span>
  <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">|</span>
    <span class="bp">∀</span> <span class="n">t</span> <span class="bp">∈</span> <span class="n">τ</span><span class="o">,</span> <span class="n">x</span> <span class="n">t</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">}</span>

<span class="c1">-- proposition: V is a union of coordinate subspaces</span>
<span class="kd">def</span> <span class="n">union_of_coords</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="bp">∃</span> <span class="n">α</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">σ</span><span class="o">),</span>
    <span class="bp">∀</span> <span class="n">p</span> <span class="o">:</span> <span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">∈</span> <span class="n">V</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">τ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">σ</span><span class="o">,</span>
                     <span class="n">τ</span> <span class="bp">∈</span> <span class="n">α</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">∈</span> <span class="n">coordinate_subspace</span> <span class="n">τ</span>
</code></pre></div>
<p>The error I get:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- don't know how to synthesize placeholder</span>
<span class="c1">-- context:</span>
<span class="c1">-- k : Type,</span>
<span class="c1">-- _inst_1 : field k,</span>
<span class="c1">-- σ : Type,</span>
<span class="c1">-- _inst_2 : fintype σ,</span>
<span class="c1">-- V : set (σ → k),</span>
<span class="c1">-- α : set (set σ),</span>
<span class="c1">-- p : σ → k,</span>
<span class="c1">-- ᾰ : p ∈ V,</span>
<span class="c1">-- τ : set σ</span>
<span class="c1">-- ⊢ Type</span>
</code></pre></div>
<p>How can I uhhh... make it so that it is possible to umm... synthesize a "placeholder context"?<br>
(BTW, for motivation &amp; context: my eventual goal is to prove that any variety corresponding to a monomial ideal is a union of coordinate subspaces, Proposition 1 of Chapter 9 of Ideals, Varieties &amp; Algorithms by Cox, Little &amp; O'Shea)</p>



<a name="242666357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666357">(Jun 14 2021 at 22:23)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">k</span><span class="o">]</span>

<span class="bp">...</span>

<span class="c1">-- proposition: V is a union of coordinate subspaces</span>
<span class="kd">def</span> <span class="n">union_of_coords</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="bp">∃</span> <span class="n">α</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">σ</span><span class="o">),</span>
    <span class="bp">∀</span> <span class="n">p</span> <span class="o">:</span> <span class="n">σ</span> <span class="bp">→</span> <span class="n">k</span><span class="o">,</span> <span class="n">p</span> <span class="bp">∈</span> <span class="n">V</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">τ</span> <span class="o">:</span> <span class="n">set</span> <span class="n">σ</span><span class="o">,</span>
                     <span class="n">τ</span> <span class="bp">∈</span> <span class="n">α</span> <span class="bp">∧</span> <span class="n">p</span> <span class="bp">∈</span> <span class="n">coordinate_subspace</span> <span class="n">k</span> <span class="n">τ</span>
</code></pre></div>



<a name="242666384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666384">(Jun 14 2021 at 22:23)</a>:</h4>
<p>Lean was having trouble figuring out what the field <code>k</code> was ... if you make that argument explicit, it can figure out what it is.</p>



<a name="242666481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666481">(Jun 14 2021 at 22:25)</a>:</h4>
<p>(Welcome!  Lots of good geometry at McMaster, although I know the differential geometry side better.)</p>



<a name="242666628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandra Foster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666628">(Jun 14 2021 at 22:26)</a>:</h4>
<p>(I honestly have ambitions toward differential geometry but I sorta flunked an elementary differential geometry course last fall term so maybe my dreams are just dreams)</p>



<a name="242666976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20baffled%20by%20my%20definition/near/242666976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandra Foster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition.html#242666976">(Jun 14 2021 at 22:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/lean.20baffled.20by.20my.20definition/near/242666384">said</a>:</p>
<blockquote>
<p>Lean was having trouble figuring out what the field <code>k</code> was ... if you make that argument explicit, it can figure out what it is.</p>
</blockquote>
<p>all good now!! thank you!!!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>