---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/hitchhikers.20guide.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html">hitchhikers guide</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207303432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207303432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207303432">(Aug 18 2020 at 19:20)</a>:</h4>
<p>Some questions referring to <a href="https://raw.githubusercontent.com/blanchette/logical_verification_2020/master/hitchhikers_guide.pdf">https://raw.githubusercontent.com/blanchette/logical_verification_2020/master/hitchhikers_guide.pdf</a></p>
<p>On page 6: "The local context gives the types of the variables in t that are not bound by any λ." Does variables in this statement refer to the formal definition of a variable given by the second rule below this statement?</p>
<p>How does a variable get added to the local context? For instance, how did x : Z get added to the local context at the top of the example below? I don't see a rule for adding a variable to the local context. Do we just declare whatever variables of whatever type we want to be in the local context at the start like we do with hypotheses?</p>
<p>On page 7: "Given a type σ, the type inhabitation problem consists of finding an “inhabitant” of that type—i.e., a term of type σ". Should the phrase "given a fixed local context" be added to this statement? Why can't we just declare a constant of the given type?</p>



<a name="207304577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207304577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207304577">(Aug 18 2020 at 19:31)</a>:</h4>
<p>The lam rule on page 6 shows how variables get added to the context (you read the rule from bottom to top)</p>



<a name="207304857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207304857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207304857">(Aug 18 2020 at 19:33)</a>:</h4>
<p>you usually construct derivation trees by starting with the statement of what you want to prove and the context you want to prove it in (usually initially empty), i.e. <code>|- ? : my theorem</code>, and then you work backwards applying rules, including the <code>lam</code> rule that adds a variable to the context. Eventually you get to a point where the thing you want to prove is in the context, and then the <code>var</code> rule allows you to deduce <code>..., x : A, ... |- x : A</code></p>



<a name="207305060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207305060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207305060">(Aug 18 2020 at 19:35)</a>:</h4>
<p>If you read rules from top to bottom, then the <code>var</code> rule appears to pull a context out of nowhere to prove <code>x : A</code>. The context is a set of assumptions, so this is fine</p>



<a name="207305310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207305310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207305310">(Aug 18 2020 at 19:37)</a>:</h4>
<p>depending on how you set things up, you can either require that the context is always valid, in which case the <code>var</code> rule would need a proof that <code>C</code> is a valid context, or you can only ensure this when adding variables (reading backwards), i.e. in the <code>lam</code> rule, in which case you would have a hypothesis <code>C |- A : Type</code> and <code>C, x : A |- e : B</code> yields <code>C |- (\lam x : A, e) : A -&gt; B</code></p>



<a name="207305611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207305611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207305611">(Aug 18 2020 at 19:39)</a>:</h4>
<blockquote>
<p>On page 7: "Given a type σ, the type inhabitation problem consists of finding an “inhabitant” of that type—i.e., a term of type σ". Should the phrase "given a fixed local context" be added to this statement?</p>
</blockquote>
<p>Yes, it is given a fixed local context, although WLOG you can assume the context is empty, by universally closing over all variables in the context.</p>
<blockquote>
<p>Why can't we just declare a constant of the given type?</p>
</blockquote>
<p>That is also known as adding an axiom. You can do it, but you have extended the system and now more things are provable</p>



<a name="207310293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207310293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207310293">(Aug 18 2020 at 20:15)</a>:</h4>
<p>I'm not sure how to read <code>C |- A : Type</code>? This is saying that <code>A</code> is a well formed type? And this is produced by going backwards from the lambda rule? Would there also be <code>C |- B : Type</code> then?</p>



<a name="207311154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207311154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207311154">(Aug 18 2020 at 20:22)</a>:</h4>
<p>"Yes, it is given a fixed local context, although WLOG you can assume the context is empty, by universally closing over all variables in the context."<br>
If you are going backwards following steps 1 and 2 in the text, then you end up determining what the context needs to be for the type to be inhabited right?</p>



<a name="207315273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207315273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207315273">(Aug 18 2020 at 20:56)</a>:</h4>
<p>well generally the type is just given, i.e. the theorem statement</p>



<a name="207315313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207315313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207315313">(Aug 18 2020 at 20:56)</a>:</h4>
<p>and it should be a closed term, meaning it is valid in the empty context</p>



<a name="207315409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207315409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207315409">(Aug 18 2020 at 20:57)</a>:</h4>
<p><code>C |- A : Type</code> means that <code>A</code> is a type that can refer to variables in <code>C</code>. For example <code>A : Type, B : Type |- (A -&gt; B) -&gt; B : Type</code></p>



<a name="207315757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207315757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207315757">(Aug 18 2020 at 21:00)</a>:</h4>
<blockquote>
<p>Would there also be <code>C |- B : Type</code> then?</p>
</blockquote>
<p>That also depends on how you set up the theory. It is often implied from <code>C, x : A |- e : B</code>. It should also be <code>C, x : A |- B : Type</code> btw, this is one of the things that makes dependent type theory dependent</p>



<a name="207315832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207315832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207315832">(Aug 18 2020 at 21:01)</a>:</h4>
<p>although in that case you would write <code>Pi x : A, B</code> instead of <code>A -&gt; B</code> for the type of the lambda</p>



<a name="207347351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207347351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207347351">(Aug 18 2020 at 21:57)</a>:</h4>
<p>Thank you.</p>



<a name="207510784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207510784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207510784">(Aug 20 2020 at 11:06)</a>:</h4>
<p>I've clarified the text a bit based on Patrick's initial comments. (Patrick, I'd like to add your name to the acknowledgments, if you don't object.)</p>
<p>Concerning your very first question, the answer is no. Variables are defined on p. 4, in italics. (What you see on p. 6 is a typing rule called "Var".) Concerning your second question, "I don't see a rule for adding a variable to the local context", well that's exactly what <code>Lam</code> does. On p. 7, what I had in mind was an empty context. I think that's how inhabitation is usually defined, and indeed if one isn't careful, one can say that every type is trivially inhabited, in some context.</p>



<a name="207511227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207511227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207511227">(Aug 20 2020 at 11:12)</a>:</h4>
<p>One more comment, perhaps as much to Mario as to Patrick: Our typing rules are deliberately simplistic and don't attempt to check that types are well typed. The whole section is about the simply typed fragment of DTT anyway, so we're following the HOL tradition of ignoring ill-formed (= ill-aried or undeclared) types altogether.</p>



<a name="207550919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207550919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207550919">(Aug 20 2020 at 17:33)</a>:</h4>
<p>Ah, yes I was aware of this, but realized during the explanation that I had to refer to concepts like <code>C |- A : Type</code> and <code>|- C ok</code> that weren't explained in the provided rules, so I ended up talking about some hybrid of STT and DTT which may have been more confusing. :/</p>



<a name="207802564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207802564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207802564">(Aug 24 2020 at 02:29)</a>:</h4>
<p>"Patrick, I'd like to add your name to the acknowledgments, if you don't object." I have no objections, I'd be honored.</p>
<p>Sorry, I was reading it from top to bottom instead of from bottom to top.</p>
<p>"if one isn't careful, one can say that every type is trivially inhabited, in some context." I think that is true? In the same sense that every proposition is trivially true under the right assumptions? If type inhabitation is usually defined as requiring an empty context, and you haven't already, would it help to add that to the text?</p>
<p>An unrelated question: On page 27 we have: "The eq.subst instance we use has ?a := a,?b := a’, and?p := (λx, f x b)". Should it be "?p := (λx, f a b = f x b)"?</p>



<a name="207803109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207803109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207803109">(Aug 24 2020 at 02:46)</a>:</h4>
<p>I think you are right about the last bit. That p looks like an argument to <code>congr_arg</code>, not <code>eq.subst</code></p>



<a name="207803177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207803177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207803177">(Aug 24 2020 at 02:49)</a>:</h4>
<p>Ok. Thank you.</p>



<a name="207820863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207820863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207820863">(Aug 24 2020 at 08:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/207802564">said</a>:</p>
<blockquote>
<p>An unrelated question: On page 27 we have: "The eq.subst instance we use has ?a := a,?b := a’, and?p := (λx, f x b)". Should it be "?p := (λx, f a b = f x b)"</p>
</blockquote>
<p>Yes, it should be <code>(λ x, f a b = f x b)</code>, as is also correctly substituted in the next line.</p>



<a name="207821934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207821934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207821934">(Aug 24 2020 at 09:12)</a>:</h4>
<p>I have committed a fix to the guide, thank you!</p>



<a name="207829832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/207829832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#207829832">(Aug 24 2020 at 10:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/207802564">said</a>:</p>
<blockquote>
<p>If type inhabitation is usually defined as requiring an empty context, and you haven't already, would it help to add that to the text?</p>
</blockquote>
<p>I completely agree. I fixed that in the text last week as well. ;)</p>



<a name="208294460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208294460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208294460">(Aug 28 2020 at 01:07)</a>:</h4>
<p>On page 54, should fact 0 = 1?</p>



<a name="208312965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208312965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208312965">(Aug 28 2020 at 07:27)</a>:</h4>
<p>Ha ha you're not the first person to fall for this :-)</p>



<a name="208312980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208312980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208312980">(Aug 28 2020 at 07:27)</a>:</h4>
<p>Yes and no</p>



<a name="208392569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208392569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208392569">(Aug 28 2020 at 20:38)</a>:</h4>
<p>?</p>



<a name="208392760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208392760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208392760">(Aug 28 2020 at 20:40)</a>:</h4>
<p>read more</p>



<a name="208392809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208392809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208392809">(Aug 28 2020 at 20:41)</a>:</h4>
<p>By the way, I recognized a name here: <a href="https://www.quantamagazine.org/how-close-are-computers-to-automating-mathematical-reasoning-20200827/">https://www.quantamagazine.org/how-close-are-computers-to-automating-mathematical-reasoning-20200827/</a></p>



<a name="208393104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208393104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208393104">(Aug 28 2020 at 20:44)</a>:</h4>
<p>I see, last paragraph.</p>



<a name="208500488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208500488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208500488">(Aug 30 2020 at 19:31)</a>:</h4>
<p>On page 65, in the definition of <code>zip</code>, I was curious why it was <code>| (_ :: _)  [] := []</code> instead of <code>| _ [] := []</code>?</p>



<a name="208513049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208513049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208513049">(Aug 31 2020 at 01:20)</a>:</h4>
<p>I see. I am guessing it is because <code>| _ []</code> allows for <code>| [] []</code> which is already an instance of the previous case and <code>| (_ :: _)  []</code> does not.</p>



<a name="208513453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208513453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208513453">(Aug 31 2020 at 01:33)</a>:</h4>
<p>they are equivalent. You will have to ask Jasmin</p>



<a name="208604671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208604671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208604671">(Aug 31 2020 at 19:31)</a>:</h4>
<p>The answer is given on p. 67:</p>
<blockquote>
<p>In the definition of zip and in the proof of map_zip, we were careful to specify three nonoverlapping patterns. It is also possible to write equations with overlap- ping patterns, as in</p>
</blockquote>
<p>I know chat makes it attractive to ask questions or write comments immediately, but a case could be made for reading until the end of a subsection before doing so. ;)</p>



<a name="208604736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208604736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208604736">(Aug 31 2020 at 19:32)</a>:</h4>
<p>A few lines below:</p>
<blockquote>
<p>We generally recommend the latter, more explicit style, because it leads to fewer surprises, especially in proofs.</p>
</blockquote>



<a name="208623664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208623664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208623664">(Aug 31 2020 at 22:33)</a>:</h4>
<p>I'm sorry, you're right.</p>



<a name="208653041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208653041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208653041">(Sep 01 2020 at 07:33)</a>:</h4>
<p>No worries. ;) I'm just warning you that I'm an old-fashioned author who expects his readers to keep on reading...</p>



<a name="208653304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208653304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208653304">(Sep 01 2020 at 07:34)</a>:</h4>
<p>I'm actually very happy when somebody, anybody, writes about the guide. I have no idea how many readers we have for it (10? 100? 1000?), how far they get, or what they think along the way.</p>



<a name="208653384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208653384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208653384">(Sep 01 2020 at 07:35)</a>:</h4>
<p>That is, apart from a few exceptions like you. Keep on reading, and keep on commenting (in that order I guess? ;)).</p>



<a name="208653748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208653748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208653748">(Sep 01 2020 at 07:38)</a>:</h4>
<p>A Jasmin, you must be some dinosaur from the last century. These days you have to package your story in 3-minute video clips on youtube.</p>



<a name="208849744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208849744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208849744">(Sep 02 2020 at 16:16)</a>:</h4>
<p>What does 8791 mean?</p>



<a name="208852607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208852607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208852607">(Sep 02 2020 at 16:38)</a>:</h4>
<p>Good question. I entered 1978 but Zulip decided to turn it around.</p>



<a name="208852632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208852632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208852632">(Sep 02 2020 at 16:38)</a>:</h4>
<p>It's a reference to "some dinosaur from the last century".</p>



<a name="208852718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208852718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208852718">(Sep 02 2020 at 16:39)</a>:</h4>
<p>Ah. Only one year older than me :)</p>



<a name="208852771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208852771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208852771">(Sep 02 2020 at 16:39)</a>:</h4>
<p>I hope you're a Smashing Pumpkins fan then.</p>



<a name="208852844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208852844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208852844">(Sep 02 2020 at 16:40)</a>:</h4>
<p>:)</p>



<a name="208973255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208973255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208973255">(Sep 03 2020 at 14:14)</a>:</h4>
<p>Hey everyone, I’ve been reading over the guide and have been implementing the work under program semantics, such as big step and small step. I’ve implemented the state type as <code>def state := \Pi (v : string), \nat</code> . I tried <code>constant</code> first, and Lean reported errors when I used state in the definition of big step, such as <code>... : string -&gt; (state -&gt; \nat) -&gt; stmt</code>. Does anyone have any advice about the differences in using keywords constant, def, and axiom?</p>



<a name="208981162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208981162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208981162">(Sep 03 2020 at 15:04)</a>:</h4>
<p>Hi! Indeed, it would not work if you use <code>constant state : Type</code>, for the reason that a constant creates a new, unspecified, term of a given type which is a priori different from the other values of that type.</p>



<a name="208981282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208981282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208981282">(Sep 03 2020 at 15:05)</a>:</h4>
<p>When you write <code>def state := \Pi (v : string), \nat</code>, then Lean will remember the definition of <code>state</code>. So when it typechecks for example <code>λ x, 0 : state</code>, it will unfold the definition of <code>state</code>, and to get <code>λ x, 0 : string -&gt; nat</code>, which does typecheck. If <code>state</code> was a constant, it does not know how to unfold and it gives up with an error.</p>



<a name="208982269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208982269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208982269">(Sep 03 2020 at 15:12)</a>:</h4>
<p>There is a short discussion about <code>axiom</code> and <code>constant</code> when they are introduced in section 1.4 in the Guide.</p>



<a name="208996234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/208996234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#208996234">(Sep 03 2020 at 16:42)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="238446">@Anne Baanen</span> . That helps a lot actually,</p>



<a name="209036801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209036801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209036801">(Sep 03 2020 at 22:28)</a>:</h4>
<p>In the guide, it provides an inductive type for aexp. How would I define a function to reduce <code>(aexp.var “x”)</code> to “x”?</p>



<a name="209043733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209043733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209043733">(Sep 04 2020 at 00:16)</a>:</h4>
<p>And also how to define the notation such that <code>s{x -&gt; n}</code> := (lambda ...)</p>



<a name="209044008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209044008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209044008">(Sep 04 2020 at 00:21)</a>:</h4>
<p>What do you want things other than <code>aexp.var</code> to reduce to?</p>



<a name="209044083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209044083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209044083">(Sep 04 2020 at 00:22)</a>:</h4>
<p>It might help to post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> with your work since it serves as a useful framing device</p>



<a name="209044136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209044136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209044136">(Sep 04 2020 at 00:23)</a>:</h4>
<p>I'm not sure exactly what you mean by <code>s{x -&gt; n}</code>, but I would guess it is something like <code>function.update</code>, that is, <code>s{x -&gt; n} y := if x = y then n else s y</code></p>



<a name="209131950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209131950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209131950">(Sep 04 2020 at 19:22)</a>:</h4>
<p>To make sure I understand. We have to do this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">vec</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">vec</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">vec</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">vec</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>


<p>and cannot do this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">vec</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">{}</span> <span class="o">:</span> <span class="n">vec</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">vec</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">vec</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>


<p>because we need to use different terms of type ℕ in the definition?</p>



<a name="209132390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209132390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209132390">(Sep 04 2020 at 19:28)</a>:</h4>
<p>yes</p>



<a name="209132687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209132687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209132687">(Sep 04 2020 at 19:31)</a>:</h4>
<p>Thank you. What does the <code>{}</code> refer to after <code>nil</code>? It seems to still compile without it.</p>



<a name="209132826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209132826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209132826">(Sep 04 2020 at 19:32)</a>:</h4>
<p>Does it just mean all the arguments are implied?</p>



<a name="209139374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209139374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209139374">(Sep 04 2020 at 20:49)</a>:</h4>
<p>(deleted)</p>



<a name="209139467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209139467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209139467">(Sep 04 2020 at 20:50)</a>:</h4>
<p>(deleted)</p>



<a name="209142146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ian Riley <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142146">(Sep 04 2020 at 21:18)</a>:</h4>
<p>I have another question related to inductive types. Let's say that we have the following inductive type</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">aexp</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">nat</span> <span class="o">:</span> <span class="err">\</span><span class="n">nat</span> <span class="bp">-&gt;</span> <span class="n">aexp</span>
<span class="bp">|</span> <span class="n">num</span> <span class="o">:</span> <span class="err">\</span><span class="n">int</span> <span class="bp">-&gt;</span> <span class="n">aexp</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">:</span> <span class="n">aexp</span>
</code></pre></div>


<p>We would like to show</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">eval</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">2</span><span class="o">)</span>
</code></pre></div>


<p>without having to define add and equality for aexp. How would that be done?</p>



<a name="209142287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142287">(Sep 04 2020 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/209132826">said</a>:</p>
<blockquote>
<p>Does it just mean all the arguments are implied?</p>
</blockquote>
<p>See p. 67.</p>



<a name="209142479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142479">(Sep 04 2020 at 21:23)</a>:</h4>
<p>This time I did read it, I just forgot it and couldn't find it again :) Does not putting <code>{}</code> in default to <code>{}</code>?</p>



<a name="209142547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142547">(Sep 04 2020 at 21:24)</a>:</h4>
<p><code>#print</code> shows the same result for both.</p>



<a name="209142630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142630">(Sep 04 2020 at 21:25)</a>:</h4>
<p>I'm pretty sure it's different but I can't check now.</p>



<a name="209142651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209142651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209142651">(Sep 04 2020 at 21:25)</a>:</h4>
<p>No problem, not important, just curious. Thank you.</p>



<a name="209143930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209143930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209143930">(Sep 04 2020 at 21:45)</a>:</h4>
<p>I'd think without <code>{}</code> you'd have to write <code>tree.empty nat</code> instead of <code>tree.empty</code>, etc.</p>



<a name="209152670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209152670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209152670">(Sep 05 2020 at 00:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="335850">Ian Riley</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/209142146">said</a>:</p>
<blockquote>
<p>We would like to show</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">eval</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="mi">2</span><span class="o">)</span>
</code></pre></div>


<p>without having to define add and equality for aexp. How would that be done?</p>
</blockquote>
<p>The only way I can think of is just  splitting the definition of addition into  a coercion to nat/int and making a has_add instance. But it would be easier to just define addition for the whole type. For example, if I wanted to use integer addition I would write </p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">aexp</span><span class="bp">.</span><span class="n">to_int</span> <span class="o">:</span> <span class="n">aexp</span> <span class="bp">→</span> <span class="n">int</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">nat</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">int</span><span class="bp">.</span><span class="n">of_nat</span> <span class="n">n</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">num</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span> <span class="n">n</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">:=</span> <span class="mi">0</span>

<span class="bp">@</span><span class="o">[</span><span class="kn">instance</span><span class="o">]</span> <span class="n">def</span> <span class="n">aexp</span><span class="bp">.</span><span class="n">has_add</span> <span class="o">:</span> <span class="n">has_add</span> <span class="n">aexp</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">aexp</span><span class="bp">.</span><span class="n">num</span> <span class="o">(</span><span class="n">int</span><span class="bp">.</span><span class="n">add</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">to_int</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">to_int</span> <span class="n">b</span><span class="o">))</span><span class="bp">⟩</span>

<span class="bp">#</span><span class="n">reduce</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">num</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">aexp</span><span class="bp">.</span><span class="n">num</span> <span class="mi">6</span><span class="o">)</span>
</code></pre></div>



<a name="209808103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209808103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209808103">(Sep 11 2020 at 17:08)</a>:</h4>
<p>In the game of tennis on page 75, is it correct that the defined inductive predicate terminates at <code>adv.srv</code> and <code>adv.rcv</code>? That is, it does not allow for returns to 40-40 or advances to <code>game.srv</code> and <code>game.rcv</code> as described in the informal rules?</p>



<a name="209813941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209813941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209813941">(Sep 11 2020 at 17:56)</a>:</h4>
<p>Is there a way to change the number in the browser tab to only reflect selected topics?</p>



<a name="209826537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209826537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209826537">(Sep 11 2020 at 19:45)</a>:</h4>
<p>You mean in zulip? I guess you can "unsubscribe" from certain streams.</p>



<a name="209826791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209826791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209826791">(Sep 11 2020 at 19:47)</a>:</h4>
<p>Yeah in Zulip. I was hoping there might be an option I wasn't seeing.</p>



<a name="209826874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209826874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209826874">(Sep 11 2020 at 19:48)</a>:</h4>
<p>You can also mute streams or topics--I think this would affect the unread count but I haven't tried it</p>



<a name="209828767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209828767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209828767">(Sep 11 2020 at 20:05)</a>:</h4>
<p>It's not quite what I was hoping for, but it helps. Thank you.</p>



<a name="209829305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209829305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209829305">(Sep 11 2020 at 20:10)</a>:</h4>
<p>(If you don't mind the number in your browser tab being a bit larger, you can subscribe to the zulip meta stream too...)</p>



<a name="209838366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209838366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209838366">(Sep 11 2020 at 21:38)</a>:</h4>
<p>Looks like it has already been brought up in the meta.</p>



<a name="209911918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209911918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209911918">(Sep 13 2020 at 03:40)</a>:</h4>
<p>Chapter 3 introduces the <code>fix</code> proof command. The Lean version I am using does not recognize this command. It seems that it is the same of <code>assume</code>. Does anyone know the origin of this command in the hitchhikers guide?</p>



<a name="209912457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209912457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209912457">(Sep 13 2020 at 04:00)</a>:</h4>
<p>It was a conscious choice on Jasmin's part</p>



<a name="209912477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209912477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209912477">(Sep 13 2020 at 04:00)</a>:</h4>
<p>See <a href="#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194764067">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Proposal.3A.20.60fix.20x.60.20for.20.60assume.20x.60/near/194764067</a></p>



<a name="209920739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209920739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209920739">(Sep 13 2020 at 08:40)</a>:</h4>
<p>In the next edition of the guide, this will be more clearly identified as a private extension.</p>



<a name="209920802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209920802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209920802">(Sep 13 2020 at 08:42)</a>:</h4>
<p>The guide was designed for in-class use, not as a Lean tutorial. I never expected it would be so popular as a tutorial.</p>



<a name="209933972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209933972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandre Rademaker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209933972">(Sep 13 2020 at 14:28)</a>:</h4>
<p>It is a very nice material, thank you for making it. But how do you define <code>fix</code>? Do you have any list of definitions besides <code>fix</code> that you share with students?</p>



<a name="209933999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209933999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209933999">(Sep 13 2020 at 14:29)</a>:</h4>
<p><code>fix</code> is just a synonym for <code>\lam</code> or <code>assume</code> in standard lean</p>



<a name="209938220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209938220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209938220">(Sep 13 2020 at 16:17)</a>:</h4>
<p>It's called LoVelib. See footnote 3 in the preface for a URL.</p>



<a name="209958043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209958043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209958043">(Sep 14 2020 at 01:15)</a>:</h4>
<p>We do:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">list_of_vec</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">N</span><span class="o">},</span> <span class="n">vec</span> <span class="n">α</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">list</span> <span class="n">α</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">vec</span><span class="bp">.</span><span class="n">nil</span> <span class="o">:=</span> <span class="o">[]</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">vec</span><span class="bp">.</span><span class="n">cons</span> <span class="n">a</span> <span class="n">v</span><span class="o">)</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">::</span> <span class="n">list_of_vec</span> <span class="n">v</span>
</code></pre></div>


<p>instead of</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">list_of_vec</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">N</span><span class="o">},</span> <span class="n">vec</span> <span class="n">α</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">list</span> <span class="n">α</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="n">vec</span><span class="bp">.</span><span class="n">nil</span> <span class="o">:=</span> <span class="o">[]</span>
<span class="bp">|</span> <span class="bp">_</span> <span class="o">(</span><span class="n">vec</span><span class="bp">.</span><span class="n">cons</span> <span class="n">a</span> <span class="n">v</span><span class="o">)</span> <span class="o">:=</span> <span class="n">a</span> <span class="bp">::</span> <span class="n">list_of_vec</span> <span class="n">v</span>
</code></pre></div>


<p>because <code>α</code> is a type and not a term?</p>



<a name="209958399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209958399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209958399">(Sep 14 2020 at 01:27)</a>:</h4>
<p>No, it is because <code>α</code> is a parameter of the recursion</p>



<a name="209958441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209958441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209958441">(Sep 14 2020 at 01:28)</a>:</h4>
<p>Also the second version would need an extra underscore in the patterns</p>



<a name="209958575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209958575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209958575">(Sep 14 2020 at 01:32)</a>:</h4>
<p>Oh. Ok.</p>



<a name="209958627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209958627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209958627">(Sep 14 2020 at 01:34)</a>:</h4>
<p>What precisely are the rules for figuring out what you are matching against based on the type? Everything after the <code>:</code>?</p>



<a name="209972242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209972242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209972242">(Sep 14 2020 at 07:26)</a>:</h4>
<p>Yes, there is one argument to be matched for every pi/arrow after the colon</p>



<a name="209974756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/209974756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#209974756">(Sep 14 2020 at 08:00)</a>:</h4>
<p>See p. 15 of HG.</p>



<a name="210055948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210055948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210055948">(Sep 14 2020 at 20:03)</a>:</h4>
<p>On page 75:<br>
"In contrast, the inductive definition guarantees that we obtain the least (i.e., the most false) predicate that satisfies the introduction rules even.zero and even.add_two , and provides elimination and induction principles that allow us to prove ¬ even 1 , ¬ even 17 , or ¬ even (2 * n + 1) ."<br>
Is there a way in Lean to see all the rules and principles that are generated?</p>



<a name="210058519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210058519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210058519">(Sep 14 2020 at 20:26)</a>:</h4>
<p>Probably <code>#print prefix even</code></p>



<a name="210059327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210059327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210059327">(Sep 14 2020 at 20:33)</a>:</h4>
<p>I think that just shows the declared constructors?</p>



<a name="210075945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210075945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210075945">(Sep 14 2020 at 23:41)</a>:</h4>
<p>Is there an example of proving something like ¬ even 1?</p>



<a name="210083526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210083526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210083526">(Sep 15 2020 at 01:56)</a>:</h4>
<p>Or <code>0 = 1 → false</code>?</p>



<a name="210084839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210084839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210084839">(Sep 15 2020 at 02:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/210075945">said</a>:</p>
<blockquote>
<p>Is there an example of proving something like ¬ even 1 without tactics?</p>
</blockquote>
<p>Maybe it's a little disappointing, but this works:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">inductive</span> <span class="n">even</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">zero</span> <span class="o">:</span> <span class="n">even</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">add_two</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">even</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">even</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">even</span> <span class="mi">1</span>
<span class="bp">.</span>
</code></pre></div>


<p>The dot means "no more patterns" for the equation compiler.  Somehow it knows <code>even 1</code> cannot be constructed.  This is the term mode proof that the equation compiler generates:</p>
<div class="codehilite"><pre><span></span><code><span class="bp">λ</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">even</span> <span class="mi">1</span><span class="o">),</span>
  <span class="n">a</span><span class="bp">.</span><span class="n">dcases_on</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a_1</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">),</span> <span class="n">nat</span><span class="bp">.</span><span class="n">no_confusion</span> <span class="n">a_1</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a_k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a_a</span> <span class="o">:</span> <span class="n">even</span> <span class="n">a_k</span><span class="o">)</span> <span class="o">(</span><span class="n">a_1</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a_k</span><span class="bp">.</span><span class="n">add</span> <span class="o">(</span><span class="mi">1</span><span class="bp">.</span><span class="n">add</span> <span class="mi">0</span><span class="o">))</span><span class="bp">.</span><span class="n">succ</span><span class="o">),</span>
       <span class="n">nat</span><span class="bp">.</span><span class="n">no_confusion</span> <span class="n">a_1</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a_1</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a_k</span><span class="bp">.</span><span class="n">add</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span><span class="o">),</span> <span class="n">nat</span><span class="bp">.</span><span class="n">no_confusion</span> <span class="n">a_1</span><span class="o">))</span>
    <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">refl</span> <span class="mi">1</span><span class="o">)</span>
    <span class="o">(</span><span class="n">heq</span><span class="bp">.</span><span class="n">refl</span> <span class="n">a</span><span class="o">)</span>
</code></pre></div>


<p>(I changed <code>example</code> to <code>lemma foo</code> then did <code>#print foo</code>.)</p>



<a name="210085768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210085768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210085768">(Sep 15 2020 at 02:49)</a>:</h4>
<p>Hmm. Ok. Are inductive data types defined in lambda calculus or are they something that functional programming languages tack on somehow?</p>



<a name="210086198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210086198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210086198">(Sep 15 2020 at 03:00)</a>:</h4>
<p>Everything is encoded as a function I guess? So an inductive data type must be encoded as a function?</p>



<a name="210086228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210086228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210086228">(Sep 15 2020 at 03:01)</a>:</h4>
<p>Is there a way to see that function?</p>



<a name="210086420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210086420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210086420">(Sep 15 2020 at 03:05)</a>:</h4>
<p>Like <code>and</code> reduces to <code>lx.ly.xyx</code>?</p>



<a name="210086782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210086782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210086782">(Sep 15 2020 at 03:15)</a>:</h4>
<p>Inductive types are primitive, they are not defined as anything, they are constants, with rules (constructors, recursors, computation rules) postulated for them.</p>



<a name="210086866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210086866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210086866">(Sep 15 2020 at 03:17)</a>:</h4>
<p>See Mario's thesis for the precise rules: <a href="https://github.com/digama0/lean-type-theory/releases/tag/v1.0">https://github.com/digama0/lean-type-theory/releases/tag/v1.0</a></p>



<a name="210087549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210087549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210087549">(Sep 15 2020 at 03:35)</a>:</h4>
<p>It appears to be over my head at present, but thank you.</p>



<a name="210088681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210088681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210088681">(Sep 15 2020 at 04:06)</a>:</h4>
<p>A much better introduction is <a href="https://leanprover.github.io/theorem_proving_in_lean/inductive_types.html">https://leanprover.github.io/theorem_proving_in_lean/inductive_types.html</a></p>



<a name="210191597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210191597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210191597">(Sep 15 2020 at 21:14)</a>:</h4>
<p>Are definitions like <code>and = lx.ly.xyx</code> used at any level or are they replaced by other methods in languages like Lean? Because honestly those definitions are pretty cool :)</p>



<a name="210195330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210195330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210195330">(Sep 15 2020 at 21:47)</a>:</h4>
<p>In lean <code>bool</code> is an inductive type in lean with two constructors, <code>tt</code> and <code>ff</code>, so any term you construct of bool is one of the two, and then boolean functions can just be defined by matching against those constructors. As we have types its not necessary to encode everything as a function in some clever way to get the desired behaviour, as Floris says inductive types themselves are a primitive notion. Its like how in set theory naturals can be encoded via von Neumann ordinals as sets of sets, but in type theories such as lean's we can make an inductive type to represent naturals instead of having to define everything as a set.</p>



<a name="210195529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210195529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210195529">(Sep 15 2020 at 21:49)</a>:</h4>
<p>I see. Thank you.</p>



<a name="210303251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210303251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210303251">(Sep 16 2020 at 18:44)</a>:</h4>
<p>I'm not sure if <code>tactic.any_goals</code> was changed since the book was written, but  when trying to typecheck the first custom tactic example </p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">inductive</span> <span class="n">even</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">zero</span> <span class="o">:</span> <span class="n">even</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">add_two</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">k</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="n">even</span> <span class="n">k</span> <span class="bp">→</span> <span class="n">even</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">intro_and_even</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">do</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">and</span><span class="bp">.</span><span class="n">intro</span><span class="o">),</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">any_goals</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">solve1</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span>
    <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">add_two</span>
     <span class="bp">&lt;|&gt;</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">zero</span><span class="o">)))</span>
</code></pre></div>


<p>it seems the return type is <code> tactic (list (option unit))</code> rather than <code>tactic unit</code>. Is there a way to get this to the  type <code>tactic unit</code>? (Just starting to learn metaprogramming now)</p>



<a name="210303980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210303980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210303980">(Sep 16 2020 at 18:50)</a>:</h4>
<p>By the way, I've found the HG to be a very useful supplement to TPiL, so my thanks to the authors!</p>



<a name="210304452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304452">(Sep 16 2020 at 18:54)</a>:</h4>
<p>You can put</p>
<div class="codehilite"><pre><span></span><code>     <span class="n">return</span> <span class="bp">⟨⟩</span>
</code></pre></div>


<p>on a newline after any_goals</p>
<div class="codehilite"><pre><span></span><code><span class="n">meta</span> <span class="n">def</span> <span class="n">intro_and_even</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">do</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">and</span><span class="bp">.</span><span class="n">intro</span><span class="o">),</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">any_goals</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">solve1</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span>
    <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">add_two</span>
     <span class="bp">&lt;|&gt;</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">zero</span><span class="o">))),</span>
     <span class="n">return</span> <span class="bp">⟨⟩</span>
</code></pre></div>


<p>to get the right type</p>



<a name="210304458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304458">(Sep 16 2020 at 18:54)</a>:</h4>
<p>The typical way to throw out a result it to write <code>&gt;&gt; skip</code> after a tactic. In this case, you can do</p>
<div class="codehilite"><pre><span></span><code><span class="n">meta</span> <span class="n">def</span> <span class="n">intro_and_even</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="n">do</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">and</span><span class="bp">.</span><span class="n">intro</span><span class="o">),</span>
  <span class="n">tactic</span><span class="bp">.</span><span class="n">any_goals</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">solve1</span> <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">repeat</span>
    <span class="o">(</span><span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">add_two</span>
     <span class="bp">&lt;|&gt;</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">applyc</span> <span class="bp">``</span><span class="n">even</span><span class="bp">.</span><span class="n">zero</span><span class="o">))),</span>
  <span class="n">skip</span>
</code></pre></div>



<a name="210304560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304560">(Sep 16 2020 at 18:55)</a>:</h4>
<p>(Alex's suggestion is basically the same, since <code>skip</code> is defined to be <code>return ⟨⟩</code>)</p>



<a name="210304668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304668">(Sep 16 2020 at 18:56)</a>:</h4>
<p>Thanks!</p>



<a name="210304747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304747">(Sep 16 2020 at 18:57)</a>:</h4>
<p>Although my using angle braces instead of brackets is a bit idiosyncratic I guess!</p>



<a name="210304778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210304778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210304778">(Sep 16 2020 at 18:57)</a>:</h4>
<p><code>return ()</code> is used in mathlib way more often.</p>



<a name="210364230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/hitchhikers%20guide/near/210364230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/hitchhikers.20guide.html#210364230">(Sep 17 2020 at 09:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="319223">Logan Murphy</span> <a href="#narrow/stream/113489-new-members/topic/hitchhikers.20guide/near/210303251">said</a>:</p>
<blockquote>
<p>I'm not sure if <code>tactic.any_goals</code> was changed since the book was written</p>
</blockquote>
<p>It has. We've updated our private version of the book but have yet to update the PDF. Expect a new version within one month or so, in time for my course.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>