---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html">I had a question about theorem proving in lean book</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="305267578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305267578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305267578">(Oct 21 2022 at 01:17)</a>:</h4>
<p>In the book <a href="https://leanprover.github.io/theorem_proving_in_lean4/propositions_and_proofs.html">Theorem Proving in Lean</a></p>
<p>The exercises for associativity</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- associativity of ∧ and ∨</span>
<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>I am not able to add braces when I prove the above theorems<br>
My solution : </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="kd">theorem</span> <span class="n">and_assoc</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
    <span class="n">Iff.intro</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h₁</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">=&gt;</span>
        <span class="n">And.intro</span>
          <span class="o">(</span><span class="n">And.left</span> <span class="o">(</span><span class="n">And.left</span> <span class="n">h₁</span><span class="o">))</span>
          <span class="o">((</span><span class="n">And.intro</span>
            <span class="o">(</span><span class="n">And.right</span> <span class="o">(</span><span class="n">And.left</span> <span class="n">h₁</span><span class="o">))</span>
            <span class="o">(</span><span class="n">And.right</span> <span class="n">h₁</span><span class="o">))))</span>
      <span class="o">(</span><span class="bp">λ</span> <span class="n">h₂</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">=&gt;</span>
        <span class="n">And.intro</span>
          <span class="o">((</span><span class="n">And.intro</span>
            <span class="o">(</span><span class="n">And.left</span> <span class="n">h₂</span><span class="o">)</span>
            <span class="o">(</span><span class="n">And.left</span> <span class="o">(</span><span class="n">And.right</span> <span class="n">h₂</span><span class="o">))))</span>
          <span class="o">(</span><span class="n">And.right</span> <span class="o">(</span><span class="n">And.right</span> <span class="n">h₂</span><span class="o">)))</span>
</code></pre></div>
<p>when I check it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">#check</span> <span class="n">and_assoc</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span>
</code></pre></div>
<p>I get the following message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">and_assoc</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span>
</code></pre></div>
<p>but it should be ideally</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">and_assoc</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">r</span> <span class="bp">↔</span> <span class="n">p</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span>
</code></pre></div>



<a name="305269241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305269241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305269241">(Oct 21 2022 at 01:42)</a>:</h4>
<p>You can add <code>set_option pp.parens true</code> on a new line before the check to ask lean to insert the parentheses in places like this where it chooses not to by default (because and is left associative for lean so the statement isn't ambiguous for lean without)</p>



<a name="305269815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305269815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305269815">(Oct 21 2022 at 01:52)</a>:</h4>
<p>so when I add <code>set_option pp.parens true</code> on a newline before the check I am getting the following message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">unknown</span> <span class="n">option</span> <span class="bp">'</span><span class="n">pp.parens'</span>
</code></pre></div>



<a name="305322694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305322694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305322694">(Oct 21 2022 at 10:36)</a>:</h4>
<p>Which version of lean are you running?</p>



<a name="305372476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305372476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shubham Kumar <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305372476">(Oct 21 2022 at 14:48)</a>:</h4>
<p>Lean 4</p>



<a name="305379188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20had%20a%20question%20about%20theorem%20proving%20in%20lean%20book/near/305379188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20had.20a.20question.20about.20theorem.20proving.20in.20lean.20book.html#305379188">(Oct 21 2022 at 15:20)</a>:</h4>
<p>Ah I see, then maybe that option doesn't exist in Lean 4 unfortunately. You can use the info-view to click on the expression in vscode to see how the brackets are implicitly placed if that helps</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>