---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/fin.20eq.20not.20unified.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html">fin eq not unified</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300092199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092199">(Sep 22 2022 at 07:31)</a>:</h4>
<p>Why can't <code>↑a = ↑b</code> be unified with <code>↑a = ↑b</code>?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset</span>

<span class="kd">example</span>
    <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
    <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
    <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n.succ</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span>
    <span class="o">(</span><span class="n">nodup</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span>
    <span class="n">function.injective</span> <span class="o">(</span><span class="k">fun</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span> <span class="n">f</span> <span class="bp">↑</span><span class="n">i</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
    <span class="n">unfold</span> <span class="n">function.injective</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h1</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">nodup</span> <span class="n">h1</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">fin.ext</span><span class="o">,</span> <span class="n">apply</span> <span class="n">nodup</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="300092470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092470">(Sep 22 2022 at 07:33)</a>:</h4>
<p>In vs code, you can click on the <code>↑a</code> in the tactic state</p>



<a name="300092578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092578">(Sep 22 2022 at 07:34)</a>:</h4>
<p><a href="/user_uploads/3121/RSTf5_W5cS1VBWunvQacrT_Z/Screenshot-from-2022-09-22-09-34-04.png">Screenshot-from-2022-09-22-09-34-04.png</a> <a href="/user_uploads/3121/tpMICbZadpTq0CIAjJSev94g/Screenshot-from-2022-09-22-09-33-55.png">Screenshot-from-2022-09-22-09-33-55.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/RSTf5_W5cS1VBWunvQacrT_Z/Screenshot-from-2022-09-22-09-34-04.png" title="Screenshot-from-2022-09-22-09-34-04.png"><img src="/user_uploads/3121/RSTf5_W5cS1VBWunvQacrT_Z/Screenshot-from-2022-09-22-09-34-04.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/tpMICbZadpTq0CIAjJSev94g/Screenshot-from-2022-09-22-09-33-55.png" title="Screenshot-from-2022-09-22-09-33-55.png"><img src="/user_uploads/3121/tpMICbZadpTq0CIAjJSev94g/Screenshot-from-2022-09-22-09-33-55.png"></a></div>



<a name="300092809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092809">(Sep 22 2022 at 07:36)</a>:</h4>
<p>Hmm. One is a <code>nat</code> and the other is a <code>fin n.succ</code>?</p>



<a name="300092825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092825">(Sep 22 2022 at 07:36)</a>:</h4>
<p>Indeed</p>



<a name="300092880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300092880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300092880">(Sep 22 2022 at 07:37)</a>:</h4>
<p>Ok. Thank you.</p>



<a name="300093384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300093384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300093384">(Sep 22 2022 at 07:41)</a>:</h4>
<p>Do you know what the double curly braces mean in <code>function.injective f = ∀ ⦃a₁ a₂ : α⦄, f a₁ = f a₂ → a₁ = a₂</code>?</p>



<a name="300093497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300093497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300093497">(Sep 22 2022 at 07:42)</a>:</h4>
<p>Is there a way to lookup that kind of notation?</p>



<a name="300093986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300093986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300093986">(Sep 22 2022 at 07:46)</a>:</h4>
<p>It's some sort of implicit argument - I don't recall where they're documented</p>



<a name="300094788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300094788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300094788">(Sep 22 2022 at 07:53)</a>:</h4>
<p>Hmm. Ok.<br>
Is using fin.ext the wrong thing here? I'm not sure I understand what is happening to make them different types.</p>



<a name="300095203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300095203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300095203">(Sep 22 2022 at 07:56)</a>:</h4>
<p>Oh. <a href="https://github.com/leanprover-community/mathlib/blob/88f41bb0bd5c895bca82a7900b0b6a205fd0e937/src/data/fin/basic.lean#L117">https://github.com/leanprover-community/mathlib/blob/88f41bb0bd5c895bca82a7900b0b6a205fd0e937/src/data/fin/basic.lean#L117</a></p>



<a name="300095425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300095425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300095425">(Sep 22 2022 at 07:58)</a>:</h4>
<p>I would guess that <code>refine nodup.comp _</code> almost closes this goal</p>



<a name="300095843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300095843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300095843">(Sep 22 2022 at 08:01)</a>:</h4>
<p><a href="/user_uploads/3121/j8j-KGGqUTWlWz78336j0IW5/Screenshot-from-2022-09-22-01-00-35.png">Screenshot-from-2022-09-22-01-00-35.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/j8j-KGGqUTWlWz78336j0IW5/Screenshot-from-2022-09-22-01-00-35.png" title="Screenshot-from-2022-09-22-01-00-35.png"><img src="/user_uploads/3121/j8j-KGGqUTWlWz78336j0IW5/Screenshot-from-2022-09-22-01-00-35.png"></a></div>



<a name="300095873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300095873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300095873">(Sep 22 2022 at 08:01)</a>:</h4>
<p>I mean right at the start</p>



<a name="300096653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300096653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300096653">(Sep 22 2022 at 08:06)</a>:</h4>
<p>The coercion you have here is a nasty one; it's the transitive one found by <code>fin n -&gt; nat -&gt; fin m.succ</code>, and it's only injective if <code>n &lt;= m.succ</code></p>



<a name="300096741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300096741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300096741">(Sep 22 2022 at 08:07)</a>:</h4>
<p>Running <code>dsimp</code> (on the appropriate target) will expand the transitive coercion into two coercions, which makes it easier to make progress</p>



<a name="300097321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300097321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300097321">(Sep 22 2022 at 08:10)</a>:</h4>
<p>I'm sorry, I'm not sure if I follow.</p>



<a name="300097426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300097426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300097426">(Sep 22 2022 at 08:11)</a>:</h4>
<p>Which message?</p>



<a name="300097691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300097691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300097691">(Sep 22 2022 at 08:13)</a>:</h4>
<p>The last one I think. Is that with the <code>refine nodup.comp</code>? I'm not sure how the <code>refine nodup.comp</code> helps.</p>



<a name="300097783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300097783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300097783">(Sep 22 2022 at 08:13)</a>:</h4>
<p>The thing you really want to prove is <code>function.injective (λ (i : fin n), (i : fin n.succ))</code>, and the <code>refine</code> changes your goal to that</p>



<a name="300097979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300097979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300097979">(Sep 22 2022 at 08:15)</a>:</h4>
<p>Hmm. Why is that what I really want to prove?</p>



<a name="300098126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300098126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300098126">(Sep 22 2022 at 08:16)</a>:</h4>
<p>Because it is the middle step of the transitivity relation?</p>



<a name="300098187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300098187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300098187">(Sep 22 2022 at 08:16)</a>:</h4>
<p>Exactly, yes</p>



<a name="300098251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300098251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300098251">(Sep 22 2022 at 08:17)</a>:</h4>
<p>I still found it quite painful to prove from there, because it seems like there's a better-supported way to write <code>λ (i : fin n), (i : fin n.succ)</code> in mathlib (and <code>simp</code> finds it)</p>



<a name="300098808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300098808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300098808">(Sep 22 2022 at 08:21)</a>:</h4>
<p>You mean there is a better way to state the theorem?</p>



<a name="300099356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300099356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300099356">(Sep 22 2022 at 08:24)</a>:</h4>
<p><a href="/user_uploads/3121/GIjJgcf_UNb60BjD-d1f-10a/Screenshot-from-2022-09-22-01-24-14.png">Screenshot-from-2022-09-22-01-24-14.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/GIjJgcf_UNb60BjD-d1f-10a/Screenshot-from-2022-09-22-01-24-14.png" title="Screenshot-from-2022-09-22-01-24-14.png"><img src="/user_uploads/3121/GIjJgcf_UNb60BjD-d1f-10a/Screenshot-from-2022-09-22-01-24-14.png"></a></div>



<a name="300099446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300099446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300099446">(Sep 22 2022 at 08:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/fin.20eq.20not.20unified/near/300093384">said</a>:</p>
<blockquote>
<p>Do you know what the double curly braces mean in <code>function.injective f = ∀ ⦃a₁ a₂ : α⦄, f a₁ = f a₂ → a₁ = a₂</code>?</p>
</blockquote>
<p><code>{}</code>s have this issue that if, for example, you have <code>def test {a : Type*} (b : Type*) := a -&gt; b</code>, then they'll be greedy: that is <code>have := test</code> will have type <code>@test ?m_1 : Type* -&gt; Type*</code>, while maybe instead you wanted <code>@test : Type* -&gt; Type* -&gt; Type*</code>. double curly braces do this, and don't resolve the implicitness until you write any explicit arguments that come after; that is, <code>have := test2</code> would be <code>@test2</code>, but <code>have := test2 nat</code> would be <code>@test2 ?m_1 nat</code></p>



<a name="300099653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300099653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300099653">(Sep 22 2022 at 08:26)</a>:</h4>
<p>Perhaps yes:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span>
    <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
    <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
    <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n.succ</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span>
    <span class="o">(</span><span class="n">nodup</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span>
    <span class="n">function.injective</span> <span class="o">(</span><span class="k">fun</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span> <span class="n">f</span> <span class="n">i.cast_succ</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">nodup.comp</span> <span class="o">(</span><span class="n">fin.cast_succ_injective</span> <span class="n">_</span><span class="o">)</span>
</code></pre></div>



<a name="300100734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300100734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300100734">(Sep 22 2022 at 08:33)</a>:</h4>
<p>You mean the <code>i.cast_succ</code> instead of <code>↑i</code>? I thought the second was notation for the first?</p>



<a name="300101518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300101518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300101518">(Sep 22 2022 at 08:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/113489-new-members/topic/fin.20eq.20not.20unified/near/300099446">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="139442">Patrick Thomas</span> <a href="#narrow/stream/113489-new-members/topic/fin.20eq.20not.20unified/near/300093384">said</a>:</p>
<blockquote>
<p>Do you know what the double curly braces mean in <code>function.injective f = ∀ ⦃a₁ a₂ : α⦄, f a₁ = f a₂ → a₁ = a₂</code>?</p>
</blockquote>
<p><code>{}</code>s have this issue that if, for example, you have <code>def test {a : Type*} (b : Type*) := a -&gt; b</code>, then they'll be greedy: that is <code>have := test</code> will have type <code>@test ?m_1 : Type* -&gt; Type*</code>, while maybe instead you wanted <code>@test : Type* -&gt; Type* -&gt; Type*</code>. double curly braces do this, and don't resolve the implicitness until you write any explicit arguments that come after; that is, <code>have := test2</code> would be <code>@test2</code>, but <code>have := test2 nat</code> would be <code>@test2 ?m_1 nat</code></p>
</blockquote>
<p>Thank you. I might need to call it a night and revisit this.</p>



<a name="300103800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300103800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300103800">(Sep 22 2022 at 08:52)</a>:</h4>
<blockquote>
<p>I thought the second was notation for the first?</p>
</blockquote>
<p>Hah, you wish!</p>



<a name="300104164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300104164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300104164">(Sep 22 2022 at 08:55)</a>:</h4>
<p>Here, <code>↑i</code> is notation for <code>↑↑i</code> which is notation for <code>↑i.val</code> which is notation for <code>has_nat_cast.nat_cast i.val</code> which is _probably_ notation for <code>fin.mk (i.val % n) _</code></p>



<a name="300284315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300284315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300284315">(Sep 23 2022 at 03:44)</a>:</h4>
<p>I see.<br>
Is there a way in Lean to unfold notation like this?</p>



<a name="300285512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300285512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300285512">(Sep 23 2022 at 04:07)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#unfold_coes">tactic#unfold_coes</a> is one way to unfold coercions</p>



<a name="300286143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300286143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300286143">(Sep 23 2022 at 04:19)</a>:</h4>
<p>Thank you. Is there any generic way to see how a notation is defined?</p>



<a name="300298777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/fin%20eq%20not%20unified/near/300298777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/fin.20eq.20not.20unified.html#300298777">(Sep 23 2022 at 07:03)</a>:</h4>
<p>Hover over it the goal view?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>