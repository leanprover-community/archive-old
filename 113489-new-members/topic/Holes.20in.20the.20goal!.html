---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Holes.20in.20the.20goal!.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html">Holes in the goal!</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206649948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206649948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206649948">(Aug 12 2020 at 01:04)</a>:</h4>
<p>I have <code>classical.some _</code> in my goal! I find myself unable to maneuver around it, although the goal itself should be easy.</p>
<p>Unfortunately my <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> is a bit big...</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">group</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">section</span>

<span class="kn">parameters</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">nonempty</span> <span class="n">α</span><span class="o">]</span>

<span class="n">def</span> <span class="n">iso</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="o">:=</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">//</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span> <span class="n">f</span><span class="o">}</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">α</span><span class="o">}</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="n">def</span> <span class="n">iso</span><span class="bp">.</span><span class="n">mul</span> <span class="o">:</span> <span class="n">iso</span> <span class="bp">→</span> <span class="n">iso</span> <span class="bp">→</span> <span class="n">iso</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">f</span><span class="o">,</span> <span class="n">hf</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">g</span><span class="o">,</span> <span class="n">hg</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">f</span> <span class="err">∘</span> <span class="n">g</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span><span class="bp">.</span><span class="n">comp</span> <span class="n">hf</span> <span class="n">hg</span><span class="bp">⟩</span>

<span class="kn">open</span> <span class="n">function</span> <span class="o">(</span><span class="n">left_inverse</span><span class="o">)</span> <span class="o">(</span><span class="n">right_inverse</span><span class="o">)</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">function</span><span class="bp">.</span><span class="n">left_inverse_iff_right_inverse</span> <span class="o">:</span>
  <span class="n">left_inverse</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">↔</span> <span class="n">right_inverse</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">function</span><span class="bp">.</span><span class="n">left_inverse</span><span class="bp">.</span><span class="n">right_inverse</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">right_inverse</span><span class="bp">.</span><span class="n">left_inverse</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">iso</span><span class="bp">.</span><span class="n">inv</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">,</span> <span class="n">left_inverse</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="bp">∧</span> <span class="n">right_inverse</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">f</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_iff_has_inverse</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hf</span> <span class="k">with</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">g</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_iff_has_inverse</span><span class="o">,</span>
    <span class="n">use</span> <span class="n">f</span><span class="o">,</span>
    <span class="n">rwa</span> <span class="n">and</span><span class="bp">.</span><span class="n">comm</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">hg</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">instance</span> <span class="n">iso</span><span class="bp">.</span><span class="n">group</span> <span class="o">:</span> <span class="n">group</span> <span class="n">iso</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="n">iso</span><span class="bp">.</span><span class="n">mul</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">id</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_id</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">has_mul</span><span class="bp">.</span><span class="n">mul</span><span class="o">],</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">has_mul</span><span class="bp">.</span><span class="n">mul</span><span class="o">],</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">iso</span><span class="bp">.</span><span class="n">inv</span> <span class="n">f</span><span class="o">),</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span>
  <span class="k">begin</span>
    <span class="n">unfold</span> <span class="n">has_inv</span><span class="bp">.</span><span class="n">inv</span><span class="o">,</span>
    <span class="n">sorry</span>
  <span class="kn">end</span> <span class="o">}</span>

<span class="kn">end</span>
</code></pre></div>



<a name="206650094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206650094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206650094">(Aug 12 2020 at 01:06)</a>:</h4>
<p><code>set_option pp.proofs true</code></p>



<a name="206650131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206650131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206650131">(Aug 12 2020 at 01:07)</a>:</h4>
<p>Its not a hole, just a proof that lean has elected to hide from you (as it is irrelevant (in the technical sense!))</p>



<a name="206650153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206650153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206650153">(Aug 12 2020 at 01:08)</a>:</h4>
<p>Probably you'll need to use <code>classical.some_spec</code>  somewhere to proceeed</p>



<a name="206652920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206652920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206652920">(Aug 12 2020 at 02:07)</a>:</h4>
<p>Here's how far I got, added some more API:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">group</span>

<span class="n">noncomputable</span> <span class="n">theory</span>

<span class="kn">section</span>

<span class="kn">parameters</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">nonempty</span> <span class="n">α</span><span class="o">]</span>

<span class="n">def</span> <span class="n">iso</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="o">:=</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">//</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span> <span class="n">f</span><span class="o">}</span>

<span class="kn">theorem</span> <span class="n">ext_iff</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="n">x</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span><span class="o">,</span>
    <span class="n">funext</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">x</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">h</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">h</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">α</span><span class="o">}</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="n">def</span> <span class="n">iso</span><span class="bp">.</span><span class="n">mul</span> <span class="o">:</span> <span class="n">iso</span> <span class="bp">→</span> <span class="n">iso</span> <span class="bp">→</span> <span class="n">iso</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="bp">⟨</span><span class="n">f</span><span class="o">,</span> <span class="n">hf</span><span class="bp">⟩</span> <span class="bp">⟨</span><span class="n">g</span><span class="o">,</span> <span class="n">hg</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">f</span> <span class="err">∘</span> <span class="n">g</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span><span class="bp">.</span><span class="n">comp</span> <span class="n">hf</span> <span class="n">hg</span><span class="bp">⟩</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">iso_mul_def</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span> <span class="n">iso</span><span class="bp">.</span><span class="n">mul</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">=</span> <span class="bp">⟨</span><span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="err">∘</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span><span class="bp">.</span><span class="n">comp</span> <span class="n">f</span><span class="bp">.</span><span class="n">property</span> <span class="n">g</span><span class="bp">.</span><span class="n">property</span><span class="bp">⟩</span> <span class="o">:=</span>
<span class="k">by</span> <span class="o">{</span> <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">f</span><span class="o">,</span> <span class="n">hf</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">f</span><span class="o">,</span> <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">g</span><span class="o">,</span> <span class="n">hg</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">g</span><span class="o">,</span> <span class="n">simp</span> <span class="o">}</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">iso_mul_val</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">iso</span><span class="bp">.</span><span class="n">mul</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="err">∘</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>

<span class="kn">lemma</span> <span class="n">iso_mul_property</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">iso</span><span class="bp">.</span><span class="n">mul</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">property</span> <span class="bp">=</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective</span><span class="bp">.</span><span class="n">comp</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">mul</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">property</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_id</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">iso_mul_eq_iff</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">mul</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">h</span> <span class="bp">↔</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="err">∘</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="bp">=</span> <span class="n">h</span><span class="bp">.</span><span class="n">val</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">h</span><span class="o">,</span> <span class="n">hp</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">iso_mul_def</span> <span class="n">at</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">mk</span><span class="bp">.</span><span class="n">inj</span> <span class="n">hm</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">hm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">iso_mul_def</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">eq</span> <span class="n">hm</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">open</span> <span class="n">function</span> <span class="o">(</span><span class="n">left_inverse</span><span class="o">)</span> <span class="o">(</span><span class="n">right_inverse</span><span class="o">)</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">function</span><span class="bp">.</span><span class="n">left_inverse_iff_right_inverse</span> <span class="o">:</span>
  <span class="n">left_inverse</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">↔</span> <span class="n">right_inverse</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">function</span><span class="bp">.</span><span class="n">left_inverse</span><span class="bp">.</span><span class="n">right_inverse</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">right_inverse</span><span class="bp">.</span><span class="n">left_inverse</span><span class="bp">⟩</span>

<span class="kn">lemma</span> <span class="n">iso</span><span class="bp">.</span><span class="n">inv</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">iso</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">g</span> <span class="o">:</span> <span class="n">iso</span><span class="o">,</span> <span class="n">left_inverse</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="bp">∧</span> <span class="n">right_inverse</span> <span class="n">g</span><span class="bp">.</span><span class="n">val</span> <span class="n">f</span><span class="bp">.</span><span class="n">val</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">f</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_iff_has_inverse</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hf</span> <span class="k">with</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">g</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_iff_has_inverse</span><span class="o">,</span>
    <span class="n">use</span> <span class="n">f</span><span class="o">,</span>
    <span class="n">rwa</span> <span class="n">and</span><span class="bp">.</span><span class="n">comm</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">hg</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">instance</span> <span class="n">iso</span><span class="bp">.</span><span class="n">group</span> <span class="o">:</span> <span class="n">group</span> <span class="n">iso</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="n">iso</span><span class="bp">.</span><span class="n">mul</span><span class="o">,</span>
  <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">id</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">bijective_id</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">has_mul</span><span class="bp">.</span><span class="n">mul</span><span class="o">],</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">_⟩</span><span class="o">,</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">has_mul</span><span class="bp">.</span><span class="n">mul</span><span class="o">],</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">iso</span><span class="bp">.</span><span class="n">inv</span> <span class="n">f</span><span class="o">),</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span>
    <span class="n">rcases</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">iso</span><span class="bp">.</span><span class="n">inv</span> <span class="n">f</span><span class="o">)),</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">has_mul</span><span class="bp">.</span><span class="n">mul</span><span class="o">,</span> <span class="n">semigroup</span><span class="bp">.</span><span class="n">mul</span><span class="o">,</span> <span class="n">function</span><span class="bp">.</span><span class="n">comp_app</span><span class="o">,</span> <span class="bp">&lt;-</span><span class="n">ext_iff</span><span class="o">],</span>
    <span class="n">intros</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">left</span> <span class="n">x</span><span class="o">,</span>
    <span class="c">/-</span><span class="cm"></span>
<span class="cm">α : Type u_1,</span>
<span class="cm">_inst_1 : nonempty α,</span>
<span class="cm">f : iso,</span>
<span class="cm">right : right_inverse (classical.some _).val f.val,</span>
<span class="cm">x : α,</span>
<span class="cm">left : (classical.some _).val (f.val x) = x</span>
<span class="cm">⊢ (classical.some _).val (f.val x) = 1.val x</span>
<span class="cm">-/</span>
    <span class="n">sorry</span>
    <span class="o">},</span>

  <span class="o">}</span>

<span class="kn">end</span>
</code></pre></div>



<a name="206653380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206653380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206653380">(Aug 12 2020 at 02:16)</a>:</h4>
<p>Have you seen <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.Aut/src">src#category_theory.Aut</a>?</p>



<a name="206653415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206653415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206653415">(Aug 12 2020 at 02:17)</a>:</h4>
<p>This builds the automorphism group for any object where there is a category structure.</p>



<a name="206653428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206653428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206653428">(Aug 12 2020 at 02:17)</a>:</h4>
<p>If you have <code>G : Group</code>, then use can just use <code>Aut G</code>.</p>



<a name="206769178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206769178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206769178">(Aug 13 2020 at 00:19)</a>:</h4>
<p>I managed to complete the proof and it can be seen <a href="https://gist.github.com/pedrominicz/4fe4720c076bc553e97bf70d2e2a1940">here</a>. Thanks for everyone who commented!</p>



<a name="206769518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Holes%20in%20the%20goal%21/near/206769518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Holes.20in.20the.20goal!.html#206769518">(Aug 13 2020 at 00:25)</a>:</h4>
<p>Also, I found that I was trying to do <a href="https://leanprover-community.github.io/mathlib_docs/data/equiv/basic.html#equiv.perm">on mathlib</a>. I believe the mathlib version does not use <code>noncomputable</code>, not sure about <code>choice</code> as I haven't investigated it deeply.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>