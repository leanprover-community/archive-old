---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html">proof of false, but false is not the goal</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214109177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109177">(Oct 21 2020 at 20:18)</a>:</h4>
<p>Uhm.. so I did a rewrite and suddenly had <code>h : \not z = z</code> in my tactic state. It wasn't hard to get a proof of false from this. But I am not in a proof by contradiction right now. I thought in that case I should have false as the goal.<br>
This is (part of) my Tactic state at one point:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">hneq</span><span class="o">:</span> <span class="bp">¬</span><span class="n">z</span> <span class="bp">=</span> <span class="n">z</span>
<span class="n">heq</span><span class="o">:</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">z</span>
<span class="n">contr</span><span class="o">:</span> <span class="n">false</span>
<span class="bp">⊢</span> <span class="bp">¬∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>

<p>The whole thing is part of a pretty large proof but here is an isolated version of the situation. Weird things start happening at<br>
 rw (@sub_left_inj ℂ _ z x z).1 at hneq.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">constants</span> <span class="n">f</span> <span class="bp">Δ</span> <span class="o">:</span> <span class="n">ℂ</span> <span class="bp">-&gt;</span> <span class="n">ℂ</span>
<span class="kd">constant</span> <span class="n">z</span> <span class="o">:</span> <span class="n">ℂ</span>
<span class="kd">constant</span> <span class="n">hf2</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">),</span> <span class="bp">Δ</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">hcalc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">hneq</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">z</span><span class="o">),</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span><span class="bp">∥</span> <span class="bp">=</span> <span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span>
  <span class="o">:=</span> <span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hneq</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">hf2</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_comm</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">sub_mul</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">has_sub.sub</span> <span class="n">x</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">normed_field.norm_mul</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">mul_comm</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">mul_assoc</span> <span class="o">(</span><span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">hneq2</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">ne</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">ne</span> <span class="n">at</span> <span class="n">hneq</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">sub_left_inj</span> <span class="n">ℂ</span> <span class="n">_</span> <span class="n">z</span> <span class="n">x</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">at</span> <span class="n">hneq</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">heq</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq.refl</span> <span class="n">z</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">contr</span><span class="o">,</span> <span class="k">from</span> <span class="o">(</span><span class="n">not_and_self</span> <span class="o">(</span><span class="n">z</span><span class="bp">=</span><span class="n">z</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">and.intro</span> <span class="n">hneq</span> <span class="n">heq</span><span class="o">),</span>
    <span class="n">exact</span> <span class="n">false.elim</span> <span class="n">contr</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">sub_left_inj</span> <span class="n">ℂ</span> <span class="n">_</span> <span class="n">z</span> <span class="n">x</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span>
  <span class="kd">end</span>
</code></pre></div>

<p>At the end I have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">x</span><span class="o">:</span> <span class="n">ℂ</span>
<span class="n">hneq</span><span class="o">:</span> <span class="bp">¬</span><span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
</code></pre></div>



<a name="214109360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109360">(Oct 21 2020 at 20:20)</a>:</h4>
<p>If you have contradictory hypotheses then you can stop right there -- you've proved your theorem. I don't see what's weird about this.</p>



<a name="214109401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109401">(Oct 21 2020 at 20:20)</a>:</h4>
<p>Just do cases on <code>contr</code>. There are no cases, so the goal will be closed.</p>



<a name="214109518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109518">(Oct 21 2020 at 20:21)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Principle_of_explosion">https://en.wikipedia.org/wiki/Principle_of_explosion</a></p>



<a name="214109587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109587">(Oct 21 2020 at 20:22)</a>:</h4>
<p>I guess just don't understand how I entered a proof by contradiction? At  rw (@sub_left_inj ℂ _ z x z).1 at hneq, a new goal gets introduced for reasons I don't understand and I can contradict.</p>



<a name="214109597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109597">(Oct 21 2020 at 20:22)</a>:</h4>
<p><code>exfalso</code> is a tactic which just turns your goal into <code>false</code></p>



<a name="214109621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109621">(Oct 21 2020 at 20:22)</a>:</h4>
<p>so you could do <code>exfalso, assumption</code> too</p>



<a name="214109837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109837">(Oct 21 2020 at 20:24)</a>:</h4>
<p>If you provided a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> we would be able to easily investigate.</p>



<a name="214109954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214109954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214109954">(Oct 21 2020 at 20:25)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="c1">-- I have nothing up my sleeve. This is a straightforward proof which is</span>
<span class="c1">-- valid in constructive logic.</span>
<span class="kd">example</span> <span class="o">:</span> <span class="o">(</span><span class="n">P</span> <span class="bp">→</span> <span class="n">Q</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">¬</span> <span class="n">Q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">P</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">hPQ</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hnQ</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hP</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"></span>
<span class="cm">  P Q : Prop</span>
<span class="cm">  hPQ : P → Q</span>
<span class="cm">  hnQ : ¬Q</span>
<span class="cm">  hP : P</span>
<span class="cm">  ⊢ false</span>
<span class="cm">  -/</span>
  <span class="c1">-- goal is `false` but I am not doing a proof by contradiction!</span>
  <span class="n">apply</span> <span class="n">hnQ</span><span class="o">,</span>
  <span class="c">/-</span><span class="cm"></span>
<span class="cm">  P Q : Prop</span>
<span class="cm">  hPQ : P → Q</span>
<span class="cm">  hnQ : ¬Q</span>
<span class="cm">  hP : P</span>
<span class="cm">  ⊢ Q</span>
<span class="cm">  -/</span>
  <span class="c1">-- goal is no longer `false`!</span>
  <span class="n">apply</span> <span class="n">hPQ</span><span class="o">,</span>
  <span class="n">assumption</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="214110390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110390">(Oct 21 2020 at 20:28)</a>:</h4>
<p>If you are confused about proving false it's probably because you haven't accepted enough that, in those foundations, the <em>definition</em> of "not P" is "P implies false".</p>



<a name="214110391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110391">(Oct 21 2020 at 20:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal/near/214109837">said</a>:</p>
<blockquote>
<p>If you provided a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> we would be able to easily investigate.</p>
</blockquote>
<p>The code above works if you copy paste it into an empty file, I'll try to reduce it.</p>



<a name="214110421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110421">(Oct 21 2020 at 20:28)</a>:</h4>
<p>No it doesn't.</p>



<a name="214110442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110442">(Oct 21 2020 at 20:29)</a>:</h4>
<p>oh</p>



<a name="214110443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110443">(Oct 21 2020 at 20:29)</a>:</h4>
<p>Did you try?</p>



<a name="214110478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110478">(Oct 21 2020 at 20:29)</a>:</h4>
<p>Hint: you have written no <code>import</code> line.</p>



<a name="214110606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110606">(Oct 21 2020 at 20:30)</a>:</h4>
<p>I imported complexes but couldn't get norms to work. I don't know this part of the library. You can check to see if your code runs for other people using just one click nowadays (top right of the code block).</p>



<a name="214110612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110612">(Oct 21 2020 at 20:30)</a>:</h4>
<p>Sorry, there you go :D</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.complex.basic</span>

<span class="kd">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>
<span class="kd">noncomputable theory</span>

<span class="kd">constants</span> <span class="n">f</span> <span class="bp">Δ</span> <span class="o">:</span> <span class="n">ℂ</span> <span class="bp">-&gt;</span> <span class="n">ℂ</span>
<span class="kd">constant</span> <span class="n">z</span> <span class="o">:</span> <span class="n">ℂ</span>
<span class="kd">constant</span> <span class="n">hf2</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">),</span> <span class="bp">Δ</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">hcalc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">hneq</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">z</span><span class="o">),</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span><span class="bp">∥</span> <span class="bp">=</span> <span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span>
  <span class="o">:=</span> <span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hneq</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">hf2</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mul_comm</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">sub_mul</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">has_sub.sub</span> <span class="n">x</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">normed_field.norm_mul</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">mul_comm</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">mul_assoc</span> <span class="o">(</span><span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span><span class="o">)</span> <span class="o">(</span><span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">hneq2</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">ne</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">ne</span> <span class="n">at</span> <span class="n">hneq</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">sub_left_inj</span> <span class="n">ℂ</span> <span class="n">_</span> <span class="n">z</span> <span class="n">x</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">at</span> <span class="n">hneq</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">heq</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq.refl</span> <span class="n">z</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">contr</span><span class="o">,</span> <span class="k">from</span> <span class="o">(</span><span class="n">not_and_self</span> <span class="o">(</span><span class="n">z</span><span class="bp">=</span><span class="n">z</span><span class="o">))</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">and.intro</span> <span class="n">hneq</span> <span class="n">heq</span><span class="o">),</span>
    <span class="n">exact</span> <span class="n">false.elim</span> <span class="n">contr</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="bp">@</span><span class="n">sub_left_inj</span> <span class="n">ℂ</span> <span class="n">_</span> <span class="n">z</span> <span class="n">x</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span>
  <span class="kd">end</span>
</code></pre></div>



<a name="214110679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110679">(Oct 21 2020 at 20:31)</a>:</h4>
<p>Thanks. That's a MWE.</p>



<a name="214110712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110712">(Oct 21 2020 at 20:31)</a>:</h4>
<p>Did you follow the tutorials project to understand negations in Lean?</p>



<a name="214110792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110792">(Oct 21 2020 at 20:32)</a>:</h4>
<p>In particular you can prove your intermediate goal by:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="n">hneq2</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">H</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">hneq</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">eq_of_norm_sub_eq_zero</span> <span class="n">H</span>
</code></pre></div>



<a name="214110838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110838">(Oct 21 2020 at 20:32)</a>:</h4>
<p>Or the sober <code>have hneq2 : ∥x - z∥ ≠ 0 := λ H, hneq (eq_of_norm_sub_eq_zero H),</code></p>



<a name="214110877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110877">(Oct 21 2020 at 20:33)</a>:</h4>
<p>But I think the answer to the question is simply that logic is logic, and sometimes you do get hypotheses and/or goals which are false, but I think the OP somehow thinks that this is more meaningful than it actually is. My example was supposed to be simple case of this, where there is definitely no proof by contradiction, and where at some point the hypotheses are contradictory and the goal is false -- it doesn't have any profound logical meaning.</p>



<a name="214110903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214110903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214110903">(Oct 21 2020 at 20:33)</a>:</h4>
<p>If this looks like black magic then I strongly advise you to follow the tutorials.</p>



<a name="214111153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111153">(Oct 21 2020 at 20:35)</a>:</h4>
<p>Patrick's proof also passes through a temporary state where the goal is false, just like my example.</p>



<a name="214111243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111243">(Oct 21 2020 at 20:35)</a>:</h4>
<p>Sure, but my point is there is no proof by contradiction here, only proofs of negations and use of negation.</p>



<a name="214111279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111279">(Oct 21 2020 at 20:36)</a>:</h4>
<p>Golol, after proving this <code>hneq2</code> I recommend rewriting using <code>mul_inv_cancel</code>.</p>



<a name="214111623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111623">(Oct 21 2020 at 20:38)</a>:</h4>
<p>Then the next step is a crucial formalization trick: your lemma doesn't need the assumption <code>hneq</code>. So, once you'll be done with this proof, get rid of this assumption, adjusting the proof as required (we can give more hints here if needed). Then each time you'll want to <em>apply</em> this lemma, you won't have to check the assumption!</p>



<a name="214111653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111653">(Oct 21 2020 at 20:39)</a>:</h4>
<p>Many of the arguments which mathematicians think are proofs by contradiction are not proofs by contradiction to the constructivists anyway. For example the proof that no rational squared is 2 starts "assume that there's a rational whose square is 2, and proceed by contradiction". But "not P" is the same as "P implies false" in Lean so this is literally a direct proof of the statement. Intermediate goals which are false are fine as long as hypotheses are also contradictory, and this has very little to do with what either you or a constructivist thinks a proof by contradiction is. Any proof involving <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≠</mo></mrow><annotation encoding="application/x-tex">\not=</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> could well have falses flying around at some point.</p>



<a name="214111734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111734">(Oct 21 2020 at 20:39)</a>:</h4>
<p>It's not only about constructivism, it really helps in Lean to have clear ideas about this.</p>



<a name="214111932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214111932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214111932">(Oct 21 2020 at 20:41)</a>:</h4>
<p>Something else: you shouldn't be using <code>constant</code> here. This is not what this keyword is meant to be used for. It works here but this is somehow an accident.</p>



<a name="214112280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112280">(Oct 21 2020 at 20:44)</a>:</h4>
<p>Here you are adding to Lean's axiomatic system the existence of two functions and a complex number satisfying a certain relation, and then prove some consequences of this relation. This is certainly not what you mean. What you presumably mean is that for all pairs of functions and complex number satisfying this relation you get the result of <code>hcalc</code>. So you you can either put those objects in the declaration <code>hcalc</code> or use the keyword <code>variables</code> if you fear you'll have to repeat things in a lot of other lemmas.</p>



<a name="214112389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112389">(Oct 21 2020 at 20:45)</a>:</h4>
<p>Ok so I understand that simply the definition of negation happened here but it happened at a point where I didn't expect it. But there are two things which still confuse me<br>
1) How did I introduce a new subgoal by doing `rw (@sub_left_inj ℂ _ z x z).1 at hneq<br>
2) In the last line my tactic state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">x</span><span class="o">:</span> <span class="n">ℂ</span>
<span class="n">hneq</span><span class="o">:</span> <span class="bp">¬</span><span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
</code></pre></div>

<p>From this it seems like it isn't possible to finish the proof. I just want to have it clear in my mind that this can totally happen if you take the wrong steps in your tactic proof, right? Just like a generalize can make your goal impossible.<br>
The constants were just there to make the example work</p>



<a name="214112535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112535">(Oct 21 2020 at 20:46)</a>:</h4>
<p>You rewrote <code>(blah).1</code> which was of the form <code>A -&gt; (X = Y)</code> so a new goal of A appeared.</p>



<a name="214112551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112551">(Oct 21 2020 at 20:46)</a>:</h4>
<p>yes, if you take the wrong steps in your tactic proof you can end up with something unprovable</p>



<a name="214112614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112614">(Oct 21 2020 at 20:47)</a>:</h4>
<p>e.g. applying <code>exfalso</code> at any point where your hypotheses are not contradictory will make your goal impossible to prove.</p>



<a name="214112632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112632">(Oct 21 2020 at 20:47)</a>:</h4>
<p>unfortunately, you cannot just keep entering random characters until the formula is proved. you have to make intelligent mathematical decisions. this is inconvenient but unavoidable</p>



<a name="214112648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112648">(Oct 21 2020 at 20:47)</a>:</h4>
<p>tactics have consequences. Use them wisely :-)</p>



<a name="214112821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112821">(Oct 21 2020 at 20:49)</a>:</h4>
<p><span class="user-mention" data-user-id="238605">@Kevin Lacker</span> , I don't think it helps to suggest that Golol is entering random characters.</p>



<a name="214112858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112858">(Oct 21 2020 at 20:49)</a>:</h4>
<p>I will brute force the RH proof term and you can not stop me!</p>



<a name="214112923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214112923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214112923">(Oct 21 2020 at 20:50)</a>:</h4>
<p>I think Kevin is just making the general point that when playing this game, if you make random moves then you might get stuck -- it's not like some games where you can always keep going and dig yourself out of a hole</p>



<a name="214113132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113132">(Oct 21 2020 at 20:52)</a>:</h4>
<p>Ok, I investigated the weird new goal.</p>



<a name="214113258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113258">(Oct 21 2020 at 20:53)</a>:</h4>
<p>The issue comes because you try to force the arguments to <code>sub_left_inj</code> and make the wrong choice here (probably by getting the wrong order of arguments). Lean tries to match with the goal anyway but succeeds only if you can prove this crazy goal.</p>



<a name="214113438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113438">(Oct 21 2020 at 20:55)</a>:</h4>
<p>Actually, before that rewrite, try typing <code>have := (@sub_left_inj ℂ _ z x z).1,</code>.</p>



<a name="214113552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113552">(Oct 21 2020 at 20:55)</a>:</h4>
<p>You'll see the term you're trying to use to rewrite is <code>x - z = z - z → x = z</code></p>



<a name="214113633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113633">(Oct 21 2020 at 20:56)</a>:</h4>
<p>So Lean will accept to rewrite <code>x</code> into<code>z</code> but then ask you prove the premise <code>x - z = z - z</code></p>



<a name="214113653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113653">(Oct 21 2020 at 20:56)</a>:</h4>
<p>Ooooh it is the wrong direction. My usb approach of adding a \left if the default direction doesnt work is faulted... <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="214113813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113813">(Oct 21 2020 at 20:57)</a>:</h4>
<p>I see now. Many thanks to everyone for the help!</p>



<a name="214113913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113913">(Oct 21 2020 at 20:58)</a>:</h4>
<p>I am in favor of proving things by entering random characters. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> it doesn't really work with tactics, though, you have to add in backtracking. then it works</p>



<a name="214113962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214113962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214113962">(Oct 21 2020 at 20:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238605">Kevin Lacker</span> <a href="#narrow/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal/near/214113913">said</a>:</p>
<blockquote>
<p>I am in favor of proving things by entering random characters. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>That's the machine learning approach, right? :-)</p>



<a name="214114220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214114220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214114220">(Oct 21 2020 at 21:01)</a>:</h4>
<p>Below I've written a somewhat optimized version. You should look at it when you're happy with how you worked out the exercises (including removing the useless assumption).</p>
<div class="spoiler-block"><div class="spoiler-header">

</div><div class="spoiler-content" aria-hidden="true">

<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">hcalc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">,</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥⁻¹</span> <span class="bp">*</span> <span class="bp">∥</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">z</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">z</span><span class="o">)</span><span class="bp">∥</span> <span class="bp">=</span> <span class="bp">∥Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="bp">∥</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hneq</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">hneq</span><span class="o">]</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">hneq2</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="bp">∥</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">H</span><span class="o">,</span> <span class="n">hneq</span> <span class="o">(</span><span class="n">eq_of_norm_sub_eq_zero</span> <span class="n">H</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">hf2</span><span class="o">,</span> <span class="k">show</span> <span class="bp">Δ</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="bp">Δ</span> <span class="n">z</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="bp">Δ</span> <span class="n">x</span> <span class="bp">-</span> <span class="bp">Δ</span> <span class="n">z</span><span class="o">),</span> <span class="kd">by</span> <span class="n">ring</span><span class="o">,</span>
      <span class="n">normed_field.norm_mul</span><span class="o">,</span> <span class="bp">←</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">inv_mul_cancel</span> <span class="n">hneq2</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>

</div></div>



<a name="214114318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214114318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214114318">(Oct 21 2020 at 21:01)</a>:</h4>
<p>Unironically, I hope that if in the future we have a large database of formal mathematics, machine learning approaches will yield great proof assistants.</p>



<a name="214114485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214114485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214114485">(Oct 21 2020 at 21:03)</a>:</h4>
<p>Many people are working on this dream.</p>



<a name="214114584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214114584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214114584">(Oct 21 2020 at 21:04)</a>:</h4>
<p>yeah I feel like if a human specified the intermediate steps like, you have to split on x = z or x != z, it should be able to fill in the rset</p>



<a name="214114689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/proof%20of%20false%2C%20but%20false%20is%20not%20the%20goal/near/214114689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/proof.20of.20false.2C.20but.20false.20is.20not.20the.20goal.html#214114689">(Oct 21 2020 at 21:05)</a>:</h4>
<p>In this specific case we immediately get to the crucial point that Lean should be much better in calculation, at the level of a computer algebra system (but without the wrong results they sometimes produce...).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>