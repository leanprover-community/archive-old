---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html">need help on simple proof</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="216803393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216803393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216803393">(Nov 15 2020 at 17:26)</a>:</h4>
<p>Hi, I'm having problems figuring out this simple example.  My second subgoal seems to bring me back to what I am trying to prove to begin with, so my argument is circular:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">simplify_or</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span> <span class="bp">→</span> <span class="bp">¬</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">q</span> <span class="o">:=</span>
  <span class="bp">λ</span> <span class="n">hpq</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">hnp</span><span class="o">,</span>
    <span class="n">by_cases</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">hnp</span> <span class="n">hp</span><span class="o">)</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">p</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span>
</code></pre></div>



<a name="216803866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216803866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216803866">(Nov 15 2020 at 17:36)</a>:</h4>
<p>Do you have a paper proof? It seems to me your problems have nothing to with lean here</p>



<a name="216804053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804053">(Nov 15 2020 at 17:39)</a>:</h4>
<p>And I will again assert that in some sense your main problem is that you're not using tactic mode. Did you play through the natural number game yet? There are a bunch of levels like this. My understanding is that your ultimate goal is to do mathematics in Lean. I teach students how to do mathematics in lean and I certainly don't teach them all this assume stuff. Theorem proving in lean, at least the earlier chapters, are written mainly with computer scientists in mind. Those early chapters teach you that a proof is a function, but you don't actually need to know this.</p>



<a name="216804478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804478">(Nov 15 2020 at 17:46)</a>:</h4>
<p>Well I do happen to have a PhD in Computer Science and a long time ago I worked for Dana Scott and later on spent time in Gerard Huet's lab, so in that sense "computer scientists in mind" works for me.   The above is a subgoal of this proof, for a point where I am getting stuck:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">or_distributivity2</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="bp">→</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hl</span><span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">,</span> <span class="k">from</span> <span class="n">h.left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hr</span><span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">,</span> <span class="k">from</span> <span class="n">h.right</span><span class="o">,</span>
    <span class="n">by_cases</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span><span class="o">,</span> <span class="n">or.inl</span> <span class="n">hp</span><span class="o">)</span>
      <span class="o">(</span><span class="k">assume</span> <span class="n">hp</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">p</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span>
</code></pre></div>
<p>where the larger context is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">or_distributivity1</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span> <span class="n">h.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h1</span><span class="o">,</span> <span class="n">or.inl</span> <span class="n">h1</span><span class="o">)</span>
                <span class="o">(</span><span class="bp">λ</span> <span class="n">h2</span><span class="o">,</span> <span class="n">or.inr</span> <span class="n">h2.left</span><span class="o">)</span> <span class="o">,</span>
         <span class="n">h.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h1</span><span class="o">,</span> <span class="n">or.inl</span> <span class="n">h1</span><span class="o">)</span>
                <span class="o">(</span><span class="bp">λ</span> <span class="n">h2</span><span class="o">,</span> <span class="n">or.inr</span> <span class="n">h2.right</span><span class="o">)</span> <span class="o">⟩</span>
</code></pre></div>
<p>and</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">or_distributivity</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span>  <span class="o">⟩</span>
</code></pre></div>
<p>Apparently the direction of <code>or_distributivity2</code> is harder than <code>or_distributivity1</code> because ProofWiki punts on it with the comment <a href="https://proofwiki.org/wiki/Rule_of_Distribution/Disjunction_Distributes_over_Conjunction/Left_Distributive/Formulation_2/Reverse_Implication">This needs considerable tedious hard slog to complete it</a>.</p>
<p>Above it was suggested I explore _ mode which is what I'm doing.  Tactic mode is Chapter 5, I'm not there yet!</p>



<a name="216804507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804507">(Nov 15 2020 at 17:46)</a>:</h4>
<p>I will go try the natural number game now and see if that gives me more intuition.</p>



<a name="216804612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804612">(Nov 15 2020 at 17:48)</a>:</h4>
<p>I know tactic mode (easy mode) is chapter 5 and I know you're not there yet, and what I'm trying to say is that if your ultimate goal is to do probability in lean then it's not clear to me why you are struggling through basic logic proofs in hard mode.</p>



<a name="216804765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804765">(Nov 15 2020 at 17:51)</a>:</h4>
<p>I'm struggling through because I don't know Lean and I am trying to do baby steps before I do something fancy like find a type for probability spaces that lets me generalize the type of probability distribution functions.  Since I am getting stuck on not A and A or B implies B, baby steps seem prudent.</p>



<a name="216804776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804776">(Nov 15 2020 at 17:51)</a>:</h4>
<p>I'm on natural number game now, then I will come back to this when done.</p>



<a name="216804804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804804">(Nov 15 2020 at 17:52)</a>:</h4>
<p>Try the natural number game. Tactic mode makes all this stuff easy.</p>



<a name="216804858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804858">(Nov 15 2020 at 17:52)</a>:</h4>
<p>I'm <a href="https://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/">there now</a>, thank you for your help!</p>



<a name="216804871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804871">(Nov 15 2020 at 17:52)</a>:</h4>
<p>It is also written for beginners but shows you how to do logic puzzles like this in what I believe is a far more intuitive way.</p>



<a name="216804880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216804880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216804880">(Nov 15 2020 at 17:53)</a>:</h4>
<p>Disclaimer: I wrote it ;-)</p>



<a name="216820538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820538">(Nov 15 2020 at 23:24)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , I'm stuck on level 2 of Addition World.  I got to:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">add_assoc</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">zero_add</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">zero_add</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>but this puts me at</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">d</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span>
</code></pre></div>
<p>which seems one <code>succ</code> more complicated than what I was trying to prove to begin with.</p>
<p>I looked at <a href="https://proofwiki.org/wiki/Integer_Addition_is_Associative/Proof_2">ProofWiki</a> and they do something very very fancy which I think would be interesting to do in Lean once I finish the number game tutorial.  It looks like they are doing something with set theory and integer equivalence classes:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Let</span> <span class="bp">𝑥=</span><span class="o">[[</span><span class="bp">𝑎</span><span class="o">,</span><span class="bp">𝑏</span><span class="o">]],</span> <span class="bp">𝑦=</span><span class="o">[[</span><span class="bp">𝑐</span><span class="o">,</span><span class="bp">𝑑</span><span class="o">]]</span> <span class="n">and</span> <span class="bp">𝑧=</span><span class="o">[[</span><span class="bp">𝑒</span><span class="o">,</span><span class="bp">𝑓</span><span class="o">]]</span> <span class="n">for</span> <span class="n">some</span> <span class="bp">𝑥</span><span class="o">,</span><span class="bp">𝑦</span><span class="o">,</span><span class="bp">𝑧∈</span><span class="n">ℤ.</span>

<span class="n">Then</span><span class="o">:</span>

<span class="bp">𝑥+</span><span class="o">(</span><span class="bp">𝑦+𝑧</span><span class="o">)</span> <span class="bp">=</span>               <span class="o">[[</span><span class="bp">𝑎</span><span class="o">,</span><span class="bp">𝑏</span><span class="o">]]</span><span class="bp">+</span><span class="o">([[</span><span class="bp">𝑐</span><span class="o">,</span><span class="bp">𝑑</span><span class="o">]]</span><span class="bp">+</span><span class="o">[[</span><span class="bp">𝑒</span><span class="o">,</span><span class="bp">𝑓</span><span class="o">]])</span>           <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integers</span>
<span class="bp">=</span>               <span class="o">[[</span><span class="bp">𝑎</span><span class="o">,</span><span class="bp">𝑏</span><span class="o">]]</span><span class="bp">+</span><span class="o">[[</span><span class="bp">𝑐+𝑒</span><span class="o">,</span><span class="bp">𝑑+𝑓</span><span class="o">]]</span>         <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integer</span> <span class="n">Addition</span>
<span class="bp">=</span>               <span class="o">[[</span><span class="bp">𝑎+</span><span class="o">(</span><span class="bp">𝑐+𝑒</span><span class="o">),</span><span class="bp">𝑏+</span><span class="o">(</span><span class="bp">𝑑+𝑓</span><span class="o">)]]</span>         <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integer</span> <span class="n">Addition</span>
<span class="bp">=</span>               <span class="o">[[(</span><span class="bp">𝑎+𝑐</span><span class="o">)</span><span class="bp">+𝑒</span><span class="o">,(</span><span class="bp">𝑏+𝑑</span><span class="o">)</span><span class="bp">+𝑓</span><span class="o">]]</span>         <span class="n">Natural</span> <span class="n">Number</span> <span class="n">Addition</span> <span class="n">is</span> <span class="n">Associative</span>
<span class="bp">=</span>               <span class="o">[[</span><span class="bp">𝑎+𝑐</span><span class="o">,</span><span class="bp">𝑏+𝑑</span><span class="o">]]</span><span class="bp">+</span><span class="o">[[</span><span class="bp">𝑒</span><span class="o">,</span><span class="bp">𝑓</span><span class="o">]]</span>         <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integer</span> <span class="n">Addition</span>
<span class="bp">=</span>               <span class="o">([[</span><span class="bp">𝑎</span><span class="o">,</span><span class="bp">𝑏</span><span class="o">]]</span><span class="bp">+</span><span class="o">[[</span><span class="bp">𝑐</span><span class="o">,</span><span class="bp">𝑑</span><span class="o">]])</span><span class="bp">+</span><span class="o">[[</span><span class="bp">𝑒</span><span class="o">,</span><span class="bp">𝑓</span><span class="o">]]</span>           <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integer</span> <span class="n">Addition</span>
<span class="bp">=</span>               <span class="o">(</span><span class="bp">𝑥+𝑦</span><span class="o">)</span><span class="bp">+𝑧</span>         <span class="n">Definition</span> <span class="n">of</span> <span class="n">Integers</span>
</code></pre></div>
<p>Is this representation of integers already in Lean somewhere?  They are using this <a href="https://proofwiki.org/wiki/Definition:Integer/Formal_Definition">extremely complicated construction</a>.</p>



<a name="216820730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820730">(Nov 15 2020 at 23:31)</a>:</h4>
<p>Well, you have the list of things you've proved so far in the frame on the left.</p>



<a name="216820744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820744">(Nov 15 2020 at 23:31)</a>:</h4>
<p>Is there some way to get the expression to be of a form such that one of the lemmas on the left can be used?</p>



<a name="216820797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820797">(Nov 15 2020 at 23:32)</a>:</h4>
<p>I see I could left-rewrite <code>add_succ</code> maybe.</p>



<a name="216820806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820806">(Nov 15 2020 at 23:33)</a>:</h4>
<p>Yes, integers are in Lean. But they are constructed by using the naturals, which is exactly what you're proving things about right now. In any case, one shouldn't need integers to solve this world.</p>



<a name="216820824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820824">(Nov 15 2020 at 23:33)</a>:</h4>
<p>What do you mean by "left-rewrite <code>add_succ</code>"?</p>



<a name="216820868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820868">(Nov 15 2020 at 23:34)</a>:</h4>
<p>I don't see a <code>x + succ y</code> in your goal expression, not a <code>succ (x + y)</code>.</p>



<a name="216820895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820895">(Nov 15 2020 at 23:35)</a>:</h4>
<p>In fact, I don't think there _is_ a way to get the expression you have currently into a form where <code>add_succ</code> will help you, given the theorems you have in your toolset.</p>



<a name="216820900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820900">(Nov 15 2020 at 23:35)</a>:</h4>
<p>Perhaps there was a step in your proof that led you down the wrong path.</p>



<a name="216820976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216820976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216820976">(Nov 15 2020 at 23:37)</a>:</h4>
<p>What I mean by left-rewrite is to use this notation rw ← h but it doesn't really apply because the <code>succ</code> is showing up on the left and not the right.</p>
<p>I will try to start over. </p>
<p>Separately, is the proof wiki complicated construction an interesting exercise to do in Lean?  Where is that coming from?  Why do they do that as opposed to starting with the Peano axioms?</p>



<a name="216821025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821025">(Nov 15 2020 at 23:38)</a>:</h4>
<p>I.e. the Construction of Inverse Completion thing.  It seems rather the long way around, but I'm sure there's some interesting motivation for it.</p>



<a name="216821049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821049">(Nov 15 2020 at 23:39)</a>:</h4>
<p>I don't know anything about proof wiki but I do know that the reason you're stuck is that you didn't follow the hint.</p>



<a name="216821111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821111">(Nov 15 2020 at 23:40)</a>:</h4>
<p>When they say "Definition of Integer Addition", I'm not sure exactly what they mean -- they are distributing the addition into the pairs. Then they say "Natural Number Addition is Associative". That is exactly what you're trying to prove here.</p>



<a name="216821140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821140">(Nov 15 2020 at 23:42)</a>:</h4>
<p>My statement seems tautological, but I guess it is an even stronger hint than the hint in the NNG, since I now checked ProofWiki, and there is a link to the solution. <span aria-label="oh no" class="emoji emoji-1f615" role="img" title="oh no">:oh_no:</span></p>



<a name="216821230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821230">(Nov 15 2020 at 23:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/need.20help.20on.20simple.20proof/near/216820976">said</a>:</p>
<blockquote>
<p>Separately, is the proof wiki complicated construction an interesting exercise to do in Lean?  Where is that coming from?  Why do they do that as opposed to starting with the Peano axioms?</p>
</blockquote>
<p>You linked to a proof of associativity about the <strong>integers</strong> but the Peano axioms are about the <strong>natural numbers</strong>.</p>



<a name="216821290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821290">(Nov 15 2020 at 23:46)</a>:</h4>
<p>Or in handwavy CS lingo, a statement about unbounded <code>int</code> vs unbounded <code>uint</code>.</p>



<a name="216821349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821349">(Nov 15 2020 at 23:48)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110032">@Reid Barton</span>  you're right!  For the Z, as opposed to N, I suppose that Lean does the same construction as <a href="https://proofwiki.org/wiki/Definition:Integer/Formal_Definition">ProofWiki</a>, which is also replicated in <a href="https://en.wikipedia.org/wiki/Integer#Construction">Wikipedia</a>. Is that correct?</p>



<a name="216821371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821371">(Nov 15 2020 at 23:49)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> you're right I followed the hint the wrong way, I applied it to leftmost variable, not rightmost variable.  Thanks!</p>



<a name="216821484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821484">(Nov 15 2020 at 23:52)</a>:</h4>
<p>At this early stage you can manipulate a+0 and a+succ(b) but are less good at things like succ(b)+a so it's really important that you induct on the variable as far to the right as possible. Later on this becomes less of an issue.</p>



<a name="216821491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821491">(Nov 15 2020 at 23:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/need.20help.20on.20simple.20proof/near/216821349">said</a>:</p>
<blockquote>
<p>Thanks <span class="user-mention silent" data-user-id="110032">Reid Barton</span>  you're right!  For the Z, as opposed to N, I suppose that Lean does the same construction as <a href="https://proofwiki.org/wiki/Definition:Integer/Formal_Definition">ProofWiki</a>, which is also replicated in <a href="https://en.wikipedia.org/wiki/Integer#Construction">Wikipedia</a>. Is that correct?</p>
</blockquote>
<p>No. Lean uses a representation of <code>int = nat + nat</code> rather than <code>(nat x nat) / ~</code> where <code>(a, b) ~ (c, d) &lt;-&gt; a + d = b + c</code></p>



<a name="216821536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821536">(Nov 15 2020 at 23:54)</a>:</h4>
<p>That is, in lean an integer is either a number of the form <code>n</code> or <code>-(n+1)</code> where <code>n : nat</code></p>



<a name="216821539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821539">(Nov 15 2020 at 23:54)</a>:</h4>
<p>and all the operations are defined by cases</p>



<a name="216821661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821661">(Nov 15 2020 at 23:58)</a>:</h4>
<p>The quotient construction is avoided because it is less constructive. Metamath would normally use a construction like this using equivalence classes, but in this case it also avoids the construction for <code>int</code> because it brings in usage of the axiom of infinity earlier than necessary (the equivalence classes are infinite sets, so you don't know they exist without the axiom of infinity, even though you are just proving properties about a discrete countable set).</p>



<a name="216821674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821674">(Nov 15 2020 at 23:59)</a>:</h4>
<p>I think Metamath uses the subset of <code>nat x nat</code> of elements which are zero in at least one coordinate, and still kind of works with the equivalence relation as a "reduction" to the canonical elements</p>



<a name="216821910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821910">(Nov 16 2020 at 00:05)</a>:</h4>
<p>Thank <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> for the detail on Z.<br>
<span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> doing the induction on the rightmost variable, I am stuck in a loop again.  This:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">add_assoc</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
 <span class="kd">begin</span>
<span class="n">induction</span> <span class="n">c</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span><span class="n">add_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_succ</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>leaves me with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">a</span> <span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">=</span> <span class="n">succ</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">d</span><span class="o">))</span>
</code></pre></div>
<p>which is what I was trying to prove wrapped with a <code>succ</code>.</p>



<a name="216821957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821957">(Nov 16 2020 at 00:06)</a>:</h4>
<p>yes, but now notice that <code>hd</code> is useful</p>



<a name="216821984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216821984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216821984">(Nov 16 2020 at 00:07)</a>:</h4>
<p>Oh right thank you I should be able to do <code>rw hd</code>.</p>



<a name="216822034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822034">(Nov 16 2020 at 00:08)</a>:</h4>
<p>by the way are you still trying to solve the first question in this thread? The important step is to use <code>or.elim hpq</code></p>



<a name="216822043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822043">(Nov 16 2020 at 00:08)</a>:</h4>
<p>you don't need <code>by_cases</code></p>



<a name="216822111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822111">(Nov 16 2020 at 00:10)</a>:</h4>
<p>Thanks, I will return to that when I am finished the the Natural Number Game.  How do I apply <code>hd</code> as a rewrite rule?  <code>rw hd</code> doesn't work.</p>



<a name="216822115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822115">(Nov 16 2020 at 00:10)</a>:</h4>
<p>it should</p>



<a name="216822118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822118">(Nov 16 2020 at 00:10)</a>:</h4>
<p>You're right, forgot the comma!</p>



<a name="216822122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822122">(Nov 16 2020 at 00:10)</a>:</h4>
<p>we need an emoji for this</p>



<a name="216822133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216822133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216822133">(Nov 16 2020 at 00:11)</a>:</h4>
<p>Proof complete!</p>



<a name="216873088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216873088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216873088">(Nov 16 2020 at 13:54)</a>:</h4>
<p>Hi, I'm getting stuck on this one.  It seems like I should be able to use the inductive hypothesis with substitution of terms, but I don't know how to do that.  This is level 6 of Multiplication World:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">succ_mul</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">zero_mul</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">zero_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">one_eq_succ_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">one_mul</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>I am at</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">there</span> <span class="n">are</span> <span class="n">unsolved</span> <span class="n">goals</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">d</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span>
</code></pre></div>
<p>Intuitively if I replaced the <code>d</code> in <code>hd</code> with <code>succ d</code> I should be done, but I don't know the tactic for that.</p>



<a name="216873512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216873512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216873512">(Nov 16 2020 at 13:57)</a>:</h4>
<p>That isn't how induction works. You need to assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> and prove <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(n+1)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>; you can't just say "well let's replace <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> in the inductive hypothesis and we're done".</p>



<a name="216873518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216873518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216873518">(Nov 16 2020 at 13:58)</a>:</h4>
<p>You can't replace d with succ(d) in an induction proof, or you'd be able to prove everything by induction (think about it: you know P(d), you want to prove P(d+1), so if you could just replace d in the hypothesis P(d) with d+1 then you'd be done). Your problem is that you have still not internalised the hint given on addition world level 2.</p>



<a name="216874025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216874025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216874025">(Nov 16 2020 at 14:01)</a>:</h4>
<p>Put differently, the hypothesis <code>hd</code> in the proof state is something you know about the specific value <code>d</code> in the proof state. If <code>hd</code> was about all <code>d</code> then there would be a <code>∀</code> in it.</p>



<a name="216874488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216874488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216874488">(Nov 16 2020 at 14:05)</a>:</h4>
<p>Does this one need to start with an induction?  Or do the other tactics suffice?  I've been starting proofs with induction as a magic wand.  In this case I don't have any tactics or prior theorems available which would rewrite <code>succ(succ d)</code> or <code>succ (d*b)</code> so I'm stuck.  I've tried induction on  <code>b</code> and <code>a</code> and they both come to this point.</p>



<a name="216874715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216874715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216874715">(Nov 16 2020 at 14:06)</a>:</h4>
<p>Is the addition world level 2 hint "figure out the math proof first"?</p>



<a name="216874853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216874853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216874853">(Nov 16 2020 at 14:07)</a>:</h4>
<p>I guess it's a bit unfair because the key point is the proof structure needs to match the definition of <code>*</code></p>



<a name="216875867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216875867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216875867">(Nov 16 2020 at 14:14)</a>:</h4>
<p>The addition world level 2 hint is that if in doubt, do induction on the rightmost variable because that's the variable you know the most theorems about</p>



<a name="216881735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216881735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216881735">(Nov 16 2020 at 14:58)</a>:</h4>
<p>Following <span class="user-mention" data-user-id="110032">@Reid Barton</span> 's suggestion I did the proof by hand and I'll see if I can translate this with the available tactics:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">succ</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="mi">1</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="n">qed</span>
</code></pre></div>



<a name="216882582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216882582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216882582">(Nov 16 2020 at 15:03)</a>:</h4>
<p>How can I apply <code>one_mul</code> only to the rightmost occurrence of <code>b</code> in <code>(a + 1) * b = a * b + b</code>?</p>



<a name="216883004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216883004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216883004">(Nov 16 2020 at 15:06)</a>:</h4>
<p>That is, with the tactics available, instead of above proof, I want to do something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">succ</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=&gt;</span>
<span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=&gt;</span>
<span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">*</span><span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=&gt;</span>
<span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span><span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span>
</code></pre></div>



<a name="216887123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216887123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216887123">(Nov 16 2020 at 15:34)</a>:</h4>
<p>It doesn't seem that I can restrict application of the tactic to a single term, so if I start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">succ_mul</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">one_mul</span> <span class="n">b</span><span class="o">,</span>
</code></pre></div>
<p>this gives</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">b</span>
</code></pre></div>
<p>I want to "undo" the first two <code>1*b</code> substitutions.  However <code>rw one_mul</code> does 3 applications at once and simulatenously undoes all of them so I get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">b</span>
</code></pre></div>
<p>which undoes the <code>1*b</code> I'm trying to get on the rightmost term in the equation.</p>



<a name="216887307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216887307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216887307">(Nov 16 2020 at 15:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="364351">Lars Ericson</span> <a href="#narrow/stream/113489-new-members/topic/need.20help.20on.20simple.20proof/near/216881735">said</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">+</span> <span class="mi">1</span><span class="bp">*</span><span class="n">b</span>
</code></pre></div>
</blockquote>
<p>Is this left distributivity really a fact that you have available at this point? It looks to me like you are proving a lemma that will be needed to prove distributivity later.</p>



<a name="216889061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216889061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216889061">(Nov 16 2020 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> at this level I have available</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">mul_add</span>
  <span class="o">(</span><span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">b</span>
</code></pre></div>
<p>However now i see this is going in the wrong direction.  I amt rying to rewrite <code>a*b+1*b</code> to <code>(a+1)*b</code> so I actually need a <code>right_mul_add</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">right_mul_add</span>
  <span class="o">(</span><span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="n">t</span> <span class="bp">=</span><span class="n">a</span><span class="bp">*</span><span class="n">t</span><span class="bp">+</span><span class="n">b</span><span class="bp">*</span><span class="n">t</span>
</code></pre></div>
<p>so I guess I should prove that as a subgoal.</p>



<a name="216889588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216889588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216889588">(Nov 16 2020 at 15:51)</a>:</h4>
<p>Well, that's true, except that I don't advise trying to prove it because you will find yourself needing the statement you're currently proving to do so!</p>



<a name="216889621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216889621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216889621">(Nov 16 2020 at 15:51)</a>:</h4>
<p>In fact I expect this statement to show up in a couple levels.</p>



<a name="216891436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216891436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216891436">(Nov 16 2020 at 16:03)</a>:</h4>
<p>I am confused about how often tactics are applied.  Often I need to type in a tactic multiple times to get it applied to more than one place in the equation.  In the above example a single application produced 3 substitutions.   Also the previous level pointed out <code>repeat {rw mul_succ}</code> to explicitly do multiple applications, which implies that otherwise I should only be seeing one application at a time.</p>



<a name="216898659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216898659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216898659">(Nov 16 2020 at 16:51)</a>:</h4>
<p>So <code>rw mul_succ</code> is short for <code>rw mul_succ ?m1 ?m2</code>, so lean tries to find the first occurrence of <code>?m1 * succ (?m2)</code>; when it finds such an occurrence, it fills in actual values for ?m1 and ?m2, for example with <code>x</code> and <code>y</code>. Then it replaces all cases of <code>x * succ (y)</code>, but not any cases with other values for ?m1 and ?m2</p>



<a name="216898788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216898788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216898788">(Nov 16 2020 at 16:52)</a>:</h4>
<p>Did that make sense?</p>



<a name="216901369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216901369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216901369">(Nov 16 2020 at 17:10)</a>:</h4>
<p>Yes <span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span> thanks, what you are saying is that if <code>E</code> is the equation, it unifies <code>?m1 * succ (?m2)</code> with some subterm of  <code>E</code>.   Then (in Pythonish terms) it replaces <code>E</code> with <code>E.replace('{m1}*succ({m2}', '{m1}*{m2}+{m1}') </code>, where the replace will apply to all concrete matches.</p>



<a name="216908780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216908780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216908780">(Nov 16 2020 at 18:05)</a>:</h4>
<p>So finally QED but steep learning curve for me:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_assoc</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_assoc</span> <span class="n">d</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_assoc</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">d</span><span class="o">),</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_assoc</span> <span class="n">a</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_comm</span> <span class="n">a</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>



<a name="216909233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216909233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216909233">(Nov 16 2020 at 18:08)</a>:</h4>
<p>Actually finally I can take the easy way out:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">simp</span><span class="o">,</span>
</code></pre></div>



<a name="216911095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216911095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216911095">(Nov 16 2020 at 18:23)</a>:</h4>
<p>I did quite  a bad job of making <code>simp</code> do what it is capable of, because when I made the game last year I didn't really know much at all about rewriting systems.</p>



<a name="216918013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216918013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216918013">(Nov 16 2020 at 19:17)</a>:</h4>
<p>I finished all levels of Multiplication World (check marks on every level), but when I go to Main Page it is still blue, not green.</p>



<a name="216918101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216918101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216918101">(Nov 16 2020 at 19:17)</a>:</h4>
<p>I'm afraid that part of the story was not the bit I did :-) But you can just go to any level, you can just ignore the blue/green thing.</p>



<a name="216923604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216923604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216923604">(Nov 16 2020 at 20:02)</a>:</h4>
<p>I'm in level 6/8 of Power world and it is telling us to look at an invocation in level 9 of Multiplication World, namely</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">attribute</span> <span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="n">mul_assoc</span> <span class="n">mul_comm</span> <span class="n">mul_left_comm</span>
</code></pre></div>
<p>However it doesn't like this to be used inside a proof, and the GUI only allows typing into the proof.</p>



<a name="216924587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216924587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216924587">(Nov 16 2020 at 20:09)</a>:</h4>
<p>The magic incantation has been whispered, you don't need to whisper it yourself.</p>



<a name="216924703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216924703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216924703">(Nov 16 2020 at 20:10)</a>:</h4>
<p>In fact, it has to be whispered outside of the proof itself. What it means is that <code>mul_assoc</code>, <code>mul_comm</code>, <code>mul_left_comm</code> are now part of the <code>simp</code> set.</p>



<a name="216924786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216924786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216924786">(Nov 16 2020 at 20:10)</a>:</h4>
<p>And you can just write <code>simp</code> to take care of any steps that you'd before need to rely on those lemmas. That's what the actual end of the MulWorld 9 info indicates:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(((</span><span class="n">a</span><span class="bp">*</span><span class="n">b</span><span class="o">)</span><span class="bp">*</span><span class="n">c</span><span class="o">)</span><span class="bp">*</span><span class="n">d</span><span class="o">)</span><span class="bp">*</span><span class="n">e</span><span class="bp">=</span><span class="o">(</span><span class="n">c</span><span class="bp">*</span><span class="o">((</span><span class="n">b</span><span class="bp">*</span><span class="n">e</span><span class="o">)</span><span class="bp">*</span><span class="n">a</span><span class="o">))</span><span class="bp">*</span><span class="n">d</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216924792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216924792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216924792">(Nov 16 2020 at 20:10)</a>:</h4>
<p>if you want to do that inside a proof, you would use <code>simp [mul_assoc, mul_comm, mul_left_comm]</code> instead of <code>simp</code>, but the magic incantation means that the latter means the same as the former</p>



<a name="216935568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216935568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216935568">(Nov 16 2020 at 21:34)</a>:</h4>
<p>Thanks, I got there for <code>mul_pow</code>, it works as <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> mentioned it has already been whispered:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">rw</span> <span class="n">pow_zero</span><span class="o">},</span>
<span class="n">rw</span> <span class="n">mul_one</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span><span class="n">rw</span> <span class="n">pow_succ</span><span class="o">},</span>
<span class="n">rw</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">simp</span><span class="o">,</span>
</code></pre></div>



<a name="216936317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216936317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216936317">(Nov 16 2020 at 21:40)</a>:</h4>
<p>Just curious, I am on 7 of Power world.  I found myself doing this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_zero</span><span class="o">,</span>
</code></pre></div>
<p>I tried to shortcut the 3 <code>rw</code>s with this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">simp</span> <span class="o">[</span><span class="n">pow_zero</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">],</span>
</code></pre></div>
<p>It didn't work, giving me the result</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kd">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="bp">?</span><span class="n">m_1</span> <span class="bp">^</span> <span class="mi">0</span>
</code></pre></div>
<p>So when would <code>simp [x,y,z]</code> work for tactics x,y,z?</p>



<a name="216937068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216937068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216937068">(Nov 16 2020 at 21:46)</a>:</h4>
<p>that doesn't look like an error <code>simp</code> would give</p>



<a name="216937115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216937115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216937115">(Nov 16 2020 at 21:47)</a>:</h4>
<p><code>simp</code> doesn't take tactics, it takes lemmas</p>



<a name="216937587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216937587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216937587">(Nov 16 2020 at 21:51)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> you're right, it actually eliminated the top inductive goal.  So I can shorten this proof a little:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_zero</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_one</span><span class="o">,</span>
<span class="n">simp</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_add</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">simp</span> <span class="o">[</span><span class="n">pow_zero</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">],</span>
<span class="n">rw</span> <span class="n">pow_succ</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">mul_one</span><span class="o">,</span>
<span class="n">simp</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">pow_add</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>



<a name="216965319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216965319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216965319">(Nov 17 2020 at 04:22)</a>:</h4>
<p>I'm stuck on Advanced Proposition Level 8.  I have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">and_or_distrib_left</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">Q</span> <span class="bp">∨</span> <span class="n">R</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">P</span> <span class="bp">∧</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
 <span class="n">split</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">split</span><span class="o">,</span>
<span class="k">have</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">h.left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">p</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">p</span> <span class="n">qORr</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">qORr</span> <span class="k">with</span> <span class="n">q</span> <span class="n">r</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">q</span><span class="o">,</span>
</code></pre></div>
<p>This gets me to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">or.inr</span>
<span class="n">P</span> <span class="n">Q</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="n">P</span><span class="o">,</span>
<span class="n">r</span> <span class="o">:</span> <span class="n">R</span>
<span class="bp">⊢</span> <span class="n">Q</span>

<span class="n">P</span> <span class="n">Q</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="bp">⊢</span> <span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span> <span class="bp">∨</span> <span class="n">P</span> <span class="bp">∧</span> <span class="n">R</span> <span class="bp">→</span> <span class="n">P</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">Q</span> <span class="bp">∨</span> <span class="n">R</span><span class="o">)</span>
</code></pre></div>
<p>The first goal seems to be a dead end, I have no way of proving <code>Q</code>.</p>
<p>I've tried a couple of different paths and I still end at this point.</p>



<a name="216965685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216965685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216965685">(Nov 17 2020 at 04:31)</a>:</h4>
<p>Try holding off on using <code>left</code> until later.</p>



<a name="216966270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216966270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216966270">(Nov 17 2020 at 04:45)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>  I got it:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">split</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="k">have</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">h.left</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hqr</span> <span class="o">:=</span> <span class="n">h.right</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">hqr</span> <span class="k">with</span> <span class="n">q</span> <span class="n">r</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">split</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">p</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">q</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">split</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">p</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">r</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">split</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">pq</span> <span class="n">qr</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">pq.left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">qr.left</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">pq</span> <span class="n">qr</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">pq.right</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">qr.right</span><span class="o">,</span>
</code></pre></div>
<p>However that doesn't seem nearly as compact as the term mode proof <a href="https://github.com/leanprover-community/mathlib/blob/b588fc4c4eaf77031ad82b5712bef458389e92b9/src/logic/basic.lean#L383">here</a>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">⟨</span><span class="bp">λ</span> <span class="o">⟨</span><span class="n">ha</span><span class="o">,</span> <span class="n">hbc</span><span class="o">⟩,</span> <span class="n">hbc.imp</span> <span class="o">(</span><span class="n">and.intro</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">and.intro</span> <span class="n">ha</span><span class="o">),</span> <span class="n">or.rec</span> <span class="o">(</span><span class="n">and.imp_right</span> <span class="n">or.inl</span><span class="o">)</span> <span class="o">(</span><span class="n">and.imp_right</span> <span class="n">or.inr</span><span class="o">)⟩</span>
</code></pre></div>
<p>I know term mode is more terse but still based on this compactness I wonder if there is something redundant in my proof.</p>



<a name="216967739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216967739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216967739">(Nov 17 2020 at 05:23)</a>:</h4>
<p>Here's a proof that avoids any mathlib lemmas like <code>imp_right</code>, just relies on a more powerful tactic that combines intro with cases. You can get it to generate the right pattern using <code>rintro?</code> and then rename the auto-generated names.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.basic</span>

<span class="kd">lemma</span> <span class="n">and_or_distrib_left'</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="n">R</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">Q</span> <span class="bp">∨</span> <span class="n">R</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">P</span> <span class="bp">∧</span> <span class="n">Q</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">P</span> <span class="bp">∧</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">q</span> <span class="bp">|</span> <span class="n">r</span><span class="o">⟩,</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">q</span><span class="o">⟩</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">r</span><span class="o">⟩</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="o">(⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">q</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">r</span><span class="o">⟩),</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">or.inl</span> <span class="n">q</span><span class="o">⟩</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">or.inr</span> <span class="n">r</span><span class="o">⟩</span> <span class="o">}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="216967789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/216967789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#216967789">(Nov 17 2020 at 05:24)</a>:</h4>
<p><code>rintro</code> is able to handle conjunctions and disjunctions.</p>



<a name="217012753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217012753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217012753">(Nov 17 2020 at 14:55)</a>:</h4>
<p>I am starting Advanced Addition world.  The context is a little confusing.  I first assume that we are trying to prove <code>succ_inj</code>.  Then I see in bottom left that it is an axiom and that we are trying to prove <code>succ_inj'</code> which just seems to be a restatement of <code>succ_inj</code>.  A few questions:</p>
<ol>
<li>
<p>I notice it elsewhere in the Lean sources, that if there is a <code>foo</code> there may also be a <code>foo'</code>.  What does the convention of using <code>'</code> after a name tell the reader?</p>
</li>
<li>
<p>I can do this in one step with <code>cc</code>. </p>
</li>
<li>
<p>Without <code>cc</code> I don't know how to get started.   I tried this path, but it doesn't leave me in a situation where I can apply <code>succ_inj</code>:</p>
</li>
</ol>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">succ_inj'</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">succ</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">succ</span><span class="o">(</span><span class="n">b</span><span class="o">))</span> <span class="o">:</span>  <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">e</span> <span class="n">he</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>leaves me in state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">e</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">he</span> <span class="o">:</span> <span class="n">succ</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">e</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">e</span><span class="o">,</span>
<span class="n">hs</span> <span class="o">:</span> <span class="n">succ</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">e</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">e</span>

<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">hs</span> <span class="o">:</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">d</span><span class="o">)</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>



<a name="217013915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217013915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moses Schönfinkel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217013915">(Nov 17 2020 at 15:03)</a>:</h4>
<p>If you just want to continue this way,  then looking at the goal, surely <code>hs</code> is contradictory. <code>s 0 = s $ s e</code> would imply <code>0 = s e</code> but <code>zero</code> and <code>s</code> are different constructors. <code>cases hs</code> will likely be your best friend.</p>



<a name="217014085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217014085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217014085">(Nov 17 2020 at 15:04)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110027">@Moses Schönfinkel</span> , I just figure it out by lookin at <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Using.20.60rw.60.html">another post</a> that gives the syntax to apply the axiom:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_inj</span> <span class="n">hs</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>This is more enlightening than just doing <code>cc</code>.  I am still curious about the <code>foo'</code> confusion.  What is the <code>'</code> used to signify?</p>



<a name="217014302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217014302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moses Schönfinkel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217014302">(Nov 17 2020 at 15:06)</a>:</h4>
<p>It's used fluidly, often indicating it's an "alternative" version of an already existing lemma / restatement with different argument order, etc.</p>



<a name="217019785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217019785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217019785">(Nov 17 2020 at 15:45)</a>:</h4>
<p>That <code>'</code> in succ_inj'<code> means nothing more than "this is quite like </code>succ_inj` but not quite the same".</p>



<a name="217021842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217021842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217021842">(Nov 17 2020 at 16:00)</a>:</h4>
<p>I'm on Advanced Addition Level 2/13.  I'm confused about  a comment in the text "remember that <code>rw</code> should not be used with <code>succ_inj</code> -- rw works only with equalities or ↔ statements, not implications or functions" .  But this is exactly what I did above for level 1:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_inj</span> <span class="n">hs</span><span class="o">,</span>
</code></pre></div>



<a name="217022015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217022015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217022015">(Nov 17 2020 at 16:01)</a>:</h4>
<p>I'm trying to warn readers away from a mistake I saw constantly in beta testing, which was that if <code>h : P -&gt; Q</code> then people would constantly try to <code>rw h</code> to turn P into Q (either in a hypothesis or a goal). You didn't <code>rw succ_inj</code> though, you rewrote <code>succ_inj hs</code>, which <em>is</em> an equality rather than an implication.</p>



<a name="217022258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217022258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217022258">(Nov 17 2020 at 16:03)</a>:</h4>
<p>As you no doubt realise by now, an implication in Lean is a function: <code>h : P -&gt; Q</code> can be thought of as a function from proofs of <code>P</code> to proofs of <code>Q</code>.  You can't <code>rw h</code> usually, but if you feed <code>h</code> a proof of <code>P</code> (e.g. <code>hs</code>) then it spits out a proof of <code>Q</code>, and if <code>Q</code> is an equality, it can be rewritten.</p>



<a name="217027620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217027620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217027620">(Nov 17 2020 at 16:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> for Advanced Addition level 5, I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">add_right_cancel</span> <span class="o">(</span><span class="n">a</span> <span class="n">t</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">t</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_zero</span> <span class="n">at</span> <span class="n">h</span> <span class="o">},</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_succ</span> <span class="n">at</span> <span class="n">h</span> <span class="o">},</span>
</code></pre></div>
<p>the state is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">a</span> <span class="n">b</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">succ</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span> <span class="bp">=</span> <span class="n">succ</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">d</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>I want to apply <code>succ_inj</code> to rewrite the hypothesis <code>h</code>.  It is an implication, not an equality.  How do I apply an implication on a hypothesis?</p>
<p>Note: I can finish the proof with <code>cc</code> but that is magic. I want to apply <code>succ_inj</code> to simplify <code>h</code> and then <code>apply hd h</code> to finish.</p>
<p>So something like this but this doesn't work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">apply</span> <span class="n">hd</span> <span class="o">(</span><span class="n">rw</span> <span class="n">succ_inj</span> <span class="n">at</span> <span class="n">h</span><span class="o">),</span>
</code></pre></div>



<a name="217029112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029112">(Nov 17 2020 at 16:46)</a>:</h4>
<p><code>succ_inj</code> is a function, so you can just do something like <code>have h2 := succ_inj h,</code></p>



<a name="217029361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029361">(Nov 17 2020 at 16:48)</a>:</h4>
<p>Alternatively you could write the proof backwards with <code>apply hd</code> and then <code>apply succ_inj</code>. Mathematicians are trained to write forwards, but this results in the state getting clogged up with one-used-then-forgotten hypotheses. In Lean it's sometimes easier to work on the goal rather than defining new things.</p>



<a name="217029422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029422">(Nov 17 2020 at 16:49)</a>:</h4>
<p>Probably <code>exact hd (succ_inj h)</code> would work. <code>hd</code> is a function too.</p>



<a name="217029496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029496">(Nov 17 2020 at 16:49)</a>:</h4>
<p>Thanks with your first hint I did it like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">t</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_zero</span> <span class="n">at</span> <span class="n">h</span> <span class="o">},</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_succ</span> <span class="n">at</span> <span class="n">h</span> <span class="o">},</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">succ_inj</span> <span class="n">h</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">hd</span> <span class="n">h2</span><span class="o">,</span>
</code></pre></div>



<a name="217029609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029609">(Nov 17 2020 at 16:50)</a>:</h4>
<p>Probably even <code>exact hd h2</code> would work, because <code>hd h2</code> is exactly a proof of the goal. <code>apply h</code> is used when <code>h : P -&gt; Q</code> and the goal is <code>Q</code>, to turn the goal to <code>P</code>.</p>



<a name="217029666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217029666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217029666">(Nov 17 2020 at 16:50)</a>:</h4>
<p>However it's a very smart tactic and sometimes works outside this situation :-)</p>



<a name="217030423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217030423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217030423">(Nov 17 2020 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  I am on to Advanced Addition level 6.  I think I just figured out how to put Lean in an infinite loop, as follows:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">add_left_cancel</span> <span class="o">(</span><span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h</span> <span class="o">},</span>
</code></pre></div>
<p>where the state before the <code>repeat</code> is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>I want to rewrite <code>h:t+a=t+b</code> to <code>h:a+t=b+t</code>.  I can only do half of this.  I don't know how to get it to apply to the right hand side. The following doesn't work, only the first one works, on the left:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h.right</span><span class="o">,</span>
</code></pre></div>



<a name="217031495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217031495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217031495">(Nov 17 2020 at 17:03)</a>:</h4>
<p>Yes, it is possible to put computers in infinite loops. Try <code>rw add_comm t b at h</code>, that will explicitly change t+b into b+t and not change anything else into anything.</p>



<a name="217031624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217031624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217031624">(Nov 17 2020 at 17:04)</a>:</h4>
<p><code>add_comm</code> is a function too. It takes as input two numbers x and y, and returns a proof of <code>x+y=y+x</code>.</p>



<a name="217031845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217031845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217031845">(Nov 17 2020 at 17:06)</a>:</h4>
<p><code>rw</code> is a clever tactic. If you try <code>rw add_comm</code> Lean will think "the user didn't tell me which numbers, so I will just look through the goal until I find something add something, and assume they meant that".</p>



<a name="217036260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217036260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217036260">(Nov 17 2020 at 17:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> on the looping I was curious whether <code>repeat</code> automatically detected repetitive reasoning chains as a heuristic in the internals.  I.e. a cycle where it is clear that a sequence of states is repeating in an observable way which computably indicates non-termination.  So I guess the answer is No for <code>repeat</code>.  Not that there's anything wrong with that, I was just curious.</p>
<p>So I've moved a long a little bit further:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">add_left_cancel</span> <span class="o">(</span><span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span><span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span><span class="n">rw</span> <span class="n">add_comm</span> <span class="n">t</span> <span class="n">b</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span><span class="n">rw</span> <span class="n">add_right_cancel</span> <span class="n">h</span> <span class="n">at</span> <span class="n">h</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_comm</span> <span class="n">t</span> <span class="n">b</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>The state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>I want to do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">add_right_cancel</span> <span class="n">h</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>to turn <code>a+t=b+t</code> into <code>a=b</code>, but it is not matching:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">add_right_cancel</span> <span class="n">h</span>
<span class="n">term</span>
  <span class="n">h</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">mynat</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>Or this, but this also doesn't work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>giving</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">add_right_cancel</span> <span class="n">h</span>
<span class="n">term</span>
  <span class="n">h</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">mynat</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>How do I apply this correctly?</p>
<p>P.S. I accidentally found a back door going the other way, but I'm still interested in why I can't apply <code>add_right_cancel</code> directly to rewrite <code>h</code>.  Here is the back door:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="n">a</span> <span class="n">t</span> <span class="n">b</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="217041622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217041622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217041622">(Nov 17 2020 at 18:18)</a>:</h4>
<p>You can read the error message. The errors are saying "you're giving me h but I don't want h yet"</p>



<a name="217041659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217041659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217041659">(Nov 17 2020 at 18:19)</a>:</h4>
<p>"I want a, t and b first"</p>



<a name="217043036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217043036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217043036">(Nov 17 2020 at 18:29)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> .  I am on level 7 now.  I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">add_right_cancel_iff</span> <span class="o">(</span><span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span>  <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">split</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="n">a</span> <span class="n">t</span> <span class="n">b</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>My state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">t</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">t</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">t</span>
</code></pre></div>
<p>I guess I need to turn <code>h:a=b</code> into <code>h:a+t=b+t</code>.  This is what I'm trying to prove though.  Do I need an induction step here?</p>
<p>NOTE: I can finish with <code>cc</code> but as before that is less explainable.</p>



<a name="217043612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217043612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217043612">(Nov 17 2020 at 18:33)</a>:</h4>
<p>Looks like <code>rw h</code> would do this?</p>



<a name="217044819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217044819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217044819">(Nov 17 2020 at 18:41)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="127136">@Alex J. Best</span>  I figured it out:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">split</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="n">a</span> <span class="n">t</span> <span class="n">b</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">t</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">repeat</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">add_zero</span> <span class="o">},</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">h</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
</code></pre></div>



<a name="217045905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217045905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217045905">(Nov 17 2020 at 18:51)</a>:</h4>
<p>I've got another right-hand-side of hypothesis rewrite question, for Advanced Addition level 8.  I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>My state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>I want to apply <code>rw ← add_zero a at h,</code> only to the right-hand side of <code>h</code>, so I can get <code>h: a+b=a+0</code>.  However, I'm getting <code>h:a+0+b=a+0</code>.  Is there a way to restrict the rewrite to only the right hand side occurrence of  <code>a</code>?</p>
<p>EDIT: Never mind, I figured it out, but it's not as compact as being able to point to the right hand side of <code>h</code> only:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_zero</span> <span class="n">a</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_assoc</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">zero_add</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="217046565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217046565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217046565">(Nov 17 2020 at 18:56)</a>:</h4>
<p>There is a way to do this but I don't know whether it works in the natural number game.</p>



<a name="217047122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217047122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217047122">(Nov 17 2020 at 19:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>  I am now here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_zero</span> <span class="n">a</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_assoc</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">zero_add</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>My state is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="mi">0</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>I want to do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">add_left_cancel</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>to rewrite <code>h</code> to <code>b=0</code>.  How do I do that?  <code>rw add_left_cancel at h,</code> doesn't work.</p>
<p>EDIT: Never mind, I got it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">apply</span> <span class="n">add_left_cancel</span> <span class="n">a</span> <span class="n">b</span> <span class="mi">0</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="217072609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217072609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217072609">(Nov 17 2020 at 22:32)</a>:</h4>
<p>I'm just finished Inequality 1.  A few notes:</p>
<ol>
<li>
<p><code>ring</code> is mentioned but isn't listed in the Tactics menu that I can see.  <code>use 1, ring,</code> makes a nice short proof.  On the other hand <code>tauto</code> and <code>revert</code> are there but I don't recall any example where those were suggested or necessary.  I've done every example of every preceding level up to this point.</p>
</li>
<li>
<p>On all the levels, there is a big lag between 'no goals left' and 'Proof complete'.  What's happening that I'm waiting for? It's a small point but I don't think it marks the level complete until it prints the 'Proof complete'.</p>
</li>
</ol>



<a name="217075688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217075688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217075688">(Nov 17 2020 at 23:05)</a>:</h4>
<p>The game is laggy because it's running a hacked together Javascript version of a supercomplicated C++ program all within a web browser. It's a miracle it works at all. Lean has a ton of tactics and rather than disable all the ones I've not mentioned I just left them in but didn't always import them, so random tactics may or may not work.</p>



<a name="217080524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217080524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217080524">(Nov 18 2020 at 00:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> it's great, thanks for putting this together!   I'm almost done.  I'm on level 5 of Inequailty World.  I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_trans</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hbc</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">c</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">c</span> <span class="o">:=</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">hab</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">hbc</span><span class="o">,</span>
</code></pre></div>
<p>I'm doing these rewrites so I can think more clearly about the system of equations that results.  That leaves me in this state:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hab</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span><span class="o">,</span>
<span class="n">hbc</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c_1</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c_1</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c_1</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">c</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c_1</span>
</code></pre></div>
<p>Now I would like to do a replacement for <code>c</code> in the goal.  I try this, and it doesn't work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">hbc</span><span class="o">,</span>
</code></pre></div>
<p>This also doesn't work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="bp">←</span> <span class="n">hbc</span>
</code></pre></div>
<p>What should I really be doing at this point?  The other approach I'm looking at is to start with an 8-case induction:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">e</span> <span class="n">he</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">c</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
</code></pre></div>



<a name="217090001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217090001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217090001">(Nov 18 2020 at 02:40)</a>:</h4>
<p>Ii would greatly appreciate help on level 6 of Inequality.  I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hba</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
   <span class="n">cases</span> <span class="n">hab</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
   <span class="n">cases</span> <span class="n">hba</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
   <span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">e</span> <span class="n">he</span><span class="o">,</span>
   <span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
   <span class="n">refl</span><span class="o">,</span>
   <span class="n">exfalso</span><span class="o">,</span>
   <span class="n">rw</span> <span class="n">succ_add</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
   <span class="n">exact</span> <span class="o">(</span><span class="n">zero_ne_succ</span> <span class="o">(</span><span class="n">f</span><span class="bp">+</span><span class="n">d</span><span class="o">)</span> <span class="n">hd</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>
<p>This leaves me in state:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">he</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">e</span> <span class="bp">+</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">e</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">→</span> <span class="n">e</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">hc</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">e</span> <span class="bp">+</span> <span class="n">c</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">e</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">d</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">e</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>
<p>I want to pick <code>d=0</code> earlier on but <code>cases hba with d hd</code> doesn't allow me to create the equivalent of a <code>use 0</code>.  How do I get a <code>use 0</code> into the picture so that I can simplify <code>hd</code> to <code>succ e = b</code>?</p>



<a name="217090520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217090520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217090520">(Nov 18 2020 at 02:50)</a>:</h4>
<p>Well if you did cases on your <code>hab</code> to make a <code>b = a + c</code>, and then <code>hba</code> to get <code>a = b + d</code>, why would you do induction on <code>a</code> or <code>b</code>? You can induct directly on <code>c</code> or <code>d</code>.</p>



<a name="217090538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217090538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217090538">(Nov 18 2020 at 02:51)</a>:</h4>
<p>You can use the new equalities you've generated directly to <code>rw</code> in the other.</p>



<a name="217094886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217094886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217094886">(Nov 18 2020 at 04:19)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  that takes me all the way!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_antisymm</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">hab</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hba</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">cases</span> <span class="n">hab</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">hba</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">c</span> <span class="k">with</span> <span class="n">e</span> <span class="n">he</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">d</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">refl</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">he</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hc</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_assoc</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_succ</span> <span class="n">at</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_add</span> <span class="n">e</span> <span class="n">d</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">exfalso</span><span class="o">,</span>
<span class="n">symmetry</span> <span class="n">at</span> <span class="n">hd</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="n">hd</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span>
<span class="kd">end</span>
</code></pre></div>



<a name="217191350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217191350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217191350">(Nov 18 2020 at 20:21)</a>:</h4>
<p>Hi I'm stuck on Level 8.  I think I'm going in circles, any hints would be greatly appreciated.  I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">succ_le_succ</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">e</span> <span class="n">he</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">le_refl</span><span class="o">(</span><span class="n">succ</span> <span class="mi">0</span><span class="o">),</span>
<span class="n">exact</span> <span class="n">hp</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">zero_le</span><span class="o">(</span><span class="n">e</span><span class="o">),</span>
<span class="k">have</span> <span class="n">hp1</span> <span class="o">:=</span> <span class="n">he</span><span class="o">(</span><span class="n">hp</span><span class="o">),</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">le_succ</span> <span class="o">(</span><span class="n">succ</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">succ</span> <span class="n">e</span><span class="o">)</span> <span class="n">hp1</span><span class="o">),</span>
<span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">f</span> <span class="n">hf</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">d</span> <span class="k">with</span> <span class="n">g</span> <span class="n">hg</span><span class="o">,</span>
<span class="n">exfalso</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">one_eq_succ_zero</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">zero_le</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:=</span> <span class="n">le_antisymm</span> <span class="mi">0</span> <span class="mi">1</span> <span class="n">h2</span> <span class="n">h</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">one_eq_succ_zero</span> <span class="n">at</span> <span class="n">h3</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">ne_succ_self</span> <span class="mi">0</span> <span class="n">h3</span><span class="o">,</span>
<span class="n">exfalso</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h4</span> <span class="o">:=</span> <span class="n">zero_le</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">g</span><span class="o">)),</span>
<span class="k">have</span> <span class="n">h5</span> <span class="o">:=</span> <span class="n">le_antisymm</span> <span class="mi">0</span> <span class="o">(</span><span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">g</span><span class="o">))</span> <span class="n">h4</span> <span class="n">h</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_ne_succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">g</span><span class="o">)</span> <span class="n">h5</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>
<p>This leaves me in state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">d</span> <span class="n">f</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hd</span> <span class="o">:</span> <span class="n">d</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">f</span> <span class="bp">→</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">f</span><span class="o">),</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">d</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">d</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">f</span><span class="o">)</span>
</code></pre></div>
<p>which is right back to what I am supposed to prove to begin with, plus a <code>succ</code>.  Where am I going wrong?</p>



<a name="217192192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217192192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217192192">(Nov 18 2020 at 20:27)</a>:</h4>
<p>You don't actually need induction here. \le is defined in the game as the existence of a <code>c</code> that you add to <code>a</code> to get <code>b</code>. What's the relation between the <code>c</code>'s for the \le in the hypothesis and the goal?</p>



<a name="217193579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217193579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217193579">(Nov 18 2020 at 20:39)</a>:</h4>
<p>Lars, your preference to employ induction makes you prove things you've already proven before. Through the worlds, you've proven and made accessible an API about <code>le</code>. Now all you need to do is use it.</p>



<a name="217193649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217193649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217193649">(Nov 18 2020 at 20:40)</a>:</h4>
<p>That is, what does it mean for <code>a &lt;= b</code>?</p>



<a name="217206287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217206287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217206287">(Nov 18 2020 at 22:35)</a>:</h4>
<p><span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span>  and <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> starting new this way, I am having problems applying rules in presence of existential quantifiers.  For example if I start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">succ_le_succ</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>my state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>If I then try to rewrite the goal from <code>succ a + c </code> to <code>succ (a+c)</code> using</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_add</span> <span class="n">a</span> <span class="n">c</span><span class="o">,</span>
</code></pre></div>
<p>I get the error </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">unknown</span> <span class="n">identifier</span> <span class="sc">'c'</span>
</code></pre></div>
<p>Similarly if I try to rewrite the hypothesis <code>b=a+c</code> as <code>succ b = succ(a+c)</code> using</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">succ_eq_succ_of_eq</span> <span class="n">b</span> <span class="o">(</span><span class="n">a</span><span class="bp">+</span><span class="n">c</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>
<p>I also get <code>unknown identifier 'c'</code>.  If I try to do just</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">use</span> <span class="n">c</span><span class="o">,</span>
</code></pre></div>
<p>it also complains <code>failed to instantiate goal with c</code>.  It also doesn't really help in the sense that what I need to do is a <code>use c</code> of some sort on the hypothesis </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">h</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>That is, I don't know how to either apply a rewrite rule to an existentially quantified hypothesis and I don't know how to get rid of the quantifier.  Which is why I was trying induction because it seemed like my only way to get rid of a quantifier.</p>
<p>I have the <code>cases</code> tactic but that seems to be syntactic sugar for induction.  I really want to be able to apply <code>succ_eq_succ_of_eq</code> inside quantified expressions.  Is there a way to do that?</p>
<p>Sorry I am getting really lost here.</p>



<a name="217206370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217206370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217206370">(Nov 18 2020 at 22:36)</a>:</h4>
<p>There is no <code>c</code>. <code>h : ∃ (c : mynat), b = a + c</code> is the same as <code>h : ∃ (w : mynat), b = a + w</code>. You need to extract the natural from <code>h</code> using <code>cases</code>.</p>



<a name="217206979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217206979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217206979">(Nov 18 2020 at 22:42)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, I see now that the starting pattern I need, to be able to apply a rule like <code>succ_eq_succ_of_eq</code>, is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="217207060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207060">(Nov 18 2020 at 22:43)</a>:</h4>
<p>In the NNG, you don't even need to do the first <code>rw</code>, you can just <code>cases h with c hc</code> if you want.</p>



<a name="217207106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207106">(Nov 18 2020 at 22:43)</a>:</h4>
<p>"Give me the <code>c : mynat</code> such that <code>hc : b = a + c</code>"</p>



<a name="217207196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207196">(Nov 18 2020 at 22:44)</a>:</h4>
<p>Ooh I discourage use of definitional equalities like that in NNG. But it is true :-)</p>



<a name="217207264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207264">(Nov 18 2020 at 22:45)</a>:</h4>
<p>You could make <code>le</code> irreducible if you want to block that</p>



<a name="217207352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207352">(Nov 18 2020 at 22:46)</a>:</h4>
<p>then you could just write <code>rw le at h</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="217207375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207375">(Nov 18 2020 at 22:46)</a>:</h4>
<p>that's still using the lemma though</p>



<a name="217207440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207440">(Nov 18 2020 at 22:47)</a>:</h4>
<p>you could also give it a really obscure definition, filter all the operations through an opaque typeclass, or axiomatize everything</p>



<a name="217207630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217207630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217207630">(Nov 18 2020 at 22:49)</a>:</h4>
<p>I think you can also break <code>rw le</code> if you remove the equation lemma or add the definition by tactics so it doesn't have one</p>



<a name="217208145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217208145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217208145">(Nov 18 2020 at 22:55)</a>:</h4>
<p>Alas I am still on the edge but not there.  If I do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">succ_le_succ</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">succ_eq_succ_of_eq</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">succ_add</span> <span class="n">a</span> <span class="n">c</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>then I get to state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hc</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span><span class="o">,</span>
<span class="n">hp</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">b</span>
</code></pre></div>
<p>My <code>hp</code> seems to be the fact I'm  looking for, but it's not in the form of an inequality.  If I say</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">exact</span> <span class="n">hp</span>
</code></pre></div>
<p>it says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="n">type</span> <span class="n">ascription</span><span class="o">,</span> <span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">succ</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">succ</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">b</span>
</code></pre></div>
<p>On the other hand if I say</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">hp</span>
</code></pre></div>
<p>I get to state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hc</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span><span class="o">,</span>
<span class="n">hp</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>but it still refuses to match <code>hp</code> with the goal.  This is really hard.</p>



<a name="217208541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217208541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217208541">(Nov 18 2020 at 22:59)</a>:</h4>
<p>Have you used <code>use</code> in any level?</p>



<a name="217208683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217208683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217208683">(Nov 18 2020 at 23:01)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  that got me over the line</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">succ_eq_succ_of_eq</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">succ_add</span> <span class="n">a</span> <span class="n">c</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">use</span> <span class="n">c</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">hp</span><span class="o">,</span>
</code></pre></div>



<a name="217208792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217208792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217208792">(Nov 18 2020 at 23:02)</a>:</h4>
<p>Abusing the definitional equalities that Kevin is trying to avoid:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">use</span> <span class="n">c</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_add</span><span class="o">,</span>
<span class="n">refl</span>
</code></pre></div>



<a name="217211302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217211302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217211302">(Nov 18 2020 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  nice!  The <code>cases h with c hc</code> is declaring a <code>c</code> which is now available for <code>use c</code> which is quietly "seeing" the existential quantifier in <code>⊢ succ a ≤ succ b</code> and then eliminating it without it ever being displayed.  I will try to remember that.  The quantifier is there hiding behind the <code>≤</code>.  If I remember the pattern then I don't have to bring it out to reason about it.  There's a lot to keep in mind.</p>



<a name="217211471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217211471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217211471">(Nov 18 2020 at 23:35)</a>:</h4>
<p>But as Kevin said, it's not polite to access the existential behind the <code>le</code> definition the way I did it. So you could do </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">h</span> <span class="bp">⊢</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">use</span> <span class="n">c</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_add</span><span class="o">,</span>
<span class="n">refl</span>
</code></pre></div>
<p>and that is more polite.</p>



<a name="217215417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217215417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217215417">(Nov 19 2020 at 00:24)</a>:</h4>
<p>Hi I'm on level 9 of Inequality World.  The goal is <code>⊢ a ≤ b ∨ b ≤ a</code>.  I see that as an application of the Law of the Excluded Middle, which was not discussed in Proposition World or Advanced Proposition World.   This would be more clear if the goal was  <br>
<code>⊢ a ≤ b ∨ b &lt; a</code><br>
which seems to be equivalent, because  <br>
<code>⊢ a ≤ b ∨ b ≤ a</code><br>
 is really saying  <br>
<code>⊢ a &lt;b ∨ a=b ∨ b&lt;a ∨ a=b</code><br>
 which is saying<br>
<code> ⊢ a ≤ b ∨ b &lt; a</code><br>
when you take out the extra <code>a=b</code>, and that is really<br>
<code> ⊢ a ≤ b ∨ ¬ (a ≤ b)</code></p>
<p>How can I apply Law of Excluded Middle in this example?  Is it necessary?  I clearly can't operate on each goal individually because <code>a ≤ b</code> and <code>b ≤ a</code> do not stand on their own, they are connected by Law of Excluded Middle.   Just saying <code>left</code> or <code>right</code> gives me unprovable statements.  There isn't any other discussion in Natural Number Game of how to deal with what might be called a "mutually dependent disjunction".</p>



<a name="217217787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217217787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217217787">(Nov 19 2020 at 01:00)</a>:</h4>
<p>You can use <code>cases</code> on excluded middle to reason separately about the two branches</p>



<a name="217218865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217218865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217218865">(Nov 19 2020 at 01:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <code>cases</code> works on a hypothesis.  My opening state is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span>
</code></pre></div>
<p>so there is no hypothesis. I can't invoke <code>cases</code> in this context.  I need to do an <code>induction</code> first but in a previous problem I was suggested to skip the induction.   In this case it seems like I can't.</p>



<a name="217218927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217218927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217218927">(Nov 19 2020 at 01:16)</a>:</h4>
<p>cases works on an expression. <code>cases (em (a &lt;= b))</code> will case on whether a &lt;= b is true or false</p>



<a name="217218951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217218951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217218951">(Nov 19 2020 at 01:17)</a>:</h4>
<p>you can also use <code>have</code> and then <code>cases</code> if you want a hypothesis:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="o">:=</span> <span class="n">em</span> <span class="o">(</span><span class="n">a</span> <span class="bp">&lt;=</span> <span class="n">b</span><span class="o">),</span>
<span class="n">cases</span> <span class="n">this</span>
</code></pre></div>



<a name="217218976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217218976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217218976">(Nov 19 2020 at 01:17)</a>:</h4>
<p>I don't have <code>em</code> yet.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Goals</span>
<span class="n">Messages</span>
<span class="mi">14</span><span class="o">:</span><span class="mi">7</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span>
<span class="n">unknown</span> <span class="n">identifier</span> <span class="bp">'</span><span class="n">em'</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span>
</code></pre></div>



<a name="217219024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219024">(Nov 19 2020 at 01:18)</a>:</h4>
<p>trying <code>cases (em (a ≤ b)),</code></p>



<a name="217219040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219040">(Nov 19 2020 at 01:18)</a>:</h4>
<p>You said that EM comes up in this proof? What does the description call the theorem?</p>



<a name="217219048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219048">(Nov 19 2020 at 01:18)</a>:</h4>
<p>the lean name is <code>classical.em</code>, so that probably works regardless</p>



<a name="217219061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219061">(Nov 19 2020 at 01:19)</a>:</h4>
<p>but NNG changes some things and it would have been reasonable to open <code>classical</code> for this theorem</p>



<a name="217219064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219064">(Nov 19 2020 at 01:19)</a>:</h4>
<p>It only comes up in the sense that I look at "a ≤ b ∨ b ≤ a" and it intuitively looks like a 1-step application of excluded middle.</p>



<a name="217219079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219079">(Nov 19 2020 at 01:19)</a>:</h4>
<p>NNG doesn't talk about excluded middle at all which makes me think I am going at this wrong.</p>



<a name="217219080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219080">(Nov 19 2020 at 01:19)</a>:</h4>
<p>It is also true that you can prove this without EM by induction</p>



<a name="217219130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219130">(Nov 19 2020 at 01:20)</a>:</h4>
<p>you do induction on <code>a</code> generalizing <code>b</code></p>



<a name="217219146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219146">(Nov 19 2020 at 01:20)</a>:</h4>
<p>and then try to prove <code>a &lt;= b \/ b &lt;= a -&gt; succ a &lt;= succ b \/ succ b &lt;= succ a</code></p>



<a name="217219156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219156">(Nov 19 2020 at 01:21)</a>:</h4>
<p>with special cases when either <code>a</code> or <code>b</code> is 0</p>



<a name="217219159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219159">(Nov 19 2020 at 01:21)</a>:</h4>
<p>It let me do the cases in this form</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="o">(</span><span class="n">classical.em</span> <span class="o">(</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">))</span>
</code></pre></div>



<a name="217219172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219172">(Nov 19 2020 at 01:21)</a>:</h4>
<p>I think that will get me done, it looks easy from there.</p>



<a name="217219227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219227">(Nov 19 2020 at 01:22)</a>:</h4>
<p>If you go at it that way, you will want to prove that <code>not (a &lt;= b) -&gt; b &lt;= a</code>, which might not be as easy as you think</p>



<a name="217219269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219269">(Nov 19 2020 at 01:23)</a>:</h4>
<p>depending on what theorems you have proven so far</p>



<a name="217219281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219281">(Nov 19 2020 at 01:23)</a>:</h4>
<p>In this section of NNG  it would be helpful for other students to introduce <code>classical.em</code>.</p>
<p>It's giving me these two goals:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">2</span> <span class="n">goals</span>
<span class="n">case</span> <span class="n">or.inl</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span>

<span class="n">case</span> <span class="n">or.inr</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span>
</code></pre></div>
<p>The first one looks immediate and the other one could get interesting.</p>



<a name="217219296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219296">(Nov 19 2020 at 01:23)</a>:</h4>
<p>that's right</p>



<a name="217219392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219392">(Nov 19 2020 at 01:25)</a>:</h4>
<p>NNG doesn't really hide much of the tactic framework from you. I can give you tips equivalent to skipping a dozen levels accidentally <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="217219393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217219393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217219393">(Nov 19 2020 at 01:25)</a>:</h4>
<p>Thanks for the help I think it looks do-able.</p>



<a name="217221578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217221578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217221578">(Nov 19 2020 at 02:03)</a>:</h4>
<p>I am getting <a href="https://github.com/ImperialCollegeLondon/natural_number_game/issues/65">this error which was supposed to be fixed</a> in Inequality World 9.  I would rather convert <code>¬a ≤ b</code> to implication than carry the negation around which ends up outside of existential quantifiers which becomes confusing.</p>



<a name="217221652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217221652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217221652">(Nov 19 2020 at 02:04)</a>:</h4>
<p>That is, <code>not_iff_imp_false</code> is not directly available.</p>



<a name="217222384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222384">(Nov 19 2020 at 02:19)</a>:</h4>
<p>you can use <code>unfold not</code> instead</p>



<a name="217222474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222474">(Nov 19 2020 at 02:21)</a>:</h4>
<p>but mostly I would suggest getting used to it as a logical connective</p>



<a name="217222487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222487">(Nov 19 2020 at 02:21)</a>:</h4>
<p>Without being able to get rid of negation, I am stuck.  I can get rid of ≤, but then I've got negative existential quantifiers.  I am doing this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">cases</span> <span class="o">(</span><span class="n">classical.em</span><span class="o">(</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)),</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>which brings me to state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="bp">¬∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>I don't know how to deal with this.  Any advice would be greatly appreciated.</p>



<a name="217222547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222547">(Nov 19 2020 at 02:22)</a>:</h4>
<p>that's what I meant earlier: <br>
<span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/need.20help.20on.20simple.20proof/near/217219227">said</a>:</p>
<blockquote>
<p>If you go at it that way, you will want to prove that <code>not (a &lt;= b) -&gt; b &lt;= a</code>, which might not be as easy as you think</p>
</blockquote>



<a name="217222558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222558">(Nov 19 2020 at 02:22)</a>:</h4>
<p>Yes so I am out of ideas.  Let me try the <code>unfold not</code>.</p>



<a name="217222577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222577">(Nov 19 2020 at 02:23)</a>:</h4>
<p>The induction idea is probably a better path</p>



<a name="217222579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222579">(Nov 19 2020 at 02:23)</a>:</h4>
<p>ultimately, you need to prove that le is a total order, and pure logical manipulation isn't going to get you far because it's not true that all partial orders are total</p>



<a name="217222601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222601">(Nov 19 2020 at 02:24)</a>:</h4>
<p>OK so induction and arithmetic relationships.</p>



<a name="217222657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222657">(Nov 19 2020 at 02:24)</a>:</h4>
<p>I don't think you need properties of +, you probably have everything you need about le already</p>



<a name="217222675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222675">(Nov 19 2020 at 02:25)</a>:</h4>
<p>you just need to know that 0 &lt;= n and a &lt;= b -&gt; succ a &lt;= succ b</p>



<a name="217222765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217222765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217222765">(Nov 19 2020 at 02:27)</a>:</h4>
<p>Yes because this path:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="o">(</span><span class="n">classical.em</span><span class="o">(</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)),</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
</code></pre></div>
<p>brings me to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span>
</code></pre></div>
<p>which is equivalent to <code>a ≤ b ∨ b ≤ a</code>, so that's just a round trip.</p>



<a name="217223219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217223219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217223219">(Nov 19 2020 at 02:35)</a>:</h4>
<p>right</p>



<a name="217223251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217223251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217223251">(Nov 19 2020 at 02:35)</a>:</h4>
<p>em is a tautology, so it's not going to take you anywhere logically different from the goal</p>



<a name="217224187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217224187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217224187">(Nov 19 2020 at 02:52)</a>:</h4>
<p>From this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">a</span><span class="o">),</span>
<span class="n">cases</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">le_succ</span> <span class="n">a</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">hp</span><span class="o">,</span>
</code></pre></div>
<p>it leaves me having to prove</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">a</span> <span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">hc</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">≤</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">c</span> <span class="bp">∨</span> <span class="n">succ</span> <span class="n">c</span> <span class="bp">≤</span> <span class="n">a</span>
</code></pre></div>
<p>In my head I can reason that either <code>c&lt;a</code> or <code>c=a</code>.  If <code>c=a</code> then <code>a ≤ succ c=succ a</code>.  If <code>c&lt;a</code> then either <code>succ c=a</code> or <code>succ c &lt; a</code>.   I'm not quite sure how to get the mechanics of that done in Lean.  If I do </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">b</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">a</span><span class="o">),</span>
<span class="n">cases</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hp</span> <span class="o">:=</span> <span class="n">le_succ</span> <span class="n">a</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">hp</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">hc</span> <span class="k">with</span> <span class="n">d</span> <span class="n">h2</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">h2</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
</code></pre></div>
<p>then I am in state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h2</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">+</span> <span class="n">d</span>
<span class="bp">⊢</span> <span class="n">c</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">≤</span> <span class="n">c</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="n">c</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">c</span> <span class="bp">+</span> <span class="n">d</span>
</code></pre></div>
<p>This seems like it should reduce to <code>⊢ d ≤ 1 ∨ 1 ≤  d</code>.  I don't have the equivalent of <code>add_left_cancel</code> for inequalities so I have to get rid of the inequalities at this point.  Then I have a univariate form of the original goal.  I should be able to do induction on the univariate form to finish.  I hope that doesn't result in another round trip.</p>



<a name="217224218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217224218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217224218">(Nov 19 2020 at 02:53)</a>:</h4>
<p>Have you learned how to generalize variables in an induction?</p>



<a name="217224268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217224268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217224268">(Nov 19 2020 at 02:54)</a>:</h4>
<p>for this theorem you want to do induction on <code>a</code> generalizing <code>b</code></p>



<a name="217224377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217224377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217224377">(Nov 19 2020 at 02:56)</a>:</h4>
<p>you want your goal to look like <code>succ a &lt;= succ b \/ succ b &lt;= succ a</code></p>



<a name="217224385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217224385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217224385">(Nov 19 2020 at 02:56)</a>:</h4>
<p>after the induction and cases</p>



<a name="217225919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217225919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217225919">(Nov 19 2020 at 03:28)</a>:</h4>
<p>I am trying it but it introduces a <code>∀</code> quantifier, not discussed up to this point.  I start with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">induction</span> <span class="n">a</span> <span class="n">generalizing</span> <span class="n">b</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">b</span><span class="o">),</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">p</span> <span class="n">q</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a_n</span><span class="o">)),</span>
<span class="kd">end</span>
</code></pre></div>
<p>leading to state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">a_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">a_ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a_n</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="n">mynat</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">p</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">a_n</span>
</code></pre></div>
<p>I don't know how to work with the disjunction <code>a_ih</code>.  The left disjunct leads to proof.  The right disjunct does not.</p>



<a name="217325640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217325640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217325640">(Nov 19 2020 at 20:24)</a>:</h4>
<p>So I have to think of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
</code></pre></div>
<p>as saying</p>
<p><strong>Theorem.</strong> For all a,b in N, either</p>
<ul>
<li>TA. a=b</li>
<li>TB. Exists z &gt; 0. a = b + z</li>
<li>TC. Exists z &gt; 0. b = a + z</li>
</ul>
<p><strong>Proof.</strong></p>
<p>By induction on a</p>
<p>Base Case: a=0<br>
   0 = b =&gt; a = b (TA)<br>
  a != b = b = a+ b (TC)</p>
<p>Inductive Step:<br>
Assume a &gt; 0, show s(a).</p>
<p>Case. a=b</p>
<p>s(a) = s(b) = b+z so s(a) = b+z for z=q (TB)</p>
<p>Case. a = b + z<br>
s(a) = s(b+z) = b + s(z) (TB)</p>
<p>Case b = a + z</p>
<p>Subcase z=1</p>
<p>s(x) = y (TB)</p>
<p>Subcase z != 1 and Exists v != 0 : z = s(v)</p>
<p>b = a+s(v) = s(a) + v (TC)</p>
<p>QED</p>
<p>Still a lot of mental machinery to translate that into Lean but it's closer to looking automatable.</p>



<a name="217326828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217326828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217326828">(Nov 19 2020 at 20:34)</a>:</h4>
<p>The proof I am leading you towards doesn't need any of that</p>



<a name="217326909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217326909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217326909">(Nov 19 2020 at 20:35)</a>:</h4>
<p>you need to <code>cases b</code> not <code>cases a_ih</code>. The point is to separate into the case <code>0</code> and <code>succ b</code> so that your goal is <code>succ a &lt;= succ b \/ succ b &lt;= succ a</code></p>



<a name="217327046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217327046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217327046">(Nov 19 2020 at 20:36)</a>:</h4>
<p>The proofwiki version is proving <code>a &lt; b \/ a = b \/ b &lt; a</code> instead of <code>a &lt;= b \/ b &lt;= a</code> and it is doing it with a different definition of <code>&lt;</code></p>



<a name="217329052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217329052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217329052">(Nov 19 2020 at 20:55)</a>:</h4>
<p>There are two proofs that I've worked out, one that uses <code>induction ... generalizing ...</code> which is the simplest one and the one that Mario is referring to. There is another one that does not need <code>generalizing</code> that has you prove some other things along the way like <code>le_succ_self</code>.</p>



<a name="217330300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217330300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217330300">(Nov 19 2020 at 21:06)</a>:</h4>
<p>The above proof is from Franz Lemmermeyer at Bilkent University in Turkey, not from Proofwiki but from his course notes: <a href="http://www.fen.bilkent.edu.tr/~franz/nt/ch1.pdf">http://www.fen.bilkent.edu.tr/~franz/nt/ch1.pdf</a></p>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span>   I follow your lead.  Lemmermeyer's proof may give me some guidance  on how to work the inductive step.</p>



<a name="217331410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331410">(Nov 19 2020 at 21:16)</a>:</h4>
<p>Now I am here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="n">induction</span> <span class="n">a</span> <span class="n">generalizing</span> <span class="n">b</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">b</span><span class="o">),</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">hp</span> <span class="n">hq</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a_n</span><span class="o">)),</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">use</span> <span class="mi">0</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>which brings me to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">a_ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a_n</span><span class="o">,</span>
<span class="n">hp</span> <span class="o">:</span> <span class="n">mynat</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">hp</span>
</code></pre></div>
<p>How do I instantiate the universal quantifier with <code>succ hp</code> in place of <code>b</code> to get something I can work on further?</p>



<a name="217331748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331748">(Nov 19 2020 at 21:19)</a>:</h4>
<p><code>have := a_ih (succ hp)</code></p>



<a name="217331818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331818">(Nov 19 2020 at 21:20)</a>:</h4>
<p>although <code>hp</code> is a weird name for a nat</p>



<a name="217331877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331877">(Nov 19 2020 at 21:20)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I'm getting used to the syntax for cases I didn't realize I was naming variables.</p>



<a name="217331896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331896">(Nov 19 2020 at 21:20)</a>:</h4>
<p>I will fix it.</p>



<a name="217331997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217331997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217331997">(Nov 19 2020 at 21:21)</a>:</h4>
<p>I prefer <code>obtain</code>'s syntax, which should also be available in NNG: <code>obtain _ | b := b</code></p>



<a name="217332092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217332092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217332092">(Nov 19 2020 at 21:22)</a>:</h4>
<p>I don't think <code>hq</code> names anything there</p>



<a name="217332183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217332183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217332183">(Nov 19 2020 at 21:23)</a>:</h4>
<p>alternatively, <code>rcases b with _ | b</code> looks a bit more like <code>cases</code></p>



<a name="217332369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217332369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217332369">(Nov 19 2020 at 21:24)</a>:</h4>
<p>Now I'm here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">a</span> <span class="n">generalizing</span> <span class="n">b</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="n">b</span><span class="o">),</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">e</span> <span class="n">f</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_le</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a_n</span><span class="o">)),</span>
<span class="k">have</span> <span class="n">h1</span> <span class="o">:=</span> <span class="n">a_ih</span> <span class="n">e</span><span class="o">,</span>
</code></pre></div>
<p>with state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="n">a_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">a_ih</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a_n</span><span class="o">,</span>
<span class="n">e</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">h1</span> <span class="o">:</span> <span class="n">a_n</span> <span class="bp">≤</span> <span class="n">e</span> <span class="bp">∨</span> <span class="n">e</span> <span class="bp">≤</span> <span class="n">a_n</span>
<span class="bp">⊢</span> <span class="n">succ</span> <span class="n">e</span> <span class="bp">≤</span> <span class="n">succ</span> <span class="n">a_n</span>
</code></pre></div>
<p>I think I am busted again because right of <code>h1</code> proves the goal but left of <code>h1</code> does not.</p>



<a name="217332430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217332430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217332430">(Nov 19 2020 at 21:24)</a>:</h4>
<p>maybe don't use right so early</p>



<a name="217332521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217332521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217332521">(Nov 19 2020 at 21:25)</a>:</h4>
<p>otherwise this is looking good</p>



<a name="217338559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217338559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217338559">(Nov 19 2020 at 22:16)</a>:</h4>
<p>Yeah, <code>left</code> and <code>right</code> are unsafe tactics - they can transform a provable goal into an unprovable one</p>



<a name="217353734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217353734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217353734">(Nov 20 2020 at 01:57)</a>:</h4>
<p><span class="user-mention" data-user-id="364351">@Lars Ericson</span> Expanding on Mario's point, from my experience, the safest thing to do when trying to prove a disjunction is often to try to perform case analysis on existing hypotheses as far as possible before attempting to do <code>left</code>/<code>right</code> on the goal, since this leaves you with more flexibility with which side to prove later on.</p>



<a name="217355512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217355512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217355512">(Nov 20 2020 at 02:36)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="314358">@Donald Sebastian Leung</span> .  This snippet of proof from Lemmermeyer is a pretty clear guide to what I should be driving Lean to do.  Lean's goal summary on the right hand panel, the notation, maps very closely into the proof's notation:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Inductive</span> <span class="n">Step</span><span class="o">:</span>
<span class="n">Assume</span> <span class="n">a</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">show</span> <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span><span class="bp">.</span>
 <span class="n">Case.</span> <span class="n">a</span><span class="bp">=</span><span class="n">b</span>
         <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">s</span><span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">+</span><span class="n">z</span> <span class="n">so</span> <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="bp">+</span><span class="n">z</span> <span class="n">for</span> <span class="n">z</span><span class="bp">=</span><span class="n">q</span>
 <span class="n">Case.</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">z</span>
        <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">s</span><span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">s</span><span class="o">(</span><span class="n">z</span><span class="o">)</span>
 <span class="n">Case</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">z</span>
       <span class="n">Subcase</span> <span class="n">z</span><span class="bp">=</span><span class="mi">1</span>
             <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
     <span class="n">Subcase</span> <span class="n">z</span> <span class="bp">!=</span> <span class="mi">1</span> <span class="n">and</span> <span class="n">Exists</span> <span class="n">v</span> <span class="bp">!=</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">s</span><span class="o">(</span><span class="n">v</span><span class="o">)</span>
            <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span><span class="bp">+</span><span class="n">s</span><span class="o">(</span><span class="n">v</span><span class="o">)</span> <span class="bp">=</span> <span class="n">s</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">+</span> <span class="n">v</span>
</code></pre></div>
<p>There is a lot to learn about the tactics and their application.   I can clearly see from the proof state whether the tactics I apply are taking  the state in the direction of the above proof snippet or not, so I think I'm pretty close now.</p>



<a name="217357804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217357804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217357804">(Nov 20 2020 at 03:27)</a>:</h4>
<p>I'm telling you it's a lot easier than that</p>



<a name="217357809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217357809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217357809">(Nov 20 2020 at 03:27)</a>:</h4>
<p>that's not the same theorem anyway</p>



<a name="217359438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217359438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217359438">(Nov 20 2020 at 04:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what is the material difference between</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
</code></pre></div>
<p>and</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Theorem.</span> <span class="n">For</span> <span class="n">any</span> <span class="n">a</span><span class="o">,</span><span class="n">b</span> <span class="k">in</span> <span class="n">N</span><span class="o">,</span> <span class="k">then</span> <span class="n">exactly</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">is</span> <span class="n">true</span><span class="o">:</span>
<span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="n">a</span><span class="bp">=</span><span class="n">b</span><span class="o">,</span>
<span class="o">(</span><span class="n">ii</span><span class="o">)</span> <span class="n">a</span><span class="bp">=</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span> <span class="n">for</span> <span class="n">c</span> <span class="bp">&gt;</span><span class="mi">0</span><span class="o">,</span>
<span class="o">(</span><span class="n">iii</span><span class="o">)</span> <span class="n">b</span><span class="bp">=</span><span class="n">a</span><span class="bp">+</span><span class="n">c</span> <span class="n">for</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="bp">.</span>
</code></pre></div>
<p>given </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">le_iff_exists_add</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span>
    <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">↔</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>They seem to describe exactly the same situation.</p>



<a name="217359619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217359619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217359619">(Nov 20 2020 at 04:02)</a>:</h4>
<p>They are both true of course, but they logically have very distinct forms. (The "exactly one of these three" makes the second one even more different, but I will ignore that.) If we use the iff statement you have identified, the actual translation will be something more like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Theorem.</span> <span class="n">For</span> <span class="n">any</span> <span class="n">a</span><span class="o">,</span><span class="n">b</span> <span class="k">in</span> <span class="n">N</span><span class="o">,</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">is</span> <span class="n">true</span><span class="o">:</span>
<span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="n">a</span><span class="bp">=</span><span class="n">b</span><span class="bp">+</span><span class="n">c</span> <span class="n">for</span> <span class="n">some</span> <span class="n">c</span> <span class="bp">&gt;=</span> <span class="mi">0</span><span class="o">,</span>
<span class="o">(</span><span class="n">ii</span><span class="o">)</span> <span class="n">b</span><span class="bp">=</span><span class="n">a</span><span class="bp">+</span><span class="n">c</span> <span class="n">for</span> <span class="n">some</span> <span class="n">c</span> <span class="bp">&gt;=</span> <span class="mi">0</span><span class="bp">.</span>
</code></pre></div>



<a name="217359713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217359713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217359713">(Nov 20 2020 at 04:04)</a>:</h4>
<p>While it is useful to ignore minor differences in formulation to an extent, it makes a big difference to how to go about proving a theorem so you shouldn't overdo it. At the extreme, all of these theorems just look equivalent to "true" so it provides no help on how to go about proving them</p>



<a name="217359887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217359887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217359887">(Nov 20 2020 at 04:08)</a>:</h4>
<p>In this case, the biggest difference with the inductive proof I'm suggesting is that it doesn't use <code>le_of_exists_add</code> at all; so you never need any theorems about <code>+</code></p>



<a name="217361043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217361043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217361043">(Nov 20 2020 at 04:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I am starting to develop a better sense of the "state of the proof engine" and how various rules move that state. </p>
<p>While in one sense all provable theorems just look equivalent to true, what I was trying to say about the <code>le_total</code> versus the Lemmerman formulation is this:  If <code>le_total</code> or <code>Lemmerman</code> was the only thing you knew about <code>N</code>, is there anything that you could prove knowing the one that you could not prove knowing the other, or are the sets of provable statements exactly the same?  So that's more than saying <code>true iff true</code>.</p>
<p>In that sense, the two statements looked equivalent to me.  One of the suggestions above was to always write down the proof before trying to do it in Lean.  Lemmerman gave me a proof of an equivalent statement.  Under the hood, the text says that <code>a ≤ b</code> is really just syntactic sugar for <code>∃ (c : mynat), b = a + c</code>.  Although it may not be the shortest path, the Lemmerman proof gives a say of thinking about induction on the successor operation.</p>
<p>I'm still struggling with it and I greatly appreciate your suggestions, I'm just trying to explain why I looked at this -- basically because I was looking for any and all written proofs that would give me a guide, and after quite a lot of Googling, this was the only satisfying, directly related proof that I came across.</p>



<a name="217361215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217361215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217361215">(Nov 20 2020 at 04:33)</a>:</h4>
<blockquote>
<p>While in one sense all provable theorems just look equivalent to true, what I was trying to say about the le_total versus the Lemmerman formulation is this: If le_total or Lemmerman was the only thing you knew about N, is there anything that you could prove knowing the one that you could not prove knowing the other, or are the sets of provable statements exactly the same? So that's more than saying true iff true.</p>
</blockquote>
<p>The thing is, in a formal proof setting (well more generally in mathematics but you sense this especially in a formal setting), the set of things you "know" is constantly changing, and with it your sense of "equivalent" also changes. So things can be not equivalent at the beginning of a file and become equivalent by the end. Plus there is a cost metric associated with the equivalence, the amount of proof work that would be needed to go from A to B. When you find a random proof off the internet the set of previously proved facts will be different and with it the costs will be off; so an optimal proof in that setting may not be an optimal proof in your setting.</p>



<a name="217361311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217361311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217361311">(Nov 20 2020 at 04:35)</a>:</h4>
<p>Generally, if you want to follow a book you should stick with it for a whole sequence of proofs, so that the set of facts available to you matches up well with the set of facts available to the book. In your case NNG picks the theorems and the order, so you should try to find a proof that leverages recently proven theorems</p>



<a name="217361606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217361606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217361606">(Nov 20 2020 at 04:40)</a>:</h4>
<p>I don't have NNG, but here's a plain lean proof of the theorem in a way that should translate well to NNG:</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">nat.le_total'</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">a</span> <span class="n">IH</span> <span class="n">generalizing</span> <span class="n">b</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">left</span><span class="o">,</span> <span class="n">apply</span> <span class="n">zero_le</span> <span class="o">},</span>
  <span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">b</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span> <span class="n">apply</span> <span class="n">zero_le</span> <span class="o">},</span>
  <span class="n">cases</span> <span class="n">IH</span> <span class="n">b</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">left</span><span class="o">,</span> <span class="n">exact</span> <span class="n">nat.succ_le_succ</span> <span class="n">h</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span> <span class="n">exact</span> <span class="n">nat.succ_le_succ</span> <span class="n">h</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="217408858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217408858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217408858">(Nov 20 2020 at 14:41)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>NNG proof with induction generalizing</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>induction a with a ha generalizing b,<br>
{ exact or.inl (zero_le _) },<br>
{ cases b,<br>
  { exact or.inr (zero_le _) },<br>
  { cases ha b with h h,<br>
    { exact or.inl (succ_le_succ _ _ h) },<br>
    { exact or.inr (succ_le_succ _ _ h) } } }</p>
</div></div>



<a name="217408976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217408976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217408976">(Nov 20 2020 at 14:42)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>NNG proof with induction, no generalizing, uses underlying addition</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>induction a with a ha,<br>
{ exact or.inl (zero_le _) },<br>
{ cases ha with hab hba,<br>
  { rw le_iff_exists_add a b at hab,<br>
    cases hab with c hc,<br>
    rw hc,<br>
    cases c,<br>
    { rw add_zero,<br>
      exact or.inr (le_succ _ _ (le_refl _)) },<br>
    { left,<br>
      rw le_iff_exists_add,<br>
      use c,<br>
      rw add_succ,<br>
      rw succ_add,<br>
      refl } },<br>
  { rw le_iff_exists_add b a at hba,<br>
    cases hba with c hc,<br>
    rw hc,<br>
    cases c,<br>
    { rw add_zero,<br>
      exact or.inr (le_succ _ _ (le_refl _)) },<br>
    { right,<br>
      rw le_iff_exists_add,<br>
      use succ (succ c),<br>
      rw add_succ,<br>
      rw add_succ,<br>
      rw add_succ,<br>
      refl } } }</p>
</div></div>



<a name="217428764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217428764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217428764">(Nov 20 2020 at 16:57)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> and <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  for these spoilers.  There is a lot of new notation in these such as underscores and nested cases and the ability to name variables in the <code>induction</code> that I will learn from.  The last two lines of Mario's proof need to be rewritten slightly to work in NNG:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="o">{</span> <span class="n">left</span><span class="o">,</span> <span class="n">exact</span> <span class="n">succ_le_succ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span> <span class="n">exact</span> <span class="n">succ_le_succ</span> <span class="n">b</span> <span class="n">a</span> <span class="n">h</span> <span class="o">},</span>
</code></pre></div>
<p>I am still working on my own proof.  It starts like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span><span class="o">,</span>
<span class="n">induction</span> <span class="n">a</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">use</span> <span class="n">b</span><span class="o">,</span>
<span class="n">symmetry</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">zero_add</span> <span class="n">b</span><span class="o">),</span>
<span class="n">induction</span> <span class="n">b</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">a_ih</span> <span class="k">with</span> <span class="n">p</span> <span class="n">q</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
</code></pre></div>
<p>This leaves me with 3 goals:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">state</span><span class="o">:</span>
<span class="mi">3</span> <span class="n">goals</span>
<span class="n">a_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">p</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span>

<span class="n">case</span> <span class="n">or.inr</span>
<span class="n">a_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">q</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">c</span>

<span class="n">case</span> <span class="n">mynat.succ</span>
<span class="n">a_n</span> <span class="n">b_n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">,</span>
<span class="n">b_ih</span> <span class="o">:</span>
  <span class="o">((</span><span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b_n</span> <span class="bp">=</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="n">b_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">→</span>
  <span class="o">((</span><span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">b_n</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="n">b_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">),</span>
<span class="n">a_ih</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">b_n</span> <span class="bp">=</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">b_n</span> <span class="bp">+</span> <span class="n">c</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">b_n</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">),</span> <span class="n">succ</span> <span class="n">a_n</span> <span class="bp">=</span> <span class="n">succ</span> <span class="n">b_n</span> <span class="bp">+</span> <span class="n">c</span>
</code></pre></div>
<p>I know this is the "wrong approach" but I will try to learn from techniques in your examples to make it go through.  I will feel like I am cheating if I don't either carry the thought process through or come to a self-realization that it is wrong headed.  What I am trying to avoid is a situation where I am turning the crank on the proof engine without insight into the meaning of what I am trying to prove, i.e. I would like to avoid a gaming mindset where my skill is in finding the right reduction rules to eliminate a goal, as opposed to knowing the meaning of the underlying space and using that meaning to guide tactic selection.</p>
<p>In that sense if I can finish the above proof, then I think I can claim I got some insight from Lemmerman's proof.  I understand Mario's comments about the setup providing the direction.  I really want to avoid that.  I should be able to step back from one path of breadcrumbs being laid down in the forest, to a different path of breadcrumbs on a different path through the forest, and see how both paths lead to the same spot.</p>
<p>I have a language question.   I have two theorems <code>X</code> and <code>Y</code>.  I have a logic with a set of axioms <code>A</code> and a proof engine <code>P</code> which allows me to apply the axioms of <code>A</code> to a goal state to generate a proof.  There is some infinite set of theorems that can be derived from <code>A</code>.  Let's call that infinite set <code>Proofs(P,A)</code>. <code>X</code> and <code>Y</code> are both in <code>Proofs(P,A)</code>.  I'm trying to say something like <code>Proofs(P,{X})=Proofs(P,{Y})</code>.  I don't know what the usual logicianly language is for discussing that.  It's not the same as saying all models of <code>X</code> are models of <code>Y</code>.   I'm not talking about models, just enumerable sets of proofs.  So, without arguing the merits of context, what is the correct logicianly way of expressing the idea <code>Proofs(P,{X})=Proofs(P,{Y})</code>?</p>



<a name="217434587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217434587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217434587">(Nov 20 2020 at 17:41)</a>:</h4>
<p>Your first two goals look easy, your third just looks like what you would get if you just tried to prove the original question by induction. Note that you are using induction twice and every complete proof only uses it once. As for your logic question, isn't the answer just <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\iff Y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.70733em;vertical-align:-0.024em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>?</p>



<a name="217443976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217443976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217443976">(Nov 20 2020 at 18:58)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  I didn't get where I was going with the Turkish proof.  I was able to slightly personalize Yakov's second proof  and learn some new notation.  This is what I got, you can give me a D- for asking for too many hints:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">zero_le</span> <span class="n">b</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">ha</span> <span class="k">with</span> <span class="n">hab</span> <span class="n">hba</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">a</span> <span class="n">b</span> <span class="n">at</span> <span class="n">hab</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">hab</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">rw</span> <span class="n">hc</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">c</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">ring</span><span class="o">,</span>
<span class="k">have</span> <span class="n">hasa</span> <span class="o">:=</span> <span class="n">le_refl</span> <span class="n">a</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">le_succ</span> <span class="n">a</span> <span class="n">a</span> <span class="n">hasa</span><span class="o">),</span>
<span class="n">left</span><span class="o">,</span>
<span class="n">use</span> <span class="n">c</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one_eq_succ</span> <span class="n">c</span><span class="o">,</span>
<span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one_eq_succ</span> <span class="n">a</span><span class="o">,</span>
<span class="n">ring</span><span class="o">,</span>
<span class="n">right</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">le_succ</span> <span class="n">b</span> <span class="n">a</span> <span class="n">hba</span><span class="o">,</span>
</code></pre></div>



<a name="217444228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217444228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217444228">(Nov 20 2020 at 19:00)</a>:</h4>
<p>One criticism of the natural number game is that it does not encourage people to write well-structured proofs (I felt it was something which didn't need to be emphasized to people who were just playing for fun). But really you should only ever have one goal, and use <code>{ }</code>s when suddenly you have two. It makes proofs easier to read.</p>



<a name="217445088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217445088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217445088">(Nov 20 2020 at 19:07)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">le_total</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">∨</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">zero_le</span> <span class="n">b</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">ha</span> <span class="k">with</span> <span class="n">hab</span> <span class="n">hba</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">le_iff_exists_add</span> <span class="n">a</span> <span class="n">b</span> <span class="n">at</span> <span class="n">hab</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">hab</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">hc</span><span class="o">,</span>
      <span class="n">cases</span> <span class="n">c</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
        <span class="n">rw</span> <span class="n">add_zero</span><span class="o">,</span>
        <span class="k">have</span> <span class="n">hasa</span> <span class="o">:=</span> <span class="n">le_refl</span> <span class="n">a</span><span class="o">,</span>
        <span class="n">exact</span> <span class="o">(</span><span class="n">le_succ</span> <span class="n">a</span> <span class="n">a</span> <span class="n">hasa</span><span class="o">)</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
        <span class="n">use</span> <span class="n">c</span><span class="o">,</span>
        <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one_eq_succ</span> <span class="n">c</span><span class="o">,</span>
        <span class="n">rw</span> <span class="bp">←</span> <span class="n">add_one_eq_succ</span> <span class="n">a</span><span class="o">,</span>
        <span class="n">ring</span> <span class="o">}</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">le_succ</span> <span class="n">b</span> <span class="n">a</span> <span class="n">hba</span><span class="o">,}</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="217450667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217450667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217450667">(Nov 20 2020 at 19:51)</a>:</h4>
<p>I golfed your proof a bit:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">induction</span> <span class="n">a</span> <span class="k">with</span> <span class="n">a</span> <span class="n">ha</span><span class="o">,</span>
<span class="o">{</span> <span class="n">left</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">zero_le</span> <span class="n">b</span> <span class="o">},</span>
<span class="o">{</span> <span class="n">rw</span> <span class="n">succ_eq_add_one</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">ha</span> <span class="k">with</span> <span class="n">hab</span> <span class="n">hba</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">cases</span> <span class="n">hab</span> <span class="k">with</span> <span class="n">c</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">subst</span> <span class="n">hc</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">c</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
      <span class="n">use</span> <span class="mi">1</span><span class="o">,</span>
      <span class="n">ring</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
      <span class="n">use</span> <span class="n">c</span><span class="o">,</span>
      <span class="n">ring</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">le_succ</span><span class="o">,</span>
    <span class="n">assumption</span> <span class="o">}</span> <span class="o">}</span>
</code></pre></div>
<p>By the way, the game itself knows all the solutions. If you want to see the solutions I wrote last year, you can check out <a href="https://github.com/ImperialCollegeLondon/natural_number_game">the github repository</a></p>



<a name="217451085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217451085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217451085">(Nov 20 2020 at 19:55)</a>:</h4>
<p>Note that my proof does something called "abusing definitional equality". This is a non-mathematical idea. There is more than one kind of equality in computer science, as I discovered to my genuine surprise a few years ago. You might recall from the first addition world that <code>add_zero</code> is an axiom but <code>zero_add</code> had to be proved by induction. As a consequence, <code>n + 0 = n</code> is true <em>by definition</em>, but <code>0 + n = n</code> is true because of a theorem. If two things are equal by definition then Lean will often treat them as being identical, and I used this in e.g. the last <code>assumption</code>. As a mathematician I would not like to distinguish between the two theorems really, but Lean really treats them differently.</p>



<a name="217484197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217484197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217484197">(Nov 21 2020 at 04:30)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I have finished the NNG and I can finally close this thread with a tactic-style proof of the theorem I  started with, which is one of the exercises in <a href="https://leanprover.github.io/theorem_proving_in_lean/propositions_and_proofs.html">3.7.1</a>.  Here is the proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">theorem</span> <span class="n">or_distributivity</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>  <span class="n">cases</span> <span class="n">h</span><span class="o">,</span>
       <span class="o">{</span> <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
       <span class="o">},</span>
       <span class="o">{</span> <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
         <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
       <span class="o">}</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
      <span class="o">},</span>
      <span class="o">{</span> <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">f</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
    <span class="o">}</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>I am using <code>simp</code> a lot because I still don't understand some basic things.  For example when I get down to here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">or_distributivity</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>  <span class="n">cases</span> <span class="n">h</span><span class="o">,</span>
       <span class="o">{</span>
</code></pre></div>
<p>then I have goal state</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">case</span> <span class="n">or.inl</span>
<span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">p</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span>
</code></pre></div>
<p>I don't know the syntax or tactic that allows me to go from <code>h:p</code> to <code>⊢ p ∨ q</code>. From the above goal state, how do I prove the disjunction using a tactic without invoking <code>simp *</code>? </p>
<p>There is no example that I can find in Proposition World or Advanced Proposition World that proves a disjunction.  I couldn't find a clear example of a tactic that results in a disjunction in Chapter 5.  I did stumble across <code>simp *</code>, which works fine but is a black box.   The end of section 3.6 gives a proof but it is in term style.  I can't step through the term style proof in the same way as in tactic mode, so I can't see where the disjunction is introduced.  Also I can't look at the terms and directly map them into tactics, I don't know the equivalences.  Is there a cheat sheet somewhere that maps between term style and tactic style?  Also is there a master list of tactics that is compact where I can look up tactics like the one to prove a disjunction by proving one of the disjuncts?</p>



<a name="217487739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217487739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217487739">(Nov 21 2020 at 06:21)</a>:</h4>
<p>The tactics <code>left</code> and <code>right</code> convert a goal of the form <code>p ∨ q</code> to either <code>p</code> or <code>q</code>.  From there, <code>exact _</code> should work.  Alternatively, you can use <code>exact or.inl _</code> or <code>exact or.inr _</code>, replacing the <code>_</code> with the appropriate assumption.</p>



<a name="217505752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/need%20help%20on%20simple%20proof/near/217505752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/need.20help.20on.20simple.20proof.html#217505752">(Nov 21 2020 at 15:20)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="321459">@Damiano Testa</span> , here is the de-<code>simp</code>ified pure tactic proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>

<span class="kd">variables</span> <span class="n">p</span> <span class="n">q</span> <span class="n">r</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">theorem</span> <span class="n">or_distributivity</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">q</span> <span class="bp">∧</span> <span class="n">r</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">p</span> <span class="bp">∨</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">split</span><span class="o">,</span>
    <span class="o">{</span>  <span class="n">cases</span> <span class="n">h</span><span class="o">,</span>
       <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
         <span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
       <span class="o">},</span>
       <span class="o">{</span> <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
         <span class="n">right</span><span class="o">,</span>
         <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
       <span class="o">}</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
      <span class="o">},</span>
      <span class="o">{</span> <span class="n">cases</span> <span class="n">g</span> <span class="k">with</span> <span class="n">hq</span> <span class="n">hr</span><span class="o">,</span>
        <span class="n">right</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">hr</span><span class="o">,</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">f</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">cases</span> <span class="n">g</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">left</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">g</span><span class="o">,</span>
      <span class="o">},</span>
      <span class="o">{</span> <span class="n">right</span><span class="o">,</span>
        <span class="n">split</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">g</span><span class="o">,</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>