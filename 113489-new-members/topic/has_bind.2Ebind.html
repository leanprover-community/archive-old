---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/has_bind.2Ebind.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html">has_bind.bind</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289057014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057014">(Jul 09 2022 at 18:56)</a>:</h4>
<p>I'm looking at <br>
<a href="https://cs.brown.edu/courses/cs1951x/docs/computability/NFA.html#NFA.step_set">https://cs.brown.edu/courses/cs1951x/docs/computability/NFA.html#NFA.step_set</a><br>
In</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">M.step_set</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">Ss</span> <span class="o">:</span> <span class="n">set</span> <span class="n">σ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">Ss</span> <span class="bp">&gt;&gt;=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">σ</span><span class="o">),</span> <span class="n">M.step</span> <span class="n">S</span> <span class="n">a</span>
</code></pre></div>
<p>I understand all the symbols except <code>&gt;&gt;=</code>. What is it for?</p>



<a name="289057043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057043">(Jul 09 2022 at 18:57)</a>:</h4>
<p>That's the <code>bind</code> operator for monads, right?</p>



<a name="289057213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057213">(Jul 09 2022 at 19:01)</a>:</h4>
<p>Hmm... what's the <code>bind</code> operator for monads and why do we need it to form a union?</p>



<a name="289057288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057288">(Jul 09 2022 at 19:03)</a>:</h4>
<p>I guess I can read about it here <a href="https://stackoverflow.com/questions/62308355/why-is-the-bind-operator-defined-as-it-is">https://stackoverflow.com/questions/62308355/why-is-the-bind-operator-defined-as-it-is</a></p>



<a name="289057409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057409">(Jul 09 2022 at 19:06)</a>:</h4>
<p>Here's the definition of the <code>set</code> monad's bind operator: <a href="https://github.com/leanprover-community/mathlib/blob/48104c3a22ae4b35d92b8ad30831eb1591049958/src/data/set/lattice.lean#L1138">https://github.com/leanprover-community/mathlib/blob/48104c3a22ae4b35d92b8ad30831eb1591049958/src/data/set/lattice.lean#L1138</a></p>



<a name="289057438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057438">(Jul 09 2022 at 19:06)</a>:</h4>
<p>It's just bounded union</p>



<a name="289057450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057450">(Jul 09 2022 at 19:06)</a>:</h4>
<p>I expect the reason <code>M.step_set</code> is defined that way is that CS people are familiar with bind.</p>



<a name="289057661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057661">(Jul 09 2022 at 19:11)</a>:</h4>
<p><span class="user-mention" data-user-id="347475">@Bjørn Kjos-Hanssen</span> It's probably nice to work out <code>bind</code> for some of the basic monads like <code>list</code> and <code>option</code>.</p>



<a name="289057727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289057727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289057727">(Jul 09 2022 at 19:12)</a>:</h4>
<p>(At a high level, monads are a way to work with data structures with variables/holes, where you can splice data structures of that type into those variables. The bind operator is, essentially, "treat all the elements of this data structure as if they were variable names and use this function as a map from variable names -&gt; data to splice in." For <code>set</code>, you're splicing in another set for each element of the set, using the union to do the splicing. I got this point of view from stumbling across the correspondence between Lawvere theories and finitary monads.)</p>



<a name="289059303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289059303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289059303">(Jul 09 2022 at 19:47)</a>:</h4>
<p>I always just look at the type and guess what's going on.</p>



<a name="289061396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289061396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289061396">(Jul 09 2022 at 20:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289057450">said</a>:</p>
<blockquote>
<p>I expect the reason <code>M.step_set</code> is defined that way is that CS people are familiar with bind.</p>
</blockquote>
<p>It looks like the latest version of <code>step_set</code> just uses the bounded union directly: <a href="https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40">https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40</a></p>



<a name="289062102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289062102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289062102">(Jul 09 2022 at 20:50)</a>:</h4>
<p>My own understanding of monads, coming from a software engineering background, is that they allow you to map over a structure in a nested way. A normal map over a structure <code>m a</code> looks like <code>m a -&gt; (a -&gt; b) -&gt; m b</code>: a simple transformation of the data from <code>a</code> to <code>b</code>. Monadic <code>bind</code>, on the other hand, is <code>m a -&gt; (a -&gt; m b) -&gt; m b</code>. The transformation creates new structures which are then joined together into a single result. For example, <code>bind</code> on a list is just <code>flatMap</code>: <code>list a -&gt; (a -&gt; list b) -&gt; list b</code>. Each individual element of the list is transformed into a new list, and this list of lists is then flattened into a single list.</p>
<p>This is why <code>bind</code> is bounded union in the realm of sets: <code>Set a -&gt; (a -&gt; Set b) -&gt; Set b</code>. Monads are useful in functional programming because they allow you to map over the result of a computation while producing a new computation in the process.</p>



<a name="289062542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289062542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289062542">(Jul 09 2022 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="380294">@Matt Diamond</span> That's the same idea -- it's just a matter of whether you happen to to think about applying a function as being substitution or evaluation.</p>
<p>For example, if you have <code>[tt, tt, ff]</code> and a function where <code>tt</code> -&gt; <code>[1,2]</code> and <code>ff</code> -&gt; <code>[3]</code>, then bind is as-if you're substituting these lists in for the "variables" <code>tt</code> and <code>ff</code> to get <code>[1,2,1,2,3]</code> (with an intermediate <code>[[1,2],[1,2],[3]]</code> before flattening). It's like the list is a pasting diagram for lists. (I'm not meaning to explain the list monad to you here, just the point of view. I myself learned about monads from the programming side of things, and I came across this substitution idea from the pure math side much more recently.)</p>



<a name="289062864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289062864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289062864">(Jul 09 2022 at 21:09)</a>:</h4>
<p>That's certainly true! Though <code>map</code> is also a kind of substitution, right? It seems like the key aspect of <code>bind</code> isn't the substituting but <em>what</em> you're substituting the "variables" with.</p>



<a name="289062974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289062974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289062974">(Jul 09 2022 at 21:12)</a>:</h4>
<p>In fact, <code>bind</code> is literally just <code>map</code> with the addition of <code>join</code>. It's the joining that makes <code>bind</code> unique.</p>



<a name="289062997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289062997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289062997">(Jul 09 2022 at 21:12)</a>:</h4>
<p>This is a substitution where you splice in with respect to the structure, which is what differentiates it from map (and <code>pure</code> is the key thing that lets you use <code>bind</code> as if it were <code>map</code>).</p>



<a name="289063065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063065">(Jul 09 2022 at 21:14)</a>:</h4>
<p>But, yeah, both <code>map</code> and <code>bind</code> are kinds of substitutions from this point of view, but <code>bind</code> is more general in that you can use <code>pure</code> to locally decide whether you're going to splice or not.</p>



<a name="289063069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063069">(Jul 09 2022 at 21:14)</a>:</h4>
<p>I'm not completely sure what you mean by "with respect to the structure". You don't mean ordering, right?</p>



<a name="289063071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063071">(Jul 09 2022 at 21:14)</a>:</h4>
<p>The thing I find difficult about all of this is understanding what the point is. As I say, if I hover over bind or pure or seq or return or whatever, I can see the type of what the corresponding funny monadic word means, and then I just look at <code>list</code> or <code>option</code> or <code>set</code> or whatever I'm working with and figure out what this map must be (because it's always pretty obvious) and then I move on, still none the wiser as to why computer scientists even care! For me this is just an obstruction to finding the right term, I look for <code>bUnion</code> or whatever and then I find that it's a monaddy word and I think "well fair enough",</p>



<a name="289063082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063082">(Jul 09 2022 at 21:15)</a>:</h4>
<p>By "structure" I'm being loose with terminology and I mean the functor under consideration.</p>



<a name="289063231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063231">(Jul 09 2022 at 21:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> That's fair... I'll admit it doesn't matter that much within a math context. It's more of a functional programming thing where you have to worry about managing state and side effects and all that.</p>



<a name="289063251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063251">(Jul 09 2022 at 21:19)</a>:</h4>
<p>(an aside; the link at the top of this thread is not canonical, those docs are <span class="user-mention" data-user-id="110596">@Rob Lewis</span>' version generated from an old (&gt;1 year) version of mathlib)</p>



<a name="289063313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063313">(Jul 09 2022 at 21:21)</a>:</h4>
<p>(unfortunately the fix to point non-canonical doc pages at the canonical one was added more recently than that page was built)</p>



<a name="289063392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063392">(Jul 09 2022 at 21:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="380294">Matt Diamond</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289061396">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289057450">said</a>:</p>
<blockquote>
<p>I expect the reason <code>M.step_set</code> is defined that way is that CS people are familiar with bind.</p>
</blockquote>
<p>It looks like the latest version of <code>step_set</code> just uses the bounded union directly: <a href="https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40">https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40</a></p>
</blockquote>
<p>Great, then I don't need <code>bind</code> after all.</p>



<a name="289063445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063445">(Jul 09 2022 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> If you're in the business of constructing specific discrete objects piece by piece by a sequence of transformations and substitutions (you could think about pasting diagrams for categories if you want) then monads seem to be a useful general algebraic structure to know about. But if not, I agree it can all be obscure. (I have to admit I can't remember off the top of my head what <code>seq</code> is. Oh, it's <code>&lt;*&gt;</code>, which I remember being useful in Haskell.)</p>



<a name="289063546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063546">(Jul 09 2022 at 21:27)</a>:</h4>
<p>Yeah most of them look like fish but seq looks like a space invader.</p>



<a name="289063552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063552">(Jul 09 2022 at 21:27)</a>:</h4>
<p>if the computer games you were brought up playing were made in the 1980s at least...</p>



<a name="289063603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289063603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289063603">(Jul 09 2022 at 21:28)</a>:</h4>
<p>I guess that's another question: is there any logic to the <code>&gt;&gt;=</code> <code>&gt;=&gt;</code> stuff? I mean, am I supposed to be able to guess the function from the fish, or is it just something I should learn one by one?</p>



<a name="289064515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289064515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289064515">(Jul 09 2022 at 21:49)</a>:</h4>
<p>I don't know if there's any logic to them, but the only reason I know about <code>&lt;*&gt;</code> is that you can, for example, write <code>f &lt;$&gt; x &lt;*&gt; y &lt;*&gt; z</code> to apply a 3-ary function across multiple pieces of monadic data, where <code>&lt;$&gt;</code> is <code>fmap</code>.</p>



<a name="289066400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289066400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289066400">(Jul 09 2022 at 22:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="380294">Matt Diamond</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289061396">said</a>:</p>
<blockquote>
<p>It looks like the latest version of <code>step_set</code> just uses the bounded union directly: <a href="https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40">https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40</a></p>
</blockquote>
<p>What's the recommended command line one-liner  to update <code>mathlib</code> again? It's been a while...</p>



<a name="289069630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289069630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289069630">(Jul 09 2022 at 23:48)</a>:</h4>
<p>It looks like the two definitions of <code>step_set</code>, with and without the <code>bind</code> magic, are somehow equivalent in the end, since Lean accepts the following:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="k">show</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">list.foldl</span> <span class="n">M.step_set</span> <span class="o">((</span>
      <span class="bp">λ</span> <span class="o">(</span><span class="n">Ss</span> <span class="o">:</span> <span class="n">set</span> <span class="n">σ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">Ss</span> <span class="bp">&gt;&gt;=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">σ</span><span class="o">),</span> <span class="n">M.step</span> <span class="n">S</span> <span class="n">a</span>
    <span class="o">)</span> <span class="n">M.start</span> <span class="n">z</span><span class="o">)</span> <span class="o">[</span><span class="n">w</span><span class="o">],</span> <span class="k">from</span>
    <span class="k">show</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">list.foldl</span> <span class="n">M.step_set</span> <span class="o">(</span>
      <span class="bp">⋃</span> <span class="n">s</span> <span class="bp">∈</span> <span class="n">M.start</span><span class="o">,</span> <span class="n">M.step</span> <span class="n">s</span> <span class="n">z</span>
    <span class="o">)</span> <span class="o">[</span><span class="n">w</span><span class="o">],</span> <span class="k">from</span>
    <span class="gr">sorry</span>
</code></pre></div>



<a name="289070365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289070365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289070365">(Jul 10 2022 at 00:09)</a>:</h4>
<p>Yes, bind for <code>set</code> is definitionally equal to a bounded union:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">s</span> <span class="bp">&gt;&gt;=</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">⋃</span> <span class="o">(</span><span class="n">x</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="o">:=</span>
<span class="n">rfl</span>
</code></pre></div>



<a name="289087505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289087505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289087505">(Jul 10 2022 at 07:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289063071">said</a>:</p>
<blockquote>
<p>The thing I find difficult about all of this is understanding what the point is. As I say, if I hover over bind or pure or seq or return or whatever, I can see the type of what the corresponding funny monadic word means, and then I just look at <code>list</code> or <code>option</code> or <code>set</code> or whatever I'm working with and figure out what this map must be (because it's always pretty obvious) and then I move on, still none the wiser as to why computer scientists even care! For me this is just an obstruction to finding the right term, I look for <code>bUnion</code> or whatever and then I find that it's a monaddy word and I think "well fair enough",</p>
</blockquote>
<p>To be fair, I feel the same way about writing stuff in category theory terminology like colimits and representable functors. I can only make sense of these terms by unfolding them in the context of specific categories of interest</p>



<a name="289576980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/has_bind.bind/near/289576980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/has_bind.2Ebind.html#289576980">(Jul 14 2022 at 11:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="347475">Bjørn Kjos-Hanssen</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289066400">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="380294">Matt Diamond</span> <a href="#narrow/stream/113489-new-members/topic/has_bind.2Ebind/near/289061396">said</a>:</p>
<blockquote>
<p>It looks like the latest version of <code>step_set</code> just uses the bounded union directly: <a href="https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40">https://github.com/leanprover-community/mathlib/blob/861589f224456f278c61596c0ee8a1ba449a6e8b/src/computability/NFA.lean#L40</a></p>
</blockquote>
<p>What's the recommended command line one-liner  to update <code>mathlib</code> again? It's been a while...</p>
</blockquote>
<p>I believe <code>leanproject upgrade-mathlib</code> should do that (don't recall using it myself before).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>