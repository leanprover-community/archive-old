---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Proofs.20involving.20negation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html">Proofs involving negation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196642544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196642544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196642544">(May 06 2020 at 14:30)</a>:</h4>
<p>Hi all,<br>
I'm going through "Logic and Proof" and "Theorem Proving in Lean" exercises and got stuck on the ones that make use of negation.<br>
Could someone outline the line of reasoning ivolved in proving something like</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


<p>?<br>
With conjunction, disjunction and implication I usually start with a corresponding introduction rule and the rest follows naturally, but can't wrap my head around how to apply the same strategy to negation.</p>



<a name="196642629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196642629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196642629">(May 06 2020 at 14:31)</a>:</h4>
<p><code>not X</code> is just syntax sugar for <code>X -&gt; false</code> if that helps</p>



<a name="196642803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196642803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196642803">(May 06 2020 at 14:32)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">hnA</span> <span class="n">hnB</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hAB</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">hAB</span> <span class="k">with</span> <span class="n">hA</span> <span class="n">hB</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">contradiction</span><span class="o">},</span>
  <span class="o">{</span> <span class="n">contradiction</span><span class="o">},</span>
<span class="kn">end</span>
</code></pre></div>



<a name="196642841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196642841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196642841">(May 06 2020 at 14:32)</a>:</h4>
<p>If you don't mind using tactics then you can follow the tutorials project. It has several files about negation, starting with <a href="https://github.com/leanprover-community/tutorials/blob/master/src/exercises/07_first_negations.lean" title="https://github.com/leanprover-community/tutorials/blob/master/src/exercises/07_first_negations.lean">https://github.com/leanprover-community/tutorials/blob/master/src/exercises/07_first_negations.lean</a></p>



<a name="196642950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196642950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196642950">(May 06 2020 at 14:33)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">h</span><span class="bp">.</span><span class="n">elim</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">hnA</span> <span class="n">hnB</span> <span class="n">hAB</span><span class="o">,</span> <span class="n">hAB</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hnA</span> <span class="n">hnB</span>
</code></pre></div>



<a name="196644900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196644900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196644900">(May 06 2020 at 14:47)</a>:</h4>
<p>I'm not familiar with the cases and intro syntax yet, but I suppose it's equavalent to</p>
<div class="codehilite"><pre><span></span><code>  <span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
    <span class="k">have</span> <span class="n">hnA</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hnB</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span>
    <span class="bp">λ</span> <span class="n">hAB</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">B</span><span class="o">,</span>
</code></pre></div>


<p>Is that correct?</p>



<a name="196645220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196645220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196645220">(May 06 2020 at 14:49)</a>:</h4>
<p>I'd prefer not use tactics at this point, but do everything manually. Want to understand what is really going on.</p>



<a name="196645418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196645418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196645418">(May 06 2020 at 14:51)</a>:</h4>
<p>you probably meant <code>λ hAB : A ∨ B,</code>, but other than that you're right.</p>



<a name="196647568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196647568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196647568">(May 06 2020 at 15:04)</a>:</h4>
<p>Correct. So here</p>
<div class="codehilite"><pre><span></span><code>  <span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
    <span class="k">have</span> <span class="n">hnA</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hnB</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span>
    <span class="bp">λ</span> <span class="n">hAB</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">,</span>
</code></pre></div>


<p>we have destructured our hypothesis such that each part can be referred to individually, we introduced a new hypothesis which is a negation of what needs to be proven.<br>
Do we need the new hypothesis so we can arrive at a contradiction? I don't see how if so.</p>



<a name="196648051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196648051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196648051">(May 06 2020 at 15:07)</a>:</h4>
<p>try eliminating <code>hAB</code> and see if you can then derive <code>false</code> in both cases of the elimination.</p>



<a name="196649196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196649196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196649196">(May 06 2020 at 15:14)</a>:</h4>
<p>I wrote <code>hAB.elim</code> but this is using some cunning dot notation. You can also write <code>or.elim hAB</code></p>



<a name="196652953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196652953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196652953">(May 06 2020 at 15:38)</a>:</h4>
<p>Thanks for the hints, I managed to prove it like this:</p>
<div class="codehilite"><pre><span></span><code>  <span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
    <span class="k">have</span> <span class="n">hnA</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hnB</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span>
    <span class="bp">λ</span> <span class="n">hAB</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">,</span>
      <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hAB</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hA</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">hA</span> <span class="n">hnA</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hB</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">hB</span> <span class="n">hnB</span><span class="o">)</span>
</code></pre></div>


<p>Still can't figure out why this</p>
<div class="codehilite"><pre><span></span><code>  <span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
    <span class="k">have</span> <span class="n">hnA</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hnB</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span>
    <span class="bp">λ</span> <span class="n">hAB</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">,</span>
      <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hAB</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hA</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hnA</span> <span class="n">hA</span><span class="o">))</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hB</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="n">false</span><span class="bp">.</span><span class="n">elim</span> <span class="o">(</span><span class="n">hnB</span> <span class="n">hB</span><span class="o">))</span>
</code></pre></div>


<p>doesn't work - it looks the same to me.</p>



<a name="196654837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196654837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196654837">(May 06 2020 at 15:52)</a>:</h4>
<p>works for me. note that you don't actually need <code>false.elim</code> or <code>absurd</code> because you're trying to prove <code>false</code> itself.</p>



<a name="196656356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196656356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Noob <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196656356">(May 06 2020 at 16:01)</a>:</h4>
<p>Actually, it works for me too - VS Code got me confused.<br>
With your latest suggestion the proof looks like this:</p>
<div class="codehilite"><pre><span></span><code>  <span class="kn">example</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
    <span class="k">have</span> <span class="n">hnA</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">left</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">hnB</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span>
    <span class="bp">λ</span> <span class="n">hAB</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∨</span> <span class="n">B</span><span class="o">,</span>
      <span class="n">or</span><span class="bp">.</span><span class="n">elim</span> <span class="n">hAB</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hA</span><span class="o">,</span> <span class="n">hnA</span> <span class="n">hA</span><span class="o">)</span>
        <span class="o">(</span><span class="bp">λ</span> <span class="n">hB</span><span class="o">,</span> <span class="n">hnB</span> <span class="n">hB</span><span class="o">)</span>
</code></pre></div>


<p>Thanks a lot for the help!</p>



<a name="196667682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/196667682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#196667682">(May 06 2020 at 17:20)</a>:</h4>
<p>another small trick: after using <code>(λ hA, hnA hA) = hnA</code>, your proof will look pretty similar to kevin's.</p>



<a name="197566312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197566312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197566312">(May 14 2020 at 14:52)</a>:</h4>
<p>I am try to prove that 1 \ne 0. I can apply <code>simp</code>, and lean is happy. But I wanted to do it step-by-step.<br>
To my knowledge, this should be an axiom (if these 1 and 0 were natural numbers, at least: but I believe that Lean has been taught that 0 : \R is the same as 0 : N; and likewise for 1). At any rate, I have tried <br>
<code>begin intro h,</code><br>
and now should deduce from <code>h: 1=0</code> that <code>false</code><br>
And I am stuck, both in performing the proof and in observing that if I try <code>simp</code> now, Lean is no longer happy.</p>



<a name="197566769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197566769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197566769">(May 14 2020 at 14:55)</a>:</h4>
<p><a href="https://xenaproject.wordpress.com/2018/03/24/no-confusion-over-no_confusion/">https://xenaproject.wordpress.com/2018/03/24/no-confusion-over-no_confusion/</a> may help</p>



<a name="197567351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197567351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197567351">(May 14 2020 at 14:58)</a>:</h4>
<p>Seems a long read: I will try to digest the whole of it. Thanks.</p>



<a name="197567353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197567353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197567353">(May 14 2020 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> That blogpost is good. But here is another approach, to figure things out yourself: you turn your first <code>simp</code> into <code>squeeze_simp</code> to see what it did. Then, you get that lemma name (probably <code>nat.zero_ne_one</code>) and write</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">print</span> <span class="n">nat</span><span class="bp">.</span><span class="n">zero_ne_one</span>
</code></pre></div>


<p>After that, you can right-click on it, and "Go to definition".</p>



<a name="197567449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197567449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197567449">(May 14 2020 at 14:59)</a>:</h4>
<p>ah! the <code>squeeze_simp</code> is the gadget I was dreaming of! tnx</p>



<a name="197567480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197567480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197567480">(May 14 2020 at 14:59)</a>:</h4>
<p>Then you can see how it's proven. And you'll find the <code>no_confusion</code> thing yourself. End result: you will ask a question here about <code>no_confusion</code> and still get pointed to the blogpost. <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="197568134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197568134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197568134">(May 14 2020 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> Yup, <code>squeeze_simp</code> is amazing. There is also <code>library_search</code>, <code>suggest</code>, <code>hint</code>, and <code>tidy?</code> that are useful tools.</p>



<a name="197568249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197568249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197568249">(May 14 2020 at 15:04)</a>:</h4>
<p>We should rename <code>squeeze_simp</code> to <code>simp?</code> now that we have forked lean.</p>



<a name="197568300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197568300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197568300">(May 14 2020 at 15:04)</a>:</h4>
<p>No, we should make <code>simp?</code> do the more useful thing</p>



<a name="197568325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197568325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197568325">(May 14 2020 at 15:04)</a>:</h4>
<p>Which is?</p>



<a name="197568390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197568390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197568390">(May 14 2020 at 15:05)</a>:</h4>
<p>described <a href="#narrow/stream/113488-general/topic/set_option.20trace.2Esimplify.2Erewrite.20true/near/195956496">here</a></p>



<a name="197582090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197582090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197582090">(May 14 2020 at 16:34)</a>:</h4>
<p>I disagree that this is the more useful thing. I find myself using <code>squeeze_simp</code> a lot more than actually trying to understand the list of rewrites. How about <code>simp?</code> for <code>squeeze_simp</code> and <code>simp??</code> for <code>simp</code> with trace enabled?</p>



<a name="197582140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197582140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197582140">(May 14 2020 at 16:34)</a>:</h4>
<p>I really like the idea of a one character diff from <code>simp</code> to <code>squeeze_simp</code></p>



<a name="197582210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197582210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197582210">(May 14 2020 at 16:35)</a>:</h4>
<p>I would have broken my nonterminal simp habit faster if it were one character</p>



<a name="197585585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197585585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197585585">(May 14 2020 at 16:59)</a>:</h4>
<p>Does ‽ count as one character?</p>



<a name="197585601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197585601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197585601">(May 14 2020 at 16:59)</a>:</h4>
<p>I've never used squeeze_simp</p>



<a name="197586166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197586166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197586166">(May 14 2020 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> You do have sliced bread, do you?</p>



<a name="197586819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197586819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197586819">(May 14 2020 at 17:07)</a>:</h4>
<p>I guess I don't really understand what it's for</p>



<a name="197586942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197586942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197586942">(May 14 2020 at 17:07)</a>:</h4>
<p>aside from making proofs run faster, which I don't care terribly much about</p>



<a name="197589011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589011">(May 14 2020 at 17:22)</a>:</h4>
<p>I care about making proofs faster even before I've finished writing them</p>



<a name="197589097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589097">(May 14 2020 at 17:23)</a>:</h4>
<p>if I start off my proof with <code>simp *</code> then that call is going to slow down the entire interaction cycle for the rest of the proof</p>



<a name="197589107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589107">(May 14 2020 at 17:23)</a>:</h4>
<p>I guess I also don't really use <code>simp</code> that much, or when I do use it experimentally I want to replace it with <code>rw</code>, not <code>simp only</code></p>



<a name="197589215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589215">(May 14 2020 at 17:24)</a>:</h4>
<p>Right, I use <code>squeeze_simp</code> for that</p>



<a name="197589231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589231">(May 14 2020 at 17:24)</a>:</h4>
<p>To figure out what should go in the <code>rw</code></p>



<a name="197589235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589235">(May 14 2020 at 17:24)</a>:</h4>
<p>But then don't you still have to solve a puzzle?</p>



<a name="197589260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589260">(May 14 2020 at 17:24)</a>:</h4>
<p>While the rewrite trace would just tell you the answer?</p>



<a name="197589265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589265">(May 14 2020 at 17:24)</a>:</h4>
<p>Sure, but at least I know what the pieces are</p>



<a name="197589275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589275">(May 14 2020 at 17:24)</a>:</h4>
<p>I often convert <code>squeeze_simp</code> calls to <code>rw</code> as well</p>



<a name="197589310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589310">(May 14 2020 at 17:25)</a>:</h4>
<p>I think maybe you are the one without sliced bread? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="197589352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589352">(May 14 2020 at 17:25)</a>:</h4>
<p>I still want an auto-replace, not a tactic trace</p>



<a name="197589380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589380">(May 14 2020 at 17:25)</a>:</h4>
<p>A <code>simp??</code> that outputs <code>Try this: rw [foo, bar, bar, ← quux, foo]</code> would be awesome.</p>



<a name="197589384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589384">(May 14 2020 at 17:25)</a>:</h4>
<p>but it would be nice if the order that lemmas are printed matches the rewrite order</p>



<a name="197589471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589471">(May 14 2020 at 17:26)</a>:</h4>
<p>I think <code>simp?</code> could print both</p>



<a name="197589477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589477">(May 14 2020 at 17:26)</a>:</h4>
<p>Of course <code>simp only</code> is more powerful than <code>rw</code>, so you can't always get what you want, right?</p>



<a name="197589543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589543">(May 14 2020 at 17:26)</a>:</h4>
<p>also <code>rw</code> has to repeat lemmas and <code>simp only</code> doesn't, and <code>simp only</code> works under binders</p>



<a name="197589563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589563">(May 14 2020 at 17:26)</a>:</h4>
<p>so it's not always going to work</p>



<a name="197589597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589597">(May 14 2020 at 17:27)</a>:</h4>
<p>but I think even the <code>simp only</code> proof fails sometimes</p>



<a name="197589785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589785">(May 14 2020 at 17:28)</a>:</h4>
<p>Yup, although it got a lot less rare</p>



<a name="197589963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197589963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197589963">(May 14 2020 at 17:29)</a>:</h4>
<p><code>simp?</code> which offers both <code>simp only</code> and <code>rw</code> options would be lovely. What do we have to do to make it happen?</p>



<a name="197829629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proofs%20involving%20negation/near/197829629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proofs.20involving.20negation.html#197829629">(May 17 2020 at 04:22)</a>:</h4>
<p>If we finish moving <code>rewrite_search</code> to mathlib, one possible mechanism for creating the <code>rw</code> suggestion would be to take the current output from <code>squeeze_simp</code> and pass that as the list of allowed lemmas to <code>rewrite_search</code>. That will automatically take care of generating the <code>rw</code> statement.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>