---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html">Recurse on `finset`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222437418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222437418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222437418">(Jan 12 2021 at 14:27)</a>:</h4>
<p>Is there some way to define a function recursively over a <code>finset</code>, where each "iteration" has access to one element of the set?<br>
First I thought this shouldn't be possible, since choosing an element from a set isn't really possible. But then again there's <code>classical.choice</code>.</p>
<p>I want to do something <em>for each element</em> in a <code>finset</code> and so far my approach has been to sort the set into a list first, which requires some kind of order on the elements though.</p>
<p>So far I've only found <a href="https://leanprover-community.github.io/mathlib_docs/data/finset/basic.html#finset.strong_induction_on">finset.strong_induction_on</a>, which doesn't suit my case (I think).</p>



<a name="222438872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222438872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222438872">(Jan 12 2021 at 14:37)</a>:</h4>
<p>Maybe <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.induction_on'">docs#finset.induction_on'</a></p>



<a name="222438933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222438933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Logan Murphy <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222438933">(Jan 12 2021 at 14:37)</a>:</h4>
<p>I haven't done a ton of this kind of stuff with <code>finset</code>, but maybe you can do the recursion on the underlying <code>multiset</code> (lists up to permutation) and then provide a proof that your function doesn't introduce duplicates</p>



<a name="222439375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222439375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222439375">(Jan 12 2021 at 14:40)</a>:</h4>
<p>Perhaps I should clarify my exact use case:<br>
I have some object <code>o : O</code> and <code>p : finset P</code>. For each <code>x âˆˆ p</code> I need to update something about <code>o</code> by using <code>p</code>. I happen to know that the order in which the <code>x</code>s are chosen doesn't matter.</p>



<a name="222440623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222440623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222440623">(Jan 12 2021 at 14:49)</a>:</h4>
<p>It might help to know more about <code>O</code> and <code>P</code></p>



<a name="222440648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222440648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222440648">(Jan 12 2021 at 14:49)</a>:</h4>
<p>for example, if <code>O = P = nat</code> and "update something about <code>o</code> using <code>p</code>" means "add <code>p</code> to <code>o</code>" then this is <code>finset.sum</code></p>



<a name="222440731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222440731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222440731">(Jan 12 2021 at 14:50)</a>:</h4>
<p>more generally, if <code>P</code> acts on <code>O</code> through a commutative monoid of operations then again you can express it directly as a kind of fold/product</p>



<a name="222441290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Recurse%20on%20%60finset%60/near/222441290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Recurse.20on.20.60finset.60.html#222441290">(Jan 12 2021 at 14:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> Thanks! <code>finset.fold</code> is what I was looking for.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>