---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html">Is induction-recursion and induction-induction limitation?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207934208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207934208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207934208">(Aug 25 2020 at 08:01)</a>:</h4>
<p>The lean prover manual says "In the type theory literature, there are further generalizations of inductive definitions, for example, the principles of induction-recursion and induction-induction. These are not supported by Lean." I read a bit about <a href="https://en.wikipedia.org/wiki/Induction-recursion">induction-recursion (wikipedia)</a>. <strong>This is just a curiosity</strong>: Is this something that would ever be useful in formalizing math?</p>



<a name="207934785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207934785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207934785">(Aug 25 2020 at 08:08)</a>:</h4>
<p>You see it used mostly by the type theory fanatics that already see inductive types as a hammer and everything as a nail</p>



<a name="207934845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207934845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207934845">(Aug 25 2020 at 08:09)</a>:</h4>
<p>An example is that you can use an inductive-recursive type to very naturally capture the type of well typed terms mutual with the type of contexts, and so prove the consistency of DTT</p>



<a name="207936277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207936277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207936277">(Aug 25 2020 at 08:30)</a>:</h4>
<p>I forget all the details, but it's something like this:</p>
<div class="codehilite"><pre><span></span><code><span class="n">mutual</span> <span class="kn">inductive</span> <span class="kn">context</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="n">term</span>
<span class="k">with</span> <span class="kn">context</span> <span class="o">:</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">:</span> <span class="kn">context</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">(</span><span class="err">Γ</span> <span class="o">:</span> <span class="kn">context</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span> <span class="err">Γ</span><span class="o">)</span> <span class="o">:</span> <span class="kn">context</span>
<span class="k">with</span> <span class="n">type</span> <span class="o">:</span> <span class="kn">context</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">univ</span> <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="o">:</span> <span class="n">type</span> <span class="err">Γ</span>
<span class="bp">|</span> <span class="n">pi</span> <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">type</span> <span class="err">Γ</span><span class="o">)</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">type</span> <span class="o">(</span><span class="kn">context</span><span class="bp">.</span><span class="n">cons</span> <span class="err">Γ</span> <span class="n">A</span><span class="o">))</span> <span class="o">:</span> <span class="n">type</span> <span class="err">Γ</span>
<span class="bp">|</span> <span class="n">T</span> <span class="o">{</span><span class="err">Γ</span><span class="o">}</span> <span class="o">:</span> <span class="n">term</span> <span class="err">Γ</span> <span class="n">type</span><span class="bp">.</span><span class="n">univ</span> <span class="bp">→</span> <span class="n">type</span> <span class="err">Γ</span>
<span class="k">with</span> <span class="n">term</span> <span class="o">:</span> <span class="kn">context</span> <span class="bp">→</span> <span class="n">type</span> <span class="bp">→</span> <span class="kt">Type</span>
<span class="bp">|</span> <span class="n">var</span> <span class="o">{</span><span class="err">Γ</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span> <span class="n">term</span> <span class="o">(</span><span class="kn">context</span><span class="bp">.</span><span class="n">cons</span> <span class="err">Γ</span> <span class="n">A</span><span class="o">)</span> <span class="n">A</span>
<span class="bp">|</span> <span class="n">lift</span> <span class="o">{</span><span class="err">Γ</span> <span class="n">A</span> <span class="n">B</span><span class="o">}</span> <span class="o">:</span> <span class="n">term</span> <span class="err">Γ</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="o">(</span><span class="kn">context</span><span class="bp">.</span><span class="n">cons</span> <span class="err">Γ</span> <span class="n">A</span><span class="o">)</span> <span class="n">B</span>
<span class="bp">|</span> <span class="n">lam</span> <span class="o">{</span><span class="err">Γ</span> <span class="n">A</span> <span class="n">B</span><span class="o">}</span> <span class="o">:</span> <span class="n">term</span> <span class="o">(</span><span class="kn">context</span><span class="bp">.</span><span class="n">cons</span> <span class="err">Γ</span> <span class="n">A</span><span class="o">)</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">term</span> <span class="err">Γ</span> <span class="o">(</span><span class="n">type</span><span class="bp">.</span><span class="n">pi</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>



<a name="207936548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207936548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207936548">(Aug 25 2020 at 08:33)</a>:</h4>
<p>I recall a talk by Peter LeFanu Lumsdaine (I think) about how to represent buildings (some homotopy theory thing like CW complexes) using inductive-recursive types</p>



<a name="207936959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207936959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207936959">(Aug 25 2020 at 08:38)</a>:</h4>
<p>Misremembered the author, but the slides <a href="https://personal.cis.strath.ac.uk/fredrik.nordvall-forsberg/talks/BCTCS_2010/indind_BCTCS.pdf">here</a> look familiar</p>



<a name="207937914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207937914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207937914">(Aug 25 2020 at 08:50)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> and I had an interesting discussion about this on the discord a few weeks back. The question came up about higher inductive types and whether they were useful for mathematics, and I said "well I formalised perfectoid spaces and schemes and I didn't need anything apart from structures so clearly they're not important" and then Bhavik linked to a parody article about someone who knows a programming language which is not too high-level and not too low-level and then looks at what the lower-level programming languages do and says "golly I'm glad my language has got these features so you don't have to struggle like they do" and then he looks at what higher-level programming languages are doing and says "they're using all these crazy features and I don't understand their code but it's clearly not necessary because I can do everything I want to do in my language"</p>



<a name="207937957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207937957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207937957">(Aug 25 2020 at 08:51)</a>:</h4>
<p>the point being that perhaps higher inductive types are useful even though I don't need them</p>



<a name="207937971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207937971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207937971">(Aug 25 2020 at 08:51)</a>:</h4>
<p>Bhavik will I'm sure remember the link to the parody</p>



<a name="207938062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938062">(Aug 25 2020 at 08:52)</a>:</h4>
<p>That's known as the blub paradox.  Maybe it was Paul Graham's essay that introduced them?</p>



<a name="207938110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938110">(Aug 25 2020 at 08:53)</a>:</h4>
<p>I guess you said a parody, so probably not.  But here's his essay: <a href="http://paulgraham.com/avg.html">http://paulgraham.com/avg.html</a></p>



<a name="207938307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938307">(Aug 25 2020 at 08:56)</a>:</h4>
<p>someone needs to write a language called blub</p>



<a name="207938504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938504">(Aug 25 2020 at 08:59)</a>:</h4>
<p>Yeah this is it, perhaps it was someone else's take on Blub but I think it was called Blub</p>



<a name="207938508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938508">(Aug 25 2020 at 08:59)</a>:</h4>
<p>in fact I can now search for it on the discord</p>



<a name="207938522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207938522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207938522">(Aug 25 2020 at 08:59)</a>:</h4>
<p>oh except I am live streaming at 10</p>



<a name="207945150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207945150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207945150">(Aug 25 2020 at 10:24)</a>:</h4>
<p>regarding higher inductive types, Lean doesn't have "higher types" in the first place, but you probably used quotients, which you can see as a particular hard-coded baby higher inductive type.</p>



<a name="207945619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207945619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207945619">(Aug 25 2020 at 10:31)</a>:</h4>
<p>About induction-recursion, I would say: yes, there are definitions in math that can naturally be viewed as examples of induction-recursion; but they aren't of this "model of type theory" sort, and (usually?) can be encoded in other ways. So for the purposes of math, not supporting induction-recursion is sort of like (hypothetically) not supporting mutual inductive types.</p>



<a name="207945711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207945711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207945711">(Aug 25 2020 at 10:33)</a>:</h4>
<p>Whether it would be <em>useful</em> to have direct support for induction-recursion is hard to say, given that it's not so easy to try using them.</p>



<a name="207945724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207945724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207945724">(Aug 25 2020 at 10:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F/near/207938110">said</a>:</p>
<blockquote>
<p>I guess you said a parody, so probably not.  But here's his essay: <a href="http://paulgraham.com/avg.html">http://paulgraham.com/avg.html</a></p>
</blockquote>
<p>Yeah this was exactly what I'd linked</p>



<a name="207953590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207953590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207953590">(Aug 25 2020 at 12:01)</a>:</h4>
<p>I remember trying to formalise some definition of Jamie Vicary's about higher categories at some point, and realised I was trying to write something than needed induction-recursion. I can't find this now.</p>



<a name="207953695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207953695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207953695">(Aug 25 2020 at 12:02)</a>:</h4>
<p>A student at some point claimed that they wanted to use induction-recursion to formalise CW complexes, but I never got to the bottom of their difficulty. I'm pretty confident in that case it was not necessary.</p>



<a name="207955028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207955028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Devon Tuma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207955028">(Aug 25 2020 at 12:16)</a>:</h4>
<p>They may have been trying to do a HoTT style of cell complex, where the type associated to most cell complexes will be a higher inductive type? (e.g. the CW complex for a circle would translate to a type with two constructors: A base point, and a non-trivial path from the base point to itself, a torus would be a type with 4 constructors, etc.) Although this is more a way to look at particular complexes than a generic formalization of them.</p>



<a name="207955052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207955052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207955052">(Aug 25 2020 at 12:16)</a>:</h4>
<p>If you want to build the type "CW complexes of dimension at most n" as an inductive family indexed on n, then you need induction-recursion in order to say what it means to give attaching maps for the n-cells. But you can also define that type by recursion on n, and this would be supported by Lean.</p>



<a name="207955316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207955316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207955316">(Aug 25 2020 at 12:20)</a>:</h4>
<p>When I realized this (and that it would also solve another problem of mine) I stopped accumulating a list of examples of induction-recursion in math. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="207955380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20induction-recursion%20and%20induction-induction%20limitation%3F/near/207955380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20induction-recursion.20and.20induction-induction.20limitation.3F.html#207955380">(Aug 25 2020 at 12:21)</a>:</h4>
<p>The CW complex example is a bit flawed in that it's not clear how you would describe infinite-dimensional ones.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>