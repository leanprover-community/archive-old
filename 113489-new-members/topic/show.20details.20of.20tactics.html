---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/show.20details.20of.20tactics.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html">show details of tactics</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="294534535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294534535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294534535">(Aug 21 2022 at 11:41)</a>:</h4>
<p>hello, I have just installed lean + mathlib + vs code. I am working through 00_first_proof.lean in tutorial. There is an example lemma "unique_max" that invokes tactic "linarith". Is there a way to get vs code to show me what the tactic is actually doing? When I move my cursor past "linarith", it goes straight to "goals accomplished". In the source comments it suggests that linarith is using the lemma "le_antisymm", how can I see that lean decided to do this?</p>



<a name="294535642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294535642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294535642">(Aug 21 2022 at 11:55)</a>:</h4>
<p>You can use <code>show_term {linarith}</code></p>



<a name="294535658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294535658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294535658">(Aug 21 2022 at 11:55)</a>:</h4>
<p>But you will likely get more than you bargained for</p>



<a name="294535690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294535690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294535690">(Aug 21 2022 at 11:55)</a>:</h4>
<p>(<a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.interactive.show_term">docs#tactic.interactive.show_term</a>)</p>



<a name="294535826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294535826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294535826">(Aug 21 2022 at 11:57)</a>:</h4>
<p>Tactics like <code>linarith</code> typically generate huge proof terms which are not human-comprehensible. Why do you want to see what Lean did? Do you actually mean "how do I give a low-level proof"?</p>



<a name="294535973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294535973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294535973">(Aug 21 2022 at 11:58)</a>:</h4>
<p>yes, I guess I want to understand how the proof was actually carried out</p>



<a name="294536022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294536022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294536022">(Aug 21 2022 at 11:59)</a>:</h4>
<p>I tried putting <code>show_term {linarith},</code> in a line before <code>linarith,</code> is that correct?</p>



<a name="294536134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294536134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294536134">(Aug 21 2022 at 12:00)</a>:</h4>
<p>indeed I get unreadable output</p>



<a name="294536195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294536195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294536195">(Aug 21 2022 at 12:00)</a>:</h4>
<p>or another to put my question: how did the author of the comments know that <code>linarith</code> invoked <code>le_antisymm</code>?</p>



<a name="294536309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294536309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294536309">(Aug 21 2022 at 12:02)</a>:</h4>
<p>the text <code>le_antisymm</code> does not appear in that long output. Hmmm.</p>



<a name="294537009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294537009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294537009">(Aug 21 2022 at 12:08)</a>:</h4>
<p>maybe this will all make sense to me after I play around a bit more...</p>



<a name="294537355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294537355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294537355">(Aug 21 2022 at 12:12)</a>:</h4>
<p><code>linarith</code> knows a ton of tricks for solving linear inequalities and it's not going to tell you which ones it used. If you want to prove the goal using <code>le_antisymm</code> instead and make a nicer proof term, feel free! If there's a goal of the form a=b and you have hypotheses a&lt;=b and b&lt;=a then you can be pretty sure that a tactic designed to solve a wide class of linear inequalities will use antisymmetry of &lt;= at this point.</p>



<a name="294539333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294539333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294539333">(Aug 21 2022 at 12:34)</a>:</h4>
<p>Looking at <a href="https://github.com/leanprover-community/tutorials/blob/master/src/exercises/00_first_proofs.lean#L51">https://github.com/leanprover-community/tutorials/blob/master/src/exercises/00_first_proofs.lean#L51</a> , it doesn't seem to say anything about <code>le_antisymm</code> in particular, though, does it? It generally doesn't make much sense to claim anything about what specific lemmas are used in the proof generated by a strong tactic, nor does it matter all that much</p>



<a name="294576271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294576271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294576271">(Aug 21 2022 at 19:12)</a>:</h4>
<p>It's almost certainly a simplification of the author to say that <code>linarith</code> invokes <code>le_antisymm</code>. It does something roughly like that, but there is a whole bunch of other preprocessing that it does that would probably make it hard to find the <code>le_antisymm</code> analogue in the result</p>



<a name="294576581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294576581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294576581">(Aug 21 2022 at 19:17)</a>:</h4>
<p>Looking at the result of:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.linarith</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">show_term</span> <span class="o">{</span> <span class="n">linarith</span> <span class="o">}</span>
</code></pre></div>
<p>it appears the <code>le_antisymm</code> analogue is the very first theorem application, <a href="https://leanprover-community.github.io/mathlib_docs/find/linarith.eq_of_not_lt_of_not_gt">docs#linarith.eq_of_not_lt_of_not_gt</a>, which is basically <code>le_antisymm</code> combined with <code>le_of_not_gt</code></p>



<a name="294576740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294576740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294576740">(Aug 21 2022 at 19:19)</a>:</h4>
<p>Mario, as Ruben pointed out, the author didn't say that, it is David's interpretation.</p>



<a name="294576826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294576826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294576826">(Aug 21 2022 at 19:20)</a>:</h4>
<p>The author <a href="https://github.com/leanprover-community/tutorials/blob/846f15df6c292d81849937270f6201aa1ebdb571/src/exercises/00_first_proofs.lean#L69-L71">wrote</a>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="c1">-- Now we know `x ≤ y` and `y ≤ x`, and Lean shouldn't need more help.</span>
  <span class="c1">-- `linarith` proves equalities and inequalities that follow linearly from</span>
  <span class="c1">-- the assumption we have.</span>
</code></pre></div>



<a name="294585786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294585786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Harvey <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294585786">(Aug 21 2022 at 21:52)</a>:</h4>
<p>In the version I have, it says on line 105: <code>In order to reach this stage, we need to know what "linarith" did for us. It invoked the lemma "le_antisymm" which says...</code>. Anyway, thanks everyone I think you have clarified for me what is going on. I'm still at the stage that I don't understand what is the relationship between what is going on in the left hand panel and the right hand panel, I'm just trying to understand a bit more what is happening under the hood.</p>



<a name="294585853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294585853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294585853">(Aug 21 2022 at 21:53)</a>:</h4>
<p>Oh indeed we weren't looking at the same place.</p>



<a name="294585905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294585905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294585905">(Aug 21 2022 at 21:54)</a>:</h4>
<p>That line 105 is indeed a lie (for pedagogical purposes).</p>



<a name="294585929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294585929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294585929">(Aug 21 2022 at 21:55)</a>:</h4>
<p>But inspecting what <code>linarith</code> actually did is definitely not the way you're meant to improve your understanding here.</p>



<a name="294585992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294585992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294585992">(Aug 21 2022 at 21:56)</a>:</h4>
<p>I think you're trying to understand too much too early.</p>



<a name="294586025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294586025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294586025">(Aug 21 2022 at 21:57)</a>:</h4>
<p>When you read in the zeroth file of a tutorial a sentence like </p>
<blockquote>
<p><code>linarith</code> proves equalities and inequalities that follow linearly from the assumption we have.</p>
</blockquote>
<p>you're certainly not expected to start investigating the inner working of <code>linarith</code>.</p>



<a name="294731701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/show%20details%20of%20tactics/near/294731701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/show.20details.20of.20tactics.html#294731701">(Aug 22 2022 at 17:11)</a>:</h4>
<p>If it's any help, I have no idea how <code>linarith</code> does what it does but I have a good understanding of which goals I can expect it to close.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>