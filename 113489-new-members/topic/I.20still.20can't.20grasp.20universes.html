---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html">I still can't grasp universes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="242210520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242210520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242210520">(Jun 10 2021 at 13:59)</a>:</h4>
<p>I couldn't understand universes even though I've read <a href="https://leanprover.github.io/reference/expressions.html">https://leanprover.github.io/reference/expressions.html</a> several times, can anyone explain this to me in simple terms, or at least give me some context as to why this is needed</p>



<a name="242212701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242212701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242212701">(Jun 10 2021 at 14:12)</a>:</h4>
<p>In Lean everything is a term and has type. So things like <code>int</code>, <code>bool</code> ... have to have a type, for which we might introduce <code>Type</code>, the type of types, so <code>nat : Type</code>, <code>bool : Type</code>, ... . And then you ask well, <code>Type</code> too has to have a type, so what's the type of <code>Type</code>? One might think to set the type of <code>Type</code> to be <code>Type</code> itself, since it is in the end a type, and <code>Type</code> is the type of all types. The problem with having <code>Type : Type</code> is that it is known to be inconsistent. See for example, <a href="https://en.wikipedia.org/wiki/System_U#Girard's_paradox">Girard's paradox</a>, for which also have a formalization in Lean: <a href="https://github.com/leanprover-community/mathlib/blob/master/counterexamples/girard.lean">https://github.com/leanprover-community/mathlib/blob/master/counterexamples/girard.lean</a></p>
<p>So instead of this, for the type of <code>Type</code>, we introduce a larger type, and we call it <code>Type 1</code>. And then this continues forever, for the type <code>Type 1</code> we introduce <code>Type 2</code> and so on. So that we have <code>Type : Type 1 : Type 2 : ...</code></p>



<a name="242212728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242212728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242212728">(Jun 10 2021 at 14:12)</a>:</h4>
<p>That's my intuition at least</p>



<a name="242212943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242212943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242212943">(Jun 10 2021 at 14:13)</a>:</h4>
<p>And of course, as you might know, in Lean we also have <code>Prop</code> which goes below the first <code>Type 0</code>. So the hierarchy is actually <code>Sort 0 : Sort 1 : Sort 2 ...</code>, where <code>Prop</code> is a notation for <code>Sort 0</code> and <code>Type u</code> for <code>Sort u + 1</code></p>



<a name="242213922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242213922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242213922">(Jun 10 2021 at 14:19)</a>:</h4>
<p><del>Then what is the difference between Sort and Type?</del> (answered sorry) And why are there weird functions (<code>+</code>, <code>max</code>, <code>imax</code>) on universe levels? I can't understand the purpose of them (except <code>+ 1</code>, I fail to see why adding an arbitrary number is needed)</p>



<a name="242214272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242214272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242214272">(Jun 10 2021 at 14:21)</a>:</h4>
<p>Especially imax. The definition is extremely weird.</p>



<a name="242215075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242215075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242215075">(Jun 10 2021 at 14:26)</a>:</h4>
<p>If you have a tuple of two elements in universe level i and j, then the tuple itself is of a type which is in the most-high-up (= max i j) universe. That's a fellow newbie's intuition so take it with a grain of salt :)</p>



<a name="242215349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242215349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242215349">(Jun 10 2021 at 14:28)</a>:</h4>
<p><code>imax</code> is for <code>Prop</code>s . One of the main differences between <code>Prop</code> and <code>Type*</code> is how they behave with respective too universes in Pi-types. Any quantification into <code>Prop</code> stays in <code>Prop</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universes</span> <span class="n">u</span> <span class="n">v</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="k">#check</span> <span class="bp">∀</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span> <span class="n">β</span> <span class="n">α</span>
<span class="c1">-- Π (α : Type u), β α : Type (max (u+1) v)</span>
<span class="k">#check</span> <span class="bp">∀</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span> <span class="n">p</span> <span class="n">α</span>
<span class="c1">-- ∀ (α : Type u), p α : Prop</span>
</code></pre></div>



<a name="242215476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242215476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242215476">(Jun 10 2021 at 14:28)</a>:</h4>
<p><code>imax</code> is so that you can include both cases above in a single formula</p>



<a name="242215987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242215987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242215987">(Jun 10 2021 at 14:31)</a>:</h4>
<p>So the general rule, take from the Lean reference manual, can be expressed, for <code>\a : Sort u</code> and <code>\b : Sort v</code>, as <code>(Π x : α, β) : Sort (imax u v)</code>, with the help of <code>imax</code>, otherwise you would need to write two cases, for <code>Sort 0</code> and <code>Sort u</code>, <code>u &gt; 0</code></p>



<a name="242217056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242217056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242217056">(Jun 10 2021 at 14:37)</a>:</h4>
<p>Wait.</p>
<blockquote>
<p>The last one denotes the universe level 0 if v is 0, and max u v otherwise.</p>
</blockquote>
<p>Why doesn't that sentence read</p>
<blockquote>
<p>The last one denotes the universe level 0 if either u or v is 0, and max u v otherwise.</p>
</blockquote>



<a name="242217217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242217217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242217217">(Jun 10 2021 at 14:38)</a>:</h4>
<p>Yes, your explanation helps, but your explanation generates even more questions <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="242218917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242218917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242218917">(Jun 10 2021 at 14:48)</a>:</h4>
<p>Because it doesn't work that way in the other direction. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universes</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="k">#check</span> <span class="n">p</span> <span class="bp">→</span> <span class="n">α</span>
<span class="c1">-- p → α : Sort (u + 1) = Sort (max 0 (u + 1))</span>
<span class="c1">--                = Sort (imax 0 (u + 1)) ≠ Sort (your_alternative_imax 0 (u + 1)) = Sort 0</span>
<span class="k">#check</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">p</span>
<span class="c1">-- α → p : Sort 0 = Sort (imax ((u + 1) 0) ≠ Sort (max (u + 1) 0) = u + 1</span>
</code></pre></div>



<a name="242219352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242219352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242219352">(Jun 10 2021 at 14:51)</a>:</h4>
<p>Actually only the first <code>#check</code> is relevant to the last question, the second one is just for exemplification</p>



<a name="242220327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242220327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242220327">(Jun 10 2021 at 14:57)</a>:</h4>
<p>OK so this is getting even more confusing... Why can I do this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>

<span class="kd">def</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">α</span>
<span class="kd">def</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">x</span> <span class="n">α</span>
<span class="kd">def</span> <span class="n">z</span> <span class="o">:=</span> <span class="n">y</span> <span class="n">α</span>
</code></pre></div>



<a name="242220402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242220402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242220402">(Jun 10 2021 at 14:57)</a>:</h4>
<p>This can go on forever...</p>



<a name="242220501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242220501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242220501">(Jun 10 2021 at 14:58)</a>:</h4>
<p>I know this is not "proper mathematics" but this is proper type theory. I need help <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="242221243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242221243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242221243">(Jun 10 2021 at 15:02)</a>:</h4>
<p>And yes I did that because I made a def for fun and I checked its type and I saw Type u_1 \im Type u_1 and I was like oh this is a function and I used it...</p>



<a name="242221624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242221624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242221624">(Jun 10 2021 at 15:04)</a>:</h4>
<p>Foundations is so confusing. I swear if foundations was a subject at school I would drop out to avoid severe brain damage.</p>



<a name="242222153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242222153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Horatiu Cheval <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242222153">(Jun 10 2021 at 15:08)</a>:</h4>
<p>Here it's not a matter of foundations at all actually, just of Lean syntax. Declaring a variable basically tells Lean "consider this as an argument for all future definition, wherever needed". <br>
So your <code>x</code> for example, is the same as if you wrote</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universes</span> <span class="n">u</span>
<span class="kd">def</span> <span class="n">x</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">α</span>
</code></pre></div>
<p>So, with <code>x</code> you just defined the identity function at <code>Type u</code>, that takes an argument and just returns. It makes no different that the argument is of type <code>Type u</code>. It could have been <code>int</code> and everything would have worked the same.</p>



<a name="242253727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/I%20still%20can%27t%20grasp%20universes/near/242253727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes.html#242253727">(Jun 10 2021 at 18:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="270523">Huỳnh Trần Khanh</span> <a href="#narrow/stream/113489-new-members/topic/I.20still.20can't.20grasp.20universes/near/242221624">said</a>:</p>
<blockquote>
<p>if foundations was a subject at school I would drop out to avoid severe brain damage.</p>
</blockquote>
<p>This might be foundations-induced brain damage, but I found it helpful to think about universe variables as a way to give an (infinite) family of definitions/theorems simultaneously, without having to repeat yourself for all possible combinations of universes you might want to use in practice.  The universe variable arithmetic expressions are there to help you define useful families, and Lean guarantees that any substitution of universe levels for the universe variables gives well-typed terms (given the above example, you can do <code>x.{37}</code> to get the instantiation of that definition with the type <code>Type 37 -&gt; Type 37</code>, substituting <code>37</code> for <code>u</code>.)</p>
<p>Something this point of view helped me understand is why you can't have types that quantify over universe levels, except at the point of a definition/theorem.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>