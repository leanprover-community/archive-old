---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html">polynomial in span of coefficients</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207931346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207931346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207931346">(Aug 25 2020 at 07:19)</a>:</h4>
<p>Dear All,</p>
<p>I am trying to prove that if <code>f</code> is a polynomial in one variable over a commutative ring, then <code>f</code> is contained in the ideal span of its coefficients.  I hope that the code below states, at least correctly, the result that I want!  Is there a proof already of this fact?  I am having a hard time using the "support" of the polynomial and converting into a "sum representation".</p>
<p>Thank you!</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">polynomial</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">lemma</span> <span class="n">finc</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">f</span> <span class="err">∈</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">tt</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="mi">1</span> <span class="o">,</span><span class="n">tt</span> <span class="bp">=</span> <span class="o">(</span><span class="n">C</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">i</span><span class="o">))}</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207932060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932060">(Aug 25 2020 at 07:30)</a>:</h4>
<p>oh wow data.polynomial has been broken up into lots of files recently, and I don't know my way around it any more.</p>



<a name="207932093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932093">(Aug 25 2020 at 07:30)</a>:</h4>
<p>There will presumably be some lemma in there somewhere which says that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the coefficient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">X^i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span> in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><msub><mo>∑</mo><mi>i</mi></msub><msub><mi>a</mi><mi>i</mi></msub><msup><mi>X</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">f=\sum_i a_i X^i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.124374em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="207932214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932214">(Aug 25 2020 at 07:32)</a>:</h4>
<p>It's <code>as_sum</code> on line 196 of <code>data.polynomial.degree.basic</code></p>



<a name="207932238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932238">(Aug 25 2020 at 07:33)</a>:</h4>
<p>I have been unable to locate this lemma: thank you very much!  I will try to get it to work!</p>



<a name="207932484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932484">(Aug 25 2020 at 07:36)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">finc</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="err">∈</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">tt</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="mi">1</span> <span class="o">,</span><span class="n">tt</span> <span class="bp">=</span> <span class="o">(</span><span class="n">C</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">i</span><span class="o">))}</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207932554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932554">(Aug 25 2020 at 07:37)</a>:</h4>
<p>Now the goal becomes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>i</mi><mtext> </mtext><mo>∈</mo><mi>S</mi></mrow></msub><msub><mi>a</mi><mi>i</mi></msub><mo>∈</mo><mo>…</mo></mrow><annotation encoding="application/x-tex">\sum_{i\ \in S}a_i \in\ldots</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-0.32708000000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mspace mtight"><span class="mtight"> </span></span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.12em;vertical-align:0em;"></span><span class="minner">…</span></span></span></span> oh oops, I've rewritten too many f's.</p>



<a name="207932636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932636">(Aug 25 2020 at 07:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="k">begin</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207932692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932692">(Aug 25 2020 at 07:39)</a>:</h4>
<p>(rewrite on LHS only). Now the goal is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><mi>S</mi></mrow></msub><msub><mi>a</mi><mi>i</mi></msub><mo>∈</mo><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sum_{i\in S}a_i \in span(A)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-0.32708000000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> and you know that each <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>.</p>



<a name="207932805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932805">(Aug 25 2020 at 07:41)</a>:</h4>
<p>Ah, I did not know that you could make Lean rw only on the LHS...</p>



<a name="207932970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932970">(Aug 25 2020 at 07:43)</a>:</h4>
<p>So now we want to apply a lemma that says that if a finite number of things are in an ideal then so is their sum</p>



<a name="207932983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207932983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207932983">(Aug 25 2020 at 07:43)</a>:</h4>
<p>And that will be called sum_mem probably</p>



<a name="207933212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933212">(Aug 25 2020 at 07:46)</a>:</h4>
<p>(sorry so slow, doing ten other things at once; just sat down to think about this now)</p>



<a name="207933253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933253">(Aug 25 2020 at 07:47)</a>:</h4>
<p>No worries!  Besides, getting a slower feed, I learn more!</p>



<a name="207933279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933279">(Aug 25 2020 at 07:47)</a>:</h4>
<p>If I do <code>#check sum_mem</code> and then hit ctrl-space (and then escape and ctrl-space again) I see a list of possibilities</p>



<a name="207933283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933283">(Aug 25 2020 at 07:47)</a>:</h4>
<p>(and I get some extra time to process)</p>



<a name="207933336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933336">(Aug 25 2020 at 07:48)</a>:</h4>
<p>oh here we go, <code>submodule.sum_mem</code> should do it</p>



<a name="207933371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933371">(Aug 25 2020 at 07:48)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
</code></pre></div>



<a name="207933417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933417">(Aug 25 2020 at 07:49)</a>:</h4>
<p>The goal is now</p>
<div class="codehilite"><pre><span></span><code>⊢ ∀ (c : ℕ), c ∈ finset.range (f.nat_degree + 1) → ⇑C (f.coeff c) * X ^ c ∈ ideal.span {tt : polynomial R | ∃ (i : ℕ) (H : i ∈ f.support), tt = ⇑C (f.coeff i)}
</code></pre></div>



<a name="207933429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933429">(Aug 25 2020 at 07:49)</a>:</h4>
<p>Yes, I am getting the same!  At least I know how to follow steps!</p>



<a name="207933493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933493">(Aug 25 2020 at 07:50)</a>:</h4>
<p>This would be a one-liner but for the fact that the ideal on the RHS is only generated by the coefficients in the support</p>



<a name="207933511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933511">(Aug 25 2020 at 07:50)</a>:</h4>
<p>whereas the coefficient could be zero, so we're going to have to split into two cases</p>



<a name="207933583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933583">(Aug 25 2020 at 07:52)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="k">begin</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">sorry</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">sorry</span> <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207933643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933643">(Aug 25 2020 at 07:52)</a>:</h4>
<p>The first goal is when i is in the support:</p>
<div class="codehilite"><pre><span></span><code>h: i ∈ f.support
⊢ ⇑C (f.coeff i) * X ^ i ∈ ideal.span {tt : polynomial R | ∃ (i : ℕ) (H : i ∈ f.support), tt = ⇑C (f.coeff i)}
</code></pre></div>



<a name="207933665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933665">(Aug 25 2020 at 07:53)</a>:</h4>
<p>By the way, do you see that I am writing the argument completely backwards as far as a mathematician is concerned?</p>



<a name="207933671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933671">(Aug 25 2020 at 07:53)</a>:</h4>
<p>I am following!</p>



<a name="207933681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933681">(Aug 25 2020 at 07:53)</a>:</h4>
<p>We now want that if a is in I, then a*b is in I</p>



<a name="207933693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933693">(Aug 25 2020 at 07:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207933665">said</a>:</p>
<blockquote>
<p>By the way, do you see that I am writing the argument completely backwards as far as a mathematician is concerned?</p>
</blockquote>
<p>Yes, every other line that I write in Lean seems to be a <code>have</code>...</p>



<a name="207933742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933742">(Aug 25 2020 at 07:54)</a>:</h4>
<p>that's because you're writing arguments forwards</p>



<a name="207933755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933755">(Aug 25 2020 at 07:54)</a>:</h4>
<p>Both ways are fine, but there are advantages to going backwards</p>



<a name="207933768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933768">(Aug 25 2020 at 07:54)</a>:</h4>
<p>I can imagine, I am just not proficient enough, yet</p>



<a name="207933796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933796">(Aug 25 2020 at 07:55)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">sorry</span> <span class="o">},</span>
</code></pre></div>



<a name="207933812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933812">(Aug 25 2020 at 07:55)</a>:</h4>
<p>and now the first goal is </p>
<div class="codehilite"><pre><span></span><code>⊢ ⇑C (f.coeff i) ∈ ideal.span {tt : polynomial R | ∃ (i : ℕ) (H : i ∈ f.support), tt = ⇑C (f.coeff i)}
</code></pre></div>



<a name="207933869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933869">(Aug 25 2020 at 07:56)</a>:</h4>
<p>so we need the lemma that X is in the ideal spanned by X</p>



<a name="207933879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933879">(Aug 25 2020 at 07:56)</a>:</h4>
<p>ok</p>



<a name="207933883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933883">(Aug 25 2020 at 07:56)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">apply</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span><span class="o">,</span>
</code></pre></div>



<a name="207933900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933900">(Aug 25 2020 at 07:57)</a>:</h4>
<p>and now our first goal has become</p>
<div class="codehilite"><pre><span></span><code>⊢ ⇑C (f.coeff i) ∈ {tt : polynomial R | ∃ (i : ℕ) (H : i ∈ f.support), tt = ⇑C (f.coeff i)}
</code></pre></div>



<a name="207933920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933920">(Aug 25 2020 at 07:57)</a>:</h4>
<p>which seems at least true...</p>



<a name="207933941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933941">(Aug 25 2020 at 07:57)</a>:</h4>
<p>and the way that sets are set up, this is definitionally equal to the simpler</p>
<div class="codehilite"><pre><span></span><code><span class="err">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">i_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">i_1</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">),</span> <span class="err">⇑</span><span class="n">C</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⇑</span><span class="n">C</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i_1</span><span class="o">)</span>
</code></pre></div>


<p>and you can change the goal to this with <code>dsimp</code> if you want (but I won't do this)</p>



<a name="207933989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207933989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207933989">(Aug 25 2020 at 07:58)</a>:</h4>
<p>To solve an exists goal, you use <code>use</code></p>



<a name="207934010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934010">(Aug 25 2020 at 07:58)</a>:</h4>
<p><code>use [i, h] </code> (we have both things to hand)</p>



<a name="207934019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934019">(Aug 25 2020 at 07:58)</a>:</h4>
<p>yes!!</p>



<a name="207934022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934022">(Aug 25 2020 at 07:58)</a>:</h4>
<p>and now the goal is of the form X=X so Lean closes it automatically</p>



<a name="207934035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934035">(Aug 25 2020 at 07:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="k">begin</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">i</span><span class="o">,</span> <span class="n">h</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">sorry</span> <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207934066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934066">(Aug 25 2020 at 07:59)</a>:</h4>
<p>The other case -- here i is not in the support so we're trying to prove that 0 is in the ideal</p>



<a name="207934078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934078">(Aug 25 2020 at 07:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207933941">said</a>:</p>
<blockquote>
<p>and the way that sets are set up, this is definitionally equal to the simpler</p>
<div class="codehilite"><pre><span></span><code><span class="err">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">i_1</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">i_1</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">),</span> <span class="err">⇑</span><span class="n">C</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="err">⇑</span><span class="n">C</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i_1</span><span class="o">)</span>
</code></pre></div>


<p>and you can change the goal to this with <code>dsimp</code> if you want (but I won't do this)</p>
</blockquote>
<p>I did not know that you could deal with sets like this</p>



<a name="207934148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934148">(Aug 25 2020 at 08:00)</a>:</h4>
<p><code>x \in {y | P y}</code> is definitionally equal to <code>P x</code></p>



<a name="207934185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934185">(Aug 25 2020 at 08:00)</a>:</h4>
<p>If it weren't then there would be some simp lemma saying it was and you'd apply that</p>



<a name="207934186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934186">(Aug 25 2020 at 08:00)</a>:</h4>
<p>I see.  I had probably read this somewhere, but it flowed out of my mind</p>



<a name="207934226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934226">(Aug 25 2020 at 08:01)</a>:</h4>
<p>so, for the second goal, my approach would be to <code>have coeff... = 0</code></p>



<a name="207934265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934265">(Aug 25 2020 at 08:01)</a>:</h4>
<p>I tend to go backwards so I'd start with </p>
<div class="codehilite"><pre><span></span><code><span class="n">convert</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">zero_mem</span> <span class="bp">_</span><span class="o">,</span>
</code></pre></div>



<a name="207934315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934315">(Aug 25 2020 at 08:02)</a>:</h4>
<div class="codehilite"><pre><span></span><code>h: i ∉ f.support
⊢ ⇑C (f.coeff i) * X ^ i = 0
</code></pre></div>



<a name="207934317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934317">(Aug 25 2020 at 08:02)</a>:</h4>
<p>I would prefer to follow your strategy</p>



<a name="207934365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934365">(Aug 25 2020 at 08:02)</a>:</h4>
<p><code>submodule.zero_mem J</code> is the assertion that 0 is in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span></p>



<a name="207934387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934387">(Aug 25 2020 at 08:03)</a>:</h4>
<p>Our goal is that something else is in <code>J</code>, but the <code>convert</code> tactic says "honestly, this line should close this goal"</p>



<a name="207934396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934396">(Aug 25 2020 at 08:03)</a>:</h4>
<p>and Lean's response is "OK then, you will have to prove that these things are equal before I believe you"</p>



<a name="207934426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934426">(Aug 25 2020 at 08:03)</a>:</h4>
<p>Ah, so you are pointing out to Lean that 0 is an element of the set and it tries to then prove that your given element is 0?</p>



<a name="207934435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934435">(Aug 25 2020 at 08:03)</a>:</h4>
<p>right</p>



<a name="207934459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934459">(Aug 25 2020 at 08:04)</a>:</h4>
<p>(or rather, asks you to prove!)</p>



<a name="207934501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934501">(Aug 25 2020 at 08:04)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">convert</span> <span class="n">zero_mul</span> <span class="bp">_</span><span class="o">,</span>
</code></pre></div>



<a name="207934519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934519">(Aug 25 2020 at 08:04)</a>:</h4>
<p><code>zero_mul _</code> is the statement that <code>0 * x = 0</code> and I'm telling Lean to close the goal with this</p>



<a name="207934531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934531">(Aug 25 2020 at 08:04)</a>:</h4>
<p>Ok, I am following</p>



<a name="207934534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934534">(Aug 25 2020 at 08:04)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">h</span><span class="o">:</span> <span class="n">i</span> <span class="err">∉</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="err">⇑</span><span class="n">C</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>



<a name="207934562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934562">(Aug 25 2020 at 08:05)</a>:</h4>
<p>It's a bit disappointing that <code>simp</code> can't take it from here</p>



<a name="207934703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934703">(Aug 25 2020 at 08:07)</a>:</h4>
<p>There are two steps left: first to show that if i isn't in the support then <code>f.coeff i = 0</code></p>



<a name="207934711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934711">(Aug 25 2020 at 08:07)</a>:</h4>
<p>and second to show that C 0 = 0</p>



<a name="207934783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934783">(Aug 25 2020 at 08:08)</a>:</h4>
<p>Ok, and C should be injective, right?</p>



<a name="207934807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934807">(Aug 25 2020 at 08:08)</a>:</h4>
<p>right, but injectivity in Lean means C x = C y -&gt; x = y</p>



<a name="207934808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934808">(Aug 25 2020 at 08:08)</a>:</h4>
<p>(I am trying to reason the opposite way in which I would normally, in this baby case!)</p>



<a name="207934820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934820">(Aug 25 2020 at 08:08)</a>:</h4>
<p>and there's only one C here</p>



<a name="207934832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934832">(Aug 25 2020 at 08:09)</a>:</h4>
<p>I'm trying to find the interface for C</p>



<a name="207934852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934852">(Aug 25 2020 at 08:09)</a>:</h4>
<p>found it</p>



<a name="207934880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934880">(Aug 25 2020 at 08:09)</a>:</h4>
<p>I found a random file in data/polynomial which mentioned C and then I right clicked on it and I'm now in <code>data.polynomial.monomial</code></p>



<a name="207934882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934882">(Aug 25 2020 at 08:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207934852">said</a>:</p>
<blockquote>
<p>found it</p>
</blockquote>
<p>where?  how?</p>



<a name="207934929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934929">(Aug 25 2020 at 08:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207934880">said</a>:</p>
<blockquote>
<p>I found a random file in data/polynomial which mentioned C and then I right clicked on it and I'm now in <code>data.polynomial.monomial</code></p>
</blockquote>
<p>ok, thanks!</p>



<a name="207934936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934936">(Aug 25 2020 at 08:10)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="c">/-</span><span class="cm">-</span>
<span class="cm">`C a` is the constant polynomial `a`.</span>
<span class="cm">`C` is provided as a ring homomorphism.</span>
<span class="cm">-/</span>
<span class="n">def</span> <span class="n">C</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→+*</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="o">:=</span> <span class="n">add_monoid_algebra</span><span class="bp">.</span><span class="n">algebra_map&#39;</span> <span class="o">(</span><span class="n">ring_hom</span><span class="bp">.</span><span class="n">id</span> <span class="n">R</span><span class="o">)</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">monomial_zero_left</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">monomial</span> <span class="mi">0</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">C</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">lemma</span> <span class="n">C_0</span> <span class="o">:</span> <span class="n">C</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">single_zero</span>

<span class="kn">lemma</span> <span class="n">C_1</span> <span class="o">:</span> <span class="n">C</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">...</span>
</code></pre></div>



<a name="207934952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934952">(Aug 25 2020 at 08:10)</a>:</h4>
<p>I was looking for <code>C_zero</code> so now I see my mistake</p>



<a name="207934963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934963">(Aug 25 2020 at 08:10)</a>:</h4>
<p><code>convert C_0,</code></p>



<a name="207934970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934970">(Aug 25 2020 at 08:10)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">h</span><span class="o">:</span> <span class="n">i</span> <span class="err">∉</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span>
<span class="err">⊢</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>



<a name="207934979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934979">(Aug 25 2020 at 08:11)</a>:</h4>
<p>and still <code>simp</code> doesn't do it :-/</p>



<a name="207934989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207934989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207934989">(Aug 25 2020 at 08:11)</a>:</h4>
<p>the C disappeared!</p>



<a name="207935006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935006">(Aug 25 2020 at 08:11)</a>:</h4>
<p><code>C_0</code> says <code>C 0 = 0</code></p>



<a name="207935025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935025">(Aug 25 2020 at 08:12)</a>:</h4>
<p>Yes, I had been able to understand this from what you copy-pasted!</p>



<a name="207935064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935064">(Aug 25 2020 at 08:12)</a>:</h4>
<p>so I told Lean that this was equal to the goal and it figured that the input to C had better be zero so asked me to check</p>



<a name="207935120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935120">(Aug 25 2020 at 08:12)</a>:</h4>
<p>(I keep feeling like those people who needed the LMGTFY)</p>



<a name="207935141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935141">(Aug 25 2020 at 08:13)</a>:</h4>
<p>So I know how to prove this by looking at the internals of <code>finsupp</code></p>



<a name="207935213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935213">(Aug 25 2020 at 08:14)</a>:</h4>
<p>I find that <code>finite</code> and its relatives should be avoided at all costs.  I do not know if it is an issue with <code>finite</code> being second-order or what, but I always have a hard time with that...</p>



<a name="207935216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935216">(Aug 25 2020 at 08:14)</a>:</h4>
<p>The idea is that internally polynomials are represented as some function with finite support, and part of the definition of <code>finsupp</code> is a proof of the assertion that i is in the support iff g(i) is non-zero</p>



<a name="207935260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935260">(Aug 25 2020 at 08:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207935216">said</a>:</p>
<blockquote>
<p>The idea is that internally polynomials are represented as some function with finite support, and part of the definition of <code>finsupp</code> is a proof of the assertion that i is in the support iff g(i) is non-zero</p>
</blockquote>
<p>I had carved this out from somewhere and I got annoyed by it: wouldn't it make more sense to simply know that it is a finite set and outside the coefficients are zero, without necessarily knowing that inside they are not?</p>



<a name="207935294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935294">(Aug 25 2020 at 08:16)</a>:</h4>
<p>so this</p>
<div class="codehilite"><pre><span></span><code>    <span class="n">unfold</span> <span class="n">coeff</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">mem_support_to_fun</span> <span class="n">f</span> <span class="n">i</span><span class="o">,</span>
    <span class="n">simp</span> <span class="bp">*</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
</code></pre></div>


<p>finishes it in a rather inelegant way but I'm sure we can do better</p>



<a name="207935323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935323">(Aug 25 2020 at 08:16)</a>:</h4>
<p>anyway, you already told me not to worry about definitions...</p>



<a name="207935342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935342">(Aug 25 2020 at 08:16)</a>:</h4>
<p>The issue is that <code>finsupp</code> is computable</p>



<a name="207935369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935369">(Aug 25 2020 at 08:17)</a>:</h4>
<p>I think the original statement you said you were after is already in mathllib, perhaps. I remember seeing something very similar recently. Have you looked in <code>ring_theory.polynomial</code>?</p>



<a name="207935381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935381">(Aug 25 2020 at 08:17)</a>:</h4>
<p>so internally a polynomial over R is actually defined as (a) the function from {1,X,X^2,...} to R, (b) a finite subset of {1,X,X^2,...} and (c) a proof that the function is non-zero precisely on the finite subset</p>



<a name="207935412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935412">(Aug 25 2020 at 08:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <code>ring_theory.polynomial</code> is now four files I don't know my way around</p>



<a name="207935451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935451">(Aug 25 2020 at 08:18)</a>:</h4>
<p>Is the empty set <code>finite</code>?  I think that I saw that something is finite and non-empty...</p>



<a name="207935467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935467">(Aug 25 2020 at 08:18)</a>:</h4>
<p>yes the empty set is finite</p>



<a name="207935489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935489">(Aug 25 2020 at 08:18)</a>:</h4>
<p>ok, at some point I was asked by Lean to show that the support of a polynomial was not finite, or so I thought</p>



<a name="207935513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935513">(Aug 25 2020 at 08:19)</a>:</h4>
<p>So currently the second proof looks like</p>
<div class="codehilite"><pre><span></span><code>  <span class="o">{</span> <span class="n">convert</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">zero_mem</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">convert</span> <span class="n">zero_mul</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">convert</span> <span class="n">C_0</span><span class="o">,</span>
    <span class="n">unfold</span> <span class="n">coeff</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h2</span> <span class="o">:=</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">mem_support_to_fun</span> <span class="n">f</span> <span class="n">i</span><span class="o">,</span>
    <span class="n">simp</span> <span class="bp">*</span> <span class="n">at</span> <span class="bp">*</span> <span class="o">},</span>
</code></pre></div>



<a name="207935535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935535">(Aug 25 2020 at 08:19)</a>:</h4>
<p>but I'd rather change those last three lines into something nicer where I don't have to break the interface and start going on about <code>finsupp</code></p>



<a name="207935547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935547">(Aug 25 2020 at 08:19)</a>:</h4>
<p>Anyway, I am so grateful for going though this proof!  Honestly, I would not have learned as much from simply finding a reference to a mathlib proof</p>



<a name="207935628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935628">(Aug 25 2020 at 08:20)</a>:</h4>
<p>Let's take a look at the interface for <code>coeff</code> -- you can find it by right clicking on the <code>coeff</code> in the lemma we're proving</p>



<a name="207935774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935774">(Aug 25 2020 at 08:22)</a>:</h4>
<p>yeah I can't find it. I want <code>i \in f.support \iff f.coeff i \ne 0</code> and/or <code>\not (i \in f.support) \iff f.coeff i = 0</code></p>



<a name="207935835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935835">(Aug 25 2020 at 08:23)</a>:</h4>
<p>Maybe you're not supposed to use <code>support</code> of a polynomial?</p>



<a name="207935852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935852">(Aug 25 2020 at 08:23)</a>:</h4>
<p>I'd be happy to avoid it!  In fact, most of the time, I would be happy with the universal property of polynomial rings!</p>



<a name="207935858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Devon Tuma <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935858">(Aug 25 2020 at 08:23)</a>:</h4>
<p>I think you can get simp to do what you want  at the end with <code>simpa using h</code> (I remember also being upset that <code>simp</code> didn't solve this for me even though it felt like it should, but I think that worked.)</p>



<a name="207935929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935929">(Aug 25 2020 at 08:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="319772">Devon Tuma</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207935858">said</a>:</p>
<blockquote>
<p>I think you can get simp to do what you want  at the end with <code>simpa using h</code> (I remember also being upset that <code>simp</code> didn't solve this for me even though it felt like it should, but I think that worked.)</p>
</blockquote>
<p>I tried it and it worked for me!</p>



<a name="207935932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935932">(Aug 25 2020 at 08:24)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">polynomial</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">lemma</span> <span class="n">finc</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="err">∈</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">tt</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span> <span class="o">,</span><span class="n">tt</span> <span class="bp">=</span> <span class="o">(</span><span class="n">C</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">i</span><span class="o">))}</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">i</span><span class="o">,</span> <span class="n">h</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">convert</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">zero_mem</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">convert</span> <span class="n">zero_mul</span> <span class="bp">_</span><span class="o">,</span>
    <span class="n">convert</span> <span class="n">C_0</span><span class="o">,</span>
    <span class="n">simpa</span> <span class="kn">using</span> <span class="n">h</span> <span class="o">}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207935933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935933">(Aug 25 2020 at 08:24)</a>:</h4>
<p>Thanks!</p>



<a name="207935986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935986">(Aug 25 2020 at 08:25)</a>:</h4>
<p>I see. I was trying <code>simp [h]</code> which didn't work.</p>



<a name="207935995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935995">(Aug 25 2020 at 08:25)</a>:</h4>
<p>But </p>
<div class="codehilite"><pre><span></span><code><span class="n">simp</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">h</span>
</code></pre></div>


<p>works, so <code>simpa using h</code> works</p>



<a name="207935997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207935997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207935997">(Aug 25 2020 at 08:25)</a>:</h4>
<p>what does <code>simp</code> do?</p>



<a name="207936035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936035">(Aug 25 2020 at 08:26)</a>:</h4>
<p>Damiano -- the issue was that I needed to run the simplifier on h as well as the goal</p>



<a name="207936050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936050">(Aug 25 2020 at 08:26)</a>:</h4>
<p>The simplifier is a rewriting system.</p>



<a name="207936071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936071">(Aug 25 2020 at 08:26)</a>:</h4>
<p>If the simplifier knows that <code>A = B</code> and <code>f = g</code> it will be able to prove things like <code>f(A) = g(B)</code></p>



<a name="207936075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936075">(Aug 25 2020 at 08:26)</a>:</h4>
<p>ok, i guess this explains why often i prove a hypothesis, i <code>rw</code> with it and then <code>simp</code> does more</p>



<a name="207936089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936089">(Aug 25 2020 at 08:27)</a>:</h4>
<p><code>=</code> is not symmetric in Lean!</p>



<a name="207936123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936123">(Aug 25 2020 at 08:27)</a>:</h4>
<p>If you look at a simp lemma like <code>zero_mul</code>, it says <code>0 * x = 0</code> but it is not a coincidence that the left hand side of the equality is more complex than the right hand side</p>



<a name="207936133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936133">(Aug 25 2020 at 08:28)</a>:</h4>
<p>the written language of Lean is relatively straightforward to parse, but the various implications are very subtle, for me</p>



<a name="207936174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936174">(Aug 25 2020 at 08:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207936089">said</a>:</p>
<blockquote>
<p><code>=</code> is not symmetric in Lean!</p>
</blockquote>
<p><code>=</code> is not <em>definitionaly</em> symmetric in Lean!</p>



<a name="207936204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936204">(Aug 25 2020 at 08:28)</a>:</h4>
<p>The simplifier will try and replace the left hand side of a simp lemma with the right hand side, so it's important that the more complicated side is the left hand side.</p>



<a name="207936208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936208">(Aug 25 2020 at 08:28)</a>:</h4>
<p>Patrick is explaining what I'm saying in a much better way :-)</p>



<a name="207936218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936218">(Aug 25 2020 at 08:28)</a>:</h4>
<p>Damiano, it's subtle for everyone. Even seasoned users sometimes get caught.</p>



<a name="207936226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936226">(Aug 25 2020 at 08:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207936089">said</a>:</p>
<blockquote>
<p><code>=</code> is not symmetric in Lean!</p>
</blockquote>
<p>I have learned the functions <code>symmetry</code> and <code>symmetry'</code> because of this...</p>



<a name="207936255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936255">(Aug 25 2020 at 08:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207936218">said</a>:</p>
<blockquote>
<p>Damiano, it's subtle for everyone. Even seasoned users sometimes get caught.</p>
</blockquote>
<p>Strangely, this comment makes me hopeful!</p>



<a name="207936543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936543">(Aug 25 2020 at 08:33)</a>:</h4>
<p>That first subproof can be rewritten like this:</p>
<div class="codehilite"><pre><span></span><code>  <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span> <span class="bp">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">h</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">)</span> <span class="o">},</span>
</code></pre></div>



<a name="207936558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936558">(Aug 25 2020 at 08:33)</a>:</h4>
<p>all this <code>refine</code> and <code>apply</code> is just function application</p>



<a name="207936574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936574">(Aug 25 2020 at 08:33)</a>:</h4>
<p>It's important to write it this way because then new users won't be able to understand what the heck is going on.</p>



<a name="207936623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936623">(Aug 25 2020 at 08:34)</a>:</h4>
<p>We need to cover our tracks to make sure that this stuff doesn't get big</p>



<a name="207936734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936734">(Aug 25 2020 at 08:35)</a>:</h4>
<p>I am really hoping that you will not edit your answers in this thread!  I am planning of going over the whole reasoning a couple of times, still!   Ahahaha</p>



<a name="207936790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936790">(Aug 25 2020 at 08:36)</a>:</h4>
<p>I always wanted <code>simp</code> to do the second subgoal, but it kept not doing it (I would try every time I did another <code>convert</code>). Devon pointed out the issue -- <code>simp</code> couldn't deal with <code>h</code> as it stood, I needed to use the simplifier on <code>h</code> as well.</p>



<a name="207936819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936819">(Aug 25 2020 at 08:36)</a>:</h4>
<p>But if you do this at the beginning then the simplifier can do the rest:</p>
<div class="codehilite"><pre><span></span><code>  <span class="o">{</span> <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">h2</span><span class="o">]}</span>
</code></pre></div>



<a name="207936867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936867">(Aug 25 2020 at 08:37)</a>:</h4>
<p>This proof is much more like a mathematician's proof now -- "the coefficient c of X^i is zero so c*X^i is clearly in this ideal, whatever the ideal is"</p>



<a name="207936952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936952">(Aug 25 2020 at 08:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">finc</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="err">∈</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">tt</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span> <span class="o">,</span><span class="n">tt</span> <span class="bp">=</span> <span class="o">(</span><span class="n">C</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">i</span><span class="o">))}</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span> <span class="bp">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">h</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">h2</span><span class="o">]}</span>
<span class="kn">end</span>
</code></pre></div>


<p>This is looking more like a mathlibby proof now</p>



<a name="207936997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207936997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207936997">(Aug 25 2020 at 08:39)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> the thing which I didn't understand for the longest time is what to expect from the library.</p>



<a name="207937012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937012">(Aug 25 2020 at 08:39)</a>:</h4>
<p>You might think "my lemma is obvious, so probably it should be in the library". That's not now it works at all.</p>



<a name="207937075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937075">(Aug 25 2020 at 08:40)</a>:</h4>
<p>The library mostly contains "single-step" proofs, for example "0 \in J", or "if all the a_i are in J, then their sum is"</p>



<a name="207937088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937088">(Aug 25 2020 at 08:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207937012">said</a>:</p>
<blockquote>
<p>You might think "my lemma is obvious, so probably it should be in the library". That's not now it works at all.</p>
</blockquote>
<p>Indeed, I do feel that this should be the purpose of the library.  I also still have trouble navigating the files and finding what really is in the library and what is not</p>



<a name="207937105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937105">(Aug 25 2020 at 08:40)</a>:</h4>
<p>Right. But there's a secret here.</p>



<a name="207937142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937142">(Aug 25 2020 at 08:41)</a>:</h4>
<p>Will you write the secret?  Should I take a picture of the screen, before it self-destructs?</p>



<a name="207937161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937161">(Aug 25 2020 at 08:41)</a>:</h4>
<p>most of the library is single-step lemmas, but conversely the mathlib philosophy is to make libraries as complete as possible, so the converse should also be true: any single-step lemma should be in the library somewhere</p>



<a name="207937178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937178">(Aug 25 2020 at 08:41)</a>:</h4>
<p>Furthermore, you can probably guess its name</p>



<a name="207937184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937184">(Aug 25 2020 at 08:41)</a>:</h4>
<p>(so far, my way of searching the library has been using <code>grep</code> from the command line)</p>



<a name="207937241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937241">(Aug 25 2020 at 08:42)</a>:</h4>
<p>The way to search in the library is to learn the naming conventions and to use ctrl-space</p>



<a name="207937249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937249">(Aug 25 2020 at 08:42)</a>:</h4>
<p>ok</p>



<a name="207937289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937289">(Aug 25 2020 at 08:42)</a>:</h4>
<p>I didn't know <code>as_sum</code> and I am unfamiliar with the polynomial library now because Jalex and others made a major refactor of it recently <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="207937337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937337">(Aug 25 2020 at 08:43)</a>:</h4>
<p>but things like <code>submodule.sum_mem</code>, i found that lemma because I knew that that's what it would be called and I knew it would be there.</p>



<a name="207937365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937365">(Aug 25 2020 at 08:43)</a>:</h4>
<p>and similarly <code>submodule.smul_mem</code> and <code>submodule.subset_span</code></p>



<a name="207937424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937424">(Aug 25 2020 at 08:44)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>⊆</mo><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X\subseteq span(X)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> is going to be called <code>subset_span</code></p>



<a name="207937434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937434">(Aug 25 2020 at 08:44)</a>:</h4>
<p>yes, I definitely need to develop a feeling for what to expect to be in the library</p>



<a name="207937463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937463">(Aug 25 2020 at 08:44)</a>:</h4>
<p>Every one-step lemma is there, and it is named appropriately. And if you find one that isn't, you should add it.</p>



<a name="207937508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937508">(Aug 25 2020 at 08:45)</a>:</h4>
<p>so then it's just a case of breaking everything down into these one-step lemmas, and then slowly over time you learn shortcuts, because for example there are some much more complex lemmas in there too</p>



<a name="207937512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937512">(Aug 25 2020 at 08:45)</a>:</h4>
<p>(Sometimes something that works is writing the lemma statement that you think should exist as an <code>example</code> then using <code>library_search</code> or <code>library_search!</code>, but you have to know what to expect and to have the correct imports.  If it's not there, then I suppose you just need to fill in the proof then submit a PR.)</p>



<a name="207937565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937565">(Aug 25 2020 at 08:46)</a>:</h4>
<p>I see</p>



<a name="207937678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937678">(Aug 25 2020 at 08:47)</a>:</h4>
<p>These discussions give names to concepts that my mind had not yet formed</p>



<a name="207937741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937741">(Aug 25 2020 at 08:48)</a>:</h4>
<p>Another trick I use is to try to write the <code>example</code> in a way that things should simplify in the way I want, then I apply <code>simp</code>.  If it worked, then replacing <code>simp</code> with <code>squeeze_simp</code> gives you the list of lemmas it used.</p>



<a name="207937799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937799">(Aug 25 2020 at 08:49)</a>:</h4>
<p>(And, I don't actually always use an <code>example</code> block.  Most of the time I use a <code>have</code> expression in the middle of a tactic proof.)</p>



<a name="207937893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207937893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207937893">(Aug 25 2020 at 08:50)</a>:</h4>
<p>Ok, I had been using <code>have</code>s quite a bit, but I will now use them with a better awareness!</p>



<a name="207938112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938112">(Aug 25 2020 at 08:53)</a>:</h4>
<p>I've been going to CS conferences and I've met a whole bunch of people who are very interested in various proof styles, and sometimes ask me questions about various proof styles and I can never answer them because I don't have a clue about any of the definitions. Maybe there are "ISAR-style proofs" and some other style invented by Lamport and I can't even remember the other ones, but they seem to be just high-level terms for whether you put a lot of haves or not. Oh -- "declarative style", I think that's one.</p>



<a name="207938187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938187">(Aug 25 2020 at 08:54)</a>:</h4>
<p>But somehow their questions are all about either which style I prefer, or which style is more readable, or something, and I never have a clue, because I don't try to make my proof code readable, I just add comments instead</p>



<a name="207938342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938342">(Aug 25 2020 at 08:57)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">finc</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="err">∈</span> <span class="n">ideal</span><span class="bp">.</span><span class="n">span</span> <span class="o">{</span><span class="n">tt</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span> <span class="o">,</span><span class="n">tt</span> <span class="bp">=</span> <span class="o">(</span><span class="n">C</span> <span class="o">(</span><span class="n">coeff</span> <span class="n">f</span> <span class="n">i</span><span class="o">))}</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="c1">-- rewrite f as ∑ a_i X^i, where `a_i = coeff f i`</span>
  <span class="n">conv_lhs</span> <span class="o">{</span><span class="n">rw</span> <span class="n">as_sum</span> <span class="n">f</span><span class="o">},</span>
  <span class="c1">-- a finite sum of elements is in an ideal if all the elements are</span>
  <span class="n">refine</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">sum_mem</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="c1">-- so let&#39;s check a_i X^i is in the ideal</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hi</span><span class="o">,</span>
  <span class="c1">-- two cases: either a_i = 0 or not</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="err">∈</span> <span class="n">f</span><span class="bp">.</span><span class="n">support</span><span class="o">,</span>
  <span class="o">{</span> <span class="c1">-- if it is, then a_i is one of the generators of the ideal and it&#39;s obvious</span>
    <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">submodule</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">submodule</span><span class="bp">.</span><span class="n">subset_span</span> <span class="bp">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">h</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="c1">-- if it&#39;s not then a_i = 0 and it&#39;s also obvious</span>
    <span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">f</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span> <span class="k">by</span> <span class="n">simpa</span> <span class="kn">using</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">h2</span><span class="o">]}</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207938356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938356">(Aug 25 2020 at 08:57)</a>:</h4>
<p>and then they complain about something to do with semantics</p>



<a name="207938371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938371">(Aug 25 2020 at 08:57)</a>:</h4>
<p>how now if you change the proof you have to change the comments independently</p>



<a name="207938427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938427">(Aug 25 2020 at 08:58)</a>:</h4>
<p>but I have long stopped caring because all I care about is proving the theorem.</p>



<a name="207938450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938450">(Aug 25 2020 at 08:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207938187">said</a>:</p>
<blockquote>
<p>I don't try to make my proof code readable, I just add comments instead</p>
</blockquote>
<p>I think this shows that tactic proofs are the assembly language of math.  I'm looking forward to whatever high-level languages we might come up with down the road, where your comments are part of the machine-readable proof.</p>



<a name="207938654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938654">(Aug 25 2020 at 09:01)</a>:</h4>
<p>Though, at least with assembly language, you could actually have a hope of reading through it without comments and figuring out what it's doing...</p>
<p>This isn't completely fair of a comparison, because the symbolic manipulations tactic proofs are doing can be well beyond what you'd want to go through by hand.</p>



<a name="207938660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938660">(Aug 25 2020 at 09:01)</a>:</h4>
<p>never going to happen... you will always have to contort yourself a bit to express your intent to a computer. Comments are for humans, code is for computers. You can do okay at both simultaneously but you will never be optimal for both</p>



<a name="207938698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938698">(Aug 25 2020 at 09:01)</a>:</h4>
<p>tactic proofs are for sure better than assembly</p>



<a name="207938769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938769">(Aug 25 2020 at 09:02)</a>:</h4>
<p>they are high level language proofs, just not natural language</p>



<a name="207938826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938826">(Aug 25 2020 at 09:03)</a>:</h4>
<p>What you are missing is that a tactic proof is one half of a conversation</p>



<a name="207938867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938867">(Aug 25 2020 at 09:03)</a>:</h4>
<p>I don't really accept most tactic proofs as being proofs.   Most are merely monadic programs that construct proof terms.  (And most proof terms I wouldn't consider to be proofs.  I accept the truth of what they say, but they aren't proofs.)</p>



<a name="207938877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938877">(Aug 25 2020 at 09:03)</a>:</h4>
<p>they are not intended to be understood without context</p>



<a name="207938984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207938984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207938984">(Aug 25 2020 at 09:04)</a>:</h4>
<p>I'm not missing that; I think this is a weakness, since you cannot read the source code without a mechanical tool on hand.</p>



<a name="207939004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939004">(Aug 25 2020 at 09:04)</a>:</h4>
<p>you can inline the context</p>



<a name="207939017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939017">(Aug 25 2020 at 09:04)</a>:</h4>
<p>that's a mere presentation issue</p>



<a name="207939026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939026">(Aug 25 2020 at 09:04)</a>:</h4>
<p>That would be a comment, right?</p>



<a name="207939046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939046">(Aug 25 2020 at 09:05)</a>:</h4>
<p>no, it can be formally checked if you like</p>



<a name="207939141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939141">(Aug 25 2020 at 09:06)</a>:</h4>
<p>I agree they aren't proofs but maybe for a different reason. They are proof scripts, programs that build actual proofs (and maybe don't show them to you)</p>



<a name="207939308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939308">(Aug 25 2020 at 09:08)</a>:</h4>
<p>What I'm saying is that these proof scripts should, eventually, become a higher level language where you can figure out what it's doing easier without needing a computer aid</p>



<a name="207939338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939338">(Aug 25 2020 at 09:09)</a>:</h4>
<p>I'm not saying comments will go away completely.  The point is that, if you need lots of comments, it probably reflects a failure of the language</p>



<a name="207939348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939348">(Aug 25 2020 at 09:09)</a>:</h4>
<p>that there are higher-order structures still on the table to exploit</p>



<a name="207939497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939497">(Aug 25 2020 at 09:11)</a>:</h4>
<p>more layers just means more to understand. I don't buy it</p>



<a name="207939502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939502">(Aug 25 2020 at 09:11)</a>:</h4>
<p>This is something I was thinking about with the <code>induction</code> tactic.  It really should just work, because it is a signpost that a particular moment in the argument has come.  Using <code>refine</code> works, but it requires some boilerplate that obscures the point.  (Though, when you use it enough, it becomes a pattern you recognize and it gains meaning.)</p>



<a name="207939579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939579">(Aug 25 2020 at 09:12)</a>:</h4>
<p>I'm not sure what you mean. <code>induction</code> does a thing and does it pretty well</p>



<a name="207939580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939580">(Aug 25 2020 at 09:12)</a>:</h4>
<p>I'm not proposing more layers.  I think we just haven't seen everything we can do with tactic scripts, though I'm not sure what that might be yet.</p>



<a name="207939612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939612">(Aug 25 2020 at 09:12)</a>:</h4>
<p>I think we have seen a lot of quality of life tactics arise over the years</p>



<a name="207939643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939643">(Aug 25 2020 at 09:13)</a>:</h4>
<p>once you identify a pattern, you can automate it away</p>



<a name="207939661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939661">(Aug 25 2020 at 09:13)</a>:</h4>
<p>but you can't automate it until then</p>



<a name="207939672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939672">(Aug 25 2020 at 09:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients/near/207939579">said</a>:</p>
<blockquote>
<p>I'm not sure what you mean. <code>induction</code> does a thing and does it pretty well</p>
</blockquote>
<p>Not with user-defined recursors, which define what I'd want out of induction on particular terms.</p>



<a name="207939686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939686">(Aug 25 2020 at 09:13)</a>:</h4>
<p>that's just an outstanding bug though</p>



<a name="207939746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939746">(Aug 25 2020 at 09:14)</a>:</h4>
<p>I don't think that says much about the scheme</p>



<a name="207939803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939803">(Aug 25 2020 at 09:15)</a>:</h4>
<p>induction is in core so it's been frozen with buggy behavior for a long time. People just don't use it</p>



<a name="207939817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939817">(Aug 25 2020 at 09:15)</a>:</h4>
<p>if you pretend it doesn't exist you will be happier</p>



<a name="207939886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939886">(Aug 25 2020 at 09:16)</a>:</h4>
<p>It's clear tactics are very powerful and extensible, but do you think that 20-30 years from now this will still be the dominant way of writing proofs?</p>



<a name="207939906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939906">(Aug 25 2020 at 09:16)</a>:</h4>
<p>tactics are programs. Do I think we will be using programs? of course</p>



<a name="207939917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939917">(Aug 25 2020 at 09:17)</a>:</h4>
<p>Do I think they will go in begin end blocks? not so important</p>



<a name="207939921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939921">(Aug 25 2020 at 09:17)</a>:</h4>
<p>Tactics are a language for programs.  We've changed how we program quite a lot since the early days.</p>



<a name="207939929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939929">(Aug 25 2020 at 09:17)</a>:</h4>
<p>the language will change for sure</p>



<a name="207939947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939947">(Aug 25 2020 at 09:17)</a>:</h4>
<p>Like, I don't mean just syntax.  Structured programming is one example of a paradigm that didn't exist early on.</p>



<a name="207939952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207939952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207939952">(Aug 25 2020 at 09:17)</a>:</h4>
<p>it adapts to the local needs of the users</p>



<a name="207940106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940106">(Aug 25 2020 at 09:19)</a>:</h4>
<p>I don't think tactic proofs are the best way to present proofs by a long shot. They are optimized for writing, not reading</p>



<a name="207940184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940184">(Aug 25 2020 at 09:20)</a>:</h4>
<p>So, can you have something that's like a tactic proof, still easy to write, but you can actually read it?  I suspect someone will stumble upon some way to make this work, eventually.</p>



<a name="207940230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940230">(Aug 25 2020 at 09:21)</a>:</h4>
<p>The style I like is similar to what you find in metamath: a series of steps where you have full context at all times and you can drill down as far as you like</p>



<a name="207940315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940315">(Aug 25 2020 at 09:22)</a>:</h4>
<p>The <code>#explode</code> tactic is a way of showing that style of proof for lean proofs but lean tactics are not optimized for that and so they tend to generate garbage terms</p>



<a name="207940320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940320">(Aug 25 2020 at 09:22)</a>:</h4>
<p>Someone might find other ways of organizing the construction of the proof terms beyond tactic mode's changing contexts in sequence, for example.</p>



<a name="207940427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940427">(Aug 25 2020 at 09:24)</a>:</h4>
<p>It is possible to present it more like a computer program with scoping to cut down on repeated infomation, but that's just a proof term, which are actually quite hard to follow if you are not a typechecker</p>



<a name="207940463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940463">(Aug 25 2020 at 09:24)</a>:</h4>
<p>I think it's much easier to read if you just cut out all the proof terms and leave only the types</p>



<a name="207940768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940768">(Aug 25 2020 at 09:28)</a>:</h4>
<p>(It looks like <code>#explode</code> is showing each term in the first column, its type in the last, its constructor in the third, and the constructor's arguments in the second? That's a reasonably nice way of showing a memory dump, basically, of a term.)</p>



<a name="207940910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940910">(Aug 25 2020 at 09:30)</a>:</h4>
<p>it's supposed to look like a fitch style natural deduction proof</p>



<a name="207940928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940928">(Aug 25 2020 at 09:30)</a>:</h4>
<p>it generally produces best results on basic logic proofs</p>



<a name="207940954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207940954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207940954">(Aug 25 2020 at 09:31)</a>:</h4>
<p>when you pick a random mathib theorem all the <code>simp</code>s and <code>linarith</code>s are going to produce a heap of garbage</p>



<a name="207941090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207941090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207941090">(Aug 25 2020 at 09:33)</a>:</h4>
<p>also now that html views are a thing <code>#explode</code> can make much better output now</p>



<a name="207941274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207941274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207941274">(Aug 25 2020 at 09:35)</a>:</h4>
<p>The hard part with proofs in this style is controlling the overload of information. That's lamport's "structured proof". Ideally this should also be automated, but you somehow need to analyze the proof to determine what is important and skip the boring stuff, but with the means to dig down when the reader isn't convinced</p>



<a name="207941468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/polynomial%20in%20span%20of%20coefficients/near/207941468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/polynomial.20in.20span.20of.20coefficients.html#207941468">(Aug 25 2020 at 09:38)</a>:</h4>
<p>Tactic proofs are at one level of abstraction, which is probably good for the original author but may be too detailed for some (perhaps most) mathematicians, and not detailed enough for introductory students and people like me who want to get to the bottom of things</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>