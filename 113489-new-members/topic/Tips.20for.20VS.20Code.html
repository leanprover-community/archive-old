---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Tips.20for.20VS.20Code.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html">Tips for VS Code</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284624908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284624908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284624908">(Jun 01 2022 at 15:06)</a>:</h4>
<p>When developing in VS Code, double clicking <code>sorry</code> just shows an error message, but single clicking on it shows the tactic state.  Replacing <code>sorry</code> with <code>_</code> also shows the tactic state.</p>
<p>What other tips and tricks are useful to know when using Lean in VS Code?</p>



<a name="284628471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284628471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284628471">(Jun 01 2022 at 15:33)</a>:</h4>
<p>Is there a way to set up automatic indenting?</p>



<a name="284639046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284639046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284639046">(Jun 01 2022 at 16:53)</a>:</h4>
<p>Is there a pretty printer for Lean, along the lines of clang-format (C++) or black (Python)?</p>



<a name="284641691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284641691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284641691">(Jun 01 2022 at 17:12)</a>:</h4>
<p>Not yet. In will come in Lean 4 (but not very soon).</p>



<a name="284641926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284641926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284641926">(Jun 01 2022 at 17:14)</a>:</h4>
<p>It seems it should be straight forward to write one, as long as Lean 3 is straight forward to parse.  I've only seen a little of the language, but it seems easy to parse so far.</p>
<p>What would be the best language to write the pretty printer in?  Lean itself, or is it unsuited to writing tools like that?</p>



<a name="284642316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284642316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284642316">(Jun 01 2022 at 17:17)</a>:</h4>
<p>What is Lean itself written in?  OCaml?  Self-hosted?</p>



<a name="284642622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284642622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284642622">(Jun 01 2022 at 17:20)</a>:</h4>
<p>Lean 4 is self hosted (for the most part a tiny bit of C++ is there still but not because it has to be but rather because the devs are busy with other stuff than removing it right now) and compiles to C, Lean 3 is written in C++ and a bytecode language.</p>



<a name="284642730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284642730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284642730">(Jun 01 2022 at 17:21)</a>:</h4>
<p>Furthermore parsing Lean 4 in general is highly non trivial because users can extend the syntax in any way they desire, however Lean 4 also has large meta programming faciliities that allow you to access basically all information the compiler has about the code so you could use it to write a formatter</p>



<a name="284643353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284643353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284643353">(Jun 01 2022 at 17:27)</a>:</h4>
<p>That's cool, I've often wanted extensible syntax and great meta programming facilities.  For a few years I programmed professionally in Common Lisp and since then always wanted a language where the meta language was the language itself.</p>
<p>Sorry I wasn't clear, I was asking about how easy / hard it is to parse Lean 3, to make a pretty printer for Lean 3.  Is the C++ parser for Lean 3 reasonably separable?  Does it keep things like line and column information and whitespace, or does it toss them?</p>



<a name="284644192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284644192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284644192">(Jun 01 2022 at 17:34)</a>:</h4>
<p>Not a question I am qualified to answer, for Lean 4 the answer is no, comments and whitespaces are discarded as far as I know (although you can make your custom syntax extensions sensitive to them)</p>



<a name="284647760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284647760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284647760">(Jun 01 2022 at 18:01)</a>:</h4>
<p>The tools written to help port lean 3 to lean 4 (<a href="https://github.com/leanprover-community/mathport">https://github.com/leanprover-community/mathport</a>) might be useful for writing a parser.<br>
One ingredient of the above is that you can run <code>lean --ast file.lean</code> to get an AST representation of what lean sees, which could certainly be helpful in writing a formatter. But this would still need a lot of work to get something acceptable out I believe, so maybe not really worth the effort.</p>



<a name="284648816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tips%20for%20VS%20Code/near/284648816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin C. Martin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tips.20for.20VS.20Code.html#284648816">(Jun 01 2022 at 18:09)</a>:</h4>
<p>Thanks to both of you.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>