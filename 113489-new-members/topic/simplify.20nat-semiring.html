---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/simplify.20nat-semiring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html">simplify nat-semiring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209119232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209119232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209119232">(Sep 04 2020 at 17:16)</a>:</h4>
<p>Another beginners question: what is the incantation to tell the simplifier that nat is a smearing but if possible nothing else.</p>



<a name="209119387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209119387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209119387">(Sep 04 2020 at 17:18)</a>:</h4>
<p>basically I need that 2<em>(x+1) = 2</em>x+2</p>



<a name="209119415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209119415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209119415">(Sep 04 2020 at 17:18)</a>:</h4>
<p>but because I am going to use this in my course I don't want any additional cleverness.</p>



<a name="209120695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209120695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209120695">(Sep 04 2020 at 17:31)</a>:</h4>
<p>We gave up trying to make the simplifier prove things about semirings and someone wrote a <code>ring</code> tactic instead.</p>



<a name="209120817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209120817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209120817">(Sep 04 2020 at 17:32)</a>:</h4>
<p>(BTW you can quote equations involving multiplication by enclosing them in <code> ` </code> quotes, like <code>2*(x+1)=2*x+2</code>; then Zulip doesn't think it's <em>emphasis</em>). (You can look at the source of what other people post too)</p>



<a name="209121047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209121047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209121047">(Sep 04 2020 at 17:34)</a>:</h4>
<p>Distributivity is apparently what is missing in the simplifier:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">=</span><span class="mi">2</span><span class="bp">*</span><span class="n">x</span><span class="bp">+</span><span class="mi">2</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">mul_add</span><span class="o">]</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span><span class="bp">*</span><span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span><span class="bp">=</span><span class="mi">2</span><span class="bp">*</span><span class="n">x</span><span class="bp">+</span><span class="mi">2</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">ring</span>
</code></pre></div>



<a name="209121291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209121291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209121291">(Sep 04 2020 at 17:37)</a>:</h4>
<p>Import-free: <code>example (x : ℕ) : 2*(x+1)=2*x+2 := by simp [nat.left_distrib, nat.mul_one]</code></p>



<a name="209122040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209122040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209122040">(Sep 04 2020 at 17:45)</a>:</h4>
<p>For more control over what lemmas the simplifier uses, it's possible to create a custom simp attribute <code>semiring_simps</code> and then tag all the lemmas you want to use with it.  Then you could write <code>simp only with semiring_simps</code> (or define a new tactic <code>semiring_simp</code> that does the same). See <a href="https://leanprover-community.github.io/mathlib_docs/commands.html#mk_simp_attribute">mk_simp_attribute</a>.</p>



<a name="209129315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129315">(Sep 04 2020 at 18:57)</a>:</h4>
<p>file 'tactic' not found in the LEAN_PATH</p>



<a name="209129340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129340">(Sep 04 2020 at 18:57)</a>:</h4>
<p>I accuse you of not following the community installation instructions ;-)</p>



<a name="209129366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129366">(Sep 04 2020 at 18:58)</a>:</h4>
<p>Dare I ask how you installed Lean and how you're using it?</p>



<a name="209129459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129459">(Sep 04 2020 at 18:58)</a>:</h4>
<p>yes ring is easier - no problem with this. But you can still use it to solve equations over nat.</p>



<a name="209129538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129538">(Sep 04 2020 at 18:59)</a>:</h4>
<p>brew install lean. I didn't see any installation instructions. Where are they?</p>



<a name="209129611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129611">(Sep 04 2020 at 19:00)</a>:</h4>
<p><a href="https://leanprover-community.github.io/">https://leanprover-community.github.io/</a></p>



<a name="209129623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129623">(Sep 04 2020 at 19:00)</a>:</h4>
<p>This is the only entry point you need.</p>



<a name="209129641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129641">(Sep 04 2020 at 19:00)</a>:</h4>
<p>Everything else is an unfortunate historical accident.</p>



<a name="209129711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129711">(Sep 04 2020 at 19:01)</a>:</h4>
<p>I think that after <code>brew install lean</code> you might have an old lean and no mathlib. Mathlib is not just a maths library -- it also has a bunch of tactics.</p>



<a name="209129757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129757">(Sep 04 2020 at 19:01)</a>:</h4>
<p>I ended up on <a href="https://leanprover.github.io/download/">https://leanprover.github.io/download/</a> which is useless.</p>



<a name="209129872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129872">(Sep 04 2020 at 19:02)</a>:</h4>
<p>No, it isn't. The first link on that page is the one I just gave you.</p>



<a name="209129902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209129902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209129902">(Sep 04 2020 at 19:02)</a>:</h4>
<p>And now? It is no installer.</p>



<a name="209130008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130008">(Sep 04 2020 at 19:03)</a>:</h4>
<p>I guess I have to run trylean?</p>



<a name="209130080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130080">(Sep 04 2020 at 19:04)</a>:</h4>
<p>Unter Darwin. It doesn't say OS X.</p>



<a name="209130094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130094">(Sep 04 2020 at 19:04)</a>:</h4>
<p>Do you mean a web page is not an installer? Yes, you need to read a couple of sentences. There are various options, with descriptions of target audiences.</p>



<a name="209130220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130220">(Sep 04 2020 at 19:06)</a>:</h4>
<p>I am not used to reading when installing... Actually that is not true I just know how to install Agda now. :-)</p>



<a name="209130505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130505">(Sep 04 2020 at 19:08)</a>:</h4>
<p>And now. Ok I had to convince OSX to run trylean and then vscodium and now I have a vscodium window and I am not sure what to do next.</p>



<a name="209130550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130550">(Sep 04 2020 at 19:08)</a>:</h4>
<p>I am using emacs.</p>



<a name="209130783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130783">(Sep 04 2020 at 19:10)</a>:</h4>
<p>Ah, since (I'm guessing) you've committed to using Lean for more than a few days, I think this link under "regular install" is more suitable than the "trylean" bundle: <a href="https://leanprover-community.github.io/install/macos.html">https://leanprover-community.github.io/install/macos.html</a></p>



<a name="209130838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209130838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209130838">(Sep 04 2020 at 19:11)</a>:</h4>
<p>I don't think the trylean bundle can be used easily with emacs, unfortunately. Probably we should add a warning.</p>



<a name="209131017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209131017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209131017">(Sep 04 2020 at 19:13)</a>:</h4>
<p>Thank you - actually trylean seems to be broken on OSX. You end up starting VSCodium interactively but even if I open a .lean file it says "plain text".</p>



<a name="209131068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209131068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thorsten Altenkirch <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209131068">(Sep 04 2020 at 19:13)</a>:</h4>
<p>macOS 10.15.5 (19F101</p>



<a name="209131919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209131919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209131919">(Sep 04 2020 at 19:22)</a>:</h4>
<p>Thanks! I'll try to look into it later this weekend. Let us know if you have any trouble with elan and / or leanproject.</p>



<a name="209156096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209156096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209156096">(Sep 05 2020 at 02:01)</a>:</h4>
<p>(I wonder if we should just ditch the "trylean" bundles...?)</p>



<a name="209159102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/simplify%20nat-semiring/near/209159102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/simplify.20nat-semiring.html#209159102">(Sep 05 2020 at 03:25)</a>:</h4>
<p>This might fix the issue with the macOS bundle: <a href="https://github.com/leanprover-community/azure-scripts/pull/5">https://github.com/leanprover-community/azure-scripts/pull/5</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>