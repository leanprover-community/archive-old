---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html">Is using `cases` in tactic mode bad? (previously was a qu...</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266017377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266017377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266017377">(Dec 24 2021 at 18:28)</a>:</h4>
<p>Why are the following not doing the exact same thing in tactic mode?</p>
<p>First I had this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">world</span> <span class="k">with</span> <span class="n">R</span> <span class="n">w</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">collection</span> <span class="n">R</span> <span class="k">with</span> <span class="n">W</span> <span class="n">M</span><span class="o">,</span>
<span class="n">exact</span> <span class="n">M.fst.val</span> <span class="n">w</span><span class="o">,</span>
</code></pre></div>
<p>And now  I have this, which seems to produce a much nicer to use definition: <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cases</span> <span class="n">world</span> <span class="k">with</span> <span class="n">R</span> <span class="n">w</span><span class="o">,</span>
<span class="n">exact</span> <span class="o">(</span><span class="n">collection</span> <span class="n">R</span><span class="o">)</span><span class="bp">.</span><span class="n">snd.fst.val</span> <span class="n">w</span><span class="o">,</span>
</code></pre></div>



<a name="266019009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266019009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266019009">(Dec 24 2021 at 19:03)</a>:</h4>
<p>Are you trying to construct data or a proof?</p>



<a name="266019066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266019066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266019066">(Dec 24 2021 at 19:04)</a>:</h4>
<p>The nicety of the definition of data matters, because it's easier to prove things about it. The nicety of the definition of a proof of a proposition shouldn't really matter because of proof irrelevance, all proofs of the same proposition are axiomatically equal.</p>



<a name="266019249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266019249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266019249">(Dec 24 2021 at 19:08)</a>:</h4>
<p>Usually, in constructing data, one doesn't use tactics for the reason you noticed. Not all tactics produce "simple" terms. That is because tactics are high powered, and are built to deal with a large variety of situations. To do this, they rely on more complex underlying terms to have a catch all approach, rather than having heuristics for different situations</p>



<a name="266030414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266030414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Malvin Gattinger <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266030414">(Dec 24 2021 at 23:30)</a>:</h4>
<p>Thanks! Indeed this was part of a data definition. I will try to rewrite it using term mode.</p>



<a name="266031231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Is%20using%20%60cases%60%20in%20tactic%20mode%20bad%3F%20%28previously%20was%20a%20qu.../near/266031231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Is.20using.20.60cases.60.20in.20tactic.20mode.20bad.3F.20(previously.20was.20a.20qu.2E.2E.2E.html#266031231">(Dec 24 2021 at 23:48)</a>:</h4>
<p>If you need to prove something in your data def, then it's OK to write proofs in tactic mode. However, <code>cases world with R w</code> creates code like <code>world_type.cases_on world (Î» R w, f R w)</code> instead of <code>f world.1 world.2</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>