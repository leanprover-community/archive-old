---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/rat.2Edenumerable.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html">rat.denumerable</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300847298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300847298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300847298">(Sep 26 2022 at 16:02)</a>:</h4>
<p>Just curious: is there a reason why <code>rat.denumerable</code> is proved via an equivalence to a subtype instead of just doing <code>of_encodable_of_infinite ℚ</code> directly?</p>



<a name="300848044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300848044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300848044">(Sep 26 2022 at 16:05)</a>:</h4>
<p>As far as I can tell, the only thing the subtype provides is an easy proof of encodability, but we already have <code>encodable ℚ</code> so it seems unnecessary.</p>



<a name="300851419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300851419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300851419">(Sep 26 2022 at 16:19)</a>:</h4>
<p>Here's where it was introduced: <a href="https://github.com/leanprover-community/mathlib/commit/3ad35223f321e644ef3e16ae9ec5b9383b2baabe">https://github.com/leanprover-community/mathlib/commit/3ad35223f321e644ef3e16ae9ec5b9383b2baabe</a></p>
<p>The <a href="https://github.com/leanprover-community/mathlib/blob/ebf8ff42db1e71dd0880e3f274dd5ac9303b8a2a/src/data/rat/defs.lean#L63">encodable instance</a> uses very nearly the same subtype, but with a sigma type factored out.</p>
<p>Maybe you want to investigate a creating a <code>denumerable ℚ</code> instance that uses the encodable instance more directly?</p>



<a name="300851801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300851801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300851801">(Sep 26 2022 at 16:20)</a>:</h4>
<p>I'm just wondering why we don't simply write <code>instance : denumerable ℚ := of_encodable_of_infinite ℚ</code></p>



<a name="300851951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300851951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300851951">(Sep 26 2022 at 16:21)</a>:</h4>
<p>are you saying that we want the denumerability encoding to be a bit different than the usual encoding?</p>



<a name="300852393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300852393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300852393">(Sep 26 2022 at 16:23)</a>:</h4>
<p>No, I'm not meaning to imply anything, other than suggesting you could try simplifying that instance and see whether it breaks anything.</p>



<a name="300852493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300852493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300852493">(Sep 26 2022 at 16:24)</a>:</h4>
<p>The git commit link also suggests that <span class="user-mention" data-user-id="110044">@Chris Hughes</span> might have an answer.</p>



<a name="300855319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300855319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300855319">(Sep 26 2022 at 16:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="380294">Matt Diamond</span> <a href="#narrow/stream/113489-new-members/topic/rat.2Edenumerable/near/300851801">said</a>:</p>
<blockquote>
<p>I'm just wondering why we don't simply write <code>instance : denumerable ℚ := of_encodable_of_infinite ℚ</code></p>
</blockquote>
<p>I think it's because there was no <code>encodable</code> instance for <code>ℚ</code>. I had to prove <code>encodable ℚ</code> inside the proof of <code>denumerable ℚ</code>.</p>



<a name="300855726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300855726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300855726">(Sep 26 2022 at 16:38)</a>:</h4>
<p>Not sure but there might even be two different <code>encodable</code> instances for <code>ℚ</code> at the moment if there's a <code>denumerable</code> to <code>encodable</code> instance.</p>



<a name="300856612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300856612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300856612">(Sep 26 2022 at 16:42)</a>:</h4>
<p>it looks like the encodable instance for Q was added back in <a href="https://github.com/leanprover-community/mathlib/commit/dd9f766f279522de930cee65ddab887f54179ff5">October 2017</a></p>



<a name="300856625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300856625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300856625">(Sep 26 2022 at 16:42)</a>:</h4>
<p>It looks like there was an encodable instance <a href="https://github.com/leanprover-community/mathlib/blame/e3234f0494c366bbe1f25ba859189a2a9c75f010/src/data/rat/basic.lean#L63">at least four years ago</a>, and the denumerable instance was 2-3 years ago</p>



<a name="300856739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300856739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300856739">(Sep 26 2022 at 16:43)</a>:</h4>
<p>perhaps it was just overlooked</p>



<a name="300856992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300856992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300856992">(Sep 26 2022 at 16:44)</a>:</h4>
<p>I think I probably overlooked it.</p>



<a name="300857226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rat.denumerable/near/300857226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Diamond <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rat.2Edenumerable.html#300857226">(Sep 26 2022 at 16:46)</a>:</h4>
<p>all good</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>