---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Question.20about.20namespace.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html">Question about namespace</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270588669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270588669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270588669">(Feb 03 2022 at 17:41)</a>:</h4>
<p>Hi all, i am very new to lean so trying to do some easy cleanup task, however as a begginier, i have some problems that i can't figure out. I made a draft PR to ask a question: <a href="https://github.com/leanprover-community/mathlib/pull/11805">https://github.com/leanprover-community/mathlib/pull/11805</a><br>
Any input will be great, thanks in advance.</p>



<a name="270589190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270589190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270589190">(Feb 03 2022 at 17:44)</a>:</h4>
<p>hiya Alfredo, you should try move this to another thread!</p>



<a name="270589309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270589309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270589309">(Feb 03 2022 at 17:45)</a>:</h4>
<p>I've moved the message to a new thread.</p>



<a name="270589370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270589370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270589370">(Feb 03 2022 at 17:46)</a>:</h4>
<p>(feel free to modify the title)</p>



<a name="270590469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270590469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270590469">(Feb 03 2022 at 17:53)</a>:</h4>
<p>ops, sorry about that. thanks for the move, title looks good.</p>



<a name="270677474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270677474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270677474">(Feb 04 2022 at 07:44)</a>:</h4>
<p>What is the error you are getting?</p>



<a name="270705637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270705637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270705637">(Feb 04 2022 at 12:10)</a>:</h4>
<p>forgot to post that:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">has_mul.mul</span> <span class="n">X</span>
<span class="n">term</span>
  <span class="n">X</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="n">polynomial</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">power_series</span> <span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
</code></pre></div>



<a name="270710875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270710875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270710875">(Feb 04 2022 at 13:01)</a>:</h4>
<p>It looks like lean thinks you are trying to multiply polynomials whereas it expects you to multiply power series.</p>



<a name="270710901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270710901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270710901">(Feb 04 2022 at 13:01)</a>:</h4>
<p>Does writing <code>power_series.X</code> instead of <code>X</code> help?</p>



<a name="270712273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270712273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270712273">(Feb 04 2022 at 13:13)</a>:</h4>
<p>i think i tried, the error change to a lower line if we do that</p>



<a name="270712486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270712486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270712486">(Feb 04 2022 at 13:14)</a>:</h4>
<p>it will fial in the <code>rw</code> line: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_succ_X_mul</span><span class="o">,</span> <span class="n">coeff_rescale</span><span class="o">,</span> <span class="n">coeff_exp</span><span class="o">,</span> <span class="n">coeff_mul</span><span class="o">,</span>
    <span class="n">nat.sum_antidiagonal_eq_sum_range_succ_mk</span><span class="o">,</span> <span class="n">sum_range_succ</span><span class="o">],</span>
</code></pre></div>
<p>with error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">error</span><span class="o">:</span> <span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kd">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="o">(</span><span class="bp">?</span><span class="n">m_3</span> <span class="bp">*</span> <span class="bp">?</span><span class="n">m_4</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="bp">?</span><span class="n">m_5</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">comm_ring</span> <span class="n">A</span><span class="o">,</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">algebra</span> <span class="n">ℚ</span> <span class="n">A</span><span class="o">,</span>
<span class="n">t</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span>
<span class="bp">⊢</span> <span class="bp">⇑</span><span class="o">(</span><span class="n">power_series.coeff</span> <span class="n">A</span> <span class="n">n.succ</span><span class="o">)</span>
      <span class="o">(</span><span class="n">mk</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">⇑</span><span class="o">(</span><span class="n">aeval</span> <span class="n">t</span><span class="o">)</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">/</span> <span class="bp">↑</span><span class="n">n</span><span class="bp">!</span><span class="o">)</span> <span class="bp">•</span> <span class="n">bernoulli_poly</span> <span class="n">n</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">exp</span> <span class="n">A</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span>
    <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">*</span> <span class="bp">⇑</span><span class="o">(</span><span class="n">algebra_map</span> <span class="n">ℚ</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="bp">↑</span><span class="n">n</span><span class="bp">!</span><span class="o">)</span>
<span class="n">external</span> <span class="n">command</span> <span class="n">exited</span> <span class="k">with</span> <span class="n">status</span> <span class="mi">1</span>
</code></pre></div>



<a name="270712688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270712688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270712688">(Feb 04 2022 at 13:16)</a>:</h4>
<p>Did you move things from the <code>power_series</code> namespace to a place working inside the <code>polynomial</code> namespace?</p>



<a name="270712915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270712915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270712915">(Feb 04 2022 at 13:18)</a>:</h4>
<p>i dont think i did that<br>
can you explain more ?</p>



<a name="270713017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270713017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270713017">(Feb 04 2022 at 13:19)</a>:</h4>
<p>I suggested to work in the <code>polynomial</code> namespace (since the file is about Bernoulli polynomials). Let me check what's going on.</p>



<a name="270713193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270713193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270713193">(Feb 04 2022 at 13:20)</a>:</h4>
<p>yea, that is what i am trying to do, i can add everything to the polynomial namespace without issues but the second theorem is the one that fails  when we do that</p>



<a name="270713939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270713939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270713939">(Feb 04 2022 at 13:26)</a>:</h4>
<p>Here is what is going on: writing <code>namespace polynomial</code> means that all the lemma will have <code>polynomial</code> in the name, so for example <code>lemma foo</code> will be called <code>polynomial.foo</code> (this answer your first comment about collision with another name).</p>



<a name="270714025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714025">(Feb 04 2022 at 13:27)</a>:</h4>
<p>It also means that if a lemma is called <code>polynomial.bar</code> you can use it just writing <code>bar</code> (so <code>namespace polynomial</code> implies <code>open polynomial</code>, and this line can be deleted).</p>



<a name="270714068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714068">(Feb 04 2022 at 13:27)</a>:</h4>
<p>In the file there is also <code>open power_series</code>, to avoid writing <code>power_series.exp</code> and similar stuff.</p>



<a name="270714090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714090">(Feb 04 2022 at 13:27)</a>:</h4>
<p>yes</p>



<a name="270714269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714269">(Feb 04 2022 at 13:28)</a>:</h4>
<p>Now, there is <code>polynomial.X</code> and <code>power_series.X</code> in mathlib, and this confuses Lean, since now both are called <code>X</code>. This is why you got the first error: Lean tried to use <code>polynomial.X</code>, but there one should use <code>power_series.X</code>. You can help it writing <code>power_series.X</code> in that location.</p>



<a name="270714454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714454">(Feb 04 2022 at 13:30)</a>:</h4>
<p>right</p>



<a name="270714483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714483">(Feb 04 2022 at 13:30)</a>:</h4>
<p>The second error is similar: it says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kd">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="o">(</span><span class="bp">?</span><span class="n">m_3</span> <span class="bp">*</span> <span class="bp">?</span><span class="n">m_4</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="bp">?</span><span class="n">m_5</span>
</code></pre></div>
<p>In the line</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_succ_X_mul</span><span class="o">,</span> <span class="n">coeff_rescale</span><span class="o">,</span> <span class="n">coeff_exp</span><span class="o">,</span> <span class="n">coeff_mul</span><span class="o">,</span>
    <span class="n">nat.sum_antidiagonal_eq_sum_range_succ_mk</span><span class="o">,</span> <span class="n">sum_range_succ</span><span class="o">],</span>
</code></pre></div>
<p>Looking at the error one can guess that it's something related to <code>coeff_mul</code> (you can also delete one lemma after the other to see which one creates problems).</p>



<a name="270714537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714537">(Feb 04 2022 at 13:31)</a>:</h4>
<p>And indeed we have both <code>polynomial.coeff_mul</code> and <code>power_series.coeff_mul</code>.</p>



<a name="270714581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714581">(Feb 04 2022 at 13:31)</a>:</h4>
<p>Here again the correct one is the latter, so with <code>power_series.coeff_mul</code> the error goes away.</p>



<a name="270714847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714847">(Feb 04 2022 at 13:33)</a>:</h4>
<p>cool, you are the best, thank you!</p>



<a name="270714930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270714930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270714930">(Feb 04 2022 at 13:34)</a>:</h4>
<p>i made an additional comment about the first question</p>



<a name="270715004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715004">(Feb 04 2022 at 13:35)</a>:</h4>
<p>The same error occurs again later, but it's a little trickier  to understand: it says that it cannot use <code>apply congr_arg</code> to make progress, but this is because the previous line, the one with <code>simp only</code> changed it's effect and it has become less efficient. You should replace <code>coeff_one</code> with <code>power_series.coeff_one</code> and then everything works.</p>



<a name="270715067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715067">(Feb 04 2022 at 13:35)</a>:</h4>
<p>awsome</p>



<a name="270715220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715220">(Feb 04 2022 at 13:36)</a>:</h4>
<p>Concerning your new comment: I don't understand what you mean, I don't have any error.</p>



<a name="270715236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715236">(Feb 04 2022 at 13:37)</a>:</h4>
<p>Can I push a commit to your branch?</p>



<a name="270715274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715274">(Feb 04 2022 at 13:37)</a>:</h4>
<p>sure</p>



<a name="270715522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715522">(Feb 04 2022 at 13:39)</a>:</h4>
<p>Ah sorry, now I got what you mean. Yes, if you want to use <code>bernoulli</code> you can write <code>_root_.bernoulli</code>.</p>



<a name="270715665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270715665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270715665">(Feb 04 2022 at 13:40)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The Bernoulli polynomials are defined in terms of the negative Bernoulli numbers. -/</span>
<span class="kd">def</span> <span class="n">bernoulli</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℚ</span> <span class="o">:=</span>
  <span class="bp">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span> <span class="n">polynomial.monomial</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">)</span> <span class="o">((</span><span class="n">bernoulli</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">choose</span> <span class="n">n</span> <span class="n">i</span><span class="o">))</span>

<span class="kd">lemma</span> <span class="n">bernoulli_def</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">bernoulli</span> <span class="n">n</span> <span class="bp">=</span>
  <span class="bp">∑</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span> <span class="n">polynomial.monomial</span> <span class="n">i</span> <span class="o">((</span><span class="n">_root_.bernoulli</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">i</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">choose</span> <span class="n">n</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">sum_range_reflect</span><span class="o">,</span> <span class="n">add_succ_sub_one</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">,</span> <span class="n">bernoulli</span><span class="o">],</span>
  <span class="n">apply</span> <span class="n">sum_congr</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">rintros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mem_range_succ_iff</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span> <span class="n">rw</span> <span class="o">[</span><span class="n">choose_symm</span> <span class="n">hx</span><span class="o">,</span> <span class="n">tsub_tsub_cancel_of_le</span> <span class="n">hx</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>
<p>This works. (There are other changes to be done later in the file.)</p>



<a name="270717688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270717688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270717688">(Feb 04 2022 at 13:57)</a>:</h4>
<p>apologies, had to go out for a bit</p>



<a name="270717962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Question%20about%20namespace/near/270717962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alfredo <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Question.20about.20namespace.html#270717962">(Feb 04 2022 at 13:59)</a>:</h4>
<p>thank you for the help , i will try to do the other changes suggested, i think there are just lemma name changes left</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>