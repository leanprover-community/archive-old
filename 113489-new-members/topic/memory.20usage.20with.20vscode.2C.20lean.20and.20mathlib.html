---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html">memory usage with vscode, lean and mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218984864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218984864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ingo Wechsung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218984864">(Dec 06 2020 at 12:33)</a>:</h4>
<p>Hi, I am trying to learn theorem proving with Lean and cloned the tutorial project from github to work through it. I use vscode with lean extension.</p>
<p>Unfortunately, lean seems to require lots of memory. No matter what file I open, it comes back with a lot of errors all originating from <code>import data.real.basic</code> saying it hasn't enough memory.<br>
I was able to fix this by, setting the memory limit to 6000, but now my computer which has only 8GB starts paging and the system becomes unusable.</p>
<p>Did I something wrong, or is this normal? And what happens if one does non-basic stuff?</p>



<a name="218984920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218984920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218984920">(Dec 06 2020 at 12:34)</a>:</h4>
<p>This is not normal. Probably you did not compile the project. Did you just <code>git clone</code>? This is no good. You should use <code>leanproject</code> which clones and compiles.</p>



<a name="218985004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985004">(Dec 06 2020 at 12:36)</a>:</h4>
<p><a href="https://github.com/leanprover-community/tutorials/blob/master/README.md">https://github.com/leanprover-community/tutorials/blob/master/README.md</a></p>



<a name="218985018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ingo Wechsung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985018">(Dec 06 2020 at 12:36)</a>:</h4>
<p>Yes, I did git clone, then leanpgk configure.<br>
Is there an extra git for leanproject, since I don't have it. I have elan, though?</p>



<a name="218985078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985078">(Dec 06 2020 at 12:38)</a>:</h4>
<p>If you're following the instructions on the official MS page you're in trouble, because this is two years out of date. The maths library has grown a substantial amount since then and the community has <a href="https://leanprover-community.github.io/">our own community web pages</a> explaining how to do things now. Try <a href="https://leanprover-community.github.io/get_started.html">here</a>.</p>



<a name="218985118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985118">(Dec 06 2020 at 12:39)</a>:</h4>
<p>Probably <code>leanpkg build</code> still works, but it might take several hours. The advantage of <code>leanproject</code> is that it won't compile anything, it will simply download the compiled .olean binaries from an Azure server making your life a whole lot easier.</p>



<a name="218985173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985173">(Dec 06 2020 at 12:40)</a>:</h4>
<p>The problem is that the MS pages were written in late 2017 and since then <a href="https://leanprover-community.github.io/mathlib_stats.html">a lot has happened</a>.</p>



<a name="218985844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ingo Wechsung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985844">(Dec 06 2020 at 12:58)</a>:</h4>
<p>Thank you, <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , I did the long "wget ...." thing and the <code>leanproject</code> is now available, and I'm now doing <code>leanproject build</code>, I think this will do it.</p>



<a name="218985861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985861">(Dec 06 2020 at 12:58)</a>:</h4>
<p>Hopefully <code>leanproject build</code> will finish in finite time!</p>



<a name="218985968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218985968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ingo Wechsung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218985968">(Dec 06 2020 at 13:01)</a>:</h4>
<p>Compiling a finite number of source files of finite length will, I guess :)</p>
<p>.... and .... it's done and when I open a source file, its now done in NO time .... thank you.</p>



<a name="218986437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218986437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218986437">(Dec 06 2020 at 13:13)</a>:</h4>
<p><span class="user-mention" data-user-id="369858">@Ingo Wechsung</span> if you follow the instructions on the website then you <em>never</em> need to compile anything to do the tutorials.</p>



<a name="218986452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218986452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218986452">(Dec 06 2020 at 13:13)</a>:</h4>
<p>If you forget about using <code>git</code> directly and simply type <code>leanproject get tutorials</code> in some terminal then you will get everything precompiled.</p>



<a name="218987381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218987381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ingo Wechsung <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218987381">(Dec 06 2020 at 13:39)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="110031">@Patrick Massot</span>  I understand now, but I first installed lean through the vscode extension, unfortunately. And then there simply wasn't something like <code>leanproject</code></p>
<p>I also think that compiling the stuff is faster than loading zillions of olean files, at least here in rural germany :)</p>



<a name="218990836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/218990836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#218990836">(Dec 06 2020 at 15:10)</a>:</h4>
<p>The oleans file is a compressed file that is about the size of loading 6 modern web pages.</p>



<a name="238678879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238678879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238678879">(May 13 2021 at 20:49)</a>:</h4>
<p>Currently I get quite frequently to a point where lean crashes with excessive memory consumption. Of course I can restart Lean or reopen VS Code to fix them, but what are the general options to improve my working setup. So far I gathered that I can:</p>
<p>1) <code>leanproject get-mathlib-cache</code> to get a compiled version of mathlib<br>
2) <code>leanproject mk-cache; leanproject get-cache</code> I am unsure but I assume this caches my current work.<br>
3) I read that complicated definitions can be marked as <code>irreducible</code> to help Lean.</p>
<p>Is there more to know about memory consumption?</p>



<a name="238679720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238679720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238679720">(May 13 2021 at 20:55)</a>:</h4>
<p>Are you working on mathlib itself, or your own project?</p>



<a name="238680172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238680172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238680172">(May 13 2021 at 20:58)</a>:</h4>
<p>My own project.<br>
Usually it seems to be related to skimming through the mathlib files chasing definitions.</p>



<a name="238680730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238680730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238680730">(May 13 2021 at 21:02)</a>:</h4>
<p>You might be unintentionally making changes to the mathlib files, and then lean thinks "alright, I'll recompile all of mathlib (or the parts that depend on this file, at least) for you"</p>



<a name="238680960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238680960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238680960">(May 13 2021 at 21:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib/near/238680730">said</a>:</p>
<blockquote>
<p>You might be unintentionally making changes to the mathlib files, and then lean thinks "alright, I'll recompile all of mathlib (or the parts that depend on this file, at least) for you"</p>
</blockquote>
<p>and I would fix that with just checking <code>git status</code> and remove any changes in the mathlibs part, wouldn't I?</p>



<a name="238681657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238681657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238681657">(May 13 2021 at 21:09)</a>:</h4>
<p>Even if you edit a file in vscode without saving vscode updates the lean server with the live version of the file. But you can close all vscode tabs except the one you want and click don't save on any you didn't intend to save. Then restart the lean server from within vscode</p>



<a name="238684499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238684499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238684499">(May 13 2021 at 21:31)</a>:</h4>
<p>So I ran into this situation recently and it was quite delicate to diagnose. The general tips are: definitely don't ever edit a mathlib or core Lean file unless for some reason you really have to, close files you're not using, and if this doesn't fix the problem (which it might not) then maybe you have uncovered an issue with something not being irreducible, so post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> and people can look at it and try and figure out what the problem is. People would typically happily look at sluggish files if they just import mathlib stuff. Issues you find might help to make mathlib compile faster, which is always something we like. NB I never use <code>leanproject mk-cache</code>.</p>



<a name="238689027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238689027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238689027">(May 13 2021 at 22:13)</a>:</h4>
<p>I've definitely seen the behavior before where "go to definition" causes vscode to appear to rebuild mathlib files</p>



<a name="238689137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238689137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238689137">(May 13 2021 at 22:14)</a>:</h4>
<p>Could it be something really dumb like the Olean cache being missed due to different line endings on the build server?</p>



<a name="238689212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238689212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238689212">(May 13 2021 at 22:14)</a>:</h4>
<p>(since git is often configured to meddle with line endings on checkout)</p>



<a name="238689243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238689243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238689243">(May 13 2021 at 22:15)</a>:</h4>
<p>the behavior you mention I think has to do with lean deciding to replace the stored olean version of a file with the "live" version based on the lean text, which is required to give detailed hover and goal info when you are inside the file itself</p>



<a name="238690997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238690997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238690997">(May 13 2021 at 22:32)</a>:</h4>
<p>Does that cause it to invalidate downstream olean files?</p>



<a name="238691236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238691236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238691236">(May 13 2021 at 22:34)</a>:</h4>
<p>unclear</p>



<a name="238691331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238691331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238691331">(May 13 2021 at 22:35)</a>:</h4>
<p>I learned about this hypothesis from <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> , he might be able to say more</p>



<a name="238740650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238740650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238740650">(May 14 2021 at 09:30)</a>:</h4>
<p>Yes, go-to-definition needs to rebuild the file if it was originally loaded from olean.  (Because otherwise you don't get tactics states, hover info, etc.)  I don't think it causes the reverse dependencies to be recompiled.</p>



<a name="238746054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/238746054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#238746054">(May 14 2021 at 10:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib/near/238740650">said</a>:</p>
<blockquote>
<p>Yes, go-to-definition needs to rebuild the file if it was originally loaded from olean.  (Because otherwise you don't get tactics states, hover info, etc.)  I don't think it causes the reverse dependencies to be recompiled.</p>
</blockquote>
<p>That makes a lot of sense, thx for the elaboration</p>



<a name="243305484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/243305484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#243305484">(Jun 20 2021 at 14:33)</a>:</h4>
<p>I often use the VSCode extension Remote - SSH to run Lean on my university server rather than on my laptop, and I am wondering how should I set the memory threshold. Ideally, I would like that the remote setting be something like 100GB but that when I work locally it is only 6GB or so. I have tried to modify the setting, but it seems to me that the modifications are only stored locally, so that if I set the limit to 100GB while connected to the university, it will still be the same even if I close the connection (of course I don't have 100GB of ram on my laptop, I guess it will mean "take whatever memory you want to"). Any help/hint/advice appreciated!</p>



<a name="243307241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/243307241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#243307241">(Jun 20 2021 at 15:16)</a>:</h4>
<p>When you are setting values in Settings, there are ways to make it take on different settings whether you are in Remote-SSH mode or in local mode. But I don't remember which is which atm</p>



<a name="243307927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/243307927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#243307927">(Jun 20 2021 at 15:33)</a>:</h4>
<p>Thanks - if you later figure out how to do this, I'll be very much grateful.</p>



<a name="243308426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/243308426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#243308426">(Jun 20 2021 at 15:46)</a>:</h4>
<p><a href="https://code.visualstudio.com/docs/remote/ssh#_ssh-hostspecific-settings">https://code.visualstudio.com/docs/remote/ssh#_ssh-hostspecific-settings</a></p>



<a name="243309252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/243309252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#243309252">(Jun 20 2021 at 16:05)</a>:</h4>
<p>Thanks!</p>



<a name="252993766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/memory%20usage%20with%20vscode%2C%20lean%20and%20mathlib/near/252993766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/memory.20usage.20with.20vscode.2C.20lean.20and.20mathlib.html#252993766">(Sep 12 2021 at 15:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="435369">Kitty Gorey</span> <a href="#narrow/stream/270676-lean4/topic/INTERNAL.20PANIC.3A.20out.20of.20memory/near/252955598">said</a>:</p>
<blockquote>
<p>Not sure if this is the right place to ask this but how much memory does Lean need? I followed the instructions on <a href="https://leanprover-community.github.io/install/project.html">https://leanprover-community.github.io/install/project.html</a> and VSCode slowly use more and more of my (laughable) ~4GB of usable RAM. Once VSCode has around 2048MB of memory used up my computer just starts acting like it's on its deathbed. Is this normal?</p>
</blockquote>
<p>There may be something subtly wrong with your set-up. I don't have this problem on a 4GB Mac.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>