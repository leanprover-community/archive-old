---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html">is `push_neg` classical?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="205048285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205048285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205048285">(Jul 26 2020 at 11:31)</a>:</h4>
<p>Does <code>push_neg</code> tactic implicitly use the <code>classical</code> library? e.g. intuitionistically we can't prove <code>\exists x, P x</code> from <code>neg \forall x, \neg P x</code>, but this is what <code>push_neg</code> seems to do, is that right?</p>



<a name="205048343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205048343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205048343">(Jul 26 2020 at 11:33)</a>:</h4>
<p>yes</p>



<a name="205049254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205049254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205049254">(Jul 26 2020 at 11:59)</a>:</h4>
<p>Of course it's classical! It was written for mathematics teaching.</p>



<a name="205049577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205049577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205049577">(Jul 26 2020 at 12:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F/near/205049254">said</a>:</p>
<blockquote>
<p>Of course it's classical! It was written for mathematics teaching.</p>
</blockquote>
<p>Now I'm wondering, how many of mathlib's tactics come from this course ?</p>



<a name="205050326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205050326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205050326">(Jul 26 2020 at 12:29)</a>:</h4>
<p>Not so many. I think <code>choose</code>, <code>contrapose</code>, <code>push_neg</code>, <code>apply_fun</code> and <code>rename_var</code> are the only ones.</p>



<a name="205051563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205051563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205051563">(Jul 26 2020 at 13:07)</a>:</h4>
<p><code>contrapose</code> and <code>push_neg</code> allow mathematicians to do classical logic without having to learn <code>logic.basic</code> so they are really useful in practice, and <code>choose</code> allows them to apply the axiom of choice without having to deal with <code>classical.some</code>, so we can see a theme here: they're making an interface which mathematicians are familiar with. It was surprising how many mathematicians come here asking for <code>apply_fun</code>. Of course you can do it in Lean, but mathematicians can never work out why the <code>apply</code> command doesn't do it, because that's their mental model.</p>



<a name="205051640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205051640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205051640">(Jul 26 2020 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="284606">@Chris M</span> you can check yourself that the axioms are being used:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">def</span> <span class="n">test</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">¬</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">P</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">h</span>
<span class="kn">end</span>

<span class="bp">#</span><span class="kn">print</span> <span class="n">axioms</span> <span class="n">test</span>
<span class="c">/-</span><span class="cm"></span>
<span class="cm">propext</span>
<span class="cm">classical.choice</span>
<span class="cm">quot.sound</span>
<span class="cm">-/</span>
</code></pre></div>



<a name="205051887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205051887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205051887">(Jul 26 2020 at 13:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F/near/205051563">said</a>:</p>
<blockquote>
<p>It was surprising how many mathematicians come here asking for <code>apply_fun</code>. Of course you can do it in Lean, but mathematicians can never work out why the <code>apply</code> command doesn't do it, because that's their mental model.</p>
</blockquote>
<p>Fun fact : in the exam, Patrick forgot to import <code>apply_fun</code>,  and most people were stuck on an easy exercise about injectivity/surjectivity because they didn't know how to get <code>x = y -&gt; f x = f y</code> without using it</p>



<a name="205052239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205052239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205052239">(Jul 26 2020 at 13:26)</a>:</h4>
<p>In my defense, everything was doable without <code>apply_fun</code> or <code>congr_whatever</code>. But one of the main difficulties of teaching using Lean is that you never know which twisted path the students will try to explore (and get stuck because you didn't explain or didn't import something needed for this twisted path).</p>



<a name="205052415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205052415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205052415">(Jul 26 2020 at 13:30)</a>:</h4>
<p>Of course <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="205052431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205052431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205052431">(Jul 26 2020 at 13:31)</a>:</h4>
<p>Is there a tutorial that introduces <code>apply_fun</code>? <a href="https://leanprover-community.github.io/mathematics_in_lean/">#mil</a> doesn't seem to (based on a search through it).</p>



<a name="205052645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205052645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205052645">(Jul 26 2020 at 13:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#apply_fun">https://leanprover-community.github.io/mathlib_docs/tactics.html#apply_fun</a></p>



<a name="205052669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/is%20%60push_neg%60%20classical%3F/near/205052669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/is.20.60push_neg.60.20classical.3F.html#205052669">(Jul 26 2020 at 13:37)</a>:</h4>
<p>Yes I have seen it, I was just wondering if there is a more extensive tutorial showing when people use it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>