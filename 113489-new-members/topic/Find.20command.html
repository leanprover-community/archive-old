---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Find.20command.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html">Find command</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197979238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197979238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197979238">(May 18 2020 at 18:45)</a>:</h4>
<p>How to search for theorems within Lean? I haven't been able to successfully use the <code>#find</code> command yet, is there something like the <code>Search</code> command in Coq? Also, <code>#print notation x</code> looks promising, how do I specialize the result to a given instance (e.g. instead of <code>has_add.add</code> show the add instance for <code>\N</code>)?</p>
<div class="codehilite"><pre><span></span><code><span class="bp">#</span><span class="kn">print</span> <span class="kn">notation</span> <span class="bp">+</span> <span class="c1">-- Prints the type class.</span>
<span class="bp">#</span><span class="n">find</span> <span class="n">has_add</span><span class="bp">.</span><span class="n">add</span> <span class="c1">-- Prints nothing apparently.</span>
<span class="bp">#</span><span class="n">find</span> <span class="n">add</span> <span class="c1">-- Fails?!</span>
</code></pre></div>



<a name="197979556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197979556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aniruddh Agarwal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197979556">(May 18 2020 at 18:48)</a>:</h4>
<p>For mathlib specifically, I've had some success with the search bar at <a href="https://leanprover-community.github.io/mathlib_docs/">https://leanprover-community.github.io/mathlib_docs/</a></p>



<a name="197979917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197979917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197979917">(May 18 2020 at 18:51)</a>:</h4>
<p>Find is difficult to use imo, most of the time I use library search (or suggest), I write out the result I want (as a have or a separate example) and use library_search to find the proof. Otherwise just guess the name and grep for something close to it.</p>



<a name="197980159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197980159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197980159">(May 18 2020 at 18:53)</a>:</h4>
<p>For something like the nat.add instance I would press cmd + p in vscode (for me) and then type <code>#nat.has_add</code> and hit enter, which takes me to line 429 of /Users/alex/.elan/toolchains/leanprover-community-lean-3.12.0/lib/lean/library/init/core.lean</p>



<a name="197984223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197984223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197984223">(May 18 2020 at 19:27)</a>:</h4>
<p>If you want to know about <code>has_add.add</code> just <code>#check has_add.add</code> and then right-click on <code>has_add.add</code> and go to definition.</p>



<a name="197986193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197986193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197986193">(May 18 2020 at 19:44)</a>:</h4>
<p>I am aware of the mathlib documentation and also had <em>some</em> success with the search bar.</p>
<p>I didn't find any documentation on <code>#find</code>'s behavior, where can I find it?</p>



<a name="197986537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197986537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197986537">(May 18 2020 at 19:47)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/commands.html##find">https://leanprover-community.github.io/mathlib_docs/commands.html##find</a></p>



<a name="197986642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197986642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197986642">(May 18 2020 at 19:48)</a>:</h4>
<p>I'm not sure anyone uses <code>#find</code>. If you want to use it, I suspect that there are other tricks you don't know. Can you give me an example of why you might think you want to use <code>#find</code>?</p>



<a name="197994938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197994938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197994938">(May 18 2020 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> thank you!</p>



<a name="197995759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197995759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197995759">(May 18 2020 at 21:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> in Coq using <code>Search add</code>, for example, will list every theorem within scope containing add. This is very useful in the absence of <code>library_search</code> (although, I suspect <code>auto</code> databases are potentially even more useful). I find <code>library_search</code> very slow, and we kind of know what we want, so I thought <code>#find something_with_add_and_le</code> would be a faster way of doing things.</p>



<a name="197995812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197995812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pedro Minicz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197995812">(May 18 2020 at 21:09)</a>:</h4>
<p>Unfortunately, <code>#find</code> seems very slow from running the few examples in the docs. Which is weird and somewhat disappointing.</p>



<a name="197995917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197995917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197995917">(May 18 2020 at 21:10)</a>:</h4>
<p>Not sure if this was mentioned above but you can also try the VS Code extension's "symbol search" by hitting ctrl+T. It's not very sophisticated since it just does string search, but sometimes that's good enough.</p>



<a name="197995947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197995947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197995947">(May 18 2020 at 21:10)</a>:</h4>
<p>Typing <code>#check add</code> and then pressing ctrl-space will list the (first 100) theorems in scope whose name contains <code>add</code></p>



<a name="197995997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197995997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197995997">(May 18 2020 at 21:10)</a>:</h4>
<p>Although sometimes you have to press escape and try again</p>



<a name="197996044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197996044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197996044">(May 18 2020 at 21:11)</a>:</h4>
<p><del>I think ctrl+T should in principle return the same results as autocomplete, while being less fiddly.</del></p>



<a name="197996143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197996143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197996143">(May 18 2020 at 21:12)</a>:</h4>
<p>Actually, I take that back. They send different commands to the Lean server and I haven't checked that part of the C++ code, so they could differ...</p>



<a name="197996450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197996450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197996450">(May 18 2020 at 21:14)</a>:</h4>
<p>There is a pretty rigorous naming convention in Lean and you find after a while that you can have a very good guess at a theorem name from its type. Of course this isn't perfect but I would imagine that listing all the theorems in scope that mention add isn't either</p>



<a name="197997021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197997021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197997021">(May 18 2020 at 21:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Find.20command/near/197996450">said</a>:</p>
<blockquote>
<p>There is a pretty rigorous naming convention in Lean and you find after a while that you can have a very good guess at a theorem name from its type. Of course this isn't perfect but I would imagine that listing all the theorems in scope that mention add isn't either</p>
</blockquote>
<p>I recently wrote the following to try to find a certain lemma... and <code>library_search</code> returned exactly the name that I had picked for it. So it's possible to learn the naming conventions by accident.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>
<span class="kn">open</span> <span class="n">finset</span>


<span class="kn">lemma</span> <span class="n">sum_le_sum</span> <span class="o">{</span><span class="n">α</span> <span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">ordered_add_comm_monoid</span> <span class="n">M</span><span class="o">]</span>
<span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f_le_g</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">g</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
<span class="err">∑</span> <span class="n">a</span> <span class="k">in</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="n">a</span> <span class="k">in</span> <span class="n">x</span><span class="o">,</span> <span class="n">g</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">library_search</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197997149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197997149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197997149">(May 18 2020 at 21:21)</a>:</h4>
<p>For completeness, <a href="https://leanprover-community.github.io/contribute/naming.html">here</a> are the naming conventions. (Do we need #naming?)</p>



<a name="197999336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Find%20command/near/197999336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Find.20command.html#197999336">(May 18 2020 at 21:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> <a href="#narrow/stream/113489-new-members/topic/Find.20command/near/197997149">said</a>:</p>
<blockquote>
<p>For completeness, <a href="https://leanprover-community.github.io/contribute/naming.html">here</a> are the naming conventions. (Do we need <a href="https://leanprover-community.github.io/contribute/naming.html">#naming</a>?)</p>
</blockquote>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>