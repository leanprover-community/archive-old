---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html">algebra K L implies algebra (polynomial K) (polynomial L)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265604254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265604254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265604254">(Dec 20 2021 at 19:06)</a>:</h4>
<p>According to <code>polynomial.algebra_of_algebra</code>, if we have a field extension <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>K</mi></mrow><annotation encoding="application/x-tex">L/K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>, then we also have that <code>polynomial L</code> is an algebra over <code>polynomial K</code>. I'm trying to get the algebra map from <code>polynomial K</code> to <code>polynomial L</code>, and I can't understand why the following doesn't work. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.adjoin</span>
<span class="kn">import</span> <span class="n">algebra.big_operators.basic</span>
<span class="kn">import</span> <span class="n">data.polynomial.algebra_map</span>

<span class="kd">def</span> <span class="n">alg_map</span> <span class="o">(</span><span class="n">K</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">:</span> <span class="n">polynomial</span><span class="o">(</span><span class="n">K</span><span class="o">)</span> <span class="bp">→+*</span> <span class="n">polynomial</span><span class="o">(</span><span class="n">L</span><span class="o">)</span> <span class="o">:=</span> <span class="n">algebra_map</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">K</span><span class="o">)</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">L</span><span class="o">)</span>
</code></pre></div>
<p>Can anyone help?</p>



<a name="265604674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265604674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265604674">(Dec 20 2021 at 19:10)</a>:</h4>
<p>So the reason what you wrote doesn't work is that we don't have the instance that if L is a K-algebra then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> is a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">K[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span>-algebra. In fact it might be best not to have that instance, because one could imagine wanting to give <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> a different algebra structure, and making it an instance would make this quite annoying to do (the point of an instance is that it's the "one fixed canonical" term of the class; this is why stuff like <code>ring_hom</code> is not a class, because it's completely fine to have two ring homomorphisms between two rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> in a proof).</p>



<a name="265604862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265604862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265604862">(Dec 20 2021 at 19:12)</a>:</h4>
<p>Here's how to do it:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">field_theory.adjoin</span>
<span class="kn">import</span> <span class="n">algebra.big_operators.basic</span>
<span class="kn">import</span> <span class="n">data.polynomial.algebra_map</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">alg_map</span> <span class="o">(</span><span class="n">K</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">polynomial</span><span class="o">(</span><span class="n">K</span><span class="o">)</span> <span class="bp">→+*</span> <span class="n">polynomial</span><span class="o">(</span><span class="n">L</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">polynomial.map_ring_hom</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span> <span class="n">L</span><span class="o">)</span>
</code></pre></div>
<p><code>polynomial.map_ring_hom</code> is the functoriality of <code>polynomial</code> with respect to ring homomorphisms -- it eats a ring hom <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">K\to L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> and outputs a ring hom <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>→</mo><mi>L</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">K[X]\to L[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span>.</p>



<a name="265605007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605007">(Dec 20 2021 at 19:15)</a>:</h4>
<p>So what is <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.algebra_of_algebra">docs#polynomial.algebra_of_algebra</a></p>



<a name="265605161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605161">(Dec 20 2021 at 19:16)</a>:</h4>
<p>Aha, <span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> that instance gives you the algebra structure <code>K → L[X]</code></p>



<a name="265605162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605162">(Dec 20 2021 at 19:16)</a>:</h4>
<p>Looks like it's the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>-algebra structure on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> so no contradiction.</p>



<a name="265605230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605230">(Dec 20 2021 at 19:17)</a>:</h4>
<p><code>polynomial.map_ring_hom</code> should probably just be called <code>polynomial.map</code>. Then what to call <code>polynomial.map</code>?</p>



<a name="265605413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605413">(Dec 20 2021 at 19:19)</a>:</h4>
<p>Maybe it can cease to exist?</p>



<a name="265605473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605473">(Dec 20 2021 at 19:20)</a>:</h4>
<p>Otoh, sometimes you just want to apply a function to the coefficients, without it being a ring hom. There are some weird edge cases.</p>



<a name="265605513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265605513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265605513">(Dec 20 2021 at 19:20)</a>:</h4>
<p>E.g., if you have <code>f ∈ ℤ[X]</code> and a proof that all coefficients are positive, then you might want to map it through <code>int.to_nat</code> to get a polynomial in <code>ℕ[X]</code>.</p>



<a name="265608601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265608601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265608601">(Dec 20 2021 at 19:52)</a>:</h4>
<p>Ohhhh yes I misread <code>polynomial.algebra_of_algebra</code> to be the thing I was looking for!</p>



<a name="265608605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/algebra%20K%20L%20implies%20algebra%20%28polynomial%20K%29%20%28polynomial%20L%29/near/265608605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/algebra.20K.20L.20implies.20algebra.20(polynomial.20K).20(polynomial.20L).html#265608605">(Dec 20 2021 at 19:52)</a>:</h4>
<p>Thanks</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>