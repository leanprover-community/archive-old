---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html">turn a + b = a into something like a + b = a + 0</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233490099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233490099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> AnduinHS <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233490099">(Apr 07 2021 at 13:47)</a>:</h4>
<p>Hello everyone!<br>
Induction will work. Howver, I want to turn a + b = a into something like a + b = a + 0. There are two attempts<br>
<a href="/user_uploads/3121/5WwYWUTN3ZD4DzYqt82-s3Jy/360截图18750810102140132.png">360截图18750810102140132.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/5WwYWUTN3ZD4DzYqt82-s3Jy/360截图18750810102140132.png" title="360截图18750810102140132.png"><img src="/user_uploads/3121/5WwYWUTN3ZD4DzYqt82-s3Jy/360截图18750810102140132.png"></a></div><ol>
<li>add_zero is defined for mynat, i.e. a + 0 = a. And here I am told that rw (rewrite) in lean can replace X in goal or hypothesis (add at h after it, h is hypothesis) with the equivalent Y, and rw &lt;- replaces Y with the equivalent X. Here I am trying to replace a with a + 0 (i.e. add_zero backwards, but it doesn't seem to work (I don't know if it's possible to specify the element you want to replace in lean)</li>
<li><a href="/user_uploads/3121/MY7KfgLy2c9ugWZ5MvFW_Yni/360截图17860605423034.png">360截图17860605423034.png</a><br>
Why couldn't I use my lemma ex above to replace "a" or lean auto-detected other elements with "a+0"? What are "metavariables"?<div class="message_inline_image"><a href="/user_uploads/3121/MY7KfgLy2c9ugWZ5MvFW_Yni/360截图17860605423034.png" title="360截图17860605423034.png"><img src="/user_uploads/3121/MY7KfgLy2c9ugWZ5MvFW_Yni/360截图17860605423034.png"></a></div></li>
</ol>
<p>Thank you in advance!</p>



<a name="233491468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233491468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233491468">(Apr 07 2021 at 13:55)</a>:</h4>
<p>In the NNG, you can do <code>rw ←add_zero a</code>, though that doesn't fix everything - it replaces every <code>a</code> by <code>a + 0</code>.<br>
This works, but I'm not sure you learned about <code>conv</code> yet:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">conv</span> <span class="n">at</span> <span class="n">h</span> <span class="o">{</span> <span class="n">to_rhs</span><span class="o">,</span> <span class="n">rw</span> <span class="bp">←</span><span class="n">add_zero</span> <span class="n">a</span> <span class="o">}</span> <span class="o">,</span>
<span class="n">exact</span> <span class="n">add_left_cancel</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span>
</code></pre></div>



<a name="233492741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233492741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233492741">(Apr 07 2021 at 14:02)</a>:</h4>
<p>I see that Ruben already answered this!</p>



<a name="233492821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233492821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233492821">(Apr 07 2021 at 14:03)</a>:</h4>
<p>We're not taught <code>conv</code> in the NNG at all, and in fact I just looked up my proof for that propn -- it's really ugly. I think some note about either <code>conv</code> or <code>nth_rewrite</code> at that point, because it feels like the thing you'd do if you were proving this by hand.</p>



<a name="233497439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233497439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233497439">(Apr 07 2021 at 14:28)</a>:</h4>
<p>For what it's worth, you don't need <code>conv</code> or <code>nth_rewrite</code> for this proof. See the "official" solution <a href="https://github.com/ImperialCollegeLondon/natural_number_game/blob/e662e49ac977d4f0bbe53502e677e18025f9394c/src/game/world8/level8.lean#L22">here</a>.</p>



<a name="233497659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233497659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233497659">(Apr 07 2021 at 14:30)</a>:</h4>
<p>The "issue" here is that lean finds it easier to simplify expressions than to complicate them - so it's easier to do the <code>apply</code> first, and then remove the <code>+ 0</code>, than to add <code>+ 0</code> first to get your hypothesis in the right shape</p>



<a name="233497885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233497885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233497885">(Apr 07 2021 at 14:30)</a>:</h4>
<p>And if you're into that, you can do it in one line without tactics:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">add_left_cancel</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">h.trans</span> <span class="o">(</span><span class="n">add_zero</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">)</span>
</code></pre></div>



<a name="233500420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/turn%20a%20%2B%20b%20%3D%20a%20into%20something%20like%20a%20%2B%20b%20%3D%20a%20%2B%200/near/233500420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200.html#233500420">(Apr 07 2021 at 14:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/turn.20a.20.2B.20b.20.3D.20a.20into.20something.20like.20a.20.2B.20b.20.3D.20a.20.2B.200/near/233497659">said</a>:</p>
<blockquote>
<p>The "issue" here is that lean finds it easier to simplify expressions than to complicate them - so it's easier to do the <code>apply</code> first, and then remove the <code>+ 0</code>, than to add <code>+ 0</code> first to get your hypothesis in the right shape</p>
</blockquote>
<p>I feel like having read this line (or something similar) whilst doing the proof would've been really helpful to me, bach when I was getting started. I may PR some text to this effect later</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>