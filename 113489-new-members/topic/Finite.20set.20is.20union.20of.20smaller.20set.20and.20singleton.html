---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html">Finite set is union of smaller set and singleton</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265675698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265675698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265675698">(Dec 21 2021 at 11:40)</a>:</h4>
<p>If <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> is a finite set of size <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>, then I want to state the fact that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>T</mi><mo>∪</mo><mo stretchy="false">{</mo><mi>x</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S = T \cup \{x\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span></span> for some <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> has size <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>.  I'm trying to state this as </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">h_finite</span> <span class="o">:</span> <span class="n">S.finite</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">h_T_finite</span> <span class="o">:</span> <span class="n">T.finite</span><span class="o">),</span> <span class="o">(</span><span class="n">h_T_finite.to_finset.card</span> <span class="bp">=</span> <span class="n">h_finite.to_finset.card</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">S</span> <span class="bp">=</span> <span class="o">(</span><span class="n">T</span> <span class="bp">⋃</span> <span class="o">({</span><span class="n">x</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)))</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>but I get the error <code>invalid definition, '|' or ':=' expected</code>, along with a bunch of red lines under the <code>(T ⋃ ({x} : set X))</code>. Can anyone help?</p>



<a name="265676369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265676369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265676369">(Dec 21 2021 at 11:50)</a>:</h4>
<p>Are you sure you don't want to use <a href="https://leanprover-community.github.io/mathlib_docs/find/finset">docs#finset</a>? Sounds a bit easier than what you're trying.</p>



<a name="265676415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265676415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265676415">(Dec 21 2021 at 11:51)</a>:</h4>
<p>You used the wrong symbol. It's not <code>⋃</code>but <code>∪</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">h_finite</span> <span class="o">:</span> <span class="n">S.finite</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">h_T_finite</span> <span class="o">:</span> <span class="n">T.finite</span><span class="o">),</span> <span class="o">(</span><span class="n">h_T_finite.to_finset.card</span> <span class="bp">=</span> <span class="n">h_finite.to_finset.card</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">S</span> <span class="bp">=</span> <span class="o">(</span><span class="n">T</span> <span class="bp">∪</span> <span class="o">({</span><span class="n">x</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">)))</span> <span class="o">:=</span>
</code></pre></div>



<a name="265676807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265676807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265676807">(Dec 21 2021 at 11:56)</a>:</h4>
<p>This almost surely a <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> issue.</p>



<a name="265691458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265691458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265691458">(Dec 21 2021 at 14:36)</a>:</h4>
<p>In any case, you can construct T from "erase x S" where you get x from deconstructing "S.nonempty". Which you do have, right? Because your statement is false for n = 0. I also agree with Patrick here.</p>



<a name="265692657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Finite%20set%20is%20union%20of%20smaller%20set%20and%20singleton/near/265692657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Monnet <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Finite.20set.20is.20union.20of.20smaller.20set.20and.20singleton.html#265692657">(Dec 21 2021 at 14:46)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="387244">@Yaël Dillies</span>. Yes, it probably will turn out to be an XY issue. I asked for help with Y because I'd like to attempt X myself before someone tells me the "right" way to do it</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>