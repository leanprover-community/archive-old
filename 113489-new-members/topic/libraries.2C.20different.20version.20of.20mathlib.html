---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html">libraries, different version of mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315307225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315307225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315307225">(Dec 12 2022 at 07:58)</a>:</h4>
<p>Can a project depend on two libraries, each of which depends on a different version of mathlib?</p>



<a name="315307505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315307505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315307505">(Dec 12 2022 at 08:00)</a>:</h4>
<p>That sounds like a recipe for pain</p>



<a name="315310770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315310770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315310770">(Dec 12 2022 at 08:23)</a>:</h4>
<p>Even if it's somehow technically possible, surely not a good idea</p>



<a name="315312137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315312137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315312137">(Dec 12 2022 at 08:30)</a>:</h4>
<p>What mechanism prevents me from proving <code>false</code>? Does every use of a definition from mathlib carry the information which version of mathlib it is from, making two different definitions incompatible in one theorem?</p>



<a name="315312590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315312590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315312590">(Dec 12 2022 at 08:33)</a>:</h4>
<p>I think Lean will just complain about definitions in the environment with the same name</p>



<a name="315314632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315314632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315314632">(Dec 12 2022 at 08:45)</a>:</h4>
<p>Or more likely <code>leanpkg</code> will just grab one of the two versions of mathlib and your other dependency will have to deal with having the "wrong" version</p>



<a name="315318605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315318605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315318605">(Dec 12 2022 at 09:09)</a>:</h4>
<p>What do you mean? Will the other dependency be recompiled as it is with the "wrong" definitions, and possibly fail?</p>



<a name="315341459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315341459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315341459">(Dec 12 2022 at 11:16)</a>:</h4>
<p>Why don't you try it and find out? Sounds like other people don't particularly want pain.</p>



<a name="315341722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315341722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315341722">(Dec 12 2022 at 11:18)</a>:</h4>
<p>I thought it was generally known to everybody except newbies like me.</p>



<a name="315341773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315341773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315341773">(Dec 12 2022 at 11:18)</a>:</h4>
<p>I'm afraid it's only generally known that this is clearly a bad idea.</p>



<a name="315342032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315342032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315342032">(Dec 12 2022 at 11:20)</a>:</h4>
<p>Please report back :-)</p>



<a name="315350754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315350754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315350754">(Dec 12 2022 at 12:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib/near/315341459">said</a>:</p>
<blockquote>
<p>Why don't you try it and find out? Sounds like other people don't particularly want pain.</p>
</blockquote>
<p>It will take me a long time — I don't know how dependencies work (and this experiment will require a non-trivial amount of work with them).</p>



<a name="315357621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315357621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315357621">(Dec 12 2022 at 12:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417654">Martin Dvořák</span> <a href="#narrow/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib/near/315341722">said</a>:</p>
<blockquote>
<p>I thought it was generally known to everybody except newbies like me.</p>
</blockquote>
<p>Most people here (even experts) tend to only use a dependency chain of <code>their favourite project -&gt; mathlib </code> I would guess</p>



<a name="315365052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315365052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315365052">(Dec 12 2022 at 13:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib/near/315357621">said</a>:</p>
<blockquote>
<p>Most people here (even experts) tend to only use a dependency chain of <code>their favourite project -&gt; mathlib </code> I would guess</p>
</blockquote>
<p>It probably means that our community is doing exceptionally well in avoiding dependency hell!</p>



<a name="315365448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315365448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315365448">(Dec 12 2022 at 13:23)</a>:</h4>
<p>I actually like that there is practically only one library for Lean 3.</p>



<a name="315366213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/libraries%2C%20different%20version%20of%20mathlib/near/315366213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/libraries.2C.20different.20version.20of.20mathlib.html#315366213">(Dec 12 2022 at 13:26)</a>:</h4>
<p>If you try and use <code>leanpkg</code> with two dependencies <code>A</code> and <code>B</code> that use different versions  of mathlib, it will either pick one arbitrarily (likely causing one of <code>A</code> or <code>B</code> not to build any more), or tell you that your project configuration is invalid</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>