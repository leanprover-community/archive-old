---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/installation.20with.20vscode.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html">installation with vscode</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272316734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272316734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272316734">(Feb 17 2022 at 20:14)</a>:</h4>
<p>I've tried to install lean with vscode following those instructions <a href="https://leanprover-community.github.io/install/windows.html">https://leanprover-community.github.io/install/windows.html</a><br>
I've managed to have gotten elan and mathlib on git bash, then I went and got the vscode extension, which didn't find lean, and installed its own copy of lean somewhere... so how do I either (1) get rid of that and point it to my first lean installation (2) install mathlib so that second installation can find it?</p>



<a name="272317128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272317128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272317128">(Feb 17 2022 at 20:18)</a>:</h4>
<p>Or maybe the problem is not getting mathlib because it seems to know about those modules, but lean seems stuck, the InfoView window always says "loading"</p>



<a name="272325755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272325755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272325755">(Feb 17 2022 at 21:32)</a>:</h4>
<p>Did you use VS Code's "open folder" functionality to open a correctly-formatted Lean project? If you're not sure, can you send a screenshot of your VS Code with the file explorer open and the infoview saying "loading"?</p>



<a name="272329203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272329203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272329203">(Feb 17 2022 at 21:49)</a>:</h4>
<p>I did. This is what I'm seeing <a href="/user_uploads/3121/rkhx69oYEn_6WjW3z5-8NReg/Untitled.png">Untitled.png</a> The whole file is marked in orange and I cannot get any type information, it just says "loading..."</p>
<div class="message_inline_image"><a href="/user_uploads/3121/rkhx69oYEn_6WjW3z5-8NReg/Untitled.png" title="Untitled.png"><img src="/user_uploads/3121/rkhx69oYEn_6WjW3z5-8NReg/Untitled.png"></a></div>



<a name="272329439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272329439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272329439">(Feb 17 2022 at 21:52)</a>:</h4>
<p>What happens if you comment out the <code>import ...</code> line?<br>
(I suspect your computer is building mathlib)</p>



<a name="272329572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272329572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272329572">(Feb 17 2022 at 21:53)</a>:</h4>
<p>Ah with the <code>import</code> out it does respond</p>



<a name="272329736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272329736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272329736">(Feb 17 2022 at 21:54)</a>:</h4>
<p>Try <code>$ leanproject get-mathlib-cache</code> in the root directory of the project</p>



<a name="272330433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272330433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272330433">(Feb 17 2022 at 22:00)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">Looking</span> <span class="n">for</span> <span class="n">testlean</span> <span class="n">oleans</span> <span class="n">for</span> <span class="mi">0</span><span class="n">f9c1538d</span>
  <span class="n">locally...</span>
  <span class="n">remotely...</span>
<span class="o">(</span><span class="bp">'</span><span class="n">Connection</span> <span class="n">aborted.'</span><span class="o">,</span> <span class="n">ConnectionResetError</span><span class="o">(</span><span class="mi">10054</span><span class="o">,</span> <span class="bp">'</span><span class="n">An</span> <span class="n">existing</span> <span class="n">connection</span> <span class="n">was</span> <span class="n">forcibly</span> <span class="n">closed</span> <span class="kd">by</span>
<span class="n">the</span> <span class="n">remote</span> <span class="n">host'</span><span class="o">,</span> <span class="n">None</span><span class="o">,</span> <span class="mi">10054</span><span class="o">,</span> <span class="n">None</span><span class="o">))</span>
</code></pre></div>



<a name="272330536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272330536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272330536">(Feb 17 2022 at 22:01)</a>:</h4>
<p>Is there a progress indicator? Is it supposed to build in the background? I remember mathlib was at least downloaded at the beginning.</p>



<a name="272331061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272331061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272331061">(Feb 17 2022 at 22:06)</a>:</h4>
<p>You can let it build mathlib in the background but it's a rather expensive operation. It takes time, CPU and quite a lot of memory. So we just use <code>leanproject</code> to get cached <code>olean</code> files from Azure.<br>
I had never seen the host closing the connection like that though</p>



<a name="272331152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272331152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272331152">(Feb 17 2022 at 22:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="380212">Lysxia</span> <a href="#narrow/stream/113489-new-members/topic/installation.20with.20vscode/near/272330536">said</a>:</p>
<blockquote>
<p>I remember mathlib was at least downloaded at the beginning.</p>
</blockquote>
<p>That was probably "just" the source code of mathlib</p>



<a name="272331336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/installation%20with%20vscode/near/272331336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lysxia <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/installation.20with.20vscode.html#272331336">(Feb 17 2022 at 22:09)</a>:</h4>
<p>aha, I don't know what changed but after messing around <code>leanproject get-mathlib-cache</code> eventually succeeded.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>