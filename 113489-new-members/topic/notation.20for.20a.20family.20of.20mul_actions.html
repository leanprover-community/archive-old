---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html">notation for a family of mul_actions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="253435621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253435621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253435621">(Sep 15 2021 at 15:41)</a>:</h4>
<p>For each  integer  <code>k</code> I've defined a mul_action of some group <code>G</code> on some set <code>S</code> (with <code>G</code> and <code>S</code> indep. of <code>k</code>). Now I wanted to use some notation for this like the usual <code>smul</code> notation <code>•</code> but perhaps something like <code>•ₖ</code>. Is this possible? I tried playing around with <code>infixr</code>'s but it didnt like the dependence on <code>k</code>.</p>



<a name="253436815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253436815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253436815">(Sep 15 2021 at 15:48)</a>:</h4>
<p>Small <code>ₖ</code> and <code>k</code> aren't related at all as unicode characters, so you won't be able to do that. What you can do is not making it small.</p>



<a name="253436876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253436876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253436876">(Sep 15 2021 at 15:49)</a>:</h4>
<p>To avoid any confusion, I would advise <code>•[k]</code></p>



<a name="253436929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253436929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253436929">(Sep 15 2021 at 15:49)</a>:</h4>
<p>One option would be to use a type alias:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">abbreviation</span> <span class="n">with_k</span> <span class="o">(</span><span class="n">k</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span> <span class="n">G</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">mul_action</span> <span class="o">(</span><span class="n">with_k</span> <span class="n">k</span> <span class="n">G</span><span class="o">)</span> <span class="n">S</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>



<a name="253437084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253437084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253437084">(Sep 15 2021 at 15:50)</a>:</h4>
<p>Can you give a precise definition of what you want <code>has_scalar</code> to mean for your action?</p>



<a name="253437399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253437399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253437399">(Sep 15 2021 at 15:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253436815">said</a>:</p>
<blockquote>
<p>Small <code>ₖ</code> and <code>k</code> aren't related at all as unicode characters, so you won't be able to do that. What you can do is no making it small.</p>
</blockquote>
<p>Ah interesting I didnt know this!</p>



<a name="253438607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253438607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253438607">(Sep 15 2021 at 15:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253437084">said</a>:</p>
<blockquote>
<p>Can you give a precise definition of what you want <code>has_scalar</code> to mean for your action?</p>
</blockquote>
<p>So I wanted the notation, for each <code>k</code> to behave just the the usual <code>smul</code> notation.  I dont think I want some <code>has_scalar</code> to be <code>ℤ → G → S → S</code>. Is that what you are asking? Sorry, maybe I'm misunderstanding your question.</p>



<a name="253439049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253439049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253439049">(Sep 15 2021 at 16:00)</a>:</h4>
<p>I'm asking for you to give an example of the kind of action you have in mind; that is, fill in the blanks in:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- I assume you meant `S` was a `Type` not a set</span>
<span class="kd">def</span> <span class="n">my_smul</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span> <span class="n">S</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="253439235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253439235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253439235">(Sep 15 2021 at 16:01)</a>:</h4>
<p>The reason I ask is you might be able to express the k-indexed family of actions in terms of  stuff we already have</p>



<a name="253441138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253441138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253441138">(Sep 15 2021 at 16:11)</a>:</h4>
<p>Ah sorry I see what you mean. The thing I have is something like </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">α</span>  <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">β</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">my_smul</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">):=</span>
<span class="bp">λ</span> <span class="n">g</span> <span class="n">f</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">g</span><span class="bp">^</span><span class="n">k</span> <span class="bp">•</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span>    <span class="o">)</span>
</code></pre></div>
<p>(also technically I'd like this to behave like a right action, but it seems most of the things are for left actions, so I'm using inverses to make it a left action).</p>



<a name="253442119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253442119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253442119">(Sep 15 2021 at 16:16)</a>:</h4>
<p>Hmm, I guess I can only reuse one existing action there:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">β</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">my_smul</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span> <span class="n">g</span><span class="bp">^</span><span class="n">k</span> <span class="bp">•</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span><span class="bp">⁻¹</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span>
</code></pre></div>



<a name="253442300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253442300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253442300">(Sep 15 2021 at 16:17)</a>:</h4>
<p>I would probably still recommend the type alias approach that I suggested with <code>with_k</code> above, and then maybe add some special notation for that</p>



<a name="253442340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253442340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253442340">(Sep 15 2021 at 16:17)</a>:</h4>
<p>Which is roughly how I recommended doing right actions</p>



<a name="253442896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253442896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253442896">(Sep 15 2021 at 16:20)</a>:</h4>
<p>So, let me see if I understand how this works. With the type alias, I'm storing the information of <code>G</code> and <code>k</code> both under the name <code>G</code>? and when I want to change the <code>k</code> in some specific instance I use the <code>with_k</code> parameter?</p>



<a name="253443788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253443788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253443788">(Sep 15 2021 at 16:25)</a>:</h4>
<p>Something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">β</span><span class="o">]</span>

<span class="kd">@[derive group]</span>
<span class="kd">def</span> <span class="n">with_k</span>  <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span> <span class="n">G</span>

<span class="kd">def</span> <span class="n">with_k.mk</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→*</span> <span class="n">with_k</span> <span class="n">k</span> <span class="n">G</span> <span class="o">:=</span> <span class="n">monoid_hom.id</span> <span class="n">_</span>
<span class="kd">def</span> <span class="n">with_k.out</span> <span class="o">{</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">}</span> <span class="o">:</span> <span class="n">with_k</span> <span class="n">k</span> <span class="n">G</span> <span class="bp">→*</span> <span class="n">G</span> <span class="o">:=</span> <span class="n">monoid_hom.id</span> <span class="n">_</span>

<span class="kd">instance</span> <span class="n">with_k.has_scalar</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">has_scalar</span> <span class="o">(</span><span class="n">with_k</span> <span class="n">k</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">smul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">g</span> <span class="n">f</span><span class="o">,</span> <span class="n">g.out</span> <span class="bp">^</span> <span class="n">k</span> <span class="bp">•</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">g.out</span><span class="bp">⁻¹</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span> <span class="o">}</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="n">g</span> <span class="bp">`•ₖ</span><span class="o">[</span><span class="bp">`</span><span class="o">:</span><span class="mi">73</span> <span class="n">k</span><span class="o">:</span><span class="mi">0</span> <span class="bp">`</span><span class="o">]</span><span class="bp">`</span> <span class="n">f</span><span class="o">:</span><span class="mi">72</span> <span class="o">:=</span> <span class="n">with_k.mk</span> <span class="n">k</span> <span class="n">g</span> <span class="bp">•</span> <span class="n">f</span>

<span class="c1">-- I panicked, `unit.star` is the only group I could think of</span>
<span class="k">#check</span> <span class="n">unit.star</span> <span class="bp">•ₖ</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="n">id</span>
</code></pre></div>



<a name="253443860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253443860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253443860">(Sep 15 2021 at 16:25)</a>:</h4>
<p>You're storing the <code>k</code> in a copy of the type <code>G</code></p>



<a name="253444508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253444508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253444508">(Sep 15 2021 at 16:28)</a>:</h4>
<p>Ah I see that looks like it'll work as  I want it to. Thank you!</p>



<a name="253444640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253444640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253444640">(Sep 15 2021 at 16:29)</a>:</h4>
<p>Your other option is not to make it an action at all, and just make it a <code>mul_equiv</code></p>



<a name="253445442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253445442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253445442">(Sep 15 2021 at 16:33)</a>:</h4>
<p>Ah interesting, I hadn't thought about that. I'll have a think about which will work best. Thanks.</p>



<a name="253445926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253445926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253445926">(Sep 15 2021 at 16:36)</a>:</h4>
<p>Your action isn't actually a <code>mul_equiv</code> unless <code>comm_group G</code>, right?</p>



<a name="253445995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253445995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253445995">(Sep 15 2021 at 16:36)</a>:</h4>
<p>I'm a bit worried that the <code>with_k</code> will create a new barrier that many things cannot see through.</p>



<a name="253446133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446133">(Sep 15 2021 at 16:37)</a>:</h4>
<p>Yes, it might become as arduous as having all the instances for <a href="https://leanprover-community.github.io/mathlib_docs/find/opposite">docs#opposite</a> is</p>



<a name="253446149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446149">(Sep 15 2021 at 16:37)</a>:</h4>
<p>Wouldn't it be better to just make <code>•[k]</code> a local notation for <code>λ g f, g ^ k • λ x, f (g⁻¹ • x)</code>?</p>



<a name="253446183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446183">(Sep 15 2021 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="389019">@Chris Birkbeck</span> this is for modular forms, isn't it?</p>



<a name="253446199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446199">(Sep 15 2021 at 16:37)</a>:</h4>
<p>If you do that you can't use  any existing smul lemmas</p>



<a name="253446296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446296">(Sep 15 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253445926">said</a>:</p>
<blockquote>
<p>Your action isn't actually a <code>mul_equiv</code> unless <code>comm_group G</code>, right?</p>
</blockquote>
<p>maybe, I just made this up quickly as an example.</p>



<a name="253446321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446321">(Sep 15 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446199">said</a>:</p>
<blockquote>
<p>If you do that you can't use  any existing smul lemmas</p>
</blockquote>
<p>can they not see through the notation?</p>



<a name="253446345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446345">(Sep 15 2021 at 16:38)</a>:</h4>
<p>You can have both, so that the type synonym <code>with_k</code> gets only used when needed for smul lemmas.</p>



<a name="253446358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446358">(Sep 15 2021 at 16:38)</a>:</h4>
<p>Well they won't apply to the action as a whole</p>



<a name="253446398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446398">(Sep 15 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446183">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="389019">Chris Birkbeck</span> this is for modular forms, isn't it?</p>
</blockquote>
<p>Yeah its for the  <code>∣ₖ</code> action on modular forms</p>



<a name="253446567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446567">(Sep 15 2021 at 16:39)</a>:</h4>
<p>What about defining <code>has_ssmul.ssmul := (ssmul : α → β → γ → δ)</code>? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="253446776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446776">(Sep 15 2021 at 16:40)</a>:</h4>
<p>I think we'll need a bunch of API lemmas anyway. The question is whether the <code>def with_k</code> will be a net help.</p>



<a name="253446852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446852">(Sep 15 2021 at 16:41)</a>:</h4>
<p>If it's not a net help, I'd recommend going with a mul_equiv instead.</p>



<a name="253446860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446860">(Sep 15 2021 at 16:41)</a>:</h4>
<p>Probably defining a new notation, and proving a bunch of lemmas for it is easier.</p>



<a name="253446881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446881">(Sep 15 2021 at 16:41)</a>:</h4>
<p>Something like <a href="https://leanprover-community.github.io/mathlib_docs/find/mul_action.to_perm_hom">docs#mul_action.to_perm_hom</a></p>



<a name="253446942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253446942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253446942">(Sep 15 2021 at 16:41)</a>:</h4>
<p>Yael's suggestion might also work</p>



<a name="253447090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447090">(Sep 15 2021 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446345">said</a>:</p>
<blockquote>
<p>You can have both, so that the type synonym <code>with_k</code> gets only used when needed for smul lemmas.</p>
</blockquote>
<p>This one, you mean?</p>



<a name="253447300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447300">(Sep 15 2021 at 16:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446567">said</a>:</p>
<blockquote>
<p>What about defining <code>has_ssmul.ssmul := (ssmul : α → β → γ → δ)</code>? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>No, I was thinking of this one... <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span></p>



<a name="253447320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447320">(Sep 15 2021 at 16:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446860">said</a>:</p>
<blockquote>
<p>Probably defining a new notation, and proving a bunch of lemmas for it is easier.</p>
</blockquote>
<p>This is what I was originally going to do. I just thought it would maybe be good to make it link the existing mul_action framework. But perhaps this is the best thing to do.</p>



<a name="253447594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447594">(Sep 15 2021 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253446567">said</a>:</p>
<blockquote>
<p>What about defining <code>has_ssmul.ssmul := (ssmul : α → β → γ → δ)</code>? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>where does it end though?  how long until we have <code>has_sssssssssssmul</code>?? <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="253447617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447617">(Sep 15 2021 at 16:45)</a>:</h4>
<p>The group in your application will not be commutative, right?</p>



<a name="253447633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447633">(Sep 15 2021 at 16:45)</a>:</h4>
<p>Oh</p>



<a name="253447699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447699">(Sep 15 2021 at 16:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253447617">said</a>:</p>
<blockquote>
<p>The group in your application will not be commutative, right?</p>
</blockquote>
<p>Yeah its some matrix group.</p>



<a name="253447750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447750">(Sep 15 2021 at 16:46)</a>:</h4>
<p>I'll stop joking because one day you'll actually implement my stupid ideas <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="253447828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253447828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253447828">(Sep 15 2021 at 16:46)</a>:</h4>
<p>That's not a good reason not to joke (-;</p>



<a name="253448939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/notation%20for%20a%20family%20of%20mul_actions/near/253448939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions.html#253448939">(Sep 15 2021 at 16:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/notation.20for.20a.20family.20of.20mul_actions/near/253436929">said</a>:</p>
<blockquote>
<p>One option would be to use a type alias:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">abbreviation</span> <span class="n">with_k</span> <span class="o">(</span><span class="n">k</span><span class="o">)</span> <span class="o">(</span><span class="n">G</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:=</span> <span class="n">G</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">mul_action</span> <span class="o">(</span><span class="n">with_k</span> <span class="n">k</span> <span class="n">G</span><span class="o">)</span> <span class="n">S</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div><br>
</p>
</blockquote>
<p>In this case (modular forms) it might be mathematically natural to do it the other way, i.e., make separate copies of <code>S</code> for each <code>k</code> (= sections of some <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ω</mi><mrow><mo>⊗</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\omega^{\otimes k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊗</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span>).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>