---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html">Dependent and non dependent finsupp</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206715070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206715070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206715070">(Aug 12 2020 at 16:08)</a>:</h4>
<p>I need <code>dfinsupp</code> for graded rings, modules, etc, but <code>polynomial</code> is implemented with <code>finsupp</code>, so to construct the polynomial ring as an example for a graded ring, I need an isomorphism between those in the non dependent case. Is there one somewhere? I've looked for some time but couldn't find anything.</p>



<a name="206715327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206715327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206715327">(Aug 12 2020 at 16:11)</a>:</h4>
<p>I guess this would be trivial if <code>finsupp</code> was implemented using <code>dfinsupp</code>. Is there a reason why this isn't the case?</p>



<a name="206723403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206723403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206723403">(Aug 12 2020 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> you sometimes complain about <code>polynomial</code>. How should we fix it?</p>



<a name="206728097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728097">(Aug 12 2020 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282095">Andre Knispel</span> <a href="#narrow/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp/near/206715327">said</a>:</p>
<blockquote>
<p>I guess this would be trivial if <code>finsupp</code> was implemented using <code>dfinsupp</code>. Is there a reason why this isn't the case?</p>
</blockquote>
<p>When I wrote <code>dfinsupp</code> I cared about computability so I made sure that everything was computable, and <code>finsupp</code> wasn't computable.</p>



<a name="206728176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728176">(Aug 12 2020 at 17:56)</a>:</h4>
<p>So what's your opinion now that you no longer care about computability? <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="206728290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728290">(Aug 12 2020 at 17:57)</a>:</h4>
<p>well if <code>dfinsupp</code> were to be constructed using <code>finsupp</code> then we would need to map it to some sort of wedged disjoint union?</p>



<a name="206728305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728305">(Aug 12 2020 at 17:57)</a>:</h4>
<p>this doesn't sound very beautiful to me</p>



<a name="206728345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728345">(Aug 12 2020 at 17:57)</a>:</h4>
<p>Other way around</p>



<a name="206728369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728369">(Aug 12 2020 at 17:57)</a>:</h4>
<p>oh</p>



<a name="206728392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728392">(Aug 12 2020 at 17:58)</a>:</h4>
<p>then this would make <code>finsupp</code> computable? :P</p>



<a name="206728471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206728471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206728471">(Aug 12 2020 at 17:58)</a>:</h4>
<p>Oh dang, can't have that!</p>



<a name="206730803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206730803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206730803">(Aug 12 2020 at 18:16)</a>:</h4>
<p>that would make polynomials worse, right?</p>



<a name="206731740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206731740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206731740">(Aug 12 2020 at 18:23)</a>:</h4>
<p>the implementation shouldn't matter!</p>



<a name="206742445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206742445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206742445">(Aug 12 2020 at 19:54)</a>:</h4>
<p>hm, I guess I'll just redefine the polynomial ring using <code>dfinsupp</code> then for now. Should I open an issue for the larger issue of making these compatible?</p>



<a name="206744622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206744622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206744622">(Aug 12 2020 at 20:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282095">Andre Knispel</span> <a href="#narrow/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp/near/206742445">said</a>:</p>
<blockquote>
<p>redefine the polynomial ring using <code>dfinsupp</code></p>
</blockquote>
<p>Could you explain what you mean by this?</p>



<a name="206744885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206744885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206744885">(Aug 12 2020 at 20:12)</a>:</h4>
<p><code>def polynomial (α : Type*) [comm_semiring α] := Π₀ _ : ℕ, α</code></p>



<a name="206746109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206746109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206746109">(Aug 12 2020 at 20:20)</a>:</h4>
<p>Why would this be necessary to make polynomials an example of a graded ring?</p>



<a name="206746292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206746292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206746292">(Aug 12 2020 at 20:22)</a>:</h4>
<p>it's not necessary, but I need it to be at least isomorphic to this type</p>



<a name="206746601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206746601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206746601">(Aug 12 2020 at 20:24)</a>:</h4>
<p>I've tried to construct this isomorphism and got stuck on some details that I don't really want to mess with, so this seems easier</p>



<a name="206746681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206746681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206746681">(Aug 12 2020 at 20:24)</a>:</h4>
<p>Redefining a structure to make it an example of something doesn't seem sustainable--what happens when the next person wants to make it an example of something else?</p>



<a name="206746978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206746978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206746978">(Aug 12 2020 at 20:27)</a>:</h4>
<p>well, what I really want is for <code>finsupp</code> and <code>dfinsupp</code> to be compatible, but that's too much work for me right now. I just want to take the path of least resistance to construct the projective space as a scheme</p>



<a name="206749033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206749033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206749033">(Aug 12 2020 at 20:44)</a>:</h4>
<p>I really don't think the path of least resistance can be to redefine <code>polynomial</code>. The API already characterizes it up to isomorphism, so if you manage to avoid breaking all the users then this is tantamount to constructing the isomorphism you are interested in anyways.</p>



<a name="206749904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206749904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206749904">(Aug 12 2020 at 20:52)</a>:</h4>
<p>true, but I don't intend to actually redefine polynomial, just to have an equivalent definition for that single use case.</p>



<a name="206755576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206755576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206755576">(Aug 12 2020 at 21:35)</a>:</h4>
<p><span class="user-mention" data-user-id="282095">@Andre Knispel</span> I am going to challenge your assertion that you "need" dfinsupp for graded rings, modules etc. What do you mean by this? I can't imagine why I would need any particular implementation to make the specification for graded rings and modules.</p>



<a name="206755888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206755888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206755888">(Aug 12 2020 at 21:38)</a>:</h4>
<p>Well, I need to form a direct sum over a family indexed by a monoid. So I don't necessarily need exactly <code>dfinsupp</code>, but at least something equivalent</p>



<a name="206756065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756065">(Aug 12 2020 at 21:40)</a>:</h4>
<p>Aah I see -- you don't have a 0 so you can't use <code>finsupp</code>?</p>



<a name="206756136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756136">(Aug 12 2020 at 21:41)</a>:</h4>
<p>No, the modules I'm summing need to depend on the index</p>



<a name="206756304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756304">(Aug 12 2020 at 21:43)</a>:</h4>
<p>Oh I see -- I am finally on your wavelength.</p>



<a name="206756520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756520">(Aug 12 2020 at 21:44)</a>:</h4>
<p>oh but if you do it this way then you're going to end up in dependent type theory hell aren't you? Did you see the CDGA thread? Maybe you should do some trick with sigma types?</p>



<a name="206756641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756641">(Aug 12 2020 at 21:46)</a>:</h4>
<p>No, do you have a link to that thread?</p>



<a name="206756667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756667">(Aug 12 2020 at 21:46)</a>:</h4>
<p>PS you know schemes aren't yet in mathlib, right? Somehow people decided to do sheafification using category theory and this has slowed the process up</p>



<a name="206756713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756713">(Aug 12 2020 at 21:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="282095">Andre Knispel</span> <a href="#narrow/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp/near/206756641">said</a>:</p>
<blockquote>
<p>No, do you have a link to that thread?</p>
</blockquote>
<p><a href="#narrow/stream/116395-maths/topic/CDGAs/near/167848869">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/CDGAs/near/167848869</a></p>



<a name="206756750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206756750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206756750">(Aug 12 2020 at 21:47)</a>:</h4>
<p>yes, I intend to build on lean-scheme and maybe make a PR when I'm done</p>



<a name="206757260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206757260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206757260">(Aug 12 2020 at 21:52)</a>:</h4>
<p>Thanks! One advantage I see in this simpler case is that there is an actual ring structure to build on top of, so most of the axioms are free</p>



<a name="206757495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206757495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206757495">(Aug 12 2020 at 21:55)</a>:</h4>
<p>I already have definitions for graded rings and homogeneous modules over them that seem to work fine, though I haven't proved anything yet with them</p>



<a name="206757597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206757597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206757597">(Aug 12 2020 at 21:56)</a>:</h4>
<p>maybe I should just construct the functor mapping regular rings to graded rings concentrated in degree 0 for an easier example...</p>



<a name="206757678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206757678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206757678">(Aug 12 2020 at 21:57)</a>:</h4>
<p>I think this is a really interesting and worthwhile project. I think that <span class="user-mention" data-user-id="110064">@Kenny Lau</span> tried to construct <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="double-struck">P</mi><mi>R</mi><mn>1</mn></msubsup></mrow><annotation encoding="application/x-tex">\mathbb{P}^1_R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.089439em;vertical-align:-0.275331em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.424669em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span></span></span></span> before but by explicitly glueing two copies of affine 1-space.</p>



<a name="206758539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206758539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206758539">(Aug 12 2020 at 22:06)</a>:</h4>
<p>I looked a little bit at that, but I don't think there is much I can take from there to make it easier for me</p>



<a name="206786615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786615">(Aug 13 2020 at 07:14)</a>:</h4>
<p>theoretically you can show that finsupp and dfinsupp are isomorphic by using their universal properties</p>



<a name="206786736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786736">(Aug 13 2020 at 07:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> how would you set up graded rings and modules?</p>



<a name="206786769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786769">(Aug 13 2020 at 07:17)</a>:</h4>
<p>definitely not by requiring that every graded ring / module be a dfinsupp</p>



<a name="206786774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786774">(Aug 13 2020 at 07:17)</a>:</h4>
<p>but merely isomorphic to one</p>



<a name="206786797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786797">(Aug 13 2020 at 07:17)</a>:</h4>
<p>Oh yes this is a crucial point.</p>



<a name="206786892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786892">(Aug 13 2020 at 07:19)</a>:</h4>
<p>Because someone will come along with some completely different construction and then in the literature it will say "hence we see R is a graded ring" and it's crucial that it can become an instance of graded_ring</p>



<a name="206786977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786977">(Aug 13 2020 at 07:20)</a>:</h4>
<p>exactly</p>



<a name="206786985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206786985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206786985">(Aug 13 2020 at 07:21)</a>:</h4>
<p>implementation (of the ring) should not matter at all</p>



<a name="206787103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206787103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206787103">(Aug 13 2020 at 07:22)</a>:</h4>
<p>So it should be a predicate on a pair consisting of a ring and a map from nat to the subsets of the ring?</p>



<a name="206787131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206787131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206787131">(Aug 13 2020 at 07:23)</a>:</h4>
<p>or something mathematically equivalent, yes</p>



<a name="206787134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206787134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206787134">(Aug 13 2020 at 07:23)</a>:</h4>
<p>Or instead of nat you can use any add_comm_monoid or something</p>



<a name="206787153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206787153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206787153">(Aug 13 2020 at 07:23)</a>:</h4>
<p>but never equality</p>



<a name="206795017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795017">(Aug 13 2020 at 09:20)</a>:</h4>
<p>Let me copy my current definition (of graded abelian group) here</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">add_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">M</span><span class="o">]</span>

<span class="n">class</span> <span class="n">graded_abelian_group</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">piece</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">group</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">M</span><span class="o">,</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">piece</span> <span class="n">m</span><span class="o">))</span>
<span class="o">(</span><span class="n">iso</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃</span><span class="bp">+</span> <span class="n">direct_sum</span> <span class="n">M</span> <span class="n">piece</span><span class="o">)</span>
</code></pre></div>


<p>I don't really see how I would form direct sums with subsets, but this seems to work just fine</p>



<a name="206795221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795221">(Aug 13 2020 at 09:22)</a>:</h4>
<p>Using the universal properties to show the isomorphism is a good point, I didn't think about that!</p>



<a name="206795239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795239">(Aug 13 2020 at 09:23)</a>:</h4>
<p>This definition definitely avoids the problems I was worried about</p>



<a name="206795357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795357">(Aug 13 2020 at 09:24)</a>:</h4>
<p>You will have the usual problems with equality but  c'est la vie</p>



<a name="206795404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795404">(Aug 13 2020 at 09:25)</a>:</h4>
<p>The requirement of decidable equality on <code>M</code> annoys me a little, but I guess that's the price to be paid for  computability in<code>dfinsupp</code></p>



<a name="206795419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795419">(Aug 13 2020 at 09:25)</a>:</h4>
<p>The advantage of the <code>M -&gt; set alpha</code> approach is that you get a better equality</p>



<a name="206795473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795473">(Aug 13 2020 at 09:26)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
</code></pre></div>



<a name="206795482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795482">(Aug 13 2020 at 09:26)</a>:</h4>
<p>If you're doing schemes then you'll have to do this.</p>



<a name="206795839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206795839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206795839">(Aug 13 2020 at 09:31)</a>:</h4>
<p>How much experience do people have with set theoretic vs type theoretic constructions in these contexts? In an ideal world, we could have both, what I did and using subsets instead interchangeably and choose whatever is better right now</p>



<a name="206796147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796147">(Aug 13 2020 at 09:36)</a>:</h4>
<p>I imagine I could make another class that uses subsets instead, show that those types are isomorphic, and then redefine <code>graded_abelian_group</code> such that it works with both of those definitions. But I don't know how well this would work in practice</p>



<a name="206796249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796249">(Aug 13 2020 at 09:37)</a>:</h4>
<p>When you make classes you're basically making categories, so if you make two classes you're making two categories, and then the dictionary is an equivalence (not an isomorphism) between them.</p>



<a name="206796342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796342">(Aug 13 2020 at 09:38)</a>:</h4>
<p>Now I'm thinking that that might not be necessary, I can also just define the subsets from here, and then work with them whenever it's convenient</p>



<a name="206796346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796346">(Aug 13 2020 at 09:38)</a>:</h4>
<p>Lean has functional and set extensionality, so if you start with M -&gt; set alpha and then move to the type thing and then back to M, you'll get something which is provably (but not definitionally) equal; the other way you'll get something which is not provably equal.</p>



<a name="206796375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796375">(Aug 13 2020 at 09:39)</a>:</h4>
<p>But equality is the wrong concept in category theory. This is a shame, because it's an extremely convenient concept to work with, e.g. <code>rw</code> works great.</p>



<a name="206796552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796552">(Aug 13 2020 at 09:42)</a>:</h4>
<p>The crucial insight we had with localisation (which also had this sort of issue -- the localisation of R at f is one concretely defined ring R[1/f], but unfortunately R[1/f][1/g] is not literally equal to R[1/fg] so one has to work with isomorphisms instead. We still can't transfer ring-theoretic properties along isomorphisms so the trick is to prove things for any ring satisfying the universal property directly.</p>



<a name="206796612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796612">(Aug 13 2020 at 09:43)</a>:</h4>
<p>That sounds familiar, I expect that's the same issue as for any explicit constructions with limits</p>



<a name="206796757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796757">(Aug 13 2020 at 09:45)</a>:</h4>
<p>I think the set definition is kind of better because it doesn't have this extra Type-valued data <code>piece</code>, and it has better equality properties. I think I'd be tempted to try</p>
<div class="codehilite"><pre><span></span><code><span class="n">class</span> <span class="n">graded_abelian_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">add_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">grading</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span> <span class="n">add_subgroup</span> <span class="n">α</span><span class="o">)</span>
<span class="bp">...</span><span class="o">(</span><span class="n">axioms</span><span class="o">)</span>
</code></pre></div>



<a name="206796828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796828">(Aug 13 2020 at 09:46)</a>:</h4>
<p>But I'm not very good at definitions; <span class="user-mention" data-user-id="110032">@Reid Barton</span> will have an opinion which is worth a lot more weight.</p>



<a name="206796893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206796893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206796893">(Aug 13 2020 at 09:47)</a>:</h4>
<p>I wonder if it makes a difference though, I'm pretty sure I can define <code>grading</code></p>



<a name="206798973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206798973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206798973">(Aug 13 2020 at 10:17)</a>:</h4>
<p>Do we have the notion of an internal direct sum already?</p>



<a name="206806764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206806764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206806764">(Aug 13 2020 at 12:08)</a>:</h4>
<p>The difference is simply that the add_subgroup definition has a better-behaved equality. In a category the concept of equality is kind of barely relevant. If you have two unequal but isomorphic objects X and Y in a category and you decide to make them equal then you end up with a quotient category, equivalent to your original category; if the category didn't change up to equivalence then you didn't really change anything. You're suggesting a definition and I'm suggesting a definition where a whole bunch of isomorphic objects become equal. The definitions are equivalent, but equality is easier to work with in Lean than isomorphism, so the more of it you have, the better.</p>
<p>If the answer to Reid's question is "yes" then you should use this.</p>



<a name="206809763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206809763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andre Knispel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206809763">(Aug 13 2020 at 12:42)</a>:</h4>
<p>Ah, I got confused, I thought you were talking about equality in the ring, not of graded rings</p>



<a name="206812107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Dependent%20and%20non%20dependent%20finsupp/near/206812107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Dependent.20and.20non.20dependent.20finsupp.html#206812107">(Aug 13 2020 at 13:07)</a>:</h4>
<p>we are talking about type equality, <span class="user-mention" data-user-id="282095">@Andre Knispel</span> , which we do not talk about</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>