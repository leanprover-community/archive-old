---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html">mathlib versioning and changelog</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="288918851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288918851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288918851">(Jul 08 2022 at 09:44)</a>:</h4>
<p>Is there a changelog or mathlib? I keep finding breaking changes have been made since a tutorial I've been following from 2020 was posted (seems like lots of things get renamed in mathlib so code breaks), but the major version of mathlib doesn't change. Is there a list of breaking changes somewhere? It seems like mathlib doesn't follow semantic versioning?</p>



<a name="288919222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288919222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288919222">(Jul 08 2022 at 09:49)</a>:</h4>
<p>It's <a class="stream" data-stream-id="116290" href="/#narrow/stream/116290-rss">#rss</a> :-)</p>



<a name="288919372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288919372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288919372">(Jul 08 2022 at 09:50)</a>:</h4>
<p>I absolutely agree that mathlib subscribes to the "move fast and break things" approach. If whatever you are following is a properly-formatted Lean project then changes in mathlib shouldn't matter though, because the project should be tied to a version of mathlib which will be compatible with it.</p>



<a name="288919918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288919918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288919918">(Jul 08 2022 at 09:56)</a>:</h4>
<p>I'm just trying to follow along with a video tutorial (actually created by you! Thank you so much for these!), so no way to check the version of mathlib. I'd also like to be on the recent version in general though. Move fast and break things is OK as long as it's all documented what's going on I think. So there's no way to tell what breaking changes have happened in each version release, aside from scrolling through Zulip and hoping it's mentioned somewhere in the past? There are automated systems to enforce this, like <a href="https://github.com/semantic-release/semantic-release">https://github.com/semantic-release/semantic-release</a> will keep updating a CHANGELOG file in the repo with all the changes at every release, and note if they're breaking changes, etc.</p>



<a name="288920050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920050">(Jul 08 2022 at 09:58)</a>:</h4>
<p>If I could just search a "CHANGELOG" file for the term "findim" for example and discover that it's been renamed to "finrank" that would be amazing</p>



<a name="288920308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920308">(Jul 08 2022 at 10:00)</a>:</h4>
<p>Would searching the git log be good enough for you? In principle, such renames should be mentioned in the commit messages. Although sometimes something might slip through.</p>



<a name="288920321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920321">(Jul 08 2022 at 10:00)</a>:</h4>
<p>An automated alternative would be to use bisection to upgrade mathlib "as far as possible" ("does it build at commit X" is not necessarily a monotone function, but probably close enough), then show the commit message for the breaking commit, ask the user to fix the breakage manually, and repeat until you reached master.</p>



<a name="288920507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920507">(Jul 08 2022 at 10:03)</a>:</h4>
<p>I'd rather not need to clone the git repo and search commit messages. A simple CHANGELOG file is indexable by Google too, so in this case if I searched for "Lean findim" it would have come up with the changelog entry, saying something like "vx.y.z findim was renamed to finrank".</p>



<a name="288920511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920511">(Jul 08 2022 at 10:03)</a>:</h4>
<p>Re <span class="user-mention" data-user-id="325367">@Mauricio Collares</span>: That sounds like it could be extremely time consuming, given how long it takes to build mathlib</p>



<a name="288920615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920615">(Jul 08 2022 at 10:04)</a>:</h4>
<p>... except that all you need is to get the cache.</p>



<a name="288920655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920655">(Jul 08 2022 at 10:04)</a>:</h4>
<p>Fair enough.</p>



<a name="288920685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920685">(Jul 08 2022 at 10:05)</a>:</h4>
<p>I would still prefer to merge multiple bumps in one go.</p>



<a name="288920698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920698">(Jul 08 2022 at 10:05)</a>:</h4>
<p>Are the mathlib releases automated in github actions or another CI? If so it's pretty easy to add an automated step to append the new version to a CHANGELOG file in the git repo with the version number and add all the commit messages for the version into it too</p>



<a name="288920729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920729">(Jul 08 2022 at 10:05)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> mathlib is very much rolling release (similar to Archlinux, eg). Almost every commit breaks something.</p>



<a name="288920747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920747">(Jul 08 2022 at 10:05)</a>:</h4>
<p>So the CHANGELOG would almost be a concatenation of all the commit messages.</p>



<a name="288920797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920797">(Jul 08 2022 at 10:06)</a>:</h4>
<p><code>git log -Slemma_that_used_to_exist</code> does require you to clone the repo but will be far more useful than a human written change log, it searches the actual changes themselves. There are way too many changes to small things all the time in mathlib than a changelog would cover.</p>



<a name="288920822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920822">(Jul 08 2022 at 10:06)</a>:</h4>
<p>Is there a versioning philosophy at least? It seems like it's not semantic versioning?</p>



<a name="288920840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920840">(Jul 08 2022 at 10:06)</a>:</h4>
<p>No, there's no versioning at all. It is rolling release.</p>



<a name="288920898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920898">(Jul 08 2022 at 10:07)</a>:</h4>
<p>Many of us view mathlib as a huge experiment. Not necessarily a product to build upon. But that might change in the future.</p>



<a name="288920900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920900">(Jul 08 2022 at 10:07)</a>:</h4>
<p>There is versioning, for instance my project shows I'm on Mathlib 3.44.1.</p>



<a name="288920928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920928">(Jul 08 2022 at 10:07)</a>:</h4>
<p>Aah, ok. But that just mirrors the lean release.</p>



<a name="288920937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288920937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288920937">(Jul 08 2022 at 10:08)</a>:</h4>
<p>oh wait nm that's just lean, you're right</p>



<a name="288921002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921002">(Jul 08 2022 at 10:08)</a>:</h4>
<p>Lean does sorta follow semver.</p>



<a name="288921161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921161">(Jul 08 2022 at 10:10)</a>:</h4>
<p>there's no versioning at all? This can all be automated really easily, there's plugins like <a href="https://github.com/conventional-changelog/standard-version">standard-version</a> and <a href="https://github.com/semantic-release/semantic-release">semantic-release</a> will manage the semantic versioning, keep a changelog, and push a new git tag for each new merge to master, all based on the commit message</p>



<a name="288921268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921268">(Jul 08 2022 at 10:11)</a>:</h4>
<p>semantic versioning in a Lean context is <em>very</em> hard. You have to understand, that unlike in other programming languages where the API and the behaviour matters in Lean the implementation of every function matters as well because they can be unfolded in proofs in other people's libraries and are thus part of the semantic of your library as well (if you change the implementation someone elses proof might not work). So technically speaking every change to a function or thing that can be unfolded from a consumer of your library is a breaking change.</p>



<a name="288921442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921442">(Jul 08 2022 at 10:13)</a>:</h4>
<p>Even if it's not semantic versioning, a version number would still be nice I think. Then I could say I'm on mathlib v321, and on v319 something was renamed etc</p>



<a name="288921661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921661">(Jul 08 2022 at 10:16)</a>:</h4>
<p>Perhaps what we should actually do is make a tool that takes in two mathlib revisions, and outputs a diff of the changed API surface</p>



<a name="288921758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921758">(Jul 08 2022 at 10:17)</a>:</h4>
<p>Which would look something like:</p>
<ul>
<li>Fetch a cache for revision A, export a list of all symbols</li>
<li>Fetch a cache for revision B, export a list of all symbols</li>
<li>Compute a diff of just the lemma names (matching type information is very hard as <code>A</code> and <code>B</code> might define the types themselves in different ways</li>
</ul>



<a name="288921835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921835">(Jul 08 2022 at 10:18)</a>:</h4>
<p>That wouldn't tell you which lemmas were renamed, but would tell you "<code>foo_of_bar</code> was added and <code>foo</code> was removed"</p>



<a name="288921887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921887">(Jul 08 2022 at 10:19)</a>:</h4>
<p>Elm does have a feature like this: <a href="https://elm-lang.org/">https://elm-lang.org/</a> (3rd from the bottom)</p>



<a name="288921898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288921898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288921898">(Jul 08 2022 at 10:19)</a>:</h4>
<p>That would be helpful, but could it be automated and written to a CHANGELOG after each push to master?</p>



<a name="288922067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922067">(Jul 08 2022 at 10:21)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I guess the docs already contain a list of all names. Can that be reused for your idea?</p>



<a name="288922070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922070">(Jul 08 2022 at 10:21)</a>:</h4>
<p>I can open a PR on mathlib adding standard version as a Github action that will just do the git version tagging and update a integer as the version if it's easier to discuss there / if people are OK with that idea?</p>



<a name="288922101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922101">(Jul 08 2022 at 10:21)</a>:</h4>
<p>Is there any argument for not having a version number and a changelog if it's all automatic?</p>



<a name="288922178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922178">(Jul 08 2022 at 10:22)</a>:</h4>
<p>What's the point in havinga a version number vs using the git hash, if every commit is a new version?</p>



<a name="288922190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922190">(Jul 08 2022 at 10:22)</a>:</h4>
<p>We did have a discussion like this in the Lean 4 chat before. The argument there was basically that due to the reasons outlined above the version number does carry no meaning.</p>



<a name="288922216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922216">(Jul 08 2022 at 10:23)</a>:</h4>
<p>It's slightly easier to compare two integers vs two git hashes.</p>



<a name="288922224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922224">(Jul 08 2022 at 10:23)</a>:</h4>
<p>Would this mean that every time a new PR is merged into master, this file gets updated?  This seems very close to the gitlog of master.</p>



<a name="288922230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922230">(Jul 08 2022 at 10:23)</a>:</h4>
<p>You can use <code>git describe</code> to convert a git hash into something reasonable I think</p>



<a name="288922235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922235">(Jul 08 2022 at 10:23)</a>:</h4>
<p>Although that probably fails spectacularly since all of our feature branches are in the main repo and not a fork</p>



<a name="288922303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922303">(Jul 08 2022 at 10:24)</a>:</h4>
<p>(My comment is not meant as a critique, just to try to understand what is being discussed!)</p>



<a name="288922304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922304">(Jul 08 2022 at 10:24)</a>:</h4>
<p>the difference is that casual users don't want to have to do a git clone, copy git hashes, and run CLI tools to tell what's changing / what version they're on</p>



<a name="288922323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922323">(Jul 08 2022 at 10:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288922067">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> I guess the docs already contain a list of all names. Can that be reused for your idea?</p>
</blockquote>
<p>Yes, but the history of past documentation sites is discarded</p>



<a name="288922344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922344">(Jul 08 2022 at 10:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288922304">said</a>:</p>
<blockquote>
<p>the difference is that casual users don't want to have to do a git clone, copy git hashes, and run CLI tools to tell what's changing / what version they're on</p>
</blockquote>
<p>But if they;re "on"  a version then they have already git cloned it?</p>



<a name="288922390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922390">(Jul 08 2022 at 10:25)</a>:</h4>
<p>They probably don't know that though. For example I just did "leanproject new" and it did stuff, I didn't know it was cloning a git repo</p>



<a name="288922546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922546">(Jul 08 2022 at 10:27)</a>:</h4>
<p>It would also just be nice to see that something isn't working, and you could ask "what mathlib version are you on?" Then you'd be able to say "oh, you're on v127, but the most recent is v219" compared to "I'm on git hash 1as2d3e3324423d"</p>



<a name="288922628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922628">(Jul 08 2022 at 10:28)</a>:</h4>
<p>So maybe the log could simply translate the git hashes into consecutive numbers.  Is this what you are proposing?</p>



<a name="288922663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922663">(Jul 08 2022 at 10:28)</a>:</h4>
<p>Would a <code>leanproject show-upgrades</code> command that printed "your mathlib is &lt;n&gt; commits behind master" help?</p>



<a name="288922667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922667">(Jul 08 2022 at 10:28)</a>:</h4>
<p>(I have gotten used to the git hashes, by now, but I agree that as a beginner, I would have rather seen a number.)</p>



<a name="288922683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922683">(Jul 08 2022 at 10:29)</a>:</h4>
<p>Theoretically this sounds nice but in practice this is not what is happening. The answer to a question in practice is never "you are on version x and need to be on version y", the answer is always "update mathlib to current master".</p>



<a name="288922704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922704">(Jul 08 2022 at 10:29)</a>:</h4>
<p>yes, and be a single file which could be indexed by google, and also submit a git tag with the version number as well which would show up in "releases" on github</p>



<a name="288922714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922714">(Jul 08 2022 at 10:29)</a>:</h4>
<p>Of course, since the updates happen every ~2 hours, the numbers will get very big quickly, I think!</p>



<a name="288922905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922905">(Jul 08 2022 at 10:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288922683">said</a>:</p>
<blockquote>
<p>Theoretically this sounds nice but in practice this is not what is happening. The answer to a question in practice is never "you are on version x and need to be on version y", the answer is always "update mathlib to current master".</p>
</blockquote>
<p>But in this case all old proofs will be broken with no way to know what</p>



<a name="288922919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922919">(Jul 08 2022 at 10:31)</a>:</h4>
<p>Currently, there are 63132 "versions" of mathlib.</p>



<a name="288922926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922926">(Jul 08 2022 at 10:31)</a>:</h4>
<p>That's how we roll</p>



<a name="288922938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922938">(Jul 08 2022 at 10:31)</a>:</h4>
<p>I don't think tagged releases make sense at all if they're triggered on every commit. We could do them monthly in sync with the "this month in mathlib" posts, but as Kevin says this isn't useful information</p>



<a name="288922941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288922941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288922941">(Jul 08 2022 at 10:31)</a>:</h4>
<p>If something is broken, just ask here.</p>



<a name="288923034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923034">(Jul 08 2022 at 10:32)</a>:</h4>
<p>I think this is an <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> problem; your X problem is "how do I work out why a mathlib update broke me", to which you've constructed the Y problem "can mathlib have better version information"</p>



<a name="288923043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923043">(Jul 08 2022 at 10:33)</a>:</h4>
<p>In the grand scheme of things, this is an experimental project with a small number of users and a friendly community who are happy to help out people with broken proofs.</p>



<a name="288923088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923088">(Jul 08 2022 at 10:33)</a>:</h4>
<p>I think the actual solution to X is "we need to make tooling (or at least documentation on existing tools) to help with this kind of thing, because the development methodology of mathlib makes conventional versioning useless"</p>



<a name="288923324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923324">(Jul 08 2022 at 10:36)</a>:</h4>
<p>Also, maybe it should be made more explicit that tutorials/videos/documentation often are tied to a very specific state (rather than version :) of mathlib and that the current one may not work the same way.</p>



<a name="288923328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923328">(Jul 08 2022 at 10:36)</a>:</h4>
<p>It's true you all are amazing and super helpful! I just feel like this will hold the project back. As a new user myself I find it really discouraging when I can't follow Lean tutorials without getting errors, then I can't google those errors and find a simple solution like "findim was renamed to finrank in version X", and need to know to come ask in Zulip</p>



<a name="288923500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923500">(Jul 08 2022 at 10:38)</a>:</h4>
<p>I understand your point, but besides name changes, there will be changes in which arguments are implicity/explicit, proofs that now require fewer assumptions, changes in namespaces, lemmas that became redundant due to better use of typeclasses...</p>
<p>While what you are suggesting seems to work in a special case, I am skeptical that it would really be useful in the long run.</p>



<a name="288923540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923540">(Jul 08 2022 at 10:39)</a>:</h4>
<p>In the long run, you will not be working on tutorials and will ask a question here about what can currently be done in mathlib, and you will not even think of checking out an old version.  At least, I never checked out an older version of mathlib...</p>



<a name="288923645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923645">(Jul 08 2022 at 10:40)</a>:</h4>
<p>Btw, fixing (slightly) broken proofs is also very good practice for coming up with completely novel proofs: they start as <em>completely</em> broken and your task is to fix them!</p>



<a name="288923677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923677">(Jul 08 2022 at 10:40)</a>:</h4>
<p>This is true, but only if new users aren't immediately discouraged when they try to start learning Lean by issues like this.</p>



<a name="288923711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923711">(Jul 08 2022 at 10:41)</a>:</h4>
<p>This is where the welcoming community comes in!  <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="288923778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923778">(Jul 08 2022 at 10:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288923328">said</a>:</p>
<blockquote>
<p>It's true you all are amazing and super helpful! I just feel like this will hold the project back. As a new user myself I find it really discouraging when I can't follow Lean tutorials without getting errors, then I can't google those errors and find a simple solution like "findim was renamed to finrank in version X", and need to know to come ask in Zulip</p>
</blockquote>
<p>This sounds like a problem with those tutorials. The right way to write a lean tutorial is to start with "open this project that I created for you that refers to a specific version of mathlib that matches the one the tutorial will be using". <a href="https://github.com/leanprover-community/tutorials">https://github.com/leanprover-community/tutorials</a> does things this way.</p>



<a name="288923846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923846">(Jul 08 2022 at 10:42)</a>:</h4>
<p>Maybe I can make a cron job that updates a Gist every time there's a new commit to mathlib master with this information. I really like <span class="user-mention" data-user-id="310045">@Eric Wieser</span>'s idea of saying which lemmas were added, which were deleted as well to at least get a text log of this stuff</p>



<a name="288923909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288923909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288923909">(Jul 08 2022 at 10:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288923846">said</a>:</p>
<blockquote>
<p>Maybe I can make a cron job that updates a Gist every time there's a new commit to mathlib master with this information. I really like <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>'s idea of saying which lemmas were added, which were deleted as well to at least get a text log of this stuff</p>
</blockquote>
<p>I think this would be a great idea, but I suspect it's  more total man hours than just working out things manually every time things move. If building it interests you, go for it!</p>



<a name="288924007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924007">(Jul 08 2022 at 10:44)</a>:</h4>
<p>It wouldn't just be for me though, that would allow Google to index this info and the next use who searches "Lean findim" in Google will find the Gist, and see a commit where "findim" was remoned and "finrank" was added</p>



<a name="288924030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924030">(Jul 08 2022 at 10:44)</a>:</h4>
<p>I'll give it a try and see if I can get something simple working</p>



<a name="288924140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924140">(Jul 08 2022 at 10:46)</a>:</h4>
<p>Unfortunately, the type of lean code you need to write to do that kind of thing is rather short on tutorial content</p>



<a name="288924170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924170">(Jul 08 2022 at 10:46)</a>:</h4>
<p>Here's a script I wrote recently that  makes a list of all function names and writes their file and line numbers to a <code>.tex</code> file, in case that helps you: <a href="https://github.com/eric-wieser/lean-graded-rings/blob/master/export.lean">https://github.com/eric-wieser/lean-graded-rings/blob/master/export.lean</a></p>



<a name="288924174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924174">(Jul 08 2022 at 10:46)</a>:</h4>
<p>I was thinking of just using regexes <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="288924181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924181">(Jul 08 2022 at 10:46)</a>:</h4>
<p>aah awesome, thanks so much!</p>



<a name="288924245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924245">(Jul 08 2022 at 10:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288924174">said</a>:</p>
<blockquote>
<p>I was thinking of just using regexes <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>That doesn't work, these two code snippets have the same API:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simps]</span>
<span class="kd">def</span> <span class="n">foo</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
</code></pre></div>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foo</span> <span class="o">:=</span> <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">foo_fst</span> <span class="o">:</span> <span class="n">foo.fst</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">foo_snd</span> <span class="o">:</span> <span class="n">foo.snd</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="288924261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924261">(Jul 08 2022 at 10:47)</a>:</h4>
<p>(behind the scenes <code>@[simps]</code> is generating code)</p>



<a name="288924356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924356">(Jul 08 2022 at 10:49)</a>:</h4>
<p>hrm yeah no idea what that code means <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="288924360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924360">(Jul 08 2022 at 10:49)</a>:</h4>
<p><code>to_additive</code> is another source of "invisible" lemmas.</p>



<a name="288924368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924368">(Jul 08 2022 at 10:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/leancrawler">https://github.com/leanprover-community/leancrawler</a> might be another option</p>



<a name="288924687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288924687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288924687">(Jul 08 2022 at 10:52)</a>:</h4>
<p>I'll check it out! Thank you all so much!</p>



<a name="288930542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288930542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288930542">(Jul 08 2022 at 12:02)</a>:</h4>
<p>David, you need to unlearn what you think you know about versioning. It simply doesn't apply here. You should also stop trying to follow video tutorials and use our written tutorials which suffer from none of these issues. There is simply no way we can have useful video tutorials, the project is moving too fast.</p>



<a name="288930748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288930748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288930748">(Jul 08 2022 at 12:04)</a>:</h4>
<p>The <a href="https://leanprover-community.github.io/learn.html">learning resources webpage</a> contains links towards the tutorial project, the "Theorem proving in Lean" and the book in progress "Mathematics in Lean". They are all pinned to a specific mathlib and regularly updated in a way that would be impossible to do with videos.</p>



<a name="288931058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288931058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288931058">(Jul 08 2022 at 12:07)</a>:</h4>
<p>Where did you find those videos? We should probably remove them if they are within reach, or at least make sure they come with huge disclaimers.</p>



<a name="288931213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288931213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288931213">(Jul 08 2022 at 12:09)</a>:</h4>
<p>If it's the video I'm thinking about (me proving that intersection of two 5-d subspaces of a 9-d space is nontrivial) then this wasn't really a tutorial, it was just a recording of a Twitch stream I made in around 2019. I can certainly add to the description of the video that the exact code no longer works as videoed (the same will be true of Scott's videos on the infinitude of primes, I should think).</p>



<a name="288931763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288931763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288931763">(Jul 08 2022 at 12:15)</a>:</h4>
<p>It's true of any videos that is older than a couple of months old I guess.</p>



<a name="288933961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288933961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288933961">(Jul 08 2022 at 12:37)</a>:</h4>
<p>Are the lftcm videos fine, or did we opt to bump the repo and make the examples match newer mathlib instead of old videos?</p>



<a name="288937482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288937482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288937482">(Jul 08 2022 at 13:07)</a>:</h4>
<p>I don't understand why a page that is indexed by Google is some gold standard. I don't read the news by looking at the search hit in Google, I go directly to the news site.</p>



<a name="288937512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288937512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288937512">(Jul 08 2022 at 13:07)</a>:</h4>
<p>On that site, I can look at the archive.</p>



<a name="288937640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288937640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288937640">(Jul 08 2022 at 13:08)</a>:</h4>
<p>For mathlib, that is the commit history. And even more powerful, is git blame. We have amazing autogen documentation that can take you directly to the source code. There, you can use the browser gui to git blame and see exactly when a particular lemma appeared or changed.</p>



<a name="288938724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288938724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288938724">(Jul 08 2022 at 13:18)</a>:</h4>
<blockquote>
<p>There, you can use the browser gui to git blame and see exactly when a particular lemma appeared or changed.</p>
</blockquote>
<p>Tooling to find when a lemma was <em>removed</em> is much less available online as far as I know</p>



<a name="288940753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288940753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288940753">(Jul 08 2022 at 13:35)</a>:</h4>
<p>pleas please please don't take down the xena videos on youtube! they're sooo helpful, it's invaluable to see someone going through how to solve things in lean in real-time</p>



<a name="288940880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288940880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288940880">(Jul 08 2022 at 13:36)</a>:</h4>
<p>My point with Google is just that as a beginner, if I'm following a tutorial and get an error, my first instinct is to start searching Google to see what's going on, if other people have this issue, etc</p>



<a name="288940941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288940941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288940941">(Jul 08 2022 at 13:37)</a>:</h4>
<p>this is what I do with any programming language. If I'm working on a python project and run into an error, I'll google it, I won't try to go to a python chatroom and ask as a first instinct</p>



<a name="288942895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288942895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288942895">(Jul 08 2022 at 13:52)</a>:</h4>
<p>I see where you're going with the google thought. But let's take a step back and think about what's being shown on google's page. If you search for some Python or Java error, you'll probably see links to stackoverflow questions or blog posts. Sometimes we're also presented with the official API page.</p>
<p>I guess if you'd want to see results on google or on any other search engine about Lean, we'd need to populate those spaces first. People aren't talking a lot about Lean out there yet (except for some highly specialized domains about mathematics and formalization).</p>



<a name="288957950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288957950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288957950">(Jul 08 2022 at 15:47)</a>:</h4>
<p>I set up a github action to create markdown and txt changelogs from mathlib on a cron here: <a href="https://github.com/chanind/mathlib-changelog">https://github.com/chanind/mathlib-changelog</a>. I'll see if I can get it to automatically pull-in info about what specific lemmas/theorems were added/removed in each commit, even if it's not perfect (eg just from running a regex over the diff)</p>



<a name="288959577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288959577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288959577">(Jul 08 2022 at 16:00)</a>:</h4>
<p>I've thought that having a changelog that records changes to names would be useful, since it can be frustrating (even with experience!) to figure out where something went.</p>
<p>I don't know if this would work, but here's a proposal:</p>
<ul>
<li>There's a CI lint step that checks to see that every name that used to exist is accounted for in a BRANCH_CHANGES file. This file has lines like <code>nat.foo -&gt; nat.bar</code> or <code>nat.foo -&gt; !</code> if it was deleted (and if you want to be helpful, you can write a short message after the <code>!</code> to say what you're supposed to do now).</li>
<li>When Bors assembles a batch, it takes the BRANCH_CHANGES for each PR, concatenates them, then inserts them at the beginning of the CHANGELOG file (mathlib master always has an empty BRANCH_CHANGES file). This block of changes is given some sort of version heading -- let's say the Bors batch number.</li>
</ul>



<a name="288959822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288959822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288959822">(Jul 08 2022 at 16:02)</a>:</h4>
<p>This is just meant to solve "where'd X go?" It doesn't seem necessary to include new names.</p>



<a name="288960083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288960083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288960083">(Jul 08 2022 at 16:04)</a>:</h4>
<p>Or, rather than per-Bors batch, it would make more sense to have it alter the CHANGELOG per commit. I don't really know what we can do with Bors or what's possible. But there needs to be some way to keep different commits from conflicting for the CHANGELOG.</p>



<a name="288961614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961614">(Jul 08 2022 at 16:16)</a>:</h4>
<p>It's not clear to me that there's any benefit to making a human deal with this vs just generating everything after the fact</p>



<a name="288961657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961657">(Jul 08 2022 at 16:16)</a>:</h4>
<p>If CI is checking that BRANCH_CHANGES is accurate, it could just create an automatic comment telling reviewers what the change is</p>



<a name="288961711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961711">(Jul 08 2022 at 16:17)</a>:</h4>
<p>Oh, I guess the point is tracking renames, which can't be inferred</p>



<a name="288961829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961829">(Jul 08 2022 at 16:18)</a>:</h4>
<p>I guess renames can be inferred if the type doesn't change at all</p>



<a name="288961883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961883">(Jul 08 2022 at 16:18)</a>:</h4>
<p>Or even just via heuristics; "90% this new lemma replaces it based on similarity of the expression tree"</p>



<a name="288961907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288961907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288961907">(Jul 08 2022 at 16:19)</a>:</h4>
<p>There can be a tool to help generate this file for us automatically, but sometimes there are cases that can't be inferred, like when things get renamed and moved.</p>



<a name="288962065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288962065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288962065">(Jul 08 2022 at 16:20)</a>:</h4>
<p>The nice thing about heuristics is it works on all past PRs too</p>



<a name="288962278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288962278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288962278">(Jul 08 2022 at 16:22)</a>:</h4>
<p>The heuristics could include "parse a magic section from the commit message", that we encourage people to write for larger PRs</p>



<a name="288965499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288965499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288965499">(Jul 08 2022 at 16:49)</a>:</h4>
<p>Yeah I think the "where'd X go?" question has been the hardest for me so far, anything that could make that easier / faster to resolve would be great!</p>



<a name="288969688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288969688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288969688">(Jul 08 2022 at 17:25)</a>:</h4>
<p>Probably the first step in building such a tool would be deciding upon a smaller cache format that contains enough metadata for producing these diffs without containing the full oleans</p>



<a name="288969821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288969821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288969821">(Jul 08 2022 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/288961829">said</a>:</p>
<blockquote>
<p>I guess renames can be inferred if the type doesn't change at all</p>
</blockquote>
<p><code>def</code> would like a word!</p>



<a name="288971958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288971958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288971958">(Jul 08 2022 at 17:46)</a>:</h4>
<p>I just want to reiterate what I said earlier, <code>git log -Slemma_name</code> is a very convenient way to find where X went, it is almost always the case that the first commit listed there is the one that renamed X, and if the log entry doesn't say where normally it's easy to work out from the diff.</p>



<a name="288986447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/288986447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#288986447">(Jul 08 2022 at 20:00)</a>:</h4>
<p>I tried extracting which lemmas / theorems / defs changed in each commit and added it to the repo. A sample changelog is here: <a href="https://github.com/chanind/mathlib-changelog/blob/main/markdown/CHANGELOG.2022.07.md">https://github.com/chanind/mathlib-changelog/blob/main/markdown/CHANGELOG.2022.07.md</a>. This will definitely miss stuff (it's just looking for things like <code>+lemma xyz</code> in the diff, but I think it does catch a lot of stuff</p>



<a name="289188821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289188821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289188821">(Jul 11 2022 at 13:20)</a>:</h4>
<p>I turned the content into simple website for searching / viewing / indexing as well, which will auto-update with the repo as well. A bit rough still, but online at: <a href="https://mathlib-changelog.vercel.app/">https://mathlib-changelog.vercel.app/</a></p>



<a name="289193968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289193968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289193968">(Jul 11 2022 at 13:57)</a>:</h4>
<p>I can't speak for the reliability of the data yet, but the site looks excellent and very useful for solving this type of problem</p>



<a name="289194089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289194089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289194089">(Jul 11 2022 at 13:58)</a>:</h4>
<p>(<code>git log -S</code> is obviously great too, but it doesn't give me links that lead to the PR that discussed <em>why</em> something was changed)</p>



<a name="289194127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289194127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289194127">(Jul 11 2022 at 13:58)</a>:</h4>
<p>Honestly, I was a little skeptical, but for the little that I have seen, it looks really great!  Well done!</p>



<a name="289201336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289201336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289201336">(Jul 11 2022 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> doesn't bors put the pr link in the squashed commit message? What else are you hoping for?</p>



<a name="289232033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289232033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289232033">(Jul 11 2022 at 18:34)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> Nice! It's really fast as well.</p>



<a name="289238486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289238486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289238486">(Jul 11 2022 at 19:26)</a>:</h4>
<p>Looking at this a little more, I've spotted the first major data problem; it doesn't know about namespaces, so considers</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foo.bar</span> <span class="o">:=</span> <span class="mi">1</span>
</code></pre></div>
<p>different to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">foo</span>
<span class="kd">def</span> <span class="n">bar</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="kd">end</span> <span class="n">foo</span>
</code></pre></div>



<a name="289240272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289240272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289240272">(Jul 11 2022 at 19:40)</a>:</h4>
<p>aah interesting, yeah, it will miss that because it's just doing a regex match on <code>+def  (term)</code>. It might need to do a proper parse of the file being modified before/after to be able to pick up on the namespaces</p>



<a name="289240571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289240571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289240571">(Jul 11 2022 at 19:43)</a>:</h4>
<p>If namespaces are the main issue, it would probably be possible to pick that up still with regexes looking for the <code>namespace</code> keyword in the file being modified <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="289248075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289248075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289248075">(Jul 11 2022 at 20:48)</a>:</h4>
<p>It's probably a better investment of time to do it properly</p>



<a name="289248111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289248111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289248111">(Jul 11 2022 at 20:49)</a>:</h4>
<p>Especially since that will give it a real advantage over the <code>git log -S</code> method</p>



<a name="289259852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289259852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289259852">(Jul 11 2022 at 22:53)</a>:</h4>
<p>I'm just worried it might be too slow to be feasible to do it the proper way, since if I understand correctly it would require Lean parsing the full Mathlib environment for every commit to analyze the state of which lemmas/defs/theorems exist in which commit. Unless, is there a way to get something like an abstract syntax tree structure from a single Lean file without having to load everything?</p>



<a name="289285243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289285243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289285243">(Jul 12 2022 at 06:47)</a>:</h4>
<p>You're correct that that is what it would have to do; but remember we have cached builds of most commits</p>



<a name="289297602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289297602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289297602">(Jul 12 2022 at 09:22)</a>:</h4>
<p>This is great!</p>



<a name="289298103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289298103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289298103">(Jul 12 2022 at 09:28)</a>:</h4>
<p>Namespaces are one thing that are quite easy to read off without parsing the file properly... Finding all semantic changes is probably a couple orders of magnitude slower. Even when you can download the compiled oleans, you still have to run some Lean code importing all of mathlib. And the oleans aren't generated for all commits, so it might be harder to point to specific commits with certain changes.</p>



<a name="289298512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289298512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289298512">(Jul 12 2022 at 09:32)</a>:</h4>
<p>Another possible problem with downloading all the oleans is that that's probably a _lot_ of network traffic, both for you and for our azure servers hosting them</p>



<a name="289298559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289298559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289298559">(Jul 12 2022 at 09:33)</a>:</h4>
<p>Even if you just download it once and build a local database from the data</p>



<a name="289331742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289331742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289331742">(Jul 12 2022 at 14:26)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> We (<span class="user-mention" data-user-id="467358">@Daniel Packer</span> and I) just used this tool to track down the new location of  <code>lt_omega_of_linear_independent</code>, which was deleted on 5 June.  Thanks!</p>



<a name="289355404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289355404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289355404">(Jul 12 2022 at 17:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289331742">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> We (<span class="user-mention silent" data-user-id="467358">Daniel Packer</span> and I) just used this tool to track down the new location of  <code>lt_omega_of_linear_independent</code>, which was deleted on 5 June.  Thanks!</p>
</blockquote>
<p>Glad to hear it helped! Thanks for sharing :)</p>



<a name="289355615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289355615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289355615">(Jul 12 2022 at 17:05)</a>:</h4>
<p>Lean must first parse the raw string syntax content of a file into some tree structure before it can figure out what the file is referencing I assume? Is there a way to get at that parsed structure without it needing to go and follow all the imports and trying to figure out what's actually happening in the file?</p>



<a name="289357880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289357880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289357880">(Jul 12 2022 at 17:23)</a>:</h4>
<p>Actually it looks like lean has a <code>--ast</code> option, which might be what I'm looking for <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="289361636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289361636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289361636">(Jul 12 2022 at 17:50)</a>:</h4>
<p>hrm running <code>lean --ast &lt;file.lean&gt;</code> seems to throw lots of errors. It does output an AST JSON, but a there's a lot of <code>null</code>s in it, and as a result a bunch of stuff is missing. I don't really understand why that would be though, surely the AST parse shouldn't error as long as the syntax is valid?</p>



<a name="289364071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289364071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289364071">(Jul 12 2022 at 18:08)</a>:</h4>
<p>Like Floris said, parsing Lean improperly for namespaces should be relatively straightforward -- thankfully they always come in <code>namespace foo / end foo</code> pairs. I think there are two things you need to know:</p>
<ul>
<li>Names can be escaped using french quotes (« »). For example, <code>a.«b».c</code> is the same as <code>a.b.c</code>.</li>
<li>Names can start with <code>_root_</code> to override the fact that they are in a namespace.</li>
</ul>
<p>For robustness, you should also be parsing <code>section foo / end foo</code> pairs, since frequently there are overlapping namespaces and sections with the same names. Sections have no impact on naming.</p>



<a name="289364745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289364745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289364745">(Jul 12 2022 at 18:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289355615">said</a>:</p>
<blockquote>
<p>Lean must first parse the raw string syntax content of a file into some tree structure before it can figure out what the file is referencing I assume?</p>
</blockquote>
<p>My understanding is that the data structures that support <code>--ast</code> are actually built for the sole purpose of having some machine readable output.</p>
<p>A Lean file is a sequence of commands, and each command has code for how they parse themselves and manipulate the Lean frontend's internal state. Each command is processed before the next one is even parsed.</p>



<a name="289446715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289446715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289446715">(Jul 13 2022 at 11:53)</a>:</h4>
<p>One potential feature request: on the search page, can you link to the most relevant Github page (including line number)?<br>
For example, in Heather's example of <br>
<a href="https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent">https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent</a><br>
it would be nice if the top result contains a link to <a href="https://github.com/leanprover-community/mathlib/commit/b6395b3#diff-a460505ea5f3db30574d1f6c292ad14ceffb53a09ba980303313df40128bc521L306">the correct line in the commit diff</a> and/or the <a href="https://github.com/leanprover-community/mathlib/blob/b6395b3a5acd655b16385fa0cdbf1961d6c34b3e/src/linear_algebra/finite_dimensional.lean#L306">correct line of the file after the commit</a> (for deletions I understand this is tricky to figure out exactly). I don't know if this is too hard to add, but I think that would make it easier to see what the commit has changed.</p>



<a name="289498029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289498029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289498029">(Jul 13 2022 at 18:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289364745">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="479618">David Chanin</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289355615">said</a>:</p>
<blockquote>
<p>Lean must first parse the raw string syntax content of a file into some tree structure before it can figure out what the file is referencing I assume?</p>
</blockquote>
<p>My understanding is that the data structures that support <code>--ast</code> are actually built for the sole purpose of having some machine readable output.</p>
<p>A Lean file is a sequence of commands, and each command has code for how they parse themselves and manipulate the Lean frontend's internal state. Each command is processed before the next one is even parsed.</p>
</blockquote>
<p>Ah that's much more complicated than I realized! It sounds like just scanning through looking for section/namespace keywords is the way to go</p>



<a name="289498138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289498138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289498138">(Jul 13 2022 at 18:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289446715">said</a>:</p>
<blockquote>
<p>One potential feature request: on the search page, can you link to the most relevant Github page (including line number)?<br>
For example, in Heather's example of <br>
<a href="https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent">https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent</a><br>
it would be nice if the top result contains a link to <a href="https://github.com/leanprover-community/mathlib/commit/b6395b3#diff-a460505ea5f3db30574d1f6c292ad14ceffb53a09ba980303313df40128bc521L306">the correct line in the commit diff</a> and/or the <a href="https://github.com/leanprover-community/mathlib/blob/b6395b3a5acd655b16385fa0cdbf1961d6c34b3e/src/linear_algebra/finite_dimensional.lean#L306">correct line of the file after the commit</a> (for deletions I understand this is tricky to figure out exactly). I don't know if this is too hard to add, but I think that would make it easier to see what the commit has changed.</p>
</blockquote>
<p>I think that shouldn't be too hard to add! I'll see if I can get it working</p>



<a name="289709145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289709145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289709145">(Jul 15 2022 at 10:18)</a>:</h4>
<p>One other feature request / bug report: I noticed it isn't tracking classes and instances. I guess unnamed instances might be hard to include without proper parsing, but maybe it's nice to add instances whose name is given explicitly, and classes (and <code>inductive</code>/<code>structure</code>/<code>abbreviation</code> if you aren't doing those already).</p>



<a name="289709195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289709195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289709195">(Jul 15 2022 at 10:19)</a>:</h4>
<p>E.g. <a href="https://github.com/leanprover-community/mathlib/commit/ede73b2571f6b40dba488d565a66c2bb1a91602f">https://github.com/leanprover-community/mathlib/commit/ede73b2571f6b40dba488d565a66c2bb1a91602f</a> should be "removing" both <code>regular_space</code> and <code>regular_space.t1_space</code>.</p>



<a name="289709785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289709785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289709785">(Jul 15 2022 at 10:26)</a>:</h4>
<p>And let me also say: this website is indeed useful to figure out the new name of a renamed lemma!</p>



<a name="289790457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289790457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289790457">(Jul 15 2022 at 22:23)</a>:</h4>
<p>I think I've got the proper namespace/section parsing stuff working now, so hopefully the names of all the lemmas/etc should include the correct namespace now</p>



<a name="289790571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289790571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289790571">(Jul 15 2022 at 22:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289709145">said</a>:</p>
<blockquote>
<p>One other feature request / bug report: I noticed it isn't tracking classes and instances. I guess unnamed instances might be hard to include without proper parsing, but maybe it's nice to add instances whose name is given explicitly, and classes (and <code>inductive</code>/<code>structure</code>/<code>abbreviation</code> if you aren't doing those already).</p>
</blockquote>
<p>Does this work the same as with lemmas/defs/theorems? e.g. just looking for a keyword like <code>structure &lt;name&gt;</code> or <code>instance &lt;name&gt;</code>? I don't have a very good grasp of  how instances / classes and stuff work in Lean yet, so for now I just added <code>theorem/def/lemma</code> since they seem pretty straightforward</p>



<a name="289790641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289790641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289790641">(Jul 15 2022 at 22:26)</a>:</h4>
<p><code>structure &lt;name&gt;</code> and <code>inductive &lt;name&gt;</code> work just the same as <code>theorem/def/lemma</code>. <code>instance</code> takes an optional name.</p>



<a name="289790803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289790803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289790803">(Jul 15 2022 at 22:28)</a>:</h4>
<p>If <code>instance</code> doesn't have a name, then there are some relatively complicated rules for how it automatically generates a name for you (you'd pretty much need to run Lean to get that name)</p>



<a name="289791005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289791005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289791005">(Jul 15 2022 at 22:31)</a>:</h4>
<p><code>abbreviation</code>, <code>def</code>, <code>theorem</code>, and <code>lemma</code> all parse the same.</p>



<a name="289794087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289794087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289794087">(Jul 15 2022 at 23:15)</a>:</h4>
<p>awesome, I'll see if I can get <code>abbreviation</code>, <code>structure</code>, and <code>inductive</code> added then! Seems like it should be a quick change</p>



<a name="289797575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289797575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289797575">(Jul 16 2022 at 00:11)</a>:</h4>
<p>Just added abbreviation, structure, and inductive - turned out to be pretty straightforward</p>



<a name="289815628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289815628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289815628">(Jul 16 2022 at 08:03)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> I just want to say that I really like how you had a vision of a useful tool. At first, we couldn't understand what you wanted that <code>git log</code> didn't offer already. Then you just went ahead and built the tool. And now we are ally excited about it. "Show, don't tell" and all that. But it works! Great job!</p>



<a name="289819554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289819554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289819554">(Jul 16 2022 at 09:40)</a>:</h4>
<p>That's so nice of you to say, Johan! I wasn't really expecting to build anything either, but everyone on this thread was so supportive and offered so many ideas,  it just sort of happened. Really a testament to the community you all have built!</p>



<a name="289824082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289824082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289824082">(Jul 16 2022 at 11:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog/near/289446715">said</a>:</p>
<blockquote>
<p>One potential feature request: on the search page, can you link to the most relevant Github page (including line number)?<br>
For example, in Heather's example of <br>
<a href="https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent">https://mathlib-changelog.vercel.app/lemma/lt_omega_of_linear_independent</a><br>
it would be nice if the top result contains a link to <a href="https://github.com/leanprover-community/mathlib/commit/b6395b3#diff-a460505ea5f3db30574d1f6c292ad14ceffb53a09ba980303313df40128bc521L306">the correct line in the commit diff</a> and/or the <a href="https://github.com/leanprover-community/mathlib/blob/b6395b3a5acd655b16385fa0cdbf1961d6c34b3e/src/linear_algebra/finite_dimensional.lean#L306">correct line of the file after the commit</a> (for deletions I understand this is tricky to figure out exactly). I don't know if this is too hard to add, but I think that would make it easier to see what the commit has changed.</p>
</blockquote>
<p>I was able to get it to link directly to the file in the diff where the change occurred in Github from the search result page, but figuring out the line number will be a bit trickier. Hopefully this should still help make it easier to get to the relevant part of the diff than having to search through the entire list of changes at least</p>



<a name="289980292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/289980292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#289980292">(Jul 18 2022 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> Thanks for building <a href="https://mathlib-changelog.org/">https://mathlib-changelog.org/</a>!</p>
<p>I think it would be great if we eventually linked to it from the mathlib documentation.  It could be integrated in a few different ways: (1) just a link, (2) an additional button for the search box when you don't find what you're wanting, (3) maybe even links from definitions/lemmas for when you want to know what something used to be called (though the definition area is already getting rather busy).</p>



<a name="290030941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/290030941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#290030941">(Jul 18 2022 at 22:22)</a>:</h4>
<p>Hrm it's hard to tell what lemmas/theorems used to be called automatically, since it's just looking at the git diffs, but that would be awesome if it were possible to figure out, even if just in limited situations. Adding missing theorems to the search though should be possible. There's a full list of every lemma/theorem/etc that ever existed at <a href="https://mathlib-changelog.org/searchItems.json">https://mathlib-changelog.org/searchItems.json</a> which is what the mathlib-changelog search is using internally (it's just a client-side static site, so it's just looking through that JSON file basically).</p>



<a name="290030994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/290030994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#290030994">(Jul 18 2022 at 22:22)</a>:</h4>
<p>Everything in that list maps 1-to-1 to a page on mathlib-changelog. The prefix is the first letter of the type of item it is, so <code>a</code> means <code>abbreviation</code>, <code>t</code> means <code>theorem</code>, etc</p>



<a name="290031684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/290031684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#290031684">(Jul 18 2022 at 22:30)</a>:</h4>
<p>Another idea I had was that it would be really helpful if there was a way to see examples of each theorem in mathlib used in real proofs. I find that I have a lot of trouble understanding how to use the theorems and definitions in Mathlib just from seeing the doc, it really helps to see it used in practice in a real proof. Maybe it would be possible to automatically scan all the repos in Github that are a lean project with mathlib that come up searching e.g <a href="https://github.com/search?l=Lean&amp;p=13&amp;q=lean&amp;type=Repositories">https://github.com/search?l=Lean&amp;p=13&amp;q=lean&amp;type=Repositories</a>, and keep an index of which repos make use of which theorems so it could be linked to from the mathlib docs? Or it could just be another site like mathlib-changelog that auto-updates as new repos / versions of mathlib are created</p>



<a name="290061348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/290061348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#290061348">(Jul 19 2022 at 07:05)</a>:</h4>
<p>I've seen tools online for other languages that do that</p>



<a name="292124423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/292124423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#292124423">(Aug 05 2022 at 08:47)</a>:</h4>
<p><span class="user-mention" data-user-id="479618">@David Chanin</span> hope it's okay if I use this thread for a bug report - the "view on github" link on <a href="https://mathlib-changelog.org/commit/9f55ed7">https://mathlib-changelog.org/commit/9f55ed7</a> doesn't work; it seems to need the long form hash like <a href="https://github.com/leanprover-community/mathlib/commit/9f55ed7054dcf01bf8a3a69afc03a1ceebcfc09c">https://github.com/leanprover-community/mathlib/commit/9f55ed7054dcf01bf8a3a69afc03a1ceebcfc09c</a></p>



<a name="292127283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/292127283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#292127283">(Aug 05 2022 at 09:15)</a>:</h4>
<p>Ooh good catch! It looks like 7 chars isn't enough. 8 chars seems to work though. I'll update to use 8 chars moving forward!</p>



<a name="292138485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/292138485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#292138485">(Aug 05 2022 at 11:08)</a>:</h4>
<p>And thanks for making it, it's helped me a lot today</p>



<a name="292143278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/292143278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#292143278">(Aug 05 2022 at 11:57)</a>:</h4>
<p>It's probably a good idea to use the full hash, since there might be collisions in 8 chars</p>



<a name="292169017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/292169017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Chanin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#292169017">(Aug 05 2022 at 15:25)</a>:</h4>
<p><a href="https://stackoverflow.com/questions/18134627/how-much-of-a-git-sha-is-generally-considered-necessary-to-uniquely-identify-a">https://stackoverflow.com/questions/18134627/how-much-of-a-git-sha-is-generally-considered-necessary-to-uniquely-identify-a</a> It looks like 10-12 should be enough. This is saying the Linux kernel uses 12 chars with hundreds of thousands of commits, which is ~10x what mathlib has so far.</p>



<a name="294256021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/294256021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#294256021">(Aug 19 2022 at 12:37)</a>:</h4>
<p>I just used <a href="https://mathlib-changelog.org">https://mathlib-changelog.org</a> for the first time today, tracking what happened to <code>unit_interval.mk_zero</code> and its friends and then <code>matrix.minor_apply</code> in order to <a href="https://github.com/leanprover-community/sphere-eversion/commit/9de3e65b79607c706f933a9a0531e62164f92d57">update mathlib</a> in the sphere eversion project. It was really nice!</p>



<a name="294342562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/294342562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#294342562">(Aug 19 2022 at 18:41)</a>:</h4>
<p>I'll second that it's really useful for a lean bump, especially if you're not keeping an eye on PRs. Perhaps the documentation for <code>leanproject up</code> should even recommend using this to help deal with build errors.</p>



<a name="294342746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/mathlib%20versioning%20and%20changelog/near/294342746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/mathlib.20versioning.20and.20changelog.html#294342746">(Aug 19 2022 at 18:42)</a>:</h4>
<p>If it does, then I would feel more comfortable having the website migrated to the community repo somewhere (possibly part of the mathlib website), to avoid it going rot.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>