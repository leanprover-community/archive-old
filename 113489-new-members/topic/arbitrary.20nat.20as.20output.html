---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html">arbitrary nat as output</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206102845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206102845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206102845">(Aug 06 2020 at 04:06)</a>:</h4>
<p>I'm somewhat puzzled by the following function definition: <code>def f: ℕ → ℕ  := fun n, arbitrary ℕ </code>. It seems to me that <code>f</code> is not actually a mathematical function. It takes a natural number as input and outputs, ... a term that has type <code>nat</code> but it's not an actual natural number. I'm tempted to say that mathematically speaking, this is an ill-defined function? Should I think of this as essentially "using the axiom of choice"?</p>



<a name="206102920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206102920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206102920">(Aug 06 2020 at 04:09)</a>:</h4>
<p>there is in fact a natural number in there</p>



<a name="206102926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206102926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206102926">(Aug 06 2020 at 04:09)</a>:</h4>
<p>It just outputs the provided default for the <code>inhabited</code> typeclass on that type. For nat, the inhabited instance is</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="n">nat</span><span class="bp">.</span><span class="n">zero</span><span class="bp">⟩</span>
</code></pre></div>


<p>so <code>arbitrary ℕ = 0</code>.</p>



<a name="206103681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206103681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris M <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206103681">(Aug 06 2020 at 04:27)</a>:</h4>
<p>Ohh I see. Does this hold for all <code>arbitrary ...</code>for some type at <code>...</code>?</p>



<a name="206104444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206104444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206104444">(Aug 06 2020 at 04:45)</a>:</h4>
<p>did you try going to the definition of arbitrary?</p>



<a name="206104482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206104482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206104482">(Aug 06 2020 at 04:46)</a>:</h4>
<p>there's no magic going on anywhere</p>



<a name="206104499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206104499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206104499">(Aug 06 2020 at 04:47)</a>:</h4>
<p>Shing Tak just unfolded the definition into an english sentence of comparable length</p>



<a name="206105429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206105429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206105429">(Aug 06 2020 at 05:09)</a>:</h4>
<p>This should be contrasted with <code>def f: ℕ → ℕ  := fun n, @classical.choice ℕ _</code>, which is a function from nat to nat that we can prove is constant but for which we don't know the value</p>



<a name="206140867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206140867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jacques Carette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206140867">(Aug 06 2020 at 13:32)</a>:</h4>
<p>Is it just me, but while <code>inhabited</code> is a great name, <code>arbitrary</code> is likely to lead to confusion (witness: this thread) ?</p>



<a name="206143291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206143291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206143291">(Aug 06 2020 at 13:51)</a>:</h4>
<p>i feel like <code>arbitrary</code> is well-named but needs a docstring. It's very close to the mathematician's "arbitrary".</p>



<a name="206144140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206144140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206144140">(Aug 06 2020 at 13:58)</a>:</h4>
<p><code>arbitrary</code> is basically unused anyways</p>



<a name="206146426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206146426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206146426">(Aug 06 2020 at 14:14)</a>:</h4>
<p>at least, in mathlib</p>



<a name="206149015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149015">(Aug 06 2020 at 14:33)</a>:</h4>
<p>Since the class is called <code>inhabited</code>, maybe <code>inhabitant</code> or <code>some_inhabitant</code>?</p>



<a name="206149150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149150">(Aug 06 2020 at 14:34)</a>:</h4>
<p>We used to have <code>arbitrary</code> in Isabelle with the same meaning as in Lean (except that it worked with all types, since all HOL types are inhabited). It was renamed <code>undefined</code>. I never felt this was much of an improvement.</p>



<a name="206149205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149205">(Aug 06 2020 at 14:35)</a>:</h4>
<p>Is arbitrary even going to survive until Lean 4? I think where they are used - they can be replaced with meta constants.</p>



<a name="206149473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149473">(Aug 06 2020 at 14:37)</a>:</h4>
<p>I actually had misremembered how this is set up</p>



<a name="206149499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149499">(Aug 06 2020 at 14:37)</a>:</h4>
<p><code>arbitrary</code> is basically an <code>irreducible</code> version of <code>default</code> which is the guy from <code>inhabited</code></p>



<a name="206149722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Ashworth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149722">(Aug 06 2020 at 14:39)</a>:</h4>
<p>I always wondered why more <code>arbitrary</code> wasn't used in mathlib. It was supposed to be the canonical <code>37</code> for partial functions.</p>



<a name="206149823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206149823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206149823">(Aug 06 2020 at 14:39)</a>:</h4>
<p>obviously anything one can do with <code>arbitrary</code> one can also do with <code>default</code>, but <code>arbitrary</code> is making a promise to the reader that all you need is <em>some</em> inhabited instance, not any particular one</p>



<a name="206150115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206150115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206150115">(Aug 06 2020 at 14:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110025">Andrew Ashworth</span> <a href="#narrow/stream/113489-new-members/topic/arbitrary.20nat.20as.20output/near/206149722">said</a>:</p>
<blockquote>
<p>I always wondered why more <code>arbitrary</code> wasn't used in mathlib. It was supposed to be the canonical <code>37</code> for partial functions.</p>
</blockquote>
<p>If you're going to totalize, it's usually more useful to totalize in a convenient way (normally meaning by <code>0</code> and not by <code>37</code>)</p>



<a name="206150328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206150328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206150328">(Aug 06 2020 at 14:43)</a>:</h4>
<p>From a mathematician's perspective, <code>inhabited</code> ought to be called "pointed"</p>



<a name="206150425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206150425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206150425">(Aug 06 2020 at 14:43)</a>:</h4>
<p>or at least the definition of pointed would look exactly the same up to renaming</p>



<a name="206152056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206152056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jacques Carette <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206152056">(Aug 06 2020 at 14:55)</a>:</h4>
<p>pointed is great, but one assumes that if something is pointed, then homomorphisms preserve the given point.</p>
<p>To use HoTT terminology, <code>arbitrary</code> does bring to mind a 'mere inhabitant'. That is indeed quite useful, as it corresponds nicely to the classical notion of inhabitation.</p>
<p>In all my codes, I consider the use of having a <code>default</code> point a "code smell". I have indeed been working to remove that from one of my student's codes in the last week. (inhabited is ok, as I know I can't rely on that mere point in any ways; default is more dangerous, as downstream code has this way of assuming it means pointed when there is in fact no such guarantee). But that is what my experience tells me, I certainly wouldn't make that a hard rule, not without more evidence.</p>



<a name="206152064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/arbitrary%20nat%20as%20output/near/206152064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/arbitrary.20nat.20as.20output.html#206152064">(Aug 06 2020 at 14:55)</a>:</h4>
<p>And I guess the point is even when you're in a general setting like <code>option.iget</code> where you can't totalize by something like <code>0</code>, it's still more useful to pass on the option to know the default value is <code>0</code> to your client by using <code>default</code>, rather than using <code>arbitrary</code> which prevents anyone from knowing about the value</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>