---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html">Eigenproperties of symmetric matrices</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="235470337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235470337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235470337">(Apr 21 2021 at 08:04)</a>:</h4>
<p>Hello! I have been working towards a file that contains properties of symmetric matrices with real coefficients, like the fact that all their eigenvalues are real and each has a corresponding real eigenvector, as I did not see them in the documentation on linear algebra. The thing is that I am not an experienced Lean programmer, and although I tried to make the code as clear as possible and with minimal repeated work, I am not sure that the code is PR-worthy. Another thing is that the whole file is 400-lines and it has a substantial amount of helping lemmas, so it would be hard to review, but I don't know if I can break it into smaller pieces, as statements follow from previous ones and so on. Should I have a "more experienced" opinion on what I wrote and maybe discuss its potential? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="235470501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235470501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235470501">(Apr 21 2021 at 08:06)</a>:</h4>
<p>Sure, you can link to your code here. If some of those helper lemmas are really about something slightly more general, you can probably PR those to other files.</p>



<a name="235470533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235470533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235470533">(Apr 21 2021 at 08:06)</a>:</h4>
<p>And then have a second PR about eigenvalues of symmetric matrices, and such</p>



<a name="235471352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235471352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235471352">(Apr 21 2021 at 08:13)</a>:</h4>
<p><a href="https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean">https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean</a><br>
Yes, some of the lemmas are more general (delimitated them with comments) and would fit into the data.matrix.basic file</p>



<a name="235471634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235471634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235471634">(Apr 21 2021 at 08:15)</a>:</h4>
<p>The stuff up to line 186 seems generic matrix stuff. So that would make a great first PR. You will have to scatter those lemmas into their natural places in the library, which means you'll be editing 2 or 3 files probably. You might discover some duplicates, I didn't look carefully for those though.</p>



<a name="235471721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235471721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235471721">(Apr 21 2021 at 08:16)</a>:</h4>
<p>If you are not scared of getting 50 constructive feedback comments on your PR, then I would say "go for it!"</p>



<a name="235471931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235471931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235471931">(Apr 21 2021 at 08:18)</a>:</h4>
<p>Thank you for the module docstring! There is quite a precise format which we ask is followed, and which your docstring doesn't quite match yet: it's <a href="https://leanprover-community.github.io/contribute/doc.html">here</a>.</p>



<a name="235471936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235471936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235471936">(Apr 21 2021 at 08:18)</a>:</h4>
<p>I see a number of lemmas there that are hiding in the library already (eg <code>vec_eq_unfold'</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/funext_iff">docs#funext_iff</a>), but the code certainly looks ready-for-mathlib-review even if not ready-for-mathlib-merge</p>



<a name="235472210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235472210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235472210">(Apr 21 2021 at 08:21)</a>:</h4>
<p><code>vec_smul_zero</code> should be covered by <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.no_zero_smul_divisors">docs#pi.no_zero_smul_divisors</a> <del>but perhaps that doesn't exist yet...</del>. You should be able to replace it with <a href="https://leanprover-community.github.io/mathlib_docs/find/smul_eq_zero">docs#smul_eq_zero</a></p>



<a name="235472535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235472535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235472535">(Apr 21 2021 at 08:23)</a>:</h4>
<p>What do you mean by ready-for-mathlib-review? That I should PR it? Btw thanks already for the feedback, it helps a lot <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="235472965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235472965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235472965">(Apr 21 2021 at 08:27)</a>:</h4>
<p>I meant to backup what <span class="user-mention" data-user-id="112680">@Johan Commelin</span> said about going for a PR if not afraid of 50 or so comments</p>



<a name="235473173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473173">(Apr 21 2021 at 08:29)</a>:</h4>
<p>Yes, please PR it :-) And if you don't change the module docstring beforehand then this will be my first comment :-)</p>



<a name="235473337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473337">(Apr 21 2021 at 08:30)</a>:</h4>
<p>I am doing that right now, hopefully it will be up to the standard.</p>



<a name="235473366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473366">(Apr 21 2021 at 08:31)</a>:</h4>
<p>Another quick thing to address before PRing; take a quick look at #style</p>



<a name="235473391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473391">(Apr 21 2021 at 08:31)</a>:</h4>
<p>Oh. That link doesn't work</p>



<a name="235473441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473441">(Apr 21 2021 at 08:31)</a>:</h4>
<p>Well, what jumps out now is the lack of spaces inside <code>{}</code> and the multiple tactics on a single line</p>



<a name="235473514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473514">(Apr 21 2021 at 08:32)</a>:</h4>
<p><a href="https://leanprover-community.github.io/contribute/style.html#tactic-mode">https://leanprover-community.github.io/contribute/style.html#tactic-mode</a></p>



<a name="235473551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473551">(Apr 21 2021 at 08:32)</a>:</h4>
<p>If you fix those part-way through PRing them github will start hiding comments</p>



<a name="235473580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473580">(Apr 21 2021 at 08:32)</a>:</h4>
<p>And btw how can I make a PR to an already existing file from mathlib? I should mention that I have an outdated mention of mathlib.</p>



<a name="235473707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473707">(Apr 21 2021 at 08:33)</a>:</h4>
<p>You can create a branch that starts on the version of mathlib you were using</p>



<a name="235473799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235473799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235473799">(Apr 21 2021 at 08:34)</a>:</h4>
<p><a href="https://leanprover-community.github.io/contribute/style.html">#style</a> hopefully works now?</p>



<a name="235474472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235474472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235474472">(Apr 21 2021 at 08:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235472965">said</a>:</p>
<blockquote>
<p>I meant to backup what <span class="user-mention silent" data-user-id="112680">Johan Commelin</span> said about going for a PR if not afraid of 50 or so comments</p>
</blockquote>
<p><span class="user-mention" data-user-id="366674">@Gabriel Moise</span> Note that those 50 comments are standard for everyone who makes a first PR. We all started that way <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="235474742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235474742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235474742">(Apr 21 2021 at 08:43)</a>:</h4>
<p><span class="user-mention" data-user-id="366674">@Gabriel Moise</span> to follow up what Eric was sayign abuot <code>{}</code> and lines, here's what your first lemma shoudl look like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">vec_eq_unfold</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">),</span> <span class="n">x</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">),</span> <span class="n">y</span> <span class="n">i</span><span class="o">)</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">V</span><span class="o">),</span> <span class="n">x</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">y</span> <span class="n">i</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">hyp</span> <span class="n">i</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">congr_fun</span> <span class="n">hyp</span> <span class="n">i</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">hyp</span><span class="o">,</span>
    <span class="n">ext</span> <span class="n">i</span><span class="bp">;</span>
    <span class="n">simp</span> <span class="o">[</span><span class="n">hyp</span><span class="o">]</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="235474775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235474775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235474775">(Apr 21 2021 at 08:43)</a>:</h4>
<p>Oh I really want as many comments as possible.<br>
Now I am following some guides on how to make the first PR as I am not very experienced with GitHub either.</p>



<a name="235474890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235474890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235474890">(Apr 21 2021 at 08:44)</a>:</h4>
<p>If you do those fixes (e.g. <code>simp[</code> -&gt; <code>simp [</code>, <code>repeat{</code> -&gt; <code>repeat {</code> etc) <em>before</em> you PR then it will save a lot of noise during the PR process.</p>



<a name="235474996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235474996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235474996">(Apr 21 2021 at 08:45)</a>:</h4>
<p><code>{intro</code> -&gt; <code>{ intro</code>. Also you have a non-terminal <code>simp</code> on line 119 and another on line 145 ,148 etc.</p>



<a name="235475306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235475306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235475306">(Apr 21 2021 at 08:48)</a>:</h4>
<p>So the goal is to only use simp only when I want to close goals, and not throughout the proof as intermediate steps as well.</p>



<a name="235476823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235476823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235476823">(Apr 21 2021 at 09:02)</a>:</h4>
<p>Right, but there are tricks, eg change <code>simp</code> to <code>squeeze_simp</code> to find out what it actually did, and then do it manually yourself</p>



<a name="235478883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235478883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235478883">(Apr 21 2021 at 09:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235471936">said</a>:</p>
<blockquote>
<p>I see a number of lemmas there that are hiding in the library already (eg <code>vec_eq_unfold'</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/funext_iff">docs#funext_iff</a>), but the code certainly looks ready-for-mathlib-review even if not ready-for-mathlib-merge</p>
</blockquote>
<p>This link doesn't work for me.</p>



<a name="235478942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235478942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235478942">(Apr 21 2021 at 09:19)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/function.funext_iff">docs#function.funext_iff</a></p>



<a name="235482854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235482854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235482854">(Apr 21 2021 at 09:55)</a>:</h4>
<p>If you're looking for a tiny first PR to practice on, your <code>mul_vec_smul_assoc</code> lemma looks like one that mathlib is missing, and it would go in <code>data/matrix/basic.lean</code> (after addressing your <code>could not turn ℂ into general R</code> comment)</p>



<a name="235483599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235483599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235483599">(Apr 21 2021 at 10:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235482854">said</a>:</p>
<blockquote>
<p>If you're looking for a tiny first PR to practice on, your <code>mul_vec_smul_assoc</code> lemma looks like one that mathlib is missing, and it would go in <code>data/matrix/basic.lean</code> (after addressing your <code>could not turn ℂ into general R</code> comment)</p>
</blockquote>
<p>Was working on PR-ing the <code>vec_mul_mul_vec_assoc</code> lemma, but thanks for the advice.</p>



<a name="235484058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235484058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235484058">(Apr 21 2021 at 10:05)</a>:</h4>
<p>That one is probably easier anyway!</p>



<a name="235485061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235485061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235485061">(Apr 21 2021 at 10:14)</a>:</h4>
<p>Although you can prove it much more succinctly!</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">dot_product_assoc</span> <span class="n">y</span> <span class="n">M</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
</code></pre></div>
</div></div>



<a name="235487489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235487489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235487489">(Apr 21 2021 at 10:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235482854">said</a>:</p>
<blockquote>
<p>If you're looking for a tiny first PR to practice on, your <code>mul_vec_smul_assoc</code> lemma looks like one that mathlib is missing, and it would go in <code>data/matrix/basic.lean</code> (after addressing your <code>could not turn ℂ into general R</code> comment)</p>
</blockquote>
<p>My problem with (could not turn C into general R) was that I needed to instantiate R with <code>[comm_semigroup R]</code> and then (since I already had <code>[ring R]</code>) some weird interactions happened. Trying to understand the root of the problem, I noticed that:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">test_mul_comm</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semigroup</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">exact</span> <span class="n">mul_comm</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">test_mul_comm2</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semigroup</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">exact</span> <span class="n">mul_comm</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="c1">-- no longer works</span>
<span class="kd">end</span>
</code></pre></div>
<p>and this is a little confusing to me.</p>



<a name="235487616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235487616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235487616">(Apr 21 2021 at 10:37)</a>:</h4>
<p><code>comm_semigroup alpha</code> means "put a commutative semigroup structure on alpha". And <code>ring alpha</code> then means "put a totally unrelated ring structure on alpha (but use the same symbol <code>*</code> for the multiplication)". This is surely not what you want. Do you want <code>comm_ring alpha</code>?</p>



<a name="235487846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235487846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235487846">(Apr 21 2021 at 10:40)</a>:</h4>
<p>If you've proved theorems about rings and then want to prove some more theorems about commutative rings, you could use sections, and have variable assumptions in the sections, e.g.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span>

<span class="kn">section</span> <span class="n">ring_stuff</span>

<span class="kd">variable</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span>

<span class="bp">&lt;</span><span class="n">ringy</span> <span class="n">theorems</span><span class="bp">&gt;</span>

<span class="kd">end</span> <span class="n">ring_stuff</span>

<span class="kn">section</span> <span class="n">comm_ring_stuff</span>

<span class="kd">variable</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>

<span class="bp">&lt;</span><span class="n">comm_ringy</span> <span class="n">theorems</span><span class="bp">&gt;</span>

<span class="kd">end</span> <span class="n">comm_ring_stuff</span>
</code></pre></div>



<a name="235487929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235487929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235487929">(Apr 21 2021 at 10:41)</a>:</h4>
<p>Alternatively you could let all your rings be called R and all your comm_rings be called A. I tend to do this when I'm doing groups, with groups called G and abelian groups called A.</p>



<a name="235488291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235488291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235488291">(Apr 21 2021 at 10:45)</a>:</h4>
<p>Can't I include the <code>comm_ring_stuff</code> section in the <code>ring_stuff</code> section (nesting them) or is it a bad idea?</p>



<a name="235491014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235491014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235491014">(Apr 21 2021 at 11:08)</a>:</h4>
<p><span class="user-mention" data-user-id="366674">@Gabriel Moise</span> If you have <code>variables {R : Type*} [ring R] [comm_ring R]</code> then you get two completely unrelated ring structures on <code>R</code> and Lean will get mightily confused.</p>



<a name="235491034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235491034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235491034">(Apr 21 2021 at 11:08)</a>:</h4>
<p>So nesting will not work.</p>



<a name="235493469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235493469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235493469">(Apr 21 2021 at 11:30)</a>:</h4>
<p>Can I get permission to push a branch to <code>mathlib</code>, please? My username is gabrielmoise</p>



<a name="235494128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235494128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235494128">(Apr 21 2021 at 11:35)</a>:</h4>
<p>Invitation sent: <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a></p>



<a name="235496527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235496527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235496527">(Apr 21 2021 at 11:54)</a>:</h4>
<p>Thanks a lot!</p>



<a name="235519808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235519808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235519808">(Apr 21 2021 at 14:30)</a>:</h4>
<p>Does the <code>continuous integration / Build mathlib (push)</code> part of the check of a PR generally take a lot?</p>



<a name="235520128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235520128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235520128">(Apr 21 2021 at 14:32)</a>:</h4>
<p>yep ^^</p>



<a name="235520674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235520674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235520674">(Apr 21 2021 at 14:35)</a>:</h4>
<p>It mostly depends on how deep the changes you've made are in the import graph. A modification to a leaf file will probably compile in a few seconds, but adding stuff to a basic algebra or order file will force a recompilation of almost all of mathlib.</p>



<a name="235540774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235540774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235540774">(Apr 21 2021 at 16:28)</a>:</h4>
<p>I'm late to the party but I'm extremely worried about trying to merge this into mathlib. Why working with matrices instead of endomorphisms? I think going down the mathematical road (first endomorphisms and then deduce results about matrices if they are needed somewhere) would be much cleaner.</p>



<a name="235540962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235540962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235540962">(Apr 21 2021 at 16:29)</a>:</h4>
<p>We already have things in <a href="https://leanprover-community.github.io/mathlib_docs/linear_algebra/eigenspace.html">https://leanprover-community.github.io/mathlib_docs/linear_algebra/eigenspace.html</a></p>



<a name="235542220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235542220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235542220">(Apr 21 2021 at 16:36)</a>:</h4>
<p>Even with that being the case, I think doing this the matrix way will have filled a bunch of lemma gaps in the existing matrix API; we don't have to merge everything to extract value out of this effort</p>



<a name="235542304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235542304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235542304">(Apr 21 2021 at 16:37)</a>:</h4>
<p>I agree that we should use the endomorphism definitions wherever possible though</p>



<a name="235545953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235545953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235545953">(Apr 21 2021 at 17:02)</a>:</h4>
<p>I agree with what Patrick said. We definitely don't want to do a whole lot of work on matrices that is better done for endomorphisms first. But I also think that all the helper lemmas that you found are helping to fill out the matrix API.<br>
So when those api gaps are filled, we should discuss here on zulip what is the best way to move forward with the symmetric stuff. It should tie in well with the rest of the library (e.g. the file that Patrick linked to).</p>



<a name="235546802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235546802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235546802">(Apr 21 2021 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235542304">said</a>:</p>
<blockquote>
<p>I agree that we should use the endomorphism definitions wherever possible though</p>
</blockquote>
<p>I've always found this weird, but is there any particular reason why <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.trace">docs#linear_map.trace</a> is defined using <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.trace">docs#matrix.trace</a>? It could be defined in terms of the roots of the characteristic polynomial, right? I don't know about infinite dimensional stuff though.</p>



<a name="235551460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235551460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235551460">(Apr 21 2021 at 17:38)</a>:</h4>
<p>And the characteristic polynomial of an endomorphism is presumably defined using the determinant of a matrix? I don't see how you can get away from matrices here.</p>



<a name="235552556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235552556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235552556">(Apr 21 2021 at 17:45)</a>:</h4>
<p>Oh, true.</p>



<a name="235553039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235553039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235553039">(Apr 21 2021 at 17:49)</a>:</h4>
<p>Wikipedia explains a coordinate-free definition of trace (<a href="https://en.wikipedia.org/wiki/Trace_(linear_algebra)#Coordinate-free_definition">https://en.wikipedia.org/wiki/Trace_(linear_algebra)#Coordinate-free_definition</a>), so it seems like something can be done?</p>



<a name="235553329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235553329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235553329">(Apr 21 2021 at 17:50)</a>:</h4>
<p>To write down the inverse map Hom(V,V) -&gt; V tensor V^* (necessary to do the computation) you need to pick a basis. The map V tensor V^* -&gt; Hom(V,V) is not a bijection in the infinite-dimensional case (it's an injection, with image the finite rank maps)</p>



<a name="235553958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235553958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hanting Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235553958">(Apr 21 2021 at 17:55)</a>:</h4>
<p><span aria-label="anguish" class="emoji emoji-1f62b" role="img" title="anguish">:anguish:</span> Ooh, thanks for clarifying! The assumption is still hidden in there</p>



<a name="235554099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554099">(Apr 21 2021 at 17:56)</a>:</h4>
<p>Writing maps from tensor products is easy because of the universal property. To write down a map into a tensor product is a different story; to access all elements of the tensor product you typically need a "model", i.e. a basis for each of the vector spaces, giving you a basis for the tensor product.</p>



<a name="235554288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554288">(Apr 21 2021 at 17:57)</a>:</h4>
<p>But there is a coordinate-free definition of determinant via top exterior powers. Then det(1+tA)=1+t*tr(A) in k[t]/(t^2) does the job, right?</p>



<a name="235554407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554407">(Apr 21 2021 at 17:58)</a>:</h4>
<p>Models of objects in mathematics are fascinating and I knew nothing about this stuff until I started formalising. The universal property only gets you so far. To prove that the kernel of the canonical map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>→</mo><mi>R</mi><mo stretchy="false">[</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R\to R[1/S]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">]</span></span></span></span> is the r such that there exists s with rs=0 you don't seem to be able to get this from the universal property alone: you seem to need the explicit model of R[1/S] as R x S / ~. Picking a model for the localisation is like picking a basis for the vector space.</p>



<a name="235554451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554451">(Apr 21 2021 at 17:59)</a>:</h4>
<p>I guess you can push everything into the computation that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>⋀</mo><mi>n</mi></msup><mi>V</mi><mo>≅</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">\bigwedge^n V \cong k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.054302em;vertical-align:-0.25001em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋀</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>dim</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\dim(V) = n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">dim</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>. You will need to use a basis at some point.</p>



<a name="235554526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554526">(Apr 21 2021 at 17:59)</a>:</h4>
<p>Yes, in this approach the basis is hidden in the proof that the n'th wedge power is 1-dimensional.</p>



<a name="235554777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554777">(Apr 21 2021 at 18:01)</a>:</h4>
<p>Even talking about dimension is problematic if you're not allowed to pick a basis. Dimension is "size of any basis".</p>



<a name="235554929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235554929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235554929">(Apr 21 2021 at 18:02)</a>:</h4>
<p>We need a constructivist to explain to us what's going on. I'll ask on Twitter.</p>



<a name="235555202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235555202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235555202">(Apr 21 2021 at 18:04)</a>:</h4>
<p>We probably need bases at some point in development, but not matrices.<br>
I was just making the point that there is a fancy definition which is independent of a basis by construction.</p>



<a name="235555250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235555250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235555250">(Apr 21 2021 at 18:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235554777">said</a>:</p>
<blockquote>
<p>Even talking about dimension is problematic if you're not allowed to pick a basis. Dimension is "size of any basis".</p>
</blockquote>
<p>Dimension is a size of a maximal flag of subspaces minus 1 ;)</p>



<a name="235555698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235555698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235555698">(Apr 21 2021 at 18:06)</a>:</h4>
<p>Aha, and then you prove by induction that the top wedge is 1-dimensional. Sweet.</p>



<a name="235556723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235556723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235556723">(Apr 21 2021 at 18:12)</a>:</h4>
<p>How do you know a maximal flag exists? Wait -- I don't even understand the question. What does it mean to say a vector space is finite-dimensional? Is the definition that it's Noetherian? In which case we might be on to something.</p>



<a name="235556835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235556835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235556835">(Apr 21 2021 at 18:12)</a>:</h4>
<p>In mathlib <code>finite_dimensional</code> is in terms of noetherian, yes.</p>



<a name="235556943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235556943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235556943">(Apr 21 2021 at 18:13)</a>:</h4>
<p>But how do we know that all max flags have the same size?</p>



<a name="235557242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557242">(Apr 21 2021 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235553329">said</a>:</p>
<blockquote>
<p>To write down the inverse map Hom(V,V) -&gt; V tensor V^* (necessary to do the computation) you need to pick a basis. The map V tensor V^* -&gt; Hom(V,V) is not a bijection in the infinite-dimensional case (it's an injection, with image the finite rank maps)</p>
</blockquote>
<p>But we don't need to write it down, right? You can characterize the image of id uniquely as the only GL(V)-invariant vector such that the natural pairing V tensor V* sends it to 1.</p>



<a name="235557301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557301">(Apr 21 2021 at 18:16)</a>:</h4>
<p>But how do we prove it exists though</p>



<a name="235557431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557431">(Apr 21 2021 at 18:17)</a>:</h4>
<p>Developing even basics of representation theory of GL(V), which we do not know to be an algebraic group lacking (g \in GL(V) \iff det(g) \neq 0) seems challenging</p>



<a name="235557469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557469">(Apr 21 2021 at 18:17)</a>:</h4>
<p>challenging unless you pick a basis, which I thoroughly recommend doing :-)</p>



<a name="235557848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557848">(Apr 21 2021 at 18:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235556943">said</a>:</p>
<blockquote>
<p>But how do we know that all max flags have the same size?</p>
</blockquote>
<p>Because GL(V) acts transitively on the set of all complete flags by induction</p>



<a name="235557879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557879">(Apr 21 2021 at 18:20)</a>:</h4>
<p>It suffices to prove that GL(V) acts transitively on vectors</p>



<a name="235557937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557937">(Apr 21 2021 at 18:21)</a>:</h4>
<p>Which you can reduce to the 2-dimensional case</p>



<a name="235557992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235557992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235557992">(Apr 21 2021 at 18:21)</a>:</h4>
<p>I don't think we can induct. I think this is the problem. It's like trying to prove things on fintype by inducting, but not every fintype is equal to a disjoint union of two smaller fintypes.</p>



<a name="235558041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558041">(Apr 21 2021 at 18:21)</a>:</h4>
<p>I am still not convinced we can define dimension without picking a basis. For all I know in a Noetherian F-vector space there are flags of arbitrarily large finite length.</p>



<a name="235558045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558045">(Apr 21 2021 at 18:21)</a>:</h4>
<p>That's like Noetherian induction in algebraic geometry, yes</p>



<a name="235558127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558127">(Apr 21 2021 at 18:22)</a>:</h4>
<p>All proper subtypes ok =&gt; type ok</p>



<a name="235558250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558250">(Apr 21 2021 at 18:23)</a>:</h4>
<p>Maybe the right proof is to figure out exterior powers and than obtain invariance of dimension as a corollary?</p>



<a name="235558292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558292">(Apr 21 2021 at 18:23)</a>:</h4>
<p>When you define determinant by a formula, you don't use that all bases have the same size at all, you just define</p>



<a name="235558363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558363">(Apr 21 2021 at 18:24)</a>:</h4>
<p>I'm not sure how to do this in type theory. Coincidentally I was thinking about this today when formalising liquid stuff. We're supposed to be proving a theorem about fintypes by induction on size of the fintype but I realised that this was a bit terrifying because I would need to prove that the truth value of my statement about fintypes factored through the cardinality function.</p>



<a name="235558396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558396">(Apr 21 2021 at 18:24)</a>:</h4>
<p>Another characterization of f.d.v.s. is as the compact objects in the category of vector spaces</p>



<a name="235558398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558398">(Apr 21 2021 at 18:24)</a>:</h4>
<p>In the end I decided to switch to finsets.</p>



<a name="235558435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558435">(Apr 21 2021 at 18:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235558396">said</a>:</p>
<blockquote>
<p>Another characterization of f.d.v.s. is as the compact objects in the category of vector spaces</p>
</blockquote>
<p>This still doesn't give you a well-defined dimension without picking a basis.</p>



<a name="235558545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558545">(Apr 21 2021 at 18:25)</a>:</h4>
<p>The dimension is the trace of the identity morphism</p>



<a name="235558715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558715">(Apr 21 2021 at 18:27)</a>:</h4>
<p>sorry I'm just catching up on this discussion now</p>



<a name="235558813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558813">(Apr 21 2021 at 18:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235558545">said</a>:</p>
<blockquote>
<p>The dimension is the trace of the identity morphism</p>
</blockquote>
<p>does not work in char p :(</p>



<a name="235558918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558918">(Apr 21 2021 at 18:28)</a>:</h4>
<p>bah take Witt vectors</p>



<a name="235558976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235558976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235558976">(Apr 21 2021 at 18:28)</a>:</h4>
<p>(obviously that's not a real suggestion, but I'm trying to come up with a basis-free definition like Kevin was asking)</p>



<a name="235559092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235559092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235559092">(Apr 21 2021 at 18:29)</a>:</h4>
<p>What if we define finite-dimensional as V -&gt; V** is surjective?</p>



<a name="235559241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235559241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235559241">(Apr 21 2021 at 18:30)</a>:</h4>
<p>What's wrong with the compact object definition?</p>



<a name="235560268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560268">(Apr 21 2021 at 18:38)</a>:</h4>
<p>There's this notion of a compact closed monoidal category where objects have duals. If you have some general closed monoidal category which also happens to be locally presentable (and maybe one needs some compatibility with the monoidal structure) is it not the case that the subcategory of compact objects is compact closed monoidal? I couldn't find anything along these lines on the nLab, but I'm sure something along these lines has been written down somewhere...</p>



<a name="235560645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560645">(Apr 21 2021 at 18:41)</a>:</h4>
<p>Oh, and you can define the dimension of a vector space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> as the Krull dimension of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mrow><mi mathvariant="normal">S</mi><mi mathvariant="normal">y</mi><mi mathvariant="normal">m</mi></mrow><mi>k</mi><mo>∗</mo></msubsup><mi>V</mi></mrow><annotation encoding="application/x-tex">\mathrm{Sym}_k^*V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.008926em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span><span class="mord mathrm">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.761926em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1362300000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="235560667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560667">(Apr 21 2021 at 18:41)</a>:</h4>
<p>(again, not a serious suggestion)</p>



<a name="235560700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560700">(Apr 21 2021 at 18:41)</a>:</h4>
<p>The problem with that definition is that a general Noetherian ring might have infinite Krull dimension.</p>



<a name="235560785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560785">(Apr 21 2021 at 18:42)</a>:</h4>
<p>Why is that a problem?</p>



<a name="235560959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235560959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235560959">(Apr 21 2021 at 18:44)</a>:</h4>
<p>The following seems to be (an overcomplicated) strategy:<br>
Step 1. If k is the field of real numbers, and V is a finite-dimensional vector space, then V is locally compact with respect to the weak topology defined by V*. Therefore, V has a unique Haar measure up to scaling. Define for an f: V -&gt; V its determinant to be the constant, on which it multiplies the Haar measure if f is in the connected component of GL(V), and negative that constant otherwise. Define tr(f)=d/dt det(1+tf) at 0.<br>
Step 2. If k is a field of complex numbers, then End_k(V) is a subspace of End_R(V). Define trace over k as half the trace over the reals.<br>
Step 3. If k is a ring Z[x1,...,xn], embed it into C and use step 2.<br>
Step 4. If k a ring of finite type over Z, use step 4, and then pass to colimits.</p>



<a name="235561090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561090">(Apr 21 2021 at 18:44)</a>:</h4>
<p>We don't even need to care about the sign of det, I guess</p>



<a name="235561223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561223">(Apr 21 2021 at 18:45)</a>:</h4>
<p>I would be happy with a construction over the reals and I can quite believe that you can then spread out. So my instinct is to look for the sneaky basis-choosing in step 1.</p>



<a name="235561459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561459">(Apr 21 2021 at 18:47)</a>:</h4>
<p>Ok, one issue is to prove V is Hausdorff aka that linear functions separate points of V.</p>



<a name="235561484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561484">(Apr 21 2021 at 18:47)</a>:</h4>
<p>Maybe it's hard to prove that V is locally compact? My model for a "bad" V is one which has linearly independent subsets of size n for all n but which is still Noetherian.</p>



<a name="235561731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561731">(Apr 21 2021 at 18:49)</a>:</h4>
<p>If we're defining V to be finite-dimensional if it's Noetherian then we need to rule out the possibility that there are Noetherian modules with arbitrary large ascending chains all of which are finite. This is what choosing the basis does for you -- you can show the basis is a concrete bound for the length of any chain. But a random Noetherian module can I think have arbitrarily large ascending chains -- there are infinite-dimensional Noetherian rings, right?</p>



<a name="235561999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235561999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235561999">(Apr 21 2021 at 18:51)</a>:</h4>
<p>Yeah I think there are examples by Nagata?</p>



<a name="235562033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235562033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235562033">(Apr 21 2021 at 18:51)</a>:</h4>
<p>Guess you can prove existence of linear functionals by just throwing in Zorn lemma and not caring.<br>
If we know that V* is finitely generated, then you can get a closed embedding V -&gt; R^n, hence V is locally compact. Not sure if that counts as picking a basis, more of a usage that V is a projective R-module.</p>



<a name="235562159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235562159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235562159">(Apr 21 2021 at 18:52)</a>:</h4>
<p>The thing I'm not so sure about is why det(1+tf) is differentiable</p>



<a name="235562434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235562434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235562434">(Apr 21 2021 at 18:54)</a>:</h4>
<p>Well, let's say that differentiability in V makes sense somehow and that we have an access to a smooth bump function \phi with integral 1. Then det(1+tf)= \int \phi(1+tf(x)) dx, which is smooth by some Analysis 2, I guess?</p>



<a name="235562823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235562823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235562823">(Apr 21 2021 at 18:57)</a>:</h4>
<p>I think that when it has got to this point it's just better to ask a constructivist/foundational person to prove that it can't be done without picking a basis, rather than trying to construct more elaborate arguments. My mental model of mathematics says that if you can't do it with easy stuff then you're never going to be doing it with Haar measure.</p>



<a name="235563387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235563387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stepan Nesterov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235563387">(Apr 21 2021 at 19:00)</a>:</h4>
<p>Well, it does sometimes happen that an elaborate argument for a simple fact is actually non-circular. There is a proof of the fundamental theorem of algebra using Gauss-Bonnet theorem: <a href="https://arxiv.org/abs/1106.0924">https://arxiv.org/abs/1106.0924</a><br>
There was also the proof using stochastic integration, I believe</p>



<a name="235567009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235567009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235567009">(Apr 21 2021 at 19:24)</a>:</h4>
<p>The sensible constructive definition of "V is finite dimensional" is "V is merely isomorphic to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">k^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> for some <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>". In mathlib the type for this is <code>trunc (Σ n : ℕ, V ≃ₗ[k] fin n → k)</code>. This is by definition a subsingleton but it still carries data. It's perfectly analogous to the definition of "A is a finite type", which is (equivalent to) "A merely bijects with <code>fin n</code> for some n" (even in Lean!).</p>
<p>So basically, as in real mathematics, if V is finite dimensional, then it has a basis, and you can use this basis in your constructions, <strong>provided</strong> that you then check that the choice of basis doesn't matter (this is part of <code>trunc</code>-elimination). For example if you want to define the dimension of a finite-dimensional vector space, you have to check that all bases have the same size. In other words, if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mi>m</mi></msup><mo>≅</mo><msup><mi>k</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">k^m \cong k^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m = n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>. This is not totally obvious but it's something we learn how to do. Again this is perfectly analogous to the cardinality of a finite type -- you have to check that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo><mo>≅</mo><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[m] \cong [n]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span> implies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m = n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>.</p>
<p>Returning to the definition of trace, consider the fact that if V is finite-dimensional then the evaluation map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>→</mo><msup><mi>V</mi><mrow><mo>∗</mo><mo>∗</mo></mrow></msup></mrow><annotation encoding="application/x-tex">V \to V^{**}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span> is an isomorphism. This is a subsingleton (a map has at most one two-sided inverse), so the second part of <code>trunc</code>-elimination is trivial and we can just assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> has a finite basis. So it suffices to check it for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">k^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> basically, which is straightforward. Same thing with the fact that the obvious map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>⊗</mo><msup><mi>V</mi><mo>∗</mo></msup><mo>→</mo><mi>H</mi><mi>o</mi><msub><mi>m</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V \otimes V^* \to Hom_k(V, V)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span> is an isomorphism when <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> is finite-dimensional, or the fact that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>⋀</mo><mi>n</mi></msup><mi>V</mi></mrow><annotation encoding="application/x-tex">\bigwedge^n V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.054302em;vertical-align:-0.25001em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋀</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> is one-dimensional for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>dim</mi><mo>⁡</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">n = \dim V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop">dim</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>.</p>



<a name="235570299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235570299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235570299">(Apr 21 2021 at 19:48)</a>:</h4>
<p>NB there are weaker definitions of "A is a finite set" for which the cardinality of A becomes noncomputable. For example knowing that A embeds in a finite set does not let you compute the cardinality of A -- any proposition embeds in <code>unit</code>, but computing the cardinality of a proposition means deciding if it's true or false. (Similarly knowing that A has a surjection from a finite set does not help.) By the same token, knowing that V embeds in a finite-dimensional vector space (or doesn't have an infinite independent set or whatever) doesn't let you compute the dimension of V.</p>



<a name="235586638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235586638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235586638">(Apr 21 2021 at 21:38)</a>:</h4>
<p>I see, so the issue is that we have a nonconstructive definition of finite-dimensional ("V is Noetherian") and then we're trying to do something which moves from the Prop world ("there exists a basis") to the Type world ("this is its size" / "this is a matrix").</p>



<a name="235804560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235804560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235804560">(Apr 23 2021 at 08:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235540774">said</a>:</p>
<blockquote>
<p>I'm late to the party but I'm extremely worried about trying to merge this into mathlib. Why working with matrices instead of endomorphisms? I think going down the mathematical road (first endomorphisms and then deduce results about matrices if they are needed somewhere) would be much cleaner.</p>
</blockquote>
<p>Thanks for the suggestion! I made that file to practice solving some lemmas for a uni project I have. Clearly, my approach is clumsy, but maybe some of the simple lemmas that I use could be added to mathlib to make calculations easier (so far I am trying to add simple lemmas to the data.matrix.basic file about dot_products and stuff like that).</p>



<a name="235804741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235804741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235804741">(Apr 23 2021 at 08:23)</a>:</h4>
<p>I do have a question though, do you think it would something desired to also add a section about vectors on C and operations with them? Like in my file I have a definition <code>vec_conj</code> and some lemmas with dot_product and norm_sq? Would those help mathlib and if so, where do they fit in?</p>



<a name="235805145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235805145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235805145">(Apr 23 2021 at 08:26)</a>:</h4>
<p>With <code>C</code> you mean the complex numbers?</p>



<a name="235805183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235805183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235805183">(Apr 23 2021 at 08:26)</a>:</h4>
<p>I think there is already a bunch of stuff for an "arbitrary" field that is <code>is_R_or_C</code>.</p>



<a name="235805231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235805231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235805231">(Apr 23 2021 at 08:27)</a>:</h4>
<p>But I haven't used that much. Hopefully others can chime in.</p>



<a name="235805348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235805348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235805348">(Apr 23 2021 at 08:28)</a>:</h4>
<p>Yes, I meant the complex numbers.</p>



<a name="235805423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235805423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235805423">(Apr 23 2021 at 08:29)</a>:</h4>
<p>Oh, I will have a look into that then.</p>



<a name="235806511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235806511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235806511">(Apr 23 2021 at 08:39)</a>:</h4>
<p>But for that I think I would need to prove that <code>(V -&gt; C)</code> is an instance of <code>is_R_or_C</code>, with V an indexing type.</p>



<a name="235806695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235806695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235806695">(Apr 23 2021 at 08:40)</a>:</h4>
<p>No, that won't work. The coefficients of a vector live in such a field, but the vector itself doesn't.</p>



<a name="235807954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235807954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235807954">(Apr 23 2021 at 08:54)</a>:</h4>
<p>Does it make sense to define a pi.star_ring which would provide <code>vec_conj</code> as <a href="https://leanprover-community.github.io/mathlib_docs/find/star">docs#star</a>?</p>



<a name="235808091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235808091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235808091">(Apr 23 2021 at 08:55)</a>:</h4>
<p>We already imbue pi types with most operations elementwise</p>



<a name="235808112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235808112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235808112">(Apr 23 2021 at 08:55)</a>:</h4>
<p>So doing the same for the star "operator" doesn't seem totally unreasonable</p>



<a name="235819311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235819311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235819311">(Apr 23 2021 at 10:37)</a>:</h4>
<p>I like it.</p>



<a name="235820124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235820124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235820124">(Apr 23 2021 at 10:46)</a>:</h4>
<p>I'll make the quick PR</p>



<a name="235821614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235821614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235821614">(Apr 23 2021 at 11:01)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7342">#7342</a></p>



<a name="235963871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235963871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235963871">(Apr 24 2021 at 11:38)</a>:</h4>
<p>I noticed that having a coercion from real-valued matrices to complex-valued matrices means that I need to write a lot of  explicit coercions<code>(M : matrix V V ℂ)</code>, but that makes reading difficult especially when I have equations like in line 248 from <a href="https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean">https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean</a> :</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="n">h₁</span> <span class="o">:</span> <span class="n">mul_vec</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="bp">•</span> <span class="n">v</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">•</span> <span class="n">w</span><span class="o">)</span> <span class="bp">=</span> <span class="n">mul_vec</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="bp">•</span> <span class="n">v</span><span class="o">)</span> <span class="bp">+</span> <span class="n">mul_vec</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">V</span> <span class="n">V</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">•</span> <span class="n">w</span><span class="o">),</span>
</code></pre></div>
<p>and I would like to transform this thing into a notation. Can I create a notation that depends on an input M of a certain type (matrix V V ℝ)?</p>



<a name="235964641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235964641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235964641">(Apr 24 2021 at 11:52)</a>:</h4>
<p>Sure --- just set up the notation, and it won't typecheck if you give it the wrong input. This is not something you really have to specify at the notation level.</p>



<a name="235964841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235964841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235964841">(Apr 24 2021 at 11:57)</a>:</h4>
<p>Are you sure you need the coercions at all?</p>



<a name="235964863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235964863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235964863">(Apr 24 2021 at 11:57)</a>:</h4>
<p>That is, can you state the lemmas for a more general case than \C which includes <code>\R</code>?</p>



<a name="235965030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235965030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235965030">(Apr 24 2021 at 12:00)</a>:</h4>
<p>I commend <code>is_R_or_C</code> to you!</p>



<a name="235965253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235965253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235965253">(Apr 24 2021 at 12:03)</a>:</h4>
<p>Well, my proofs  require the fact that I am using a matrix that is real-valued and my matrix-vector operations require that this matrix is coerced to a complex-valued operation. So that was my first idea, but I can adjust it.  What I wanted to try for now is something like this: (don't mind the notation, it will probably be changed to something more appropriate)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">m</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">n</span><span class="o">]</span>
<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">M</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="o">⟨</span><span class="n">M</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="mi">0</span><span class="o">⟩)⟩</span>

<span class="kd">notation</span> <span class="bp">`$`</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">m</span> <span class="n">n</span> <span class="n">ℂ</span><span class="o">)</span> <span class="c1">-- invalid notation declaration, contains reference to local variables</span>
</code></pre></div>
<p>But apparently this doesn't work.</p>



<a name="235965271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/235965271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#235965271">(Apr 24 2021 at 12:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235965030">said</a>:</p>
<blockquote>
<p>I commend <code>is_R_or_C</code> to you!</p>
</blockquote>
<p>I am exploring this idea as well, thank you! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="236085579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236085579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236085579">(Apr 25 2021 at 18:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="366674">Gabriel Moise</span> <a href="#narrow/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices/near/235471352">said</a>:</p>
<blockquote>
<p><a href="https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean">https://github.com/gabrielmoise/Lean-work/blob/master/symm_matrix.lean</a><br>
Yes, some of the lemmas are more general (delimitated them with comments) and would fit into the data.matrix.basic file</p>
</blockquote>
<p>I updated the file so that now it is hopefully up to a better standard. I'll probably try to PR some lemmas from there. Thanks for the help! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> (any other suggestion is more than welcomed)</p>



<a name="236085832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236085832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236085832">(Apr 25 2021 at 18:59)</a>:</h4>
<p>The <code>star_test</code> instance you have is provided for you if you import <code>algebra.star.pi</code></p>



<a name="236085970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236085970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236085970">(Apr 25 2021 at 19:01)</a>:</h4>
<p>Oh thanks for the PR you did then! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="236085982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236085982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236085982">(Apr 25 2021 at 19:01)</a>:</h4>
<p>Although from what I can tell you didn't end up using it anyway</p>



<a name="236086496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236086496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236086496">(Apr 25 2021 at 19:09)</a>:</h4>
<p>Yeah, I had two lemmas using the star instances, but I managed to avoid using them in the important theorems. But it was a good exercise.</p>



<a name="236087214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236087214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236087214">(Apr 25 2021 at 19:22)</a>:</h4>
<p>I think there's some glue missing between <code>is_R_or_C</code> and <code>has_star</code> that might help eventually</p>



<a name="236633171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236633171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Moise <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236633171">(Apr 29 2021 at 07:53)</a>:</h4>
<p>How can I specify that I am working on a ring structure that has <code>(1 : R) ≠ 0</code> i.e. that this is not a zero ring? </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">test</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">specify</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">]</span> <span class="o">:</span> <span class="bp">...</span>
</code></pre></div>



<a name="236633487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236633487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236633487">(Apr 29 2021 at 07:56)</a>:</h4>
<p><code>[nontrivial R]</code></p>



<a name="236633509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Eigenproperties%20of%20symmetric%20matrices/near/236633509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Eigenproperties.20of.20symmetric.20matrices.html#236633509">(Apr 29 2021 at 07:56)</a>:</h4>
<p>Which gives you access to <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_ne_one">docs#zero_ne_one</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>