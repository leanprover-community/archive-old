---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html">Tactics for noncommutative rings</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197487418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487418">(May 13 2020 at 22:55)</a>:</h4>
<p>In a commutative ring, I can prove identities using the <code>ring</code> tactic:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>


<p>The above identity actually holds in noncommutative rings too.  The <code>ring</code> tactic doesn't seem to be defined for such rings, but is there a way to have <code>ring</code> spit out the proof it came up with in the commutative case, so that I can re-use it in the noncommutative case?</p>



<a name="197487516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487516">(May 13 2020 at 22:56)</a>:</h4>
<p>I don't think so. The proof it comes up with might use identities that don't hold for noncommutative rings.</p>



<a name="197487564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487564">(May 13 2020 at 22:56)</a>:</h4>
<p>That's true.  But can I get a trace on what <code>ring</code> did anyway, just in case it did it the efficient way (not using the extra hypotheses)?</p>



<a name="197487588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487588">(May 13 2020 at 22:57)</a>:</h4>
<p>It won't work</p>



<a name="197487596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487596">(May 13 2020 at 22:57)</a>:</h4>
<p>I think if ring did supply traces it would likely be through <code>ring?</code>, e.g. <code>tidy</code> and <code>tidy?</code> do this</p>



<a name="197487609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487609">(May 13 2020 at 22:57)</a>:</h4>
<p>(which it doesn't, I think)</p>



<a name="197487621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487621">(May 13 2020 at 22:57)</a>:</h4>
<p>the proof <code>ring</code> comes up with is guaranteed not to work for noncommutative rings</p>



<a name="197487711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487711">(May 13 2020 at 22:58)</a>:</h4>
<p>because the normal form explicitly depends on typeclasses that require commutativity</p>



<a name="197487720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487720">(May 13 2020 at 22:58)</a>:</h4>
<p>That's unfortunate, but good to know.</p>



<a name="197487741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487741">(May 13 2020 at 22:58)</a>:</h4>
<p>You might be able to use <code>abel</code> to do the proof instead</p>



<a name="197487754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487754">(May 13 2020 at 22:58)</a>:</h4>
<p>Out of interest, can I get a trace anyway?</p>



<a name="197487760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487760">(May 13 2020 at 22:58)</a>:</h4>
<p>with <code>simp</code> to work on monomials</p>



<a name="197487774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487774">(May 13 2020 at 22:58)</a>:</h4>
<p>sure, you can <code>#print</code> any proof to see it</p>



<a name="197487791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487791">(May 13 2020 at 22:59)</a>:</h4>
<p>Ah, thanks, that's new to me!</p>



<a name="197487845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487845">(May 13 2020 at 22:59)</a>:</h4>
<p><code>abel</code> seems also to apply only to commutative rings?</p>



<a name="197487975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487975">(May 13 2020 at 23:00)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">rw</span> <span class="o">[</span><span class="n">mul_sub</span><span class="o">,</span> <span class="n">sub_mul</span><span class="o">],</span>
<span class="n">abel</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197487988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197487988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197487988">(May 13 2020 at 23:00)</a>:</h4>
<p>abel applies to additive groups</p>



<a name="197488005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488005">(May 13 2020 at 23:00)</a>:</h4>
<p>so if the human deals with multiplication then <code>abel</code> can do the addition</p>



<a name="197488031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488031">(May 13 2020 at 23:01)</a>:</h4>
<p>how do you #print the ring proof?</p>



<a name="197488045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488045">(May 13 2020 at 23:01)</a>:</h4>
<p>You have to use <code>theorem T</code> instead of <code>example</code>, and then <code>#print T</code> afterward</p>



<a name="197488058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488058">(May 13 2020 at 23:01)</a>:</h4>
<p>thanks!</p>



<a name="197488067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488067">(May 13 2020 at 23:01)</a>:</h4>
<p>(i should have figured that out, sorry)</p>



<a name="197488186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488186">(May 13 2020 at 23:03)</a>:</h4>
<p>Indeed, a really simple poor man's <code>noncomm_ring</code> is <code>simp only [add_mul, mul_add, sub_eq_add_neg, neg_mul, mul_neg]; abel</code></p>



<a name="197488201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488201">(May 13 2020 at 23:03)</a>:</h4>
<p>Perhaps noncommutative rings are easier to work with. What happens if you just apply distributivity until you can't, then apply associativity until you can't, and then use something like <code>ac_refl</code>?</p>



<a name="197488211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488211">(May 13 2020 at 23:03)</a>:</h4>
<p>Yeah, what Mario just said</p>



<a name="197488264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488264">(May 13 2020 at 23:04)</a>:</h4>
<p><code>simp</code> will almost work to close <code>abel</code> goals, except that it isn't smart enough to get negatives next to positives</p>



<a name="197488534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488534">(May 13 2020 at 23:08)</a>:</h4>
<p>Here the second proof works but the first doesn't</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>


<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">p</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">neg_mul_neg</span><span class="o">,</span> <span class="n">neg_mul_eq_mul_neg</span><span class="o">],</span>
<span class="n">abel</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">p</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">rw</span> <span class="o">[</span><span class="n">sub_mul</span><span class="o">,</span> <span class="n">mul_sub</span><span class="o">],</span>
<span class="n">abel</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197488583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488583">(May 13 2020 at 23:08)</a>:</h4>
<p>adding sub_mul and mul_sub to the simp list doesn't do it for me, I think you need to put them down in a smart order</p>



<a name="197488630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488630">(May 13 2020 at 23:09)</a>:</h4>
<p>oh i think one of my simp lemmas is backward</p>



<a name="197488693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488693">(May 13 2020 at 23:10)</a>:</h4>
<p>I didn't actually look up the names</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">p</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">neg_mul_eq_neg_mul_symm</span><span class="o">,</span> <span class="n">mul_neg_eq_neg_mul_symm</span><span class="o">],</span>
<span class="n">abel</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197488758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197488758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197488758">(May 13 2020 at 23:11)</a>:</h4>
<p>Oh <code>mul_assoc</code> should also be in the list</p>



<a name="197489169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197489169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197489169">(May 13 2020 at 23:15)</a>:</h4>
<p>Thanks!</p>



<a name="197489173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Tactics%20for%20noncommutative%20rings/near/197489173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Tactics.20for.20noncommutative.20rings.html#197489173">(May 13 2020 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> , you could stick this in your project somewhere and modify it as needed</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">meta</span> <span class="n">def</span> <span class="n">noncomm_ring</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">add_mul</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">neg_mul_eq_neg_mul_symm</span><span class="o">,</span> <span class="n">mul_neg_eq_neg_mul_symm</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span><span class="bp">;</span> <span class="n">abel</span><span class="o">]</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">p</span> <span class="o">(</span><span class="n">a₁</span> <span class="n">b₁</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="n">b₁</span> <span class="bp">-</span> <span class="n">a₂</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b₁</span> <span class="bp">-</span> <span class="n">b₂</span><span class="o">)</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a₁</span> <span class="bp">-</span> <span class="n">a₂</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">noncomm_ring</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>