---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html">lean in browser on classroom PC</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="306749668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306749668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306749668">(Oct 28 2022 at 21:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306577">Matthew Ballard</span> <a href="#narrow/stream/113489-new-members/topic/notation.20names/near/305211671">said</a>:</p>
<blockquote>
<ul>
<li>Sign up for <a href="http://gitpod.io">GitPod</a></li>
<li>Make a <em>blank</em> repo for your notes at GitHub </li>
<li>Add <a href="https://github.com/leanprover-community/lean-liquid/blob/master/.gitpod.yml">this</a> yaml file to it (you can delete the attempt to run <code>get-cache.sh</code>)</li>
<li>Navigate to <code>gitpod.io/#https://github.com/$USER/$REPO</code></li>
<li>Run <code>elan self update</code> </li>
<li>Run <code>leanproject new</code></li>
</ul>
</blockquote>
<p>Thanks!  This worked okay, except that it told me I needed to run <code>elan default stable</code> before <code>leanproject new</code>.  Unfortunately, when I actually got to the classroom and tried to run it there and load a mathlib file, it gave me a bunch of out of memory errors.  At first I thought maybe the classroom PC wasn't very powerful, but now I'm getting the same errors on my workstation:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">excessive</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">detected</span> <span class="n">at</span> <span class="bp">'</span><span class="n">replace'</span> <span class="o">(</span><span class="n">potential</span> <span class="n">solution</span><span class="o">:</span> <span class="n">increase</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">threshold</span><span class="o">)</span>
</code></pre></div>
<p>any ideas?</p>



<a name="306749777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306749777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306749777">(Oct 28 2022 at 21:08)</a>:</h4>
<p>22 messages were moved here from <a class="stream-topic" data-stream-id="113489" href="/#narrow/stream/113489-new-members/topic/notation.20names">#new members &gt; notation names</a> by <span class="user-mention silent" data-user-id="381187">Mike Shulman</span>.</p>



<a name="306756845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306756845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306756845">(Oct 28 2022 at 21:59)</a>:</h4>
<p><a href="#narrow/stream/113488-general/topic/lean.20in.20gitpod.3A.20excessive.20memory.20consumption">This</a> seems relevant. To clarify, you did the same steps on the classroom PC and your home machine?</p>



<a name="306762741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306762741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306762741">(Oct 28 2022 at 22:51)</a>:</h4>
<p>Yes, same thing.  It doesn't seem to save the leanproject configuration; every time I open it up it has to re-run <code>leanpkg configure</code>.  Then when I open up a file that imports something from mathlib, it spins for a while and I get the "excessive memory consumption" error.</p>



<a name="306762756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306762756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306762756">(Oct 28 2022 at 22:51)</a>:</h4>
<p>Restarting the tab doesn't help.</p>



<a name="306765132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306765132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306765132">(Oct 28 2022 at 23:16)</a>:</h4>
<p>That yaml file is a bad template to start from</p>



<a name="306765215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306765215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306765215">(Oct 28 2022 at 23:17)</a>:</h4>
<p>Try this one: <a href="https://github.com/eric-wieser/lean-graded-rings/blob/master/.gitpod.yml">https://github.com/eric-wieser/lean-graded-rings/blob/master/.gitpod.yml</a></p>



<a name="306790122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/306790122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#306790122">(Oct 29 2022 at 05:52)</a>:</h4>
<p>Sounds like you're not only using mathlib, you're <em>compiling</em> mathlib on the fly. This takes a few hours...</p>



<a name="307204986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307204986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307204986">(Oct 31 2022 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Ok, I'm going to move these messages to the other topic too then.</p>



<a name="307205222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205222">(Oct 31 2022 at 21:26)</a>:</h4>
<p>Hmm, maybe I'm not.  I can't figure out how to do that, although I managed to do it before.</p>



<a name="307205251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205251">(Oct 31 2022 at 21:26)</a>:</h4>
<p>Whether or not you move things, my point was simply that if things grind to a halt the moment you import something from mathlib, then one natural diagnosis is that your computer is embarking on the 5 hour process of compiling mathlib from scratch, and this problem can often be fixed by doing something like <code>leanproject get-mathlib-cache</code> in the root directory of the project, which downloads fully compiled binaries from the internet.</p>



<a name="307205294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205294">(Oct 31 2022 at 21:26)</a>:</h4>
<p>Anyway, in the other topic Eric Weiser suggested a different <code>.gitpod.yml</code> which seems to have fixed the problem so far.</p>



<a name="307205417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205417">(Oct 31 2022 at 21:27)</a>:</h4>
<p>I think by doing exactly that and then somehow "saving" it, which wasn't happening before.</p>



<a name="307205524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205524">(Oct 31 2022 at 21:28)</a>:</h4>
<p>Mike, is this the move you wanted?</p>



<a name="307205585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307205585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307205585">(Oct 31 2022 at 21:28)</a>:</h4>
<p>Yes, thanks!  And now that we're here, thanks <span class="user-mention" data-user-id="310045">@Eric Wieser</span>, that seems to have done the trick.</p>



<a name="307214283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307214283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307214283">(Oct 31 2022 at 22:33)</a>:</h4>
<p>Note that it's not that the lean-liquid <code>.gitpod.yml</code> is bad; the problem is that all the things that make it not bad happen in the <code>get-cache.sh</code> script that you were told to discard!</p>



<a name="307214425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307214425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mike Shulman <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307214425">(Oct 31 2022 at 22:34)</a>:</h4>
<p>(-:</p>



<a name="307228211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/lean%20in%20browser%20on%20classroom%20PC/near/307228211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/lean.20in.20browser.20on.20classroom.20PC.html#307228211">(Nov 01 2022 at 00:39)</a>:</h4>
<p><span aria-label="tear" class="emoji emoji-1f972" role="img" title="tear">:tear:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>