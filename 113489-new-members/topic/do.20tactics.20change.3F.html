---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/do.20tactics.20change.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html">do tactics change?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197074017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074017">(May 10 2020 at 19:33)</a>:</h4>
<p>Are tactics ever modified? Could a tactics proof become invalid after an update that changes a detail about simp?</p>



<a name="197074031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074031">(May 10 2020 at 19:33)</a>:</h4>
<p>Yes</p>



<a name="197074128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074128">(May 10 2020 at 19:34)</a>:</h4>
<p>The <code>simp</code> algorithm itself is not modified, but tagging lemmas with <code>simp</code> happens all the time, and changes the way <code>simp</code> behaves. This is why it is not recommended to use <code>simp</code> in the middle of a proof, but only to close a goal, because the philosophy is that <code>simp</code> should only get better.</p>



<a name="197074209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074209">(May 10 2020 at 19:35)</a>:</h4>
<p>Okay. So form a perfectionist view a library should at least store the term-style proofs, because these can never become invalid.</p>



<a name="197074274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074274">(May 10 2020 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243838">Golol</span> <a href="#narrow/stream/113489-new-members/topic/(no.20topic)/near/197074209" title="#narrow/stream/113489-new-members/topic/(no.20topic)/near/197074209">said</a>:</p>
<blockquote>
<p>Okay. So form a perfectionist view a library should at least store the term-style proofs, because these can never become invalid.</p>
</blockquote>
<p>Tactics aren't the only things that change</p>
<p>but in practice I think mathlib likes to have compact term-mode proofs because they run faster</p>



<a name="197074292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074292">(May 10 2020 at 19:37)</a>:</h4>
<p>Ah okay, then nevermind. There probably isnt a risk to "break everything".</p>



<a name="197074584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074584">(May 10 2020 at 19:41)</a>:</h4>
<p>It's certainly possible to "break everything". For example if you changed the definition of <code>eq</code> you could probably get over 90% of mathlib to break</p>



<a name="197074631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074631">(May 10 2020 at 19:42)</a>:</h4>
<p>The way we deal with this is "if you break it you fix it". So you are incentivized not to make changes that cause large breakage unless you are personally motivated enough about the change to fix the breakage</p>



<a name="197074647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074647">(May 10 2020 at 19:43)</a>:</h4>
<p>(also, obviously there should be some kind of consensus that the change is a good one, especially if there is large breakage)</p>



<a name="197074707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074707">(May 10 2020 at 19:44)</a>:</h4>
<p>Much more commonly, a minor change breaks some 2 or 10 theorems and it's not a big deal to repair them as part of the PR that makes the change</p>



<a name="197074812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074812">(May 10 2020 at 19:47)</a>:</h4>
<p>What kind of changes are we talking about here, changes to the lean code itself or changes to lower level definitions and theorems?</p>



<a name="197074836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074836">(May 10 2020 at 19:48)</a>:</h4>
<p>What do you mean by lower level?</p>



<a name="197074868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074868">(May 10 2020 at 19:48)</a>:</h4>
<p>But it's not really true that term mode proofs are less prone to breakage than tactic proofs. One advantage of tactic proofs, especially those using "heavy" tactics like <code>simp</code>, <code>ring</code> or <code>finish</code> is that they don't care too much about the form of the goal statement, and can ride along with many kinds of simple changes to the library, while term proofs are pretty directly tied to the exact form of all the statements that were used. So something like changing the order of arguments, changing typeclass instances, removing an unnecessary argument are all more likely to break a term mode proof than a tactic proof</p>



<a name="197074902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074902">(May 10 2020 at 19:49)</a>:</h4>
<p>The price "heavy" tactics pay for their flexibility is that they tend to be slower, because you don't know in advance what the proof is going to look like</p>



<a name="197074968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074968">(May 10 2020 at 19:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/113489-new-members/topic/do.20tactics.20change.3F/near/197074836" title="#narrow/stream/113489-new-members/topic/do.20tactics.20change.3F/near/197074836">said</a>:</p>
<blockquote>
<p>What do you mean by lower level?</p>
</blockquote>
<p>Maybe someone changes a detail about the definition of a Ring (bad example) and some theorem breaks. But I was more interested in changes to the code that verifies a term-style proof.</p>



<a name="197074978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074978">(May 10 2020 at 19:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243838">Golol</span> <a href="#narrow/stream/113489-new-members/topic/do.20tactics.20change.3F/near/197074812" title="#narrow/stream/113489-new-members/topic/do.20tactics.20change.3F/near/197074812">said</a>:</p>
<blockquote>
<p>What kind of changes are we talking about here, changes to the lean code itself or changes to lower level definitions and theorems?</p>
</blockquote>
<p>Changes to mathlib (the library of proven results in lean) are much more common than changes to elaboration or C++ details like that</p>



<a name="197074988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197074988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197074988">(May 10 2020 at 19:51)</a>:</h4>
<p>and we have to be pretty conservative about C++ changes exactly because they tend to have large breakage</p>



<a name="197075045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075045">(May 10 2020 at 19:53)</a>:</h4>
<p>It "helps" that the person who was mostly responsible for writing that code has left to work on lean 4 so no one else wants to touch it</p>



<a name="197075057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075057">(May 10 2020 at 19:53)</a>:</h4>
<p>and lean 4 is definitely "major breakage"</p>



<a name="197075170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075170">(May 10 2020 at 19:56)</a>:</h4>
<p>Oh that sounds like transferring will be a mess lol.</p>



<a name="197075175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075175">(May 10 2020 at 19:56)</a>:</h4>
<p>we'll cross that bridge when we come to it</p>



<a name="197075197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075197">(May 10 2020 at 19:57)</a>:</h4>
<p>I just noticed I was basically spamming tactics till it clicks in the natural number game. If the way tactics apply themselves changed slightly my proofs could be wrong :D.</p>



<a name="197075253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075253">(May 10 2020 at 19:58)</a>:</h4>
<p>that's because NNG doesn't teach how to write structured proofs</p>



<a name="197075260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075260">(May 10 2020 at 19:59)</a>:</h4>
<p>if you submitted a proof like that to mathlib it would be excoriated (probably by me)</p>



<a name="197075336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075336">(May 10 2020 at 20:00)</a>:</h4>
<p>The easiest thing to start with is to always use <code>{ }</code> around the branches after a tactic that creates multiple subgoals</p>



<a name="197075682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075682">(May 10 2020 at 20:10)</a>:</h4>
<p>Users can pick up good habits later :P</p>



<a name="197075932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197075932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197075932">(May 10 2020 at 20:17)</a>:</h4>
<p>Actually, it shouldn't be too bad to introduce it early in NNG, emphasizing that it's optional; I'm sure there are some people who like their proofs to look professional but they can't use <code>{ }</code> if it is never even mentioned to exist.</p>



<a name="197076079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/do%20tactics%20change%3F/near/197076079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/do.20tactics.20change.3F.html#197076079">(May 10 2020 at 20:19)</a>:</h4>
<p>This discussion about <code>{ }</code> is cycling again...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>