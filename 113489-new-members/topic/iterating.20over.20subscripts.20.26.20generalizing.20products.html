---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html">iterating over subscripts & generalizing products</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201899095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899095">(Jun 24 2020 at 20:24)</a>:</h4>
<p>So if I want to prove a statement like <code>(a₁ * a₂ * ... * a_n)⁻¹  = a_n⁻¹ *...*a₂⁻¹  *a₁⁻¹</code>, how would I write it out?</p>



<a name="201899190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899190">(Jun 24 2020 at 20:25)</a>:</h4>
<p>check out <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.prod">docs#finset.prod</a></p>



<a name="201899275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aniruddh Agarwal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899275">(Jun 24 2020 at 20:26)</a>:</h4>
<p>Jalex beat me to it :P</p>



<a name="201899281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899281">(Jun 24 2020 at 20:26)</a>:</h4>
<p>it has many useful lemmas :)</p>



<a name="201899348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899348">(Jun 24 2020 at 20:27)</a>:</h4>
<p>you can win the race next time if you use the linkifier</p>



<a name="201899789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899789">(Jun 24 2020 at 20:30)</a>:</h4>
<p>ah this won't work, finset.prod is about commutative multiplication</p>



<a name="201899968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201899968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201899968">(Jun 24 2020 at 20:32)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/inv_prod">docs#inv_prod</a> ?</p>



<a name="201900062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900062">(Jun 24 2020 at 20:33)</a>:</h4>
<p>that looks like the theorem alena asked about</p>



<a name="201900119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aniruddh Agarwal <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900119">(Jun 24 2020 at 20:34)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.prod">docs#list.prod</a></p>



<a name="201900139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900139">(Jun 24 2020 at 20:34)</a>:</h4>
<p>Yeah I'm trying to prove it</p>



<a name="201900262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900262">(Jun 24 2020 at 20:35)</a>:</h4>
<p>list.prod takes care of the product, but I still don't get how to iterate over subscripts. Is there some list constructor for that?</p>



<a name="201900353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900353">(Jun 24 2020 at 20:36)</a>:</h4>
<p><code>(list.map a (list.range n))</code>, where <code>(a : ℕ → G)</code> and <code>G</code> is your group. I don't think we have something like python list comprehensions, if that's what you're asking</p>



<a name="201900604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900604">(Jun 24 2020 at 20:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">:</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">d</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">c</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">a</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">by</span> <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">mul_inv&#39;</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span> <span class="o">}</span>
</code></pre></div>



<a name="201900617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900617">(Jun 24 2020 at 20:38)</a>:</h4>
<p>I don't know exactly how to phrase my question haha sorry, though I do think what you gave me is what I'm looking for</p>



<a name="201900666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900666">(Jun 24 2020 at 20:39)</a>:</h4>
<p>I'm trying to solve it for all n so it's an induction type proof</p>



<a name="201900694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900694">(Jun 24 2020 at 20:39)</a>:</h4>
<p>Gonna have to tinker with the list.map thing</p>



<a name="201900786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900786">(Jun 24 2020 at 20:40)</a>:</h4>
<p>Do you have an example of the place you need to do it at in a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="201900886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201900886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201900886">(Jun 24 2020 at 20:41)</a>:</h4>
<p>Like the proof itself? It's just an exercise, I'm trying to go through Dummit and Foote and prove basic stuff</p>



<a name="201901007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901007">(Jun 24 2020 at 20:42)</a>:</h4>
<p>I think this is mathematically the right statement</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span>
<span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">map</span> <span class="n">a</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">))</span><span class="bp">.</span><span class="n">prod</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">range</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">reverse</span><span class="o">)</span><span class="bp">.</span><span class="n">prod</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</code></pre></div>



<a name="201901041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901041">(Jun 24 2020 at 20:42)</a>:</h4>
<p>From what I've learned on this channel is that statements about general <code>a_1, ... a_i, ..., a_n</code> aren't very Lean friendly</p>



<a name="201901114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901114">(Jun 24 2020 at 20:43)</a>:</h4>
<p>Oof okay, good to know</p>



<a name="201901151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901151">(Jun 24 2020 at 20:43)</a>:</h4>
<p>I could be totally wrong though.</p>



<a name="201901279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901279">(Jun 24 2020 at 20:44)</a>:</h4>
<p>i think working with a list is slightly harder than working with a finset, but i think working with lists in lean is not much more awkward than working with lists in haskell</p>



<a name="201901294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901294">(Jun 24 2020 at 20:44)</a>:</h4>
<p>Its probably best when doing problems like this to use a list <code>L</code> and do induction on <code>L</code> instead of indices directly.</p>



<a name="201901338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901338">(Jun 24 2020 at 20:45)</a>:</h4>
<p>Oh no this one is gonna be really tedious</p>



<a name="201901397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901397">(Jun 24 2020 at 20:45)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> so like, append elements?</p>



<a name="201901486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901486">(Jun 24 2020 at 20:46)</a>:</h4>
<p>I don't really know how that would look</p>



<a name="201901533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901533">(Jun 24 2020 at 20:46)</a>:</h4>
<p>I think Alex is suggesting that the statement you want to prove is literally <a href="https://leanprover-community.github.io/mathlib_docs/find/inv_prod">docs#inv_prod</a></p>



<a name="201901692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901692">(Jun 24 2020 at 20:48)</a>:</h4>
<p>Ahh okay I see</p>



<a name="201901729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901729">(Jun 24 2020 at 20:48)</a>:</h4>
<p>here's the statement, for anyone that doesn't follow the link</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">inv_prod</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">l</span><span class="bp">.</span><span class="n">prod</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">,</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">l</span><span class="bp">.</span><span class="n">reverse</span><span class="o">)</span><span class="bp">.</span><span class="n">prod</span>
</code></pre></div>



<a name="201901774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901774">(Jun 24 2020 at 20:48)</a>:</h4>
<p>So yeah the lemma is in mathlib, but you should totally try and prove it still!<br>
Yes, lists are defined as an inductive type, so the empty list is a list, and if <code>L</code> is a list and <code>a</code> is an element, then <code>a :: L</code> is also a list, this notation means append <code>a</code> to the start of <code>L</code>, so <code>a :: [b,c]</code> is <code>[a, b, c]</code>, or this is <code>a :: b :: c :: []</code>.<br>
Because its an inductive type doing the induction on lists of different lengths works well, just call <code>induction L</code> to split into these two cases the empty list and <code>a :: L</code> for some <code>a</code>  and <code>L</code>.</p>



<a name="201901971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201901971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201901971">(Jun 24 2020 at 20:50)</a>:</h4>
<p>In this case would it be a good idea to start with an <code>a :: []</code> appended already since the statement doesn't really mean anything on an empty list? Or is that a perfectly valid thing to do?</p>



<a name="201902006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902006">(Jun 24 2020 at 20:51)</a>:</h4>
<p><code>list.prod</code> is defined for the empty list</p>



<a name="201902032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902032">(Jun 24 2020 at 20:51)</a>:</h4>
<p>and your theorem is true for it</p>



<a name="201902074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902074">(Jun 24 2020 at 20:51)</a>:</h4>
<p>Okay yeah fair</p>



<a name="201902078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902078">(Jun 24 2020 at 20:51)</a>:</h4>
<p>Well the advantage of the empty list is that a lot of statements are trivial for that, compared to <code>a :: []</code>, <code>[].prod =1 </code> for example.<br>
BTW the setup for induction would be like this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">inv_prod</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">L</span><span class="bp">.</span><span class="n">prod</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">L</span><span class="bp">.</span><span class="n">reverse</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">.</span><span class="n">prod</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">L</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">sorry</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">sorry</span> <span class="o">},</span>
<span class="kn">end</span>
</code></pre></div>



<a name="201902152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alena Gusakov <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902152">(Jun 24 2020 at 20:52)</a>:</h4>
<p>Gotcha, thank you!</p>



<a name="201902449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902449">(Jun 24 2020 at 20:55)</a>:</h4>
<p>If you want to start from a black box and work backwards, <code>simp</code> can do all the bits, and <code>squeeze_simp</code> will tell you what <code>simp</code> found</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">lemma</span> <span class="n">inv_prod</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">prod</span> <span class="n">l</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">list</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">l</span><span class="bp">.</span><span class="n">reverse</span><span class="o">)</span><span class="bp">.</span><span class="n">prod</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">l</span> <span class="k">with</span> <span class="n">hd</span> <span class="n">tl</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">squeeze_simp</span><span class="o">,</span>
  <span class="n">squeeze_simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span>
<span class="kn">end</span>
</code></pre></div>



<a name="201902485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902485">(Jun 24 2020 at 20:55)</a>:</h4>
<p><code>fin</code> version seems more natural to me</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">big_operators</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">fintype</span><span class="bp">.</span><span class="n">card</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span>

<span class="kn">example</span> <span class="o">:</span>
<span class="o">(</span><span class="err">∏</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="n">i</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="err">∏</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="n">i</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">k</span> <span class="n">hk</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">fin</span><span class="bp">.</span><span class="n">prod_univ_succ</span><span class="o">,</span> <span class="n">mul_inv</span><span class="o">],</span>
<span class="kn">end</span>
</code></pre></div>



<a name="201902642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902642">(Jun 24 2020 at 20:57)</a>:</h4>
<p>It doesn't have the reversal going on, though</p>



<a name="201902712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902712">(Jun 24 2020 at 20:57)</a>:</h4>
<p>you're proving an easier lemma</p>



<a name="201902736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902736">(Jun 24 2020 at 20:58)</a>:</h4>
<p>Yeah, using comm</p>



<a name="201902781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902781">(Jun 24 2020 at 20:58)</a>:</h4>
<p>you're taking an unordered product of elements of a commutative group</p>



<a name="201902860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902860">(Jun 24 2020 at 20:58)</a>:</h4>
<p>And Prod requires comm_monoid</p>



<a name="201902889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902889">(Jun 24 2020 at 20:59)</a>:</h4>
<p>right, that's why we were not using the big operator stuff</p>



<a name="201902901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902901">(Jun 24 2020 at 20:59)</a>:</h4>
<p>Gotcha</p>



<a name="201902975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201902975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201902975">(Jun 24 2020 at 20:59)</a>:</h4>
<p>it might not be hard to define big operators over lists, but afaik nobody has done it</p>



<a name="201903758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201903758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201903758">(Jun 24 2020 at 21:06)</a>:</h4>
<p>Patrick is fond of recommending the paper on Coq's big operator library: <a href="https://hal.inria.fr/inria-00331193/PDF/main.pdf">https://hal.inria.fr/inria-00331193/PDF/main.pdf</a></p>



<a name="201907701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/iterating%20over%20subscripts%20%26%20generalizing%20products/near/201907701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/iterating.20over.20subscripts.20.26.20generalizing.20products.html#201907701">(Jun 24 2020 at 21:44)</a>:</h4>
<p>This works for doing list.prod through notation (though there's an embarrassingly simple sorry)</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="n">localized</span> <span class="s2">&quot;notation `∏` binders ` in ` l `, ` r:(scoped:67 f, (list.map f l).prod) := r&quot;</span> <span class="k">in</span> <span class="n">big_list_prod</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span>

<span class="kn">open</span> <span class="n">list</span>
<span class="n">open_locale</span> <span class="n">big_list_prod</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">range_zero</span> <span class="o">:</span> <span class="n">range</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">nil</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span>
<span class="kn">lemma</span> <span class="n">range_succ</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">range</span> <span class="n">n</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">::</span> <span class="n">range</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span>
<span class="err">∏</span> <span class="n">i</span> <span class="k">in</span> <span class="n">range</span> <span class="n">n</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="n">i</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="err">∏</span> <span class="n">i</span> <span class="k">in</span> <span class="o">(</span><span class="n">range</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">reverse</span><span class="o">,</span> <span class="n">a</span> <span class="n">i</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">hd</span><span class="o">],</span>
<span class="kn">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>