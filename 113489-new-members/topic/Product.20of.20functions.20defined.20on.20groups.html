---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html">Product of functions defined on groups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201484475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201484475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201484475">(Jun 20 2020 at 16:14)</a>:</h4>
<p>Does the standard libary already contain anything like:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">geometry</span><span class="bp">.</span><span class="n">manifold</span><span class="bp">.</span><span class="n">real_instances</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">group</span><span class="bp">.</span><span class="n">defs</span>

 <span class="n">def</span> <span class="n">maps_mul</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">g</span> <span class="n">a</span>

 <span class="kn">instance</span> <span class="n">mul_maps</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">maps_mul</span><span class="bp">⟩</span>
</code></pre></div>


<p>?</p>



<a name="201484619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201484619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201484619">(Jun 20 2020 at 16:17)</a>:</h4>
<p>I mean Lean does not say writing <code>f*g</code> is wrong but also does not find the definition for me</p>



<a name="201484810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201484810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201484810">(Jun 20 2020 at 16:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups/near/201484619">said</a>:</p>
<blockquote>
<p>I mean Lean does not say writing <code>f*g</code> is wrong </p>
</blockquote>
<p>what are your imports? does</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="n">mul_maps</span>
<span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span>
<span class="n">has_mul</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</code></pre></div>


<p>work for you?</p>



<a name="201484886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201484886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201484886">(Jun 20 2020 at 16:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups/near/201484810">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups/near/201484619">said</a>:</p>
<blockquote>
<p>I mean Lean does not say writing <code>f*g</code> is wrong </p>
</blockquote>
<p>what are your imports? does</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="n">mul_maps</span>
<span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span>
<span class="n">has_mul</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</code></pre></div>


<p>work for you?</p>
</blockquote>
<p>Yes it does!</p>



<a name="201484988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201484988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201484988">(Jun 20 2020 at 16:24)</a>:</h4>
<p>including your imports is really important to get help on questions like this</p>



<a name="201485008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485008">(Jun 20 2020 at 16:25)</a>:</h4>
<p>did <code>apply_instance</code> tell you the name you were looking for? if not, does <code>suggest</code>?</p>



<a name="201485155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485155">(Jun 20 2020 at 16:28)</a>:</h4>
<p>Should I write <code>suggest</code> instead of <code>apply_instance</code>?</p>



<a name="201485221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485221">(Jun 20 2020 at 16:30)</a>:</h4>
<p>my understanding is that suggest is in an interactive tactic which finds stuff that looks like your goal and tells them to you in a list,</p>



<a name="201485233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485233">(Jun 20 2020 at 16:30)</a>:</h4>
<p>while apply_instance will close goals using typeclass inference, but won't tell you what it found</p>



<a name="201485265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485265">(Jun 20 2020 at 16:31)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">def</span>  <span class="n">foo</span>
<span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span>
<span class="n">has_mul</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>

<span class="bp">#</span><span class="kn">print</span> <span class="n">foo</span>
</code></pre></div>


<p>will tell you where the instance is coming from.</p>



<a name="201485388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485388">(Jun 20 2020 at 16:34)</a>:</h4>
<p>Great thanks! It looks to be a general definition for all algebraic structures</p>



<a name="201485602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201485602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201485602">(Jun 20 2020 at 16:39)</a>:</h4>
<p>Mario suggested this pattern recently, which is a little shorter:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">pi_instances</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span>
<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="k">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="o">(</span><span class="n">A</span> <span class="bp">→</span> <span class="n">G</span><span class="o">))</span>
</code></pre></div>



<a name="201486184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Product%20of%20functions%20defined%20on%20groups/near/201486184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Product.20of.20functions.20defined.20on.20groups.html#201486184">(Jun 20 2020 at 16:50)</a>:</h4>
<p>Definitely shorter, but definitely more magical and harder to remember :)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>