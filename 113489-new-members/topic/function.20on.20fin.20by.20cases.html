---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html">function on fin by cases</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220049307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220049307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220049307">(Dec 15 2020 at 22:04)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="mi">1</span> <span class="mi">0</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">:=</span> <span class="mi">1</span>
</code></pre></div>
<p>This doesn't work... <code>the following cases are missing:
τ ⟨(succ _).succ, _⟩ ⟨_, _⟩</code>.</p>
<p>What's a better way to define a finite function? (The other way I know would be using nested <code>ite</code>...)</p>



<a name="220049896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220049896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220049896">(Dec 15 2020 at 22:10)</a>:</h4>
<p>You can just add a final case which would never be matched</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="n">_</span> <span class="n">_</span> <span class="o">:=</span> <span class="mi">1</span>
</code></pre></div>



<a name="220050324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220050324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220050324">(Dec 15 2020 at 22:12)</a>:</h4>
<p>Thanks! Why do we need the<code>⟨0,_⟩</code> as opposed to just <code>0</code>?</p>



<a name="220050337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220050337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220050337">(Dec 15 2020 at 22:12)</a>:</h4>
<p><code>by linarith</code> also works for the final case, usually</p>



<a name="220050373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220050373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220050373">(Dec 15 2020 at 22:12)</a>:</h4>
<p>Since the hypotheses at that point are a contradiction</p>



<a name="220050446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220050446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220050446">(Dec 15 2020 at 22:13)</a>:</h4>
<p><span class="user-mention" data-user-id="347475">@Bjørn Kjos-Hanssen</span>, the <code>_</code> matches the proof that <code>0 &lt; 2</code></p>



<a name="220050927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220050927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220050927">(Dec 15 2020 at 22:17)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> thanks ---</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="kd">by</span> <span class="n">linarith</span>
</code></pre></div>
<p>doesn't seem to work in this case</p>



<a name="220051033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051033">(Dec 15 2020 at 22:18)</a>:</h4>
<p>I meant replace the <code>1</code> with <code>by linarith</code></p>



<a name="220051044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051044">(Dec 15 2020 at 22:18)</a>:</h4>
<p>Not the whole line</p>



<a name="220051125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051125">(Dec 15 2020 at 22:18)</a>:</h4>
<p>But using that instead of <code>1</code> only really matters for the case when you don't have any default value available, which this isn't</p>



<a name="220051155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051155">(Dec 15 2020 at 22:19)</a>:</h4>
<p>Why not just</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">_</span> <span class="n">_</span> <span class="o">:=</span> <span class="mi">1</span>
</code></pre></div>
<p>?</p>



<a name="220051309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051309">(Dec 15 2020 at 22:20)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  okay, in this specific case yes</p>



<a name="220051360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051360">(Dec 15 2020 at 22:21)</a>:</h4>
<p>okay I'll look into how to import <code>linarith</code> ...</p>



<a name="220051491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220051491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220051491">(Dec 15 2020 at 22:22)</a>:</h4>
<p>I think to use linarith to not give a value for the impossible cases you need two matches</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="n">h</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="n">_</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">linarith</span>
<span class="bp">|</span> <span class="n">_</span> <span class="o">⟨</span><span class="n">g</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">linarith</span>
</code></pre></div>



<a name="220052394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220052394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220052394">(Dec 15 2020 at 22:30)</a>:</h4>
<p>Or, to avoid linarith and see what's going on:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">1</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">,</span> <span class="n">hn</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">not_lt_of_le</span> <span class="n">n.zero_le</span> <span class="o">(</span><span class="n">add_lt_iff_neg_right.mp</span> <span class="n">hn</span><span class="o">))</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">m</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">,</span> <span class="n">hm</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">not_lt_of_le</span> <span class="n">m.zero_le</span> <span class="o">(</span><span class="n">add_lt_iff_neg_right.mp</span> <span class="n">hm</span><span class="o">))</span>
</code></pre></div>



<a name="220052442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220052442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220052442">(Dec 15 2020 at 22:31)</a>:</h4>
<p>There might be a cleaner term-mode proof, but that's how I thought about it</p>



<a name="220053335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220053335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220053335">(Dec 15 2020 at 22:37)</a>:</h4>
<p><code>absurd hn dec_trivial</code> works as a term mode replacement of <code>by linarith</code></p>



<a name="220053509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220053509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220053509">(Dec 15 2020 at 22:39)</a>:</h4>
<p>Maybe dec_trivial counts as a tactic <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="220054772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220054772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220054772">(Dec 15 2020 at 22:51)</a>:</h4>
<p>Thanks all for the at least four different solutions! Maybe this is a different topic but is there a way to do something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span>
<span class="k">let</span> <span class="n">q_ε</span> <span class="o">:=</span> <span class="mi">0</span> <span class="k">in</span>
<span class="bp">|</span> <span class="o">⟨</span> <span class="n">q_ε</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span><span class="n">_</span><span class="o">⟩</span> <span class="o">:=</span> <span class="mi">1</span>
<span class="c1">-- omitting the rest</span>
</code></pre></div>
<p>?</p>



<a name="220055073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055073">(Dec 15 2020 at 22:54)</a>:</h4>
<p>What will you be doing with this tau definition? <code>let ... in ... </code> might not have the best structure for proving things about it.</p>



<a name="220055112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055112">(Dec 15 2020 at 22:54)</a>:</h4>
<p>Do you want to have this sort of structure to easily make the variants where you change the <code>q_eps</code>?</p>



<a name="220055158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055158">(Dec 15 2020 at 22:55)</a>:</h4>
<p>and what would the <code>rest</code> be?</p>



<a name="220055511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055511">(Dec 15 2020 at 22:58)</a>:</h4>
<p>I want to do something with say <code>fin 6</code> instead of <code>fin 2</code>, and then have each element of <code>fin 6</code> have a descriptive name... or maybe replace <code>fin 6</code> by a set or type defined in a different way, like <code>{apple, banana, orange, grape, plum, berry}</code></p>



<a name="220055590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055590">(Dec 15 2020 at 22:59)</a>:</h4>
<p>Using the numbers 0 through 5 does not give enough intuition in my intended use case</p>



<a name="220055686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055686">(Dec 15 2020 at 23:00)</a>:</h4>
<p>Yes, I also noticed that <code>let..in</code> is cumbersome for proofs.</p>



<a name="220055953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220055953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220055953">(Dec 15 2020 at 23:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.derive_fintype</span>

<span class="kd">@[derive [fintype, decidable_eq]</span><span class="o">]</span>
<span class="kd">inductive</span> <span class="n">bjorntype</span>
<span class="bp">|</span> <span class="n">apple</span>
<span class="bp">|</span> <span class="n">banana</span>
<span class="bp">|</span> <span class="n">orange</span>
<span class="bp">|</span> <span class="n">grape</span>
<span class="bp">|</span> <span class="n">plum</span>
<span class="bp">|</span> <span class="n">berry</span>

<span class="kn">open</span> <span class="n">bjorntype</span>

<span class="kd">def</span> <span class="n">τ</span> <span class="o">:</span> <span class="n">bjorntype</span> <span class="bp">→</span> <span class="n">bjorntype</span> <span class="bp">→</span> <span class="n">ℕ</span>
<span class="bp">|</span> <span class="n">berry</span> <span class="n">plum</span> <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">_</span> <span class="n">_</span> <span class="o">:=</span> <span class="mi">1</span>

<span class="k">#reduce</span> <span class="n">τ</span> <span class="n">berry</span> <span class="n">plum</span>
<span class="k">#reduce</span> <span class="n">τ</span> <span class="n">berry</span> <span class="n">berry</span>
</code></pre></div>



<a name="220056044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220056044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220056044">(Dec 15 2020 at 23:03)</a>:</h4>
<p>I'm not sure what you mean by <code>descriptive name</code></p>



<a name="220056190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220056190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bjørn Kjos-Hanssen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220056190">(Dec 15 2020 at 23:04)</a>:</h4>
<p>This looks great... yes by descriptive name I mean just something like this, <code>apple</code></p>



<a name="220056549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20on%20fin%20by%20cases/near/220056549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20on.20fin.20by.20cases.html#220056549">(Dec 15 2020 at 23:08)</a>:</h4>
<p>And you then have that your custom inductive type is isomorphic to <code>fin 6</code> via <a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.equiv_fin">docs#fintype.equiv_fin</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>