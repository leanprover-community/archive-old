---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html">What does it mean to "use Choice"?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201295239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ken Lee <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295239">(Jun 18 2020 at 16:48)</a>:</h4>
<p>In maths, we are often given a surjection <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>:</mo><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\pi : \alpha \to \beta</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>α</mi><mo>→</mo><mi>γ</mi></mrow><annotation encoding="application/x-tex">f : \alpha \to \gamma</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span> which preserves preimages of elements in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> and want to lift <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> to a map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>β</mi><mo>→</mo><mi>γ</mi></mrow><annotation encoding="application/x-tex">g : \beta \to \gamma</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span>. I've written what I believe is a faithful representation of the "mathematical argument" in Lean : </p>
<div class="codehilite"><pre><span></span><code><span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>
<span class="kn">theorem</span> <span class="n">quotient_exists_lift</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">v</span><span class="o">}</span> <span class="o">{</span><span class="n">γ</span> <span class="o">:</span> <span class="n">Sort</span> <span class="n">w</span><span class="o">}</span>
<span class="o">{</span><span class="n">π</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">γ</span><span class="o">}</span> <span class="o">(</span><span class="n">hπ</span> <span class="o">:</span> <span class="n">function</span><span class="bp">.</span><span class="n">surjective</span> <span class="n">π</span><span class="o">)</span>
<span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">π</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">π</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">γ</span><span class="o">,</span> <span class="n">g</span> <span class="err">∘</span> <span class="n">π</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">⟨</span>
  <span class="bp">λ</span> <span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">,</span> <span class="n">f</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">hπ</span> <span class="n">b</span><span class="o">),</span>
  <span class="n">funext</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span>
  <span class="n">hf</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">some</span> <span class="o">(</span><span class="n">hπ</span> <span class="o">(</span><span class="n">π</span> <span class="n">a</span><span class="o">)))</span> <span class="n">a</span> <span class="err">$</span> <span class="n">classical</span><span class="bp">.</span><span class="n">some_spec</span> <span class="o">(</span><span class="n">hπ</span> <span class="o">(</span><span class="n">π</span> <span class="n">a</span><span class="o">))</span>
<span class="bp">⟩</span>
</code></pre></div>


<p>My questions are : </p>
<ol>
<li>I have used <code>classical.some</code> in the proof, so does this count as having "used choice" as we say it in maths? </li>
<li>The second part of the constructor corresponds in the "mathematical argument" to checking the function is well-defined and "independent of choice of representative". Does this mean I have "not used choice" or is this just a coincidence in the language?</li>
<li>I understand that using <code>classical.choice</code> or any of its corollaries means I have to mark my theorems <code>noncomputable</code>. Is the reverse true and how is this related to when we have "used choice" in maths? In particular, since Lean did not complain that the above theorem is noncomputable, does it mean I have "not used choice"?</li>
</ol>



<a name="201295521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295521">(Jun 18 2020 at 16:50)</a>:</h4>
<p><code>definition</code> and <code>theorem</code> are treated differently here, I think.</p>



<a name="201295543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295543">(Jun 18 2020 at 16:50)</a>:</h4>
<ol>
<li>Yes. You can do <code>#print axioms quotient_exists_lift</code> to see</li>
</ol>



<a name="201295552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295552">(Jun 18 2020 at 16:50)</a>:</h4>
<p>If you <code>#print axioms quotient_exists_lift</code> -- nvm <del>Bryan</del> Bhavik's faster</p>



<a name="201295787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295787">(Jun 18 2020 at 16:52)</a>:</h4>
<p>So fast that I got <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> to post in my stead!</p>



<a name="201295795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295795">(Jun 18 2020 at 16:52)</a>:</h4>
<ol start="2">
<li>The second part of the constructor corresponds to showing that you've got an actual lift of f, rather than just any function <code>beta -&gt; gamma</code></li>
</ol>



<a name="201295947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201295947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201295947">(Jun 18 2020 at 16:53)</a>:</h4>
<p>Oops, sorry Bhavik...</p>



<a name="201296001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201296001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201296001">(Jun 18 2020 at 16:54)</a>:</h4>
<p>No worries!</p>



<a name="201296516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201296516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ken Lee <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201296516">(Jun 18 2020 at 16:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> <a href="#narrow/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F/near/201295543">said</a>:</p>
<blockquote>
<ol>
<li>Yes. You can do <code>#print axioms quotient_exists_lift</code> to see</li>
</ol>
</blockquote>
<p>I know that I have used <code>classical.choice</code>. What I meant to ask was whether this is exactly what we mean by "using choice" in maths. Sorry I should've worded this better.</p>



<a name="201296766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201296766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201296766">(Jun 18 2020 at 16:58)</a>:</h4>
<p>It depends on your exact foundational setup and interpretation of Prop, quantifiers etc.</p>



<a name="201297816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201297816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201297816">(Jun 18 2020 at 17:06)</a>:</h4>
<p>If you replace the existential quantifier in <code>hπ</code> and the conclusion by <code>trunc</code>, then you can prove this without axioms. But in classical foundations you can't distinguish between existential quantification and <code>trunc</code>.</p>



<a name="201297876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/What%20does%20it%20mean%20to%20%22use%20Choice%22%3F/near/201297876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/What.20does.20it.20mean.20to.20.22use.20Choice.22.3F.html#201297876">(Jun 18 2020 at 17:07)</a>:</h4>
<p>("without axioms" = maybe still using stuff like <code>funext</code>)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>