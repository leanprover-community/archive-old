---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Default.20alternative.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html">Default alternative</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="245937196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245937196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245937196">(Jul 14 2021 at 09:31)</a>:</h4>
<p>I want to define a map which takes certain values on a set of a type and takes garbage values on the complementary of the set. Is there a way to do this without requiring the target type to be inhabited and sending terms in the complementary of the set on the <code>default</code> term? I'd like to do this without requiring additional type classes</p>



<a name="245938781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245938781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245938781">(Jul 14 2021 at 09:49)</a>:</h4>
<p>What if the set and the target type are both empty?</p>



<a name="245939504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245939504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245939504">(Jul 14 2021 at 09:58)</a>:</h4>
<p>You're right, sorry, I missed an important detail. I am in the following situation: the domain is inhabited iff the codomain is.</p>



<a name="245939552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245939552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245939552">(Jul 14 2021 at 09:58)</a>:</h4>
<p>The domain is the base space of a vector bundle and the codomain is the total space</p>



<a name="245939587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245939587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245939587">(Jul 14 2021 at 09:59)</a>:</h4>
<p>You can always use <code>if nonempty domain then (assume x, sorry) else false.elim sorry</code> as your (noncomputable) implementation</p>



<a name="245941296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245941296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245941296">(Jul 14 2021 at 10:19)</a>:</h4>
<p>What is the difference between <code>inhabited</code> and <code>nonempty</code>?</p>



<a name="245941500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245941500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245941500">(Jul 14 2021 at 10:22)</a>:</h4>
<p>The former is in <code>Type u</code>, the latter is in <code>Prop</code></p>



<a name="245941563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245941563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245941563">(Jul 14 2021 at 10:23)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ite">docs#ite</a> requires a prop</p>



<a name="245941604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245941604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245941604">(Jul 14 2021 at 10:23)</a>:</h4>
<p>Ok thanks!</p>



<a name="245943461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245943461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245943461">(Jul 14 2021 at 10:46)</a>:</h4>
<p>I can see there is <code>nonempty_of_inhabited</code> but is there any <code>inhabited_of_nonempty</code>?</p>



<a name="245944104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245944104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245944104">(Jul 14 2021 at 10:55)</a>:</h4>
<p>Theres <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#inhabit">tactic#inhabit</a></p>



<a name="245944146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245944146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245944146">(Jul 14 2021 at 10:55)</a>:</h4>
<p>But also, it's very rare to need what you're asking for. If you have <code>h: nonempty T</code> instead of <code>h : inhabited T</code>, you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/classical.choice">docs#classical.choice</a> instead of <a href="https://leanprover-community.github.io/mathlib_docs/find/default">docs#default</a>.</p>



<a name="245944355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245944355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245944355">(Jul 14 2021 at 10:58)</a>:</h4>
<p>Ok thanks! Also it tells me that it cannot synthesize an instance for <code>decidable (nonempty B)</code> <code>B</code> is just a Type. Is this normal?</p>



<a name="245949354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245949354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245949354">(Jul 14 2021 at 11:54)</a>:</h4>
<p>I guess I'll need to do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">open</span> <span class="n">classical</span>
<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="kd">instance</span><span class="o">]</span> <span class="n">prop_decidable</span>
</code></pre></div>



<a name="245950583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245950583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245950583">(Jul 14 2021 at 12:06)</a>:</h4>
<p>Exactly, or you can write <code>open_locale classical</code> to do so in one line.</p>



<a name="245950956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245950956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245950956">(Jul 14 2021 at 12:11)</a>:</h4>
<p>Some more details: The reason we distinguish between <code>inhabited X</code> and <code>nonempty X</code> is that the former is strictly stronger intuitionistically: a term in <code>inhabited X</code> points to a specific element of <code>X</code>, while a term in <code>nonempty X</code> shows that it is contradictory to assume there are no elements of <code>X</code> at all. So going from <code>inhabited X</code> to <code>X</code> is easy, while going from <code>nonempty X</code> to <code>X</code> is not computable.</p>
<p>For example, for the type <code>X</code> of all <code>x : ℕ</code> such that either <code>x = 0</code> and the Riemann hypothesis doesn't hold, or <code>x = 1</code> and the Riemann hypothesis holds, it's very difficult to give an example of <code>X</code>, while it's easy to show that <code>X</code> cannot be empty.</p>



<a name="245951096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245951096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245951096">(Jul 14 2021 at 12:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> <a href="#narrow/stream/113489-new-members/topic/Default.20alternative/near/245944355">said</a>:</p>
<blockquote>
<p>Ok thanks! Also it tells me that it cannot synthesize an instance for <code>decidable (nonempty B)</code> <code>B</code> is just a Type. Is this normal?</p>
</blockquote>
<p>Yes, <code>nonempty</code> is not in general decidable. Consider for example the type <code>X</code> containing all valid proofs of the Riemann hypothesis. Determining whether this type is empty is at least as hard as proving or disproving RH.</p>



<a name="245998519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Default%20alternative/near/245998519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Default.20alternative.html#245998519">(Jul 14 2021 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span>  thank you very much for this explanation</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>