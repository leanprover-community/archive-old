---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html">n + 1 = n +  8 + 8 - 3 - 3 - 3 - 3 - 3</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="257599060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257599060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Francis Southern <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257599060">(Oct 14 2021 at 20:20)</a>:</h4>
<p>Sorry if I'm being silly, but why doesn't <code>exact</code> match these:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="n">type</span> <span class="n">ascription</span><span class="o">,</span> <span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>
<p>?</p>



<a name="257599653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257599653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257599653">(Oct 14 2021 at 20:24)</a>:</h4>
<p>that is weird... <code>example {n : ℕ} : n + 8 + 8 -3-3-3-3-3 = n + 1 := rfl</code> does work. is there maybe some weird instances messing things up? what happens if you set <code>pp.all</code> to true? (<code>set_option pp.all true</code>)</p>



<a name="257599992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257599992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Francis Southern <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257599992">(Oct 14 2021 at 20:26)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">invalid</span> <span class="n">type</span> <span class="n">ascription</span><span class="o">,</span> <span class="n">term</span> <span class="n">has</span> <span class="n">type</span>
  <span class="n">P</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">has_sub.sub.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_sub</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">has_sub.sub.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_sub</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">has_sub.sub.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_sub</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">has_sub.sub.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_sub</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">has_sub.sub.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_sub</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">has_add.add.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">has_add.add.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="n">n</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">bit0.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">bit1.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">bit1.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">bit1.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">bit1.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">bit1.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span> <span class="n">int.has_add</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">)))</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">P</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_add.add.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_add</span> <span class="n">n</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.has_one</span><span class="o">))</span>
</code></pre></div>
<p>I'm doing the M40001 problem sheet from 2019, if that means anything to you.</p>



<a name="257600102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257600102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257600102">(Oct 14 2021 at 20:27)</a>:</h4>
<p>Ah, <code>rfl</code> won't work because it's in <code>ℤ</code>.</p>



<a name="257600182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257600182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257600182">(Oct 14 2021 at 20:27)</a>:</h4>
<p>It has to case on whether any on those involved numbers is negative.</p>



<a name="257600399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257600399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257600399">(Oct 14 2021 at 20:29)</a>:</h4>
<p>The tactic to use here is norm_num</p>



<a name="257602985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257602985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257602985">(Oct 14 2021 at 20:45)</a>:</h4>
<p>The problem would have been spotted sooner if the OP had provided a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> :-)</p>



<a name="257605338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257605338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Francis Southern <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257605338">(Oct 14 2021 at 21:02)</a>:</h4>
<p>Sorry, I suppose I need to get over the embarrassment of showing my work!<br>
Here's the whole code:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">question_5_1</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h8</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">p0</span> <span class="o">:</span> <span class="n">P</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">n</span> <span class="n">pn</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">z</span> <span class="o">:=</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="n">n</span><span class="o">)</span> <span class="n">pn</span><span class="o">))))))),</span>

<span class="kd">end</span>
</code></pre></div>
<p>But trying <code>norm_num</code> just gives me <code>unknown identifier 'norm_num'</code> and I couldn't find it in the reference manual either..</p>



<a name="257605776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257605776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257605776">(Oct 14 2021 at 21:05)</a>:</h4>
<p><code>import tactic.norm_num</code></p>



<a name="257606537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257606537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257606537">(Oct 14 2021 at 21:10)</a>:</h4>
<p>It doesn't work here, though. This does:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.ring</span>
<span class="kd">lemma</span> <span class="n">question_5_1</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h8</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">p0</span> <span class="o">:</span> <span class="n">P</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">n</span> <span class="n">pn</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">z</span> <span class="o">:=</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="n">n</span><span class="o">)</span> <span class="n">pn</span><span class="o">))))))),</span>
    <span class="n">convert</span> <span class="n">z</span> <span class="n">using</span> <span class="mi">1</span><span class="o">,</span>
    <span class="n">ring</span> <span class="o">},</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="257607070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257607070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Francis Southern <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257607070">(Oct 14 2021 at 21:14)</a>:</h4>
<p>Hmm, that code gives me the following error:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">tactic.istep</span> <span class="mi">151</span> <span class="mi">4</span> <span class="mi">151</span> <span class="mi">4</span> <span class="mi">229</span> <span class="n">ring</span>
<span class="n">term</span>
  <span class="n">ring</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="bp">?</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="bp">?</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">)</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">tactic</span> <span class="bp">?</span><span class="n">m_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span>
</code></pre></div>



<a name="257607229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257607229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257607229">(Oct 14 2021 at 21:15)</a>:</h4>
<p>Did you import <code>ring</code>?</p>



<a name="257607851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257607851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Francis Southern <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257607851">(Oct 14 2021 at 21:18)</a>:</h4>
<p>Erm, no.  Why didn't it give me the unknown identifier error this time?  Is there another <code>ring</code> that gets shadowed?<br>
Anyway, it works now.  Thank you everyone. :-)</p>



<a name="257607922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257607922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257607922">(Oct 14 2021 at 21:19)</a>:</h4>
<p>because it assumed it was <a href="https://leanprover-community.github.io/mathlib_docs/find/ring">docs#ring</a> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="257608242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257608242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257608242">(Oct 14 2021 at 21:21)</a>:</h4>
<p>Yeah, that's one of the cases where the error is... somewhat bemusing</p>



<a name="257616173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257616173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257616173">(Oct 14 2021 at 22:30)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.norm_num</span>

<span class="kd">lemma</span> <span class="n">question_5_1</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h8</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span>
                                  <span class="o">(</span><span class="n">p0</span> <span class="o">:</span> <span class="n">P</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">-&gt;</span> <span class="n">P</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">n</span> <span class="n">pn</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">z</span> <span class="o">:=</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">-</span> <span class="mi">3</span><span class="o">))</span> <span class="o">((</span><span class="n">h3</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">8</span><span class="o">))</span> <span class="o">((</span><span class="n">h8</span> <span class="n">n</span><span class="o">)</span> <span class="n">pn</span><span class="o">))))))),</span>
    <span class="n">convert</span> <span class="n">z</span> <span class="n">using</span> <span class="mi">1</span><span class="o">,</span>
    <span class="n">norm_num</span> <span class="o">[</span><span class="n">add_assoc</span><span class="o">,</span> <span class="n">int.add_sub_assoc</span><span class="o">]</span> <span class="o">},</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="257616234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257616234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257616234">(Oct 14 2021 at 22:30)</a>:</h4>
<p>The way to get <code>norm_num</code> to work is to get all the numeric terms together.</p>



<a name="257634199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/n%20%2B%201%20%3D%20n%20%2B%20%208%20%2B%208%20-%203%20-%203%20-%203%20-%203%20-%203/near/257634199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Miles Carmack <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/n.20.2B.201.20.3D.20n.20.2B.20.208.20.2B.208.20-.203.20-.203.20-.203.20-.203.20-.203.html#257634199">(Oct 15 2021 at 01:53)</a>:</h4>
<p>Hello</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>