---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/rewriting.20and.20let.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html">rewriting and let</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="243956148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956148">(Jun 25 2021 at 18:56)</a>:</h4>
<p>Hi ! stupid question, but is there a way to rewrite some equality that I defined using let? Say I have a goal <code>foo = blah</code>, and I do <code>let bar := blah</code> before_hand, how do I rewrite my goal as <code>foo = bar</code>?</p>



<a name="243956202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956202">(Jun 25 2021 at 18:57)</a>:</h4>
<p>I tried to just <code>rw bar</code> but Lean did not like it.</p>



<a name="243956383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956383">(Jun 25 2021 at 18:58)</a>:</h4>
<p><code>change</code> would work</p>



<a name="243956433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956433">(Jun 25 2021 at 18:59)</a>:</h4>
<p>I think that <code>set [...] with h</code>, instead of <code>let</code>, will produce a hypothesis <code>h</code> that you can use for <code>rw</code>.</p>



<a name="243956434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956434">(Jun 25 2021 at 18:59)</a>:</h4>
<p>Alternatively, if you use <code>set bar := blah with hbar,</code>, you can use <code>rw ‚Üêhbar,</code></p>



<a name="243956825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243956825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243956825">(Jun 25 2021 at 19:02)</a>:</h4>
<p>Nice! So <code>set</code> works just like <code>let</code>? In practice, is it better to avoid <code>let</code>?</p>



<a name="243957107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243957107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243957107">(Jun 25 2021 at 19:05)</a>:</h4>
<p>I personally tend to avoid <code>let</code>, but I don't think that's mathlib policy, at least</p>



<a name="243959217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243959217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243959217">(Jun 25 2021 at 19:23)</a>:</h4>
<p>I also tend to avoid <code>let</code> because of the aforementioned finickyness, but also <code>simp_rw</code> and <code>simp only</code> work to rewrite them</p>



<a name="243960068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960068">(Jun 25 2021 at 19:30)</a>:</h4>
<p>Thank you! I have a last silly question: is there a canonical syntax for turning an hypothesis of the form <code>f = g</code> where f and g are functions into an hypothesis of the form <code>f x = g x</code> (given some <code>x</code>in the domain of course)?</p>



<a name="243960131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960131">(Jun 25 2021 at 19:31)</a>:</h4>
<p><code>congr_fun</code>?</p>



<a name="243960232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960232">(Jun 25 2021 at 19:32)</a>:</h4>
<p>(<a href="https://leanprover-community.github.io/mathlib_docs/find/congr_fun">docs#congr_fun</a>)</p>



<a name="243960605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960605">(Jun 25 2021 at 19:35)</a>:</h4>
<p>So something like <code>have neq_hyp := congr_fun ...</code>?</p>



<a name="243960679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960679">(Jun 25 2021 at 19:35)</a>:</h4>
<p>It works but I was just wondering if there was a way to make it directly act on my <code>f = g</code> hypothesis rather than adding a new one.</p>



<a name="243960749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960749">(Jun 25 2021 at 19:36)</a>:</h4>
<p>I mean, if it's a goal state you can just <code>rw</code> it at the goal</p>



<a name="243960843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243960843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243960843">(Jun 25 2021 at 19:37)</a>:</h4>
<p>you could also do <code>rw function.funext_iff at h, specialize h x</code>, but at that point you may just write <code>replace h := congr_fun h x</code></p>



<a name="243961003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/rewriting%20and%20let/near/243961003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robin Carlier <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/rewriting.20and.20let.html#243961003">(Jun 25 2021 at 19:38)</a>:</h4>
<p>Oh, I was not aware of the <code>replace</code>syntax! Looks like what I want!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>