---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html">Learning programming with lean 4</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233862784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233862784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233862784">(Apr 09 2021 at 17:41)</a>:</h4>
<p>Hi everyone,<br>
I find myself interested in learning programming with lean 4. Are there any good resources to get started?<br>
Specifically this is not a question about learning syntax but beyond that, how do you go about writing programs.</p>
<p>About me:<br>
My background is in topology and category theory. Whenever I want to learn programming it goes like this: I start out with a python exercise, somehow find myself in Haskell a little while later, then I'm reading about idris, and then before long I'm reading about categorical logic... this is the basic trajectory every time.<br>
last year I had a lot of fun going through lean 3 tutorials for theorem proving. Not using tactics, mind you, just writing proof terms. Really cool.</p>
<p>More recently I have been contributing to a python program again: 'manim'. This is a mathematical animation library used to make maths lecture videos. The videos it can make are great, but the language (python) is infuriating. I have been trying to add typing hints to it and clean up all the errors found by static type checkers ... but ... sigh.</p>
<p>I have gone through the MIT lectures on "Programming with categories". This is basically an explanation of how Haskell fits in with the simply typed lambda calculus and Cartesian closed categories. While fun lectures, they do not teach how to go about structuring a program, how to even start. When I go look at an open source Haskell project in the wild however, I usually find the code impenetrable. There are just too many programming constructs and conventions that I have not learned, not to mention the fact that programmers have their own vocabulary and jargon that partially overlaps with category theory jargon, but with different meanings for the same phrases. </p>
<p>All that is to say, I would love it if there were programming tutorials / exercises / cookbooks based on Lean 4. Where do I start?</p>



<a name="233863105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233863105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233863105">(Apr 09 2021 at 17:43)</a>:</h4>
<p>Lean 4 isn't really ready yet. Are you absolutely sure you want to use Lean 4 rather than Lean 3?</p>



<a name="233863847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233863847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233863847">(Apr 09 2021 at 17:49)</a>:</h4>
<p>I was under the impression that lean 4 is far more suited as a programming language than lean 3.  At least that's what I gleaned from here: <a href="https://www.youtube.com/watch?v=UeGvhfW1v9M">https://www.youtube.com/watch?v=UeGvhfW1v9M</a></p>
<div class="youtube-video message_inline_image"><a data-id="UeGvhfW1v9M" href="https://www.youtube.com/watch?v=UeGvhfW1v9M"><img src="https://i.ytimg.com/vi/UeGvhfW1v9M/default.jpg"></a></div><p>While Lean 4 is not "ready" yet, I wouldn't mind starting out with it at this time. I don't urgently (or ever;) ) need it in production. For now, this is just for me. </p>
<p>Do you advise against it?</p>



<a name="233864118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233864118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233864118">(Apr 09 2021 at 17:51)</a>:</h4>
<p>The unique resource to get started is the Lean 4 manual, which is unfinished (but there's a lot there): <a href="https://leanprover.github.io/lean4/doc/">https://leanprover.github.io/lean4/doc/</a> . Other than that you can find lean 4 repos on github and try and learn from them, and also ask questions in the #lean4 stream. But the language is not stable yet -- we just have a couple of milestone releases.</p>



<a name="233864173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233864173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233864173">(Apr 09 2021 at 17:51)</a>:</h4>
<p>Lean 3 there is a ton of documentation and information, and half a million lines of maths library to get you started.</p>



<a name="233864329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233864329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233864329">(Apr 09 2021 at 17:52)</a>:</h4>
<p>Lean 3 -- if you want category theory, we got it. Lean 4, if you want category theory, you can start by defining a category yourself. Which of these is right for you depends on your use case.</p>



<a name="233864531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233864531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233864531">(Apr 09 2021 at 17:54)</a>:</h4>
<p>Ah yes. I read that last night. It got me excited about this idea.<br>
But those docs teach me syntax, not how to go about structuring a program. <br>
Perhaps I should read tutorials for other languages (like haskell or idris) and try to use the those lessons here?</p>



<a name="233864886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233864886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233864886">(Apr 09 2021 at 17:56)</a>:</h4>
<p>I am completely unclear about what you're actually trying to do so I'm not sure I can say any more unless you make your goals clearer. Hardly any programs have ever been written in Lean 4, and it has only existed in "preprint form" for a couple of months, so I would imagine that what a good Lean 4 program looks like right now is largely an unsolved problem, and indeed the answer may change over the next few months as the language itself changes.</p>



<a name="233865180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233865180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233865180">(Apr 09 2021 at 17:58)</a>:</h4>
<p>Let me also stress that Lean 3 is also a programming language, and we have a really good idea of what a good program looks like in Lean 3. I don't really know what you think the difference is between Lean 3 and Lean 4 but until you really start getting into technical details the only differences really are some syntax changes and the fact that Lean 3 has half a million lines of maths library and a bunch of documentation whereas Lean 4 has the manual and essentially nothing else. Can you articulate why you think Lean 4 is suitable for what you want to do but Lean 3 is not?</p>



<a name="233866653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233866653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233866653">(Apr 09 2021 at 18:07)</a>:</h4>
<p>Right. Perhaps I meant more in general:  programming patterns in a language with such an expressive type system. Like, if the Haskell guides are about how to program in an environment based on the stlc, what is the corresponding thing for the calculus of inductive constructions? <br>
It may be that such a thing doesn't exist. After all most people use Lean for proofs, and Haskell for general purpose programming. I'm curious about bridging that gap.<br>
What am I trying to do? I'm not sure. I'm following my curiosity.</p>



<a name="233866866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233866866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233866866">(Apr 09 2021 at 18:08)</a>:</h4>
<blockquote>
<p>Can you articulate why you think Lean 4 is suitable for what you want to do but Lean 3 is not?</p>
</blockquote>
<p>I guess I cannot.</p>



<a name="233866985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233866985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233866985">(Apr 09 2021 at 18:09)</a>:</h4>
<p>Lean 3 is a functional programming language which you can use for general purpose programming, but it might not be fast because it is interpreted and not compiled (I am not a computer scientist, what I'm saying might not be quite true)</p>



<a name="233867026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233867026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233867026">(Apr 09 2021 at 18:10)</a>:</h4>
<p>Whether this is an issue for you depends on what you want to do.</p>



<a name="233867118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233867118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233867118">(Apr 09 2021 at 18:10)</a>:</h4>
<p>for now I just want to learn... so performance does not yet come into it.</p>



<a name="233867293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233867293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233867293">(Apr 09 2021 at 18:11)</a>:</h4>
<p>If you watch Rob Lewis' videos on youtube -- look for the leanprover-community site and lean for the curious mathematician 2020 -- then you'll see how to write basic metaprograms in Lean 3. If you just want to experiment then Lean 3 might be the safest for now because there is a big crowd of people here who can answer your programming questions.</p>



<a name="233867462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233867462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233867462">(Apr 09 2021 at 18:13)</a>:</h4>
<p>Lean 4 can be compiled into C and so will be a lot faster, but if speed is not an issue then why not start with Lean 3? If it becomes an issue you can just switch -- Lean 3 and Lean 4 are a bit like python 2 and python 3 -- different enough to make porting a large maths library difficult, but similar enough that working on one will teach you a lot of stuff which is common to both.</p>



<a name="233867903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233867903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233867903">(Apr 09 2021 at 18:16)</a>:</h4>
<p><span class="user-mention" data-user-id="404323">@Aron Fischer</span> <a href="https://agentultra.github.io/lean-for-hackers/">https://agentultra.github.io/lean-for-hackers/</a> might be interesting/relevant</p>



<a name="233868178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233868178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233868178">(Apr 09 2021 at 18:18)</a>:</h4>
<p>Time to switch all my custom scripts to lean3 so I can back up my home folder with profinite sets</p>



<a name="233868558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233868558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233868558">(Apr 09 2021 at 18:21)</a>:</h4>
<p>your home directory is a monad</p>



<a name="233868702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233868702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233868702">(Apr 09 2021 at 18:22)</a>:</h4>
<p>Is that a nix thing?</p>



<a name="233872824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233872824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233872824">(Apr 09 2021 at 18:52)</a>:</h4>
<p>Aron, since you mentioned manim, you might look into other languages/programming styles that are about declarative programming and functional programming. The best example of this, that I know of, in the context of getting data displayed visually is Elm: <a href="https://guide.elm-lang.org/core_language.html">https://guide.elm-lang.org/core_language.html</a></p>



<a name="233872966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233872966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233872966">(Apr 09 2021 at 18:53)</a>:</h4>
<p>There's also Functional Reactive Programming (FRP) that the Reflex library (<a href="https://reflex-frp.org/tutorial">https://reflex-frp.org/tutorial</a>) in Haskell is great at</p>



<a name="233874933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233874933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233874933">(Apr 09 2021 at 19:06)</a>:</h4>
<p>For general purpose programming in Lean[34], you can check out the robot the Galois guys made work with Lean 4: <a href="https://github.com/galoisinc/lean4-balance-car">https://github.com/galoisinc/lean4-balance-car</a>. It is a lot of IO and interop with C.</p>



<a name="233875556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233875556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233875556">(Apr 09 2021 at 19:10)</a>:</h4>
<p>There are also some raytracers implemented in <a href="#narrow/stream/270676-lean4/topic/raytracer/near/224672752">Lean 4</a>.</p>



<a name="233876695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233876695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233876695">(Apr 09 2021 at 19:19)</a>:</h4>
<p>great suggestions. thanks.</p>



<a name="233979871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233979871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aron Fischer <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233979871">(Apr 10 2021 at 19:18)</a>:</h4>
<p>I have read the Elm docs. While cute, it is somewhat limited as a means of learning programming in a calulus-of-(inductive)-constructions setting. But it is clean and simple I enjoyed learning about it and it offers a lifeline to anyone stuck working in javascript and that is a commendable goal :)</p>
<p>I looked at the Lean-For-Hackers and tried to translate that into Lean 4 as an exercise. Hard work.... but I have an interactive hello world! (yay me)<br>
The ray tracer and balancing bot too are cool, but of limited use to me at this stage.</p>
<p>I also found <a href="https://leanprover.github.io/programming_in_lean">https://leanprover.github.io/programming_in_lean</a> .. which sounded exciting, but sadly remains mostly unwritten.</p>
<p>I am wondering if perhaps this is the book I am looking for:<br>
<a href="https://www.manning.com/books/type-driven-development-with-idris">https://www.manning.com/books/type-driven-development-with-idris</a><br>
It appears to teach the concepts needed to write and structure programs in idris, and hopefully a lot of that will translate to other languages. WDYT? Is that a good resource?</p>



<a name="233991231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/233991231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Fabian <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#233991231">(Apr 10 2021 at 21:36)</a>:</h4>
<p>I'd like to give a bit of a different perspective here. Whilst lean 4 is definitely nowhere nearly as polished on the UX side as lean 3, it is actually quite competent at being a programming language. The lean 4 compiler is written in lean 4 which is something that requires tons of the features a real-world programming language would need.</p>
<p>That said, it doesn't have a real packaging story so it's quite hard to get a real project going. But on the other hand the various syntactical tricks they've pulled makes writing monadic code (something you almost certainly need for anything non-trivial) very nice.</p>
<p>In fact, in a lot of ways it's quite a lot nicer than Haskell.</p>
<p>As a programming language it has a quite unique feel to it, since you can't debug anything, really, but you also tend to evaluate during type-checking time. So, in a sense, it almost feels like a dynamic language in a lot of ways.</p>
<p>If your goal is writing programs, lean 4 is actually a fine choice. Just don't expect you'll be writing many proofs. The tactics and library story is far behind what lean 3 + matlib can offer.</p>
<p>On the other hand, if you want to write some kind of program (especially hacking the lean 4 compiler itself), it's really good. You can still enforce some invariants at the type level if you are so inclined.</p>
<p>But the kinds of invariants you are more likely to express right now in lean 4 are kinds of things you want to carry around in your program. Perhaps, you'd like to prove that you are never going to access an array out-of-bounds. And then you can use that fact to make very efficient code. Stuff like that.</p>



<a name="234073255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/234073255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#234073255">(Apr 11 2021 at 20:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="235513">Daniel Fabian</span> <a href="#narrow/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204/near/233991231">said</a>:</p>
<blockquote>
<p>but you also tend to evaluate during type-checking time. So, in a sense, it almost feels like a dynamic language in a lot of ways.</p>
</blockquote>
<p>Can you say a bit more about what you mean here in these sentences? It sounds intriguing but I don't quite understand it, do you have an example?</p>



<a name="234084241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Learning%20programming%20with%20lean%204/near/234084241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Fabian <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Learning.20programming.20with.20lean.204.html#234084241">(Apr 11 2021 at 23:21)</a>:</h4>
<p>(These are not <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>, I know. If you need one, let me know)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="n">motive</span> <span class="n">n</span> <span class="n">hn</span> <span class="o">:</span> <span class="bp">@</span><span class="n">Power2ProofBelow</span> <span class="n">motive</span> <span class="n">n</span> <span class="n">hn</span> <span class="bp">→</span> <span class="n">Power2</span> <span class="n">n</span>
  <span class="bp">|</span> <span class="n">Power2ProofBelow.base</span> <span class="bp">=&gt;</span> <span class="n">Power2.base</span>
  <span class="bp">|</span> <span class="n">Power2ProofBelow.ind</span> <span class="n">hn</span> <span class="n">h_motive</span> <span class="bp">=&gt;</span> <span class="n">Power2.ind</span> <span class="o">(</span><span class="kd">by</span> <span class="n">assumption</span><span class="o">)</span>
</code></pre></div>
<p>Here's an example of the kind of thing you can do: This example is a pattern match, i.e. term mode, but then inside of the parenthesis, I create a tactic mode thing so I don't have to go and hunt for locals. If you put your cursor at <code>a</code> of <code>assumption</code>, you see the proof state.</p>
<p>Now the moment you make another tactic step, the proof state changes. It's a lot like having a debugger attached.</p>
<p>But this evaluation happens during type-checking time. At no point in time did you have to manually re-compile, or even run. The type checker runs (and executes your user code) with every key stroke.</p>
<p>So, it's almost like having a REPL open in JavaScript in that sense.</p>
<hr>
<p>another example is this kind of thing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">generateProofBelow</span> <span class="o">(</span><span class="n">declName</span> <span class="o">:</span> <span class="n">Name</span><span class="o">)</span> <span class="o">:</span> <span class="n">TermElabM</span> <span class="n">Unit</span> <span class="o">:=</span> <span class="k">do</span>
  <span class="k">if</span> <span class="bp">!</span><span class="o">(</span><span class="bp">←</span><span class="n">isInductivePredicate</span> <span class="n">declName</span><span class="o">)</span> <span class="k">then</span>
    <span class="k">let</span> <span class="n">indInfo</span> <span class="bp">←</span> <span class="n">getConstInfoInduct</span> <span class="n">declName</span>
    <span class="k">let</span> <span class="n">cmds</span> <span class="o">:=</span> <span class="bp">←</span><span class="n">mkMutualBlock</span> <span class="o">(</span><span class="bp">←</span><span class="n">mkContext</span> <span class="n">declName</span><span class="o">)</span>
    <span class="n">trace</span><span class="o">[</span><span class="n">Meta.debug</span><span class="o">]</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">{cmds}"</span>
  <span class="k">else</span>
    <span class="n">trace</span><span class="o">[</span><span class="n">Meta.debug</span><span class="o">]</span> <span class="s2">"Not inductive"</span>

<span class="k">#eval</span> <span class="n">generateProofBelow</span> <span class="bp">``</span><span class="n">Even</span>
</code></pre></div>
<p>Now every time I change the code inside of <code>generateProofBelow</code>, it re-compiles the function, and re-<code>eval</code>uates it. So it's like re-running a debug session.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>