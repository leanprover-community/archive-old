---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Proof.20by.20contradiction.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html">Proof by contradiction</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="254220352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254220352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254220352">(Sep 21 2021 at 14:54)</a>:</h4>
<p>Sometimes the <code>by_contradiction</code> tactic doesn't work that way I would expect. For example,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cofinite_not_principal</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">‚Ñï</span><span class="o">,</span> <span class="n">cofinite</span> <span class="n">‚Ñï</span> <span class="bp">‚â†</span> <span class="bp">ùìü</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">S</span><span class="o">,</span>
  <span class="n">by_contradiction</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>fails with the message</p>
<blockquote>
<p>tactic by_contradiction failed, target is not a proposition</p>
</blockquote>
<p>(even if I remove the <code>intro S</code> line). One way I've come up with to deal with these situations is to do the following</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cofinite_not_principal</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">‚Ñï</span><span class="o">,</span> <span class="n">cofinite</span> <span class="n">‚Ñï</span> <span class="bp">‚â†</span> <span class="bp">ùìü</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">S</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span> <span class="n">trivial</span><span class="o">,</span>
  <span class="n">contrapose</span><span class="bp">!</span> <span class="n">t</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">not_true</span><span class="o">,</span>
  <span class="c1">-- Now I'm in the state that I would expect by_contradiction to put me in after the "intro S" line.</span>
<span class="kd">end</span>
</code></pre></div>
<p>I'm still new to the game of formalizing proofs, but it seems <code>by_contradiction</code> should do this for me.</p>
<p>Am I just missing some another technique/tactic/way of using by_contradiction?</p>
<p>p.s. I would also expect <code>contrapose!</code> to turn <code>¬¨true</code> to <code>false</code>.</p>
<p>p.p.s. To get a MWE just add the following above the theorem</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>MWE header</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>import order.filter.basic<br>
open_locale filter<br>
open filter set</p>
<p>def cofinite (Œ± : Type) : filter Œ± :=<br>
{ sets := { S : set Œ± | (S·∂ú).finite },<br>
  univ_sets := begin<br>
    rw [mem_set_of_eq, compl_univ],<br>
    exact finite_empty,<br>
  end,<br>
  sets_of_superset := begin<br>
    intros X Y hX hXY,<br>
    -- rw mem_set_of_eq at hX ‚ä¢,<br>
    apply finite.subset hX,<br>
    rwa compl_subset_compl,<br>
  end,<br>
  inter_sets := begin<br>
    intros X Y hX hY,<br>
    rw [mem_set_of_eq, compl_inter],<br>
    apply finite.union hX hY,<br>
  end }</p>
</div></div>



<a name="254220831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254220831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254220831">(Sep 21 2021 at 14:56)</a>:</h4>
<p>If your goal is <code>a ‚â† b</code> you should start with <code>intro h</code>, and the goal will be <code>false</code>.</p>



<a name="254220956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254220956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254220956">(Sep 21 2021 at 14:57)</a>:</h4>
<p>With <code>h : a = b</code>. There is no need of using a proof by contradiction here, since <code>a ‚â† b</code> is <em>defined</em> as <code>a = b ‚Üí false </code>.</p>



<a name="254221106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254221106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254221106">(Sep 21 2021 at 14:58)</a>:</h4>
<p>(We all made this mistake I think, so you are in a good position <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span> )</p>



<a name="254221273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254221273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254221273">(Sep 21 2021 at 14:59)</a>:</h4>
<p><code>intro h</code> works, but why doesn't <code>by_contra</code>? Even more oddly, <code>rw ne.def, by_contra h,</code> works</p>



<a name="254221726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254221726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254221726">(Sep 21 2021 at 15:01)</a>:</h4>
<p>Ok. Thanks for enlightening me. I would never think to call <code>intro</code> when proving <code>a ‚â† b</code>. Well, except now that I've been enlightened :)</p>



<a name="254221882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254221882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254221882">(Sep 21 2021 at 15:02)</a>:</h4>
<p>It's a decidablity issue, adding <code>open_locale classical</code> should also work.</p>



<a name="254222382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254222382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254222382">(Sep 21 2021 at 15:05)</a>:</h4>
<p>I can confirm that </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">classical</span>
<span class="kd">theorem</span> <span class="n">cofinite_not_principal</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">‚Ñï</span><span class="o">,</span> <span class="n">cofinite</span> <span class="n">‚Ñï</span> <span class="bp">‚â†</span> <span class="bp">ùìü</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">S</span><span class="o">,</span>
  <span class="n">by_contradiction</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>does exactly what I expect. Is there a downside to that <code>open_locale classical</code> line?</p>



<a name="254222636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254222636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254222636">(Sep 21 2021 at 15:06)</a>:</h4>
<p>If you want to do "standard" mathematics no. But if you are interested in constructive logic and/or computability then yes, but I will let someone else more experienced than me clarify this.</p>



<a name="254222848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254222848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254222848">(Sep 21 2021 at 15:07)</a>:</h4>
<p>Fair enough. Thanks :)</p>



<a name="254223136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254223136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254223136">(Sep 21 2021 at 15:09)</a>:</h4>
<p>And beware that if at some point you want to PR this in mathlib the constructivist mafia will force you to use <code>intro h</code> here.</p>



<a name="254223532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254223532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254223532">(Sep 21 2021 at 15:11)</a>:</h4>
<p>BTW, the issue here is probably very simple: without excluded middle you cannor prove <code>¬¨¬¨p ‚Üí p</code>, so <code>¬¨(a ‚â† b)</code> does not imply <code>a = b</code>.</p>



<a name="254224160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254224160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254224160">(Sep 21 2021 at 15:15)</a>:</h4>
<p>I'm fine with doing <code>intro h</code> and I would guess most people would be (other than for disoverability). I have no idea if it's possible or a good idea for <code>by_contradiction</code> to detect this situation and then just do <code>intro h</code>, but it seems reasonable. Because the state after <code>intro S, intro h</code> in the above theorem is exactly what I, in my limited understanding, would mean when I say "lets now prove this by contradiction".</p>



<a name="254224956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254224956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254224956">(Sep 21 2021 at 15:19)</a>:</h4>
<p>I think that a good lesson to learn here is to realize that you never asked yourself what <code>¬¨h</code> actually means. Of course we are very happy with the standard vague idea, and we can do a lot of beautiful math with it, but in Lean even very basic things must be defined (we even have a definition of <code>=</code>). <code>¬¨h</code> is defined as <code>h ‚Üí false</code>, so if the goal is an implication it is natural to start with <code>intro</code>.</p>



<a name="254226177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254226177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254226177">(Sep 21 2021 at 15:27)</a>:</h4>
<p>I agree. It is nice to know how <code>¬¨h</code> is defined now. <code>by_contradiction</code> not handling this is overall a relatively minor pain point. But, from my couple weeks with lean now, it does seem like there are a lot of these minor pain points that seem like they would be easy to fix.</p>



<a name="254226344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254226344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254226344">(Sep 21 2021 at 15:27)</a>:</h4>
<p>Of course, seeming easy to fix is quite different than actually being easy :)</p>



<a name="254226751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254226751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254226751">(Sep 21 2021 at 15:30)</a>:</h4>
<p>This is a feature, not a problem. It's a feature you are not interested if you want to do mathematics, and it becomes annoying in that case, but it is needed to do other things. If you want to forget about all of this, just start all files with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">classical</span>
<span class="kd">noncomputable theory</span>
</code></pre></div>
<p>and you are doing classical mathematics.</p>



<a name="254227303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254227303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254227303">(Sep 21 2021 at 15:33)</a>:</h4>
<p>Would a decent compromise being for <code>by_contradiction</code> to detect this situation and, rather than fail with a mysterious message (it was mysterious to me), to print out a few of the suggestions you just made? That would have saved me and probably other people some time.</p>



<a name="254227611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254227611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254227611">(Sep 21 2021 at 15:35)</a>:</h4>
<p>My suggestion is already in the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#by_contra%20/%20by_contradiction">documentation</a>.</p>



<a name="254228080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254228080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254228080">(Sep 21 2021 at 15:38)</a>:</h4>
<p>Trevor, what version of lean are you using?</p>



<a name="254228165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254228165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254228165">(Sep 21 2021 at 15:38)</a>:</h4>
<p>I maintain that the error message "target is not a proposition" is not as actionable as it could be. But your point that I should read the documentation is well taken.</p>



<a name="254228255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254228255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254228255">(Sep 21 2021 at 15:39)</a>:</h4>
<p>This is the thing that doesn't make sense to me:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">cofinite_not_principal</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">‚Ñï</span><span class="o">,</span> <span class="n">cofinite</span> <span class="n">‚Ñï</span> <span class="bp">‚â†</span> <span class="bp">ùìü</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">S</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span> <span class="c1">-- fails</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">cofinite_not_principal'</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">‚Ñï</span><span class="o">,</span> <span class="bp">¬¨</span><span class="o">(</span><span class="n">cofinite</span> <span class="n">‚Ñï</span> <span class="bp">=</span> <span class="bp">ùìü</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">S</span><span class="o">,</span>
  <span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span> <span class="c1">-- works</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="254228883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254228883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254228883">(Sep 21 2021 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> <code>leanprover-community/lean:3.24.0</code>. I'm working the <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics">Formalising Mathematics</a> exercises and thats the version <code>leanproject</code> pulled.</p>



<a name="254229287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254229287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254229287">(Sep 21 2021 at 15:44)</a>:</h4>
<p>I'd thought <code>by_contra</code> automatically used classical decidability instances since <code>by_cases</code> now does, but it seems like it doesn't.</p>
<p>Also, I found a way to get <code>by_contra</code> to infinite loop somehow:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">‚â†</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_contra</span><span class="o">,</span>
  <span class="c1">-- never gets here</span>
<span class="kd">end</span>
</code></pre></div>



<a name="254229374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254229374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254229374">(Sep 21 2021 at 15:45)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.by_contradiction/src">src#tactic.by_contradiction</a>: it does</p>



<a name="254229582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254229582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254229582">(Sep 21 2021 at 15:46)</a>:</h4>
<p>(By the way, the <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#classical">tactic#classical</a> tactic is a way to do <code>open_locale classical</code> from within a tactic proof.)</p>



<a name="254229756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254229756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254229756">(Sep 21 2021 at 15:47)</a>:</h4>
<p>This is clearly just a bug: <code>by_contradiction</code> is already programmed to do <code>intro</code> when presented with a <code>not</code>, it just doesn't know how to do it for an <code>ne</code></p>



<a name="254229909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254229909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254229909">(Sep 21 2021 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> It seems that I'm accidentally using an old version of Lean when I was poking through the source -- <code>by_contra</code> has been able to use classical decidable instances for 11 months now. <a href="https://github.com/leanprover-community/lean/commit/af2f0be9958b0bc390698ffad434c2305ab40e0f">https://github.com/leanprover-community/lean/commit/af2f0be9958b0bc390698ffad434c2305ab40e0f</a></p>



<a name="254230065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254230065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254230065">(Sep 21 2021 at 15:49)</a>:</h4>
<p>So there are two bugs here:</p>
<ul>
<li>by_contra is somehow not finding the classical instance needed to introduce <code>h : ¬¨(x ‚â† y)</code></li>
<li>the heuristic intended to just do <code>intro</code> on goals of the form <code>¬¨P</code> (giving the more useful <code>h : x = y</code>) does not look through semireducible defs</li>
</ul>



<a name="254230566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254230566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trevor Fancher <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254230566">(Sep 21 2021 at 15:52)</a>:</h4>
<p>It certainly <em>felt</em> like a bug. I'm glad it's been surfaced and now I'll let the experts handle it :)</p>



<a name="254230770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254230770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254230770">(Sep 21 2021 at 15:53)</a>:</h4>
<p>Wow, wonderful!</p>



<a name="254230812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254230812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254230812">(Sep 21 2021 at 15:53)</a>:</h4>
<p>I mean, wonderful that we realize we have a problem.</p>



<a name="254231129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254231129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254231129">(Sep 21 2021 at 15:55)</a>:</h4>
<p>The first bullet is easy to fix with:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">meta</span> <span class="kd">def</span> <span class="n">by_contradiction2</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">name</span><span class="o">)</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">expr</span> <span class="o">:=</span>
<span class="k">do</span> <span class="n">tgt</span> <span class="bp">‚Üê</span> <span class="n">target</span><span class="o">,</span>
  <span class="o">(</span><span class="n">match_not</span> <span class="n">tgt</span> <span class="bp">$&gt;</span> <span class="o">())</span> <span class="bp">&lt;|&gt;</span>
  <span class="o">(</span><span class="n">mk_mapp</span> <span class="bp">`</span><span class="n">decidable.by_contradiction</span> <span class="o">[</span><span class="n">some</span> <span class="n">tgt</span><span class="o">,</span> <span class="n">none</span><span class="o">]</span> <span class="bp">&gt;&gt;=</span> <span class="n">eapply</span> <span class="bp">&gt;&gt;</span> <span class="n">skip</span><span class="o">)</span> <span class="bp">&lt;|&gt;</span>
  <span class="o">(</span><span class="n">mk_mapp</span> <span class="bp">`</span><span class="n">classical.by_contradiction</span> <span class="o">[</span><span class="n">some</span> <span class="n">tgt</span><span class="o">]</span> <span class="bp">&gt;&gt;=</span> <span class="n">eapply</span> <span class="bp">&gt;&gt;</span> <span class="n">skip</span><span class="o">)</span> <span class="bp">&lt;|&gt;</span>
  <span class="n">fail</span> <span class="s2">"tactic by_contradiction failed, target is not a proposition"</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">H</span>
</code></pre></div>



<a name="254231472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254231472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254231472">(Sep 21 2021 at 15:57)</a>:</h4>
<p>"target is not a proposition" is still a weird error message, at least in this case</p>



<a name="254232876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254232876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254232876">(Sep 21 2021 at 16:05)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/pull/622">https://github.com/leanprover-community/lean/pull/622</a></p>



<a name="254232889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254232889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254232889">(Sep 21 2021 at 16:05)</a>:</h4>
<p>About <code>not true</code> being replaced by <code>false</code>, <code>true</code> is a type with one element, <code>trivial</code>, and <code>false</code> is a type with no element. So you can prove <code>not true iff false</code> by doing <code>\la h, h trivial</code> one way and <code>\la h, h.elim</code> rhe other way. But you see that this is much less natural than you would have expected, which indicates that this is not really the way we do maths in Lean.</p>



<a name="254233641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254233641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254233641">(Sep 21 2021 at 16:09)</a>:</h4>
<p>I've never really understood why <code>ne</code> is behind a definition:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[reducible]</span> <span class="kd">def</span> <span class="n">ne</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">¬¨</span><span class="o">(</span><span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="o">)</span>
<span class="kd">infix</span> <span class="bp">`</span> <span class="bp">‚â†</span> <span class="bp">`</span><span class="o">:</span><span class="mi">50</span> <span class="o">:=</span> <span class="n">ne</span>
</code></pre></div>
<p>Couldn't it have been this, saving some of these headaches?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="n">a</span> <span class="bp">`</span> <span class="bp">‚â†</span> <span class="bp">`</span><span class="o">:</span><span class="mi">50</span> <span class="n">b</span> <span class="o">:=</span> <span class="bp">¬¨</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</code></pre></div>



<a name="254233682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254233682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254233682">(Sep 21 2021 at 16:09)</a>:</h4>
<p>Then <a href="https://leanprover-community.github.io/mathlib_docs/find/ne.symm">docs#ne.symm</a> wouldn't work with dot notation</p>



<a name="254233772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254233772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254233772">(Sep 21 2021 at 16:10)</a>:</h4>
<p>I'd argue the headache is that the tactic forgot to look through reducible definitions</p>



<a name="254234157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254234157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254234157">(Sep 21 2021 at 16:12)</a>:</h4>
<p>Seems fine to me, so long as you're ok with it being in the <code>not</code> namespace:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="n">a</span> <span class="bp">`</span> <span class="bp">‚â†</span> <span class="bp">`</span><span class="o">:</span><span class="mi">50</span> <span class="n">b</span> <span class="o">:=</span> <span class="bp">¬¨</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>

<span class="kd">def</span> <span class="n">not.symm</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">‚â†</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">‚â†</span> <span class="n">x</span> <span class="o">:=</span>
<span class="bp">Œª</span> <span class="n">h'</span><span class="o">,</span> <span class="n">h</span> <span class="n">h'.symm</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Œ±</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">‚â†</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">‚â†</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">exact</span> <span class="n">h.symm</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="254234448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254234448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254234448">(Sep 21 2021 at 16:14)</a>:</h4>
<p>I've run into <code>ne</code> not being literally not-equals a number of times. There's always a simple workaround, but it's a bit of annoying friction.</p>



<a name="254234979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254234979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254234979">(Sep 21 2021 at 16:18)</a>:</h4>
<p>This reminds me that there's no <a href="https://leanprover-community.github.io/mathlib_docs/find/not.def">docs#not.def</a>. The difference between not and implies-false is another small annoyance (<code>¬¨p ‚Üí false</code> seems like it should <code>simp</code> to <code>p</code>)</p>



<a name="254235019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235019">(Sep 21 2021 at 16:18)</a>:</h4>
<p>Why would there need to be a <code>not.def</code>?</p>



<a name="254235063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235063">(Sep 21 2021 at 16:18)</a>:</h4>
<p>Instead of <code>rw not.def</code> you can use <code>rw not</code></p>



<a name="254235097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235097">(Sep 21 2021 at 16:19)</a>:</h4>
<p>It's to rewrite it backwards</p>



<a name="254235225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235225">(Sep 21 2021 at 16:20)</a>:</h4>
<p>It would let you normalize all the implies-falses in an expression into nots, which have a lot more simp lemmas about them.</p>



<a name="254235377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235377">(Sep 21 2021 at 16:21)</a>:</h4>
<p>Hmm, there's something weird there..  I'll make a new thread</p>



<a name="254235400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235400">(Sep 21 2021 at 16:21)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">not.def</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬¨</span><span class="n">p</span> <span class="bp">‚Üî</span> <span class="o">(</span><span class="n">p</span> <span class="bp">‚Üí</span> <span class="n">false</span><span class="o">)</span> <span class="o">:=</span> <span class="n">iff.rfl</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬¨</span><span class="n">p</span> <span class="bp">‚Üí</span> <span class="n">false</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="bp">‚Üê</span><span class="n">not.def</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">h</span>
<span class="kd">end</span>
</code></pre></div>



<a name="254235792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254235792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254235792">(Sep 21 2021 at 16:23)</a>:</h4>
<p>My point was that <code>not</code> should have an equation lemma so that you can just do <code>simp [‚Üênot]</code>. <a href="#narrow/stream/113488-general/topic/Where's.20the.20equation.20lemma.20for.20.60not.60.3F/near/254235537">It is missing</a>.</p>



<a name="254237411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254237411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254237411">(Sep 21 2021 at 16:33)</a>:</h4>
<p>Does <code>simp</code> actually work that way though for definitions?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">namespace</span> <span class="n">foo</span>

<span class="kd">def</span> <span class="n">not</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">‚Üí</span> <span class="n">false</span>
<span class="kn">local</span> <span class="kd">prefix</span> <span class="bp">`¬¨`</span><span class="o">:</span><span class="mi">40</span> <span class="o">:=</span> <span class="n">not</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="bp">¬¨</span><span class="n">p</span> <span class="bp">‚Üí</span> <span class="n">false</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="bp">‚Üê</span><span class="n">not</span><span class="o">],</span>
  <span class="c1">-- p : Prop,</span>
  <span class="c1">-- h : p</span>
  <span class="c1">-- ‚ä¢ (p ‚Üí false) ‚Üí false</span>
<span class="kd">end</span>

<span class="kd">end</span> <span class="n">foo</span>
</code></pre></div>
<p>(<code>rw [‚Üênot]</code> does the expected thing, however.)</p>



<a name="254237937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254237937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254237937">(Sep 21 2021 at 16:37)</a>:</h4>
<p>Ah, perhaps I was thinking of <code>rw</code></p>



<a name="254238307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254238307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254238307">(Sep 21 2021 at 16:39)</a>:</h4>
<p>That looks like a bug to me, <code>simp</code> has clearly done the opposite of what we asked it to</p>



<a name="254241323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/254241323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#254241323">(Sep 21 2021 at 16:58)</a>:</h4>
<p>Filed as <a href="https://github.com/leanprover-community/lean/issues/623">https://github.com/leanprover-community/lean/issues/623</a>, I'm not familiar enough with the simplifier to debug that one</p>



<a name="260890117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260890117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260890117">(Nov 10 2021 at 01:57)</a>:</h4>
<p>I have <code>hf: fintype.card Œ±' = 0</code> and <code>hn: nonempty Œ±'</code>. How do I use those to prove <code>false</code>?</p>
<p>(<code>library_search</code> couldn't help me)</p>



<a name="260890930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260890930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260890930">(Nov 10 2021 at 02:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.card_pos_iff">docs#fintype.card_pos_iff</a> :)</p>



<a name="260894282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260894282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260894282">(Nov 10 2021 at 02:22)</a>:</h4>
<p>Thanks!!</p>



<a name="260945058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260945058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260945058">(Nov 10 2021 at 04:39)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/fintype.card_ne_zero">docs#fintype.card_ne_zero</a></p>



<a name="260945077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260945077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260945077">(Nov 10 2021 at 04:39)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span> Was that <code>hn : nonempty Œ±</code> already there at the beginning of the proof?</p>



<a name="260945147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260945147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260945147">(Nov 10 2021 at 04:40)</a>:</h4>
<p>I'm asking, because if you created it later, you need to reset the instance cache using the <code>resetI,</code> tactic.<br>
Maybe <code>resetI, library_search</code> would have been able to find the <code>fintype.card_ne_zero</code> lemma.</p>



<a name="260983980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260983980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260983980">(Nov 10 2021 at 12:49)</a>:</h4>
<p>Nope, I had to "fabricate" it. Dunno the exact term. Create? Insert?</p>



<a name="260983998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260983998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260983998">(Nov 10 2021 at 12:49)</a>:</h4>
<p>Ah, state then prove</p>



<a name="260987802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260987802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260987802">(Nov 10 2021 at 13:23)</a>:</h4>
<p>Synthesize!</p>



<a name="260988812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proof%20by%20contradiction/near/260988812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Proof.20by.20contradiction.html#260988812">(Nov 10 2021 at 13:31)</a>:</h4>
<p>I did use <code>tactic.unfreeze_local_instances,</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>