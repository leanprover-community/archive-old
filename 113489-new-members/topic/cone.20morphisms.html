---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/cone.20morphisms.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html">cone morphisms</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="178972996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/178972996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#178972996">(Oct 24 2019 at 16:59)</a>:</h4>
<p>Is there some theorem in lean that proves composition of cone morphism is a cone morphism? I cant find it in cone.lean or limit.lean</p>



<a name="178973934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/178973934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#178973934">(Oct 24 2019 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="132603">@Calle S√∂nne</span> </p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simps</span><span class="o">]</span> <span class="kn">instance</span> <span class="n">cone</span><span class="bp">.</span><span class="n">category</span> <span class="o">:</span> <span class="n">category</span><span class="bp">.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">cone</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span>  <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">A</span> <span class="n">B</span><span class="o">,</span> <span class="n">cone_morphism</span> <span class="n">A</span> <span class="n">B</span><span class="o">,</span>
  <span class="n">comp</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="n">f</span><span class="bp">.</span><span class="n">hom</span> <span class="err">‚â´</span> <span class="n">g</span><span class="bp">.</span><span class="n">hom</span><span class="o">,</span>
    <span class="n">w&#39;</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">intro</span> <span class="n">j</span><span class="bp">;</span> <span class="n">rw</span> <span class="o">[</span><span class="n">assoc</span><span class="o">,</span> <span class="n">g</span><span class="bp">.</span><span class="n">w</span><span class="o">,</span> <span class="n">f</span><span class="bp">.</span><span class="n">w</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">id</span>   <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">B</span><span class="o">,</span> <span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="mi">ùüô</span> <span class="n">B</span><span class="bp">.</span><span class="n">X</span> <span class="o">}</span> <span class="o">}</span>
</pre></div>



<a name="178973940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/178973940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#178973940">(Oct 24 2019 at 17:08)</a>:</h4>
<p>that they form a category</p>



<a name="178973972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/178973972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#178973972">(Oct 24 2019 at 17:09)</a>:</h4>
<p>that also means you shouldn't use <code>cone_morphism</code> explicitly, but rather <code>A \hom B</code></p>



<a name="179120606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120606">(Oct 26 2019 at 10:48)</a>:</h4>
<p>I have the following code:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="k">let</span> <span class="n">H1</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚ü∂</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span><span class="o">,</span> <span class="n">exact</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
<span class="k">let</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="err">‚ü∂</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">exact</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span>
<span class="k">have</span> <span class="n">comp12</span> <span class="o">:</span> <span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span> <span class="bp">=</span> <span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span> <span class="n">apply</span> <span class="n">uniq_cone_morphism</span> <span class="n">limit</span><span class="bp">.</span><span class="n">is_limit</span><span class="o">((</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span> <span class="o">(</span><span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span><span class="o">)</span> <span class="o">(</span><span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span>

<span class="kn">end</span>
</pre></div>


<p>The last have line is a sketch of what I want to say, right now it is giving me an error. I want to apply uniq_cone_morphism to get a goal to show that both H1 &gt;&gt; H2 and the identity are cone morphisms. The statement for uniq_cone_morphism is:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">uniq_cone_morphism</span> <span class="o">{</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">is_limit</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span><span class="n">f</span> <span class="n">f&#39;</span> <span class="o">:</span> <span class="n">s</span> <span class="err">‚ü∂</span> <span class="n">t</span><span class="o">}</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f&#39;</span>
</pre></div>


<p>So I need to say that the equalizer is the limit and here is where I get confused. Equalizer is defined as:</p>
<div class="codehilite"><pre><span></span><span class="kn">abbreviation</span> <span class="n">equalizer</span> <span class="o">:=</span> <span class="n">limit</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>


<p>But limit is defined to be the object of the cone that is the limit:</p>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">has_limit</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="err">‚•§</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cone</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">)</span>
<span class="o">(</span><span class="n">is_limit</span> <span class="o">:</span> <span class="n">is_limit</span> <span class="n">cone</span> <span class="bp">.</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">apply_instance</span><span class="o">)</span>

<span class="n">def</span> <span class="n">limit</span><span class="bp">.</span><span class="n">cone</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="err">‚•§</span> <span class="n">C</span><span class="o">)</span> <span class="o">[</span><span class="n">has_limit</span> <span class="n">F</span><span class="o">]</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span> <span class="o">:=</span> <span class="n">has_limit</span><span class="bp">.</span><span class="n">cone</span> <span class="n">F</span>

<span class="n">def</span> <span class="n">limit</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="err">‚•§</span> <span class="n">C</span><span class="o">)</span> <span class="o">[</span><span class="n">has_limit</span> <span class="n">F</span><span class="o">]</span> <span class="o">:=</span> <span class="o">(</span><span class="n">limit</span><span class="bp">.</span><span class="n">cone</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="n">X</span>
</pre></div>


<p>So my question is: from the object (limit) equalizer f g how do I refer back to the cone (whilst preserving the information that it is indeed a limit)</p>



<a name="179120610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120610">(Oct 26 2019 at 10:48)</a>:</h4>
<p>what imports do you need to get this running?</p>



<a name="179120612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120612">(Oct 26 2019 at 10:49)</a>:</h4>
<p>I should really learn this stuff at some point</p>



<a name="179120621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120621">(Oct 26 2019 at 10:49)</a>:</h4>
<p>import category_theory.limits.shapes.equalizers<br>
import category_theory.limits.limits</p>
<p>open category_theory</p>
<p>namespace category_theory.limits<br>
namespace is_limit</p>



<a name="179120672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120672">(Oct 26 2019 at 10:50)</a>:</h4>
<p>I still have errors</p>



<a name="179120674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120674">(Oct 26 2019 at 10:50)</a>:</h4>
<p>just make a new scratch file and minimise</p>



<a name="179120684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120684">(Oct 26 2019 at 10:51)</a>:</h4>
<p><code>unknown identifier 'equalizer'</code> being the most serious one</p>



<a name="179120728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120728">(Oct 26 2019 at 10:52)</a>:</h4>
<p><code>unknown identifier 'f'</code> being the next one</p>



<a name="179120782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120782">(Oct 26 2019 at 10:54)</a>:</h4>
<p>Oh I got variables. I will send them</p>



<a name="179120783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120783">(Oct 26 2019 at 10:54)</a>:</h4>
<p>variables {C : Type u} [ùíû : category.{v} C]<br>
include ùíû<br>
variables {X Y : C}<br>
variables (f g : X ‚ü∂ Y)<br>
variables [has_limit (parallel_pair f g)]  [has_limit (parallel_pair g f)]</p>



<a name="179120788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120788">(Oct 26 2019 at 10:54)</a>:</h4>
<p>Now I have errors on parallel_pair. Just create a new file, get it working at your end, and paste the whole thing</p>



<a name="179120797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120797">(Oct 26 2019 at 10:55)</a>:</h4>
<p>Ok</p>



<a name="179120802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120802">(Oct 26 2019 at 10:55)</a>:</h4>
<p>I don't know anything, I don't know what is defined where, but I'm very interested in this project you're doing</p>



<a name="179120920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120920">(Oct 26 2019 at 10:59)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">limits</span><span class="bp">.</span><span class="n">shapes</span><span class="bp">.</span><span class="n">equalizers</span>
<span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">limits</span><span class="bp">.</span><span class="n">limits</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kn">namespace</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">limits</span>
<span class="kn">namespace</span> <span class="n">is_limit</span>

<span class="n">universes</span> <span class="n">v</span> <span class="n">u</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="err">ùíû</span> <span class="o">:</span> <span class="n">category</span><span class="bp">.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span>
<span class="n">include</span> <span class="err">ùíû</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">X</span> <span class="err">‚ü∂</span> <span class="n">Y</span><span class="o">)</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">has_limit</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)]</span>  <span class="o">[</span><span class="n">has_limit</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">g</span> <span class="n">f</span><span class="o">)]</span>

<span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="k">let</span> <span class="n">H1</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚ü∂</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span><span class="o">,</span> <span class="n">exact</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
<span class="k">let</span> <span class="n">H2</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="err">‚ü∂</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">exact</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span>
<span class="k">have</span> <span class="n">comp12</span> <span class="o">:</span> <span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span> <span class="bp">=</span> <span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span> <span class="n">apply</span> <span class="n">uniq_cone_morphism</span> <span class="n">limit</span><span class="bp">.</span><span class="n">is_limit</span><span class="o">((</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span> <span class="o">(</span><span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span><span class="o">)</span> <span class="o">(</span><span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">))</span>
<span class="kn">end</span>


<span class="kn">end</span> <span class="n">is_limit</span>
<span class="kn">end</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">limits</span>
</pre></div>


<p>this is enough for me</p>



<a name="179120959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179120959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179120959">(Oct 26 2019 at 10:59)</a>:</h4>
<p>Oh!</p>



<a name="179121011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121011">(Oct 26 2019 at 11:00)</a>:</h4>
<p>I am using a mathlib from July, that must be the problem. Sorry!</p>



<a name="179121085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121085">(Oct 26 2019 at 11:02)</a>:</h4>
<p>Mario would tell you to use <code>refine</code> not <code>apply</code> because <code>apply</code> is in core and has a bug which we can't fix</p>



<a name="179121100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121100">(Oct 26 2019 at 11:03)</a>:</h4>
<p>Oh, thats good to know thanks!</p>



<a name="179121151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121151">(Oct 26 2019 at 11:04)</a>:</h4>
<p>So the error is this:</p>
<div class="codehilite"><pre><span></span>type mismatch at application
  limits.is_limit.uniq_cone_morphism limits.limit.is_limit
term
  limits.limit.is_limit
has type
  Œ† (F : ?m_1 ‚•§ ?m_3) [_inst_3 : limits.has_limit F], limits.is_limit (limits.limit.cone F) : Type (max
        (max ? ?)
        ?
        ?)
but is expected to have type
  limits.is_limit ?m_6 : Type (max ? ?)
Additional information:
/home/buzzard/Encfs/Computer_languages/Lean/lean-projects/natural_number_game/scratch/scratch.lean:22:9: context: switched to simple application elaboration procedure because failed to use expected type to elaborate it, error message
  too many arguments
</pre></div>



<a name="179121160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121160">(Oct 26 2019 at 11:04)</a>:</h4>
<p>yeah</p>



<a name="179121179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121179">(Oct 26 2019 at 11:05)</a>:</h4>
<p>so it says "<code>limits.limit.is_limit</code> wants an <code>F</code> but you didn't give it an <code>F</code>"?</p>



<a name="179121235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121235">(Oct 26 2019 at 11:07)</a>:</h4>
<p>Is this progress: <code>  refine uniq_cone_morphism (limit.is_limit (equalizer f g) (H1 ‚â´ H2) (ùüô (equalizer f g)))</code>? Or have I misunderstood something?</p>



<a name="179121238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121238">(Oct 26 2019 at 11:07)</a>:</h4>
<p>yeah thats the problem, I gave equalizer but thats the limit object</p>



<a name="179121286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121286">(Oct 26 2019 at 11:08)</a>:</h4>
<p>Does <code>\gg</code> do composition in "the wrong order"?</p>



<a name="179121296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121296">(Oct 26 2019 at 11:08)</a>:</h4>
<p>oh yes I can just check its type and see that it does</p>



<a name="179121308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121308">(Oct 26 2019 at 11:09)</a>:</h4>
<p>wait it does?</p>



<a name="179121309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121309">(Oct 26 2019 at 11:09)</a>:</h4>
<p>Isn't it at this point that you just type <code>tidy</code> or some other fancy tactic and you're done?</p>



<a name="179121312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121312">(Oct 26 2019 at 11:09)</a>:</h4>
<p>You are using gg correctly</p>



<a name="179121358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121358">(Oct 26 2019 at 11:10)</a>:</h4>
<p>I was just thrown for a second</p>



<a name="179121359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121359">(Oct 26 2019 at 11:10)</a>:</h4>
<p>neither tidy or simp works</p>



<a name="179121418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121418">(Oct 26 2019 at 11:12)</a>:</h4>
<p>Why does </p>
<div class="codehilite"><pre><span></span><span class="k">have</span> <span class="n">comp12</span> <span class="o">:</span> <span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span> <span class="bp">=</span> <span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span>
  <span class="n">refine</span> <span class="n">uniq_cone_morphism</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>


<p>not work?</p>
<div class="codehilite"><pre><span></span>invalid type ascription, term has type
  ?m_8 = ?m_9
but is expected to have type
  H1 ‚â´ H2 = ùüô (limits.equalizer f g)
</pre></div>



<a name="179121422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121422">(Oct 26 2019 at 11:12)</a>:</h4>
<p>Yeah I got to there now as well</p>



<a name="179121434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121434">(Oct 26 2019 at 11:12)</a>:</h4>
<p>I didnt have to give the cone, I had to give the diagram (parallel_pair f g)</p>



<a name="179121515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121515">(Oct 26 2019 at 11:15)</a>:</h4>
<p>Now one thing Im not sure of is if lean 'knows' that the identity and composition of H1 and H2 are cone morphisms. As kenny said earlier the fact that they form a category is in mathlib, but maybe we need to provide this explictly</p>



<a name="179121517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121517">(Oct 26 2019 at 11:15)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="n">refine</span> <span class="bp">@</span><span class="n">uniq_cone_morphism</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">_</span> <span class="o">:</span> <span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span> <span class="bp">=</span> <span class="mi">ùüô</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
</pre></div>


<p>doesn't work either</p>



<a name="179121575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121575">(Oct 26 2019 at 11:17)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="n">convert</span> <span class="bp">@</span><span class="n">uniq_cone_morphism</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>


<p>gives</p>
<div class="codehilite"><pre><span></span>type mismatch at application
  category_struct.comp H1
term
  H1
has type
  limits.equalizer f g ‚ü∂ limits.equalizer g f : Type v
but is expected to have type
  ?m_6 ‚ü∂ ?m_7 : Type ?
</pre></div>


<p>Is this a universe issue??</p>



<a name="179121630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121630">(Oct 26 2019 at 11:18)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">convert</span> <span class="bp">@</span><span class="n">uniq_cone_morphism</span><span class="bp">.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">H1</span> <span class="err">‚â´</span> <span class="n">H2</span><span class="o">)</span> <span class="o">(</span><span class="mi">ùüô</span> <span class="o">(</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
</pre></div>


<p>shows it isn't. </p>
<div class="codehilite"><pre><span></span>type mismatch at application
  category_struct.comp H1
term
  H1
has type
  limits.equalizer f g ‚ü∂ limits.equalizer g f
but is expected to have type
  ?m_6 ‚ü∂ ?m_7
</pre></div>



<a name="179121637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121637">(Oct 26 2019 at 11:19)</a>:</h4>
<p>Now I need to count to see which is the 6th <code>_</code></p>



<a name="179121746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121746">(Oct 26 2019 at 11:22)</a>:</h4>
<p>I think we need to show that H1 and H2 are cone morphisms</p>



<a name="179121747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121747">(Oct 26 2019 at 11:22)</a>:</h4>
<p>Because right now they are just maps between some objects</p>



<a name="179121750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121750">(Oct 26 2019 at 11:22)</a>:</h4>
<p>equalizer is just the object, not the cone</p>



<a name="179121754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121754">(Oct 26 2019 at 11:22)</a>:</h4>
<p>right, this seems to me to be just a case of looking carefully at the type of everything</p>



<a name="179121806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121806">(Oct 26 2019 at 11:23)</a>:</h4>
<p>Just saw this thread, and may have to run in a moment.</p>



<a name="179121855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121855">(Oct 26 2019 at 11:24)</a>:</h4>
<p>Have a look at <code>def prod.braiding (P Q : C) : P ‚®Ø Q ‚âÖ Q ‚®Ø P := ...</code></p>



<a name="179121858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121858">(Oct 26 2019 at 11:24)</a>:</h4>
<p>in <code>category_theory/limits/shapes/binary_products.lean</code></p>



<a name="179121878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121878">(Oct 26 2019 at 11:25)</a>:</h4>
<p>I don't think <code>uniq_cone_morphism</code> is going to be particularly helpful -- why do you want to use that?</p>



<a name="179121917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121917">(Oct 26 2019 at 11:26)</a>:</h4>
<p>Oh, to prove that the two compositions are the identity, I see.</p>



<a name="179121978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121978">(Oct 26 2019 at 11:28)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="n">tidy</span><span class="o">]</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">case_bash</span>

<span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span> <span class="o">}</span>
</pre></div>


<p>doesn't quite get there, but it gives two very manageable goals that possibly ought to be simp lemmas.</p>



<a name="179121992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179121992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179121992">(Oct 26 2019 at 11:29)</a>:</h4>
<p>(The first incantation <code>local attribute [tidy] tactic.case_bash</code> tells the tidy tactic that it's allowed to case bash on hypotheses which are inductive types. In particular, that means that to prove two natural transformations out of a "finite" category are equal, it can check object by object.)</p>



<a name="179122060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122060">(Oct 26 2019 at 11:31)</a>:</h4>
<p>(Boarding a flight Perth-London, so I'll be offline for a while. :-) Good luck!)</p>



<a name="179122064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122064">(Oct 26 2019 at 11:31)</a>:</h4>
<p>Which London?</p>



<a name="179122356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122356">(Oct 26 2019 at 11:41)</a>:</h4>
<p>I dont really understand the above syntax, how to I continue of what Scott was doing?</p>



<a name="179122398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122398">(Oct 26 2019 at 11:42)</a>:</h4>
<p>Is the := just like let?</p>



<a name="179122402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122402">(Oct 26 2019 at 11:42)</a>:</h4>
<p>he's making a structure, isn't he?</p>



<a name="179122404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122404">(Oct 26 2019 at 11:42)</a>:</h4>
<p>Oh right the isomorphism</p>



<a name="179122412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122412">(Oct 26 2019 at 11:43)</a>:</h4>
<p>But then how do I continue the proof?</p>



<a name="179122423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122423">(Oct 26 2019 at 11:43)</a>:</h4>
<p>good question! I was trying to figure out what was going on in your proof still.</p>



<a name="179122466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122466">(Oct 26 2019 at 11:44)</a>:</h4>
<p>I think he decided to come to London to help you out personally. It's a bit of an extreme reaction but he has to be applauded.</p>



<a name="179122470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122470">(Oct 26 2019 at 11:44)</a>:</h4>
<p>got it</p>



<a name="179122476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122476">(Oct 26 2019 at 11:45)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine_struct</span> <span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span> <span class="o">},</span>
  <span class="n">sorry</span><span class="o">,</span> <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>



<a name="179122532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122532">(Oct 26 2019 at 11:46)</a>:</h4>
<p>does this help? Now it looks like you have to prove something which looks like a standard diagram chase.</p>



<a name="179122544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122544">(Oct 26 2019 at 11:47)</a>:</h4>
<p>Yes exactly, but it feels like that could be done by some tactic?</p>



<a name="179122591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122591">(Oct 26 2019 at 11:48)</a>:</h4>
<p>I'm afraid I do't know how the category theory library works at all. For those watching with amusement, we're now on</p>
<div class="codehilite"><pre><span></span>‚ä¢ limits.equalizer.Œπ f g ‚â´ g = limits.limit.œÄ (limits.parallel_pair f g) limits.walking_parallel_pair.one
</pre></div>



<a name="179122649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122649">(Oct 26 2019 at 11:50)</a>:</h4>
<p>Yeah right now im just reading up, hopefully there is some theorem about the fact that the projection commutes with the diagram</p>



<a name="179122656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122656">(Oct 26 2019 at 11:50)</a>:</h4>
<p>I mean its in the definition but Im not sure how to access that</p>



<a name="179122658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122658">(Oct 26 2019 at 11:50)</a>:</h4>
<p>you could just wait for about 20 hours and then go and meet him at the airport</p>



<a name="179122672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122672">(Oct 26 2019 at 11:51)</a>:</h4>
<p>Seems like a reasonable plan</p>



<a name="179122700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122700">(Oct 26 2019 at 11:52)</a>:</h4>
<p>but I think this will help</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">cone</span><span class="bp">.</span><span class="n">w</span> <span class="o">{</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="err">‚•§</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">)</span> <span class="o">{</span><span class="n">j</span> <span class="n">j&#39;</span> <span class="o">:</span> <span class="n">J</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">j</span> <span class="err">‚ü∂</span> <span class="n">j&#39;</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">c</span><span class="bp">.</span><span class="n">œÄ</span><span class="bp">.</span><span class="n">app</span> <span class="n">j</span> <span class="err">‚â´</span> <span class="n">F</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">c</span><span class="bp">.</span><span class="n">œÄ</span><span class="bp">.</span><span class="n">app</span> <span class="n">j&#39;</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">convert</span> <span class="err">‚Üê</span><span class="o">(</span><span class="n">c</span><span class="bp">.</span><span class="n">œÄ</span><span class="bp">.</span><span class="n">naturality</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">id_comp</span>
</pre></div>



<a name="179122776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122776">(Oct 26 2019 at 11:54)</a>:</h4>
<p>But then the question again becomes how to we access the cone of the equalizer</p>



<a name="179122778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122778">(Oct 26 2019 at 11:54)</a>:</h4>
<p>I cannot steer this stuff at all.</p>



<a name="179122782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122782">(Oct 26 2019 at 11:54)</a>:</h4>
<p>steer?</p>



<a name="179122864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122864">(Oct 26 2019 at 11:58)</a>:</h4>
<p>I don't even know the basics.</p>



<a name="179122901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122901">(Oct 26 2019 at 11:58)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/docs/tutorial/category_theory/calculating_colimits_in_Top.lean" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/docs/tutorial/category_theory/calculating_colimits_in_Top.lean">https://github.com/leanprover-community/mathlib/blob/master/docs/tutorial/category_theory/calculating_colimits_in_Top.lean</a></p>



<a name="179122904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122904">(Oct 26 2019 at 11:58)</a>:</h4>
<p>That's the only documentation I have ever seen.</p>



<a name="179122906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122906">(Oct 26 2019 at 11:58)</a>:</h4>
<p>ah</p>



<a name="179122908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122908">(Oct 26 2019 at 11:58)</a>:</h4>
<p>What I'm saying is that I don't have a clue how to access the cone of the equalizer. In maths I'd just draw a picture and say we were done.</p>



<a name="179122916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122916">(Oct 26 2019 at 11:59)</a>:</h4>
<p>But I can't work Scott's library</p>



<a name="179122919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179122919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179122919">(Oct 26 2019 at 11:59)</a>:</h4>
<p>If it were a car, I'm not saying that I can't drive it, I'm saying I can't even use the steering wheel.</p>



<a name="179123064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123064">(Oct 26 2019 at 12:02)</a>:</h4>
<p>I should stress that this is entirely my problem, not Scott's. Furthermore I think that trying to prove math-trivial things such as the equaliser of f and g is isomorphic the equaliser of g and f is exactly the way one should learn these things. Maybe when you meet Scott at the airport you can tell him that I've booked a room at Imperial for the talk he's giving in London which explains all this stuff.</p>



<a name="179123075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123075">(Oct 26 2019 at 12:03)</a>:</h4>
<p>I made some progress!</p>



<a name="179123077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123077">(Oct 26 2019 at 12:04)</a>:</h4>
<p>but minor...</p>



<a name="179123125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123125">(Oct 26 2019 at 12:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine_struct</span> <span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">‚Üê</span><span class="n">limit</span><span class="bp">.</span><span class="n">w</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>



<a name="179123135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123135">(Oct 26 2019 at 12:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="err">‚ä¢</span> <span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚â´</span> <span class="n">g</span> <span class="bp">=</span>
    <span class="n">limits</span><span class="bp">.</span><span class="n">limit</span><span class="bp">.</span><span class="n">œÄ</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="err">?</span><span class="n">m_1</span> <span class="err">‚â´</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="err">?</span><span class="n">m_2</span>
</pre></div>



<a name="179123145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123145">(Oct 26 2019 at 12:05)</a>:</h4>
<p>Just have to figure out how to supply ?m_1 and ?m_2</p>



<a name="179123557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123557">(Oct 26 2019 at 12:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">comm_of_equalizer</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚âÖ</span> <span class="n">equalizer</span> <span class="n">g</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine_struct</span> <span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">g</span> <span class="n">f</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">f</span> <span class="n">g</span><span class="o">)),</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">((</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">condition</span><span class="o">)</span> <span class="n">g</span> <span class="n">f</span><span class="o">)),</span> <span class="o">},</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">‚Üê</span><span class="n">limit</span><span class="bp">.</span><span class="n">w</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">walking_parallel_pair_hom</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span> <span class="n">parallel_pair_map_right</span><span class="o">],</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">‚Üê</span><span class="n">limit</span><span class="bp">.</span><span class="n">w</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">g</span> <span class="n">f</span><span class="o">)</span> <span class="n">walking_parallel_pair_hom</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span> <span class="n">parallel_pair_map_right</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>



<a name="179123599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123599">(Oct 26 2019 at 12:18)</a>:</h4>
<p>now it is done. Thank you very much for the help <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  <span class="user-mention" data-user-id="110087">@Scott Morrison</span></p>



<a name="179123601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123601">(Oct 26 2019 at 12:18)</a>:</h4>
<p>Now write some docs! ;-)</p>



<a name="179123623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123623">(Oct 26 2019 at 12:19)</a>:</h4>
<p>Make a new file in the <a href="https://github.com/leanprover-community/mathlib/tree/master/docs/tutorial/category_theory" target="_blank" title="https://github.com/leanprover-community/mathlib/tree/master/docs/tutorial/category_theory">https://github.com/leanprover-community/mathlib/tree/master/docs/tutorial/category_theory</a> directory and just write down the basic things you need to know to work with equalisers and give this as an example.</p>



<a name="179123627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123627">(Oct 26 2019 at 12:19)</a>:</h4>
<p>And then Patrick will accept the PR and...oh :-/</p>



<a name="179123749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123749">(Oct 26 2019 at 12:22)</a>:</h4>
<p>I think I need some more practice first. Now I will try to prove</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mono_of_equalizer</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>



<a name="179123820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123820">(Oct 26 2019 at 12:24)</a>:</h4>
<p>I am absolutely serious when I say that if you just figure out how to prove three trivial things about equalizers and then just write a little piece saying what the problems are and how to solve them in Lean and dump it as a .md file in that category theory directory then you will be doing a great service to the community, and not least to people like me who see this stuff now, understand it, forget it, and then can't find this thread in 1 month's time -- people like me (old people) and newcomers (beginners) really need documentation.</p>



<a name="179123888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123888">(Oct 26 2019 at 12:26)</a>:</h4>
<p>Another trivial lean question:</p>
<div class="codehilite"><pre><span></span><span class="n">class</span> <span class="n">mono</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="err">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">right_cancellation</span> <span class="o">:</span> <span class="bp">Œ†</span> <span class="o">{</span><span class="n">Z</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">g</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Z</span> <span class="err">‚ü∂</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="n">g</span> <span class="err">‚â´</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">h</span> <span class="err">‚â´</span> <span class="n">f</span><span class="o">),</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">h</span><span class="o">)</span>
</pre></div>


<p>I have the above class and I want to prove</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mono_of_equalizer</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>


<p>I tried using intro but it says "Pi\let expression expected" What does this mean?</p>



<a name="179123890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123890">(Oct 26 2019 at 12:26)</a>:</h4>
<p>Like how do I unfold</p>



<a name="179123894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123894">(Oct 26 2019 at 12:26)</a>:</h4>
<blockquote>
<p>I am absolutely serious when I say that if you just figure out how to prove three trivial things about equalizers and then just write a little piece saying what the problems are and how to solve them in Lean and dump it as a .md file in that category theory directory then you will be doing a great service to the community, and not least to people like me who see this stuff now, understand it, forget it, and then can't find this thread in 1 month's time -- people like me (old people) and newcomers (beginners) really need documentation.</p>
</blockquote>
<p>Im thinning I could write it after proving both of these things</p>



<a name="179123913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123913">(Oct 26 2019 at 12:27)</a>:</h4>
<blockquote>
<p>I tried using intro but it says "Pi\let expression expected" What does this mean?</p>
</blockquote>
<p>That means "the goal is not a pi type, it's something else"</p>



<a name="179123959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123959">(Oct 26 2019 at 12:28)</a>:</h4>
<p>indeed, <code>mono</code> is a structure</p>



<a name="179123967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179123967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179123967">(Oct 26 2019 at 12:28)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mono_of_equalizer</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="bp">‚ü®_‚ü©</span><span class="o">,</span>
  <span class="n">intro</span><span class="o">,</span>
</pre></div>



<a name="179124026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124026">(Oct 26 2019 at 12:30)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mono_of_equalizer</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">right_cancellation</span> <span class="o">:=</span> <span class="k">begin</span>
  <span class="n">intro</span><span class="o">,</span>
  <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span><span class="o">}</span>
</pre></div>



<a name="179124448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124448">(Oct 26 2019 at 12:42)</a>:</h4>
<p>So I've been trying to answer your original question ("how do I get my way to work") and I am slowly beginning to get to the point where you were when you asked the question. </p>
<div class="codehilite"><pre><span></span>term
  limits.equalizer f g
has type
  C : Type u
but is expected to have type
  limits.cone ?m_3 : Type (max u v)
</pre></div>


<p>This is the problem, right?</p>



<a name="179124530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124530">(Oct 26 2019 at 12:45)</a>:</h4>
<p><code>uniq_cone_morphism</code>, the thing you were initially trying to use, does <em>not</em> prove that two morphisms in <code>C</code> are equal, it proves that two morphisms in some category called <code>limits.cone F</code> are equal. This is why you're stuck.</p>



<a name="179124573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124573">(Oct 26 2019 at 12:46)</a>:</h4>
<p>[or rather why you were stuck 2 hours ago]</p>



<a name="179124599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124599">(Oct 26 2019 at 12:47)</a>:</h4>
<p>yeah exactly</p>



<a name="179124609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124609">(Oct 26 2019 at 12:48)</a>:</h4>
<p>So what I was wondering was how to lift the information to the category of cones</p>



<a name="179124644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124644">(Oct 26 2019 at 12:48)</a>:</h4>
<p>limit (diagram) is not the cone, but just the element</p>



<a name="179124944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124944">(Oct 26 2019 at 12:57)</a>:</h4>
<p>I have a problem for the last step of the proof, a rewrite in the middle of a function composition:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">mono_of_equalizer</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">refine</span> <span class="bp">‚ü®_‚ü©</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">Z</span> <span class="n">h</span> <span class="n">i</span> <span class="n">comp</span><span class="o">,</span>
<span class="n">apply</span> <span class="n">limit</span><span class="bp">.</span><span class="n">hom_ext</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">j</span><span class="o">,</span> <span class="n">cases</span> <span class="n">j</span><span class="o">,</span>
<span class="n">refine</span> <span class="n">comp</span><span class="o">,</span>
<span class="n">rw</span> <span class="o">[</span><span class="err">‚Üê</span><span class="n">limit</span><span class="bp">.</span><span class="n">w</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">walking_parallel_pair_hom</span><span class="bp">.</span><span class="n">right</span><span class="o">,</span> <span class="n">comp</span><span class="o">],</span>
<span class="kn">end</span>
</pre></div>


<p>This is my goal:</p>
<div class="codehilite"><pre><span></span><span class="mi">1</span> <span class="n">goal</span>
<span class="n">case</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">limits</span><span class="bp">.</span><span class="n">walking_parallel_pair</span><span class="bp">.</span><span class="n">one</span>
<span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
<span class="err">ùíû</span> <span class="o">:</span> <span class="n">category</span> <span class="n">C</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">,</span>
<span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">X</span> <span class="err">‚ü∂</span> <span class="n">Y</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">limits</span><span class="bp">.</span><span class="n">has_limit</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span>
<span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">limits</span><span class="bp">.</span><span class="n">has_limit</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">g</span> <span class="n">f</span><span class="o">),</span>
<span class="n">Z</span> <span class="o">:</span> <span class="n">C</span><span class="o">,</span>
<span class="n">h</span> <span class="n">i</span> <span class="o">:</span> <span class="n">Z</span> <span class="err">‚ü∂</span> <span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span>
<span class="n">comp</span> <span class="o">:</span> <span class="n">h</span> <span class="err">‚â´</span> <span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">i</span> <span class="err">‚â´</span> <span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span>
<span class="err">‚ä¢</span> <span class="n">h</span> <span class="err">‚â´</span>
      <span class="n">limits</span><span class="bp">.</span><span class="n">limit</span><span class="bp">.</span><span class="n">œÄ</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">limits</span><span class="bp">.</span><span class="n">walking_parallel_pair</span><span class="bp">.</span><span class="n">zero</span> <span class="err">‚â´</span>
        <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">limits</span><span class="bp">.</span><span class="n">walking_parallel_pair_hom</span><span class="bp">.</span><span class="n">right</span> <span class="bp">=</span>
    <span class="n">i</span> <span class="err">‚â´</span>
      <span class="n">limits</span><span class="bp">.</span><span class="n">limit</span><span class="bp">.</span><span class="n">œÄ</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">limits</span><span class="bp">.</span><span class="n">walking_parallel_pair</span><span class="bp">.</span><span class="n">zero</span> <span class="err">‚â´</span>
        <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">limits</span><span class="bp">.</span><span class="n">walking_parallel_pair_hom</span><span class="bp">.</span><span class="n">right</span>
</pre></div>


<p>Now limits.equalizer.Œπ f g (see the comp hypothesis) is just an abbrevation:</p>
<div class="codehilite"><pre><span></span><span class="kn">abbreviation</span> <span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="o">:</span> <span class="n">equalizer</span> <span class="n">f</span> <span class="n">g</span> <span class="err">‚ü∂</span> <span class="n">X</span> <span class="o">:=</span>
<span class="n">limit</span><span class="bp">.</span><span class="n">œÄ</span> <span class="o">(</span><span class="n">parallel_pair</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="n">zero</span>
</pre></div>


<p>So I should be done with just a simple rewrite using comp, but I get the following error:</p>
<div class="codehilite"><pre><span></span><span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kn">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="n">h</span> <span class="err">‚â´</span> <span class="n">limits</span><span class="bp">.</span><span class="n">equalizer</span><span class="bp">.</span><span class="n">Œπ</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>



<a name="179124988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179124988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179124988">(Oct 26 2019 at 12:58)</a>:</h4>
<p>FYI on the line <code>refine comp</code> I had the exact same goal, only without the 2nd function composition. Then refine comp worked perfectly to eliminate one of the goals</p>



<a name="179125196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125196">(Oct 26 2019 at 13:04)</a>:</h4>
<p>Before <code>rw comp</code> your local context is this:</p>
<div class="codehilite"><pre><span></span>comp : h ‚â´ limits.equalizer.Œπ f g = i ‚â´ limits.equalizer.Œπ f g
‚ä¢ h ‚â´
      limits.limit.œÄ (limits.parallel_pair f g) limits.walking_parallel_pair.zero ‚â´
        (limits.parallel_pair f g).map limits.walking_parallel_pair_hom.right =
    i ‚â´
      limits.limit.œÄ (limits.parallel_pair f g) limits.walking_parallel_pair.zero ‚â´
        (limits.parallel_pair f g).map limits.walking_parallel_pair_hom.right
</pre></div>


<p>So <code>rw comp</code> will fail because <code>rw</code> works with syntactic equality, and the left hand side of <code>h</code> is not exactly mentioned in the goal.</p>



<a name="179125223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125223">(Oct 26 2019 at 13:05)</a>:</h4>
<p>So can I somehow rewrite the abbrevation first?</p>



<a name="179125266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125266">(Oct 26 2019 at 13:06)</a>:</h4>
<p>I have no idea how to steer abbreviations. I don't even know what they are.</p>



<a name="179125271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125271">(Oct 26 2019 at 13:06)</a>:</h4>
<p>ah :/</p>



<a name="179125281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125281">(Oct 26 2019 at 13:07)</a>:</h4>
<p>Is the left hand side of the goal I posted definitionally equal to the left hand side of <code>comp</code> in your opinion?</p>



<a name="179125287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125287">(Oct 26 2019 at 13:07)</a>:</h4>
<p>there are too many &gt;&gt;'s, right?</p>



<a name="179125293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125293">(Oct 26 2019 at 13:07)</a>:</h4>
<p>but the last &gt;&gt; is the same on both sides</p>



<a name="179125341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125341">(Oct 26 2019 at 13:08)</a>:</h4>
<p>Is &gt;&gt; left associative or right associative?</p>



<a name="179125344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125344">(Oct 26 2019 at 13:08)</a>:</h4>
<p>aah! It's right associative!</p>



<a name="179125345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125345">(Oct 26 2019 at 13:08)</a>:</h4>
<p>Wait now Im confused, isnt it both?</p>



<a name="179125347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125347">(Oct 26 2019 at 13:09)</a>:</h4>
<p>nonono</p>



<a name="179125350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125350">(Oct 26 2019 at 13:09)</a>:</h4>
<p>oh okay now I see</p>



<a name="179125353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125353">(Oct 26 2019 at 13:09)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">print</span> <span class="kn">notation</span> <span class="err">‚â´</span>
<span class="bp">#</span><span class="kn">print</span> <span class="kn">notation</span> <span class="bp">+</span>
<span class="bp">#</span><span class="kn">print</span> <span class="kn">notation</span> <span class="err">^</span>
</pre></div>



<a name="179125362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125362">(Oct 26 2019 at 13:09)</a>:</h4>
<p>I can never remember whether the difference in numbers means left or right</p>



<a name="179125371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125371">(Oct 26 2019 at 13:09)</a>:</h4>
<p>For <code>+</code> the two numbers are the same, so <code>+</code> is left associative</p>



<a name="179125383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125383">(Oct 26 2019 at 13:09)</a>:</h4>
<p>by which I mean "when Lean says <code>a+b+c</code>, it means <code>(a+b)+c</code>"</p>



<a name="179125429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125429">(Oct 26 2019 at 13:10)</a>:</h4>
<p>So I have to rewrite associativity first</p>



<a name="179125433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125433">(Oct 26 2019 at 13:10)</a>:</h4>
<p>For <code>^</code> the numbers differ by 1, because it's right associative. So, yes.</p>



<a name="179125438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125438">(Oct 26 2019 at 13:11)</a>:</h4>
<p>what's this lemma called?</p>



<a name="179125441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125441">(Oct 26 2019 at 13:11)</a>:</h4>
<p>actually, what's this axiom called?</p>



<a name="179125444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125444">(Oct 26 2019 at 13:11)</a>:</h4>
<p>ha ha if I don't even know the names of the axioms this is a pretty good indication of how good I am at categories in Lean :D</p>



<a name="179125448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125448">(Oct 26 2019 at 13:11)</a>:</h4>
<p>category.assoc_symm</p>



<a name="179125491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125491">(Oct 26 2019 at 13:12)</a>:</h4>
<p>Not <code>assoc</code>??</p>



<a name="179125502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125502">(Oct 26 2019 at 13:13)</a>:</h4>
<p>wow you're right. Maybe it's because it's the other way around to usual because of the different conventions.</p>



<a name="179125505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125505">(Oct 26 2019 at 13:13)</a>:</h4>
<p>I dont know but category.assoc_symm worked</p>



<a name="179125511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Calle S√∂nne <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125511">(Oct 26 2019 at 13:13)</a>:</h4>
<p>Thank you. The proof is now completed</p>



<a name="179125551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125551">(Oct 26 2019 at 13:14)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">print</span> <span class="kn">notation</span> <span class="err">‚àò</span>
</pre></div>


<p>Usual function composition is left associative, so the convention I guess is that <code>assoc</code> means <code>(a*b)*c=a*(b*c)</code> [for a general infix binary operator]</p>



<a name="179125554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125554">(Oct 26 2019 at 13:14)</a>:</h4>
<p>and then you apply <code>eq.symm</code> and you get Scott's axiom.</p>



<a name="179125639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179125639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179125639">(Oct 26 2019 at 13:18)</a>:</h4>
<p>so the rewrite does work. I guess <code>abbreviation</code> really does not change even syntactic equality. Maybe the parser just unfolds it before even passing it to the kernel?</p>



<a name="179129168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179129168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179129168">(Oct 26 2019 at 15:00)</a>:</h4>
<p>they're not <code>lemma</code>s they're <code>def</code>s</p>



<a name="179157424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/cone%20morphisms/near/179157424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/cone.20morphisms.html#179157424">(Oct 27 2019 at 06:22)</a>:</h4>
<p>It sounds like you've been making good progress. :-) I am actually in London right now, but only for two hours, before heading off to Frankfurt. I wish I could have stopped by Imperial to chat about categories in Lean, but my travel schedule is pretty constrained, so I'm just jumping back and forth for a week at Oberwolfach (for my "day job").</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>