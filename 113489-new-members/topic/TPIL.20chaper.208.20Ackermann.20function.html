---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html">TPIL chaper 8 Ackermann function</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="190675506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190675506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190675506">(Mar 16 2020 at 00:47)</a>:</h4>
<p>In chapter 8 section 4 of TPIL the Ackermann function is defined,</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">ack</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="n">y</span>     <span class="o">:=</span> <span class="n">y</span><span class="bp">+</span><span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="o">(</span><span class="n">ack</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">y</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">ack</span> <span class="mi">3</span> <span class="mi">5</span>
</pre></div>


<p>and it says, "As a final example, we observe that Ackermann’s function can be defined directly, because it is justified by the well foundedness of the lexicographic order on the natural numbers."</p>
<p>But when I copy and paste it into VS code I get red squiggles under <code>ack</code> telling me that it's not well founded and asking me to prove <code>x &lt; x</code>, which is false. How can I prove the well foundedness of <code>ack</code> using the lexicographic order on the natural numbers?</p>



<a name="190675725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190675725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190675725">(Mar 16 2020 at 00:54)</a>:</h4>
<p>It works for me. What lean version are you using?</p>



<a name="190676054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676054">(Mar 16 2020 at 01:05)</a>:</h4>
<p>I don't know</p>



<a name="190676064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676064">(Mar 16 2020 at 01:05)</a>:</h4>
<p>How do I find out?</p>



<a name="190676111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676111">(Mar 16 2020 at 01:06)</a>:</h4>
<p><code>lean --version</code> from the command line, if you have one</p>



<a name="190676127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676127">(Mar 16 2020 at 01:06)</a>:</h4>
<p>Actually, better is <code>#print lean.version</code></p>



<a name="190676138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676138">(Mar 16 2020 at 01:07)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">lean</span><span class="bp">.</span><span class="n">version</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">×</span> <span class="bp">ℕ</span> <span class="bp">×</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>



<a name="190676266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676266">(Mar 16 2020 at 01:11)</a>:</h4>
<p>Odd, <a href="https://leanprover-community.github.io/lean-web-editor/#code=--%20Live%20WebAssembly%20version%20of%20Lean%0A%23eval%20let%20v%20%3A%3D%20lean.version%20in%20let%20s%20%3A%3D%20lean.special_version_desc%20in%20string.join%0A%5B%22Lean%20%28version%20%22%2C%20v.1.repr%2C%20%22.%22%2C%20v.2.1.repr%2C%20%22.%22%2C%20v.2.2.repr%2C%20%22%2C%20%22%2C%0Aif%20s%20%E2%89%A0%20%22%22%20then%20s%20%2B%2B%20%22%2C%20%22%20else%20s%2C%20%22commit%20%22%2C%20%28lean.githash.to_list.take%2012%29.as_string%2C%20%22%29%22%5D%0A%0Adef%20ack%20%3A%20%E2%84%95%20%E2%86%92%20%E2%84%95%20%E2%86%92%20%E2%84%95%0A%7C%200%20%20%20%20%20y%20%20%20%20%20%3A%3D%20y%2B1%0A%7C%20%28x%2B1%29%200%20%20%20%20%20%3A%3D%20ack%20x%201%0A%7C%20%28x%2B1%29%20%28y%2B1%29%20%3A%3D%20ack%20x%20%28ack%20%28x%2B1%29%20y%29%0A%0A%23eval%20ack%203%205" target="_blank" title="https://leanprover-community.github.io/lean-web-editor/#code=--%20Live%20WebAssembly%20version%20of%20Lean%0A%23eval%20let%20v%20%3A%3D%20lean.version%20in%20let%20s%20%3A%3D%20lean.special_version_desc%20in%20string.join%0A%5B%22Lean%20%28version%20%22%2C%20v.1.repr%2C%20%22.%22%2C%20v.2.1.repr%2C%20%22.%22%2C%20v.2.2.repr%2C%20%22%2C%20%22%2C%0Aif%20s%20%E2%89%A0%20%22%22%20then%20s%20%2B%2B%20%22%2C%20%22%20else%20s%2C%20%22commit%20%22%2C%20%28lean.githash.to_list.take%2012%29.as_string%2C%20%22%29%22%5D%0A%0Adef%20ack%20%3A%20%E2%84%95%20%E2%86%92%20%E2%84%95%20%E2%86%92%20%E2%84%95%0A%7C%200%20%20%20%20%20y%20%20%20%20%20%3A%3D%20y%2B1%0A%7C%20%28x%2B1%29%200%20%20%20%20%20%3A%3D%20ack%20x%201%0A%7C%20%28x%2B1%29%20%28y%2B1%29%20%3A%3D%20ack%20x%20%28ack%20%28x%2B1%29%20y%29%0A%0A%23eval%20ack%203%205">it works</a> in the web editor, which is currently on 3.5.1c as well.</p>



<a name="190676328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676328">(Mar 16 2020 at 01:12)</a>:</h4>
<p>Here's the message:</p>
<div class="codehilite"><pre><span></span><span class="n">failed</span> <span class="n">to</span> <span class="n">prove</span> <span class="n">recursive</span> <span class="n">application</span> <span class="n">is</span> <span class="n">decreasing</span><span class="o">,</span> <span class="n">well</span> <span class="n">founded</span> <span class="n">relation</span>
  <span class="bp">@</span><span class="n">has_well_founded</span><span class="bp">.</span><span class="n">r</span> <span class="o">(</span><span class="err">Σ&#39;</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">ℕ</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">psigma</span><span class="bp">.</span><span class="n">has_well_founded</span> <span class="bp">ℕ</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_well_founded_of_has_sizeof</span> <span class="bp">ℕ</span> <span class="n">nat</span><span class="bp">.</span><span class="n">has_sizeof</span><span class="o">)</span>
       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">@</span><span class="n">has_well_founded_of_has_sizeof</span> <span class="bp">ℕ</span> <span class="n">nat</span><span class="bp">.</span><span class="n">has_sizeof</span><span class="o">))</span>
<span class="n">Possible</span> <span class="n">solutions</span><span class="o">:</span>
  <span class="bp">-</span> <span class="n">Use</span> <span class="err">&#39;</span><span class="n">using_well_founded&#39;</span> <span class="n">keyword</span> <span class="k">in</span> <span class="n">the</span> <span class="kn">end</span> <span class="n">of</span> <span class="n">your</span> <span class="kn">definition</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">tactics</span> <span class="n">for</span> <span class="n">synthesizing</span> <span class="n">well</span> <span class="n">founded</span> <span class="n">relations</span> <span class="n">and</span> <span class="n">decreasing</span> <span class="n">proofs</span><span class="bp">.</span>
  <span class="bp">-</span> <span class="n">The</span> <span class="n">default</span> <span class="n">decreasing</span> <span class="n">tactic</span> <span class="n">uses</span> <span class="n">the</span> <span class="err">&#39;</span><span class="n">assumption&#39;</span> <span class="n">tactic</span><span class="o">,</span> <span class="n">thus</span> <span class="n">hints</span> <span class="o">(</span><span class="n">aka</span> <span class="n">local</span> <span class="n">proofs</span><span class="o">)</span> <span class="n">can</span> <span class="n">be</span> <span class="n">provided</span> <span class="kn">using</span> <span class="err">&#39;</span><span class="k">have</span><span class="err">&#39;</span><span class="bp">-</span><span class="n">expressions</span><span class="bp">.</span>
<span class="n">The</span> <span class="n">nested</span> <span class="n">exception</span> <span class="n">contains</span> <span class="n">the</span> <span class="n">failure</span> <span class="n">state</span> <span class="n">for</span> <span class="n">the</span> <span class="n">decreasing</span> <span class="n">tactic</span><span class="bp">.</span>
<span class="n">nested</span> <span class="n">exception</span> <span class="n">message</span><span class="o">:</span>
<span class="n">invalid</span> <span class="n">apply</span> <span class="n">tactic</span><span class="o">,</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">unify</span>
  <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">x</span>
<span class="k">with</span>
  <span class="err">?</span><span class="n">m_1</span> <span class="bp">&lt;</span> <span class="err">?</span><span class="n">m_1</span> <span class="bp">+</span> <span class="err">?</span><span class="n">m_2</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">ack</span> <span class="o">:</span> <span class="o">(</span><span class="err">Σ&#39;</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">),</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">ℕ</span><span class="o">,</span>
<span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="bp">ℕ</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">x</span>
</pre></div>



<a name="190676459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676459">(Mar 16 2020 at 01:16)</a>:</h4>
<p>I created a new file and now it works.</p>



<a name="190676477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676477">(Mar 16 2020 at 01:17)</a>:</h4>
<p>I originally had it in a scrap file full of lots of other stuff. Maybe I messed with some options which stuffed it or something.</p>



<a name="190676628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676628">(Mar 16 2020 at 01:21)</a>:</h4>
<p>The problem is with the imports...</p>



<a name="190676891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676891">(Mar 16 2020 at 01:29)</a>:</h4>
<p>Ok I got it down to this, which doesn't work, and gives the same error,</p>
<div class="codehilite"><pre><span></span><span class="c1">-- import tactic.hint</span>
<span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">suggest</span>
<span class="kn">import</span> <span class="n">tactic</span>

<span class="n">def</span> <span class="n">ack</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="n">y</span>     <span class="o">:=</span> <span class="n">y</span><span class="bp">+</span><span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="o">(</span><span class="n">ack</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">y</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">ack</span> <span class="mi">3</span> <span class="mi">5</span>
</pre></div>


<p>You can swap <code>import tactic.suggest</code> with <code>import tactic.hint</code> and get the same error, but if you take either of the imports out the error goes away.</p>



<a name="190676893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190676893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lucas Allen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190676893">(Mar 16 2020 at 01:29)</a>:</h4>
<p>I gtg.</p>



<a name="190677046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190677046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190677046">(Mar 16 2020 at 01:33)</a>:</h4>
<p>I can reproduce this</p>



<a name="190677338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190677338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190677338">(Mar 16 2020 at 01:42)</a>:</h4>
<p><code>tactic.suggest</code> and <code>tactic.hint</code> are both imported by <code>import tactic</code>, so commenting or uncommenting those doesn't really do anything if <code>import tactic</code> is there.</p>
<p>Chasing the other tactics I found that something in <code>data.nat.basic</code> can cause <code>ack</code> to break:</p>
<div class="codehilite"><pre><span></span><span class="c1">-- comment this and it works</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">nat</span><span class="bp">.</span><span class="n">basic</span>
<span class="c1">-- imports of data.nat.basic, comment or uncomment, doesn&#39;t matter</span>
<span class="kn">import</span> <span class="n">logic</span><span class="bp">.</span><span class="n">basic</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ordered_ring</span> <span class="n">data</span><span class="bp">.</span><span class="n">option</span><span class="bp">.</span><span class="n">basic</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">order_functions</span>

<span class="n">def</span> <span class="n">ack</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="n">y</span>     <span class="o">:=</span> <span class="n">y</span><span class="bp">+</span><span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="mi">1</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">ack</span> <span class="n">x</span> <span class="o">(</span><span class="n">ack</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="n">y</span><span class="o">)</span>

<span class="bp">#</span><span class="kn">eval</span> <span class="n">ack</span> <span class="mi">3</span> <span class="mi">5</span>
</pre></div>



<a name="190892232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190892232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190892232">(Mar 17 2020 at 18:32)</a>:</h4>
<p>It's the <code>@[simp]</code> attribute on <code>nat.succ_pos'</code> that causes the failure. I'm really not sure why.</p>



<a name="190895097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190895097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190895097">(Mar 17 2020 at 18:55)</a>:</h4>
<p>Does it work if you change <code>(x + 1)</code> etc to <code>nat.succ x</code> etc?</p>



<a name="190896025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190896025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190896025">(Mar 17 2020 at 19:02)</a>:</h4>
<p>No</p>



<a name="190899789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190899789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190899789">(Mar 17 2020 at 19:31)</a>:</h4>
<p>This is all fixed in 3.6.1</p>



<a name="190899920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/TPIL%20chaper%208%20Ackermann%20function/near/190899920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/TPIL.20chaper.208.20Ackermann.20function.html#190899920">(Mar 17 2020 at 19:32)</a>:</h4>
<p>So the solution is to upgrade your Lean</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>