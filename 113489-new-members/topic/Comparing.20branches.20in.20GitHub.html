---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html">Comparing branches in GitHub</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266766481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766481">(Jan 04 2022 at 03:48)</a>:</h4>
<p>Sorry for what seems like a rather elementary GitHub question: when I'm looking at an open PR that depends on another open PR (like <a href="https://github.com/leanprover-community/mathlib/pull/11167">#11167</a> depends on <a href="https://github.com/leanprover-community/mathlib/pull/10850">#10850</a>, which  in turn depends on <a href="https://github.com/leanprover-community/mathlib/pull/10540">#10540</a>), by default the "Files changed" view shows everything that's changed by the whole chain of dependencies (i.e. in this case the cumulative changes introduced in <a href="https://github.com/leanprover-community/mathlib/pull/10540">#10540</a>, <a href="https://github.com/leanprover-community/mathlib/pull/10850">#10850</a> and <a href="https://github.com/leanprover-community/mathlib/pull/11167">#11167</a>).  What's the simplest way to see just what's changed by the PR I'm looking at (i.e. just the changes introduced by <a href="https://github.com/leanprover-community/mathlib/pull/11167">#11167</a>, relative to the baseline of <a href="https://github.com/leanprover-community/mathlib/pull/10850">#10850</a>)?</p>



<a name="266766569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766569">(Jan 04 2022 at 03:50)</a>:</h4>
<p>There's this "hidden" feature of GitHub called <a href="https://github.com/leanprover-community/mathlib/compare">compare</a><br>
(just type out "compare" in the end of a repo URL)</p>



<a name="266766675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766675">(Jan 04 2022 at 03:52)</a>:</h4>
<p>Comparing "<code>branch1</code> ← <code>branch2</code>" will tell you the file changes that would take place if you were merging <code>branch2</code> into <code>branch1</code></p>



<a name="266766795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766795">(Jan 04 2022 at 03:55)</a>:</h4>
<p>You can also do it in your terminal, but with a significantly less friendly interface. If you're on <code>branch2</code> and you want to compare it with <code>branch1</code> (which must be up to date with GitHub), you can do</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ git diff branch1
</code></pre></div>



<a name="266766854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766854">(Jan 04 2022 at 03:57)</a>:</h4>
<p>Great, thanks!</p>



<a name="266766959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266766959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266766959">(Jan 04 2022 at 03:59)</a>:</h4>
<p>I always wished <code>git diff</code> had the github thing where it said how many commits ahead/behind it was</p>



<a name="266767163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767163">(Jan 04 2022 at 04:02)</a>:</h4>
<p>In the above case, where I'm comparing <a href="https://github.com/leanprover-community/mathlib/tree/SP_factorization_multiplicative">branch#SP_factorization_multiplicative</a> (for <a href="https://github.com/leanprover-community/mathlib/pull/11167">#11167</a>) against <a href="https://github.com/leanprover-community/mathlib/tree/SP_factorization_coprime_pos">branch#SP_factorization_coprime_pos</a> (for <a href="https://github.com/leanprover-community/mathlib/pull/10850">#10850</a>) I get 326 changed files, and I then have to search for the filename of the specific file I've personally changed.  Is this exactly what I should expect?</p>



<a name="266767279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767279">(Jan 04 2022 at 04:04)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/tree/SP_factorization_multiplicative">branch#SP_factorization_multiplicative</a> seems to be more up to date with <code>master</code>. Try merging <code>master</code> into <a href="https://github.com/leanprover-community/mathlib/tree/SP_factorization_coprime_pos">branch#SP_factorization_coprime_pos</a> too. This way you will have a clearer diff</p>



<a name="266767356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767356">(Jan 04 2022 at 04:06)</a>:</h4>
<p>Ok, thanks</p>



<a name="266767543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767543">(Jan 04 2022 at 04:11)</a>:</h4>
<p>When comparing "<code>branch1</code> ← <code>branch2</code>", making <code>branch1</code> the most updated branch should be enough. That would make <code>branch2</code> have no other changes w.r.t. <code>branch1</code> except for the changes you made.</p>



<a name="266767603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767603">(Jan 04 2022 at 04:13)</a>:</h4>
<p>The other case I'm interested in is slightly more complicated.  In <a href="https://github.com/leanprover-community/mathlib/tree/SP_algebra_big_operators_prime">branch#SP_algebra_big_operators_prime</a> (<a href="https://github.com/leanprover-community/mathlib/pull/10675">#10675</a>) I created a new file <code>algebra/big_operators/prime</code> with some material in it.  Then in <a href="https://github.com/leanprover-community/mathlib/tree/SP_count_factors_prod">branch#SP_count_factors_prod</a> (<a href="https://github.com/leanprover-community/mathlib/pull/10855">#10855</a>) I added to this file.  Then at the suggestion of a reviewer on <a href="https://github.com/leanprover-community/mathlib/pull/10675">#10675</a> I moved the initial material to <code>algebra/big_operators/associated</code> and deleted <code>algebra/big_operators/prime</code>.  So when I use the <code>compare</code> page with these two branches it can't find the relevant files to compare (since the changes in <a href="https://github.com/leanprover-community/mathlib/tree/SP_count_factors_prod">branch#SP_count_factors_prod</a> are to a file that no longer exists in <a href="https://github.com/leanprover-community/mathlib/tree/SP_algebra_big_operators_prime">branch#SP_algebra_big_operators_prime</a>). Is there any kind of trick I can use here?</p>



<a name="266767630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767630">(Jan 04 2022 at 04:13)</a>:</h4>
<p>Specifically, I want to find everything that's new in <a href="https://github.com/leanprover-community/mathlib/pull/10855">#10855</a> to make sure I bring it over to <code>algebra/big_operators/associated</code>.</p>



<a name="266767721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767721">(Jan 04 2022 at 04:15)</a>:</h4>
<p>I would highly recommend a simpler workflow than managing different inter-dependent branches.</p>
<p>One approach that I think works well is stuffing everything in a single branch, and making sure it's always consistent with <code>master</code>. Then open PRs with new branches containing small chunks of your changes form your main development branch</p>



<a name="266767787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767787">(Jan 04 2022 at 04:17)</a>:</h4>
<p>Otherwise, depending on the complexity of your changes (moving files around, deleting files, renaming files, creating new files etc), it might be way harder than it needs to be</p>



<a name="266767793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767793">(Jan 04 2022 at 04:18)</a>:</h4>
<p>Thanks, I suspect I've been making life difficult for myself by not using GitHub correctly.</p>



<a name="266767836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767836">(Jan 04 2022 at 04:18)</a>:</h4>
<p>Of course, I suppose I could just look at the commits in <a href="https://github.com/leanprover-community/mathlib/pull/10855">#10855</a>.  Clicking on the title of <code>Add lemma finset.count_factors_prod</code> shows what I changed in that one commit.  Can I see all the cumulative changes in all commits since that one?</p>



<a name="266767851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767851">(Jan 04 2022 at 04:19)</a>:</h4>
<p>Yes, in your teriminal you can do <code>git diff &lt;commit hash&gt;</code></p>



<a name="266767856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767856">(Jan 04 2022 at 04:19)</a>:</h4>
<p>Ah, thanks!</p>



<a name="266767989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266767989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266767989">(Jan 04 2022 at 04:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422543">Stuart Presnell</span> <a href="#narrow/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub/near/266767793">said</a>:</p>
<blockquote>
<p>Thanks, I suspect I've been making life difficult for myself by not using GitHub correctly.</p>
</blockquote>
<p>It's also a matter of practice. <code>git</code> is not a very simple tool</p>



<a name="266768150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266768150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266768150">(Jan 04 2022 at 04:26)</a>:</h4>
<p>I should sit down and work through a tutorial on git best-practice.</p>



<a name="266769156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266769156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266769156">(Jan 04 2022 at 04:47)</a>:</h4>
<p>You can always merge in another PR's branch into your branch. Or merge in master to reduce the difference to master</p>



<a name="266805974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266805974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266805974">(Jan 04 2022 at 13:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422543">Stuart Presnell</span> <a href="#narrow/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub/near/266767836">said</a>:</p>
<blockquote>
<p>Of course, I suppose I could just look at the commits in <a href="https://github.com/leanprover-community/mathlib/pull/10855">#10855</a>.  Clicking on the title of <code>Add lemma finset.count_factors_prod</code> shows what I changed in that one commit.  Can I see all the cumulative changes in all commits since that one?</p>
</blockquote>
<p>You can also go to your PR's files tab (<a href="https://github.com/leanprover-community/mathlib/pull/10855/files">https://github.com/leanprover-community/mathlib/pull/10855/files</a>), click on the "Changes from" dropdown on the left, and click on the first and last commits you want to diff while holding Shift.</p>



<a name="266806671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266806671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266806671">(Jan 04 2022 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="422543">Stuart Presnell</span> <a href="#narrow/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub/near/266767603">said</a>:</p>
<blockquote>
<p>The other case I'm interested in is slightly more complicated.  In <a href="https://github.com/leanprover-community/mathlib/tree/SP_algebra_big_operators_prime">branch#SP_algebra_big_operators_prime</a> (<a href="https://github.com/leanprover-community/mathlib/pull/10675">#10675</a>) I created a new file <code>algebra/big_operators/prime</code> with some material in it.  Then in <a href="https://github.com/leanprover-community/mathlib/tree/SP_count_factors_prod">branch#SP_count_factors_prod</a> (<a href="https://github.com/leanprover-community/mathlib/pull/10855">#10855</a>) I added to this file.  Then at the suggestion of a reviewer on <a href="https://github.com/leanprover-community/mathlib/pull/10675">#10675</a> I moved the initial material to <code>algebra/big_operators/associated</code> and deleted <code>algebra/big_operators/prime</code>.  So when I use the <code>compare</code> page with these two branches it can't find the relevant files to compare (since the changes in <a href="https://github.com/leanprover-community/mathlib/tree/SP_count_factors_prod">branch#SP_count_factors_prod</a> are to a file that no longer exists in <a href="https://github.com/leanprover-community/mathlib/tree/SP_algebra_big_operators_prime">branch#SP_algebra_big_operators_prime</a>). Is there any kind of trick I can use here?</p>
</blockquote>
<p>Assuming I am not messing up timezones, the problem here is that bors deletes the source branch when it merges a PR, so there is no branch to compare with. You can use the compare page to diff your branch against the commit created by bors: <a href="https://github.com/leanprover-community/mathlib/compare/a10cb2f...SP_count_factors_prod">https://github.com/leanprover-community/mathlib/compare/a10cb2f...SP_count_factors_prod</a></p>



<a name="266806982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Comparing%20branches%20in%20GitHub/near/266806982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Comparing.20branches.20in.20GitHub.html#266806982">(Jan 04 2022 at 13:27)</a>:</h4>
<p>Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>