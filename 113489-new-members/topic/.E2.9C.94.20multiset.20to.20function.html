---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html">✔ multiset to function</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269045876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269045876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hans Parshall <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269045876">(Jan 23 2022 at 23:36)</a>:</h4>
<p>If we have a <code>fintype n</code> and a function <code>(f : n → ℂ)</code>, then we can consider the range of <code>f</code> as a multiset <code>(M : multiset ℂ)</code>.  I want to know how to go the other way.  Given a multiset <code>(M : multiset ℂ)</code> with <code>M.card = fintype.card n</code>, how do I define a function <code>(f : n → ℂ)</code> whose range as a multiset is equal to <code>M</code>?  <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.lists">docs#multiset.lists</a> looks promising, but I'm not sure how to select a representative list or then convert it to a function.</p>



<a name="269047412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047412">(Jan 24 2022 at 00:10)</a>:</h4>
<p>You could combine <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.to_list">docs#multiset.to_list</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth_le">docs#list.nth_le</a> to obtain a function from <code>fin n</code>. Do we not have <code>list.get</code> (we have this in the lean4 stdlib)?</p>



<a name="269047682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hans Parshall <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047682">(Jan 24 2022 at 00:16)</a>:</h4>
<p>Does <code>to_list</code> retain multiplicities?  I am guessing yes, since it looks like it pulls a representative list that quotients to the multiset.</p>



<a name="269047695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047695">(Jan 24 2022 at 00:16)</a>:</h4>
<p>yes</p>



<a name="269047767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047767">(Jan 24 2022 at 00:18)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <code>list.get</code> is called <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth">docs#list.nth</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/list.inth">docs#list.inth</a> or <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nth_le">docs#list.nth_le</a> depending on what you want to do about out of bounds values</p>



<a name="269047849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047849">(Jan 24 2022 at 00:20)</a>:</h4>
<p>looking at lean 4 stdlib it seems like it corresponds to <code>list.nth_le</code></p>



<a name="269047920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269047920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269047920">(Jan 24 2022 at 00:22)</a>:</h4>
<p>You can obtain the list of all elements of <code>n</code> from <code>fintype n</code>. Then you can obtain the list of elements of the multiset using <code>multiset.to_list</code>. Since the cardinalities are the same and the first list contains all elements of <code>n</code> exactly once, you can create a function that maps each element of the first list to the corresponding element of the second list (for each element obtain the index and then use <code>list.nth_le</code>).</p>



<a name="269048463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269048463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hans Parshall <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269048463">(Jan 24 2022 at 00:35)</a>:</h4>
<p>thanks very much folks</p>



<a name="269048467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269048467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269048467">(Jan 24 2022 at 00:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459656">Hans Parshall</span> has marked this topic as resolved.</p>



<a name="269048555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269048555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269048555">(Jan 24 2022 at 00:37)</a>:</h4>
<p>Will you be using this function in other definitions or proofs, Hans? As you can imagine, there is no canonical way to make this function, unless you have a total ordering on your range.</p>



<a name="269049201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/%E2%9C%94%20multiset%20to%20function/near/269049201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hans Parshall <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/.E2.9C.94.20multiset.20to.20function.html#269049201">(Jan 24 2022 at 00:53)</a>:</h4>
<p>for the moment it was a placeholder, but this does make sense</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>