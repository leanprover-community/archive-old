---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/begginer.20matrix.20question.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html">begginer matrix question</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="233293654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233293654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233293654">(Apr 06 2021 at 09:56)</a>:</h4>
<p>Hello, I'm new here and have been playing around with matrices in Lean. First of all, sorry if this is not the correct stream to ask this in.</p>
<p>My problems are essentially with matrix coercion.  I’ve seen that we there is the following notation for matrices and I would like to know how to use it for special_linear_group. Specifically, how do I take</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra.matrix</span>
<span class="kn">import</span> <span class="n">data.matrix.notation</span>
        <span class="kd">def</span> <span class="n">N</span> <span class="o">:</span> <span class="n">matrix</span>  <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span> <span class="o">)</span> <span class="n">ℤ</span><span class="o">:=</span> <span class="bp">!</span><span class="o">[</span><span class="bp">!</span><span class="o">[</span><span class="bp">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">],</span> <span class="bp">!</span><span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="bp">-</span><span class="mi">1</span><span class="o">]]</span>
</code></pre></div>
<p>and turn it into an element of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra.special_linear_group</span>
        <span class="kd">def</span> <span class="n">SL2Z</span> <span class="o">:=</span> <span class="n">special_linear_group</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="n">ℤ</span>
</code></pre></div>
<p>I assume this wont be automatic as one has prove N has determinant 1, but I dont know how to get lean to take a 2x2 matrix of determinant 1 and think of it as an element of SL2Z. </p>
<p>Thank you</p>



<a name="233294090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233294090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233294090">(Apr 06 2021 at 10:00)</a>:</h4>
<p><span class="user-mention" data-user-id="389019">@Chris Birkbeck</span> Welcome! This stream is fine (-;</p>



<a name="233294190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233294190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233294190">(Apr 06 2021 at 10:00)</a>:</h4>
<p>You can turn a matrix into an element of <code>SL2Z</code> using <code>\&lt; _, _ \&gt;</code>. If you type that into VScode, the <code>\&lt;</code> and <code>\&gt;</code> will turn into funny unicode brackets.</p>



<a name="233294228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233294228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233294228">(Apr 06 2021 at 10:01)</a>:</h4>
<p>The end result will be <code>\&lt;your_matrix, proof_that_det_eq_1\&gt;</code></p>



<a name="233295205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233295205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233295205">(Apr 06 2021 at 10:10)</a>:</h4>
<p>Ah that's what I needed. Thank you very much!</p>



<a name="233295462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233295462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233295462">(Apr 06 2021 at 10:13)</a>:</h4>
<p>I guess the following also works:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">my_matrix</span> <span class="o">:</span> <span class="n">SL2Z</span> <span class="o">:=</span>
<span class="n">_</span>
</code></pre></div>
<p>Now put your cursor on the <code>_</code>, and wait till a little <span aria-label="bulb" class="emoji emoji-1f4a1" role="img" title="bulb">:bulb:</span> appears.</p>



<a name="233295486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233295486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233295486">(Apr 06 2021 at 10:13)</a>:</h4>
<p>Then you can click it, or type <code>Ctrl</code>-<code>.</code>.</p>



<a name="233295579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233295579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233295579">(Apr 06 2021 at 10:14)</a>:</h4>
<p>Now choose <code>generate skeleton</code> (almost at the bottom of hte menu)</p>



<a name="233317723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233317723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233317723">(Apr 06 2021 at 13:25)</a>:</h4>
<p>Thats really useful, thank you. Now, say I wanted to use this notation. I was trying to prove that N^2 is 1. I end up with something that looks like </p>
<p><code>⟨N, proof⟩ * ⟨N, proof⟩ = 1</code></p>
<p>Now, I can't seem to figure out how to simplify this. I guess I'm confused how one splits this into working with the matrices and proofs separetely (but maybe one doesnt want to do this and there is something better?).</p>



<a name="233317917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233317917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233317917">(Apr 06 2021 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="389019">@Chris Birkbeck</span> So now there is hopefully an <code>ext</code>-lemma for <code>SL2Z</code> that says that for proving equalities it suffices to check equality of the matrices.</p>



<a name="233317976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233317976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233317976">(Apr 06 2021 at 13:26)</a>:</h4>
<p>If it doesn't exist <code>apply subtype.coe_injective</code> hopefully works. (I'm just guessing.)</p>



<a name="233318289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318289">(Apr 06 2021 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="389019">@Chris Birkbeck</span> You might want to just work with <code>special_linear_group</code>, instead of making your <code>SL2Z</code> definition on top of it.</p>



<a name="233318323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318323">(Apr 06 2021 at 13:29)</a>:</h4>
<p>Then the <code>ext</code> tactic will help you further.</p>



<a name="233318365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318365">(Apr 06 2021 at 13:29)</a>:</h4>
<p>It will apply this lemma: <a href="https://leanprover-community.github.io/mathlib_docs/linear_algebra/special_linear_group.html#matrix.special_linear_group.ext">https://leanprover-community.github.io/mathlib_docs/linear_algebra/special_linear_group.html#matrix.special_linear_group.ext</a></p>



<a name="233318387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318387">(Apr 06 2021 at 13:29)</a>:</h4>
<p>Which says that if all coefficients are equal, then you are done.</p>



<a name="233318516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318516">(Apr 06 2021 at 13:30)</a>:</h4>
<p>After <code>ext</code>, you do <code>intros i j</code>, and then <code>fin_cases i; fin_cases j</code> should give you 4 goals, one for each coefficient.</p>



<a name="233318535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/begginer%20matrix%20question/near/233318535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/begginer.20matrix.20question.html#233318535">(Apr 06 2021 at 13:30)</a>:</h4>
<p>With a bit of luck, each of them can be closed with <code>simp</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>