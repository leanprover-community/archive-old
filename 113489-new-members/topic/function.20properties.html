---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/function.20properties.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html">function properties</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="247397721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247397721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Holly Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247397721">(Jul 27 2021 at 22:00)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- A function is involutive, if `f ∘ f = id`. -/</span>
<span class="kd">def</span> <span class="n">involutive</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span>

<span class="kd">lemma</span> <span class="n">involutive_iff_iter_2_eq_id</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">involutive</span> <span class="n">f</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">f</span><span class="bp">^</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="bp">=</span> <span class="n">id</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">funext_iff.symm</span>

<span class="kn">namespace</span> <span class="n">involutive</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">involutive</span> <span class="n">f</span><span class="o">)</span>
<span class="kn">include</span> <span class="n">h</span>

<span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">comp_self</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">∘</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">id</span> <span class="o">:=</span> <span class="n">funext</span> <span class="n">h</span>

<span class="kn">protected</span> <span class="kd">lemma</span> <span class="n">left_inverse</span> <span class="o">:</span> <span class="n">left_inverse</span> <span class="n">f</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">h</span>
<span class="kn">protected</span> <span class="kd">lemma</span> <span class="n">right_inverse</span> <span class="o">:</span> <span class="n">right_inverse</span> <span class="n">f</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">h</span>

<span class="kn">protected</span> <span class="kd">lemma</span> <span class="n">injective</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">h.left_inverse.injective</span>
<span class="kn">protected</span> <span class="kd">lemma</span> <span class="n">surjective</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">⟨</span><span class="n">f</span> <span class="n">x</span><span class="o">,</span> <span class="n">h</span> <span class="n">x</span><span class="o">⟩</span>
<span class="kn">protected</span> <span class="kd">lemma</span> <span class="n">bijective</span> <span class="o">:</span> <span class="n">bijective</span> <span class="n">f</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">h.injective</span><span class="o">,</span> <span class="n">h.surjective</span><span class="o">⟩</span>
</code></pre></div>
<p>i'm confused on why lemmas like <code>protected lemma injective : injective f := h.left_inverse.injective</code> are allowed to use <code>injective</code> in the name of the lemma, the proof goal, and the proof itself? is <code>injective</code>also defined elsewhere?</p>



<a name="247399681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247399681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247399681">(Jul 27 2021 at 22:18)</a>:</h4>
<p>Yes, <a href="https://leanprover-community.github.io/mathlib_docs/find/function.injective">docs#function.injective</a></p>



<a name="247399733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247399733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247399733">(Jul 27 2021 at 22:19)</a>:</h4>
<p>Hovering over the name in vscode should tell you that</p>



<a name="247399749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247399749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247399749">(Jul 27 2021 at 22:19)</a>:</h4>
<p>Or failing that, right clicking and saying "go to definition"</p>



<a name="247404389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247404389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Holly Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247404389">(Jul 27 2021 at 23:07)</a>:</h4>
<p>thanks. yes, i am able to see the definition by hovering, although "go to definition" doesn't yield anything for me. i'm searching the github files which doesn't have those mechanisms.</p>



<a name="247412142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247412142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247412142">(Jul 28 2021 at 01:15)</a>:</h4>
<p>The word after "lemma" is the name for the lemma. It can be basically anything. "protected" means it will be named "involutive.injective", because we are in the "involutive" namespace, and even if someone did "open involutive". The second "injective" refers to "function.injective". It can't refer to the "injective" we just named, because that is only available (when proving in this fashion) after our proof. The third injective is from "left_injective.injective", which is the lemma that states that given a hypothesis that some function is a "left_inverse", then it means the function discussed is injective.</p>



<a name="247424474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247424474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Holly Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247424474">(Jul 28 2021 at 05:52)</a>:</h4>
<p>thanks for the reply! could you elaborate on <code>left_inverse.injective</code>? are you referring to <code>protected lemma left_inverse : left_inverse f f := h</code> and if so, does appending a <code>.inverse</code> to this function (<code>left_inverse.injective</code>) make it the injective property related to <code>left_inverse</code> ?</p>



<a name="247425619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247425619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247425619">(Jul 28 2021 at 06:16)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/function.left_inverse.injective">docs#function.left_inverse.injective</a></p>



<a name="247425656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247425656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247425656">(Jul 28 2021 at 06:17)</a>:</h4>
<p>It's that.</p>



<a name="247511632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247511632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Holly Liu <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247511632">(Jul 28 2021 at 20:16)</a>:</h4>
<p>so is <code>h.left_inverse.injective</code> equivalent to <code>left_inverse.injective h</code>?</p>



<a name="247513412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247513412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247513412">(Jul 28 2021 at 20:32)</a>:</h4>
<p>Yes, as long as you have "open function"</p>



<a name="247513437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/function%20properties/near/247513437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/function.20properties.html#247513437">(Jul 28 2021 at 20:33)</a>:</h4>
<p>It's not just equivalent, it is literally the same.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>