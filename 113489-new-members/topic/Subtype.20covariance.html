---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Subtype.20covariance.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html">Subtype covariance</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270445926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270445926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270445926">(Feb 02 2022 at 19:43)</a>:</h4>
<p>Does  Lean have any feature for covariance with respect to subtypes? I have a type <code>T</code> and its subtype <code>S</code>. I can tag the definition of <code>S</code> with <code>@[reducible]</code> in case it matters. I have a term of type <code>list S</code>. Can I use it in a position of an argument of type <code>list T</code> please? I suspect it doesn't work like that with <code>list</code> but maybe, with some custom types, does it work? I want to use it for types depending on types.</p>



<a name="270447224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270447224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270447224">(Feb 02 2022 at 19:52)</a>:</h4>
<p>The only way I know how to do this is to explicitly write <code>l.map coe</code> to coerce the elements of a list. (That is, you use the <code>map</code> functor to manage covariance yourself.)</p>
<p>(It might be interesting if there were an attribute (not implemented yet) that you could tag a function to be able to try to automatically construct a subtype version.)</p>



<a name="270447314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270447314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270447314">(Feb 02 2022 at 19:53)</a>:</h4>
<p>Can you make an <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> of the function to show what you want to do? There might be other solutions.</p>



<a name="270447978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270447978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270447978">(Feb 02 2022 at 19:58)</a>:</h4>
<p>Making an MWE for my use case will be a bit harder but I will try.</p>



<a name="270448129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270448129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270448129">(Feb 02 2022 at 19:59)</a>:</h4>
<p>We do have lift instances for list, for going the other way, via tactics</p>



<a name="270448202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270448202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270448202">(Feb 02 2022 at 19:59)</a>:</h4>
<p>For input argument? The other way?!</p>



<a name="270525194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270525194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270525194">(Feb 03 2022 at 10:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/113489-new-members/topic/Subtype.20covariance/near/270448129">said</a>:</p>
<blockquote>
<p>We do have lift instances for list, for going the other way, via tactics</p>
</blockquote>
<p>Can you please explain?</p>



<a name="270557154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270557154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270557154">(Feb 03 2022 at 14:29)</a>:</h4>
<p>First of all, we have a general <a href="https://leanprover-community.github.io/mathlib_docs/find/coe_subtype">docs#coe_subtype</a>. I was referring to <a href="https://leanprover-community.github.io/mathlib_docs/find/lift_list">docs#lift_list</a></p>



<a name="270727189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Subtype%20covariance/near/270727189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Subtype.20covariance.html#270727189">(Feb 04 2022 at 15:08)</a>:</h4>
<p>Does <code>has_lift</code> come automatically whenever we create a subtype? And can we have <code>has_lift</code> for something that is not a subtype?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>