---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/translation.20on.20reals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html">translation on reals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220796338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220796338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220796338">(Dec 23 2020 at 15:04)</a>:</h4>
<p>Dear All,</p>
<p>I am struggling to find a proof of the lemma below: I am convinced that it should be in mathlib, I have found <code>continuous_add</code>, but I know so little od the topology side of mathlib, that I am unable to get it to work.  Can anyone give me a pointer, please?</p>
<p>Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.convex.topology</span>

<span class="kn">open</span> <span class="n">real</span>

<span class="kd">lemma</span> <span class="n">translate_open</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">oU</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="o">((</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">-</span> <span class="n">α</span><span class="o">)</span> <span class="bp">''</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="220797148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797148">(Dec 23 2020 at 15:14)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a></p>



<a name="220797829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797829">(Dec 23 2020 at 15:22)</a>:</h4>
<p>I have a set <code>A</code> of reals and a real <code>x ∈ A</code>.  I want to show that <code>A \ {x} ≠ ∅</code> by showing that <code>A</code> contains a neighbourhood of <code>x</code>.  The neighbourhood in question is the translate of an intersection of sets that I already know are open and nonempty, hence the question!</p>



<a name="220797859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797859">(Dec 23 2020 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> there is <code>continuous_add_left</code></p>



<a name="220797895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797895">(Dec 23 2020 at 15:23)</a>:</h4>
<p>the first thing I would do is change your goal to preimage under addition, instead of images under subtraction.</p>



<a name="220797950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797950">(Dec 23 2020 at 15:24)</a>:</h4>
<p>Hmm, maybe I should <code>import</code> more?  I get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">unknown</span> <span class="n">identifier</span> <span class="bp">'</span><span class="n">has_continuous_add_left'</span>
</code></pre></div>



<a name="220797978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797978">(Dec 23 2020 at 15:24)</a>:</h4>
<p>Let me try with replacing preimages!</p>



<a name="220797987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220797987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220797987">(Dec 23 2020 at 15:24)</a>:</h4>
<p>without the <code>has_</code></p>



<a name="220798030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220798030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220798030">(Dec 23 2020 at 15:25)</a>:</h4>
<p>or better, <em>use</em> the preimage under addition instead of the image under subtraction as your neighbourhood</p>



<a name="220798178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220798178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220798178">(Dec 23 2020 at 15:27)</a>:</h4>
<p>I will try to make this work, thanks!</p>



<a name="220798344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220798344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220798344">(Dec 23 2020 at 15:29)</a>:</h4>
<p>This works!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">translate_open</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">U</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">oU</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="o">((</span><span class="bp">λ</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">y</span> <span class="bp">+</span> <span class="n">α</span><span class="o">)</span> <span class="bp">⁻¹'</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">continuous_add_right</span> <span class="n">α</span> <span class="n">U</span> <span class="n">oU</span>
</code></pre></div>
<p>Now I will adjust the rest to what I have!</p>



<a name="220798951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220798951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220798951">(Dec 23 2020 at 15:36)</a>:</h4>
<p>There is even <code>preimage_add_const_Ioo</code>!  Found by <code>simp</code>!</p>



<a name="220800231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220800231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220800231">(Dec 23 2020 at 15:52)</a>:</h4>
<p>Is there no <code>homeomorph_add_left</code> in mathlib?</p>



<a name="220800368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220800368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220800368">(Dec 23 2020 at 15:54)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/homeomorph.add_left">docs#homeomorph.add_left</a></p>



<a name="220802879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/translation%20on%20reals/near/220802879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/translation.20on.20reals.html#220802879">(Dec 23 2020 at 16:21)</a>:</h4>
<p>Ah, thanks for the pointer to <code>homeomorph.add_left</code>!  I am doing some very simple-minded argument, so I may not be needing it, but I am relieved to see that it is in mathlib!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>