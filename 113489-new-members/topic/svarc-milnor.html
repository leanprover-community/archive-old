---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/svarc-milnor.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html">svarc-milnor</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289981985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/289981985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Georgi Kocharyan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#289981985">(Jul 18 2022 at 15:31)</a>:</h4>
<p>Hiya,<br>
I'm doing a summer project on Lean and am working on formalising the Svarc-Milnor lemma - I've finished proving the first part about \a being generated by a specific subset S, and now I want to  state the second part of the theorem (that states \a quasi-isometric to the metric space \b it acts on) and am getting a weird error message:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">metric_svarcmilnor2</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">inhabited</span> <span class="n">β</span><span class="o">]</span> <span class="o">[</span><span class="n">group</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">inhabited</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">cpos</span><span class="o">:</span> <span class="n">c</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">bpos</span><span class="o">:</span> <span class="n">b</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span>  <span class="o">[</span><span class="n">quasigeodesic_space</span> <span class="n">β</span> <span class="n">c</span> <span class="n">b</span> <span class="n">cpos</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">bpos</span><span class="o">)]</span>
  <span class="o">[</span><span class="n">isom_action</span> <span class="n">α</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">htrans</span><span class="o">:</span> <span class="n">translates_cover</span> <span class="n">α</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">finitediam</span> <span class="o">:</span> <span class="n">metric.bounded</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span>
   <span class="o">:</span> <span class="bp">@</span><span class="n">is_QI</span> <span class="n">α</span> <span class="n">β</span> <span class="o">(</span><span class="bp">@</span><span class="n">word_metric</span> <span class="n">α</span> <span class="n">_</span> <span class="o">(</span><span class="bp">@</span><span class="n">proper_action_set</span> <span class="n">α</span> <span class="n">β</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">set_closed_ball</span> <span class="n">s</span> <span class="o">(</span><span class="mi">2</span><span class="bp">*</span><span class="n">b</span><span class="o">)))</span> <span class="o">(</span><span class="n">metric_svarcmilnor1</span> <span class="n">c</span> <span class="n">b</span> <span class="n">cpos</span> <span class="n">bpos</span> <span class="n">s</span> <span class="n">htrans</span> <span class="n">finitediam</span><span class="o">))</span> <span class="n">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">g</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">g</span> <span class="bp">•</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
   <span class="gr">sorry</span>
</code></pre></div>
<p>The error states:</p>
<p>type mismatch at application<br>
  word_metric<br>
term<br>
  α<br>
has type<br>
  Type u_1 : Type (u_1+1)<br>
but is expected to have type<br>
  Type : Type 1</p>
<p>I realise this might not be enough information to know what the problem is, I just figured this might be a common error. It uses my definition of the word metric on groups which takes Type* as an argument - let me know if you'd like to see it.<br>
Thanks in advance :)</p>



<a name="289982552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/289982552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#289982552">(Jul 18 2022 at 15:34)</a>:</h4>
<p>Hey Georgi! The problem is that your definition of <code>word_metric</code> is not <em>universe-polymorphic</em>. That is, it only applies to types in <code>Type</code> (= <code>Type 0</code>), and not all <code>Type u</code>. You can probably just replace <code>Type</code> by <code>Type*</code> and it should work.</p>



<a name="289982917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/289982917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#289982917">(Jul 18 2022 at 15:37)</a>:</h4>
<p>Note that <code>Type*</code> <strong>in lemma statements</strong> means "Lean, please make it <code>Type u</code> for whatever <code>u</code> makes sense". So if <code>word_metric</code> uses something that is already not universe-polymorphic, then Lean will think "Oh, <code>u</code> must be <code>0</code>" and <code>word_metric</code> won't be universe-polymorphic either.</p>



<a name="289983133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/289983133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#289983133">(Jul 18 2022 at 15:38)</a>:</h4>
<p><code>Type*</code> <strong>in <code>variables</code> declarations</strong> means "Lean, this is <code>Type u</code> for some fixed <code>u</code> I am not bothering to declare. Deal with it".</p>



<a name="289983445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/289983445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Georgi Kocharyan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#289983445">(Jul 18 2022 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/113489-new-members/topic/svarc-milnor/near/289982552">said</a>:</p>
<blockquote>
<p>Hey Georgi! The problem is that your definition of <code>word_metric</code> is not <em>universe-polymorphic</em>. That is, it only applies to types in <code>Type</code> (= <code>Type 0</code>), and not all <code>Type u</code>. You can probably just replace <code>Type</code> by <code>Type*</code> and it should work.</p>
</blockquote>
<p>amazing!! I forgot to add the *, because I didn't know what it did, but now I do :) Thank you!</p>



<a name="290022519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/290022519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jim Fowler <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#290022519">(Jul 18 2022 at 21:03)</a>:</h4>
<p>This is great!  Is <code>quasigeodesic_space</code> in mathlib?  Is <code>isom_action</code> in mathlib...?</p>



<a name="290218305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/svarc-milnor/near/290218305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Georgi Kocharyan <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/svarc-milnor.html#290218305">(Jul 20 2022 at 10:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="466727">Jim Fowler</span> <a href="#narrow/stream/113489-new-members/topic/svarc-milnor/near/290022519">said</a>:</p>
<blockquote>
<p>This is great!  Is <code>quasigeodesic_space</code> in mathlib?  Is <code>isom_action</code> in mathlib...?</p>
</blockquote>
<p>No, this is all stuff I've defined. Check the repo if you want to see the definitions!<br>
<a href="https://github.com/GregorSamsa42/svarc-milnor">https://github.com/GregorSamsa42/svarc-milnor</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>