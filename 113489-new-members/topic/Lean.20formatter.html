---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/Lean.20formatter.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html">Lean formatter</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="225954559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225954559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225954559">(Feb 11 2021 at 07:01)</a>:</h4>
<p>in JavaScript there is this pretty tool called prettier that prettifies my code. is there an equivalent tool for Lean? and also is there a Lean linter to catch some style errors?</p>



<a name="225954576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225954576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225954576">(Feb 11 2021 at 07:01)</a>:</h4>
<p>for example i want to ban all uses of <code>theorem</code> in my Lean code because <code>theorem</code> sounds pompous</p>



<a name="225954640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225954640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Huỳnh Trần Khanh <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225954640">(Feb 11 2021 at 07:02)</a>:</h4>
<p>or forbid non terminal simp</p>



<a name="225954783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225954783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225954783">(Feb 11 2021 at 07:05)</a>:</h4>
<p>We don't have a code formatter. There are a bunch of linters in mathlib, but not for non-terminal simp.</p>



<a name="225954793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225954793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225954793">(Feb 11 2021 at 07:05)</a>:</h4>
<p>They do catch unused hypotheses or bad simp lemmas, and things like that</p>



<a name="225960994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225960994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225960994">(Feb 11 2021 at 08:38)</a>:</h4>
<p>I don't understand enough about linters to know whether they would be capable of checking for nonterminal simps. Isn't there some sort of limitation as to what they can do? Some nonterminal simps are ok, eg I think <code>simp, ring</code> is ok for closing a goal because even if <code>simp</code>gets smarter it's highly unlikely to break a <code>ring</code> proof which worked before</p>



<a name="225978848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225978848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225978848">(Feb 11 2021 at 11:48)</a>:</h4>
<p>It has been a while so this may have been fixed, but my understanding is that linters can only access the output of a tactic, not the tactic script itself. So finding nonterminal simps is basically undoable (in Lean 3).</p>



<a name="225978942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/225978942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#225978942">(Feb 11 2021 at 11:48)</a>:</h4>
<p>Writing a Lean formatter in Lean will be difficult too for the same reason.</p>



<a name="226005490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/226005490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#226005490">(Feb 11 2021 at 15:17)</a>:</h4>
<p>This should be doable in Lean 4, though!</p>



<a name="299268394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/299268394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Josiah Eldon Bills <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#299268394">(Sep 17 2022 at 03:23)</a>:</h4>
<p>There is an old thread about how there isn't a formatter for Lean. Is this still true? If not, does the Lean parser produce a parse tree (sometimes called a concrete syntax tree) with whitespace still present that could be used to make one?</p>



<a name="299335567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Lean%20formatter/near/299335567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/Lean.20formatter.html#299335567">(Sep 17 2022 at 15:26)</a>:</h4>
<p>We are working on this for Lean 4, the plan is that eventually the standard Lean 4 PrettyPrinter will be able to print our a standartized, formatted version of any Lean code there is, but right now that is still quite a bit away from what it can do.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>