---
layout: archive
title: Zulip Chat Archive
permalink: /stream/113489-new-members/topic/primes.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html">primes</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241113052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241113052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241113052">(Jun 02 2021 at 07:15)</a>:</h4>
<p>How can I close the second example? (it is a little bit weird to me that <code>norm_num</code> doesn't work for the second one...)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.lattice</span>
<span class="kn">import</span> <span class="n">data.nat.prime</span>

<span class="kn">open</span> <span class="n">set</span> <span class="n">nat</span>

<span class="kd">def</span> <span class="n">primes</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">prime</span> <span class="n">x</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">prime</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">norm_num</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">∈</span> <span class="n">primes</span> <span class="o">:=</span>
<span class="kd">begin</span>
   <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="241113678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241113678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241113678">(Jun 02 2021 at 07:24)</a>:</h4>
<p><code>norm_num</code> won't unfold the definition of <code>primes</code> for you so it can't make any progress</p>



<a name="241113747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241113747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241113747">(Jun 02 2021 at 07:25)</a>:</h4>
<p>It's not its job to unfold things and it sticks to its job</p>



<a name="241114163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241114163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241114163">(Jun 02 2021 at 07:30)</a>:</h4>
<p>maybe <code>norm_num [primes]</code> works.</p>



<a name="241152571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241152571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241152571">(Jun 02 2021 at 13:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/primes/near/241114163">said</a>:</p>
<blockquote>
<p>maybe <code>norm_num [primes]</code> works.</p>
</blockquote>
<p>Sadly, it wouldn't work. What can I do to close the goal then?</p>



<a name="241152773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241152773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241152773">(Jun 02 2021 at 14:00)</a>:</h4>
<p><code>simp [primes], norm_num</code> should work</p>



<a name="241153128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153128">(Jun 02 2021 at 14:02)</a>:</h4>
<p>or you can <code>unfold primes</code> (which does <code>simp [primes]</code> under the hood)</p>



<a name="241153236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153236">(Jun 02 2021 at 14:03)</a>:</h4>
<p>actually just <code>unfold primes</code> won't be enough since you also need to cancel the mem and set_of</p>



<a name="241153328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153328">(Jun 02 2021 at 14:04)</a>:</h4>
<p>although <code>norm_num</code> will probably do this since it uses the default simp set iirc</p>



<a name="241153517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153517">(Jun 02 2021 at 14:05)</a>:</h4>
<p>by the way <code>simp [primes]</code> has an informative error message:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">ambiguous</span> <span class="n">overload</span><span class="o">,</span> <span class="n">possible</span> <span class="n">interpretations</span>
    <span class="n">primes</span>
    <span class="n">nat.primes</span>
</code></pre></div>



<a name="241153650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153650">(Jun 02 2021 at 14:06)</a>:</h4>
<p><code>norm_num [_root_.primes]</code> works</p>



<a name="241153864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153864">(Jun 02 2021 at 14:08)</a>:</h4>
<p>It does work!</p>



<a name="241153931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153931">(Jun 02 2021 at 14:08)</a>:</h4>
<p>(deleted)</p>



<a name="241153998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241153998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241153998">(Jun 02 2021 at 14:09)</a>:</h4>
<p>It should work here and it usually makes some kind of progress.</p>



<a name="241154019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154019">(Jun 02 2021 at 14:09)</a>:</h4>
<p>you will need to be more specific</p>



<a name="241154105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154105">(Jun 02 2021 at 14:10)</a>:</h4>
<p>I don't recommend <code>open nat</code> because it has a tendency to cause name conflicts</p>



<a name="241154160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154160">(Jun 02 2021 at 14:10)</a>:</h4>
<p>although I guess in this case it's due to your own definition overlapping with nat's</p>



<a name="241154339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154339">(Jun 02 2021 at 14:12)</a>:</h4>
<p>Could you explain what does <code>_root_</code> mean in <code>_root_.primes</code>?</p>



<a name="241154386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154386">(Jun 02 2021 at 14:12)</a>:</h4>
<p><code>do_not_auto_insert_a_namespace.primes</code></p>



<a name="241154495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154495">(Jun 02 2021 at 14:13)</a>:</h4>
<p>it is being used here to disambiguate between the absolute path <code>primes</code> and <code>nat.primes</code> since with <code>open nat</code> the unqualified <code>primes</code> could refer to either of them</p>



<a name="241154587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/primes/near/241154587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/113489-new-members/topic/primes.html#241154587">(Jun 02 2021 at 14:14)</a>:</h4>
<p>think of it like <code>/primes</code> vs <code>/nat/primes</code> instead of <code>primes</code> as a path</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>