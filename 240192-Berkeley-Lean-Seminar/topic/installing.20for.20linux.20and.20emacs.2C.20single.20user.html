---
layout: archive
title: Zulip Chat Archive
permalink: /stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/index.html">Berkeley Lean Seminar</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html">installing for linux and emacs, single user</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="199223337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/240192-Berkeley%20Lean%20Seminar/topic/installing%20for%20linux%20and%20emacs%2C%20single%20user/near/199223337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html#199223337">(May 29 2020 at 23:14)</a>:</h4>
<p>I just went through figuring out how to get a basic setup for linux and emacs.  In case it's helpful for others (or in case someone can tell me what I should have done), here's what I did.</p>
<p>First install <code>elan</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span> <span class="n">curl</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">raw</span><span class="bp">.</span><span class="n">githubusercontent</span><span class="bp">.</span><span class="n">com</span><span class="bp">/</span><span class="n">Kha</span><span class="bp">/</span><span class="n">elan</span><span class="bp">/</span><span class="n">master</span><span class="bp">/</span><span class="n">elan</span><span class="bp">-</span><span class="n">init</span><span class="bp">.</span><span class="n">sh</span> <span class="bp">-</span><span class="n">sSf</span> <span class="bp">|</span> <span class="n">sh</span>
</code></pre></div>


<p>I chose N for "set path" because I like modifying my startup scripts myself.  The script puts everything into <code>~/.elan/</code>.  If you use zsh, then add this to your <code>.zshenv</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">source</span> <span class="bp">~/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">env</span>
</code></pre></div>


<p>Then</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span> <span class="n">pip3</span> <span class="n">install</span> <span class="c1">--user mathlibtools</span>
</code></pre></div>


<p>In emacs, do <code>M-x package-list-packages</code> and install <code>lean-mode</code> and <code>helm-lean</code>.  You do this by navigating to each entry and pressing <code>i</code>,  then pressing <code>x</code> to execute the installation.</p>
<p>You might need to <code>M-x customize-variable lean-rootdir</code>.  Set it to <code>"~/.elan/"</code> (with quotes).</p>
<p>Now when you open a <code>.lean</code> file in emacs, it should be all set, though I haven't tested much out yet beyond opening a couple files and proving a theorem.</p>
<p>Helm lets you do <code>C-c C-d</code> to look up definitions.  <code>M-.</code> finds the definition for the symbol at the point.  <code>C-c C-b</code> shows boxes for things like <code>#check</code>.  <code>C-c C-g</code> opens up the goal window.</p>



<a name="199544263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/240192-Berkeley%20Lean%20Seminar/topic/installing%20for%20linux%20and%20emacs%2C%20single%20user/near/199544263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> K Y <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html#199544263">(Jun 02 2020 at 19:54)</a>:</h4>
<p>How does helm-lean compare to company-lean in terms of usability?  I have been using company-lean (for no reason).</p>



<a name="199548978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/240192-Berkeley%20Lean%20Seminar/topic/installing%20for%20linux%20and%20emacs%2C%20single%20user/near/199548978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html#199548978">(Jun 02 2020 at 20:29)</a>:</h4>
<p>I've been using helm-lean (for no reason), so I can't really compare.  Have you had any desynchronization issues with lean-mode? It seems sometimes the errors aren't correct, especially when using the calc tactic (though thankfully you can get the current goals inside curly brackets of <code>by { ... }</code> most of the time).</p>



<a name="199549438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/240192-Berkeley%20Lean%20Seminar/topic/installing%20for%20linux%20and%20emacs%2C%20single%20user/near/199549438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kentar√¥ YAMAMOTO <a href="https://leanprover-community.github.io/archive/stream/240192-Berkeley-Lean-Seminar/topic/installing.20for.20linux.20and.20emacs.2C.20single.20user.html#199549438">(Jun 02 2020 at 20:32)</a>:</h4>
<p>I believe the desynchronization issue for me manifests itself as inability to complete stuff by <code>company-lean</code>;  I get something like <code>error (interrupted)</code>.  Doing <code>C-c C-r</code> and being patient usually fix the problem.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>