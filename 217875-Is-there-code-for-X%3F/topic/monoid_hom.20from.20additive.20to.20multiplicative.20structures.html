---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html">monoid_hom from additive to multiplicative structures</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265105115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265105115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265105115">(Dec 16 2021 at 02:30)</a>:</h4>
<p>Is there any bundled way to encode the fact that <code>pow</code> is a monoid morphism from the additive structure on <code>nat</code> to the multiplicative structure, of say, a monoid M (for a fixed base <code>m : M</code>).</p>



<a name="265109936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265109936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265109936">(Dec 16 2021 at 03:59)</a>:</h4>
<p>We can make a tropical hom and untropical homs, I guess.</p>



<a name="265111360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265111360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265111360">(Dec 16 2021 at 04:30)</a>:</h4>
<p>My problem is very low key for this much technology! I'll just leave the three lemmas unbundled for now.</p>



<a name="265125268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265125268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265125268">(Dec 16 2021 at 08:38)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/powers_hom">docs#powers_hom</a></p>



<a name="265125338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265125338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265125338">(Dec 16 2021 at 08:39)</a>:</h4>
<p>Much of mathematics (and this was very surprising to me) is very good at sticking to the principle that the natural maps which show up in the theory don't just commute with random monoid structures, they commute with monoid structures which have the same notation for the monoid law. There are <code>-&gt;+</code> and <code>-&gt;*</code> everywhere. <code>pow n _</code> and <code>exp</code> are rare exceptions where the notation changes, and <code>log</code> is the canonical example the other way. Note that things called <code>exp</code> and <code>log</code> appear in several different branches of geometry, with exp often being used to map a linear structure (eg a tangent space) to a nonlinear structure like a Lie group (where addition may not even be defined). However there are sufficiently few of these things in mathlib right now for us not to have had any need to come up with a bundled typeclass for (and notation for!) the predicate on functions f such that f(a+b)=f(a)*f(b) or f(ab)=f(a)+f(b). I thought that we were going to have to make one when doing valuation theory because the p-adic valuation on the integers satisfies v(ab)=v(a)+v(b) but there's a strange thing about that function -- it really wants to take the value +infinity at 0 and this is inconvenient in type theory. We dealt with it by only using multiplicative valuations N taking values in a monoid with zero, and now N(ab)=N(a)N(b) and N(0)=0 and it looks much more like the kind of function that mathlib likes.</p>



<a name="265227588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265227588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265227588">(Dec 16 2021 at 22:14)</a>:</h4>
<p>We have two ways to express things like this: <code>M →+ additive N</code>and <code>multiplicative M →* N</code>.</p>



<a name="265238790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265238790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265238790">(Dec 17 2021 at 00:16)</a>:</h4>
<p>I see, so if I understand correctly <code>multiplicative nat</code> is simply the monoid structure  <code>*</code> over <code>nat</code> defined as <code>a * b = a + b</code>. Thanks!</p>



<a name="265239651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265239651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265239651">(Dec 17 2021 at 00:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures/near/265125268">said</a>:</p>
<blockquote>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/powers_hom">docs#powers_hom</a></p>
</blockquote>
<p>Is it worth adding a lemma saying that <code>pow (n : M) : multiplicative nat \to (powers n)</code> is a <code>monoid_hom</code> or is it better to just unravel <a href="https://leanprover-community.github.io/mathlib_docs/find/powers_hom">docs#powers_hom</a> and use some <code>subtype</code> lemmas whenever the above <code>monoid_hom</code> structure is needed?</p>



<a name="265239866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265239866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265239866">(Dec 17 2021 at 00:32)</a>:</h4>
<blockquote>
<p>defined as <code>a * b = a + b</code>. Thanks</p>
</blockquote>
<p>It's less confusing to think of it as <code>of_add a * of_add b = of_add (a + b)</code> (<a href="https://leanprover-community.github.io/mathlib_docs/find/of_add_add">docs#of_add_add</a>)</p>



<a name="265239917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265239917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265239917">(Dec 17 2021 at 00:33)</a>:</h4>
<p><del>Don't you mean is a <code>mul_equiv</code>?</del></p>



<a name="265240049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monoid_hom%20from%20additive%20to%20multiplicative%20structures/near/265240049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monoid_hom.20from.20additive.20to.20multiplicative.20structures.html#265240049">(Dec 17 2021 at 00:35)</a>:</h4>
<p>I think that's just <a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_hom.mrange_restrict">docs#monoid_hom.mrange_restrict</a>. Although there might be some complications if <a href="https://leanprover-community.github.io/mathlib_docs/find/powers">docs#powers</a> isn't defeq to <code>powers_hom.range</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>