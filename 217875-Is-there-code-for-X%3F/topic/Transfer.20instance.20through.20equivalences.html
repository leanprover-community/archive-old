---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html">Transfer instance through equivalences</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207948874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207948874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207948874">(Aug 25 2020 at 11:01)</a>:</h4>
<p>If I have an equivalence between two types and a instance of e.g. <code>has_add</code> on one of the two types, there is a natural way of defining e.g. <code>has_add</code> on the other type. Is there a way to do this in Lean already or should I define a <code>equiv.lift_has_add</code> (or a better name) for any structure that I am interested to define this for?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">has_add</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">X</span> <span class="err">\</span><span class="n">equiv</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="n">has_add</span> <span class="n">Y</span>
</code></pre></div>



<a name="207948999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207948999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207948999">(Aug 25 2020 at 11:02)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/equiv.has_add">docs#equiv.has_add</a></p>



<a name="207949015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207949015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207949015">(Aug 25 2020 at 11:03)</a>:</h4>
<p>these are all just written manually at the moment</p>



<a name="207949275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207949275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207949275">(Aug 25 2020 at 11:06)</a>:</h4>
<p>Ok thanks, so if I want to define this for e.g. lie algebras, I need to import the lie algebra file in that file? Wouldn't it be better to define every such def in the file where the class is defined? (I mean in the long term that file will have a huge number of imports I guess...)</p>



<a name="207949679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207949679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207949679">(Aug 25 2020 at 11:12)</a>:</h4>
<p>I think all these classes were in the core library when this file was written. For things like Lie algebras it would be better to put the construction with the definition of Lie algebra, yes. (I guess you could have a file <code>data.equiv.lie</code> but I don't see much point.)</p>



<a name="207950076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207950076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207950076">(Aug 25 2020 at 11:17)</a>:</h4>
<p>But I'm pretty sure whatever defines <code>has_zero</code>, for example, can't import <code>data.equiv</code></p>



<a name="207950357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207950357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207950357">(Aug 25 2020 at 11:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Transfer.20instance.20through.20equivalences/near/207949679">said</a>:</p>
<blockquote>
<p>I think all these classes were in the core library when this file was written. For things like Lie algebras it would be better to put the construction with the definition of Lie algebra, yes. (I guess you could have a file <code>data.equiv.lie</code> but I don't see much point.)</p>
</blockquote>
<p>Ok great thanks! Could it be a good idea to move the non-core definitions in the appropriate files, for consistency and to find them more easily? (If such thing existed for a monoid I was expecting to find it into the file where monoids are defined)</p>



<a name="207951196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207951196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207951196">(Aug 25 2020 at 11:32)</a>:</h4>
<p>that's also likely impossible for import reasons</p>



<a name="207951226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207951226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207951226">(Aug 25 2020 at 11:32)</a>:</h4>
<p>or at least impossible without further reorganizations</p>



<a name="207953190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207953190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207953190">(Aug 25 2020 at 11:56)</a>:</h4>
<p>You can also use the <code>transport</code> tactic. It is a bit limited / buggy, but most of the instances like <code>equiv.has_add</code> get generated correctly.</p>



<a name="207953266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transfer%20instance%20through%20equivalences/near/207953266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transfer.20instance.20through.20equivalences.html#207953266">(Aug 25 2020 at 11:58)</a>:</h4>
<p>If you look in <code>test/transport/basic.lean</code> there are some examples, e.g. moving a Lie ring across an equiv.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>