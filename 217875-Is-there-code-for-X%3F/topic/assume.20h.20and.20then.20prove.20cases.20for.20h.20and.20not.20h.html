---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html">assume h and then prove cases for h and not h</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226790439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226790439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226790439">(Feb 18 2021 at 10:26)</a>:</h4>
<p>I am currently proving some (elementary) results about groups, and I got to a lemma where it would be easier to split into cases where g is equal to the identity element, and g is surely not the identity element.</p>
<p>Is there some kind of <code>cases</code> variant for such a thing? I am not a constructivist so if such a tactic only works in classical mode that's ok with me too.</p>



<a name="226790477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226790477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226790477">(Feb 18 2021 at 10:26)</a>:</h4>
<p><code>by_cases h : g = 1</code></p>



<a name="226790618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226790618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226790618">(Feb 18 2021 at 10:27)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>  oops, now I feel bad that I haven't found it by myself, with such a simple naming ^^'. Thank you!</p>



<a name="226791054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791054">(Feb 18 2021 at 10:31)</a>:</h4>
<p>Sometimes when I was learning I would just read through all of <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html">https://leanprover-community.github.io/mathlib_docs/tactics.html</a> , but honestly it's easier to ask here :-)</p>



<a name="226791188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791188">(Feb 18 2021 at 10:32)</a>:</h4>
<p>I actually find <code>by_cases</code> annoying sometimes, because the second case will be <code>\not g = 1</code> rather than <code>g \ne 1</code>. I often do <code>cases eq_or_ne g 1</code> in this situation (or whatever it's called)</p>



<a name="226791319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791319">(Feb 18 2021 at 10:33)</a>:</h4>
<p>I first try searching the docs, of course. but sometimes you just miss stuff, or stuff is not documented in an easy-to-find way. This is probably not the case for <code>by_cases</code>  though, that's just me ^^'.</p>



<a name="226791456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791456">(Feb 18 2021 at 10:34)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">rcases</span> <span class="n">eq_or_ne</span> <span class="n">g</span> <span class="mi">1</span> <span class="k">with</span> <span class="n">rfl</span><span class="bp">|</span><span class="n">h</span> <span class="c1">-- if eq_or_ne existed</span>
</code></pre></div>
<p>to even skip the <code>rw [h]</code> step, and have <code>g</code> automatically be substituted with <code>1</code> everywhere.</p>



<a name="226791457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791457">(Feb 18 2021 at 10:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h/near/226791188">said</a>:</p>
<blockquote>
<p>I actually find <code>by_cases</code> annoying sometimes, because the second case will be <code>\not g = 1</code> rather than <code>g \ne 1</code>. I often do <code>cases eq_or_ne g 1</code> in this situation (or whatever it's called)</p>
</blockquote>
<p>hmm, I did a <code>rename</code> and <code>change</code>, but if this works then it sound better in this situation. Thanks for the tip!</p>



<a name="226791562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791562">(Feb 18 2021 at 10:35)</a>:</h4>
<p>I've said that, but now I think about it I'm usually in a situation where I want to split on &lt;= or &gt;, and I use le_or_gt because I don't want the second case to be "not le". I've just looked around a bit and I can't even find eq_or_ne and am now wondering if it even exists!</p>



<a name="226791797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791797">(Feb 18 2021 at 10:37)</a>:</h4>
<p>I also tried to search through the docs, and couldn't see something like that, but it looks useful for these kind of situations. Is this something one can just PR into the language, or is there some RFC process for such a thing?</p>



<a name="226791812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/assume%20h%20and%20then%20prove%20cases%20for%20h%20and%20not%20h/near/226791812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/assume.20h.20and.20then.20prove.20cases.20for.20h.20and.20not.20h.html#226791812">(Feb 18 2021 at 10:37)</a>:</h4>
<p>Kevin, are you working with solely with the naturals, and are doing <code>cases k.zero_le.eq_or_lt</code> and relying on the fact that <code>0 &lt; k \iff 0 \ne k</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>