---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html">Power basis of `adjoin R x`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="303499260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/303499260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#303499260">(Oct 11 2022 at 18:50)</a>:</h4>
<p>Do we have something of the form </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">is_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_domain</span> <span class="n">S</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">is_dedekind_domain</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">S</span><span class="o">]</span> <span class="o">{</span><span class="n">x</span><span class="o">:</span> <span class="n">S</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">R</span> <span class="n">S</span><span class="o">))</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">R</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">power_basis</span> <span class="n">R</span> <span class="o">(</span><span class="n">algebra.adjoin</span> <span class="n">R</span> <span class="o">({</span><span class="n">x</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">S</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>eventually with some extra hypotheses on <code>R</code> and <code>S</code> ? The closest I've found is <code>algebra.adjoin.power_basis'</code>, but this requires <code>R</code> to be a <code>normalized_gcd_monoid</code>, which is something I'm trying to avoid.</p>



<a name="303506914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/303506914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#303506914">(Oct 11 2022 at 19:38)</a>:</h4>
<p>Yeah Dedekind domains are integrally closed so this should be valid. <a href="https://github.com/leanprover-community/mathlib/issues/11523#issuecomment-1173031350">I did something</a> towards generalizing the theory of <a href="https://leanprover-community.github.io/mathlib_docs/find/minpoly">docs#minpoly</a> to integrally closed domains but it's not yet PR'd.</p>



<a name="303507444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/303507444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#303507444">(Oct 11 2022 at 19:42)</a>:</h4>
<p>Ah that's great! I'll be need something along those lines for the general case of the Dedekind-Kummer theorem, so I'm happy to help with the PR process:)</p>



<a name="303507543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/303507543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#303507543">(Oct 11 2022 at 19:43)</a>:</h4>
<p>I am almost sure we don't have it, unless <code>S</code> is a <code>gcd</code> thing. But please please generalize gauss lemma to integrally closed domain (and I mean, open the PR <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span> )</p>



<a name="303508116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/303508116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#303508116">(Oct 11 2022 at 19:46)</a>:</h4>
<p>The main result is <a href="https://leanprover-community.github.io/mathlib_docs/find/adjoin_root.minpoly.equiv_adjoin">docs#adjoin_root.minpoly.equiv_adjoin</a>, whose proof needs <a href="https://leanprover-community.github.io/mathlib_docs/find/minpoly.gcd_domain_dvd">docs#minpoly.gcd_domain_dvd</a>, that should be generalized to integrally closed domains.</p>



<a name="304510526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304510526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304510526">(Oct 17 2022 at 16:56)</a>:</h4>
<p>Just to be sure <span class="user-mention" data-user-id="224323">@Junyan Xu</span> is this something you're planning on PRing, or should I do it? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="304521981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304521981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304521981">(Oct 17 2022 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="376152">@Paul Lezeau</span> Thanks for the ping. As Riccardo said, the next step is to generalize the Gauss lemmas, and then generalize results about minpoly. Unfortunately I currently have two PRs that are blocking other PRs/works, so I guess I'll only return to this after one week or so. Please feel free to if you want to work on this!</p>



<a name="304524603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304524603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304524603">(Oct 17 2022 at 18:05)</a>:</h4>
<p>Okay fair enough! I'll probably be quite busy too in the next week or so, but I could start having a look after that!</p>



<a name="304524948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304524948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304524948">(Oct 17 2022 at 18:06)</a>:</h4>
<p>Have you already done anything/written code in that direction?</p>



<a name="304530737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304530737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304530737">(Oct 17 2022 at 18:34)</a>:</h4>
<p><a href="https://gist.github.com/alreadydone/320bf770092602beecd656bfb94c29dc#file-eq_map_of_dvd-lean-L42-L44">The main result</a> mentioned in the issue <a href="https://github.com/leanprover-community/mathlib/pull/11523">#11523</a> is that if R is integrally closed with K its field of fractions, then any monic factor in K[X] of a monic polynomial in R[X] actually lies in R[X]. I think you can show relatively easily that the R-minpoly of an integral element in S is the same as the K-minpoly: both are monic, and the latter always divides the former (<a href="https://leanprover-community.github.io/mathlib_docs/find/minpoly.dvd">docs#minpoly.dvd</a>).</p>
<p>To get the power basis, you need that the kernel of the map R[X]-&gt;S sending X to x is generated by the R-minpoly. For any element in the kernel, if you take the remainder modulo the R-minpoly, you get something of lower degree which is still in the kernel, so the K-minpoly divides it, so it's either zero or has degree at least the degree of the K-minpoly, which is the same as the degree of the R-minpoly, so it can only be zero.</p>



<a name="304532534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/304532534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#304532534">(Oct 17 2022 at 18:43)</a>:</h4>
<p>Ok cool! I'll start working on that as soon as I find some time</p>



<a name="308256342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/308256342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#308256342">(Nov 06 2022 at 13:42)</a>:</h4>
<p><span class="user-mention" data-user-id="224323">@Junyan Xu</span> In the end I haven't really found time to work on this and probably won't for the next two weeks, so feel free to do it!</p>



<a name="308608002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/308608002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#308608002">(Nov 08 2022 at 15:11)</a>:</h4>
<p>Feel free to ping me if you open a PR.</p>



<a name="312075387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/312075387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#312075387">(Nov 24 2022 at 19:40)</a>:</h4>
<p><span class="user-mention" data-user-id="224323">@Junyan Xu</span> Have you been able to make any progress on this ? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="312077417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/312077417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#312077417">(Nov 24 2022 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="376152">@Paul Lezeau</span> No sorry, my Lean time was mostly spent on <a href="#narrow/stream/116395-maths/topic/thoughts.20on.20elliptic.20curves">associativity of the elliptic curve group law</a> lately <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="312262557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/312262557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#312262557">(Nov 25 2022 at 22:04)</a>:</h4>
<p>Ah that's alright no worries ;)</p>



<a name="315997847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/315997847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#315997847">(Dec 15 2022 at 10:01)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="224323">@Junyan Xu</span>, have you been able to work on this in the end ? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="315997902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/315997902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#315997902">(Dec 15 2022 at 10:01)</a>:</h4>
<p>Otherwise I might start working on it again</p>



<a name="316114914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/316114914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#316114914">(Dec 15 2022 at 18:49)</a>:</h4>
<p><span class="user-mention" data-user-id="376152">@Paul Lezeau</span> No updates from my side, and I'm not currently working on it.</p>



<a name="316115417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/316115417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#316115417">(Dec 15 2022 at 18:51)</a>:</h4>
<p>Ok cool, I'll get back to working on it :)</p>



<a name="318389288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/318389288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#318389288">(Dec 29 2022 at 10:21)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> I've made some good progress on this, and I'm hoping to open some PRs soon, including some work towards the generalization of the Gauss lemma to integrally closed rings. Would you be alright with reviewing the PRs?</p>



<a name="318393853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/318393853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#318393853">(Dec 29 2022 at 10:51)</a>:</h4>
<p>I'll review them too so that it can be a quick maintainer merge :)</p>



<a name="318444397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/318444397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#318444397">(Dec 29 2022 at 15:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60/near/318393853">said</a>:</p>
<blockquote>
<p>I'll review them too so that it can be a quick maintainer merge :)</p>
</blockquote>
<p>Thanks a lot, I'll make the first PR soonish :)</p>



<a name="318463125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20basis%20of%20%60adjoin%20R%20x%60/near/318463125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul Lezeau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20basis.20of.20.60adjoin.20R.20x.60.html#318463125">(Dec 29 2022 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> here's a first PR : <a href="https://github.com/leanprover-community/mathlib/pull/18021">#18021</a>. It still needs a little cleaning up, but it should be ready tomorrow hopefully</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>