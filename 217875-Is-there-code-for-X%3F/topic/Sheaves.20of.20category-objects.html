---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html">Sheaves of category-objects</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="204710501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204710501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204710501">(Jul 22 2020 at 19:19)</a>:</h4>
<p>I see we have <code>algbraic-geometry</code>and a directory <code>topology.sheaves</code>, but am I right in thinking that I still cannot talk about sheaves of objects of a category on a topological space? I want to put a sheaf of rings on a topological space.</p>



<a name="204710696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204710696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204710696">(Jul 22 2020 at 19:21)</a>:</h4>
<p>We built this in a hands-on manner in the schemes repo, without using any categories. But we now have presheaves in this generality (see <code>PresheafedSpace</code>), so the natural thing to do next is sheaves.</p>



<a name="204711480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204711480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204711480">(Jul 22 2020 at 19:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">-- locally ringed spaces</span>

<span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">import</span> <span class="n">topology</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">algebraic_geometry</span><span class="bp">.</span><span class="n">presheafed_space</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">category</span><span class="bp">.</span><span class="n">CommRing</span>

<span class="kn">open</span> <span class="n">algebraic_geometry</span>
<span class="kn">structure</span> <span class="n">ringed_space</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">PresheafedSpace</span> <span class="n">CommRing</span><span class="o">)</span>
<span class="c1">-- is a sheaf</span>
</code></pre></div>


<p>The statement I need is that for a bunch of open sets, the canonical map from F(union) to prod_i F(U_i) is the equalizer in the category of sets of the usual two restriction maps from prod_i F(U_i) to prod_{i,j}F(U_i\cap F(U_j).</p>



<a name="204735221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204735221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204735221">(Jul 22 2020 at 23:33)</a>:</h4>
<p>Nope we still don't have a satisfactory version of this, sorry.</p>



<a name="204735302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204735302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204735302">(Jul 22 2020 at 23:34)</a>:</h4>
<p>I've kept intending to go back to this, but keep getting hung up on the decision "try again with the sheaf condition on a topology, or just define sites?"</p>



<a name="204735345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204735345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204735345">(Jul 22 2020 at 23:35)</a>:</h4>
<p>There is an ancient branch called <code>sheaves</code>, but I've no memory of what it contains. :-)</p>



<a name="204757955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204757955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204757955">(Jul 23 2020 at 03:47)</a>:</h4>
<p>haha, you tricked me, <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>.</p>
<p>I made a new branch (<code>sheaf_condition_in_Type</code>) and started over again, aiming to prove <a href="https://stacks.math.columbia.edu/tag/0073">https://stacks.math.columbia.edu/tag/0073</a>. </p>
<p>It's not there yet, but hopefully downhill from here --- I think I've done all of the "maths proof", and the remaining sorries are either easy facts about cones, or about functors preserving limits.</p>



<a name="204765614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204765614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204765614">(Jul 23 2020 at 06:58)</a>:</h4>
<p>I have no idea whether we actually use that tag in practice but it would not surprise me if we do</p>



<a name="204765640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204765640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204765640">(Jul 23 2020 at 06:59)</a>:</h4>
<p>So the issue is "which definition gives us something we can actually prove theorems about"?</p>



<a name="204767995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204767995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204767995">(Jul 23 2020 at 07:38)</a>:</h4>
<p>Yay, all sorries done. This was much easier than last time I tried.</p>



<a name="204769596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204769596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204769596">(Jul 23 2020 at 08:00)</a>:</h4>
<p>So what are the next things to try out?</p>
<ol>
<li>write out the element-wise sheaf condition in <code>Type</code>?</li>
<li>show that the presheaves of rings of functions on topological spaces we already have are sheaves?</li>
<li>the gluing exercise?</li>
<li>wonder how to do sheaves over modules (with the ring varying)?</li>
</ol>



<a name="204770536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770536">(Jul 23 2020 at 08:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> This is cool</p>



<a name="204770540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770540">(Jul 23 2020 at 08:12)</a>:</h4>
<p>Where is the code?</p>



<a name="204770575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770575">(Jul 23 2020 at 08:12)</a>:</h4>
<p><code>sheaf_condition_in_Type</code></p>



<a name="204770582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770582">(Jul 23 2020 at 08:12)</a>:</h4>
<p>Ok, I'll take a look right now</p>



<a name="204770605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770605">(Jul 23 2020 at 08:13)</a>:</h4>
<p>in <code>src/topology/sheaves/sheaf/concrete_category.lean</code></p>



<a name="204770617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770617">(Jul 23 2020 at 08:13)</a>:</h4>
<p>it's first cut code, but should be pretty easy to golf</p>



<a name="204770630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770630">(Jul 23 2020 at 08:13)</a>:</h4>
<p>and seems worth commenting properly :-)</p>



<a name="204770637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770637">(Jul 23 2020 at 08:13)</a>:</h4>
<p>Awww, there are no oleans yet</p>



<a name="204770718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204770718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204770718">(Jul 23 2020 at 08:14)</a>:</h4>
<p>I'll take those for the one-but-last commit</p>



<a name="204771022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771022">(Jul 23 2020 at 08:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I would be interested in (1), (2), (3), (4), and also</p>
<ol start="5">
<li>Sheafification</li>
<li>Pullback and pushforward of sheaves</li>
</ol>



<a name="204771069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771069">(Jul 23 2020 at 08:19)</a>:</h4>
<p>yeah, sheafification would be a good goal</p>



<a name="204771071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771071">(Jul 23 2020 at 08:19)</a>:</h4>
<ol start="7">
<li>Stress-test the code by defining the structure sheaf on the prime spectrum</li>
</ol>



<a name="204771080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771080">(Jul 23 2020 at 08:19)</a>:</h4>
<p>via plus construction?</p>



<a name="204771091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771091">(Jul 23 2020 at 08:19)</a>:</h4>
<p>Probably, yes</p>



<a name="204771146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204771146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204771146">(Jul 23 2020 at 08:20)</a>:</h4>
<p>I guess this only works for certain "coefficient" categories</p>



<a name="204793462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204793462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204793462">(Jul 23 2020 at 13:02)</a>:</h4>
<p>I've done sheafification for sheaves on a lawvere tierney topology, I'm in the process of doing the specialisation to sites</p>



<a name="204793686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204793686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204793686">(Jul 23 2020 at 13:04)</a>:</h4>
<p>This would give sheafification on set-valued sheaves on a site, and since I've got the adjunction to forgetful and preservation of finite limits, ring-valued sheaves and whatever should drop out</p>



<a name="204793805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204793805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204793805">(Jul 23 2020 at 13:04)</a>:</h4>
<p>Actually one annoyingly missing thing is that preservation of finite products + equalizers gives preservation of finite limits, strictly speaking I only have the former, though the second is true in Lean (since preserving limits is subsingleton)</p>



<a name="204798199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204798199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204798199">(Jul 23 2020 at 13:42)</a>:</h4>
<p>Johan and I have been working on something very low-brow, and verified that the presheaf of functions (not continuous or anything) really is a sheaf.</p>



<a name="204798528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204798528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204798528">(Jul 23 2020 at 13:45)</a>:</h4>
<p>I think the most usable thing to do would be for me to define the equivalence of categories (or topoi?) between my specialised category of sheaves and your concrete category of sheaves, so that you quickly get all the nice categorical properties but don't have to deal with a weird topos api</p>



<a name="204798909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204798909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204798909">(Jul 23 2020 at 13:48)</a>:</h4>
<p>Will things translate nicely along such an equivalence?</p>



<a name="204798939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204798939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204798939">(Jul 23 2020 at 13:48)</a>:</h4>
<p>I would expect that it is better to show that <code>Shv(C)</code> is a topos</p>



<a name="204798992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204798992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204798992">(Jul 23 2020 at 13:49)</a>:</h4>
<p>And maybe have a class <code>[grothendieck_topos]</code> that contains extra API on top of the elementary topos stuff</p>



<a name="204799425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204799425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204799425">(Jul 23 2020 at 13:52)</a>:</h4>
<p>I think categorical properties should transfer nicely at least - if you've got that Shv(C) is a category and I can show it's equivalent to my sh(j), then it should drop out that Shv(C) is a topos too</p>



<a name="204799521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204799521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204799521">(Jul 23 2020 at 13:53)</a>:</h4>
<p>Ok... aren't there defs involved that need nice definitions for future hapiness?</p>



<a name="204799550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204799550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204799550">(Jul 23 2020 at 13:53)</a>:</h4>
<p>Or is everything subsingleton?</p>



<a name="204799682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204799682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204799682">(Jul 23 2020 at 13:54)</a>:</h4>
<p>There are (non-subsingleton) defs involved, but if the entire structure of a topos is transferred along an equivalence, all the defs should play nicely with each other</p>



<a name="204799756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204799756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204799756">(Jul 23 2020 at 13:55)</a>:</h4>
<p>(This is my guess, at least)</p>



<a name="204801453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204801453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204801453">(Jul 23 2020 at 14:07)</a>:</h4>
<p>Sure, but will they play nice with defs outside of topos theory...</p>



<a name="204801545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204801545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204801545">(Jul 23 2020 at 14:07)</a>:</h4>
<p>For example, the exponential object in <code>Shv(C)</code> might want to be the "obvious" definition, instead of something pulled through an equivalence.</p>



<a name="204801676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204801676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204801676">(Jul 23 2020 at 14:08)</a>:</h4>
<p>Because at some point you are going to take sections of that sheaf, and want to treat it as a (un)curried function [I always forget whether it's curry or uncurry]</p>



<a name="204804434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204804434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204804434">(Jul 23 2020 at 14:29)</a>:</h4>
<p>Right I see your concern, but my hope is that since we have the universal property, you can transport across the adjunction and treat it as an uncurried function directly</p>



<a name="204804799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204804799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204804799">(Jul 23 2020 at 14:31)</a>:</h4>
<p>Aha... let's hope that works (-;</p>



<a name="204814418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204814418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204814418">(Jul 23 2020 at 15:42)</a>:</h4>
<p>I suspect a bigger annoyance might be if you want to work with the product of sheaves - essentially the same problem as if you want to give an element of the cartesian product of types, it's not just the type product because of the <code>has_binary_products Type</code> instance. My way around this for Type has been to use generalised elements - just giving the nat bij between 1 -&gt; X and X, and we have an obvious nat bij between C -&gt; X x Y and pairs C -&gt; X, C -&gt; Y, and putting this together lets you get the element of type X x Y given just an element of type X and element of type Y, which does play well with the other definitions and lemmas; I don't know if something analogous works in geometry though</p>



<a name="204814553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204814553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204814553">(Jul 23 2020 at 15:43)</a>:</h4>
<p>I think some lemmas to work with generalised elements might be really useful actually, especially in a well-powered category (like any grot top)</p>



<a name="204915388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204915388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204915388">(Jul 24 2020 at 13:33)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>, I just thoroughly commented our proof from last night. It's on the branch. I propose we do the continuous function version as well, and stage that off as a PR before continuing. I'm happy enough that this setup is viable.</p>



<a name="204917071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/204917071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#204917071">(Jul 24 2020 at 13:49)</a>:</h4>
<p>That's a lovely commenting job!  You have one interesting TODO:</p>
<blockquote>
<p>In fact, I'd like to do it for any "functions satisfying a local condition", for which there's a sketch at <a href="https://github.com/leanprover-community/mathlib/issues/1462">https://github.com/leanprover-community/mathlib/issues/1462</a></p>
</blockquote>
<p>If you introduce this class of functions, I think it can be used elsewhere in the library.  For example, Sébastien has the definition <a href="https://leanprover-community.github.io/mathlib_docs/find/structure_groupoid.local_invariant_prop">docs#structure_groupoid.local_invariant_prop</a> for conditions on functions which are local + invariant under a groupoid; maybe that could extend your class.</p>



<a name="205070723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205070723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205070723">(Jul 26 2020 at 22:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Sheaves.20of.20category-objects/near/204814418">said</a>:</p>
<blockquote>
<p>I suspect a bigger annoyance might be if you want to work with the product of sheaves - essentially the same problem as if you want to give an element of the cartesian product of types, it's not just the type product because of the <code>has_binary_products Type</code> instance. My way around this for Type has been to use generalised elements - just giving the nat bij between 1 -&gt; X and X, and we have an obvious nat bij between C -&gt; X x Y and pairs C -&gt; X, C -&gt; Y, and putting this together lets you get the element of type X x Y given just an element of type X and element of type Y, which does play well with the other definitions and lemmas; I don't know if something analogous works in geometry though</p>
</blockquote>
<p>This is a bigger problem in topology--Top <code>has_limits</code> and therefore <code>has_binary_products</code> but they aren't the ones that we have many nontrivial theorems about, and it's not so easy to connect them. For example, try proving that locally compact spaces are exponentiable and so products by them preserve pushouts. All the nontrivial math is done (I needed it for lean-homotopy-theory), but the pieces don't fit together.</p>



<a name="205071055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205071055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205071055">(Jul 26 2020 at 23:04)</a>:</h4>
<p>In lean-homotopy-theory I only needed the functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mo>×</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">- \times [0, 1]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> and I didn't ever really need the fact that it's a product in the sense of category theory, so I just defined it directly using <code>prod</code>, and then it connected directly to all the relevant facts about product spaces that we already have.</p>



<a name="205071131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205071131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205071131">(Jul 26 2020 at 23:07)</a>:</h4>
<p>But that doesn't really seem like the correct approach for mathlib to take.</p>



<a name="205366588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205366588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205366588">(Jul 29 2020 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Sheaves.20of.20category-objects/near/205070723">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Sheaves.20of.20category-objects/near/204814418">said</a>:</p>
<blockquote>
<p>I suspect a bigger annoyance might be if you want to work with the product of sheaves - essentially the same problem as if you want to give an element of the cartesian product of types, it's not just the type product because of the <code>has_binary_products Type</code> instance. My way around this for Type has been to use generalised elements - just giving the nat bij between 1 -&gt; X and X, and we have an obvious nat bij between C -&gt; X x Y and pairs C -&gt; X, C -&gt; Y, and putting this together lets you get the element of type X x Y given just an element of type X and element of type Y, which does play well with the other definitions and lemmas; I don't know if something analogous works in geometry though</p>
</blockquote>
<p>This is a bigger problem in topology--Top <code>has_limits</code> and therefore <code>has_binary_products</code> but they aren't the ones that we have many nontrivial theorems about, and it's not so easy to connect them. For example, try proving that locally compact spaces are exponentiable and so products by them preserve pushouts. All the nontrivial math is done (I needed it for lean-homotopy-theory), but the pieces don't fit together.</p>
</blockquote>
<p>Alright, I'll give this a go - is the hard part showing that locally compact spaces are exponentiable or that products by them preserve pushouts?</p>



<a name="205378549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205378549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205378549">(Jul 29 2020 at 16:16)</a>:</h4>
<p>There's no hard part really. You can consult <a href="https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.2/src/homotopy_theory/topological_spaces/exponentiable.lean">https://github.com/rwbarton/lean-homotopy-theory/blob/lean-3.4.2/src/homotopy_theory/topological_spaces/exponentiable.lean</a></p>



<a name="205378892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205378892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205378892">(Jul 29 2020 at 16:19)</a>:</h4>
<p>So which pieces don't fit together? I'm confused about what you're proposing the problem here is</p>



<a name="205379306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205379306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205379306">(Jul 29 2020 at 16:22)</a>:</h4>
<p>mathlib products</p>



<a name="205381265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381265">(Jul 29 2020 at 16:38)</a>:</h4>
<p>I'm not sure if this is what you meant, but I got:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">locally_compact_space</span> <span class="n">α</span><span class="o">]</span>
<span class="n">def</span> <span class="n">prod_colimit_iso</span> <span class="o">{</span><span class="n">β</span> <span class="n">γ</span> <span class="n">δ</span> <span class="o">:</span> <span class="n">Top</span><span class="bp">.</span><span class="o">{</span><span class="n">u</span><span class="o">}}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">β</span> <span class="err">⟶</span> <span class="n">γ</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="err">⟶</span> <span class="n">δ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Top</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span> <span class="err">⨯</span> <span class="n">pushout</span> <span class="n">f</span> <span class="n">g</span> <span class="err">≅</span> <span class="n">pushout</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">prod</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="mi">𝟙</span> <span class="o">(</span><span class="n">Top</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span><span class="o">))</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">limits</span><span class="bp">.</span><span class="n">prod</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="mi">𝟙</span> <span class="o">(</span><span class="n">Top</span><span class="bp">.</span><span class="n">of</span> <span class="n">α</span><span class="o">))</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


<p>without any pain</p>



<a name="205381312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381312">(Jul 29 2020 at 16:39)</a>:</h4>
<p>source?</p>



<a name="205381445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381445">(Jul 29 2020 at 16:40)</a>:</h4>
<p><a href="https://gist.github.com/b-mehta/bbdc500ab81bc07b3c31d22878187c19">https://gist.github.com/b-mehta/bbdc500ab81bc07b3c31d22878187c19</a></p>



<a name="205381465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381465">(Jul 29 2020 at 16:40)</a>:</h4>
<p>Presumably much of it could be improved since I don't know the topology api at all well</p>



<a name="205381519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381519">(Jul 29 2020 at 16:40)</a>:</h4>
<p>but other than that I just tried what was most obvious to me and didn't golf at all, and it happened in 64 lines</p>



<a name="205381883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381883">(Jul 29 2020 at 16:43)</a>:</h4>
<p>This is using the specific construction of products for <code>Top</code> right?</p>



<a name="205381907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205381907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205381907">(Jul 29 2020 at 16:43)</a>:</h4>
<p>No, just the universal property</p>



<a name="205382160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205382160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205382160">(Jul 29 2020 at 16:45)</a>:</h4>
<p>what is <a href="https://gist.github.com/b-mehta/bbdc500ab81bc07b3c31d22878187c19#file-reid-lean-L27-L31">https://gist.github.com/b-mehta/bbdc500ab81bc07b3c31d22878187c19#file-reid-lean-L27-L31</a> then?</p>



<a name="205382267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205382267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205382267">(Jul 29 2020 at 16:46)</a>:</h4>
<p>anyways, it's hard to explain the issue with a self-contained example because it is really a global problem</p>



<a name="205382308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205382308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205382308">(Jul 29 2020 at 16:46)</a>:</h4>
<p>Right but I maintain that it's a problem I've never had</p>



<a name="205382353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205382353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205382353">(Jul 29 2020 at 16:47)</a>:</h4>
<p>You will have it!</p>



<a name="205382737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205382737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205382737">(Jul 29 2020 at 16:50)</a>:</h4>
<p>When? :)</p>



<a name="205383565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Sheaves%20of%20category-objects/near/205383565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Sheaves.20of.20category-objects.html#205383565">(Jul 29 2020 at 16:57)</a>:</h4>
<p>I don't know but when you do let me know. I've pretty much given up on following the category theory library for now.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>