---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html">Open set of reals contains ball/interval</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234679176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234679176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234679176">(Apr 15 2021 at 13:54)</a>:</h4>
<p>I'm struggling to find something of this form, though I'm sure it's there somewhere:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">topology.algebra.ordered</span>
<span class="kn">import</span> <span class="n">topology.instances.real</span>

<span class="kd">noncomputable theory</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hS₁</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hS₂</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">ℝ</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span> <span class="bp">∧</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">ℝ</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">Icc</span> <span class="o">(</span><span class="n">x</span><span class="bp">-</span><span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="n">r</span><span class="o">)</span> <span class="bp">⊆</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>



<a name="234679948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234679948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234679948">(Apr 15 2021 at 13:58)</a>:</h4>
<p><del>Presumably <a href="https://leanprover-community.github.io/mathlib_docs/find/nhds_basis_ball">docs#nhds_basis_ball</a> ?</del> <span aria-label="down" class="emoji emoji-2b07" role="img" title="down">:down:</span></p>



<a name="234680009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680009">(Apr 15 2021 at 13:59)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/metric.is_open_iff">docs#metric.is_open_iff</a> ?</p>



<a name="234680230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680230">(Apr 15 2021 at 14:00)</a>:</h4>
<p>(or go via neighbourhood filters)</p>



<a name="234680548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680548">(Apr 15 2021 at 14:01)</a>:</h4>
<p>Now I have a goal of the form <code>Icc (x - ε / 2) (x + ε / 2) ⊆ metric.ball x ε</code></p>



<a name="234680715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680715">(Apr 15 2021 at 14:02)</a>:</h4>
<p><code>linarith</code> is your friend now</p>



<a name="234680829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680829">(Apr 15 2021 at 14:02)</a>:</h4>
<p>It can't seem to handle the <code>dist</code></p>



<a name="234680920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234680920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234680920">(Apr 15 2021 at 14:03)</a>:</h4>
<p>oh I think it's defeq to abs so maybe you need to unfold abs?</p>



<a name="234681066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681066">(Apr 15 2021 at 14:04)</a>:</h4>
<p><code>rw real.dist_eq</code> did that, but now linarith can't handle the abs</p>



<a name="234681270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681270">(Apr 15 2021 at 14:04)</a>:</h4>
<p>Alright here's what I ended up with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hS₁</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hS₂</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">ℝ</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">Icc</span> <span class="o">(</span><span class="n">x</span><span class="bp">-</span><span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="n">r</span><span class="o">)</span> <span class="bp">⊆</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">metric.is_open_iff</span> <span class="n">at</span> <span class="n">hS₁</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">ε</span><span class="o">,</span> <span class="n">hε₁</span><span class="o">,</span> <span class="n">hε₂</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hS₁</span> <span class="n">x</span> <span class="n">hS₂</span><span class="o">,</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="n">ε</span><span class="bp">/</span><span class="mi">2</span><span class="o">,</span> <span class="n">half_pos</span> <span class="n">hε₁</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span>
  <span class="n">apply</span> <span class="n">set.subset.trans</span> <span class="n">_</span> <span class="n">hε₂</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">real.dist_eq</span><span class="o">,</span> <span class="n">abs_sub_lt_iff</span><span class="o">,</span> <span class="n">exists_prop</span><span class="o">,</span> <span class="n">metric.mem_ball</span><span class="o">,</span> <span class="n">gt_iff_lt</span><span class="o">,</span> <span class="n">mem_Icc</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="n">split</span><span class="bp">;</span>
  <span class="n">linarith</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="234681286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681286">(Apr 15 2021 at 14:05)</a>:</h4>
<p>That's surprisingly long for an "obvious" statement</p>



<a name="234681632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681632">(Apr 15 2021 at 14:06)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hS₁</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hS₂</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">ℝ</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">Icc</span> <span class="o">(</span><span class="n">x</span><span class="bp">-</span><span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="n">r</span><span class="o">)</span> <span class="bp">⊆</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">metric.is_open_iff</span> <span class="n">at</span> <span class="n">hS₁</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">ε</span><span class="o">,</span> <span class="n">hε₁</span><span class="o">,</span> <span class="n">hε₂</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hS₁</span> <span class="n">x</span> <span class="n">hS₂</span><span class="o">,</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="n">ε</span><span class="bp">/</span><span class="mi">2</span><span class="o">,</span> <span class="n">half_pos</span> <span class="n">hε₁</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">closed_ball_Icc</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">set.subset.trans</span> <span class="o">(</span><span class="n">metric.closed_ball_subset_ball</span> <span class="o">(</span><span class="n">half_lt_self</span> <span class="n">hε₁</span><span class="o">))</span> <span class="n">hε₂</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Golfed a bit to this</p>



<a name="234681771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681771">(Apr 15 2021 at 14:07)</a>:</h4>
<p>I think we've missed some library function. I think I've struggled to find this before.</p>



<a name="234681935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234681935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234681935">(Apr 15 2021 at 14:08)</a>:</h4>
<p><code>closed_ball_Icc</code> made it a bit nicer at least</p>



<a name="234682130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234682130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234682130">(Apr 15 2021 at 14:09)</a>:</h4>
<p>Would <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.closed_ball_subset_ball">docs#metric.closed_ball_subset_ball</a> help you ?</p>



<a name="234682163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234682163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234682163">(Apr 15 2021 at 14:09)</a>:</h4>
<p>That's what I used in the golfed version, it did help!</p>



<a name="234682334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234682334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234682334">(Apr 15 2021 at 14:10)</a>:</h4>
<p>It's working in my actual case too now - thanks everyone! It was <code>closed_ball_Icc</code> together with <code>metric.is_open_iff</code> that were the things I couldn't find</p>



<a name="234682394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234682394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234682394">(Apr 15 2021 at 14:10)</a>:</h4>
<p>Oh indeed, I should have read it with more attention <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="234683012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234683012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234683012">(Apr 15 2021 at 14:14)</a>:</h4>
<p>Maybe the interval thing can also be simplified with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="k">have</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">∈</span> <span class="n">nhds</span> <span class="n">x</span><span class="o">,</span><span class="n">exact</span> <span class="n">mem_nhds_sets</span> <span class="n">hS₁</span> <span class="n">hS₂</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="n">F</span> <span class="o">:=</span> <span class="n">mem_nhds_iff_exists_Ioo_subset.mp</span> <span class="n">this</span><span class="o">,</span>
</code></pre></div>



<a name="234684551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234684551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shing Tak Lam <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234684551">(Apr 15 2021 at 14:22)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">topology.algebra.ordered</span>
<span class="kn">import</span> <span class="n">topology.instances.real</span>

<span class="kd">noncomputable theory</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hS₁</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hS₂</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">r</span><span class="o">:</span><span class="n">ℝ</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span> <span class="bp">∧</span> <span class="n">Icc</span> <span class="o">(</span><span class="n">x</span><span class="bp">-</span><span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="n">r</span><span class="o">)</span> <span class="bp">⊆</span> <span class="n">S</span> <span class="o">:=</span>
<span class="k">let</span> <span class="o">⟨</span><span class="n">ε</span><span class="o">,</span> <span class="n">hε₁</span><span class="o">,</span> <span class="n">hε₂</span><span class="o">⟩</span> <span class="o">:=</span>
  <span class="o">((</span><span class="bp">@</span><span class="n">metric.nhds_basis_closed_ball</span> <span class="n">_</span> <span class="n">_</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">((</span><span class="n">is_open_iff_mem_nhds.1</span> <span class="n">hS₁</span><span class="o">)</span> <span class="n">x</span> <span class="n">hS₂</span><span class="o">)</span> <span class="k">in</span>
  <span class="o">⟨</span><span class="n">ε</span><span class="o">,</span> <span class="n">hε₁</span><span class="o">,</span> <span class="bp">@</span><span class="n">closed_ball_Icc</span> <span class="n">x</span> <span class="n">ε</span> <span class="bp">▸</span> <span class="n">hε₂</span><span class="o">⟩</span>
</code></pre></div>



<a name="234685204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/234685204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#234685204">(Apr 15 2021 at 14:26)</a>:</h4>
<p>Ahh this is great Shing, thanks so much!</p>



<a name="305239415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/305239415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#305239415">(Oct 20 2022 at 21:15)</a>:</h4>
<p>Do we still not have a version of <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.is_open_iff">docs#metric.is_open_iff</a> for <code>closed_ball</code>?</p>



<a name="305243536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/305243536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#305243536">(Oct 20 2022 at 21:46)</a>:</h4>
<p>it's easy to prove:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">yael</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">pseudo_metric_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">is_open</span> <span class="n">s</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">,</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="n">metric.closed_ball</span> <span class="n">x</span> <span class="n">ε</span> <span class="bp">⊆</span> <span class="n">s</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">is_open_iff_mem_nhds</span><span class="o">,</span> <span class="n">metric.nhds_basis_closed_ball.mem_iff</span><span class="o">]</span>
</code></pre></div>
<p>essentially the same as <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.is_open_iff">docs#metric.is_open_iff</a></p>



<a name="305243618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/305243618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#305243618">(Oct 20 2022 at 21:47)</a>:</h4>
<p>So I assume the answer is "no" <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="305297697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Open%20set%20of%20reals%20contains%20ball/interval/near/305297697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Open.20set.20of.20reals.20contains.20ball.2Finterval.html#305297697">(Oct 21 2022 at 07:54)</a>:</h4>
<p>We have it but in greater generality, by saying that closed balls form a basis of the neighborhoods of a point, and then you deduce whatever you like from general properties of bases.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>