---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html">smallest element of a set?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="212321760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212321760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212321760">(Oct 05 2020 at 16:11)</a>:</h4>
<p>Is there a way to express specifically, "the smallest element of s" where s is a set of natural numbers</p>



<a name="212322592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212322592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212322592">(Oct 05 2020 at 16:17)</a>:</h4>
<p>There are <a href="https://leanprover-community.github.io/mathlib_docs/find/well_founded.min">docs#well_founded.min</a> (see also <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.lt_wf">docs#nat.lt_wf</a>) and <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.find">docs#nat.find</a>.</p>



<a name="212322934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212322934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212322934">(Oct 05 2020 at 16:20)</a>:</h4>
<p>so I have to import something for <code>.min</code> to work on <code>set \N</code>, right? how do I figure out what to import</p>



<a name="212323048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212323048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212323048">(Oct 05 2020 at 16:21)</a>:</h4>
<p>I might be wrong, but I don't think you can make it work with dot notation. I think you have to write <code>well_founded.min nat.lt_wf S S_nonempty</code></p>



<a name="212323627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212323627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212323627">(Oct 05 2020 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238605">Kevin Lacker</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/smallest.20element.20of.20a.20set.3F/near/212322934">said</a>:</p>
<blockquote>
<p>how do I figure out what to import</p>
</blockquote>
<p>by asking here... and after a while you'll know the library well enough that you start answering these questions yourself (-;</p>
<p>also <code>grep</code> helps me to find stuff quite often.</p>



<a name="212324402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212324402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212324402">(Oct 05 2020 at 16:31)</a>:</h4>
<p>ok. why does some stuff work with dot notation and some stuff not work with dot notation?</p>



<a name="212324971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212324971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212324971">(Oct 05 2020 at 16:36)</a>:</h4>
<p>Roughly speaking: if <code>X</code> is of type <code>foo</code> (possibly with some arguments), then dot notation allows us to write <code>X.bar</code> as a shorthand for <code>foo.bar X</code>. So in order to write <code>S.min</code>, where <code>S</code> is a set, the declaration would have to be named <code>set.min</code></p>



<a name="212325242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325242">(Oct 05 2020 at 16:39)</a>:</h4>
<p>hmm. why isn't a set of natural numbers a well-founded set? i guess because it is only relative to a particular relation</p>



<a name="212325387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325387">(Oct 05 2020 at 16:40)</a>:</h4>
<p>For more on dot notation see the end of <a href="https://leanprover.github.io/theorem_proving_in_lean/propositions_and_proofs.html#conjunction">3.3.1</a> and <a href="https://leanprover.github.io/theorem_proving_in_lean/structures_and_records.html">9.1</a> in TPiL. I think it finally clicked for me though after I read <a href="#narrow/stream/113488-general/topic/dot.20notation.20confusion/near/157341136">this thread</a>.</p>



<a name="212325419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325419">(Oct 05 2020 at 16:40)</a>:</h4>
<p>well, i'm used to it in the context of programming languages</p>



<a name="212325455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325455">(Oct 05 2020 at 16:40)</a>:</h4>
<p>the real question in my head is, why isn't <code>.min</code> a function on sets of integers, like it would be in a "normal" programming language</p>



<a name="212325605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325605">(Oct 05 2020 at 16:42)</a>:</h4>
<p>for some reason, i'm sure it's a good one, it doesn't just use the sane default of <code>&lt;</code> for the less-than relation</p>



<a name="212325861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212325861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212325861">(Oct 05 2020 at 16:44)</a>:</h4>
<p>i read that thread but there's too many references to other concepts i don't get for me to really get it. which is ok... compared to a normal programming language there's just far more methods and far fewer classes, so their organization is kind of necessarily harder to get through</p>



<a name="212326240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212326240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212326240">(Oct 05 2020 at 16:48)</a>:</h4>
<p>Do you mean <code>.min</code> a function on <code>finset</code>s of integers?</p>



<a name="212326303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212326303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212326303">(Oct 05 2020 at 16:49)</a>:</h4>
<p>Because <code>your_min {x : Z | x &lt; 0}</code> is ...?</p>



<a name="212326338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212326338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212326338">(Oct 05 2020 at 16:49)</a>:</h4>
<p>sorry, natural numbers, not integers</p>



<a name="212326472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212326472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212326472">(Oct 05 2020 at 16:50)</a>:</h4>
<p>Well, I think <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min'">docs#finset.min'</a> would work for what you want.</p>



<a name="212326536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212326536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212326536">(Oct 05 2020 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="238605">@Kevin Lacker</span> You can use <code>S.min</code> once you define <code>set.min</code>. But if you define <code>set.min</code> only for <code>S : set nat</code> then mathlib will not like it, because that definition is too restrictive. So you will have to come up with a definition of <code>set.min</code> that is sufficiently general that it covers all cases that one possibly would want to call <code>set.min</code>.</p>



<a name="212327295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212327295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212327295">(Oct 05 2020 at 16:57)</a>:</h4>
<p>i see. so it kind of tracks back to, there is no way to define a function that sometimes throws an error, or that is only defined on some subset of its input.</p>



<a name="212327524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212327524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212327524">(Oct 05 2020 at 16:58)</a>:</h4>
<p>There is, using <code>option</code> or <code>subtype</code>.</p>



<a name="212327589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212327589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212327589">(Oct 05 2020 at 16:59)</a>:</h4>
<p>Depends on what you want to do. Compare the <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min">docs#finset.min</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.min'">docs#finset.min'</a></p>



<a name="212327653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212327653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212327653">(Oct 05 2020 at 17:00)</a>:</h4>
<p>ok i have to read up more to discuss this sufficiently intelligently</p>



<a name="212340706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212340706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Paul van Wamelen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212340706">(Oct 05 2020 at 18:46)</a>:</h4>
<p>There is a nice example of getting the smallest <code>nat</code> in a set of <code>nat</code>s around line 127 of <code>C:\Projects\lean\mathlib_ufm2\archive\imo\imo1988_q6.lean</code>.</p>



<a name="212344004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212344004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212344004">(Oct 05 2020 at 19:13)</a>:</h4>
<p><code>well_founded.not_lt_min nat.lt_wf S S_nonempty hk</code> it is</p>



<a name="212364149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212364149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212364149">(Oct 05 2020 at 22:26)</a>:</h4>
<p>and after all that, reviewer complains that the simplest way to write this is to use the <code>is_least</code> predicate <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span> ( but thank you for pointing that out <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> )</p>



<a name="212364357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212364357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212364357">(Oct 05 2020 at 22:28)</a>:</h4>
<p>I'm sorry for not telling this earlier. When I read the original question, I thought you were asking about a function that takes a set and returns its minimal element.</p>



<a name="212364376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212364376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212364376">(Oct 05 2020 at 22:28)</a>:</h4>
<p>Probably we should ask for <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> every time.</p>



<a name="212364393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/smallest%20element%20of%20a%20set%3F/near/212364393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/smallest.20element.20of.20a.20set.3F.html#212364393">(Oct 05 2020 at 22:29)</a>:</h4>
<p>sigh... yeah, i should have realized that the answer to these two questions would live in totally different sublibraries</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>