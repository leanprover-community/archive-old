---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html">Inner product space on α × β</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="258926997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258926997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258926997">(Oct 25 2021 at 08:00)</a>:</h4>
<p>Am I blind or do we not have the <code>inner_product_space (α × β)</code> instance?</p>



<a name="258945922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258945922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258945922">(Oct 25 2021 at 11:31)</a>:</h4>
<p>You need a <code>def l2_prod</code>, because the default norm on the product is the maximum.</p>



<a name="258955927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258955927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258955927">(Oct 25 2021 at 13:07)</a>:</h4>
<p>Is <code>pi_Lp.inner_product_space</code> the instance you're looking for?</p>



<a name="258955998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258955998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258955998">(Oct 25 2021 at 13:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="311453">Frédéric Dupuis</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2/near/258955927">said</a>:</p>
<blockquote>
<p>Is <code>pi_Lp.inner_product_space</code> the instance you're looking for?</p>
</blockquote>
<p>Yes, this would be the usual workaround.</p>



<a name="258958138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258958138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258958138">(Oct 25 2021 at 13:25)</a>:</h4>
<p>Should we have <code>prod_Lp</code> to match <code>pi_Lp</code>?</p>



<a name="258959069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/258959069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#258959069">(Oct 25 2021 at 13:32)</a>:</h4>
<p>Let's wait until (if ever) it's needed for something -- the definition of the metric/normed space instances on <code>pi_Lp</code> requires several little inequality proofs which it would be sad to have to repeat.  See also<br>
<a href="#narrow/stream/116395-maths/topic/Fubini's.20for.20fin.202.20-.3E.20R/near/222194513">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Fubini's.20for.20fin.202.20-.3E.20R/near/222194513</a></p>



<a name="259007367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/259007367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#259007367">(Oct 25 2021 at 19:21)</a>:</h4>
<p>You can use equivalence to <code>Π b : bool, cond (ulift α) (ulift β)</code> to get all structures (probably with poor definitional equalities).</p>



<a name="292769533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292769533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292769533">(Aug 10 2022 at 14:49)</a>:</h4>
<p>Just checking if there were any changes in mathlib since this discussion? What's the easiest way to make an <code>inner_product_space</code> on <code>E₁ × E₂</code>, where both are themselves inner product spaces (with the inner form on the product being the direct sum of the two forms)?</p>



<a name="292769964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292769964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292769964">(Aug 10 2022 at 14:51)</a>:</h4>
<p>There was this recent discussion: <a href="#narrow/stream/116395-maths/topic/prod.20of.20inner.20product.20spaces/near/291488589">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/prod.20of.20inner.20product.20spaces/near/291488589</a></p>
<p>This resulted in <a href="https://github.com/leanprover-community/mathlib/pull/15833">#15833</a>, but that's a refactor of <code>pi_Lp</code>, not a <code>prod_Lp</code> type (but any <code>prod_Lp</code> should follow the refactor).</p>



<a name="292770571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292770571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292770571">(Aug 10 2022 at 14:55)</a>:</h4>
<p>So, at this moment, I think you can use <code>pi_Lp 2 E</code> in the finite case, where <code>E : fin 2 → Type*</code> such that <code>E 0 = E₁</code> and <code>E 1 = E₂</code>. However, if no one else does it, I'll probably get around to making this <code>prod_Lp</code> type. (No promises right now though.)</p>



<a name="292772487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292772487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292772487">(Aug 10 2022 at 15:04)</a>:</h4>
<p>Ah, thanks. I can't seem to even get this much started... Do I have the syntax wrong somehow?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">analysis.inner_product_space.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">E₁</span> <span class="n">E₂</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₁</span><span class="o">]</span> <span class="o">[</span><span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₂</span><span class="o">]</span>

<span class="kd">@[derive [add_comm_group, module ℝ]</span><span class="o">]</span><span class="kd">def</span> <span class="n">new_space</span> <span class="o">:=</span> <span class="n">E₁</span> <span class="bp">×</span> <span class="n">E₂</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">new_space</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="292773948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292773948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292773948">(Aug 10 2022 at 15:13)</a>:</h4>
<p>Your <code>new_space</code> takes <code>E₁</code> and <code>E₂</code> as explicit arguments, so <code>instance : inner_product_space ℝ (new_space E₁ E₂) := sorry</code> is valid</p>



<a name="292774692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292774692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292774692">(Aug 10 2022 at 15:15)</a>:</h4>
<p>You can see this in the error message:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">type</span> <span class="n">mismatch</span> <span class="n">at</span> <span class="n">application</span>
  <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">new_space</span>
<span class="n">term</span>
  <span class="n">new_space</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">Π</span> <span class="o">(</span><span class="n">E₁</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span><span class="o">)</span> <span class="o">(</span><span class="n">E₂</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">?</span><span class="o">)</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₁</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₂</span><span class="o">],</span>
    <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="bp">?</span> <span class="bp">?</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">?</span> <span class="bp">?</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">))</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="bp">?</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="bp">?+</span><span class="mi">1</span><span class="o">)</span>
</code></pre></div>
<p>So, the issue it's having is with <code>new_space</code>, and it says : "hey this thing isn't a type! It's a thing that takes two types which are <code>inner_product_space</code>s and it returns another type!"</p>



<a name="292776657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292776657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292776657">(Aug 10 2022 at 15:26)</a>:</h4>
<p>Ah, thanks! I'm an idiot...</p>



<a name="292780916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292780916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292780916">(Aug 10 2022 at 15:48)</a>:</h4>
<p>Hmm any hint on how to get that <code>E : fin 2 → Type*</code> to work? I tried this and it's not working... Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="o">:=</span> <span class="n">pi_Lp</span> <span class="mi">2</span> <span class="o">(</span><span class="bp">!</span><span class="o">[</span><span class="n">E₁</span><span class="o">,</span> <span class="n">E₂</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="kt">Type</span><span class="bp">*</span><span class="o">)),</span>
</code></pre></div>



<a name="292789817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292789817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292789817">(Aug 10 2022 at 16:33)</a>:</h4>
<p>The problem here is that your <code>E₁</code> and <code>E₂</code> need to live in a common type universe because <code>E : fin 2 → Type*</code> really means <code>E : fin 2 → Type u</code> (polymorphic over the universe parameter <code>u</code>). But you declared <code>(E₁ E₂ : Type*)</code>, which really means <code>(E₁ : Type u)</code> and <code>(E₂ : Type v)</code> for some universes <code>u</code> and <code>v</code>, but then your <code>![E₁, E₂] 0 : Type u</code> but <code>![E₁, E₂] 1 : Type v</code> which doesn't work. This works:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">analysis.inner_product_space.basic</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.pi_Lp</span>

<span class="kd">universes</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">E₁</span> <span class="n">E₂</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₁</span><span class="o">]</span> <span class="o">[</span><span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="n">E₂</span><span class="o">]</span>

<span class="kd">@[derive [add_comm_group, module ℝ]</span><span class="o">]</span><span class="kd">def</span> <span class="n">new_space</span> <span class="o">:=</span> <span class="n">E₁</span> <span class="bp">×</span> <span class="n">E₂</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">inner_product_space</span> <span class="n">ℝ</span> <span class="o">(</span><span class="n">new_space</span> <span class="n">E₁</span> <span class="n">E₂</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">foo</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">pi_Lp</span> <span class="mi">2</span> <span class="o">(</span><span class="bp">!</span><span class="o">[</span><span class="n">E₁</span><span class="o">,</span> <span class="n">E₂</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="mi">2</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)),</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="292790105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292790105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292790105">(Aug 10 2022 at 16:35)</a>:</h4>
<p>However, if you're really going to do this, I highly suggest the method described in the other thread of pulling back the structure from <code>pi_Lp</code>. It's much easier.</p>



<a name="292793428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292793428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292793428">(Aug 10 2022 at 16:54)</a>:</h4>
<p>Thanks! I <em>am</em> trying to pull back the structure, but I guess I'm doing it wrong...? (And how would I do it if the two spaces are really quite different, so they come from different universes...?)</p>



<a name="292795349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292795349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292795349">(Aug 10 2022 at 17:04)</a>:</h4>
<p>This doesn’t answer your question, but I would suggest indexing by <code>bool</code> rather than ˋfin 2`, it makes things less annoying to work with imo</p>



<a name="292795435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292795435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292795435">(Aug 10 2022 at 17:05)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/normed_add_comm_group.induced">docs#normed_add_comm_group.induced</a></p>



<a name="292796337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292796337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292796337">(Aug 10 2022 at 17:10)</a>:</h4>
<p>This takes an additive group monomorphism and pulls back the norm structure (including topological, metric and bornological structures) along the map. Then all you need is this map, but <code>add_equiv</code>s should be easy to come by here.</p>



<a name="292796593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292796593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292796593">(Aug 10 2022 at 17:12)</a>:</h4>
<p>Ok thanks, I'll try it!...</p>



<a name="292797150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292797150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292797150">(Aug 10 2022 at 17:15)</a>:</h4>
<p>Looks like we don't have a pullback specifically for <a href="https://leanprover-community.github.io/mathlib_docs/find/inner_product_space">docs#inner_product_space</a>. <span class="user-mention" data-user-id="268315">@Anatole Dedecker</span> or am I missing it? I figure you are very familiar with this part of the library by now <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="292803942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292803942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292803942">(Aug 10 2022 at 17:57)</a>:</h4>
<p>I've never seen it and I can't find it either, so we probably don't have it :/</p>



<a name="292804136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292804136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292804136">(Aug 10 2022 at 17:58)</a>:</h4>
<p>And also if we had it <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.inner_product_space">docs#submodule.inner_product_space</a> would probably be defined in terms of it</p>



<a name="292804876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292804876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292804876">(Aug 10 2022 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="252920">@Alex Kontorovich</span> just to warn you this is probably going to be a bit painful. If you want to try doing it then go for it, getting experience on how to manage this boilerplate side of the library is certainly valuable. But if you really need it and don't want to spend too much time on this I could have a go at it</p>



<a name="292806348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292806348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292806348">(Aug 10 2022 at 18:11)</a>:</h4>
<p>(If anyone else wants to tackle it I'd be happy not to have to do it of course, but someone should do it at some point)</p>



<a name="292837096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292837096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292837096">(Aug 10 2022 at 21:38)</a>:</h4>
<p>Thanks; I seem to have found a work-around for what I need that bypasses this construction... I certainly am not competent in how to manage the boilerplate!...</p>



<a name="292851174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292851174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292851174">(Aug 11 2022 at 00:06)</a>:</h4>
<p>A question for down the road: do we want separate <code>pi_Lp r β</code> and <code>prod_Lp r α β</code>, or should we copy <a href="https://leanprover-community.github.io/mathlib_docs/find/lex">docs#lex</a> and have <code>Lp r (Π i, β i)</code> and <code>Lp r (α × β)</code>?</p>



<a name="292851215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292851215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292851215">(Aug 11 2022 at 00:07)</a>:</h4>
<p>(I think this is only a question of spelling, it doesn't actually generalize any interesting theorems)</p>



<a name="292851300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292851300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292851300">(Aug 11 2022 at 00:08)</a>:</h4>
<p>It does mean that the "copy the algebraic structure" boilerplate is needed once not twice</p>



<a name="292852683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292852683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292852683">(Aug 11 2022 at 00:29)</a>:</h4>
<p>That's a nice idea, I didn't realize that's how <code>lex</code> works. It took me a few minutes to read and process it.</p>



<a name="292854417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292854417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292854417">(Aug 11 2022 at 01:00)</a>:</h4>
<p>Having authored <code>lex</code>, I unsurprisingly like this approach <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="292892514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/292892514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#292892514">(Aug 11 2022 at 09:11)</a>:</h4>
<p>Let's not attempt this until the existing ennreal refactor has gone through</p>



<a name="295124008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/295124008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#295124008">(Aug 24 2022 at 20:46)</a>:</h4>
<p>Did someone implement <code>prod_Lp</code>? If not I'll do it tomorrow.</p>



<a name="295126858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/295126858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#295126858">(Aug 24 2022 at 21:06)</a>:</h4>
<p>no, I haven't bothered. I do have a PR implementing equivalence between <code>lp</code> and other spaces sitting on the queue, in case anyone want to review it: <a href="https://github.com/leanprover-community/mathlib/pull/15872">#15872</a></p>



<a name="310583113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inner%20product%20space%20on%20%CE%B1%20%C3%97%20%CE%B2/near/310583113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2.html#310583113">(Nov 17 2022 at 10:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Inner.20product.20space.20on.20.CE.B1.20.C3.97.20.CE.B2/near/295124008">said</a>:</p>
<blockquote>
<p>Did someone implement <code>prod_Lp</code>? If not I'll do it tomorrow.</p>
</blockquote>
<p>did you do that?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>