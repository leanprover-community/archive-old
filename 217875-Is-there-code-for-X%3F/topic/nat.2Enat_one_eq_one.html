---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html">nat.nat_one_eq_one</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266360222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266360222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266360222">(Dec 29 2021 at 16:47)</a>:</h4>
<p>akin to <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.nat_zero_eq_zero">docs#nat.nat_zero_eq_zero</a></p>



<a name="266385966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266385966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266385966">(Dec 29 2021 at 22:54)</a>:</h4>
<p><code>nat.zero</code> is a valid term though, and the lemma says it's equal to the numeral <code>0</code>; <code>nat.one</code> isn't, so I'm not sure what lemma you're expecting here?</p>



<a name="266391160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266391160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266391160">(Dec 30 2021 at 00:23)</a>:</h4>
<p>the same sort of issue that required <code>nat_zero_eq_zero</code> was happening to me with 1; I still haven't figured out exactly what it was but <code>convert</code> fixed it (or maybe it was some weird metavariables, I'm not sure)</p>



<a name="266392469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266392469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266392469">(Dec 30 2021 at 00:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/nat.2Enat_one_eq_one/near/266391160">said</a>:</p>
<blockquote>
<p>the same sort of issue that required <code>nat_zero_eq_zero</code> was happening to me with 1; I still haven't figured out exactly what it was but <code>convert</code> fixed it (or maybe it was some weird metavariables, I'm not sure)</p>
</blockquote>
<p>Out of interest, what was the issue? The issue which requires <code>nat_zero_eq_zero</code> is that <code>nat.zero</code> can be written as well as <code>0</code>, but there's no such thing as <code>nat.one</code></p>



<a name="266392911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266392911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266392911">(Dec 30 2021 at 00:58)</a>:</h4>
<p>somewhere in <a href="https://github.com/leanprover-community/mathlib/pull/11128/files">here</a> (in data/nat/cast.lean), <code>exact map_one f</code> (or even the term mode; usually elaboration only breaks in one of the two!) wasn't working for some of these goals. in <code>ext_nat'</code>, the same happens with <code>f 0</code>, but this is fixed with nat_zero_eq_zero</p>



<a name="266393358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393358">(Dec 30 2021 at 01:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/nat.2Enat_one_eq_one/near/266392911">said</a>:</p>
<blockquote>
<p>somewhere in <a href="https://github.com/leanprover-community/mathlib/pull/11128/files">here</a> (in data/nat/cast.lean), <code>exact map_one f</code> (or even the term mode; usually elaboration only breaks in one of the two!) wasn't working for some of these goals. in <code>ext_nat'</code>, the same happens with <code>f 0</code>, but this is fixed with nat_zero_eq_zero</p>
</blockquote>
<p>In <code>ext_nat'</code> the <code>nat.zero</code> appears because of the use of the term <code>nat.rec</code>, and so <code>nat_zero_eq_zero</code> fixes it</p>



<a name="266393372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393372">(Dec 30 2021 at 01:07)</a>:</h4>
<p>does <code>induction</code> usually fix this? I've never seen this come up before</p>



<a name="266393377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393377">(Dec 30 2021 at 01:07)</a>:</h4>
<p>The things in that file seem to work for me?</p>



<a name="266393384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393384">(Dec 30 2021 at 01:07)</a>:</h4>
<p>yeah I ended up finding ways round it, but it wasn't trivial</p>



<a name="266393391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393391">(Dec 30 2021 at 01:08)</a>:</h4>
<p>there's still also a fair few <code>@</code>s that I don't get the need for in there</p>



<a name="266393439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393439">(Dec 30 2021 at 01:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/nat.2Enat_one_eq_one/near/266393372">said</a>:</p>
<blockquote>
<p>does <code>induction</code> usually fix this? I've never seen this come up before</p>
</blockquote>
<p>I expect so, the specific issue is that <code>nat.rec</code> caused the issue, because nat is defined as an inductive type and the numeral <code>0</code> is built on top of that; it's the interaction between using auto-generated recursors and numeral notation that is creating an issue</p>



<a name="266393540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393540">(Dec 30 2021 at 01:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/nat.2Enat_one_eq_one/near/266393391">said</a>:</p>
<blockquote>
<p>there's still also a fair few <code>@</code>s that I don't get the need for in there</p>
</blockquote>
<p>For the one on line 322, it can't infer that you want to talk about <code>R</code>, since neither the goal type or the given arguments are enough to infer it</p>



<a name="266393551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393551">(Dec 30 2021 at 01:10)</a>:</h4>
<p>Similarly <code>refine ext_nat' f g _,</code> gives a bunch of new goals</p>



<a name="266393634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393634">(Dec 30 2021 at 01:12)</a>:</h4>
<p>shouldn't out_param stop this? as only R is such that [ring_hom_class F _ R], and that instance is there</p>



<a name="266393636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393636">(Dec 30 2021 at 01:12)</a>:</h4>
<p>or does it not think that deeply</p>



<a name="266393657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.nat_one_eq_one/near/266393657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Enat_one_eq_one.html#266393657">(Dec 30 2021 at 01:13)</a>:</h4>
<p>That I can't help you with, sorry!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>