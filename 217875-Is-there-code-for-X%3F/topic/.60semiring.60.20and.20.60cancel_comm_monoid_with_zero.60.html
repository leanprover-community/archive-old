---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html">`semiring` and `cancel_comm_monoid_with_zero`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284215346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284215346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284215346">(May 28 2022 at 07:15)</a>:</h4>
<p>How do I say that a <code>semiring</code> is a <code>cancel_comm_monoid_with_zero</code>? I cannot use</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">cancel_comm_monoid_with_zero</span> <span class="n">R</span><span class="o">]</span>
</code></pre></div>
<p>since now <code>R</code> has two <code>monoid</code> structure. For rings we have <code>is_domain</code>, but it requires <code>ring</code> and not <code>semiring</code>.</p>
<p>This is relevant for ideals of a Dedekind domain, that are a <code>semiring</code> and a <code>cancel_comm_monoid_with_zero</code>, and in the <code>flt-regular</code> project we would like to prove a general result about this semirings.</p>



<a name="284216208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216208">(May 28 2022 at 07:38)</a>:</h4>
<p>Does <a href="https://leanprover-community.github.io/mathlib_docs/find/no_zero_divisors.to_cancel_comm_monoid_with_zero">docs#no_zero_divisors.to_cancel_comm_monoid_with_zero</a> work here?</p>



<a name="284216220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216220">(May 28 2022 at 07:39)</a>:</h4>
<p>It is for <code>comm_ring</code></p>



<a name="284216267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216267">(May 28 2022 at 07:40)</a>:</h4>
<p>Right, and it's proved using <a href="https://leanprover-community.github.io/mathlib_docs/find/is_regular_of_ne_zero'">docs#is_regular_of_ne_zero'</a></p>



<a name="284216276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216276">(May 28 2022 at 07:40)</a>:</h4>
<p>Which also needs an almost-ring</p>



<a name="284216280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216280">(May 28 2022 at 07:40)</a>:</h4>
<p>So I guess probably a new typeclass is needed...</p>



<a name="284216283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216283">(May 28 2022 at 07:40)</a>:</h4>
<p>I guess the right thing is to have <code>is_domain</code> for <code>semiring</code></p>



<a name="284216285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216285">(May 28 2022 at 07:40)</a>:</h4>
<p>Let me see what happens</p>



<a name="284216296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216296">(May 28 2022 at 07:41)</a>:</h4>
<p>Defined in a different way though, right?</p>



<a name="284216353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216353">(May 28 2022 at 07:42)</a>:</h4>
<p>Ah, I am stupid</p>



<a name="284216364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216364">(May 28 2022 at 07:42)</a>:</h4>
<p>Is it possible that <a href="https://leanprover-community.github.io/mathlib_docs/find/no_zero_divisors">docs#no_zero_divisors</a> is uninteresting on a semiring, and we should redefine it to "all non-zero elements are regular"?</p>



<a name="284216367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216367">(May 28 2022 at 07:42)</a>:</h4>
<p>Of course to prove the cancellative property we need subtraction</p>



<a name="284216517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216517">(May 28 2022 at 07:46)</a>:</h4>
<p>Yes, we probably need something like <code>is_cancellative_semiring</code> meaning all elements are regular, or something like that</p>



<a name="284216547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216547">(May 28 2022 at 07:47)</a>:</h4>
<p><code>cancel_semiring</code>?</p>



<a name="284216810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284216810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284216810">(May 28 2022 at 07:52)</a>:</h4>
<p>Since we know have <code>is_domain</code> it should be <code>is_cancellative</code>. I don't know if this is worth the effort (do we have other interesting examples?)</p>



<a name="284219247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284219247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284219247">(May 28 2022 at 08:55)</a>:</h4>
<p>Do we have any examples of things with no zero divisors that aren't cancellative?</p>



<a name="284219879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284219879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284219879">(May 28 2022 at 09:13)</a>:</h4>
<p>I have no idea...</p>



<a name="284220020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284220020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284220020">(May 28 2022 at 09:17)</a>:</h4>
<p>I mean, they should exist, I don't know an interesting example</p>



<a name="284220028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284220028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284220028">(May 28 2022 at 09:17)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="321459">@Damiano Testa</span> knows?</p>



<a name="284220474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284220474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284220474">(May 28 2022 at 09:29)</a>:</h4>
<p>Perhaps an easier question is "are any of the <a href="https://leanprover-community.github.io/mathlib_docs/find/no_zero_divisors">docs#no_zero_divisors</a> instances an example of this"</p>



<a name="284226868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284226868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284226868">(May 28 2022 at 12:13)</a>:</h4>
<p>I'm not at Lean now, but isn't this similar to the distinction between <code>char_zero</code> and <code>char_p 0</code>?  That is, <code>no_zero_divisors</code> could apply to something that has a non-zero absorbing element, while cancellative would not.</p>



<a name="284226928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284226928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284226928">(May 28 2022 at 12:15)</a>:</h4>
<p>A more concrete example that I would test if I were at a computer: is <code>fin 2</code> a <code>non_zero_divisor</code> semiring that is not cancellative?</p>



<a name="284227012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227012">(May 28 2022 at 12:17)</a>:</h4>
<p>(by <code>fin 2</code> I mean that <code>1+1=1</code> and everything else "obvious".)</p>
<p>Ah, maybe to get it to work for multiplication, we might need <code>fin (something larger than 2, maybe 3 works)</code>.</p>



<a name="284227081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227081">(May 28 2022 at 12:19)</a>:</h4>
<p>In <code>fin 3</code>, the identity <code>2*1=2*2</code> shows that it is not cancellative, yet it has no non-trivial zero-divisors... Likely by <code>dec_trivial!</code></p>



<a name="284227208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227208">(May 28 2022 at 12:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60/near/284227081">said</a>:</p>
<blockquote>
<p>In <code>fin 3</code>, the identity <code>2*1=2*2</code> shows that it is not cancellative, yet it has no non-trivial zero-divisors... Likely by <code>dec_trivial!</code></p>
</blockquote>
<p>What am I missing? Surely that equality is false as <code>2%3 = 2 != 1 = 4%3</code>?</p>



<a name="284227237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227237">(May 28 2022 at 12:23)</a>:</h4>
<p>fin 3 is cancellative because it's a field, right?</p>



<a name="284227247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227247">(May 28 2022 at 12:23)</a>:</h4>
<p>Use absorbing addition and multiplication.</p>



<a name="284227254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227254">(May 28 2022 at 12:23)</a>:</h4>
<p>I meant <code>fin n</code> to have absorbing operations: any sum/product at least <code>n-1</code> equals <code>n-1</code></p>



<a name="284227296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227296">(May 28 2022 at 12:24)</a>:</h4>
<p>I have lost track of which operation <code>fin</code> has right now...</p>



<a name="284227319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227319">(May 28 2022 at 12:25)</a>:</h4>
<p>Eric, what you described is what I would call <code>zmod</code>, which indeed is a field for prime input.  In my mind, <code>fin</code> has the more "exotic" absorbing property.</p>



<a name="284227444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227444">(May 28 2022 at 12:28)</a>:</h4>
<p>For a possibly more used example: is ennreal something that has no zero divisors, but is cancellative?</p>



<a name="284227611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284227611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284227611">(May 28 2022 at 12:33)</a>:</h4>
<p><code>fin n</code> and <code>zmod n</code> are identical right now except when <code>n=0</code></p>



<a name="284228095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284228095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284228095">(May 28 2022 at 12:45)</a>:</h4>
<p>Ok, thanks for the clarification.  Is the finite example clear, though?  More importantly, it works, right?</p>
<p>Also ennreal should work, right?  <code>x * ∞ = ∞</code> for any <code>x</code>, implies non-cancellative.  However, <code>mul_eq_zero</code> should work for ennreal.</p>



<a name="284271388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284271388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284271388">(May 29 2022 at 07:43)</a>:</h4>
<p>I guess I will just create a class <code>is_cancellative</code> with some basic instances, it seems the easiest thing to do.</p>



<a name="284283834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284283834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Cameron Torrance <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284283834">(May 29 2022 at 12:30)</a>:</h4>
<p>I was running into a similar issue with semigroups (unless I missing something), are you planning on also adding left/right variants?</p>



<a name="284283940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/284283940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#284283940">(May 29 2022 at 12:33)</a>:</h4>
<p>I don't know, but I will surely be slow, so if you are interested in doing it please go ahead.</p>



<a name="308649839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60semiring%60%20and%20%60cancel_comm_monoid_with_zero%60/near/308649839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60semiring.60.20and.20.60cancel_comm_monoid_with_zero.60.html#308649839">(Nov 08 2022 at 18:40)</a>:</h4>
<p>I've created <a href="https://github.com/leanprover-community/mathlib/pull/17440">#17440</a> as a start. It defined <code>is_left_cancellative_semigroup</code>, <code>is_right_cancellative_semigroup</code>, <code>is_left_cancellative_monoid</code>, <code>is_right_cancellative_monoid</code>, <code>is_cancellative_monoid</code> and it provides some basic instances.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>