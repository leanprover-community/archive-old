---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html">set to finset equiv</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237410793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237410793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237410793">(May 04 2021 at 22:32)</a>:</h4>
<p>Something akin to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">classicize</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">≃</span> <span class="n">finset</span> <span class="n">α</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="237412019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412019">(May 04 2021 at 22:43)</a>:</h4>
<p>doesn't seem too hard to prove using <code>set.to_finset</code> if it's not around</p>



<a name="237412130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412130">(May 04 2021 at 22:44)</a>:</h4>
<p>although funnily enough my computer won't find an instance of <code>fintype ↥s</code> from <code>fintype α</code></p>



<a name="237412205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412205">(May 04 2021 at 22:45)</a>:</h4>
<p>You need decidability for that, Eric</p>



<a name="237412275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412275">(May 04 2021 at 22:45)</a>:</h4>
<p><code>decidable_pred s</code>?</p>



<a name="237412324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412324">(May 04 2021 at 22:46)</a>:</h4>
<p><code>decidable_pred (\mem s)</code></p>



<a name="237412430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412430">(May 04 2021 at 22:47)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">finset.to_finset_coe</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.to_finset</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="n">set.to_finset</span><span class="bp">;</span> <span class="n">ext</span><span class="bp">;</span> <span class="n">simp</span>

<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">classicize</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">≃</span> <span class="n">finset</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span><span class="n">classical</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">set.to_finset</span> <span class="n">s</span><span class="o">},</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span><span class="o">,</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">dsimp</span> <span class="n">only</span><span class="o">,</span> <span class="n">convert</span> <span class="n">finset.to_finset_coe</span> <span class="n">x</span> <span class="o">}</span> <span class="o">}</span>
</code></pre></div>



<a name="237412446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412446">(May 04 2021 at 22:47)</a>:</h4>
<p>terrible code but it will work</p>



<a name="237412447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412447">(May 04 2021 at 22:47)</a>:</h4>
<p>Do we have <a href="https://leanprover-community.github.io/mathlib_docs/find/set.to_finset_coe">docs#set.to_finset_coe</a>?</p>



<a name="237412474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412474">(May 04 2021 at 22:47)</a>:</h4>
<p>we have the set = set version, finset = finset isn't there</p>



<a name="237412571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412571">(May 04 2021 at 22:48)</a>:</h4>
<p>What's that one called?</p>



<a name="237412629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237412629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237412629">(May 04 2021 at 22:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.coe_to_finset">docs#set.coe_to_finset</a></p>



<a name="237413418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237413418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237413418">(May 04 2021 at 22:57)</a>:</h4>
<p>edited to something slightly less terrible, but it's not quite as clean as it should be due to different <code>fintype</code> instances, same thing as earlier today lol</p>



<a name="237413437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237413437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237413437">(May 04 2021 at 22:57)</a>:</h4>
<p>maybe that's why it's not been put in yet</p>



<a name="237446859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20to%20finset%20equiv/near/237446859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20to.20finset.20equiv.html#237446859">(May 05 2021 at 06:28)</a>:</h4>
<p>There should be a map from set to finset sending infinite sets to zero</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>