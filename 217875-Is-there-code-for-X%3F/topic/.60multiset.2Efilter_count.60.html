---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/.60multiset.2Efilter_count.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60multiset.2Efilter_count.60.html">`multiset.filter_count`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220364686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60multiset.filter_count%60/near/220364686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60multiset.2Efilter_count.60.html#220364686">(Dec 18 2020 at 12:12)</a>:</h4>
<p>I have a multiset <code>s : multiset α</code>, and I want to filter by <code>p : α → ℕ → Prop</code>, giving a subset <code>t</code> where <code>t.count a</code> is the maximum <code>n ≤ s.count </code> s.t. <code>p a n</code>. More specifically, <code>x : R</code> has a prime factorization <code>s</code> and for <code>y | x</code> I want to show <code>y</code> has a prime factorization <code>t ≤ s</code>. I don't have a <code>normalization_monoid R</code> structure, so I can't use <a href="https://leanprover-community.github.io/mathlib_docs/find/unique_factorization_monoid.dvd_iff_factors_le_factors">docs#unique_factorization_monoid.dvd_iff_factors_le_factors</a>.</p>



<a name="220364839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60multiset.filter_count%60/near/220364839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60multiset.2Efilter_count.60.html#220364839">(Dec 18 2020 at 12:14)</a>:</h4>
<p>I guess I could use the noncomputable choice of normalization monoid <a href="https://leanprover-community.github.io/mathlib_docs/find/unique_factorization_monoid.normalization_monoid">docs#unique_factorization_monoid.normalization_monoid</a> and try to do special cases where <code>[nontrivial R]</code> doesn't hold?</p>



<a name="220364939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%60multiset.filter_count%60/near/220364939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.60multiset.2Efilter_count.60.html#220364939">(Dec 18 2020 at 12:15)</a>:</h4>
<p>Of course, because I have an <code>x ≠ 0</code> in my assumptions anyway. Thanks for the rubber-ducking, everyone <span aria-label="duck" class="emoji emoji-1f986" role="img" title="duck">:duck:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>