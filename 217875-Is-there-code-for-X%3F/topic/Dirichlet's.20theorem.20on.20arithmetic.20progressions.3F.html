---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html">Dirichlet's theorem on arithmetic progressions?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="232829607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232829607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Candales <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232829607">(Apr 01 2021 at 21:46)</a>:</h4>
<p>Is the Dirichlet's theorem on arithmetic progressions already implemented, or any of the special cases (like the infinitude of primes of the form 4k+1, 4k-1, etc)?<br>
I didn't find this after doing a google site search or after looking through <a href="http://nat.prime">nat.prime</a> and through the list of 100 theorems.</p>



<a name="232829713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232829713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232829713">(Apr 01 2021 at 21:47)</a>:</h4>
<p>This is a nontrivial theorem; the standard proof involves a bunch of complex analysis and we have essentially no complex analysis. The special cases such as 4k+1, 4k-1 are easily accessible; we have enough about cyclotomic polynomials to do 1 mod N and indeed this might also be done.</p>



<a name="232829893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232829893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Candales <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232829893">(Apr 01 2021 at 21:49)</a>:</h4>
<p>I'll like to implement those, if you don't mind. How should I call them (still don't fully get the naming convention), and where should I place them? in <a href="http://nat.prime">nat.prime</a>?</p>



<a name="232830151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232830151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232830151">(Apr 01 2021 at 21:51)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/number_theory/primes_congruent_one.html">https://leanprover-community.github.io/mathlib_docs/number_theory/primes_congruent_one.html</a> Here's the case for 1 mod N</p>



<a name="232830165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232830165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232830165">(Apr 01 2021 at 21:51)</a>:</h4>
<p>As a special case we have <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.exists_prime_ge_modeq_one">docs#nat.exists_prime_ge_modeq_one</a> for primes congruent to <code>1</code> mod <code>N</code></p>



<a name="232830285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232830285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Manuel Candales <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232830285">(Apr 01 2021 at 21:52)</a>:</h4>
<p>ah, nice!</p>



<a name="232833493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232833493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232833493">(Apr 01 2021 at 22:23)</a>:</h4>
<p>If you do 4k-1 you can also do 6k-1, this is the other elementary one. In general you can prove there's infinitely many primes not in a proper subgroup of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mi mathvariant="normal">/</mi><mi>N</mi><mi mathvariant="double-struck">Z</mi><msup><mo stretchy="false">)</mo><mo>×</mo></msup></mrow><annotation encoding="application/x-tex">(\Z/N\Z)^\times</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">×</span></span></span></span></span></span></span></span></span></span></span> by elementary methods but you only get a concrete equality when this group has order 2</p>



<a name="232855590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232855590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232855590">(Apr 02 2021 at 03:28)</a>:</h4>
<p>There are a couple more special cases which should be doable without the heavy complex analysis, eg in <a href="https://kconrad.math.uconn.edu/blurbs/ugradnumthy/squaresandinfmanyprimes.pdf">https://kconrad.math.uconn.edu/blurbs/ugradnumthy/squaresandinfmanyprimes.pdf</a></p>



<a name="232859455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232859455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232859455">(Apr 02 2021 at 04:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="359379">Manuel Candales</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F/near/232829893">said</a>:</p>
<blockquote>
<p>How should I call them (still don't fully get the naming convention)?</p>
</blockquote>
<p>Don't worry about that. Once you have a statement in Lean, you can post it here, and then more experienced users will be able to explain to you how to deduce the Lean name from the statement.</p>



<a name="232873808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232873808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232873808">(Apr 02 2021 at 08:18)</a>:</h4>
<p>Yeah if you allow quadratic reciprocity (which we have in mathlib) then you can get a little further. There are very elementary methods (which don't use Z/pZ^* cyclic) for classifying when -1 and -3 are squares mod p which is why you don't even need QR for the cases I originally mentioned</p>



<a name="232874185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232874185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232874185">(Apr 02 2021 at 08:23)</a>:</h4>
<p>I would be remiss to not mention the proof of dirichlet's theorem in the form "every arithmetic progression contains infintely many primes" done in lean by translation from metamath. See <a href="#narrow/stream/113488-general/topic/Prime.20number.20theorem.20in.20lean/near/168472336">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Prime.20number.20theorem.20in.20lean/near/168472336</a></p>



<a name="232874281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/232874281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#232874281">(Apr 02 2021 at 08:25)</a>:</h4>
<p>It's not in mathlib, though, because it has a dependency on the metamath library</p>



<a name="257668418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257668418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dima Pasechnik <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257668418">(Oct 15 2021 at 09:15)</a>:</h4>
<p>Is there any progress on this - perhaps more complex analysis tools were implemented since April? A student of mine is thinking about this topic as a 4th year project (for a CS students).</p>



<a name="257668982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257668982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257668982">(Oct 15 2021 at 09:20)</a>:</h4>
<p>There's ongoing work on getting complex analysis off the ground. I think Yury more or less has Cauchy's theorem?</p>



<a name="257857032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257857032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257857032">(Oct 16 2021 at 20:01)</a>:</h4>
<p>I'm waiting for a review of <a href="https://github.com/leanprover-community/mathlib/issues/9496">#9496</a>. Unfortunately, I don't know how to help <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> with the review.</p>



<a name="257857068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257857068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257857068">(Oct 16 2021 at 20:01)</a>:</h4>
<p>(it is &gt;4K lines)</p>



<a name="257857430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257857430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257857430">(Oct 16 2021 at 20:06)</a>:</h4>
<p>Wrong topic?</p>



<a name="257857465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257857465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257857465">(Oct 16 2021 at 20:07)</a>:</h4>
<p>Oh no, nevermind <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="257857693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257857693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257857693">(Oct 16 2021 at 20:10)</a>:</h4>
<p>The obvious thing to make it easier to digest is to split it. Are you planning on doing that? I have a few comments on the finset lemmas.</p>



<a name="257858389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257858389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257858389">(Oct 16 2021 at 20:19)</a>:</h4>
<p>I don't see any finset lemmas in this PR. Currently it has &lt;100 LOC outside of <code>analysis.box_integral</code> and lots of code in this directory. I'm not sure that it makes sense to merge some files in this directory before others but if Sebastien will greenlight a part of the PR, then I'll move it to a new PR and merge to master.</p>



<a name="257858777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257858777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257858777">(Oct 16 2021 at 20:25)</a>:</h4>
<p>Oh sorry, just set. But nevermind because <a href="https://leanprover-community.github.io/mathlib_docs/find/set.pairwise_disjoint">docs#set.pairwise_disjoint</a> is too specialized.</p>



<a name="257861241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257861241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257861241">(Oct 16 2021 at 21:04)</a>:</h4>
<p>I thought Sébastien was handling it. I'll try to help.</p>



<a name="257870963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Dirichlet%27s%20theorem%20on%20arithmetic%20progressions%3F/near/257870963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Dirichlet's.20theorem.20on.20arithmetic.20progressions.3F.html#257870963">(Oct 16 2021 at 23:45)</a>:</h4>
<p>Sébastien already reviewed a large part of the PR. I was not trying to complain. I just wanted to say that there is a lot of code to review here, so one shouldn't expect this PR to be merged very quickly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>