---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html">nilpotency in finite groups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270746187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270746187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270746187">(Feb 04 2022 at 17:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , your order is ready:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- A finite group is nilpotent iff the normalizer condition holds, and iff all sylow groups are</span>
<span class="sd">normal and iff its the direct product of its sylow groups.  -/</span>
<span class="kd">theorem</span> <span class="n">is_nilpotent_of_finite_tfae</span> <span class="o">:</span> <span class="n">tfae</span>
  <span class="o">[</span> <span class="n">is_nilpotent</span> <span class="n">G</span><span class="o">,</span>
    <span class="n">normalizer_condition</span> <span class="n">G</span><span class="o">,</span>
    <span class="bp">∀</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">fact</span> <span class="n">p.prime</span><span class="o">)</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">sylow</span> <span class="n">p</span> <span class="n">G</span><span class="o">),</span> <span class="o">(</span><span class="bp">↑</span><span class="n">P</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span><span class="bp">.</span><span class="n">normal</span><span class="o">,</span>
    <span class="n">nonempty</span> <span class="o">((</span><span class="bp">Π</span> <span class="n">p</span> <span class="o">:</span> <span class="o">(</span><span class="n">card</span> <span class="n">G</span><span class="o">)</span><span class="bp">.</span><span class="n">factorization.support</span><span class="o">,</span> <span class="bp">Π</span> <span class="n">P</span> <span class="o">:</span> <span class="n">sylow</span> <span class="n">p</span> <span class="n">G</span><span class="o">,</span> <span class="o">(</span><span class="bp">↑</span><span class="n">P</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">))</span> <span class="bp">≃*</span> <span class="n">G</span><span class="o">)</span> <span class="o">]</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">tfae_have</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">→</span> <span class="mi">2</span><span class="o">,</span> <span class="o">{</span> <span class="n">exact</span> <span class="bp">@</span><span class="n">normalizer_condition_of_is_nilpotent</span> <span class="n">_</span> <span class="n">_</span> <span class="o">},</span>
  <span class="n">tfae_have</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">→</span> <span class="mi">3</span><span class="o">,</span> <span class="o">{</span> <span class="n">introsI</span> <span class="n">h</span> <span class="n">p</span> <span class="n">_</span> <span class="n">P</span><span class="o">,</span> <span class="n">exact</span> <span class="n">sylow.normal_of_normalizer_condition</span> <span class="n">h</span> <span class="n">_</span> <span class="o">},</span>
  <span class="n">tfae_have</span> <span class="o">:</span> <span class="mi">3</span> <span class="bp">→</span> <span class="mi">4</span><span class="o">,</span> <span class="o">{</span> <span class="n">exact</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">nonempty.intro</span> <span class="o">(</span><span class="n">sylow.direct_product_of_normal</span> <span class="n">h</span><span class="o">)</span> <span class="o">},</span>
  <span class="n">tfae_have</span> <span class="o">:</span> <span class="mi">4</span> <span class="bp">→</span> <span class="mi">1</span><span class="o">,</span> <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨</span><span class="n">e</span><span class="o">⟩,</span> <span class="n">exact</span> <span class="n">is_nilpotent_of_product_of_sylow_group</span> <span class="n">e</span> <span class="o">},</span>
  <span class="n">tfae_finish</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="270746529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270746529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270746529">(Feb 04 2022 at 17:31)</a>:</h4>
<p>It’s still missing the connection to “all maximal groups are normal”, for which I have not looked yet at how to prove the implication back (probably using Frattini's argument as done <a href="https://math.stackexchange.com/questions/2664340/nilpotent-iff-every-maximal-subgroup-is-normal">here</a>). And of course there is a DAG of outstanding 10 PRs that I have to clean up, get through review, in addition to the 19 PRs created over the last three weeks and already merged; <a href="https://github.com/leanprover-community/mathlib/issues/11723">PR overview</a>.</p>



<a name="270749332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270749332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270749332">(Feb 04 2022 at 17:53)</a>:</h4>
<p>Yes, the Frattini's argument proof doesn't seem too bad.</p>



<a name="270753678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270753678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270753678">(Feb 04 2022 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="470149">@Joachim Breitner</span> that is awesome! Thank you for the valuable addition to mathlib! </p>
<p>It turns out that the community here (led on this occasion by Patrick Massot)  have written down an "official" definition of "an undergraduate degree", and now we have the challenge to teach it to Lean. However I have my own unofficial definition of an undergraduate degree, which is "everything I learnt in my undergraduate classes" and this is one of the few theorems in my group theory class which was not already in mathlib. Thanks very much!</p>



<a name="270772637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270772637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270772637">(Feb 04 2022 at 21:06)</a>:</h4>
<p>Do we already have the statement that a non-top subgroup of a finite group is contained in a maximal (<code>is_coatom</code>) subgroup? It seems that the statement should look like <code>is_coatomic (subgroup G)</code>, but <code>grep</code> doesn’t find a lemma of that form.</p>



<a name="270773014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270773014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270773014">(Feb 04 2022 at 21:10)</a>:</h4>
<p>I think we don't</p>



<a name="270773055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270773055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270773055">(Feb 04 2022 at 21:10)</a>:</h4>
<p>However I'm wondering what's the correct generality for this. I think it has little to do with subgroups.</p>



<a name="270773123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270773123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270773123">(Feb 04 2022 at 21:11)</a>:</h4>
<p>Shouldn't it hold in any finite top order?</p>



<a name="270773183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270773183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270773183">(Feb 04 2022 at 21:11)</a>:</h4>
<p>Yes, I think that instance should do.</p>



<a name="270773292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270773292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270773292">(Feb 04 2022 at 21:12)</a>:</h4>
<p>Eh, we don't have <code>fintype -&gt; is_coatomic</code> either <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="270774021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270774021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270774021">(Feb 04 2022 at 21:18)</a>:</h4>
<p>Isn’t that the instance you were suggesting?</p>



<a name="270774548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270774548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270774548">(Feb 04 2022 at 21:23)</a>:</h4>
<p>Yeah! I just thought it was there already. Wanna do it or should I?</p>



<a name="270777906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/270777906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#270777906">(Feb 04 2022 at 21:52)</a>:</h4>
<p>I just <code>sorried</code>’d it in my proof, at <a href="https://github.com/leanprover-community/mathlib/pull/11841/files#diff-ab70e1f803f9921c903cc935dd827a15a25f8323fad19b349c8f756bb396c059R555">https://github.com/leanprover-community/mathlib/pull/11841/files#diff-ab70e1f803f9921c903cc935dd827a15a25f8323fad19b349c8f756bb396c059R555</a> and will call it a day for now. If I find the instance on <code>master</code> or  some PR when I come back to it tomorrow I wouldn’t mind :-)</p>



<a name="275872235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nilpotency%20in%20finite%20groups/near/275872235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nilpotency.20in.20finite.20groups.html#275872235">(Mar 18 2022 at 22:54)</a>:</h4>
<p>Hmm, on <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/nilpotency.20in.20finite.20groups/near/270746187">Feb 4</a> I claimed that the theorem about the various different definitions of nilpotency for finite groups is ready, after three weeks of leaning. Turns out it wasn’t quite ready, and it took another 6 weeks to actually get “the” PR in. (Quotation marks because it actually took  <a href="https://github.com/leanprover-community/mathlib/issues/11723">45 PRs</a> with at least 424 commits  – thanks to all the patient reviewers, especially <span class="user-mention" data-user-id="310045">@Eric Wieser</span> ).</p>
<p>But here it is:<br>
<a href="https://leanprover-community.github.io/mathlib_docs/group_theory/nilpotent.html#is_nilpotent_of_finite_tfae">https://leanprover-community.github.io/mathlib_docs/group_theory/nilpotent.html#is_nilpotent_of_finite_tfae</a><br>
or maybe prettier<br>
<a href="https://github.com/leanprover-community/mathlib/blob/7f1ba1a333d66eed531ecb4092493cd1b6715450/src/group_theory/nilpotent.lean#L898-L903">https://github.com/leanprover-community/mathlib/blob/7f1ba1a333d66eed531ecb4092493cd1b6715450/src/group_theory/nilpotent.lean#L898-L903</a></p>
<p>The biggest chunk during PR review was probably <a href="https://leanprover-community.github.io/mathlib_docs/group_theory/noncomm_pi_coprod.html"><code>noncomm_pi_coprod</code></a>; the construction of <code>{ϕ : Π (i : ι), (N i →* M) // pairwise commutes mumble mumble} ≃ ((Π (i : ι), N i) →* M)</code>, and expanding the API of the underlying <code>finset.noncomm_prod</code> function.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>