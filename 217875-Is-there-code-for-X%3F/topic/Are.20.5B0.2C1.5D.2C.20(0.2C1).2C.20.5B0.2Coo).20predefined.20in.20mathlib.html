---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html">Are [0,1], (0,1), [0,oo) predefined in mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218908443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218908443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218908443">(Dec 05 2020 at 00:38)</a>:</h4>
<p>I looked in <code>mathlib</code> and I didn't see these as predefined constants, are they there?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">data.real.ereal</span>

<span class="kd">def</span> <span class="n">O01</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="n">set.Ioo</span> <span class="mi">0</span> <span class="mi">1</span> <span class="c1">-- (0,1)</span>
<span class="kd">def</span> <span class="n">C01</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ℝ</span> <span class="o">:=</span> <span class="n">set.Icc</span> <span class="mi">0</span> <span class="mi">1</span> <span class="c1">-- [0,1]</span>
<span class="kd">def</span> <span class="n">C0oo</span> <span class="o">:</span> <span class="n">set</span> <span class="n">ereal</span> <span class="o">:=</span> <span class="n">set.Ico</span> <span class="mi">0</span> <span class="bp">⊤</span> <span class="c1">-- [0,∞)</span>
</code></pre></div>
<p>Prior to coming to Lean I have read about Borel sigma algebras such as <a href="https://math.stackexchange.com/questions/1228534/borel-sigma-algebra-over-0-1">B(0,1)</a>.  It should be relatively straightforward to construct: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.measurable_space</span>
<span class="k">#check</span> <span class="n">measurable_space</span> <span class="n">O01</span>
<span class="k">#check</span> <span class="n">measurable_space</span> <span class="n">C01</span>
<span class="k">#check</span> <span class="n">measurable_space</span> <span class="n">C0oo</span>

<span class="n">This</span> <span class="n">would</span> <span class="n">give</span> <span class="n">B</span><span class="o">((</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">)),</span> <span class="n">B</span><span class="o">([</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">])</span> <span class="n">and</span> <span class="n">B</span><span class="o">([</span><span class="mi">0</span><span class="o">,</span><span class="bp">∞</span><span class="o">))</span><span class="bp">.</span>
</code></pre></div>



<a name="218908564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218908564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218908564">(Dec 05 2020 at 00:40)</a>:</h4>
<p>Predefined constants considered harmful. They're not in mathlib.</p>



<a name="218908593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218908593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218908593">(Dec 05 2020 at 00:41)</a>:</h4>
<p>The last one you might prefer to use <a href="https://leanprover-community.github.io/mathlib_docs/find/set.Ici">docs#set.Ici</a></p>



<a name="218923540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218923540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218923540">(Dec 05 2020 at 07:30)</a>:</h4>
<p>They have already been constructed:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.borel_space</span>

<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="o">(</span><span class="n">set.Ioo</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="mi">1</span><span class="o">))</span>
<span class="k">#check</span> <span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">measurable_space</span> <span class="o">(</span><span class="n">set.Ici</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)))</span>
</code></pre></div>
<p>The canonical instance of measurable_space on topological spaces is the borel sigma algebra</p>



<a name="218923550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218923550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218923550">(Dec 05 2020 at 07:31)</a>:</h4>
<p>wait... then how can I have the Lebesgue measure on R?</p>



<a name="218923859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218923859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218923859">(Dec 05 2020 at 07:40)</a>:</h4>
<p>Early on I considered using the lebesgue measure as the default, but the argument went that borel has better closure properties and is true generically. If you want lebesgue measurable you can use <code>is_null_measurable</code> which means "is in the completion of the canonical measure"</p>



<a name="218923868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218923868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218923868">(Dec 05 2020 at 07:41)</a>:</h4>
<p>we might also add a type alias for it, but the uses haven't really required it so far</p>



<a name="218924101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218924101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218924101">(Dec 05 2020 at 07:48)</a>:</h4>
<p>Actually it looks like my facts are out of date. There is not a generic instance <code>[topological_space X] : measurable_space X := borel</code>, instead there is a class <code>borel_space</code> that asserts that the measurable space structure coincides with the borel sigma algebra induced by the topology</p>



<a name="218999238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218999238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218999238">(Dec 06 2020 at 19:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo">said</a>.20predefined.20in.20mathlib/near/218923540):</p>
<blockquote>
<p>The canonical instance of measurable_space on topological spaces is the borel sigma algebra</p>
</blockquote>
<p>There is no instance <code>[topological_space α] : measurable_space α</code>.</p>



<a name="218999286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218999286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218999286">(Dec 06 2020 at 19:02)</a>:</h4>
<p>However we have the borel sigma algebra registered as an instance on reals.</p>



<a name="218999319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218999319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218999319">(Dec 06 2020 at 19:03)</a>:</h4>
<p>And the canonical instance of <code>measurable_space</code> on a subtype is the restriction. We have an instance saying that this equals the borel sigma-algebra of the subtype.</p>



<a name="218999351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Are%20%5B0%2C1%5D%2C%20%280%2C1%29%2C%20%5B0%2Coo%29%20predefined%20in%20mathlib/near/218999351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Are.20.5B0.2C1.5D.2C.20(0.2C1).2C.20.5B0.2Coo).20predefined.20in.20mathlib.html#218999351">(Dec 06 2020 at 19:04)</a>:</h4>
<p>Sorry, I've started answering before reading the last paragraph of your reply.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>