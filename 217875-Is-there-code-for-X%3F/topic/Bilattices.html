---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html">Bilattices</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="223649610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223649610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Marynissen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223649610">(Jan 22 2021 at 14:44)</a>:</h4>
<p>I started playing around with Lean, and I wonder if there is code for <a href="https://en.wiktionary.org/wiki/bilattice">https://en.wiktionary.org/wiki/bilattice</a></p>



<a name="223649748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223649748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223649748">(Jan 22 2021 at 14:45)</a>:</h4>
<p>Nope, I don't think so.</p>



<a name="223649790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223649790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223649790">(Jan 22 2021 at 14:45)</a>:</h4>
<p>We have all sorts of lattices, but not two on the same object.</p>



<a name="223650069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223650069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Marynissen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223650069">(Jan 22 2021 at 14:47)</a>:</h4>
<p>That's unfortunate, It would be nice to use \le\_1 and \le\_2 for the orders. But I think \le is reserved.</p>



<a name="223678465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223678465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223678465">(Jan 22 2021 at 18:15)</a>:</h4>
<p>\le is reserved indeed, but you can definitely define new notations \le\1 and \le\2 and use that notation for your definition of bilattice.</p>



<a name="223678632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223678632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223678632">(Jan 22 2021 at 18:17)</a>:</h4>
<p>Though - thinking about it - it might be inconvenient to apply lemmas about lattices for these structures, since lattices use the notation \le.</p>



<a name="223679160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223679160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223679160">(Jan 22 2021 at 18:20)</a>:</h4>
<p>Another approach is to do something similar to <a href="https://leanprover-community.github.io/mathlib_docs/find/opposite">docs#opposite</a> (see module doc) to get two orders on the same type. However, with <code>opposite</code> we tend to not mix the two different operations, while in bilattices we definitely want to mix them. That might get inconvenient.<br>
I think it's a tricky question how to do bilattices cleanly in mathlib.</p>



<a name="223686423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223686423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223686423">(Jan 22 2021 at 19:23)</a>:</h4>
<p>Oh, a better idea: make  \le\1 and  similar local notation for \le with a specific instance.<br>
Example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.lattice</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">lattice</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">lattice</span> <span class="n">α</span><span class="o">)</span>

<span class="kn">local</span> <span class="kd">infix</span> <span class="bp">`</span> <span class="bp">≤₁</span> <span class="bp">`</span><span class="o">:</span><span class="mi">50</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_le.le</span> <span class="n">α</span> <span class="o">{</span> <span class="bp">..</span> <span class="n">h1</span> <span class="o">}</span>
<span class="kn">local</span> <span class="kd">infix</span> <span class="bp">`</span> <span class="bp">≤₁</span> <span class="bp">`</span><span class="o">:</span><span class="mi">50</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_le.le</span> <span class="n">α</span> <span class="o">{</span> <span class="bp">..</span> <span class="n">h2</span> <span class="o">}</span>
<span class="kn">local</span> <span class="kd">infix</span> <span class="bp">`</span> <span class="bp">⊓₁</span> <span class="bp">`</span><span class="o">:</span><span class="mi">70</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_inf.inf</span> <span class="n">α</span> <span class="o">{</span> <span class="bp">..</span> <span class="n">h1</span> <span class="o">}</span>
<span class="kn">local</span> <span class="kd">infix</span> <span class="bp">`</span> <span class="bp">⊔₂</span> <span class="bp">`</span><span class="o">:</span><span class="mi">65</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_sup.sup</span> <span class="n">α</span> <span class="o">{</span> <span class="bp">..</span> <span class="n">h2</span> <span class="o">}</span>
<span class="c1">-- etc.</span>

<span class="kd">class</span> <span class="n">bilattice</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">example_axiom</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">x</span> <span class="bp">⊓₁</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">⊔₂</span> <span class="n">y</span><span class="o">)</span>
<span class="c1">-- I don't know the actual axioms for bilattices</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="n">h1</span> <span class="n">h2</span><span class="o">}</span>

<span class="kd">lemma</span> <span class="n">example_axiom</span> <span class="o">[</span><span class="n">bilattice</span> <span class="n">α</span> <span class="n">h1</span> <span class="n">h2</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">⊓₁</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">⊔₂</span> <span class="n">y</span> <span class="o">:=</span>
<span class="n">bilattice.example_axiom</span> <span class="n">x</span> <span class="n">y</span>
</code></pre></div>



<a name="223697920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223697920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223697920">(Jan 22 2021 at 20:49)</a>:</h4>
<p>I would think that a <code>bilattice</code> would be best modeled as just a bijection between two lattices, but also I don't really think we should create an API for them until someone has something they'd like to prove.</p>



<a name="223701661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223701661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223701661">(Jan 22 2021 at 21:18)</a>:</h4>
<p>Oh, that is probably a better idea. I agree we shouldn't put them in mathlib until they are used, but I think it's good to think about whether our current API (about lattices) is future proof in the sense that we can define other concepts (bilattices) on top of them.</p>



<a name="223702098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223702098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223702098">(Jan 22 2021 at 21:21)</a>:</h4>
<p>We need to be very careful when messing up with lattices because they are used a <em>lot</em>.</p>



<a name="223755244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223755244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Marynissen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223755244">(Jan 23 2021 at 15:36)</a>:</h4>
<p>Bilattices are used for semantics of logic programming. It would be nice to be able to use all the results for lattices. The question was not to ask support for it in mathlib.<br>
Wouldn't it make difficult to work with it if it is represented as a bijection between two lattices. What for example with structures that combine multiple different structures like for example topological groups or trilattices. In order to keep modularity I suppose we should not change lattices in any way.</p>



<a name="223761352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223761352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223761352">(Jan 23 2021 at 17:50)</a>:</h4>
<p>It'd be a bit of a pain, at least at first, to work with the bijection, but based on how much the syntax in mathlib is based on referring to THE &lt;-relation or THE lattice structure on a type, if you put both lattice structures on the same type, you'll have no way of distinguishing them, and it'll be intractable.</p>



<a name="223761367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223761367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223761367">(Jan 23 2021 at 17:51)</a>:</h4>
<p>And if you want to talk about, say, <code>&lt;1</code> and <code>&lt;2</code>, with corresponding meets, joins, etc., you have to copy basically every statement you want about lattices for each separate lattice structure manually (or metaprogram this process)</p>



<a name="223761442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223761442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223761442">(Jan 23 2021 at 17:52)</a>:</h4>
<p>There are already several well-developed APIs where you have multiple structures of the same kind on the same object in mathlib - but they're nearly always through some bijection - I believe the best term for this would be a "type synonym".</p>



<a name="223761527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bilattices/near/223761527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bilattices.html#223761527">(Jan 23 2021 at 17:54)</a>:</h4>
<p>For instance, there is already a bilattice in mathlib, it's just not called that. There is a bijection between every lattice and its <code>order_dual</code>, which has its own lattice structure.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>