---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html">Factoring zero roots</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="294627960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294627960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294627960">(Aug 22 2022 at 08:29)</a>:</h4>
<p>Is there a way to write a polynomial <code>P</code> as <code>X ^ m * Q</code> where the smallest coefficient of <code>Q</code> is nonzero that's well-integrated with <code>coeff</code>?</p>



<a name="294628230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294628230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294628230">(Aug 22 2022 at 08:31)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="321459">@Damiano Testa</span></p>



<a name="294628742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294628742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294628742">(Aug 22 2022 at 08:35)</a>:</h4>
<p>To un <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a>, I just want to show that if the least nonzero coefficients of <code>P</code> and <code>Q</code> are positive, then the least coefficient of <code>P * Q</code> is as well. If it were the greatest, I could use <code>leading_coeff</code> and all would be well, but we don't seem to have something like <code>least_coeff</code>?</p>



<a name="294628884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294628884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294628884">(Aug 22 2022 at 08:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.trailing_coeff">docs#polynomial.trailing_coeff</a></p>



<a name="294628929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294628929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294628929">(Aug 22 2022 at 08:36)</a>:</h4>
<p>Aaah trailing! I knew it had to be somewhere <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="294629028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629028">(Aug 22 2022 at 08:37)</a>:</h4>
<p>Yes, trailing coeff would work.  There might be <code>trailing_coeff_mul</code> as well.  I am not sure if there is a version with just the bounds (the analogue of <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.nat_degree_mul_le">docs#polynomial.nat_degree_mul_le</a>.</p>



<a name="294629125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629125">(Aug 22 2022 at 08:38)</a>:</h4>
<p>Let's try: <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.le_trailing_degree_mul">docs#polynomial.le_trailing_degree_mul</a>.</p>
<p>It works!!!  <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="294629292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629292">(Aug 22 2022 at 08:39)</a>:</h4>
<p>As for your initial question, I know that there is <a href="https://leanprover-community.github.io/mathlib_docs/find/multiplicity">docs#multiplicity</a>, I thought that it would have been useful, but so far I have never used it.</p>



<a name="294629310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629310">(Aug 22 2022 at 08:39)</a>:</h4>
<p>I actually only need <code>trailing_coeff_mul</code>! So I now have a complete proof that floors and ceils are not preserved under ordered ring homomorphisms.</p>



<a name="294629396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629396">(Aug 22 2022 at 08:40)</a>:</h4>
<p>That is, life is proven sad.</p>



<a name="294629410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629410">(Aug 22 2022 at 08:40)</a>:</h4>
<p>Is this a goals accomplished or goals not accomplished kind of thing?</p>



<a name="294629473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629473">(Aug 22 2022 at 08:40)</a>:</h4>
<p>It's a "I have a new pathology to put in <code>counterexamples</code>" kind of thing.</p>



<a name="294629556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629556">(Aug 22 2022 at 08:41)</a>:</h4>
<p>I love counterexamples: if you play your cards right, you always either get a theorem or counterexample!</p>



<a name="294629815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294629815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294629815">(Aug 22 2022 at 08:43)</a>:</h4>
<p>Okay so intuitively floors and ceils should be preserved by <code>f</code> an ordered ring homs because:</p>
<ul>
<li><code>f</code> preserves the copy of the naturals/integers because it's a ring hom.</li>
<li><code>f</code> preserves what's between <code>n</code> and <code>n + 1</code> because it's monotone.</li>
</ul>



<a name="294630010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294630010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294630010">(Aug 22 2022 at 08:45)</a>:</h4>
<p>At this point, I was quite happy with the proof and PRed <a href="https://github.com/leanprover-community/mathlib/pull/16025">#16025</a>. But I couldn't get the Lean proof.</p>



<a name="294630130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294630130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294630130">(Aug 22 2022 at 08:46)</a>:</h4>
<p>And this was because that "between" doesn't have to be strict. Potentially something whose floor was <code>n</code> could get mapped to <code>n + 1</code>, and this has floor <code>n + 1</code>, not <code>n</code>.</p>



<a name="294630443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294630443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294630443">(Aug 22 2022 at 08:48)</a>:</h4>
<p>So what would be a counterexample? Not <code>ℚ</code>, <code>ℝ</code> or anything like that, because you can use archimedeanness to ensure that nothing <code>&lt; n + 1</code> gets mapped to <code>n + 1</code>. So you need infinitesimals.</p>



<a name="294630902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294630902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294630902">(Aug 22 2022 at 08:51)</a>:</h4>
<p>Hence I took <code>ℤ[ε]</code> where <code>ε</code> is an infinitesimal. I could inherit the ring structure from <code>ℤ[X]</code>, and the ordered add group structure from <code>ℕ →ₗ ℤ</code> thanks to <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.lex.ordered_add_comm_group">docs#pi.lex.ordered_add_comm_group</a>.</p>



<a name="294631172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294631172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294631172">(Aug 22 2022 at 08:53)</a>:</h4>
<p>Now the pathological hom is taking the zeroth coefficient. That works because <code>⌊-ε⌋ = -1</code> but <code>⌊coeff (-ε) 0⌋ = ⌊0⌋ = 0</code>.</p>



<a name="294631850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Factoring%20zero%20roots/near/294631850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Factoring.20zero.20roots.html#294631850">(Aug 22 2022 at 08:57)</a>:</h4>
<p>This reminds me of another counterexample in the folder of a canonically_ordered something for which multiplication by 2 is not injective (if I remember correctly) and you get two incomparable elements <code>a b</code> such that <code>2 * a = 2 * b</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>