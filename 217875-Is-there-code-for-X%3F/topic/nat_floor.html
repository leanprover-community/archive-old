---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html">nat_floor</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241554646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241554646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241554646">(Jun 04 2021 at 15:46)</a>:</h4>
<p>We have the very convenient <code>nat_ceil</code>. Why don't we have <code>nat_floor</code>? Is there a cheap way to emulate it, or something?</p>



<a name="241554939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241554939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241554939">(Jun 04 2021 at 15:48)</a>:</h4>
<p>Just looking at the definition, you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/int.to_nat">docs#int.to_nat</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/floor">docs#floor</a></p>



<a name="241555214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241555214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241555214">(Jun 04 2021 at 15:50)</a>:</h4>
<p>Hmm... should I make an API then?</p>



<a name="241555467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241555467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241555467">(Jun 04 2021 at 15:52)</a>:</h4>
<p>If you're able to work with int-valued floors, you can just use the floor API. Do you absolutely need naturals?</p>



<a name="241556193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241556193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241556193">(Jun 04 2021 at 15:57)</a>:</h4>
<p>Yeah it would be better because I'm using it with <code>nat.iterate</code>.</p>



<a name="241559710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241559710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241559710">(Jun 04 2021 at 16:23)</a>:</h4>
<p>Probably we should have floor_semirings</p>



<a name="241559977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241559977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241559977">(Jun 04 2021 at 16:25)</a>:</h4>
<p>What are the axioms for a <code>floor_semiring</code>?</p>



<a name="241560138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560138">(Jun 04 2021 at 16:26)</a>:</h4>
<p><code>nnreal</code> should be one :-)</p>



<a name="241560446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560446">(Jun 04 2021 at 16:28)</a>:</h4>
<p><code>nat</code> also :-)</p>



<a name="241560664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560664">(Jun 04 2021 at 16:30)</a>:</h4>
<p>How about just change <code>linear_ordered_ring</code> to <code>linear_ordered_semiring</code> in the definition of <code>floor_ring</code>? Whatever that is...</p>



<a name="241560800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560800">(Jun 04 2021 at 16:31)</a>:</h4>
<p><code>floor</code> is a Galois connection from the semiring to the integers.</p>



<a name="241560947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560947">(Jun 04 2021 at 16:32)</a>:</h4>
<p>I didn't know <code>floor_ring</code> was a thing...</p>



<a name="241560961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241560961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241560961">(Jun 04 2021 at 16:32)</a>:</h4>
<p>Probably even a Galois insertion, as floor of an integer is itself.</p>



<a name="241561036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561036">(Jun 04 2021 at 16:32)</a>:</h4>
<p>Beware Kevin just confessed he became mad.</p>



<a name="241561065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561065">(Jun 04 2021 at 16:33)</a>:</h4>
<p>Ahah, what? <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="241561082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561082">(Jun 04 2021 at 16:33)</a>:</h4>
<p>I mean, he always has been.</p>



<a name="241561130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561130">(Jun 04 2021 at 16:33)</a>:</h4>
<p>Who in the world would want to render undergraduates useful?</p>



<a name="241561361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561361">(Jun 04 2021 at 16:35)</a>:</h4>
<p>Still it got <a href="#narrow/stream/236604-Zulip-meta/topic/wide.20code.20blocks/near/241558135">worse</a>.</p>



<a name="241561514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241561514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241561514">(Jun 04 2021 at 16:36)</a>:</h4>
<p>Oh</p>



<a name="241562283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241562283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241562283">(Jun 04 2021 at 16:42)</a>:</h4>
<p>After checking, I think <code>floor_semiring</code> is indeed a good idea.</p>



<a name="241562909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241562909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241562909">(Jun 04 2021 at 16:47)</a>:</h4>
<p>The relationship between floor_ring and floor_semiring is still an issue since a semiring doesn't have a natural coercion from int</p>



<a name="241563082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241563082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241563082">(Jun 04 2021 at 16:48)</a>:</h4>
<p>Oh that's interesting. Maybe a floor_semiring should have a floor function to nat and really not be a floor ring?</p>



<a name="241563102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241563102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241563102">(Jun 04 2021 at 16:49)</a>:</h4>
<p>Yeah, we can layer them.</p>



<a name="241563268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241563268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241563268">(Jun 04 2021 at 16:50)</a>:</h4>
<p><code>floor_semiring</code> would readily extend <code>nat_ceil</code> (and the yet inexistent <code>nat_floor</code>) and maybe we could set up an inference from <code>floor_ring</code> to <code>floor_semiring</code> using <code>int.to_nat</code>?</p>



<a name="241564032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241564032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241564032">(Jun 04 2021 at 16:56)</a>:</h4>
<p>I can't really imagine a nat-valued floor function on the reals, this is what's confusing me.</p>



<a name="241564175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241564175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241564175">(Jun 04 2021 at 16:57)</a>:</h4>
<p>If you want to define semiring_floor of (-1 : real) to be 0 then it doesn't satisfy the Galois connection property: (0 : nat) &lt;= floor(-1) but 0 isn't &lt;= -1 in the reals.</p>



<a name="241572940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241572940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241572940">(Jun 04 2021 at 18:05)</a>:</h4>
<p>I'm now writing the API. Shall I mention directly the gc in the class definition?</p>



<a name="241574659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241574659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241574659">(Jun 04 2021 at 18:21)</a>:</h4>
<p>And here I hit a problem. I have two conflicting notions of floor. Is there any way to give them the same name, but allow Lean to get the best one regarding the situation? (it sounds prone to creating bugs...) That is, it gets the ring floor when dealing with a <code>floor_ring</code> and the semiring floor when dealing with a<code>floor_semiring</code>.</p>



<a name="241575899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241575899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241575899">(Jun 04 2021 at 18:32)</a>:</h4>
<p>Actually, the name is not too bad because we can define notation. But what about notation then?</p>



<a name="241578859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241578859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241578859">(Jun 04 2021 at 18:57)</a>:</h4>
<p>This is what typeclasses are for. Except what happens if something is both a floor_ring and a floor_semiring?</p>



<a name="241581107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241581107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241581107">(Jun 04 2021 at 19:17)</a>:</h4>
<p>I don't think that happens because a <code>floor_ring</code> is bounded below and a <code>floor_semiring</code>is unbounded.</p>



<a name="241581161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241581161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241581161">(Jun 04 2021 at 19:18)</a>:</h4>
<p>Of course, you can take different ordering of the same type, but that surely doesn't come up in practice when using floors and ceils.</p>



<a name="241588471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241588471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241588471">(Jun 04 2021 at 20:22)</a>:</h4>
<p>It's actually not that trivial to generalise that stuff... For example, how can you define the fractional part without referring to substraction?</p>



<a name="241588702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241588702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241588702">(Jun 04 2021 at 20:24)</a>:</h4>
<p>Is there something like a partial substraction where <code>a - b + b = a</code> if <code>b ≤ a</code>, as for ℕ?</p>



<a name="241596464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241596464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241596464">(Jun 04 2021 at 21:42)</a>:</h4>
<p>"monus" has been used for that before I think. Pi-like types with nat in their codomain would inherit such a structure</p>



<a name="241646626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241646626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241646626">(Jun 05 2021 at 17:18)</a>:</h4>
<p>Where do I find that? The docs search is inconclusive.</p>



<a name="241648355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648355">(Jun 05 2021 at 17:58)</a>:</h4>
<p><code>monus</code> only exists in zulip threads</p>



<a name="241648459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648459">(Jun 05 2021 at 18:00)</a>:</h4>
<p>Isn't it basically equivalent to some cancellative assumption? <code>a+b=a+c -&gt; b=c</code>?</p>



<a name="241648486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648486">(Jun 05 2021 at 18:01)</a>:</h4>
<p>Oh maybe it's equivalent to this "canonical order" assumption as in canonically_ordered_monoid</p>



<a name="241648491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648491">(Jun 05 2021 at 18:01)</a>:</h4>
<p>Not really. The cancellative assumption asserts that this monus is unique. What I want is the existence</p>



<a name="241648507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648507">(Jun 05 2021 at 18:01)</a>:</h4>
<p>Then canonical order I think</p>



<a name="241648584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648584">(Jun 05 2021 at 18:02)</a>:</h4>
<p>Wait, maybe you just want half of that implication. The integers are not canonically ordered, for example</p>



<a name="241648617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648617">(Jun 05 2021 at 18:03)</a>:</h4>
<p>Aren't they?</p>



<a name="241648627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648627">(Jun 05 2021 at 18:03)</a>:</h4>
<p>the reverse implication fails</p>



<a name="241648675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648675">(Jun 05 2021 at 18:04)</a>:</h4>
<p><code>a - b + b = a</code> does not imply <code>b &lt;= a</code></p>



<a name="241648704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648704">(Jun 05 2021 at 18:04)</a>:</h4>
<p>I don't think we have a version of canonically ordered with just one side of the implication</p>



<a name="241648718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648718">(Jun 05 2021 at 18:05)</a>:</h4>
<p>And I guess linear_ordered isn't enough?</p>



<a name="241648755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648755">(Jun 05 2021 at 18:05)</a>:</h4>
<p>No, it's off the beaten path of algebraic classes since negatives make it fail</p>



<a name="241648803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648803">(Jun 05 2021 at 18:06)</a>:</h4>
<p>Argh</p>



<a name="241648806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648806">(Jun 05 2021 at 18:06)</a>:</h4>
<p>And what about ceil?</p>



<a name="241648832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648832">(Jun 05 2021 at 18:07)</a>:</h4>
<p>Isn't N conditionnally complete?</p>



<a name="241648961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241648961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241648961">(Jun 05 2021 at 18:09)</a>:</h4>
<p>Ah wait, that's bad. I want to match <code>floor</code>. So maybe I can define <code>ceil x := ite (floor x = x) x (floor x + 1)</code>? Sounds a bit tricky to prove stuff about.</p>



<a name="241649055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241649055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241649055">(Jun 05 2021 at 18:10)</a>:</h4>
<p>If  a <code>linear_ordered_semiring</code> really is the positive half of a <code>linear_ordered_ring</code>, how come it be that hard</p>



<a name="241649831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241649831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241649831">(Jun 05 2021 at 18:25)</a>:</h4>
<p>If you really want the integers to not be a floor semiring then you can use canonically ordered. The issue is whether the floor is int valued or nat valued. If it's nat valued then the key floor axiom implies that everything in the ring is &gt;= 0 and then you're fine to use canonically ordered additive monoids. Maybe they should not be called floor semirings though, maybe semifloor semirings or something?</p>



<a name="241649905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241649905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241649905">(Jun 05 2021 at 18:26)</a>:</h4>
<p>My instinct about a floor semiring is that it should just be a floor ring without the - and in particular the floor will be int valued.</p>



<a name="241650828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241650828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241650828">(Jun 05 2021 at 18:47)</a>:</h4>
<p>Yes, I have the same instinct. But then the <code>floor_ring</code> <code>ceil</code> is defined as <code>-floor (-x)</code> and that's not really usable as a definition anymore.</p>



<a name="241651657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241651657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241651657">(Jun 05 2021 at 19:04)</a>:</h4>
<p>That's interesting, because <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">R</mi><mrow><mo>≥</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\R_{\geq0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.934069em;vertical-align:-0.24517899999999998em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">≥</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"><span></span></span></span></span></span></span></span></span></span> has a perfectly good notion of <code>ceil</code>.</p>



<a name="241651729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241651729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241651729">(Jun 05 2021 at 19:06)</a>:</h4>
<p>Yes absolutely. But I think this is related to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">R</mi><mrow><mo>≥</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\R_{\ge 0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.934069em;vertical-align:-0.24517899999999998em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">≥</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"><span></span></span></span></span></span></span></span></span></span> being archimedean.</p>



<a name="241651747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241651747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241651747">(Jun 05 2021 at 19:06)</a>:</h4>
<p>But don't forget that we get to specify the floor function. So the ceil function has to stem from <code>floor</code> somehow.</p>



<a name="241651756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241651756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241651756">(Jun 05 2021 at 19:06)</a>:</h4>
<p>The commutative additive monoids satisfying this cancellation law a+b=a+c -&gt; b=c are precisely the commutative additive monoids which are submonoids of commutative additive groups. So one could then ask the same question: if you have a semiring with an int-valued floor and it satisfies additive cancellation, does the associated ring that you get by "formally adding negatives" also get a floor ring structure? This is just the same ceil question in disguise.</p>



<a name="241652486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241652486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241652486">(Jun 05 2021 at 19:25)</a>:</h4>
<p>I'm tempted to say yes but this sounds a bit tricky because negating floor makes it into a ceil (I guess that was your point). So maybe using <code>ceil x = floor x or floor x + 1</code> is an alternative?</p>



<a name="241652498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241652498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241652498">(Jun 05 2021 at 19:25)</a>:</h4>
<p>Tangent question does <code>floor_ring</code> imply <code>archimedean</code>?</p>



<a name="241654326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654326">(Jun 05 2021 at 20:12)</a>:</h4>
<p>perhaps not directly but they are closely related (in the same file, even)</p>



<a name="241654356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654356">(Jun 05 2021 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="132603">@Calle Sönne</span> thought about this sort of thing. What started off as a simple-looking project to define decimal expansions of real numbers in lean (something which might still not be done!) turned into a rabbit hole of trying to figure out precisely which rings had some kind of notion of expansion of this kind and ultimately I think we came up with some pretty weird examples of floor rings but I can no longer remember them. Maybe Calle still can</p>



<a name="241654412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654412">(Jun 05 2021 at 20:14)</a>:</h4>
<p>actually they aren't in the same file anymore. <a href="https://leanprover-community.github.io/mathlib_docs/find/archimedean.floor_ring">docs#archimedean.floor_ring</a> shows that an archimedean ring is a floor ring but I don't see the converse in the library</p>



<a name="241654449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654449">(Jun 05 2021 at 20:16)</a>:</h4>
<p>I'm pretty sure that if it's not there then we knew an example where it wasn't true</p>



<a name="241654545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654545">(Jun 05 2021 at 20:18)</a>:</h4>
<p>I think it should be true, although the proof might rely on an additional assumption like being a field so that you get the simplified characterization of archimedean</p>



<a name="241654621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654621">(Jun 05 2021 at 20:20)</a>:</h4>
<p>it follows pretty directly from <code>archimedean_iff_rat_le</code> and <code>le_ceil</code></p>



<a name="241654624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654624">(Jun 05 2021 at 20:20)</a>:</h4>
<p>I think Calle and I spent some time thinking about noncommutative floor rings, eg add two non-commuting polynomial variables to the integers and make them infinitesimally small</p>



<a name="241654630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654630">(Jun 05 2021 at 20:20)</a>:</h4>
<p>We definitely weren't restricting to fields</p>



<a name="241654646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654646">(Jun 05 2021 at 20:21)</a>:</h4>
<p>We had examples where the decimal expansion of a number didn't converge to the number etc</p>



<a name="241654649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241654649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241654649">(Jun 05 2021 at 20:21)</a>:</h4>
<p>It might not be an instance because you need to say something like floor_ring + field that would be a diamond</p>



<a name="241679195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241679195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241679195">(Jun 06 2021 at 07:56)</a>:</h4>
<p>This thread is relevant:<br>
<a href="#narrow/stream/113488-general/topic/subtraction.20in.20canonically_ordered_add_monoid">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/subtraction.20in.20canonically_ordered_add_monoid</a><br>
I wanted to define truncated subtraction ("monus") for all canonically ordered monoids. <br>
I started on it, but at that time it was very hard, since I needed a lot more classes to prove specific properties about this subtraction (in a good amount of generality). I am planning to retry with all the new ordered-monoid classes we recently got.</p>



<a name="241681161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat_floor/near/241681161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat_floor.html#241681161">(Jun 06 2021 at 08:46)</a>:</h4>
<p>Ah great!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>