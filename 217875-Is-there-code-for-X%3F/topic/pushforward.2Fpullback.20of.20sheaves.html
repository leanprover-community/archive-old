---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html">pushforward/pullback of sheaves</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="309552539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309552539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309552539">(Nov 14 2022 at 08:47)</a>:</h4>
<p>Can we push forward or pull back a sheaf of abelian groups on a topological space, along a morphism of topological spaces?</p>



<a name="309557063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309557063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309557063">(Nov 14 2022 at 09:18)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/topology/sheaves/functors.html">https://leanprover-community.github.io/mathlib_docs/topology/sheaves/functors.html</a></p>



<a name="309557149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309557149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309557149">(Nov 14 2022 at 09:19)</a>:</h4>
<p>So only forward, I think.</p>



<a name="309558923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309558923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309558923">(Nov 14 2022 at 09:30)</a>:</h4>
<p>We do have <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.sites.pushforward">docs#category_theory.sites.pushforward</a>, but it is not yet specialized onto topological spaces.</p>



<a name="309559529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309559529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309559529">(Nov 14 2022 at 09:34)</a>:</h4>
<p>(it is called pushforward since the direction of <code>X ⟶ Y</code> and <code>opens Y ⥤ opens X</code> are reversed.)</p>



<a name="309581522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309581522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309581522">(Nov 14 2022 at 11:51)</a>:</h4>
<p>Thanks for these. I'm still finding my way around the library, I don't know whether I should be thinking about sites or topology. Is the philosophy that we should do everything with sites really, and then specialise to topological spaces when necessary?</p>



<a name="309581735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309581735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309581735">(Nov 14 2022 at 11:52)</a>:</h4>
<p>At the end of the day I'm interested in schemes with the zariski topology, and we have ringed spaces but as far as I know we don't have ringed sites.</p>



<a name="309584444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309584444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309584444">(Nov 14 2022 at 12:07)</a>:</h4>
<p>I don't think we are fully committed into sites and I don't think we need to for the time being.</p>



<a name="309592141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/309592141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#309592141">(Nov 14 2022 at 12:57)</a>:</h4>
<p>So you're suggesting that we don't worry about eg the etale site and just worry about doing stuff like pushing forward and pulling back sheaves of modules using topological spaces first?</p>



<a name="310085785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/310085785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#310085785">(Nov 14 2022 at 21:32)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/Top.presheaf.pushforward_pullback_adjunction">docs#Top.presheaf.pushforward_pullback_adjunction</a> for presheaves on topological spaces which specializes <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.Lan.adjunction">docs#category_theory.Lan.adjunction</a>, but we don't have the adjunction between categories of sheaves (for sites or for spaces). Maybe that exists in LTE? We only have <a href="https://leanprover-community.github.io/mathlib_docs/find/Top.presheaf.sheafify">docs#Top.presheaf.sheafify</a> for sheaves in <code>Type*</code> but not in a general category, so we should probably use the sites API for sheafification.</p>



<a name="310364044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/310364044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#310364044">(Nov 16 2022 at 09:04)</a>:</h4>
<p>My take is that it would be great if things are done in the generality of sites, but it is not obligatory. For example, we probably won't replace our current stalk library in favour of stalks on topos points in the near future.</p>



<a name="310364163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/310364163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#310364163">(Nov 16 2022 at 09:05)</a>:</h4>
<p>We do have adjunction between sheaf categories at <a href="https://leanprover-community.github.io/mathlib_docs/find/category.sites.pullback_pushforward_adjunction">docs#category.sites.pullback_pushforward_adjunction</a>, and I've just specialized it into spaces in <a href="https://github.com/leanprover-community/mathlib/pull/17561">#17561</a>.</p>



<a name="310365080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/310365080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#310365080">(Nov 16 2022 at 09:12)</a>:</h4>
<p>And we probably should specialize the sheafification stuff into sheaves over spaces.<br>
I think it would be a good idea to redefine <code>has_sheafification J K A</code> to mean that <code>is_right_adjoint (Sheaf_to_presheaf J K A)</code> and make the current definition into an instance. Although I don't know any other cases where there exists a sheafification, at least it would be nice if we don't have to remember the magic spell below to do sheafification every time.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="o">[</span><span class="n">limits.preserves_limits</span> <span class="o">(</span><span class="n">forget</span> <span class="n">A</span><span class="o">)]</span>
  <span class="o">[</span><span class="n">reflects_isomorphisms</span> <span class="o">(</span><span class="n">forget</span> <span class="n">A</span><span class="o">)]</span>
  <span class="o">[</span><span class="bp">Π</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C</span><span class="o">),</span> <span class="n">limits.preserves_colimits_of_shape</span> <span class="o">(</span><span class="n">J.cover</span> <span class="n">X</span><span class="o">)</span><span class="bp">ᵒᵖ</span> <span class="o">(</span><span class="n">forget</span> <span class="n">A</span><span class="o">)]</span>
  <span class="o">[</span><span class="bp">∀</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C</span><span class="o">),</span> <span class="n">limits.has_colimits_of_shape</span> <span class="o">(</span><span class="n">J.cover</span> <span class="n">X</span><span class="o">)</span><span class="bp">ᵒᵖ</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">[</span><span class="bp">Π</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">D</span><span class="o">),</span> <span class="n">limits.preserves_colimits_of_shape</span> <span class="o">(</span><span class="n">K.cover</span> <span class="n">X</span><span class="o">)</span><span class="bp">ᵒᵖ</span> <span class="o">(</span><span class="n">forget</span> <span class="n">A</span><span class="o">)]</span>
  <span class="o">[</span><span class="bp">∀</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">D</span><span class="o">),</span> <span class="n">limits.has_colimits_of_shape</span> <span class="o">(</span><span class="n">K.cover</span> <span class="n">X</span><span class="o">)</span><span class="bp">ᵒᵖ</span> <span class="n">A</span><span class="o">]</span>
</code></pre></div>



<a name="310409078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pushforward/pullback%20of%20sheaves/near/310409078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pushforward.2Fpullback.20of.20sheaves.html#310409078">(Nov 16 2022 at 13:39)</a>:</h4>
<p>This magic spell will be a non-issue when we switch to Lean4, since it would be very easy to write a macro that expands to this collection of assumptions. If people don't want to wait, then introducing such a <code>has_sheafification</code> would be a good idea IMO. One case which isn't directly covered by this magic spell is when you have a collection of functors which satisfy the (co)limit preservation requirements but which only <em>jointly</em> reflect isomorphisms, but I can't think of an example where this shows up in practice.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>