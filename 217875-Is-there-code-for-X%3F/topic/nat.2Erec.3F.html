---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html">nat.rec?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="215212290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212290">(Oct 31 2020 at 21:14)</a>:</h4>
<p>I've reached the point in a proof where my goal contains <code>nat.rec</code>. I've looked on the mathlib documentation and can't find any theorems or equations that reference it. I've searched for it's definition and it just takes me back to <code>nat</code>. I've tried to <code>unfold</code> it, also to no avail. <code>hint</code> and <code>suggest</code> don't show relevant theorems. What does <code>nat.rec</code> mean and what options do I have to prove statements using it? I understand it has to do with recursive applications of a function, which may be very useful to my proof.</p>



<a name="215212292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212292">(Oct 31 2020 at 21:14)</a>:</h4>
<p><code>nat.rec</code> is the primitive recursor for nat</p>



<a name="215212296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212296">(Oct 31 2020 at 21:15)</a>:</h4>
<p>it has no definition as it is part of the axiomatization of nat itself</p>



<a name="215212299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212299">(Oct 31 2020 at 21:15)</a>:</h4>
<p>it's basically one of peano's axioms</p>



<a name="215212346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212346">(Oct 31 2020 at 21:16)</a>:</h4>
<p>To prove statements about it, you should probably do induction on the last argument (the <code>nat</code>), as <code>nat.rec z s (succ n) = s n (nat.rec z s n)</code> and <code>nat.rec z s 0 = z</code> are definitionally true</p>



<a name="215212351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212351">(Oct 31 2020 at 21:16)</a>:</h4>
<p><em>However</em>, it is overwhelmingly more likely that you have unfolded far too much and should step back a couple steps to get unstuck</p>



<a name="215212415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212415">(Oct 31 2020 at 21:18)</a>:</h4>
<p>To properly <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> your problem I would need to see the context in which your nat.rec goal arose. <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="215212422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chase Norman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212422">(Oct 31 2020 at 21:19)</a>:</h4>
<p>Thanks for your advice. What tactic could use these definitional truths? <code>change</code>?</p>



<a name="215212433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212433">(Oct 31 2020 at 21:19)</a>:</h4>
<p>you can use change, as well as <code>exact</code> or <code>apply</code> or just ignoring the difference and using nothing</p>



<a name="215212494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212494">(Oct 31 2020 at 21:20)</a>:</h4>
<p>lean's unification works modulo defeq, so if two things are defeq they are essentially interchangeable without any explicit tactic application</p>



<a name="215212510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212510">(Oct 31 2020 at 21:21)</a>:</h4>
<p>The issue with using <code>change</code> is that it's actually somewhat annoying to write a <code>nat.rec</code> term explicitly because there is an implicit argument, the "motive" <code>C</code>, that often can't be inferred from the context of use</p>



<a name="215212556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/nat.rec%3F/near/215212556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/nat.2Erec.3F.html#215212556">(Oct 31 2020 at 21:22)</a>:</h4>
<p>one more reason you should do less unfolding and go back to the recursive function you started with</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>