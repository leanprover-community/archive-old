---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html">left/right cancelative semiring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214666935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214666935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214666935">(Oct 27 2020 at 07:15)</a>:</h4>
<p>Dear All,</p>
<p>does mathlib have the notion of a nontrivial, left and right cancelative semiring?   This would probably be a <code>class</code> extending <code>semiring, nontrivial, mul_left_cancel, mul_right_cancel</code>.</p>
<p>I am asking since, as far as I can tell, the polynomial semiring with coefficients in <code>ℕ</code> has this property, but is not a <code>domain/integral_domain</code>.  I do not necessarily insist on not assuming commutativity of multiplication, though this property seems to play very little role in proofs.  I would be more interested in <em>not</em> assuming existence of opposites (additive inverses) in the semiring, since there are cases where working with <code>ℕ[x] = polynomial ℕ</code> is important.</p>
<p>Note: the left/right cancelative property is stronger than the property of not having zero divisors, but is equivalent to it, under the existence of additive inverses.</p>



<a name="214667440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667440">(Oct 27 2020 at 07:24)</a>:</h4>
<p>I don't think this exists, but note that you can mix certain classes. So a <code>cancel_semiring R</code> can be mixed with <code>nontrivial R</code>.</p>



<a name="214667488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667488">(Oct 27 2020 at 07:25)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/cancel_monoid_with_zero">docs#cancel_monoid_with_zero</a></p>



<a name="214667681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667681">(Oct 27 2020 at 07:29)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> but you can't mix that with a ring structure</p>



<a name="214667683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667683">(Oct 27 2020 at 07:29)</a>:</h4>
<p>I guess we want some sort of <code>semidomain</code></p>



<a name="214667686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667686">(Oct 27 2020 at 07:29)</a>:</h4>
<p>why not?</p>



<a name="214667748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667748">(Oct 27 2020 at 07:30)</a>:</h4>
<p>You'll get two multiplications on your type, right?</p>



<a name="214667754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667754">(Oct 27 2020 at 07:30)</a>:</h4>
<p>Or are you suggesting an ingredient for a new class?</p>



<a name="214667777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667777">(Oct 27 2020 at 07:31)</a>:</h4>
<p>I guess</p>



<a name="214667837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667837">(Oct 27 2020 at 07:32)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Does it make sense to refactor <code>domain</code> to be a mixin Prop?</p>



<a name="214667947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667947">(Oct 27 2020 at 07:35)</a>:</h4>
<p>I don't know, it seems like a slippery slope</p>



<a name="214667959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214667959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214667959">(Oct 27 2020 at 07:35)</a>:</h4>
<p>it makes using domains more annoying and also makes typeclass search more expensive</p>



<a name="214668011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668011">(Oct 27 2020 at 07:36)</a>:</h4>
<p>Dear <span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110064">@Kenny Lau</span> , what you suggest is essentially what I had in mind!</p>
<p>I am happy with having a new <code>class</code> and the name <code>semidomain</code> seems appropriate!</p>



<a name="214668013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668013">(Oct 27 2020 at 07:36)</a>:</h4>
<p>what's wrong with just making lots of combo classes</p>



<a name="214668041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668041">(Oct 27 2020 at 07:37)</a>:</h4>
<p>It's a bit of an <code>M * N</code>-problem, right?</p>



<a name="214668061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668061">(Oct 27 2020 at 07:37)</a>:</h4>
<p>Potentially more like <code>M * N * O * P</code></p>



<a name="214668076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668076">(Oct 27 2020 at 07:37)</a>:</h4>
<p>what's an M*N-problem?</p>



<a name="214668128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668128">(Oct 27 2020 at 07:38)</a>:</h4>
<p>Well, with combo classes you need <code>M * N</code> of them, but with mixins only <code>M + N</code>.</p>



<a name="214668229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668229">(Oct 27 2020 at 07:40)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> My guess is that this will do what you want:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>

<span class="kd">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>

<span class="kd">class</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">cancel_monoid_with_zero</span> <span class="n">R</span><span class="o">,</span> <span class="n">semiring</span> <span class="n">R.</span>

<span class="kd">end</span>
</code></pre></div>



<a name="214668268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668268">(Oct 27 2020 at 07:40)</a>:</h4>
<p>But in practice M and N are small, right?</p>



<a name="214668359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668359">(Oct 27 2020 at 07:41)</a>:</h4>
<p>Well, someone will come along, and ask for <code>ordered_semidomain</code>, and we also need <code>comm_</code> versions of both</p>



<a name="214668413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668413">(Oct 27 2020 at 07:42)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> You'll want to provide an instance from <code>domain</code> to <code>semidomain</code></p>



<a name="214668648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668648">(Oct 27 2020 at 07:46)</a>:</h4>
<p>I will try it out!  For the moment, I do not have a real and urgent need for it, but I am thinking in terms of Hilbert's 17th problem, about sums of squares, where the coefficients change between <code>ℝ</code> and <code>ℝ₊</code>.</p>



<a name="214668697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668697">(Oct 27 2020 at 07:47)</a>:</h4>
<p>Not only M and N are small, we don't need the complete product</p>



<a name="214668702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668702">(Oct 27 2020 at 07:47)</a>:</h4>
<p>Note that <code>linear_ordered_semiring</code> exists, and it probably implies <code>semidomain</code></p>



<a name="214668712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668712">(Oct 27 2020 at 07:47)</a>:</h4>
<p>since it seems that <code>domain</code> is used very little in mathlib (at least, without also assuming existence of opposites), it might make sense to set it up from the start so that all these results will be directly proven in the more context.</p>



<a name="214668713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668713">(Oct 27 2020 at 07:47)</a>:</h4>
<p>So why did we make <code>PID</code> and <code>DVR</code> into props?</p>



<a name="214668771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668771">(Oct 27 2020 at 07:48)</a>:</h4>
<p>because people want to make mixins</p>



<a name="214668773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668773">(Oct 27 2020 at 07:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214668712">said</a>:</p>
<blockquote>
<p>since it seems that <code>domain</code> is used very little in mathlib (at least, without also assuming existence of opposites), it might make sense to set it up from the start so that all these results will be directly proven in the more context.</p>
</blockquote>
<p>Introducing a definition like <code>semidomain</code> brings with it the obligation to write a 250 line file with all the basic lemmas (-;</p>



<a name="214668798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668798">(Oct 27 2020 at 07:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214668702">said</a>:</p>
<blockquote>
<p>Note that <code>linear_ordered_semiring</code> exists, and it probably implies <code>semidomain</code></p>
</blockquote>
<p>What I had in mind was indeed always an ordered base ring, but the order is not the property that I was thinking of using.</p>



<a name="214668817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668817">(Oct 27 2020 at 07:49)</a>:</h4>
<p>As far as I know we haven't actually hit any significant issues with combo classing everything, except that you have a lot of obscurely named classes</p>



<a name="214668905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668905">(Oct 27 2020 at 07:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214668773">said</a>:</p>
<p>Introducing a definition like <code>semidomain</code> brings with it the obligation to write a 250 line file with all the basic lemmas (-;</p>
<p>hmmm</p>



<a name="214668906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668906">(Oct 27 2020 at 07:50)</a>:</h4>
<p>It's one line to define a new combo class, you don't even need any API to start using it</p>



<a name="214668944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214668944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214668944">(Oct 27 2020 at 07:51)</a>:</h4>
<p>Generally the only lemmas you will have for a combo class are those that were generalized from a more restrictive class, and the new ones you want to state</p>



<a name="214669026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669026">(Oct 27 2020 at 07:52)</a>:</h4>
<p>Ok, I will go for the minimal choice of simply defining a new <code>class</code> extending all the properties that I want and will see what I can do with that.  If it works well, I may produce a PR.  I just wanted to make sure that this new class did not already exist, so that I did not have to make it up in my own.</p>



<a name="214669053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669053">(Oct 27 2020 at 07:53)</a>:</h4>
<p>I think it is a very good idea that something like <code>[algebra R A]</code> is a mixin</p>



<a name="214669058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669058">(Oct 27 2020 at 07:53)</a>:</h4>
<p>If all are happy, I will call it <code>semidomain</code> since I quite like the name and it seems fairly descriptive of what it is.</p>



<a name="214669077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669077">(Oct 27 2020 at 07:53)</a>:</h4>
<p>My rule is: one type arg = one class</p>



<a name="214669142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669142">(Oct 27 2020 at 07:54)</a>:</h4>
<p>for more type args you will potentially need one class per subset of the type args (so for two type args like module/algebra you have [foo R] [bar A] [baz R A])</p>



<a name="214669183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669183">(Oct 27 2020 at 07:55)</a>:</h4>
<p>So you think we should have <code>fin_dim_algebra K L</code> to avoid <code>[algebra K L] [finite_dimensional K L]</code>?</p>



<a name="214669248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669248">(Oct 27 2020 at 07:56)</a>:</h4>
<p>yes</p>



<a name="214669249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669249">(Oct 27 2020 at 07:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214667440">said</a>:</p>
<blockquote>
<p>I don't think this exists, but note that you can mix certain classes. So a <code>cancel_semiring R</code> can be mixed with <code>nontrivial R</code>.</p>
</blockquote>
<p>Does a <code>cancel_semiring</code> already exist?  I could not find it...</p>



<a name="214669260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669260">(Oct 27 2020 at 07:56)</a>:</h4>
<p>Nope, it was what we later started calling <code>semidomain</code></p>



<a name="214669306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669306">(Oct 27 2020 at 07:57)</a>:</h4>
<p>Ok, I will extend <code>semiring, nontrivial</code> and add two further properties that look exactly like <code>mul_left_cancel</code> and <code>mul_right_cancel</code> (and are called the same)!</p>



<a name="214669368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669368">(Oct 27 2020 at 07:58)</a>:</h4>
<p>and refactor lemmas for <code>domain</code>?</p>



<a name="214669383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669383">(Oct 27 2020 at 07:58)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> I think you an extend <code>cancel_monoid_with_zero</code></p>



<a name="214669384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669384">(Oct 27 2020 at 07:58)</a>:</h4>
<p>It's best to call them the same thing if they are identical, so that you can mix them together in combo classes using <code>..s</code></p>



<a name="214669390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669390">(Oct 27 2020 at 07:58)</a>:</h4>
<p>That gives you those cancel lemmas for free.</p>



<a name="214669415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669415">(Oct 27 2020 at 07:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:</span> <span class="n">cancel_monoid_with_zero</span> <span class="n">R</span><span class="o">,</span> <span class="n">nontrivial</span> <span class="n">R</span>
</code></pre></div>

<p>then?</p>



<a name="214669423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669423">(Oct 27 2020 at 07:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214668229">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> My guess is that this will do what you want:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>

<span class="kd">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>

<span class="kd">class</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">cancel_monoid_with_zero</span> <span class="n">R</span><span class="o">,</span> <span class="n">semiring</span> <span class="n">R.</span>

<span class="kd">end</span>
</code></pre></div>

</blockquote>
<p>.</p>



<a name="214669433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669433">(Oct 27 2020 at 07:59)</a>:</h4>
<p>(I have a meeting right now: I will look back at this thread once the meeting is over!)</p>



<a name="214669515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214669515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214669515">(Oct 27 2020 at 08:00)</a>:</h4>
<p>Maybe <code>nontrivial</code> should also be added... from a maths point of view the zero ring is probably not a <code>semidomain</code></p>



<a name="214674889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214674889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214674889">(Oct 27 2020 at 09:10)</a>:</h4>
<p>I definitely want <code>nontrivial</code> to be part of the definition!  Thank you all for your help!</p>



<a name="214678322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678322">(Oct 27 2020 at 09:47)</a>:</h4>
<p>After I typed the definition </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">cancel_monoid_with_zero</span> <span class="n">R</span><span class="o">,</span> <span class="n">semiring</span> <span class="n">R</span><span class="o">,</span> <span class="n">nontrivial</span> <span class="n">R</span>
</code></pre></div>

<p>I would then like to show that if <code>R</code> is a semidomain, than also <code>polynomial R</code> is a semidomain:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">semidomain_pol</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semidomain</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>

<p>Is there a way of using the fact that <code>polynomial R</code> already is a semiring and so I only need to define <code>cancel_monoid_with_zero</code> and <code>nontrivial</code>?  Also, many of the  <code>cancel_monoid_with_zero</code> properties should already be available and if I could recycle them, it would be awesome!</p>
<p>Thanks!</p>



<a name="214678413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678413">(Oct 27 2020 at 09:48)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> Yes, you can do that</p>



<a name="214678445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678445">(Oct 27 2020 at 09:48)</a>:</h4>
<p>yes, in the instance you can write <code>{field := bla, ..polynomial.semiring}</code></p>



<a name="214678457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678457">(Oct 27 2020 at 09:48)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">[</span><span class="n">semidomain</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">semidomain</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">some_field</span> <span class="o">:=</span> <span class="n">_</span><span class="o">,</span>
  <span class="bp">..</span> <span class="n">polynomial.semiring</span> <span class="o">}</span>
</code></pre></div>



<a name="214678491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678491">(Oct 27 2020 at 09:49)</a>:</h4>
<p>Maybe you need <code>polynomial.semiring R</code>, depending on whether it takes an explicit argument or not.</p>



<a name="214678504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678504">(Oct 27 2020 at 09:49)</a>:</h4>
<p>Ah, I never used <code>instance</code>!  I will play around with it!  Thanks!</p>



<a name="214678517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678517">(Oct 27 2020 at 09:49)</a>:</h4>
<p>Probably <code>.. polynomial.nontrivial</code> also exists</p>



<a name="214678617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678617">(Oct 27 2020 at 09:50)</a>:</h4>
<p><code>instance</code> is just like <code>def</code> and <code>lemma</code>, but with the extra feature that it adds the declaration to the typeclass system</p>



<a name="214678642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678642">(Oct 27 2020 at 09:50)</a>:</h4>
<p>So that later on <code>semidomain (polynomial R)</code> can be found automatically by Lean</p>



<a name="214678674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678674">(Oct 27 2020 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/left.2Fright.20cancelative.20semiring/near/214678617">said</a>:</p>
<blockquote>
<p><code>instance</code> is just like <code>def</code> and <code>lemma</code>, but with the extra feature that it adds the declaration to the typeclass system</p>
</blockquote>
<p>This means that if I then type <code>polynomial R</code> and <code>R</code> is a <code>semidomain</code>, Lean will know that <code>polynomial R</code> is a semidomain as well?</p>



<a name="214678687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/left/right%20cancelative%20semiring/near/214678687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/left.2Fright.20cancelative.20semiring.html#214678687">(Oct 27 2020 at 09:51)</a>:</h4>
<p>Ah, ok, you already answered!  Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>