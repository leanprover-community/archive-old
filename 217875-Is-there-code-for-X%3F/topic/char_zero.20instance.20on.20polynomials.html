---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html">char_zero instance on polynomials</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="277285398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277285398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277285398">(Mar 31 2022 at 13:58)</a>:</h4>
<p>Dear All,</p>
<p>I cannot find a <code>char_zero</code> instance on <code>R[X]</code>, when <code>R</code> itself has <code>char_zero</code>.  Is the instance below somewhere, and I simply cannot find it?</p>
<p>Note: this is similar to what happened <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/char_p.20instance.20on.20polynomials">here</a>, except that there I was asking for <code>char_p</code>.</p>
<p>Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.polynomial.basic</span>

<span class="n">open_locale</span> <span class="n">polynomial</span>
<span class="kn">open</span> <span class="n">polynomial</span> <span class="n">char_p</span>

<span class="kd">instance</span> <span class="n">polynomial.char_p'</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">]</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">apply_instance</span>  <span class="c1">--works and finds `polynomial.char_p 0`.</span>

<span class="kd">instance</span> <span class="n">polynomial.char_zero</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_zero</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">cast_injective</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">nat_cast_inj.mp</span> <span class="o">}</span>
</code></pre></div>



<a name="277285860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277285860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277285860">(Mar 31 2022 at 14:01)</a>:</h4>
<p>If you have a look at the instance list at <a href="https://leanprover-community.github.io/mathlib_docs/find/char_zero">docs#char_zero</a>, you can check that it is indeed missing.</p>



<a name="277286025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286025">(Mar 31 2022 at 14:02)</a>:</h4>
<p>Ok, thanks for confirming!  As I have been so unsuccessful at finding existing lemmas/instances, I was worried that I might have missed it.</p>



<a name="277286049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286049">(Mar 31 2022 at 14:02)</a>:</h4>
<p>I will PR it, then!</p>



<a name="277286591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286591">(Mar 31 2022 at 14:06)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13075">#13075</a></p>



<a name="277286638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286638">(Mar 31 2022 at 14:06)</a>:</h4>
<p>I am sure it is already there</p>



<a name="277286649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286649">(Mar 31 2022 at 14:06)</a>:</h4>
<p>Let me see</p>



<a name="277286736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286736">(Mar 31 2022 at 14:07)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.char_p">docs#polynomial.char_p</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/char_p.char_p_to_char_zero">docs#char_p.char_p_to_char_zero</a></p>



<a name="277286789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286789">(Mar 31 2022 at 14:07)</a>:</h4>
<p>I tried this, but <a href="https://leanprover-community.github.io/mathlib_docs/find/char_p.char_p_to_char_zero">docs#char_p.char_p_to_char_zero</a> wants a ring.</p>



<a name="277286892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286892">(Mar 31 2022 at 14:08)</a>:</h4>
<p>Mmh, I see, and also <a href="https://leanprover-community.github.io/mathlib_docs/find/char_p.char_p_to_char_zero">docs#char_p.char_p_to_char_zero</a> is not an instance</p>



<a name="277286968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277286968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277286968">(Mar 31 2022 at 14:09)</a>:</h4>
<p>Yes, I think there would be a loop <code>char_p R 0 -&gt; char_zero R -&gt; char_p R 0 -&gt; ...</code>.</p>



<a name="277287070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287070">(Mar 31 2022 at 14:09)</a>:</h4>
<p>But here I think that this is safe: <code>R[X]</code> inherits <code>char_zero</code> from <code>R</code>, so the "complexity" increases, right?</p>



<a name="277287091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287091">(Mar 31 2022 at 14:09)</a>:</h4>
<p>Well, modifying <code>[ring R]</code> to <code>[semiring R]</code> just before <a href="https://leanprover-community.github.io/mathlib_docs/find/char_p.char_p_to_char_zero">docs#char_p.char_p_to_char_zero</a> didn't break anything, so we at least want it</p>



<a name="277287165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287165">(Mar 31 2022 at 14:10)</a>:</h4>
<p>Can you add it to your PR?</p>



<a name="277287188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287188">(Mar 31 2022 at 14:10)</a>:</h4>
<p>Sure!</p>



<a name="277287373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287373">(Mar 31 2022 at 14:11)</a>:</h4>
<p>Even <code>non_assoc_semiring R</code> works</p>



<a name="277287449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287449">(Mar 31 2022 at 14:12)</a>:</h4>
<p>I don't remember how far we went about this kind of generality :D</p>



<a name="277287467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287467">(Mar 31 2022 at 14:12)</a>:</h4>
<p>hmmm, it does break:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">char_p_to_char_zero</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">char_p</span> <span class="n">R</span> <span class="mi">0</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_zero</span> <span class="n">R</span> <span class="o">:=</span>
<span class="n">char_zero_of_inj_zero</span> <span class="bp">$</span>
  <span class="bp">λ</span> <span class="n">n</span> <span class="n">h0</span><span class="o">,</span> <span class="n">eq_zero_of_zero_dvd</span> <span class="o">((</span><span class="n">cast_eq_zero_iff</span> <span class="n">R</span> <span class="mi">0</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">h0</span><span class="o">)</span>
</code></pre></div>
<p><code>char_zero_of_inj_zero</code> wants cancel something</p>



<a name="277287591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287591">(Mar 31 2022 at 14:13)</a>:</h4>
<p>Ah sorry, my VS code is too slow</p>



<a name="277287612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287612">(Mar 31 2022 at 14:13)</a>:</h4>
<p>This is the error, in case you are wondering:</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Error</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>type mismatch at application<br>
  (cast_eq_zero_iff R 0 n).mp h0<br>
term<br>
  h0<br>
has type<br>
  @eq ?m_1<br>
    (@coe nat ?m_1<br>
       (@coe_to_lift nat ?m_1<br>
          (@nat.cast_coe ?m_1<br>
             (@add_zero_class.to_has_zero ?m_1<br>
                (@add_monoid.to_add_zero_class ?m_1 (@add_left_cancel_monoid.to_add_monoid ?m_1 ?m_2)))<br>
             ?m_3<br>
             (@add_zero_class.to_has_add ?m_1<br>
                (@add_monoid.to_add_zero_class ?m_1 (@add_left_cancel_monoid.to_add_monoid ?m_1 ?m_2)))))<br>
       n)<br>
    0<br>
but is expected to have type<br>
  @eq R<br>
    (@coe nat R<br>
       (@coe_to_lift nat R<br>
          (@nat.cast_coe R<br>
             (@add_zero_class.to_has_zero R<br>
                (@add_monoid.to_add_zero_class R<br>
                   (@add_comm_monoid.to_add_monoid R<br>
                      (@non_unital_non_assoc_semiring.to_add_comm_monoid R<br>
                         (@non_assoc_semiring.to_non_unital_non_assoc_semiring R<br>
                            (@semiring.to_non_assoc_semiring R _inst_2))))))<br>
             (@mul_one_class.to_has_one R<br>
                (@mul_zero_one_class.to_mul_one_class R<br>
                   (@non_assoc_semiring.to_mul_zero_one_class R (@semiring.to_non_assoc_semiring R _inst_2))))<br>
             (@add_zero_class.to_has_add R<br>
                (@add_monoid.to_add_zero_class R<br>
                   (@add_comm_monoid.to_add_monoid R<br>
                      (@non_unital_non_assoc_semiring.to_add_comm_monoid R<br>
                         (@non_assoc_semiring.to_non_unital_non_assoc_semiring R<br>
                            (@semiring.to_non_assoc_semiring R _inst_2))))))))<br>
       n)<br>
    0</p>
</div></div>



<a name="277287763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277287763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277287763">(Mar 31 2022 at 14:14)</a>:</h4>
<p>Ok, so I will not include this in the PR.  <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="277288398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277288398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277288398">(Mar 31 2022 at 14:18)</a>:</h4>
<p>Ah, I see the difference. For semirings the two may be really different</p>



<a name="277288730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277288730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277288730">(Mar 31 2022 at 14:21)</a>:</h4>
<p>Yes, if the successor function looks like <code>0 -&gt; 1 -&gt; 1 -&gt; 1...</code>, then <code>nat.cast</code> is not injective, but no positive multiple of <code>1</code> is zero.</p>



<a name="277288772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277288772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277288772">(Mar 31 2022 at 14:21)</a>:</h4>
<p>(I guess this semiring used to be called, maybe still is called, <code>fin 1</code>).</p>



<a name="277289254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277289254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277289254">(Mar 31 2022 at 14:24)</a>:</h4>
<p>Instead what you should add to the PR is a <strong>big warning</strong> that <code>char_p 0</code> is not the same as <code>char_zero</code></p>



<a name="277289353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277289353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277289353">(Mar 31 2022 at 14:25)</a>:</h4>
<p>Sure!  Maybe even the example above, showing that the two notions can be different.</p>



<a name="277292074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277292074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277292074">(Mar 31 2022 at 14:43)</a>:</h4>
<p>Ok, I updated the two doc-strings for <code>char_zero</code> and <code>char_p</code>.  Feel free to suggest comments!</p>



<a name="277293866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277293866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277293866">(Mar 31 2022 at 14:55)</a>:</h4>
<p>(deleted)</p>



<a name="277293959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277293959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277293959">(Mar 31 2022 at 14:56)</a>:</h4>
<p>(deleted)</p>



<a name="277293992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277293992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277293992">(Mar 31 2022 at 14:56)</a>:</h4>
<p>(deleted)</p>



<a name="277294258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277294258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277294258">(Mar 31 2022 at 14:58)</a>:</h4>
<p>(deleted)</p>



<a name="277294358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277294358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277294358">(Mar 31 2022 at 14:59)</a>:</h4>
<p>I don't think we ever defined semirings with saturating addition.</p>



<a name="277294990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277294990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277294990">(Mar 31 2022 at 15:03)</a>:</h4>
<p>Ok, I was simply saying "use <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{0,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span></span> and define addition by requiring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> to be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 + 1 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>".  Everything else follows and for this add_monoid/semiring, the two notions of characteristic disagree.</p>
<p>If you want to comment on the warning that I wrote in the PR, I'm happy to take suggestions!</p>



<a name="277302598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/char_zero%20instance%20on%20polynomials/near/277302598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/char_zero.20instance.20on.20polynomials.html#277302598">(Mar 31 2022 at 15:55)</a>:</h4>
<p>I went ahead and formalized the example above:  <a href="https://github.com/leanprover-community/mathlib/pull/13080">#13080</a>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>