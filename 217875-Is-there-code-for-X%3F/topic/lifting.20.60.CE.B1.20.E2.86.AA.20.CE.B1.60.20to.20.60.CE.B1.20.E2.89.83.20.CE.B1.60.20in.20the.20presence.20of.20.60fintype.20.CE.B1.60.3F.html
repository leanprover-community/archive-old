---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html">lifting `α ↪ α` to `α ≃ α` in the presence of `fintype α`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="198181526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lifting%20%60%CE%B1%20%E2%86%AA%20%CE%B1%60%20to%20%60%CE%B1%20%E2%89%83%20%CE%B1%60%20in%20the%20presence%20of%20%60fintype%20%CE%B1%60%3F/near/198181526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html#198181526">(May 20 2020 at 10:54)</a>:</h4>
<p>Do we have</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">equiv_of_fintype_endomorphism</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">α</span> <span class="err">↪</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃</span> <span class="n">α</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>


<p>(I don't mind if it is noncomputable particularly; presumably computability would further require <code>[decidable_eq α]</code>.)</p>



<a name="198181576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lifting%20%60%CE%B1%20%E2%86%AA%20%CE%B1%60%20to%20%60%CE%B1%20%E2%89%83%20%CE%B1%60%20in%20the%20presence%20of%20%60fintype%20%CE%B1%60%3F/near/198181576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html#198181576">(May 20 2020 at 10:55)</a>:</h4>
<p>I came up with the rather unpleasant </p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">equiv_of_fintype_endomorphism</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">α</span> <span class="err">↪</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">equiv_of_surjective</span> <span class="n">e</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">apply</span> <span class="o">(</span><span class="n">fintype</span><span class="bp">.</span><span class="n">injective_iff_surjective_of_equiv</span> <span class="o">(</span><span class="n">equiv</span><span class="bp">.</span><span class="n">refl</span> <span class="n">α</span><span class="o">))</span><span class="bp">.</span><span class="n">mp</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">inj</span> <span class="n">e</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>


<p>from the pieces I could find already available, but I'm hoping there's something better available.</p>



<a name="198239850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lifting%20%60%CE%B1%20%E2%86%AA%20%CE%B1%60%20to%20%60%CE%B1%20%E2%89%83%20%CE%B1%60%20in%20the%20presence%20of%20%60fintype%20%CE%B1%60%3F/near/198239850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html#198239850">(May 20 2020 at 18:38)</a>:</h4>
<p>Not clear if it's better but I came up with</p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">equiv_of_fintype_endomorphism</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">α</span> <span class="err">↪</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">equiv</span><span class="bp">.</span><span class="n">of_bijective</span><span class="o">,</span>
  <span class="n">rw</span> <span class="err">←</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">injective_iff_bijective</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">e</span><span class="bp">.</span><span class="mi">2</span>
<span class="kn">end</span>
</code></pre></div>



<a name="198240060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lifting%20%60%CE%B1%20%E2%86%AA%20%CE%B1%60%20to%20%60%CE%B1%20%E2%89%83%20%CE%B1%60%20in%20the%20presence%20of%20%60fintype%20%CE%B1%60%3F/near/198240060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html#198240060">(May 20 2020 at 18:40)</a>:</h4>
<p>Term mode version:</p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">function</span><span class="bp">.</span><span class="n">embedding</span><span class="bp">.</span><span class="n">equiv_of_fintype_endomorphism</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">α</span> <span class="err">↪</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="err">≃</span> <span class="n">α</span> <span class="o">:=</span>
<span class="n">equiv</span><span class="bp">.</span><span class="n">of_bijective</span> <span class="o">(</span><span class="n">fintype</span><span class="bp">.</span><span class="n">injective_iff_bijective</span><span class="bp">.</span><span class="mi">1</span> <span class="n">e</span><span class="bp">.</span><span class="mi">2</span><span class="o">)</span>
</code></pre></div>



<a name="198276747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lifting%20%60%CE%B1%20%E2%86%AA%20%CE%B1%60%20to%20%60%CE%B1%20%E2%89%83%20%CE%B1%60%20in%20the%20presence%20of%20%60fintype%20%CE%B1%60%3F/near/198276747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lifting.20.60.CE.B1.20.E2.86.AA.20.CE.B1.60.20to.20.60.CE.B1.20.E2.89.83.20.CE.B1.60.20in.20the.20presence.20of.20.60fintype.20.CE.B1.60.3F.html#198276747">(May 21 2020 at 01:17)</a>:</h4>
<p>Thanks, that's perfect.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>