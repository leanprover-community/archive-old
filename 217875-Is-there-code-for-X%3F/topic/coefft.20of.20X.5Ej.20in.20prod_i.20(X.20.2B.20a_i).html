---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html">coefft of X^j in prod_i (X + a_i)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322388998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322388998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322388998">(Jan 19 2023 at 22:08)</a>:</h4>
<p>I don't care what the sum is over (I don't know whether <code>.to_finset</code> is horrible to prove things about), but a student at Xena is working on Newton's identities and this comes up. Do we have anything like it? All we need is that the coefficient is an R-linear combination of the products but I guess the natural thing to do is to prove that it's equal to the sum of them.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.coeff</span>

<span class="kn">open</span> <span class="n">polynomial</span>

<span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">S</span><span class="o">]</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span>

<span class="c1">-- Want: coefficient of X^j in ∏_{i ∈ S} (X + a_i) is the obvious thing</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hj</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">≤</span> <span class="n">fintype.card</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∏</span> <span class="n">i</span> <span class="o">:</span> <span class="n">S</span><span class="o">,</span> <span class="o">(</span><span class="n">X</span> <span class="bp">+</span> <span class="n">C</span> <span class="o">(</span><span class="n">a</span> <span class="n">i</span><span class="o">)))</span><span class="bp">.</span><span class="n">coeff</span> <span class="n">j</span> <span class="bp">=</span>
  <span class="bp">∑</span> <span class="n">s</span> <span class="k">in</span> <span class="o">({</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">S</span> <span class="bp">|</span> <span class="n">s.card</span> <span class="bp">=</span> <span class="n">fintype.card</span> <span class="n">S</span> <span class="bp">-</span> <span class="n">j</span><span class="o">}</span><span class="bp">.</span><span class="n">to_finset</span><span class="o">),</span> <span class="bp">∏</span> <span class="n">k</span> <span class="k">in</span> <span class="n">s</span><span class="o">,</span> <span class="n">a</span> <span class="n">k</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="322389343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322389343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322389343">(Jan 19 2023 at 22:11)</a>:</h4>
<p>there must be something like this, given that we have a good amount of Galois theory.</p>



<a name="322389828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322389828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322389828">(Jan 19 2023 at 22:14)</a>:</h4>
<p>but my search comes up short, unfortunately.</p>



<a name="322390250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322390250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322390250">(Jan 19 2023 at 22:17)</a>:</h4>
<p>Is this it? <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.prod_X_sub_C_coeff">docs#multiset.prod_X_sub_C_coeff</a></p>



<a name="322391201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322391201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322391201">(Jan 19 2023 at 22:23)</a>:</h4>
<p>Thanks! Indeed the <code>finset</code> version is too weak. I didn't check that file, I must be honest ;-)</p>



<a name="322391323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322391323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322391323">(Jan 19 2023 at 22:24)</a>:</h4>
<p>It took me a little while to understand what that theorem was even saying...</p>



<a name="322391390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322391390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322391390">(Jan 19 2023 at 22:24)</a>:</h4>
<p>Why doesn't it render as <code>s.map ...</code> on the webpage?</p>



<a name="322394481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/coefft%20of%20X%5Ej%20in%20prod_i%20%28X%20%2B%20a_i%29/near/322394481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/coefft.20of.20X.5Ej.20in.20prod_i.20(X.20.2B.20a_i).html#322394481">(Jan 19 2023 at 22:44)</a>:</h4>
<p>I suspect the webpage printing uses the stricter version of dot notation that needs the argument in the first position</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>