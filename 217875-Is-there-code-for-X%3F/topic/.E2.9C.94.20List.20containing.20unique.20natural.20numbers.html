---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html">✔ List containing unique natural numbers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300065878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300065878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300065878">(Sep 22 2022 at 02:06)</a>:</h4>
<p>Hello, I'm very new to Lean so I'm having a hard time finding (and learning how to find) a specific function that might already exist in the mathlib.</p>
<p>I'm trying to write a function that takes a sequence of integers and returns whether there are any duplicates. It feels like I should be able to leverage a set to make sure the elements in the sequence are unique, but I'm not sure how to get there. Could anyone help here? Or point me to a place where I can easily find what I'm looking for?</p>



<a name="300066079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066079">(Sep 22 2022 at 02:10)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/list.nodup">docs#list.nodup</a></p>



<a name="300066164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066164">(Sep 22 2022 at 02:12)</a>:</h4>
<p>Also, since we have <a href="https://leanprover-community.github.io/mathlib_docs/find/list.nodup_decidable">docs#list.nodup_decidable</a> this is computable assuming <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">≠</mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span></span></span></span> is decidable in your underlying type (which is the case for integers)</p>



<a name="300066207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066207">(Sep 22 2022 at 02:13)</a>:</h4>
<p>Also, this is for a list, as mentioned in the title of this thread. But in your message you said "sequence". What specifically do you want to do?</p>



<a name="300066341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066341">(Sep 22 2022 at 02:15)</a>:</h4>
<p>A list also works! I'm really trying to make a function that returns whether <code>a \ne b \ne c \ne d \ne ...</code>. So I suppose order doesn't matter</p>



<a name="300066468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066468">(Sep 22 2022 at 02:17)</a>:</h4>
<p>Hmm.... that doesn't really answer my question. order matters in lists. Maybe you want to use a <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset">docs#multiset</a> ? We do have <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.nodup">docs#multiset.nodup</a> but once you start going down that road you may as well use <a href="https://leanprover-community.github.io/mathlib_docs/find/finset">docs#finset</a></p>



<a name="300066873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066873">(Sep 22 2022 at 02:23)</a>:</h4>
<p>Finset looks great. I have a background in programming so I'm a little confused how to construct a finset of <code>{a, b, c, d, ... }</code>. In a programming language I'd do something like <code>Set.of(1, 2, 3, 4, 4, 4)</code> and it'd remove the duplicates for me. Sounds like finset allows duplicates which will let me use <code>nodup</code>, but how can I create the finset in the first place?</p>



<a name="300066966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066966">(Sep 22 2022 at 02:25)</a>:</h4>
<p>Here is a brief example</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">}</span> <span class="o">:=</span> <span class="n">dec_trivial</span>
</code></pre></div>



<a name="300066980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300066980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300066980">(Sep 22 2022 at 02:25)</a>:</h4>
<p>a finset is a multiset satisfying <code>nodup</code>.</p>



<a name="300067026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300067026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300067026">(Sep 22 2022 at 02:26)</a>:</h4>
<p>So if you declare <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{1,1,2,3\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">}</span></span></span></span> to be a finset, the duplicated will be "removed"</p>



<a name="300067069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300067069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300067069">(Sep 22 2022 at 02:27)</a>:</h4>
<p>OTOH: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>

<span class="kd">example</span> <span class="o">:</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">ℕ</span><span class="o">)</span> <span class="bp">≠</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">}</span> <span class="o">:=</span> <span class="n">dec_trivial</span>
<span class="kd">example</span> <span class="o">:</span> <span class="o">({</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">1</span><span class="o">}</span> <span class="o">:=</span> <span class="n">dec_trivial</span>
</code></pre></div>



<a name="300067238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300067238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300067238">(Sep 22 2022 at 02:30)</a>:</h4>
<p>Oh, excellent. That's exactly what I was looking for. Thank you for your help and being patient with me</p>



<a name="300067253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300067253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300067253">(Sep 22 2022 at 02:30)</a>:</h4>
<p>No problem at all! I'm happy to help!</p>



<a name="300067271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300067271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300067271">(Sep 22 2022 at 02:31)</a>:</h4>
<p>You may want to work with some other constructors for finsets, like <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.insert">docs#finset.insert</a> <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.filter">docs#finset.filter</a> etc.</p>



<a name="300068093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068093">(Sep 22 2022 at 02:37)</a>:</h4>
<p>Okay, one more question about how to test things I've written.<br>
Right now I have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">are_unique</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">l.nodup</span>

<span class="k">#eval</span> <span class="n">are_unique</span> <span class="o">{</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span>
</code></pre></div>
<p>Lean is telling me the result from <code>#eval</code> is <code>#0</code> and it does not change when I change the elements of the set I give it. What's going on here?</p>



<a name="300068228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068228">(Sep 22 2022 at 02:39)</a>:</h4>
<p>I expect it to say "true" in that case. And "fasle" in the case of something like <code>{2, 3, 3}</code></p>



<a name="300068245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068245">(Sep 22 2022 at 02:39)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset.basic</span>

<span class="kd">@[derive decidable]</span>
<span class="kd">def</span> <span class="n">are_unique</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">l.nodup</span>

<span class="k">#eval</span> <span class="o">(</span><span class="n">are_unique</span> <span class="o">{</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">}</span> <span class="o">:</span> <span class="n">bool</span><span class="o">)</span>
</code></pre></div>



<a name="300068346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068346">(Sep 22 2022 at 02:41)</a>:</h4>
<p>What's happening here is that when you have a decidable proposition, you can coerce it to a boolean and that's what <code>(... : bool)</code> is doing. We also had to show decidability of your prop, which can be done automatically with the <code>derive</code> tag</p>



<a name="300068617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068617">(Sep 22 2022 at 02:43)</a>:</h4>
<p>Interesting. So <code>Prop</code> can't evaluate to true or false unless you tell it that it's decidable?</p>



<a name="300068735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300068735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300068735">(Sep 22 2022 at 02:45)</a>:</h4>
<p>If you can evaluate <code>riemann_hypothesis : Prop</code> to either <code>true</code> or <code>false</code>, please let us know ;)</p>



<a name="300069103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300069103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Sweeney <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300069103">(Sep 22 2022 at 02:47)</a>:</h4>
<p>ha! got it</p>



<a name="300072290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300072290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300072290">(Sep 22 2022 at 03:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="544521">Alex Sweeney</span> has marked this topic as resolved.</p>



<a name="300091021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20List%20containing%20unique%20natural%20numbers/near/300091021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20List.20containing.20unique.20natural.20numbers.html#300091021">(Sep 22 2022 at 07:22)</a>:</h4>
<p>BTW, there is an actual function for this: <a href="https://leanprover-community.github.io/mathlib_docs/find/list.dedup">docs#list.dedup</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>