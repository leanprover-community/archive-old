---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html">Cantor_Bernstein</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="257226691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257226691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257226691">(Oct 12 2021 at 15:58)</a>:</h4>
<p>Is the following result somewhere in mathlib? </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">Cantor_Bernstein</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">α</span> <span class="o">)</span>
    <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span><span class="n">function.injective</span> <span class="n">g</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">≃</span> <span class="n">β</span> <span class="o">:=</span>
<span class="kd">begin</span>
<span class="k">have</span> <span class="n">c1</span> <span class="o">:=</span> <span class="n">cardinal.mk_le_of_injective</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">have</span> <span class="n">c2</span> <span class="o">:=</span><span class="n">cardinal.mk_le_of_injective</span> <span class="n">h2</span><span class="o">,</span>
<span class="k">have</span> <span class="n">c3</span> <span class="o">:</span> <span class="n">cardinal.mk</span> <span class="n">α</span> <span class="bp">=</span><span class="n">cardinal.mk</span> <span class="n">β</span> <span class="o">,</span> <span class="kd">by</span> <span class="o">{</span><span class="n">exact</span> <span class="n">le_antisymm</span> <span class="n">c1</span> <span class="n">c2</span><span class="o">,</span>  <span class="o">},</span>
<span class="n">apply</span> <span class="o">(</span><span class="n">cardinal.eq.1</span> <span class="n">c3</span><span class="o">)</span><span class="bp">.</span><span class="n">some</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>It feels like it should, but I couldn't find it. If not, any ideas where to put it?</p>



<a name="257227479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257227479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257227479">(Oct 12 2021 at 16:03)</a>:</h4>
<p>I'm inclined to say that it should go somewhere around set_theory.cardinal. Also, it would be better to not require <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> to be in the same universe.</p>



<a name="257227630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257227630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257227630">(Oct 12 2021 at 16:03)</a>:</h4>
<p>I would be surprised if this isn't there yet</p>



<a name="257227742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257227742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257227742">(Oct 12 2021 at 16:04)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/function.embedding.schroeder_bernstein">docs#function.embedding.schroeder_bernstein</a></p>



<a name="257227907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257227907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257227907">(Oct 12 2021 at 16:05)</a>:</h4>
<p>I know this result as Cantor-Schröder-Bernstein, so I searched for each of the names in turn until I found it :D</p>



<a name="257228137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228137">(Oct 12 2021 at 16:07)</a>:</h4>
<p>ahh wonderful! I knew it had to be somewhere</p>



<a name="257228162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228162">(Oct 12 2021 at 16:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Cantor_Bernstein/near/257227742">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/function.embedding.schroeder_bernstein">docs#function.embedding.schroeder_bernstein</a></p>
</blockquote>
<p>The proof of this is 25 lines long!</p>



<a name="257228310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228310">(Oct 12 2021 at 16:08)</a>:</h4>
<p>Yes but does it assume le_antisymm for cardinals?</p>



<a name="257228339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228339">(Oct 12 2021 at 16:08)</a>:</h4>
<p><code>set_theory/cardinal.lean</code> depends on the theorem, so probably not</p>



<a name="257228358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228358">(Oct 12 2021 at 16:08)</a>:</h4>
<p>Right!</p>



<a name="257228379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228379">(Oct 12 2021 at 16:08)</a>:</h4>
<p>Ah :)</p>



<a name="257228503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228503">(Oct 12 2021 at 16:09)</a>:</h4>
<p>So in fact your proof is probably circular Chris :-)</p>



<a name="257228671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228671">(Oct 12 2021 at 16:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Cantor_Bernstein/near/257228503">said</a>:</p>
<blockquote>
<p>So in fact your proof is probably circular Chris :-)</p>
</blockquote>
<p>Ah yes the best kind of proof!</p>



<a name="257228839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257228839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257228839">(Oct 12 2021 at 16:11)</a>:</h4>
<p><code>le_antisymm</code> is proved by <code>le_antisymm := by { rintros ⟨α⟩ ⟨β⟩ ⟨e₁⟩ ⟨e₂⟩, exact quotient.sound (e₁.antisymm e₂) },</code> and <code>antisymm</code> is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">antisymm</span> <span class="o">:</span> <span class="o">(</span><span class="n">α</span> <span class="bp">↪</span> <span class="n">β</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">β</span> <span class="bp">↪</span> <span class="n">α</span><span class="o">)</span> <span class="bp">→</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">α</span> <span class="bp">≃</span> <span class="n">β</span><span class="o">)</span>
<span class="bp">|</span> <span class="o">⟨</span><span class="n">e₁</span><span class="o">,</span> <span class="n">h₁</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">e₂</span><span class="o">,</span> <span class="n">h₂</span><span class="o">⟩</span> <span class="o">:=</span>
  <span class="k">let</span> <span class="o">⟨</span><span class="n">f</span><span class="o">,</span> <span class="n">hf</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">schroeder_bernstein</span> <span class="n">h₁</span> <span class="n">h₂</span> <span class="k">in</span>
  <span class="o">⟨</span><span class="n">equiv.of_bijective</span> <span class="n">f</span> <span class="n">hf</span><span class="o">⟩</span>
</code></pre></div>
<p>So it's indeed circular :)</p>



<a name="257229066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257229066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257229066">(Oct 12 2021 at 16:13)</a>:</h4>
<p>BTW, a good method to find it is to look for the <code>linear_order</code> instance on <code>cardidal</code>, that is found automatically by Lean, and see how antisymmetry is proved.</p>



<a name="257229809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Cantor_Bernstein/near/257229809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Cantor_Bernstein.html#257229809">(Oct 12 2021 at 16:17)</a>:</h4>
<p>I always use Kevin's trick described <a href="#narrow/stream/113488-general/topic/Where.20is.20.60has_coe_to_sort.20.28subalgebra.20R.20A.29.60.3F/near/217021408">here</a> to explicitly  find the instance. No idea if there are better ways of doing it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>