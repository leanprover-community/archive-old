---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html">Addition of interiors</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="263515086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263515086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263515086">(Dec 02 2021 at 23:29)</a>:</h4>
<p>I feel like this is basically the definition of <code>has_continuous_add</code>, but I can't pin down what to do exactly.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.module</span>

<span class="n">open_locale</span> <span class="n">pointwise</span>

<span class="kd">lemma</span> <span class="n">interior_add_interior_subset</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">[</span><span class="n">has_continuous_add</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">interior</span> <span class="n">s</span> <span class="bp">+</span> <span class="n">interior</span> <span class="n">t</span> <span class="bp">⊆</span> <span class="n">interior</span> <span class="o">(</span><span class="n">s</span> <span class="bp">+</span> <span class="n">t</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="263515454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263515454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263515454">(Dec 02 2021 at 23:33)</a>:</h4>
<p>And in the same vein I also need</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_open_map_neg</span> <span class="o">:</span> <span class="n">is_open_map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="bp">-</span><span class="n">x</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">is_open_map_add</span> <span class="o">:</span> <span class="n">is_open_map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">α</span><span class="o">,</span> <span class="n">x.1</span> <span class="bp">+</span> <span class="n">x.2</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">is_open_map_sub</span> <span class="o">:</span> <span class="n">is_open_map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">α</span><span class="o">,</span> <span class="n">x.1</span> <span class="bp">-</span> <span class="n">x.2</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="263516411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263516411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263516411">(Dec 02 2021 at 23:42)</a>:</h4>
<p>For the latter ones, check out <a href="https://leanprover-community.github.io/mathlib_docs/find/homeomorph.neg">docs#homeomorph.neg</a>, thus you can do <code>homeomorph.neg.is_open_map</code>.  We have <code>homeomorph.add</code> too, but it would only give openness of addition-with-left-variable-fixed.</p>



<a name="263517504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263517504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263517504">(Dec 02 2021 at 23:58)</a>:</h4>
<p>The first one reduces to one of your second lemmas, the openness of the full addition map.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.module</span>

<span class="n">open_locale</span> <span class="n">pointwise</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">is_open_map_add</span> <span class="o">:</span> <span class="n">is_open_map</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">α</span><span class="o">,</span> <span class="n">x.1</span> <span class="bp">+</span> <span class="n">x.2</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">interior_add_interior_subset</span> <span class="o">{</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">interior</span> <span class="n">s</span> <span class="bp">+</span> <span class="n">interior</span> <span class="n">t</span> <span class="bp">⊆</span> <span class="n">interior</span> <span class="o">(</span><span class="n">s</span> <span class="bp">+</span> <span class="n">t</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">subset_interior_iff_subset_of_open</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">hb</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span>
    <span class="n">exact</span> <span class="n">set.add_mem_add</span> <span class="o">(</span><span class="n">interior_subset</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">interior_subset</span> <span class="n">hb</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span> <span class="n">set.add_image_prod</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">is_open_map_add</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">is_open_prod_iff'</span><span class="o">,</span>
    <span class="n">left</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="n">is_open_interior</span><span class="o">,</span> <span class="n">is_open_interior</span><span class="o">⟩</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="263517971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263517971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263517971">(Dec 03 2021 at 00:04)</a>:</h4>
<p>I'mstealingthatproofthankyouverymuch</p>



<a name="263518594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263518594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263518594">(Dec 03 2021 at 00:11)</a>:</h4>
<p>Actually, slicker proof that doesn't use the mystery lemma:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.algebra.module</span>

<span class="n">open_locale</span> <span class="n">pointwise</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_continuous_add</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">interior_add_interior_subset</span> <span class="o">{</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">interior</span> <span class="n">s</span> <span class="bp">+</span> <span class="n">interior</span> <span class="n">t</span> <span class="bp">⊆</span> <span class="n">interior</span> <span class="o">(</span><span class="n">s</span> <span class="bp">+</span> <span class="n">t</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">subset_interior_iff_subset_of_open</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintros</span> <span class="n">x</span> <span class="o">⟨</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">ha</span><span class="o">,</span> <span class="n">hb</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span>
    <span class="n">exact</span> <span class="n">set.add_mem_add</span> <span class="o">(</span><span class="n">interior_subset</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">interior_subset</span> <span class="n">hb</span><span class="o">)</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span> <span class="n">set.Union_add_left_image</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">is_open_bUnion</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">(</span><span class="n">homeomorph.add_left</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open_map</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">is_open_interior</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="263518871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263518871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263518871">(Dec 03 2021 at 00:14)</a>:</h4>
<p>That one will actually show that <code>s + interior t ⊆ interior (s + t)</code> or vice versa.</p>



<a name="263519239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263519239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263519239">(Dec 03 2021 at 00:20)</a>:</h4>
<p>Is there some more general result about open maps <code>α × α → α</code>?</p>



<a name="263542378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263542378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263542378">(Dec 03 2021 at 07:02)</a>:</h4>
<p>I'm not at my computer so I can't golf, but I think there should be a one or two line proof using <a href="https://leanprover-community.github.io/mathlib_docs/find/is_open.add_left">docs#is_open.add_left</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/interior_maximal">docs#interior_maximal</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/set.add_subset_add">docs#set.add_subset_add</a></p>



<a name="263766743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263766743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pascal Schoppenhauer <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263766743">(Dec 05 2021 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> Hey I'm sorry to bother you, but I'm still very new to Lean and I would like to understand what the "rintros" command does. I have seen it in many simple examples but I can't find a good explanation of what its purpose is.</p>



<a name="263766822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Addition%20of%20interiors/near/263766822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Addition.20of.20interiors.html#263766822">(Dec 05 2021 at 12:47)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#rintro">tactic#rintro</a> might be helpful (<code>rintros</code> is the same as <code>rintro</code>)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>