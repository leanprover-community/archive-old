---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html">Preimage of normed ball</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="277082303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277082303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277082303">(Mar 30 2022 at 00:49)</a>:</h4>
<p>Does this lemma already exist somewhere? I could not find it in <code>normed_group</code> and neither could <code>library_search</code>. If it does not exist what would be a good name?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed.group.basic</span>

<span class="kd">variables</span> <span class="o">{</span><span class="bp">ùïú</span> <span class="n">F</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kd">variables</span> <span class="o">[</span><span class="n">normed_group</span> <span class="bp">ùïú</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">F</span> <span class="bp">‚Üí</span> <span class="bp">ùïú</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">closed_ball_preimage</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">‚Ñù</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">F</span> <span class="bp">|</span> <span class="bp">‚à•</span><span class="n">f</span> <span class="n">y</span><span class="bp">‚à•</span> <span class="bp">‚â§</span> <span class="n">r</span><span class="o">}</span> <span class="bp">=</span>
  <span class="n">f</span> <span class="bp">‚Åª¬π'</span> <span class="o">(</span><span class="n">metric.closed_ball</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="bp">ùïú</span><span class="o">)</span> <span class="n">r</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">ext</span> <span class="n">y</span><span class="o">,</span> <span class="n">simp</span> <span class="o">}</span>
</code></pre></div>



<a name="277102784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277102784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277102784">(Mar 30 2022 at 07:18)</a>:</h4>
<p>It seems very specialized to me, do you really need this very often?</p>



<a name="277105126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277105126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277105126">(Mar 30 2022 at 07:43)</a>:</h4>
<p>That's basically true by <code>refl</code> besides the <code>sub_zero</code>, right?</p>



<a name="277105260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277105260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277105260">(Mar 30 2022 at 07:45)</a>:</h4>
<p>Which direction do you think you need the lemma in? Currently the name is for the opposite direction to the statement</p>



<a name="277105606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277105606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277105606">(Mar 30 2022 at 07:48)</a>:</h4>
<p>You also need to use the fact that the distance is given by the norm.</p>



<a name="277105647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277105647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277105647">(Mar 30 2022 at 07:48)</a>:</h4>
<p>A direct proof would be: <code>unfold set.preimage,  simp_rw mem_closed_ball_zero_iff</code></p>



<a name="277109709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277109709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277109709">(Mar 30 2022 at 08:27)</a>:</h4>
<p>I only need it once (for now), so I have to problem with using it inline. To avoid an xy-problem: I want to prove that <code>{y : F | ‚à•f y‚à• ‚â§ r}</code> is closed (for continuous <code>f</code>).</p>



<a name="277110414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277110414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277110414">(Mar 30 2022 at 08:32)</a>:</h4>
<p>This is just "closed balls are closed" plus "preimage of closed is closed"</p>



<a name="277111353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277111353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277111353">(Mar 30 2022 at 08:41)</a>:</h4>
<p>Yes of course, but in Lean it needs some (trivial) rewrite first</p>



<a name="277112781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277112781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277112781">(Mar 30 2022 at 08:53)</a>:</h4>
<p>I think you can avoid rewriting by using <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous.norm">docs#continuous.norm</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/is_closed_Iic">docs#is_closed_Iic</a>, although it‚Äôs less mathematically satisfying</p>



<a name="277113908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Preimage%20of%20normed%20ball/near/277113908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Preimage.20of.20normed.20ball.html#277113908">(Mar 30 2022 at 09:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz Doll</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Preimage.20of.20normed.20ball/near/277109709">said</a>:</p>
<blockquote>
<p>I only need it once (for now), so I have to problem with using it inline. To avoid an xy-problem: I want to prove that <code>{y : F | ‚à•f y‚à• ‚â§ r}</code> is closed (for continuous <code>f</code>).</p>
</blockquote>
<p>If <code>hf : continuous f</code>, then this is <code>is_closed_le hf.norm continuous_const</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>