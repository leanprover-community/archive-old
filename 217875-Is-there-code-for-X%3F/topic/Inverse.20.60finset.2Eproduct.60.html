---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html">Inverse `finset.product`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="224503359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224503359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224503359">(Jan 29 2021 at 17:09)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/data/finset/basic.html#finset.product"><code>finset.product</code></a> takes two <code>finsets</code> and creates a <code>finset</code> of all tuples over them.<br>
Is there an inverse to this? I.e. a function that takes a <code>finset</code> over tuples and splits it into two?</p>



<a name="224503664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224503664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224503664">(Jan 29 2021 at 17:11)</a>:</h4>
<p>what two?</p>



<a name="224503723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224503723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224503723">(Jan 29 2021 at 17:11)</a>:</h4>
<p>you could do <code>finset.image prod.fst s</code></p>



<a name="224503901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224503901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224503901">(Jan 29 2021 at 17:12)</a>:</h4>
<p>If you want it to be an inverse to <code>finset.product</code> it's not possible though because <code>finset.product s empty = empty</code> so there is no first projection</p>



<a name="224504148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504148">(Jan 29 2021 at 17:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Inverse.20.60finset.2Eproduct.60/near/224503664">said</a>:</p>
<blockquote>
<p>what two?</p>
</blockquote>
<p>Say we have <code>{(1, A), (3, B), (3, C), (5, C)}</code> I would want the output to be <code>({1, 3, 5}, {A, B, C})</code>.</p>



<a name="224504198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504198">(Jan 29 2021 at 17:14)</a>:</h4>
<p>I think a better example of Mario's point is that <code>{(1, A), (2, B)} --your_fun--&gt; ({1, 2}, {A, B}) --finset.product--&gt; {(1, A), (2, A), (1, B), (2, B)}</code></p>



<a name="224504225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504225">(Jan 29 2021 at 17:15)</a>:</h4>
<p>So the thing you're looking for cannot be a two-sided inverse</p>



<a name="224504319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marcus Rossel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504319">(Jan 29 2021 at 17:15)</a>:</h4>
<p>I guess <code>(s.image prod.fst, s.image prod.snd)</code> would work, but it doesn't feel nice.</p>



<a name="224504550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504550">(Jan 29 2021 at 17:17)</a>:</h4>
<p>If <a href="https://github.com/leanprover-community/mathlib/issues/5829">#5829</a> goes in and appropriate follow-up PRs made, <del>then that could be changed to  be spelt <code>finset.product.symm s</code>, since that's a left-inverse to <code>finset.product</code></del> edit: that's not true, because finset.product is a function of two arguments, and that PR is about single-argument functions</p>



<a name="224504900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224504900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224504900">(Jan 29 2021 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="372804">Marcus Rossel</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Inverse.20.60finset.2Eproduct.60/near/224504319">said</a>:</p>
<blockquote>
<p>I guess <code>(s.image prod.fst, s.image prod.snd)</code> would work, but it doesn't feel nice.</p>
</blockquote>
<p>I don't understand what's not nice about this</p>



<a name="224505424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224505424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224505424">(Jan 29 2021 at 17:23)</a>:</h4>
<p>Actually my point is that it can't even be a one-sided inverse because <code>s * empty = empty</code>, so a function <code>f</code> satisfying <code>f (s * t) = s</code> doesn't exist</p>



<a name="224505518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Inverse%20%60finset.product%60/near/224505518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Inverse.20.60finset.2Eproduct.60.html#224505518">(Jan 29 2021 at 17:24)</a>:</h4>
<p>The reverse inverse definitely doesn't work because not all sets are rectangles</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>