---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html">Morphisms of monads</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206493257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206493257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206493257">(Aug 10 2020 at 18:10)</a>:</h4>
<p>Does mathlib have morphisms of monads? For now, I'm mostly interested in monads on <code>Type*</code>.</p>



<a name="206495695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206495695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206495695">(Aug 10 2020 at 18:31)</a>:</h4>
<p>Mathlib has two definitions of monads. The one in category theory and the one we use for programming. Which one do you need?</p>



<a name="206496361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206496361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206496361">(Aug 10 2020 at 18:37)</a>:</h4>
<p>Either would be fine. Since this exists: </p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/src/category_theory/monad/types.lean">https://github.com/leanprover-community/mathlib/blob/master/src/category_theory/monad/types.lean</a></p>
<p>But of course, morphisms of monads in the sense of control.monad would be better, since it's more flexible with universes.</p>



<a name="206496779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206496779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206496779">(Aug 10 2020 at 18:40)</a>:</h4>
<p>I looked briefly in <code>category_theory.monad</code> and didn't find anything about morphisms of monads.</p>



<a name="206501838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206501838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206501838">(Aug 10 2020 at 19:19)</a>:</h4>
<p>For category theory, <code>M</code> is an endofunctor, functors form a category (see <code>category_theory/functor_category.lean</code>). Are those morphisms good enough?</p>



<a name="206501915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206501915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206501915">(Aug 10 2020 at 19:20)</a>:</h4>
<p>As for the programming construct, it does not exist yet but if you define it, I'll be happy to see it PR-ed</p>



<a name="206502254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206502254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206502254">(Aug 10 2020 at 19:24)</a>:</h4>
<p>There are laws for morphisms of monads, just like a morphism of monoids has to satisfy some equations (really, they are the same equations).</p>



<a name="206502365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206502365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206502365">(Aug 10 2020 at 19:25)</a>:</h4>
<p>Right, I did not consider that they wouldn't follow from normal natural transformations. My mistake</p>



<a name="206502427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206502427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206502427">(Aug 10 2020 at 19:25)</a>:</h4>
<p>It's just a natural transformation that's compatible with <code>bind</code> and <code>pure</code>.</p>



<a name="206502552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206502552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206502552">(Aug 10 2020 at 19:26)</a>:</h4>
<p>I'll try to sketch a definition.</p>



<a name="206504037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206504037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206504037">(Aug 10 2020 at 19:39)</a>:</h4>
<p>Something like this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">M</span> <span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="bp">→</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">monad</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">monad</span> <span class="n">N</span><span class="o">]</span>

<span class="kn">structure</span> <span class="n">monad_hom</span> <span class="o">(</span><span class="n">M</span> <span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span> <span class="bp">→</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">monad</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">monad</span> <span class="n">N</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">app</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">M</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">N</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">natural</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">M</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">app</span> <span class="o">(</span><span class="n">f</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="bp">&lt;</span><span class="err">$</span><span class="bp">&gt;</span> <span class="n">app</span> <span class="n">x</span><span class="o">)</span>
<span class="o">(</span><span class="n">map_pure</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">app</span> <span class="o">(</span><span class="n">pure</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">pure</span> <span class="n">a</span><span class="o">)</span>
<span class="o">(</span><span class="n">map_bind</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">ma</span> <span class="o">:</span> <span class="n">M</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">M</span> <span class="n">β</span><span class="o">}</span> <span class="o">:</span> <span class="n">app</span> <span class="o">(</span><span class="n">ma</span> <span class="bp">&gt;&gt;=</span> <span class="n">f</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="n">app</span> <span class="n">ma</span><span class="o">)</span> <span class="bp">&gt;&gt;=</span> <span class="o">(</span><span class="n">app</span> <span class="err">∘</span> <span class="n">f</span><span class="o">))</span>
</code></pre></div>


<p>Does this look right?</p>



<a name="206504237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206504237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206504237">(Aug 10 2020 at 19:41)</a>:</h4>
<p>Looks good to me</p>



<a name="206504439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206504439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206504439">(Aug 10 2020 at 19:42)</a>:</h4>
<p>Oh, do we already have  natural transformations for computer-sciency functors?</p>



<a name="206504650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206504650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206504650">(Aug 10 2020 at 19:44)</a>:</h4>
<p>I don't believe so. The only other use of that idea in programming in mathlib is in <code>control.traversable.basic</code></p>



<a name="206508014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508014">(Aug 10 2020 at 20:15)</a>:</h4>
<p>Isn't this a "monad transformer" in haskell jargon?</p>



<a name="206508034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508034">(Aug 10 2020 at 20:15)</a>:</h4>
<p>I don't think so.</p>



<a name="206508076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508076">(Aug 10 2020 at 20:16)</a>:</h4>
<p>I thought a monad transformer takes one monad and makes another.</p>



<a name="206508119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508119">(Aug 10 2020 at 20:16)</a>:</h4>
<p>isn't that what's happening here?</p>



<a name="206508135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508135">(Aug 10 2020 at 20:16)</a>:</h4>
<p>you take elements of one monad and produce elements of another</p>



<a name="206508136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508136">(Aug 10 2020 at 20:16)</a>:</h4>
<p>Not quite.</p>



<a name="206508145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508145">(Aug 10 2020 at 20:16)</a>:</h4>
<p>no, this is an ordinary function that takes an action in one monad and produces an action in another</p>



<a name="206508221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508221">(Aug 10 2020 at 20:17)</a>:</h4>
<p>I guess whenever you have a monad transformer <code>T</code>, and a monad <code>M</code>, you can promote the <code>pure</code> in <code>T</code> to a morphism from <code>M</code>to <code>T M</code>.</p>



<a name="206508245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508245">(Aug 10 2020 at 20:17)</a>:</h4>
<p>Or something.</p>



<a name="206508324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508324">(Aug 10 2020 at 20:18)</a>:</h4>
<p>In more details, this is a relation between two given monads whereas, with a monad transformer, you take one monad and produce another one. I believe we could say that there should be a monad morphism between the input and the output monads of a monad transformer though</p>



<a name="206508397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508397">(Aug 10 2020 at 20:19)</a>:</h4>
<p>Aha, I knew that haskellers couldn't stop themselves from rediscovering this: <a href="https://hackage.haskell.org/package/mmorph-1.1.3/docs/Control-Monad-Morph.html">https://hackage.haskell.org/package/mmorph-1.1.3/docs/Control-Monad-Morph.html</a></p>



<a name="206508509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508509">(Aug 10 2020 at 20:20)</a>:</h4>
<p>Hey, at least they tell us what notation to use :)</p>



<a name="206508527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206508527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206508527">(Aug 10 2020 at 20:20)</a>:</h4>
<p>Oh wait, I misread.</p>



<a name="206512560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206512560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206512560">(Aug 10 2020 at 20:59)</a>:</h4>
<p>Is there some standard haskelish ascii art for natural transformations?</p>



<a name="206512886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206512886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206512886">(Aug 10 2020 at 21:02)</a>:</h4>
<p><code>~&gt;</code> I guess.</p>



<a name="206523079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206523079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206523079">(Aug 10 2020 at 22:59)</a>:</h4>
<p>We do now have <a href="https://leanprover-community.github.io/mathlib_docs/category_theory/monoidal/internal.html#Mon_">monoid objects</a> in monoidal categories, as well as homs between them, and the fact that endofunctors of a category <a href="https://leanprover-community.github.io/mathlib_docs/category_theory/monoidal/End.html">form a monoidal category</a>.</p>



<a name="206523090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206523090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206523090">(Aug 10 2020 at 22:59)</a>:</h4>
<p>Just saying. :-)</p>



<a name="206523824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206523824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206523824">(Aug 10 2020 at 23:08)</a>:</h4>
<p>Has anyone tied monads from the category theory library to monoids in the endofunctor category?</p>



<a name="206524265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206524265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206524265">(Aug 10 2020 at 23:14)</a>:</h4>
<p>Yes, there is <code>category_theory.monad.types</code> where programming monads are shown to be monads in the category theory sense</p>



<a name="206524669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206524669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206524669">(Aug 10 2020 at 23:20)</a>:</h4>
<p>Yes i saw that, but I'm wondering about the equivalence between <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.monad">docs#category_theory.monad</a>  and <code>Mon_ (C \func C)</code></p>



<a name="206524778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206524778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206524778">(Aug 10 2020 at 23:22)</a>:</h4>
<p>But anyway, morphisms of monads are "just" morphisms in <code>Mon_ (C \func C)</code></p>



<a name="206529200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206529200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206529200">(Aug 11 2020 at 00:30)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>, no, my comment above was precisely trying to goad someone into proving "oh, monads are just monoids in the category of endofunctors".</p>



<a name="206529689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206529689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206529689">(Aug 11 2020 at 00:38)</a>:</h4>
<p>There should be an "nlab-just" tactic.</p>



<a name="206530237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206530237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206530237">(Aug 11 2020 at 00:46)</a>:</h4>
<p>Quantisation, categorification, justification.</p>



<a name="206537659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206537659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206537659">(Aug 11 2020 at 03:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> <span class="user-mention" data-user-id="110087">@Scott Morrison</span> I wrote up some definitions for morphisms of functors and monads (in the sense of <code>control.*</code>) in the following two files:</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/monad_morph/src/control/functor/morph.lean">https://github.com/leanprover-community/mathlib/blob/monad_morph/src/control/functor/morph.lean</a></p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/monad_morph/src/control/monad/morph.lean">https://github.com/leanprover-community/mathlib/blob/monad_morph/src/control/monad/morph.lean</a></p>
<p>These also contain some very basic lemmas.  Let me know if it's worth opening a PR.</p>



<a name="206537881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206537881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206537881">(Aug 11 2020 at 03:52)</a>:</h4>
<p>It looks like a nice start. Do you have examples where it is useful? That would be worth including too.</p>



<a name="206538152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538152">(Aug 11 2020 at 04:00)</a>:</h4>
<p>I'm interested in this because I'm planning to apply it in some algebraic contexts later, but this is much more involved. I guess one thing that's worth adding is the fact that there is an initial monad (the identity functor).</p>



<a name="206538287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538287">(Aug 11 2020 at 04:04)</a>:</h4>
<p>that's a nice example. You could also show that some monad transformers are monad morphisms</p>



<a name="206538308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538308">(Aug 11 2020 at 04:05)</a>:</h4>
<p>On terminology, maybe <span class="user-mention" data-user-id="110087">@Scott Morrison</span> will correct me but we use <code>_hom</code> and not <code>_morph</code> to name morphisms.</p>



<a name="206538488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538488">(Aug 11 2020 at 04:11)</a>:</h4>
<p>Unless the additional universe flexibility is useful somewhere, why not just use the ones from <code>category_theory/</code>?</p>



<a name="206538538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538538">(Aug 11 2020 at 04:13)</a>:</h4>
<p>Actually, while we're on the subject of <code>category_theory/</code> and <code>control/</code>, would it be insane to move <code>functor</code> in core into the <code>control</code> namespace?</p>



<a name="206538542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538542">(Aug 11 2020 at 04:13)</a>:</h4>
<p>I keep running into this name conflict over <code>functor.map_comp</code>.</p>



<a name="206538822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206538822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206538822">(Aug 11 2020 at 04:20)</a>:</h4>
<p>I don't think that would be insane. We picked <code>control</code> because Haskell did but I'm starting to question the choice. If any kind of electrical engineering such as control theory gets into mathlib, that could be confusing. I'm wondering if we should just call it <code>programming</code></p>



<a name="206539312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539312">(Aug 11 2020 at 04:32)</a>:</h4>
<p>well, <code>functional_programming</code></p>



<a name="206539336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539336">(Aug 11 2020 at 04:33)</a>:</h4>
<p>however I think that worries about control theory are premature until we get some</p>



<a name="206539337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539337">(Aug 11 2020 at 04:33)</a>:</h4>
<p>I would like to use <code>do</code> notation as well. Do the monads in <code>category_theory</code> provide a <code>functional_prpgramming.monad</code> instance?</p>



<a name="206539490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539490">(Aug 11 2020 at 04:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Morphisms.20of.20monads/near/206539336">said</a>:</p>
<blockquote>
<p>however I think that worries about control theory are premature until we get some</p>
</blockquote>
<p>That's probably true. I think it remains that it's not a great name for functional programming tools</p>



<a name="206539536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539536">(Aug 11 2020 at 04:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Morphisms.20of.20monads/near/206539337">said</a>:</p>
<blockquote>
<p>I would like to use <code>do</code> notation as well. Do the monads in <code>category_theory</code> provide a <code>functional_prpgramming.monad</code> instance?</p>
</blockquote>
<p>I don't believe so but it should be easy enough to create one</p>



<a name="206539544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539544">(Aug 11 2020 at 04:38)</a>:</h4>
<p>having just diagnosed a typeclass loop, I am a bit worried about the contribution to the instance problem</p>



<a name="206539575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539575">(Aug 11 2020 at 04:39)</a>:</h4>
<p>Can you derive an instance going the other way?</p>



<a name="206539870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206539870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206539870">(Aug 11 2020 at 04:47)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/43ceb3e01ef133d5c39a1f2793f092751a573ce9/src/category_theory/monad/types.lean">https://github.com/leanprover-community/mathlib/blob/43ceb3e01ef133d5c39a1f2793f092751a573ce9/src/category_theory/monad/types.lean</a></p>



<a name="206558720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206558720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Wong <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206558720">(Aug 11 2020 at 10:09)</a>:</h4>
<blockquote>
<p>We picked <code>control</code> because Haskell did but I'm starting to question the choice.</p>
</blockquote>
<p>You can argue that the <code>control</code> / <code>data</code> distinction doesn't make much sense in Haskell either <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="206558944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206558944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206558944">(Aug 11 2020 at 10:12)</a>:</h4>
<p>what if we just use <code>haskell</code></p>



<a name="206559076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206559076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206559076">(Aug 11 2020 at 10:14)</a>:</h4>
<p>LGTM. :-)</p>



<a name="206594729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206594729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206594729">(Aug 11 2020 at 16:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span class="user-mention" data-user-id="110026">@Simon Hudon</span> I added some stuff about morphisms of monads in the sense of category theory, as well as the stuff around the initial monad in <code>control.monad</code>. I think the natural thing to do next is to define the category of monads in <code>category_theory.monad.basic</code>, but I'm not sure what would be the best way to go about this, since <code>category_theory.monad</code>is a typeclass. Any suggestions?</p>
<p>The changes from mathlib:master are here:<br>
<a href="https://github.com/leanprover-community/mathlib/compare/monad_morph">https://github.com/leanprover-community/mathlib/compare/monad_morph</a></p>



<a name="206603459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206603459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206603459">(Aug 11 2020 at 17:20)</a>:</h4>
<p>Nice</p>



<a name="206603763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206603763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206603763">(Aug 11 2020 at 17:23)</a>:</h4>
<p>Something that I would like to see in this PR is to show that <code>state_t m</code> defines a morphism between <code>m</code> and <code>state_t m</code> (same for <code>reader_t</code> and <code>cont_t</code>). It would also be cool to see <code>state_t</code> treated as a functor on monad morphisms (same for other transformers). Then,  we can have a systematic way of transforming <code>state_t m</code> to <code>state_t n</code></p>



<a name="206603834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206603834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206603834">(Aug 11 2020 at 17:23)</a>:</h4>
<p>I can add that, but it's actually true for any monad transformer. Is there a class for monad transformers?</p>



<a name="206603978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206603978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206603978">(Aug 11 2020 at 17:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> I think this would be very honest. At the same time, I think we wouldn't want to create the expectation that we'd be perfectly faithful to Haskell whereas we should take liberties for a nicer formalization</p>



<a name="206604083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206604083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206604083">(Aug 11 2020 at 17:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Morphisms.20of.20monads/near/206603834">said</a>:</p>
<blockquote>
<p>I can add that, but it's actually true for any monad transformer. Is there a class for monad transformers?</p>
</blockquote>
<p>There is <code>monad_lift</code> but it doesn't have laws. I have a version somewhere that adds the law if you want but it's not hard to come up with.</p>



<a name="206605341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206605341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206605341">(Aug 11 2020 at 17:35)</a>:</h4>
<p>Oh, it looks like <code>monad_lift</code> is essentially a morphism of monads with no rules.</p>



<a name="206605809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206605809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206605809">(Aug 11 2020 at 17:38)</a>:</h4>
<p>So perhaps it makes sense to unbundle the definition of a monad morphism, extending <code>has_monad_lift</code>, and just add the rules?</p>



<a name="206606541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206606541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206606541">(Aug 11 2020 at 17:43)</a>:</h4>
<p>How about bundling monads instead?</p>



<a name="206606671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206606671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206606671">(Aug 11 2020 at 17:44)</a>:</h4>
<p>I would be happy with that. But I don't know about others :)</p>



<a name="206607153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206607153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206607153">(Aug 11 2020 at 17:48)</a>:</h4>
<p>I think certainly the <code>category_theory.monad</code> could be bundled.</p>



<a name="206607361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206607361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206607361">(Aug 11 2020 at 17:50)</a>:</h4>
<p>Well... it is already  -- <code>Mon_ (C \func C)</code>.</p>



<a name="206640887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206640887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206640887">(Aug 11 2020 at 22:55)</a>:</h4>
<p>Okay, I made bundled monads <code>Monad C</code> and made it a category. Next up, "monads are just monoids in ...".</p>



<a name="206641134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Morphisms%20of%20monads/near/206641134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Morphisms.20of.20monads.html#206641134">(Aug 11 2020 at 22:59)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/578b4bf74169b9ec65dca05df84508950971b7e2/src/category_theory/monad/basic.lean#L156">https://github.com/leanprover-community/mathlib/blob/578b4bf74169b9ec65dca05df84508950971b7e2/src/category_theory/monad/basic.lean#L156</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>