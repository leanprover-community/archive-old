---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Total.20variation.20distance.20on.20pmf.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Total.20variation.20distance.20on.20pmf.html">Total variation distance on pmf</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="281185550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Total%20variation%20distance%20on%20pmf/near/281185550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Total.20variation.20distance.20on.20pmf.html#281185550">(May 04 2022 at 16:58)</a>:</h4>
<p><code>measure_theory.probability_mass_function.basic</code> has the type <code>pmf</code> of discrete probability measures. Do we have the total variation metric on this type?</p>



<a name="281214430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Total%20variation%20distance%20on%20pmf/near/281214430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kalle Kytölä <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Total.20variation.20distance.20on.20pmf.html#281214430">(May 04 2022 at 20:22)</a>:</h4>
<p>It was discussed as one among the reasonable topologies on probability measures (and finite measures) <a href="#narrow/stream/144837-PR-reviews/topic/.238337.20Weak.20convergence/near/250407104">here</a>, but to my knowledge has not been implemented in mathlib yet.</p>
<p>I think the total variation metric should be defined on <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.finite_measure">docs#measure_theory.finite_measure</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.probability_measure">docs#measure_theory.probability_measure</a>. (But it should not be recorded as an instance, since the outcome of the discussions above was that the topology instance on these types should be that of convergence in distribution.) It will be essentially the dual norm in for example the dual of the space of continuous functions on a compact space, so very natural in the generality of <code>finite_measure</code>s. In this route, it would be a theorem that for probability measures determined by pmfs (for example on finite sample spaces), the total variation distance is half the sum of the absolute differences of the values of the pmfs (half their <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\ell^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span> distance), as in &lt;<a href="https://en.wikipedia.org/wiki/Total_variation_distance_of_probability_measures">https://en.wikipedia.org/wiki/Total_variation_distance_of_probability_measures</a>&gt;.</p>
<p>By the way, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">ℓ</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\ell^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">ℓ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span> distance exists (<a href="https://leanprover-community.github.io/mathlib_docs/find/lp">docs#lp</a>), so that can probably be used for (twice) the total variation distance right away.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>