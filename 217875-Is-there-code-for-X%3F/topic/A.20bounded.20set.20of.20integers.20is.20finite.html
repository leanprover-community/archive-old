---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html">A bounded set of integers is finite</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219503294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219503294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219503294">(Dec 10 2020 at 17:10)</a>:</h4>
<p>I'm sure we have this somewhere....</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">|</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">r</span> <span class="o">}</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="219520075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219520075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219520075">(Dec 10 2020 at 19:16)</a>:</h4>
<p>I reduced to <code>example (a b : ℤ) : set.finite (Icc a b) := sorry</code>, but that doesn't seem to be there either</p>



<a name="219520267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219520267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219520267">(Dec 10 2020 at 19:18)</a>:</h4>
<p>I've been trying to use the fact that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> is discrete, that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a,b]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span></span></span></span> is coompact in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> (which is in mathlib), and the fact that a compact subspace of a discrete space is finite. But it looks like mathlib doesn't have <code>embedding (coe : \Z \to \R)</code>...</p>



<a name="219520414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219520414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219520414">(Dec 10 2020 at 19:19)</a>:</h4>
<p>But there is an "easy" list we can write down that enumerates all elements of <code>Icc a b</code> for integers <code>a b</code>, so maybe it's not too bad?</p>



<a name="219520872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219520872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219520872">(Dec 10 2020 at 19:22)</a>:</h4>
<p>This definitely sounds like overkill</p>



<a name="219520999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219520999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219520999">(Dec 10 2020 at 19:23)</a>:</h4>
<p>I know....</p>



<a name="219521009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521009">(Dec 10 2020 at 19:23)</a>:</h4>
<p>Ruben's suggestion  sounds like the right way</p>



<a name="219521134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521134">(Dec 10 2020 at 19:23)</a>:</h4>
<p>I'm just trying to find the shortest proof with what's currently in mathlib...</p>



<a name="219521174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521174">(Dec 10 2020 at 19:23)</a>:</h4>
<p>I don't know where to go from there, sadly</p>



<a name="219521471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521471">(Dec 10 2020 at 19:24)</a>:</h4>
<p>I guess define an injective function into <code>fin (b - a + 1)</code></p>



<a name="219521536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521536">(Dec 10 2020 at 19:25)</a>:</h4>
<p>or a surjective function from <code>fin ...</code></p>



<a name="219521867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219521867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219521867">(Dec 10 2020 at 19:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> We will definitely want the (topological) embedding of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> into <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> at some point anyway...</p>



<a name="219523228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523228">(Dec 10 2020 at 19:39)</a>:</h4>
<p>We definitely have this somewhere.</p>



<a name="219523288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523288">(Dec 10 2020 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> you mean the embedding? That would be great!</p>



<a name="219523432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523432">(Dec 10 2020 at 19:41)</a>:</h4>
<p>Otherwise <code>interval_cases</code> couldn't do its magic.</p>



<a name="219523455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523455">(Dec 10 2020 at 19:41)</a>:</h4>
<p>I mean finiteness of intervals in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb Z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">Z</span></span></span></span></p>



<a name="219523468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523468">(Dec 10 2020 at 19:41)</a>:</h4>
<p>Oh. Even that would be great :)</p>



<a name="219523563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523563">(Dec 10 2020 at 19:42)</a>:</h4>
<p>actually I'm not sure why I thought Adam's approach was so overkill</p>



<a name="219523597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523597">(Dec 10 2020 at 19:42)</a>:</h4>
<p>You have to prove discreteness somehow...</p>



<a name="219523601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523601">(Dec 10 2020 at 19:42)</a>:</h4>
<p>as long as you don't think too hard about the proof of compactness</p>



<a name="219523635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523635">(Dec 10 2020 at 19:42)</a>:</h4>
<p>compactness of the real closed intervals is in mathlib... zero thinking :)</p>



<a name="219523706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219523706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219523706">(Dec 10 2020 at 19:43)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.Ico_ℤ_fintype">docs#set.Ico_ℤ_fintype</a></p>



<a name="219534523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219534523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219534523">(Dec 10 2020 at 21:11)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.fintype.intervals</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">Ico_finite</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">(</span><span class="n">Ico</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">set.Ico_ℤ_fintype</span> <span class="n">a</span> <span class="n">b</span><span class="o">⟩</span>
<span class="kd">lemma</span> <span class="n">Icc_finite</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">convert</span> <span class="n">finite_empty</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">Icc_eq_empty</span> <span class="n">h</span> <span class="o">},</span>
  <span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">set.Ico_union_right</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">finite.union</span> <span class="o">(</span><span class="n">Ico_finite</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">finite_singleton</span> <span class="n">b</span><span class="o">),</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">|</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">r</span> <span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">Icc_finite</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">int.cast_abs</span><span class="o">,</span> <span class="bp">←</span><span class="n">le_floor</span><span class="o">,</span> <span class="n">abs_le</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



<a name="219540925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219540925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219540925">(Dec 10 2020 at 22:09)</a>:</h4>
<p>For <code>Icc_finite</code> you can also convert it to <code>Ico_finite a (b + 1)</code>.</p>



<a name="219552154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/A%20bounded%20set%20of%20integers%20is%20finite/near/219552154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/A.20bounded.20set.20of.20integers.20is.20finite.html#219552154">(Dec 11 2020 at 00:19)</a>:</h4>
<p>A little golfing following <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> 's suggestion:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.fintype.intervals</span>
<span class="kn">import</span> <span class="n">data.set.intervals.basic</span>
<span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kn">open</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">Ico_finite</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">(</span><span class="n">Ico</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">set.Ico_ℤ_fintype</span> <span class="n">a</span> <span class="n">b</span><span class="o">⟩</span>
<span class="kd">lemma</span> <span class="n">Icc_finite</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">(</span><span class="n">Icc</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">Ico_finite</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span><span class="bp">+</span><span class="mi">1</span><span class="o">),</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">int.lt_add_one_iff</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">set.finite</span> <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">|</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">r</span> <span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">Icc_finite</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">int.cast_abs</span><span class="o">,</span> <span class="bp">←</span><span class="n">le_floor</span><span class="o">,</span> <span class="n">abs_le</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>