---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html">quotient.exists_rep without a typeclass instance</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219110880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219110880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219110880">(Dec 07 2020 at 17:32)</a>:</h4>
<p>Is there a reason <a href="https://leanprover-community.github.io/mathlib_docs/find/quotient.exists_rep">docs#quotient.exists_rep</a> takes <code>[s : setoid A]</code> and not <code>{s : setoid A}</code>? I have a <code>quotient</code> constructed from a non-canonical setoid, so I don't have a global instance available.</p>



<a name="219110924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219110924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219110924">(Dec 07 2020 at 17:33)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/quotient.exists_rep'">docs#quotient.exists_rep'</a> ?</p>



<a name="219110965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219110965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219110965">(Dec 07 2020 at 17:33)</a>:</h4>
<p>no :(</p>
<p>Then <a href="https://leanprover-community.github.io/mathlib_docs/find/quot.exists_rep">docs#quot.exists_rep</a></p>



<a name="219111030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111030">(Dec 07 2020 at 17:33)</a>:</h4>
<p>I wonder what breaks if those arguments all become implicit...</p>



<a name="219111149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111149">(Dec 07 2020 at 17:34)</a>:</h4>
<p>I don't think anything breaks. <code>quotient.mk'</code> is defeq to <code>quot.mk _</code></p>



<a name="219111277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111277">(Dec 07 2020 at 17:35)</a>:</h4>
<p>Oh, the problem is this code is all in core</p>



<a name="219111306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111306">(Dec 07 2020 at 17:35)</a>:</h4>
<p>So changing it to take <code>{}</code> arguments is harder to test</p>



<a name="219111392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111392">(Dec 07 2020 at 17:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/quotient.lift_on'/src">src#quotient.lift_on'</a></p>



<a name="219111488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111488">(Dec 07 2020 at 17:36)</a>:</h4>
<p>That's from mathlib, and it looks like a few other <code>quotient.foo'</code> things are missing as well.</p>



<a name="219111885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219111885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219111885">(Dec 07 2020 at 17:39)</a>:</h4>
<p>Ugh, I guess <code>exists_rep'</code> is difficult because the <code>⟦a⟧</code> notation used in its statement isn't available without the typeclass instance.</p>



<a name="219112012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219112012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219112012">(Dec 07 2020 at 17:40)</a>:</h4>
<p>It could use <code>quotient.mk'</code></p>



<a name="219112293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219112293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219112293">(Dec 07 2020 at 17:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">quotient.exists_rep'</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="n">setoid</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">quotient</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">quotient.mk'</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
  <span class="n">quot.exists_rep</span> <span class="n">_</span>
</code></pre></div>



<a name="219114701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219114701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219114701">(Dec 07 2020 at 18:00)</a>:</h4>
<p>Oh, which infers <code>s</code> from the rhs</p>



<a name="219122484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219122484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219122484">(Dec 07 2020 at 19:00)</a>:</h4>
<p>It infers <code>S</code> from the type of <code>x</code></p>



<a name="219134856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219134856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219134856">(Dec 07 2020 at 20:36)</a>:</h4>
<p>Right, I mean the inferred argument to <code>mk'</code></p>



<a name="219145006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219145006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219145006">(Dec 07 2020 at 22:04)</a>:</h4>
<p>Thanks for the tip to use the <code>quot</code> versions anyway, that tidied up my proof nicely.</p>



<a name="219146199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient.exists_rep%20without%20a%20typeclass%20instance/near/219146199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.2Eexists_rep.20without.20a.20typeclass.20instance.html#219146199">(Dec 07 2020 at 22:13)</a>:</h4>
<p>IMO the main point where <code>quotient</code> is useful over <code>quot</code> is if you have to use <code>quotient.exact</code>. <code>quot.exact</code> spits out something with <code>eqv_gen</code> which is annoying if you already have an equivalence relation</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>