---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html">More point set topology questions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="212734693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212734693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212734693">(Oct 08 2020 at 18:58)</a>:</h4>
<p>Does mathlib have one and/or both of the following facts?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">le_nhds_Lim</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">compact_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">nonempty</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">ultrafilter</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">F.1</span> <span class="bp">≤</span> <span class="n">nhds</span> <span class="o">(</span><span class="n">Lim</span> <span class="n">F.1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>

<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Lim_eq_iff_le_nhds</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">compact_space</span> <span class="n">X</span><span class="o">]</span> <span class="o">[</span><span class="n">t2_space</span> <span class="n">X</span><span class="o">]</span>
  <span class="o">[</span><span class="n">nonempty</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">ultrafilter</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">Lim</span> <span class="n">F.1</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">↔</span> <span class="n">F.1</span> <span class="bp">≤</span> <span class="n">nhds</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="212735266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212735266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212735266">(Oct 08 2020 at 19:03)</a>:</h4>
<p>I have a (currently very messy) proof of the equivalence between compact Hausdorff spaces and the category of algebras for the ultrafilter monad. These would help cleaning it up a bit.</p>
<p>In case anyone is interested: <br>
<a href="https://github.com/leanprover-community/mathlib/blob/ca24ce9856e8d2b4e2d6148f1030cda171c8ba49/src/topology/category/Compactum.lean#L578">https://github.com/leanprover-community/mathlib/blob/ca24ce9856e8d2b4e2d6148f1030cda171c8ba49/src/topology/category/Compactum.lean#L578</a></p>



<a name="212747611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212747611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212747611">(Oct 08 2020 at 20:52)</a>:</h4>
<p>It seems that the answer is "no" but we have <a href="https://leanprover-community.github.io/mathlib_docs/find/compact_iff_ultrafilter_le_nhds">docs#compact_iff_ultrafilter_le_nhds</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_spec">docs#Lim_spec</a></p>



<a name="212748220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212748220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212748220">(Oct 08 2020 at 20:59)</a>:</h4>
<p>The second one follows from the first one and <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_eq">docs#Lim_eq</a>.<br>
BTW,</p>
<ul>
<li>have a look at the trick I used in <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_spec">docs#Lim_spec</a> to avoid a <code>[nonempty]</code> assumption;</li>
<li>could you please<ul>
<li>rename <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_spec">docs#Lim_spec</a> to <code>le_nhds_Lim</code> and <a href="https://leanprover-community.github.io/mathlib_docs/find/lim_spec">docs#lim_spec</a> to <code>tendsto_nhds_lim</code>;</li>
<li>add <code>Lim_eq_iff (h : ∃ a, Lim f ≤ nhds a) {a} : Lim f = a ↔ F ≤ nhds a</code> and <code>lim_eq_iff (h : ∃ a, tendsto g f (nhds a)) {a} : lim f g = a ↔ tendsto g f a</code>?</li>
</ul>
</li>
</ul>



<a name="212748886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212748886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212748886">(Oct 08 2020 at 21:04)</a>:</h4>
<p>Right, I've seen <a href="https://leanprover-community.github.io/mathlib_docs/find/compact_iff_ultrafilter_le_nhds">docs#compact_iff_ultrafilter_le_nhds</a> <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_spec">docs#Lim_spec</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/Lim_eq">docs#Lim_eq</a> (they're actually used in the linked file above, but I'm still working on cleaning it up). I'm not sure what you mean about the nonempty assumption. It's a little subtle, since one has to use the fact that <code>X</code> is empty if and only if <code>ultrafilter X</code> is empty.</p>



<a name="212749080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749080">(Oct 08 2020 at 21:06)</a>:</h4>
<p>I opened issue <a href="https://github.com/leanprover-community/mathlib/issues/4543">#4543</a>.</p>



<a name="212749263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749263">(Oct 08 2020 at 21:07)</a>:</h4>
<p>If you'll try to prove this (do <code>cases</code> on <code>compact_iff_ultrafilter_le_nhds</code>, then use <code>Lim_spec</code>), then the only place where you'll need <code>nonempty</code> is the implicit argument of <code>Lim</code>.</p>



<a name="212749466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749466">(Oct 08 2020 at 21:09)</a>:</h4>
<p>Ah, I see. That's not a problem for the second lemma (you can supply <code>⟨x⟩</code> as <code>[nonempty α]</code>)</p>



<a name="212749600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749600">(Oct 08 2020 at 21:10)</a>:</h4>
<p>And same for the first one, since you have an ultrafilter.</p>



<a name="212749781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749781">(Oct 08 2020 at 21:11)</a>:</h4>
<p>The branch above also proves this<br>
<a href="https://github.com/leanprover-community/mathlib/blob/ca24ce9856e8d2b4e2d6148f1030cda171c8ba49/src/order/filter/ultrafilter.lean#L267">https://github.com/leanprover-community/mathlib/blob/ca24ce9856e8d2b4e2d6148f1030cda171c8ba49/src/order/filter/ultrafilter.lean#L267</a><br>
which gives a <code>nonempty X</code> from <code>nonempty (ultrafilter X)</code>.</p>



<a name="212749789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749789">(Oct 08 2020 at 21:11)</a>:</h4>
<p>For the first one you can supply <code>nonempty_of_ne_bot F.1</code></p>



<a name="212749840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749840">(Oct 08 2020 at 21:11)</a>:</h4>
<p>That's for sets.</p>



<a name="212749859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749859">(Oct 08 2020 at 21:11)</a>:</h4>
<p>I think.</p>



<a name="212749863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749863">(Oct 08 2020 at 21:11)</a>:</h4>
<p>AFAIR, we have an instance <code>{F : ultrafilter α} [ne_bot (F.1)]</code></p>



<a name="212749881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749881">(Oct 08 2020 at 21:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.nonempty_of_ne_bot">docs#filter.nonempty_of_ne_bot</a></p>



<a name="212749986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212749986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212749986">(Oct 08 2020 at 21:12)</a>:</h4>
<p>We don't have this instance!</p>



<a name="212750007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750007">(Oct 08 2020 at 21:12)</a>:</h4>
<p>Oops!</p>



<a name="212750105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750105">(Oct 08 2020 at 21:13)</a>:</h4>
<p>Just add it: <code>instance {F : ultrafilter α} : ne_bot F.1 := F.2</code></p>



<a name="212750178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750178">(Oct 08 2020 at 21:14)</a>:</h4>
<p>I guess our <code>is_ultrafilter</code> API is much better.</p>



<a name="212750236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750236">(Oct 08 2020 at 21:14)</a>:</h4>
<p>If you have time, you may want to migrate <code>mathlib</code> to bundled ultrafilters.</p>



<a name="212750311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750311">(Oct 08 2020 at 21:15)</a>:</h4>
<p>I never have time.</p>



<a name="212750329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750329">(Oct 08 2020 at 21:15)</a>:</h4>
<p>But I'll try to find some nonexistent time to take care of that issue.</p>



<a name="212750418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750418">(Oct 08 2020 at 21:16)</a>:</h4>
<p>Probably with definition like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">ultrafilter</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">to_filter</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">ne_bot'</span> <span class="o">:</span> <span class="n">ne_bot</span> <span class="n">to_filter</span><span class="o">)</span>
<span class="o">(</span><span class="n">le_of_le'</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">g</span><span class="o">,</span> <span class="n">ne_bot</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">g</span> <span class="bp">≤</span> <span class="n">to_filter</span> <span class="bp">→</span> <span class="n">to_filter</span> <span class="bp">≤</span> <span class="n">g</span><span class="o">)</span>
</code></pre></div>



<a name="212750504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750504">(Oct 08 2020 at 21:17)</a>:</h4>
<p>If you do this, then lemmas assuming <code>is_ultrafilter</code> in <code>order/filter/filter_product</code> can become instances.</p>



<a name="212750507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212750507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212750507">(Oct 08 2020 at 21:17)</a>:</h4>
<p>Why not keep <code>ultrafilter</code> as is, and just restate the lemmas.</p>



<a name="212752714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212752714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212752714">(Oct 08 2020 at 21:40)</a>:</h4>
<p>I don't think that it makes sense to have both <code>is_ultrafilter</code> and <code>ultrafilter</code>.</p>



<a name="212752802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212752802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212752802">(Oct 08 2020 at 21:41)</a>:</h4>
<p>If you have an ultrafilter, then most probably (unless it's <code>pure a</code>) it is defined using <code>classical.some</code>, and being an ultrafilter is its main property.</p>



<a name="212752950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212752950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212752950">(Oct 08 2020 at 21:43)</a>:</h4>
<p>And if you leave only <code>ultrafilter</code>, then using a <code>structure</code> makes it possible to use <code>{ to_filter := ..., ne_bot := ..., le_of_le := ... }</code> in a constructor instead of just <code>subtype.mk</code>.</p>



<a name="212755212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212755212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212755212">(Oct 08 2020 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> <br>
<a href="https://github.com/leanprover-community/mathlib/compare/lim_spec_cleanup">https://github.com/leanprover-community/mathlib/compare/lim_spec_cleanup</a></p>
<p>I'll wait for github's checks to finish before opening a PR. Is this what you had in mind?</p>



<a name="212755596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212755596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212755596">(Oct 08 2020 at 22:12)</a>:</h4>
<p>You can use</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_ultrafilter.le_nhds_Lim</span> <span class="o">[</span><span class="n">compact_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">ultrafilter</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">F.1</span> <span class="bp">≤</span> <span class="n">nhds</span> <span class="o">(</span><span class="bp">@</span><span class="n">Lim</span> <span class="n">_</span> <span class="n">_</span> <span class="n">F.1.nonempty_of_ne_bot</span> <span class="n">F.1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rcases</span> <span class="n">compact_iff_ultrafilter_le_nhds.mp</span> <span class="n">compact_univ</span> <span class="n">F.1</span> <span class="n">F.2</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">)</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span><span class="n">_</span><span class="o">,</span><span class="n">h</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">le_nhds_Lim</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span><span class="n">h</span><span class="o">⟩,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="212755800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212755800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212755800">(Oct 08 2020 at 22:15)</a>:</h4>
<p><code>unknown identifier 'is_compact_univ'</code><br>
Am I missing an import?</p>



<a name="212756112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212756112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212756112">(Oct 08 2020 at 22:18)</a>:</h4>
<p>It's <code>compact_univ</code></p>



<a name="212756166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212756166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212756166">(Oct 08 2020 at 22:19)</a>:</h4>
<p>Sorry, I made lots of typos. Hopefully, fixed.</p>



<a name="212756255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212756255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212756255">(Oct 08 2020 at 22:20)</a>:</h4>
<p>No worries. Found it now.</p>



<a name="212756347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212756347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212756347">(Oct 08 2020 at 22:21)</a>:</h4>
<p>Pushed the change just now.</p>



<a name="212756380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212756380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212756380">(Oct 08 2020 at 22:21)</a>:</h4>
<p>I'll still wait for the checks to pass, just to make sure the renaming didn't cause any issues I didn't notice.</p>



<a name="212757136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212757136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212757136">(Oct 08 2020 at 22:30)</a>:</h4>
<p>You can already open a PR. It won't get merged till it passes CI anyway.</p>



<a name="212758540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/More%20point%20set%20topology%20questions/near/212758540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/More.20point.20set.20topology.20questions.html#212758540">(Oct 08 2020 at 22:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/4545">#4545</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>