---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html">Abstracting * and /</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266162844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266162844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266162844">(Dec 27 2021 at 10:39)</a>:</h4>
<p>Do we have a typeclass for binary operations <code>f : α → β → γ</code> such that <code>∀ a b c d, f (a * b) (c * d) = f a c * f b d</code>? This is respected for <code>*</code> and <code>/</code> for example.</p>



<a name="266167701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266167701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266167701">(Dec 27 2021 at 12:05)</a>:</h4>
<p>No, I'm quite certain we don't have that. Especially if you want <code>f : α → β → γ</code> to be heterogeneous, instead of <code>α = β = γ</code>.</p>



<a name="266168013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266168013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266168013">(Dec 27 2021 at 12:10)</a>:</h4>
<p>It's like a binary <code>mul_hom</code>, but that's not the same as <code>α →* β →* γ</code>.</p>



<a name="266172253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266172253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266172253">(Dec 27 2021 at 13:22)</a>:</h4>
<p>Is it the same as <code>α × β →* γ</code>?</p>



<a name="266172264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266172264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266172264">(Dec 27 2021 at 13:22)</a>:</h4>
<p>It looks like it</p>



<a name="266172366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266172366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266172366">(Dec 27 2021 at 13:24)</a>:</h4>
<p>Oh yes probably. Do you want me to use that in <a href="https://github.com/leanprover-community/mathlib/pull/10907">#10907</a>?</p>



<a name="266172582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266172582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266172582">(Dec 27 2021 at 13:28)</a>:</h4>
<p>Your <code>m.prod_hom₂</code> seems reasonable to keep, but it would be neat to prove it using maps from <code>×</code></p>



<a name="266172627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266172627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266172627">(Dec 27 2021 at 13:29)</a>:</h4>
<p>Do you mean changing the statement, or changing the proof? Because the proof is about as short as it can be.</p>



<a name="266173759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266173759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266173759">(Dec 27 2021 at 13:49)</a>:</h4>
<p>I meant the proof, mainly to see if any machinery elsewhere is missing</p>



<a name="266174057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266174057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266174057">(Dec 27 2021 at 13:54)</a>:</h4>
<p>What's missing is <code>*</code> and <code>/</code> bundled as <code>α × α →* α</code>, but that's for the specific uses of <code>prod_hom₂</code>. I can't see how to shorten <code>prod_hom₂</code> itself, because you need to build the <code>mul_hom</code> on the fly.</p>



<a name="266175048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266175048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266175048">(Dec 27 2021 at 14:09)</a>:</h4>
<p>I was just about to say, it would be great to have those bundled homs</p>



<a name="266175431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266175431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266175431">(Dec 27 2021 at 14:13)</a>:</h4>
<p>I assume there's also a version of <code> α × β →* β</code> that's true for smul</p>



<a name="266175569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266175569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266175569">(Dec 27 2021 at 14:14)</a>:</h4>
<p>I'm making all of them right now!</p>



<a name="266176039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266176039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266176039">(Dec 27 2021 at 14:21)</a>:</h4>
<p>Btw there's also the <code>α × α →*₀ α</code> version.</p>



<a name="266176099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266176099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266176099">(Dec 27 2021 at 14:22)</a>:</h4>
<p>which feels like it can be strengthened, because we not only have <code>0 / 0 = 0</code>, but also <code>a / 0 = 0</code> and <code>0 / a = 0</code></p>



<a name="266176820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266176820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266176820">(Dec 27 2021 at 14:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Abstracting.20*.20and.20.2F/near/266167701">said</a>:</p>
<blockquote>
<p>No, I'm quite certain we don't have that. Especially if you want <code>f : α → β → γ</code> to be heterogeneous, instead of <code>α = β = γ</code>.</p>
</blockquote>
<p>Core Lean only seems to have the homogeneous version: <a href="https://leanprover-community.github.io/mathlib_docs/find/is_left_distrib">docs#is_left_distrib</a></p>
<p>I've got the impression that these typeclasses tend not to be used since the field name must be the generic one (like <code>left_distrib</code>), which isn't so nice if you want to extend the same typeclass multiple times for multiple operators.</p>



<a name="266176933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266176933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266176933">(Dec 27 2021 at 14:35)</a>:</h4>
<p>I think they tend not to be used because we switched to bundled homs. <a href="https://leanprover-community.github.io/mathlib_docs/find/is_mul_hom">docs#is_mul_hom</a> is pretty close in essence.</p>



<a name="266180203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266180203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266180203">(Dec 27 2021 at 15:23)</a>:</h4>
<p>Okay, I got them all I think. Where should they go?</p>



<a name="266200281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266200281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266200281">(Dec 27 2021 at 19:53)</a>:</h4>
<p>Next to <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_hom.mul">docs#add_monoid_hom.mul</a>?</p>



<a name="266979333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/266979333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#266979333">(Jan 05 2022 at 19:27)</a>:</h4>
<p>Putting it in <code>algebra.group.hom_instances</code> is not quite nice, because nothing imports that.</p>



<a name="267063727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Abstracting%20%2A%20and%20//near/267063727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Abstracting.20*.20and.20.2F.html#267063727">(Jan 06 2022 at 14:00)</a>:</h4>
<p>Where you have them in <code>prod</code> seems fine</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>