---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html">Elements of completion as limits</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="291271897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291271897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291271897">(Jul 29 2022 at 00:52)</a>:</h4>
<p>Do we know that elements of the completion of a uniform space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> can be represented as limits of Cauchy filters on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>?</p>



<a name="291278838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291278838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291278838">(Jul 29 2022 at 03:02)</a>:</h4>
<p>This is my formalization and proof of the result:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.uniform_space.completion</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">Cauchy_tendsto_nhds_self</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Cauchy</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">F.1.tendsto</span> <span class="n">Cauchy.pure_cauchy</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">uniform.tendsto_nhds_left</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">,</span> <span class="n">hts</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">Cauchy.mem_uniformity'.1</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">,</span> <span class="n">hrt</span><span class="o">⟩</span> <span class="o">:=</span> <span class="o">(</span><span class="n">cauchy_iff'.1</span> <span class="n">F.2</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">t</span> <span class="n">ht</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">filter.mem_map_iff_exists_image</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">set.image_subset_iff</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">apply</span> <span class="n">hts</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">filter.mem_prod_iff</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">r</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">],</span>
  <span class="n">rintro</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">hx</span><span class="o">,</span> <span class="n">hy</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">hrt</span> <span class="n">x</span> <span class="n">hx</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">exists_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">uniform_space.completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">F.tendsto</span> <span class="n">coe</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rcases</span> <span class="n">x</span><span class="o">,</span> <span class="n">use</span> <span class="o">[</span><span class="n">x.1</span><span class="o">,</span> <span class="n">x.2</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">uniform_space.completion.coe_eq</span><span class="o">,</span>
  <span class="n">erw</span> <span class="bp">←</span> <span class="n">inducing.tendsto_nhds_iff</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">Cauchy_tendsto_nhds_self</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">uniform_inducing.inducing</span> <span class="o">⟨</span><span class="n">uniform_space.comap_quotient_eq_uniformity</span><span class="o">⟩</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>I feel I don't really understand it, but I was able to complete the proofs!</p>



<a name="291279126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279126">(Jul 29 2022 at 03:08)</a>:</h4>
<p>Nice! That's roughly the proof I had, but I would be surprised if there wasn't a lemma in mathlib that makes this a one-liner.</p>



<a name="291279241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279241">(Jul 29 2022 at 03:10)</a>:</h4>
<p>I'm not sure at all I can do better, but I feel like there <em>has</em> to be a nicer proof involving <a href="https://leanprover-community.github.io/mathlib_docs/find/dense_inducing">docs#dense_inducing</a> or things like that</p>



<a name="291279243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279243">(Jul 29 2022 at 03:10)</a>:</h4>
<p>Let me give it a try</p>



<a name="291279636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279636">(Jul 29 2022 at 03:19)</a>:</h4>
<p>Indeed</p>



<a name="291279671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279671">(Jul 29 2022 at 03:20)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.uniform_space.completion</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">uniform_space</span>
<span class="n">open_locale</span> <span class="n">topological_space</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">exists_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">tendsto</span> <span class="n">coe</span> <span class="n">F</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="n">comap</span> <span class="n">coe</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">),</span> <span class="n">cauchy_nhds.comap'</span> <span class="n">_</span>
    <span class="o">(</span><span class="n">completion.dense_inducing_coe.comap_nhds_ne_bot</span> <span class="n">x</span><span class="o">),</span> <span class="n">tendsto_comap</span><span class="o">⟩,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">completion.uniform_inducing_coe</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">comap_uniformity</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">le_rfl</span>
<span class="kd">end</span>
</code></pre></div>



<a name="291279688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279688">(Jul 29 2022 at 03:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Elements.20of.20completion.20as.20limits/near/291278838">said</a>:</p>
<blockquote>
<p>This is my formalization and proof of the result:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.uniform_space.completion</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">Cauchy_tendsto_nhds_self</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Cauchy</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">F.1.tendsto</span> <span class="n">Cauchy.pure_cauchy</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">uniform.tendsto_nhds_left</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">t</span><span class="o">,</span> <span class="n">ht</span><span class="o">,</span> <span class="n">hts</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">Cauchy.mem_uniformity'.1</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">,</span> <span class="n">hrt</span><span class="o">⟩</span> <span class="o">:=</span> <span class="o">(</span><span class="n">cauchy_iff'.1</span> <span class="n">F.2</span><span class="o">)</span><span class="bp">.</span><span class="mi">2</span> <span class="n">t</span> <span class="n">ht</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">filter.mem_map_iff_exists_image</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">set.image_subset_iff</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">apply</span> <span class="n">hts</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">filter.mem_prod_iff</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">r</span><span class="o">,</span> <span class="n">hx</span><span class="o">,</span> <span class="n">r</span><span class="o">,</span> <span class="n">hr</span><span class="o">],</span>
  <span class="n">rintro</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">⟩</span> <span class="o">⟨</span><span class="n">hx</span><span class="o">,</span> <span class="n">hy</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="n">hrt</span> <span class="n">x</span> <span class="n">hx</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">exists_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">uniform_space.completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">F.tendsto</span> <span class="n">coe</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rcases</span> <span class="n">x</span><span class="o">,</span> <span class="n">use</span> <span class="o">[</span><span class="n">x.1</span><span class="o">,</span> <span class="n">x.2</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">uniform_space.completion.coe_eq</span><span class="o">,</span>
  <span class="n">erw</span> <span class="bp">←</span> <span class="n">inducing.tendsto_nhds_iff</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">Cauchy_tendsto_nhds_self</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">uniform_inducing.inducing</span> <span class="o">⟨</span><span class="n">uniform_space.comap_quotient_eq_uniformity</span><span class="o">⟩</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>I feel I don't really understand it, but I was able to complete the proofs!</p>
</blockquote>
<p>Sorry, I could have saved you a lot of trouble <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="291279809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279809">(Jul 29 2022 at 03:24)</a>:</h4>
<p>This is really a lemma about <a href="https://leanprover-community.github.io/mathlib_docs/find/uniform_inducing">docs#uniform_inducing</a> s with dense range</p>



<a name="291279832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291279832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291279832">(Jul 29 2022 at 03:24)</a>:</h4>
<p>I don't even use the fact that the completion is complete x)</p>



<a name="291280403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280403">(Jul 29 2022 at 03:38)</a>:</h4>
<p>Very nice proof! Can be compactified to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">exists_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">tendsto</span> <span class="n">coe</span> <span class="n">F</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">comap</span> <span class="n">coe</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">),</span> <span class="n">cauchy_nhds.comap'</span>
  <span class="o">(</span><span class="n">completion.uniform_inducing_coe</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">comap_uniformity.le</span>
  <span class="o">(</span><span class="n">completion.dense_inducing_coe.comap_nhds_ne_bot</span> <span class="n">x</span><span class="o">),</span> <span class="n">tendsto_comap</span><span class="o">⟩</span>
</code></pre></div>



<a name="291280493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280493">(Jul 29 2022 at 03:41)</a>:</h4>
<p>Nice, I feel better now that you golfed me back <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="291280507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280507">(Jul 29 2022 at 03:41)</a>:</h4>
<p>Your proof shows every point <code>x</code> in the completion is the limit at the preferred Cauchy filter <code>comap coe (𝓝 x)</code>, which is interesting, as my proof shows that any Cauchy filter in the class of <code>x</code> has <code>x</code> as the limit.</p>



<a name="291280829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280829">(Jul 29 2022 at 03:49)</a>:</h4>
<p>I think the philosophy for such constructions which have a nice universal property is to forbid yourself to unfold the constructions, so somehow we don't want to make sense of "filters in the class of <code>x</code>"</p>



<a name="291280883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280883">(Jul 29 2022 at 03:50)</a>:</h4>
<p>But I agree that your approach feels natural</p>



<a name="291280993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291280993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291280993">(Jul 29 2022 at 03:53)</a>:</h4>
<p>I wonder if this result also has a short proof ...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">forall_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">uniform_space.completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">F</span> <span class="o">:</span> <span class="n">Cauchy</span> <span class="n">α</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">quotient.mk'</span> <span class="n">F</span> <span class="bp">→</span> <span class="n">F.1.tendsto</span> <span class="n">coe</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rintro</span> <span class="n">F</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">uniform_space.completion.coe_eq</span><span class="o">,</span>
  <span class="n">erw</span> <span class="bp">←</span> <span class="n">inducing.tendsto_nhds_iff</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">Cauchy_tendsto_nhds_self</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">uniform_inducing.inducing</span> <span class="o">⟨</span><span class="n">uniform_space.comap_quotient_eq_uniformity</span><span class="o">⟩</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="291281194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291281194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291281194">(Jul 29 2022 at 03:57)</a>:</h4>
<p>of course this only makes sense for <code>completion</code> not <a href="https://leanprover-community.github.io/mathlib_docs/find/abstract_completion">docs#abstract_completion</a> ...</p>



<a name="291281701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291281701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291281701">(Jul 29 2022 at 04:09)</a>:</h4>
<p>I don't see a more clever way than proving first </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Cauchy.tendsto_nhds_self</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">Cauchy</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">tendsto</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="n">Cauchy.pure_cauchy</span> <span class="n">x</span><span class="o">)</span> <span class="n">F.val</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>and then</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">forall_cauchy</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">uniform_space.completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">F</span> <span class="o">:</span> <span class="n">Cauchy</span> <span class="n">α</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">quotient.mk'</span> <span class="n">F</span> <span class="bp">→</span> <span class="n">F.1.tendsto</span> <span class="n">coe</span> <span class="o">(</span><span class="n">nhds</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rintro</span> <span class="n">F</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">continuous_quotient_mk.tendsto</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">comp</span> <span class="n">F.tendsto_nhds_self</span>
<span class="kd">end</span>
</code></pre></div>



<a name="291281763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291281763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291281763">(Jul 29 2022 at 04:10)</a>:</h4>
<p>And I don't think the first sorry can be solved without using filter bases and so on</p>



<a name="291283136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291283136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291283136">(Jul 29 2022 at 04:42)</a>:</h4>
<p>I also can't find the following lemma in mathlib; is there a simpler proof?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">separation_setoid_eq_inseparable_setoid</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">uniform_space.separation_setoid</span> <span class="n">α</span> <span class="bp">=</span> <span class="n">inseparable_setoid</span> <span class="n">α</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span><span class="o">,</span> <span class="n">change</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">separation_rel</span> <span class="n">α</span> <span class="bp">↔</span> <span class="n">inseparable</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">inseparable_iff_forall_open</span><span class="o">,</span>
  <span class="n">split</span><span class="bp">;</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span> <span class="k">suffices</span> <span class="o">:</span> <span class="n">_</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">split</span><span class="o">,</span> <span class="n">revert</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">exacts</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">this</span> <span class="n">_</span> <span class="n">_</span> <span class="bp">$</span> <span class="o">(</span><span class="n">uniform_space.separation_setoid</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">symm'</span> <span class="n">h</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">clear</span> <span class="n">h</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">exact</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span> <span class="n">ha</span><span class="o">,</span> <span class="n">h</span> <span class="n">_</span> <span class="o">(</span><span class="n">is_open_uniformity.1</span> <span class="n">hs</span> <span class="n">a</span> <span class="n">ha</span><span class="o">)</span> <span class="n">rfl</span> <span class="o">}</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">uniformity_has_basis_open.mem_separation_rel</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">(</span><span class="n">h</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">}</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span> <span class="o">(</span><span class="n">refl_mem_uniformity</span> <span class="n">hs.1</span><span class="o">),</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">continuous.prod.mk</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">is_open_preimage</span> <span class="n">_</span> <span class="n">hs.2</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="291305935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291305935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291305935">(Jul 29 2022 at 10:39)</a>:</h4>
<p>It's nice that you can train student and then send them do internship across the Atlantic so that they can answer questions for you when you sleep. I still tried to get to the bottom of this and found a couple of surprising holes (as usual). I suggest adding:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.uniform_space.completion</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">set</span>
<span class="n">open_locale</span> <span class="n">topological_space</span>

<span class="kd">lemma</span> <span class="n">function.surjective.comap_ne_bot_iff_ne_bot</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">function.surjective</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">comap</span> <span class="n">f</span> <span class="n">F</span><span class="o">)</span><span class="bp">.</span><span class="n">ne_bot</span> <span class="bp">↔</span> <span class="n">F.ne_bot</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">H</span><span class="o">,</span> <span class="o">(</span><span class="n">H</span> <span class="bp">▸</span> <span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">comap</span> <span class="n">f</span> <span class="bp">⊥</span><span class="o">)</span><span class="bp">.</span><span class="n">ne_bot</span><span class="o">)</span><span class="bp">.</span><span class="n">ne</span> <span class="n">comap_bot</span><span class="o">⟩,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">h.comap_of_surj</span> <span class="n">hf</span><span class="o">⟩</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">mem_closure_range_iff_comap</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">}</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">closure</span> <span class="o">(</span><span class="n">range</span> <span class="n">f</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="n">comap</span> <span class="n">f</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">ne_bot</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_closure_iff_comap_ne_bot</span><span class="o">],</span>
  <span class="n">conv_rhs</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">coe_comp_range_factorization</span> <span class="n">f</span><span class="o">,</span> <span class="bp">←</span> <span class="n">filter.comap_comap</span><span class="o">,</span>
                 <span class="n">surjective_onto_range.comap_ne_bot_iff_ne_bot</span><span class="o">]</span> <span class="o">}</span>
<span class="kd">end</span>

<span class="c1">-- Not used below but nice to have.</span>
<span class="kd">lemma</span> <span class="n">dense_range.comap_nhds_ne_bot</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">dense_range</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">comap</span> <span class="n">f</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">ne_bot</span> <span class="o">:=</span>
<span class="n">mem_closure_range_iff_comap.mp</span> <span class="o">(</span><span class="n">h</span> <span class="n">b</span><span class="o">)</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">α</span><span class="o">]</span>

<span class="kn">open</span> <span class="n">uniform_space</span>
<span class="n">open_locale</span> <span class="n">uniformity</span>

<span class="kd">lemma</span> <span class="n">exists_cauchy_tendsto</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">uniform_space</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">comap</span> <span class="o">(</span><span class="n">prod.map</span> <span class="n">f</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="bp">𝓤</span> <span class="n">β</span><span class="o">)</span> <span class="bp">≤</span> <span class="bp">𝓤</span> <span class="n">α</span><span class="o">)</span> <span class="o">{</span><span class="n">x</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">closure</span> <span class="o">(</span><span class="n">range</span> <span class="n">f</span><span class="o">))</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">tendsto</span> <span class="n">f</span> <span class="n">F</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">comap</span> <span class="n">f</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">),</span> <span class="n">cauchy_nhds.comap'</span> <span class="n">hf</span> <span class="o">(</span><span class="n">mem_closure_range_iff_comap.mp</span> <span class="n">hx</span><span class="o">),</span> <span class="n">tendsto_comap</span><span class="o">⟩</span>

<span class="kn">open</span> <span class="n">uniform_space.completion</span>

<span class="kd">lemma</span> <span class="n">uniform_space.completion.exists_cauchy_tendsto</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">completion</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">,</span> <span class="n">cauchy</span> <span class="n">F</span> <span class="bp">∧</span> <span class="n">tendsto</span> <span class="n">coe</span> <span class="n">F</span> <span class="o">(</span><span class="bp">𝓝</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">exists_cauchy_tendsto</span> <span class="o">(</span><span class="n">uniform_inducing_coe</span> <span class="n">α</span><span class="o">)</span><span class="bp">.</span><span class="n">comap_uniformity.le</span> <span class="o">(</span><span class="n">dense_range_coe</span> <span class="n">x</span><span class="o">)</span>
</code></pre></div>



<a name="291332218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291332218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291332218">(Jul 29 2022 at 14:17)</a>:</h4>
<p>(deleted)</p>



<a name="291406230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Elements%20of%20completion%20as%20limits/near/291406230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Elements.20of.20completion.20as.20limits.html#291406230">(Jul 30 2022 at 04:28)</a>:</h4>
<p>So I was able to prove a characterization of the backward map from <code>completion α</code> to <code>Cauchy α</code> constructed by Anatole. The code is at <a href="https://gist.github.com/alreadydone/9fcfb78af6cd48bdedf3220a598b8321">https://gist.github.com/alreadydone/9fcfb78af6cd48bdedf3220a598b8321</a>, where the map is called <code>preferred_cauchy</code>. It turns out it's a right inverse to the "separation quotient" map that produces <code>completion α</code> from <code>Cauchy α</code>. Moreover, it sends a point <code>x</code> in the completion to the unique maximal Cauchy filter <code>F</code> that tends to <code>x</code> under <code>α → completion α</code>; as it turns out, <code>F</code> tends to <code>x</code> iff it maps to <code>x</code> under the quotient map. This was rather mysterious to me, as points in <code>Cauchy α</code> that maps to the same point in <code>completion α</code> are by definition topologically indistinguishable, but it makes sense when you think about <code>Cauchy α</code> as filters on the original space <code>α</code> instead of a space by itself, so everything still makes sense when considering <code>abstract_completion</code>, which doesn't mention an intermediate space.</p>
<p>To understand this better I worked out an example: consider the uniformity ⊤ = {univ} on the two point set α = {0, 1}, which induces the trivial topology; every ne_bot filter on this space is Cauchy, and there are three of them: ⊤={univ}, 𝓟 {0}, and 𝓟 {1}. Of course the map <code>α → completion α</code> sends x to 𝓟 {x}, while ⊤ is not in the image. The separation quotient consists of exactly one point, and <code>preferred_cauchy</code> maps it to ⊤.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>