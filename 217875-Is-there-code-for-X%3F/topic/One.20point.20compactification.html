---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html">One point compactification</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="247797249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/247797249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yourong Zang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#247797249">(Jul 31 2021 at 10:21)</a>:</h4>
<p>The canonical topology of <code>roption</code> is very unclear to me. It seems that the topology can be constructed by either inducing on some map with specific preimages or with filters of complements of compact + closed sets. But I couldn't really find the names/definitions of these filters or maps in Zulip or mathlib. I apologize if this is a stupid question. Any help will be appreciated.</p>



<a name="248412285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248412285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248412285">(Aug 04 2021 at 21:37)</a>:</h4>
<p>I see no instances for <code>topological_space (roption X)</code> or <code>topological_space (option X)</code> in <code>mathlib</code>. Do you want to define it as the one point compactification or you see this definition somewhere and can't understand it?</p>



<a name="248412577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248412577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248412577">(Aug 04 2021 at 21:40)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.cocompact">docs#filter.cocompact</a>. Will it help you?</p>



<a name="248481010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248481010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yourong Zang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248481010">(Aug 05 2021 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/One.20point.20compactification/near/248412285">said</a>:</p>
<blockquote>
<p>I see no instances for <code>topological_space (roption X)</code> or <code>topological_space (option X)</code> in <code>mathlib</code>. Do you want to define it as the one point compactification or you see this definition somewhere and can't understand it?</p>
</blockquote>
<p>Thank you for the information! I saw <a href="#narrow/stream/116395-maths/topic/topological.20space.20from.20filter">this</a> thread and <a href="#narrow/stream/116395-maths/topic/topology.20on.20roption">this one</a>, but I've never seen an actual instance in the forms mentioned in those posts. It seems that people agree that the construction in the first post is not done in the correct generality.</p>
<p>I want to define the one-point compactification as a topological structure on <code>roption</code> rather than a quotient of <code>sum X X</code>.</p>
<blockquote>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.cocompact">docs#filter.cocompact</a>. Will it help you?</p>
</blockquote>
<p>I'm sure this would do the job for the compactification of <code>roption</code> on a Hausdorff space. Thanks a lot!</p>



<a name="248481473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248481473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248481473">(Aug 05 2021 at 14:05)</a>:</h4>
<p>Are you sure you want use <code>roption</code> and not <code>option</code>? <code>roption</code> is intended for computability results and mostly necessary to get around decidability issues.</p>



<a name="248482231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248482231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248482231">(Aug 05 2021 at 14:10)</a>:</h4>
<p>I've seen comments that say "roption and option have a different topology", but don't have the background to understand what is meant by that.</p>



<a name="248482719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248482719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248482719">(Aug 05 2021 at 14:14)</a>:</h4>
<p>Oh, are people using them as type synonyms or something?</p>



<a name="248483642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248483642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yourong Zang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248483642">(Aug 05 2021 at 14:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/One.20point.20compactification/near/248482231">said</a>:</p>
<blockquote>
<p>I've seen comments that say "roption and option have a different topology", but don't have the background to understand what is meant by that.</p>
</blockquote>
<p>I also saw a similar comment. <a href="#narrow/stream/113489-new-members/topic/discrete_topology/near/218941998">This one</a></p>



<a name="248484332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yourong Zang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484332">(Aug 05 2021 at 14:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/One.20point.20compactification/near/248481473">said</a>:</p>
<blockquote>
<p>Are you sure you want use <code>roption</code> and not <code>option</code>? <code>roption</code> is intended for computability results and mostly necessary to get around decidability issues.</p>
</blockquote>
<p>I can use <code>option</code> if there is no huge difference in the topological construction :).</p>



<a name="248484490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484490">(Aug 05 2021 at 14:26)</a>:</h4>
<p>They "morally" have a topology based on their intuitionistic structure, but the topology is not literally implemented as an instance of <code>topological_space</code> in mathlib because these types are usually too generic to be used directly for their topologies. The topologies in question are:</p>
<ul>
<li><code>option A</code> has the disjoint sum topology, the same as <code>A + 1</code>: sets in <code>A</code> are open and <code>{none}</code> is also open.</li>
<li><code>roption A</code> has the one point compactification topology: sets in <code>A</code> are open and sets containing <code>none</code> and also cocompact are also open.</li>
</ul>



<a name="248484495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484495">(Aug 05 2021 at 14:26)</a>:</h4>
<p>I would strongly recommend <code>option</code>. It's much easier to use.</p>



<a name="248484557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484557">(Aug 05 2021 at 14:27)</a>:</h4>
<p>The "topology" which people are talking about is something to do with constructive mathematics and you can imagine it as unrelated to the topology questions you're thinking about.</p>



<a name="248484661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484661">(Aug 05 2021 at 14:28)</a>:</h4>
<p>If you want these types for their topologies, I recommend adding a type synonym that implements the topology. In practice I think you would want to use <code>option A</code> as the base type for both topologies anyway</p>



<a name="248484675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484675">(Aug 05 2021 at 14:28)</a>:</h4>
<p>e.g. when Mario says "<code>roption A</code> has the one point compactification topology" he doesn't actually mean "if A has a topology then roption A will get one too and it will be the one point compactification", he is just explaining the way constructivists think topologically about things.</p>



<a name="248484729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484729">(Aug 05 2021 at 14:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/One.20point.20compactification/near/248484490">said</a>:</p>
<blockquote>
<ul>
<li><code>option A</code> has the disjoint sum topology, the same as <code>A + 1</code>: sets in <code>A</code> are open and <code>{none}</code> is also open.</li>
<li><code>roption A</code> has the one point compactification topology: sets in <code>A</code> are open and sets containing <code>none</code> and also cocompact are also open.</li>
</ul>
</blockquote>
<p>This feels like a type job's synonym.</p>



<a name="248484747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484747">(Aug 05 2021 at 14:28)</a>:</h4>
<p>*A type synonym's job!</p>



<a name="248484820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484820">(Aug 05 2021 at 14:29)</a>:</h4>
<p>I assume the moral claim is something like "if you swap the topologies around you'd need <code>choice</code> to define at leats one of them"?</p>



<a name="248484943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248484943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248484943">(Aug 05 2021 at 14:30)</a>:</h4>
<p>it's actually somewhat hard to write the moral claim formally, because constructivist's "continuous" means "definable without <code>choice</code>"</p>



<a name="248485019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485019">(Aug 05 2021 at 14:30)</a>:</h4>
<p>so the literal implementations using <code>topological_space</code> don't and can't capture this</p>



<a name="248485148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485148">(Aug 05 2021 at 14:31)</a>:</h4>
<p>it's similar to the distinction between computable functions meaning things without <code>noncomputable</code> marker in lean, vs computable meaning having a proof of <code>computable f</code> using the computability library</p>



<a name="248485167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485167">(Aug 05 2021 at 14:31)</a>:</h4>
<p>In particular Yourong, as a classical mathematician you have no interest in the statements that Mario and Eric are making about "topology" -- all they are doing is confusing the issue.</p>



<a name="248485300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485300">(Aug 05 2021 at 14:32)</a>:</h4>
<p>If you want the one point compactification, just define it using <code>filter.cocompact</code> and pretend you never saw <code>roption</code> :)</p>



<a name="248485543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485543">(Aug 05 2021 at 14:34)</a>:</h4>
<p>I agree we should have type synonyms for this</p>



<a name="248485673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248485673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248485673">(Aug 05 2021 at 14:35)</a>:</h4>
<p>I think there is a reasonable argument for giving <code>option A</code> itself the disjoint sum topology (rather than a type synonym), since I think <code>sum A B</code> also has a topology</p>



<a name="248486301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248486301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248486301">(Aug 05 2021 at 14:39)</a>:</h4>
<p>Right, so <code>def one_point_compactification (X : Type*) [topological_space X] := option X</code> should be fine, and then put a topology on it.</p>



<a name="248486940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/One%20point%20compactification/near/248486940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yourong Zang <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/One.20point.20compactification.html#248486940">(Aug 05 2021 at 14:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/One.20point.20compactification/near/248486301">said</a>:</p>
<blockquote>
<p>Right, so <code>def one_point_compactification (X : Type*) [topological_space X] := option X</code> should be fine, and then put a topology on it.</p>
</blockquote>
<p>Great! Thank you for the comments.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>