---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html">Power series</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265759760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265759760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265759760">(Dec 22 2021 at 02:38)</a>:</h4>
<p>In my outline for Gelfand's formula, I need to prove that the coefficients of two power series are equal because they represent the same function on a ball of positive radius. I don't think we already know this. So I went to prove it, but I think we don't know the formula for the derivative of a power series yet either. My method for showing this would be to use the lemma that if a convergent sequence of differentiable functions has derivatives which converge (locally) uniformly then their limit is the derivative of the limit of the original sequence. I think this is not in mathlib either. Does this all seem accurate, or am I missing pieces of the library again?</p>



<a name="265761579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265761579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265761579">(Dec 22 2021 at 03:12)</a>:</h4>
<p>Sorry if I'm pointing to bad info, I don't know this part of the library:</p>
<p>the derivative of a power series seems to be <a href="https://leanprover-community.github.io/mathlib_docs/analysis/calculus/fderiv_analytic.html">here</a>.</p>



<a name="265761853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265761853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265761853">(Dec 22 2021 at 03:18)</a>:</h4>
<p>I think that <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> will tell us the right generality of this statement. Basically, if you prove by induction, then due to <a href="https://leanprover-community.github.io/mathlib_docs/find/has_fpower_series_at.is_O_sub_partial_sum_pow">docs#has_fpower_series_at.is_O_sub_partial_sum_pow</a> you only need to show that two <code>k</code>-linear <code>continuous_multilinear_map</code>s are equal (in the sense of some natural equivalence) if their difference is <code>O(z^(k+1))</code>.</p>



<a name="265761863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265761863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265761863">(Dec 22 2021 at 03:18)</a>:</h4>
<p>Do you work in dimension one?</p>



<a name="265762161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762161">(Dec 22 2021 at 03:25)</a>:</h4>
<p>Yes, just dimension 1. Doesn't <a href="https://leanprover-community.github.io/mathlib_docs/find/has_fpower_series_at.has_strict_deriv_at">docs#has_fpower_series_at.has_strict_deriv_at</a> just say that the derivative at the the center of the ball is the second coefficient of the power series. It's not saying that the derivative has a power series representation, right?</p>



<a name="265762207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762207">(Dec 22 2021 at 03:26)</a>:</h4>
<p>Right.</p>



<a name="265762228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762228">(Dec 22 2021 at 03:27)</a>:</h4>
<p>I was going to add this but the formula in the higher dimensional case is not trivial (AFAIR, I may be wrong).</p>



<a name="265762237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762237">(Dec 22 2021 at 03:27)</a>:</h4>
<p>I can look into this again next week-end.</p>



<a name="265762379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762379">(Dec 22 2021 at 03:30)</a>:</h4>
<p>But you can prove equality of power series coefficients directly using <a href="https://leanprover-community.github.io/mathlib_docs/find/has_fpower_series_at.is_O_sub_partial_sum_pow">docs#has_fpower_series_at.is_O_sub_partial_sum_pow</a>.</p>



<a name="265762404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762404">(Dec 22 2021 at 03:31)</a>:</h4>
<p>Let <code>p</code> and <code>q</code> be two formal power series that represent the same function. Let <code>n</code> be the first index such that <code>p n ≠ q n</code> (e.g., you can prove <code>∀ n, p n = q n</code> by strong induction on <code>n</code> or use <code>nat.find</code>).</p>



<a name="265762422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762422">(Dec 22 2021 at 03:31)</a>:</h4>
<p>I see. That makes sense.</p>



<a name="265762475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762475">(Dec 22 2021 at 03:32)</a>:</h4>
<p>Then we have <code>p.partial_sum p (n + 1) y - p.partial_sum q (n + 1) y = O(y ^ (n + 1))</code></p>



<a name="265762546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762546">(Dec 22 2021 at 03:34)</a>:</h4>
<p>Since <code>p k = q k</code> for <code>k &lt; n</code>, LHS = <code>p n (λ _, y) - q n (λ _, y)</code>.</p>



<a name="265762904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265762904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265762904">(Dec 22 2021 at 03:42)</a>:</h4>
<p>yes, this is clear to me.</p>



<a name="265763051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265763051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265763051">(Dec 22 2021 at 03:45)</a>:</h4>
<p>Do you deal with a general formal power series, of <code>p</code> is constructed using <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_multilinear_map.mk_pi_field">docs#continuous_multilinear_map.mk_pi_field</a>?</p>



<a name="265763126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265763126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265763126">(Dec 22 2021 at 03:46)</a>:</h4>
<p>In the latter case, you can say that <code>p n (λ _, y) = a * y ^ n</code> and <code>q n (λ _, y) = b * y ^ n</code>, so you have <code>(a - b) * y ^ n = O(y ^ (n + 1))</code> which is possible only for <code>a - b = 0</code>.</p>



<a name="265945630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265945630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265945630">(Dec 23 2021 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>  Just got back to looking at this, it seems that <a href="https://leanprover-community.github.io/mathlib_docs/find/has_fpower_series_at.is_O_sub_partial_sum_pow">docs#has_fpower_series_at.is_O_sub_partial_sum_pow</a> should have a stronger conclusion, namely: <code>^ (n + 1)</code> instead of <code>^ n</code>, right? Otherwise, I can't even use this to prove that the constant term of <code>p</code> is <code>f x</code>.</p>



<a name="265946281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265946281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265946281">(Dec 23 2021 at 19:32)</a>:</h4>
<p><code>ppartial_sum n</code> is the sum over <code>k=0..n-1</code></p>



<a name="265946684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265946684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265946684">(Dec 23 2021 at 19:37)</a>:</h4>
<p>ah, I see, so <code>p.partial_sum 0</code> is what, defeq 0?</p>



<a name="265947014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265947014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265947014">(Dec 23 2021 at 19:38)</a>:</h4>
<p>I guess because it's a the sum over an empty <code>finset</code></p>



<a name="265947944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Power%20series/near/265947944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Power.20series.html#265947944">(Dec 23 2021 at 19:49)</a>:</h4>
<p>Yes.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>