---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html">Continuity on basic opens</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="253880711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253880711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Justus Springer <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253880711">(Sep 18 2021 at 17:01)</a>:</h4>
<p>I find it hard to believe that we don't have the following lemma:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.bases</span>

<span class="kn">open</span> <span class="n">topological_space</span>

<span class="kd">lemma</span> <span class="n">continuous_of_basis_preimage_open</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">β</span><span class="o">))</span> <span class="o">(</span><span class="n">hB</span> <span class="o">:</span> <span class="n">is_topological_basis</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">s</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span> <span class="n">is_open</span> <span class="n">s</span> <span class="bp">→</span> <span class="n">is_open</span> <span class="o">(</span><span class="n">f</span> <span class="bp">⁻¹'</span> <span class="n">s</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">continuous</span> <span class="n">f</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_open_preimage</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">ι</span><span class="o">,</span> <span class="n">U</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hU</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hB.open_eq_Union</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">set.preimage_Union</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">is_open_Union</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">hf</span> <span class="o">(</span><span class="n">U</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">hU</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">hB.is_open</span> <span class="o">(</span><span class="n">hU</span> <span class="n">i</span><span class="o">)),</span>
<span class="kd">end</span> <span class="o">}</span>
</code></pre></div>
<p>Am I just not seeing it?</p>



<a name="253887881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253887881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253887881">(Sep 18 2021 at 19:15)</a>:</h4>
<p>I wouldn't be surprised if it's not there... the API for topological bases needs some attention.</p>



<a name="253889973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253889973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253889973">(Sep 18 2021 at 19:54)</a>:</h4>
<p>Indeed this thing is defined and not used much. However your statement is needlessly complicated. In assumption <code>hf</code>, the openness condition is automatic:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">topology.bases</span>

<span class="kn">open</span> <span class="n">topological_space</span>

<span class="kd">lemma</span> <span class="n">continuous_of_basis_preimage_open</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">β</span><span class="o">))</span> <span class="o">(</span><span class="n">hB</span> <span class="o">:</span> <span class="n">is_topological_basis</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">s</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span> <span class="n">is_open</span> <span class="o">(</span><span class="n">f</span> <span class="bp">⁻¹'</span> <span class="n">s</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">continuous</span> <span class="n">f</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">is_open_preimage</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">s</span> <span class="n">hs</span><span class="o">,</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">ι</span><span class="o">,</span> <span class="n">U</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span> <span class="n">hU</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">hB.open_eq_Union</span> <span class="n">hs</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">set.preimage_Union</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">is_open_Union</span><span class="o">,</span>
  <span class="n">exact</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">hf</span> <span class="o">(</span><span class="n">U</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">hU</span> <span class="n">i</span><span class="o">),</span>
<span class="kd">end</span> <span class="o">}</span>
</code></pre></div>



<a name="253890062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253890062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253890062">(Sep 18 2021 at 19:56)</a>:</h4>
<p>Note that if you want to develop this you should probably try to tie it to our extensive filter library. The reason why this subarea of our topology library is underdeveloped is because the notion of filter bases is so much more useful.</p>



<a name="253890105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253890105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253890105">(Sep 18 2021 at 19:57)</a>:</h4>
<p>Another option is to rewrite on <a href="https://leanprover-community.github.io/mathlib_docs/find/topological_space.is_topological_basis.eq_generate_from">docs#topological_space.is_topological_basis.eq_generate_from</a> (available as <code>B.eq_generate_from</code>), then apply <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_generated_from">docs#continuous_generated_from</a></p>



<a name="253952319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253952319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Justus Springer <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253952319">(Sep 19 2021 at 15:28)</a>:</h4>
<p>Thanks for your comments! With Yury's proof it gets very trivial. Do you think it would still be worth it having this lemma?</p>



<a name="253952442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253952442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Justus Springer <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253952442">(Sep 19 2021 at 15:30)</a>:</h4>
<p>I PR'd it: <a href="https://github.com/leanprover-community/mathlib/issues/9281">#9281</a></p>



<a name="253952454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/253952454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Justus Springer <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#253952454">(Sep 19 2021 at 15:31)</a>:</h4>
<p>But I can close it again if you think it's not worth it.</p>



<a name="254134910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Continuity%20on%20basic%20opens/near/254134910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Continuity.20on.20basic.20opens.html#254134910">(Sep 20 2021 at 23:33)</a>:</h4>
<p>We have lots of short and simple convenience lemmas. This one will be a nice addition to the list.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>