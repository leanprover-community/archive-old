---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html">monomial (n a) = a*X^n</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214075914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214075914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214075914">(Oct 21 2020 at 16:22)</a>:</h4>
<p>I see that there is a lemma <code>lemma X_pow_eq_monomial</code> to the effect that <code>monomial (n 1) = X^n</code>. Its proof is not entirely trivial, because <code>monomial (n 1)</code> is defined as a function from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi></mrow><annotation encoding="application/x-tex">\mathbb{N}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span></span> to the coefficient ring <code>R</code>. Since I need that <code>monomial (n a)=a*X^n</code> for every <code>a  : R</code> I am wondering if this is an immediate consequence of the previous result or if at any rate a "true" proof is required, in which case I wonder if it wouldn't be better to generalize <code>lemma X_pow_eq_monomial</code> to take coefficients into account.</p>



<a name="214076398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076398">(Oct 21 2020 at 16:25)</a>:</h4>
<p>The other one is also there.</p>



<a name="214076464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076464">(Oct 21 2020 at 16:26)</a>:</h4>
<p>Maybe <code>monomial_eq_mul_X_pow</code> or something like that?</p>



<a name="214076504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076504">(Oct 21 2020 at 16:26)</a>:</h4>
<p>If you write the statement and try to prove it by <code>library_search</code>, does it work?</p>



<a name="214076545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076545">(Oct 21 2020 at 16:26)</a>:</h4>
<p>No, I tried but it did not.</p>



<a name="214076648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076648">(Oct 21 2020 at 16:27)</a>:</h4>
<p>AH! found it.</p>



<a name="214076715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076715">(Oct 21 2020 at 16:27)</a>:</h4>
<p>But then I found another problem. THe above lemma appears twice, both in <code>monomial.lean</code> and in <code>polynomial.basic.lean</code></p>



<a name="214076738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076738">(Oct 21 2020 at 16:28)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git grep <span class="s2">"X.*=.*monomi"</span>
src/data/mv_polynomial/basic.lean:def X <span class="o">(</span>n : σ<span class="o">)</span> : mv_polynomial σ R :<span class="o">=</span> monomial <span class="o">(</span>single n <span class="m">1</span><span class="o">)</span> <span class="m">1</span>
src/data/mv_polynomial/basic.lean:lemma X_pow_eq_single : X n ^ <span class="nv">e</span> <span class="o">=</span> monomial <span class="o">(</span>single n e<span class="o">)</span> <span class="o">(</span><span class="m">1</span> : R<span class="o">)</span> :<span class="o">=</span>
src/data/mv_polynomial/basic.lean:    from calc <span class="o">(</span>p * X n * monomial s a<span class="o">)</span>.eval₂ f <span class="nv">g</span> <span class="o">=</span> <span class="o">(</span>p * monomial <span class="o">(</span>single n <span class="m">1</span> + s<span class="o">)</span> a<span class="o">)</span>.eval₂ f g :
src/data/polynomial/basic.lean:def X : polynomial R :<span class="o">=</span> monomial <span class="m">1</span> <span class="m">1</span>
src/data/polynomial/basic.lean:@<span class="o">[</span>simp<span class="o">]</span> lemma coeff_X_one : coeff <span class="o">(</span>X : polynomial R<span class="o">)</span> <span class="nv">1</span> <span class="o">=</span> <span class="m">1</span> :<span class="o">=</span> coeff_monomial
src/data/polynomial/basic.lean:@<span class="o">[</span>simp<span class="o">]</span> lemma coeff_X_zero : coeff <span class="o">(</span>X : polynomial R<span class="o">)</span> <span class="nv">0</span> <span class="o">=</span> <span class="m">0</span> :<span class="o">=</span> coeff_monomial
src/data/polynomial/basic.lean:lemma coeff_X : coeff <span class="o">(</span>X : polynomial R<span class="o">)</span> <span class="nv">n</span> <span class="o">=</span> <span class="k">if</span> <span class="nv">1</span> <span class="o">=</span> n <span class="k">then</span> <span class="m">1</span> <span class="k">else</span> <span class="m">0</span> :<span class="o">=</span> coeff_monomial
src/data/polynomial/basic.lean:lemma monomial_eq_X_pow <span class="o">(</span>n<span class="o">)</span> : X^n <span class="o">=</span> monomial n <span class="o">(</span><span class="m">1</span>:R<span class="o">)</span> :<span class="o">=</span>
src/data/polynomial/coeff.lean:lemma C_mul_X_pow_eq_monomial <span class="o">(</span>c : R<span class="o">)</span> <span class="o">(</span>n : ℕ<span class="o">)</span> : C c * X^n <span class="o">=</span> monomial n c :<span class="o">=</span>
src/ring_theory/power_series.lean:def X <span class="o">(</span>s : σ<span class="o">)</span> : mv_power_series σ R :<span class="o">=</span> monomial R <span class="o">(</span>single s <span class="m">1</span><span class="o">)</span> <span class="m">1</span>
src/ring_theory/power_series.lean:lemma X_def <span class="o">(</span>s : σ<span class="o">)</span> : X <span class="nv">s</span> <span class="o">=</span> monomial R <span class="o">(</span>single s <span class="m">1</span><span class="o">)</span> <span class="m">1</span> :<span class="o">=</span> rfl
src/ring_theory/power_series.lean:  <span class="o">(</span>X s : mv_power_series σ R<span class="o">)</span>^n <span class="o">=</span> monomial R <span class="o">(</span>single s n<span class="o">)</span> <span class="m">1</span> :<span class="o">=</span>
src/ring_theory/power_series.lean:lemma X_eq : <span class="o">(</span>X : power_series R<span class="o">)</span> <span class="o">=</span> monomial R <span class="m">1</span> <span class="m">1</span> :<span class="o">=</span> rfl
src/ring_theory/power_series.lean:lemma X_pow_eq <span class="o">(</span>n : ℕ<span class="o">)</span> : <span class="o">(</span>X : power_series R<span class="o">)</span>^n <span class="o">=</span> monomial R n <span class="m">1</span> :<span class="o">=</span>
</code></pre></div>



<a name="214076798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076798">(Oct 21 2020 at 16:28)</a>:</h4>
<p>It's somewhere halfway that list</p>



<a name="214076875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214076875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214076875">(Oct 21 2020 at 16:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/monomial.20(n.20a).20.3D.20a*X.5En/near/214076715">said</a>:</p>
<blockquote>
<p>But then I found another problem. THe above lemma appears twice, both in <code>monomial.lean</code> and in <code>polynomial.basic.lean</code></p>
</blockquote>
<p>Then you can write a PR that deduplicates mathlib (-;</p>



<a name="214131835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214131835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214131835">(Oct 22 2020 at 00:34)</a>:</h4>
<p>Maybe one day the linter will catch this...</p>



<a name="214155021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155021">(Oct 22 2020 at 08:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/monomial.20(n.20a).20.3D.20a*X.5En/near/214076875">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/monomial.20(n.20a).20.3D.20a*X.5En/near/214076715">said</a>:</p>
<blockquote>
<p>But then I found another problem. THe above lemma appears twice, both in <code>monomial.lean</code> and in <code>polynomial.basic.lean</code></p>
</blockquote>
<p>Then you can write a PR that deduplicates mathlib (-;</p>
</blockquote>
<p>I am quite embarrassed to say this, but since this would be my first PR, I'd need a bit of help. I've tried to follow the tuto on how to submit a PR, but I get stuck when I need to "choose the branch that contains your commits."</p>



<a name="214155073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155073">(Oct 22 2020 at 08:03)</a>:</h4>
<p>Well, where did you make the changes you want to submit as a PR?</p>



<a name="214155185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155185">(Oct 22 2020 at 08:04)</a>:</h4>
<p>The general procedure is to check out mathlib master, create a new branch, make your changes, commit the changes, push the branch, and make a PR (github will helpfully tell you that you have recently pushed changes and help with making the PR)</p>



<a name="214155218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155218">(Oct 22 2020 at 08:04)</a>:</h4>
<p>Haven't done them yet (only have them in mind). Are you saying that I need to modify the file while being on <code>master</code> on my PC and then commit?</p>



<a name="214155239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155239">(Oct 22 2020 at 08:04)</a>:</h4>
<p>you should <code>git checkout -b my_branch</code> while on master</p>



<a name="214155275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155275">(Oct 22 2020 at 08:05)</a>:</h4>
<p>and then make the changes and push them using <code>git push -u origin my_branch</code></p>



<a name="214155294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155294">(Oct 22 2020 at 08:05)</a>:</h4>
<p>OKOK; I have never created <code>my_branch</code> (I normally work on a different branch, by <span class="user-mention" data-user-id="238446">@Anne Baanen</span> )</p>



<a name="214155380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155380">(Oct 22 2020 at 08:06)</a>:</h4>
<p>if you create the branch starting from another branch, then your branch and PR will include all the changes in that branch, which is probably not what you want</p>



<a name="214155494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155494">(Oct 22 2020 at 08:07)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> If you would like to be talked through your first PR in a video call, I have some time now</p>



<a name="214155583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214155583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214155583">(Oct 22 2020 at 08:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/monomial.20(n.20a).20.3D.20a*X.5En/near/214155494">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> If you would like to be talked through your first PR in a video call, I have some time now</p>
</blockquote>
<p>THanks so much! In 3 minutes?</p>



<a name="214157580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/monomial%20%28n%20a%29%20%3D%20a%2AX%5En/near/214157580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/monomial.20(n.20a).20.3D.20a*X.5En.html#214157580">(Oct 22 2020 at 08:33)</a>:</h4>
<p>Done (with Johan's help): <a href="https://github.com/leanprover-community/mathlib/issues/4734">#4734</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>