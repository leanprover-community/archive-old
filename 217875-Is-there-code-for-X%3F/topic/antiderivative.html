---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html">antiderivative</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265564062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265564062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265564062">(Dec 20 2021 at 13:44)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets">https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets</a> claims we already have antiderivatives. Which declaration should we link to? I've never used this part of mathlib myself.</p>



<a name="265615303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615303">(Dec 20 2021 at 21:00)</a>:</h4>
<p>We have theorems about <code>λ b, ∫ x in a..b, f x</code></p>



<a name="265615387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615387">(Dec 20 2021 at 21:01)</a>:</h4>
<p>We don't define "antiderivative"; we use <code>has_deriv(_within)_at</code> instead.</p>



<a name="265615563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615563">(Dec 20 2021 at 21:03)</a>:</h4>
<p>One can define <code>def is_antideriv_on (f f' : real → E) (s : set real) := ∀ x ∈ s, has_deriv_at (f x) (f' x)</code> but many theorems (e.g., FTC-*) have versions with weaker assumptions.</p>



<a name="265615725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615725">(Dec 20 2021 at 21:04)</a>:</h4>
<p>Possibly, we should indeed create a file somewhere in <code>src</code> with definitions from standard university course that should never be used in mathlib (unless we decide otherwise) and explanations about the mathlib way to say the same.</p>



<a name="265615771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615771">(Dec 20 2021 at 21:05)</a>:</h4>
<p>Or put it outside of <code>src</code> but generate docs for this file.</p>



<a name="265615967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265615967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265615967">(Dec 20 2021 at 21:07)</a>:</h4>
<p>Yes, I think we can have declaration that are used as targets from this list. They would still give entry points.</p>



<a name="265616182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/265616182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#265616182">(Dec 20 2021 at 21:09)</a>:</h4>
<p>Would it be bad to just link to <code>has_deriv_at</code>?</p>



<a name="267048895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267048895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267048895">(Jan 06 2022 at 11:06)</a>:</h4>
<p>I'm sorry to bump a two-week-old topic, but if I may, <br>
...how is formal integration a trivial undergrad todo target at all?<br>
I'm talking about <a href="https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets">https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets</a>...</p>
<p>It's been only 50 years since Risch's proof that the problem can be approached algorithmically, and we still don't have a complete implementation of what he's outlined in his 70's works. </p>
<p>Only pure transcendental case of Risch's algorithm is more or less widely known and received several major implementations. The further we stray away from it into the arcane world of algebraic differential field extensions, the worse the modern CASes perform.</p>
<p>Stating that f is the antiderivative for g is somewhat trivial, checking it less so, but usually doable if we choose the right differential field extension tower to work with; checking if a function has an antiderivative in given field or its liouvillian extension is by no means a trivial task...</p>



<a name="267049788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267049788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267049788">(Jan 06 2022 at 11:19)</a>:</h4>
<p>The undergraduate TODO list is based on the French curriculum <a href="https://media.devenirenseignant.gouv.fr/file/agreg_externe/59/7/p2020_agreg_ext_maths_1107597.pdf">https://media.devenirenseignant.gouv.fr/file/agreg_externe/59/7/p2020_agreg_ext_maths_1107597.pdf</a>, so all points on the list should be interpreted as having the same level of material in Lean that is taught in one of these undergraduate classes in a mathematics bachelors degree. I don't know to many that teach Risch's algorithm and certainly none give the full details so thats out of scope for this TODO. Instead the TODO is about simpler integrals and the theory behind them</p>



<a name="267049841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267049841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267049841">(Jan 06 2022 at 11:19)</a>:</h4>
<p>so not the algorithm, but a common bunch of recipes?</p>



<a name="267049969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267049969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267049969">(Jan 06 2022 at 11:20)</a>:</h4>
<p>like just what they usually give to first year students, not necessarily math majors?</p>



<a name="267049975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267049975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267049975">(Jan 06 2022 at 11:20)</a>:</h4>
<p>and we already have some nice examples in <a href="https://github.com/leanprover-community/mathlib/blob/master/test/integration.lean">https://github.com/leanprover-community/mathlib/blob/master/test/integration.lean</a> and <a href="https://github.com/leanprover-community/mathlib/blob/master/test/differentiable.lean">https://github.com/leanprover-community/mathlib/blob/master/test/differentiable.lean</a></p>



<a name="267050039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267050039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267050039">(Jan 06 2022 at 11:21)</a>:</h4>
<p>The list is based on a full bachelor degree, so the whole list is about what the equivalent of math majors should know, but some material is taught in the first year</p>



<a name="267050337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267050337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267050337">(Jan 06 2022 at 11:24)</a>:</h4>
<p>I see. Risch's algo uses way more. Can hardly imagine an undergrad approaching it. Also takes knowledge from several distinct fields of maths.</p>
<p>So the goal is to have a framework such that we can verify that F is indeed the antiderivative for f, <br>
given both F and f?</p>
<p>(in France they say primitive function I think?)</p>



<a name="267050658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267050658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267050658">(Jan 06 2022 at 11:29)</a>:</h4>
<p>Also while we're at it, you linked the first file <code>integration.lean</code>.</p>
<p>The following section</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"> inverse -/</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="k">in</span> <span class="mi">2</span><span class="bp">..</span><span class="mi">3</span><span class="o">,</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">log</span> <span class="o">(</span><span class="mi">3</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
</code></pre></div>
<p>should be renamed to <code>reciprocal</code> I believe. The inverse of sin(x) is arcsin(x), not 1/sin(x) :)</p>



<a name="267050779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267050779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267050779">(Jan 06 2022 at 11:30)</a>:</h4>
<p>I remember they said in lean faq that they don't like pullrequests, so perhaps that should be done by someone who holds the authority :)</p>



<a name="267051107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051107">(Jan 06 2022 at 11:34)</a>:</h4>
<p>Well this is in mathlib! Not the core of Lean, we love pull requests and merge 10-20 a day <a href="https://github.com/leanprover-community/mathlib/pulls">https://github.com/leanprover-community/mathlib/pulls</a>. That said, the name for the function <code>⁻¹ </code> is <code>inv</code> in lean so I don't think its so bad to call that section inverse</p>



<a name="267051335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051335">(Jan 06 2022 at 11:37)</a>:</h4>
<p>I trust there was reason for calling it that. Just saying that it will be confusing to people outside Lean.<br>
Mathematicians call 1/f the reciprocal, to specifically distinguish the two notions of inverse.<br>
Moreover, it's a common translation mistake when the original text was in one of the languages where there is no distinct term for reciprocals.</p>



<a name="267051449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051449">(Jan 06 2022 at 11:39)</a>:</h4>
<p>I'm not sure if I should make a pull request over such a little detail. Would probably look like nitpicking. But have to say that that particular misuse of the term irritates a bit :)</p>



<a name="267051698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051698">(Jan 06 2022 at 11:43)</a>:</h4>
<p>I wonder how far is mathlib currently from proving <a href="https://en.wikipedia.org/wiki/Liouville%27s_theorem_(differential_algebra)">Liouville's Theorem</a></p>



<a name="267051823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051823">(Jan 06 2022 at 11:45)</a>:</h4>
<p>I suspect that it's in scope but as far as I know nobody is working on it. Is it done in any of the other provers e.g. Coq?</p>



<a name="267051930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051930">(Jan 06 2022 at 11:46)</a>:</h4>
<p><span class="user-mention" data-user-id="468969">@Alex</span> If you want to change <code>inverse</code> to <code>reciprocal</code> it would have to be done throughout mathlib consistently.</p>



<a name="267051970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267051970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267051970">(Jan 06 2022 at 11:47)</a>:</h4>
<p>And one immediate tricky thing is that you would need an abbreviation, like <code>inv</code> abbreviates <code>inverse</code>. But <code>rec</code> is already used all over the place for <code>recursor</code>.</p>



<a name="267052237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267052237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267052237">(Jan 06 2022 at 11:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267051823">said</a>:</p>
<blockquote>
<p>I suspect that it's in scope but as far as I know nobody is working on it. Is it done in any of the other provers e.g. Coq?</p>
</blockquote>
<p>Not sure. Probably not. I'm not an expert on the subject, sorry. I currently learn about formal integration the way Risch approached it, in my spare time, as a hobby. I take it slowly, as work and life eats most of my time, and I still have a long way to go. </p>
<p>Liouville's theorem takes a few lectures of a postgraduate computer algebra course to prove even in special (non-general) form, with very little details and starting with the field of complex numbers rather than the rationals. A full-fledged proof will take quite some effort.</p>



<a name="267052337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267052337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267052337">(Jan 06 2022 at 11:52)</a>:</h4>
<p>But it will of course depend on the amount of machinery already available. And I'm VERY new to Lean, literally zero knowledge yet. Can't estimate at all.</p>



<a name="267052652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267052652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267052652">(Jan 06 2022 at 11:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267051930">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="468969">Alex</span> If you want to change <code>inverse</code> to <code>reciprocal</code> it would have to be done throughout mathlib consistently.</p>
</blockquote>
<p>I'm not sure this is a good idea. Is there no possibility for 1/f syntax for reciprocals? <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>x</mi></mrow><annotation encoding="application/x-tex">\sin^{-1} x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8719em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span> on the other hand usually denotes the arcsine rather than the cosecant.</p>



<a name="267053893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267053893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267053893">(Jan 06 2022 at 12:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267051823">said</a>:</p>
<blockquote>
<p>I suspect that it's in scope but as far as I know nobody is working on it. Is it done in any of the other provers e.g. Coq?</p>
</blockquote>
<p>Its value is in proving that a function has no elementary integral, when it does not.<br>
Basically it says "an elementary antiderivative from differential field K can always be expressed as a linear combination* of logarithms of functions from K plus some function from K", asterisk saying "coefficients come from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>K</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{K}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>, i.e. algebraic closure of K". Then, with some transforms, one shows for example, that no function of such form could yield the integrand, thus proving the antiderivative to be non-elementary.</p>
<p>But I somehow suspect even the proofs that certain functions are not elementary to be out of reach yet for theorem provers. Yet. I am glad to see them improving and growing rapidly recently.</p>



<a name="267054025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267054025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267054025">(Jan 06 2022 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="468969">Alex</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267052652">said</a>:</p>
<blockquote>
<p>I'm not sure this is a good idea. Is there no possibility for 1/f syntax for reciprocals? <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>x</mi></mrow><annotation encoding="application/x-tex">\sin^{-1} x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8719em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span> on the other hand usually denotes the arcsine rather than the cosecant.</p>
</blockquote>
<p>Apparently in mathlib <code>(1/sin)(x)</code>, <code>sin⁻¹ x</code>, <code>(sin x)⁻¹</code> and <code>1/(sin x)</code> all mean the same thing. You can use whichever one you like. I don't think we have any special notation for <code>arcsin</code>. The thing to keep in mind is that mathlib's notation is designed to be very general. The common practice of writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sin^2(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1219em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sin^{-1}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1219em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> to mean completely different things doesn't translate very well.</p>



<a name="267054283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267054283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267054283">(Jan 06 2022 at 12:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130377">David Wärn</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267054025">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="468969">Alex</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267052652">said</a>:</p>
<blockquote>
<p>I'm not sure this is a good idea. Is there no possibility for 1/f syntax for reciprocals? <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>x</mi></mrow><annotation encoding="application/x-tex">\sin^{-1} x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8719em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span> on the other hand usually denotes the arcsine rather than the cosecant.</p>
</blockquote>
<p>Apparently in mathlib <code>(1/sin)(x)</code>, <code>sin⁻¹ x</code>, <code>(sin x)⁻¹</code> and <code>1/(sin x)</code> all mean the same thing. You can use whichever one you like. I don't think we have any special notation for <code>arcsin</code>. The thing to keep in mind is that mathlib's notation is designed to be very general. The common practice of writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sin^2(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1219em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sin^{-1}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1219em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">sin</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8719em;"><span style="top:-3.1208em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> to mean completely different things doesn't translate very well.</p>
</blockquote>
<p>Oh you're so very right.<br>
The culprit is the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>cos</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\cos^2(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">cos</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> of course, which is, to quote one of the mathematicians, "no sane mind shall interpret as anything other than <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\cos(\cos(x))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span>". Unfortunately, people have grown too used to writing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi>cos</mi><mo>⁡</mo></mrow><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\cos^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mop"><span class="mop">cos</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> to just declare it illegal.</p>



<a name="267054377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267054377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267054377">(Jan 06 2022 at 12:18)</a>:</h4>
<blockquote>
<p>But I somehow suspect even the proofs that certain functions are not elementary to be out of reach yet for theorem provers. Yet. I am glad to see them improving and growing rapidly recently.</p>
</blockquote>
<p>I think you're wrong. I read some of this stuff about a decade ago and I don't see any obstruction to doing this in Lean, other than the standard obstruction we have in our area, which is that there is so much to do and too few people to do it. Note that we proved insolvability of the quintic which is in some sense a similar problem.</p>



<a name="267055390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267055390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267055390">(Jan 06 2022 at 12:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267054377">said</a>:</p>
<blockquote>
<blockquote>
<p>But I somehow suspect even the proofs that certain functions are not elementary to be out of reach yet for theorem provers. Yet. I am glad to see them improving and growing rapidly recently.</p>
</blockquote>
<p>I think you're wrong. I read some of this stuff about a decade ago and I don't see any obstruction to doing this in Lean, other than the standard obstruction we have in our area, which is that there is so much to do and too few people to do it. Note that we proved insolvability of the quintic which is in some sense a similar problem.</p>
</blockquote>
<p>I'm glad to be wrong here. Yes indeed I was mostly implying that performing it takes very specific knowledge and therefore a very rare specialist to do it. I don't doubt that there's no theoretical obstacle or some insurmountable spike of proof complexity.</p>
<p>Proving that a general quintic is insoluble in radicals can indeed be considered a milestone. A good showcase for galois theory. But the result is more well-known, so there probably are much more people who'll readily understand it.</p>



<a name="267059329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267059329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267059329">(Jan 06 2022 at 13:16)</a>:</h4>
<p>By the way, are there people whom I might ask about differential algebra, formal integration, etc, in this chat? I promise I won't have too many questions :)</p>



<a name="267066469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267066469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267066469">(Jan 06 2022 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="468969">@Alex</span> Feel free to ask, probably best in the <a class="stream" data-stream-id="116395" href="/#narrow/stream/116395-maths">#maths</a> stream. But we can't promise answers <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="267072997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267072997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267072997">(Jan 06 2022 at 15:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="468969">Alex</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/antiderivative/near/267048895">said</a>:</p>
<blockquote>
<p>I'm sorry to bump a two-week-old topic, but if I may, <br>
...how is formal integration a trivial undergrad todo target at all?<br>
I'm talking about <a href="https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets">https://github.com/leanprover-community/mathlib/wiki/Undergrad-TODO-trivial-targets</a>...</p>
<p>It's been only 50 years since Risch's proof that the problem can be approached algorithmically,</p>
</blockquote>
<p>The issue is that are interpreting those lines in a completely different way from the intended meaning.  Nobody is talking about an algorithmic approach to computing antiderivatives here. Here we only want to prove that continuous functions from real numbers to real numbers have antiderivatives. mathlib already have a much more general result so the trivial TODO is to deduce the elementary version. mathlib is primarily about proving stuff, not computing, although ideally it could do both.</p>



<a name="267094204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267094204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267094204">(Jan 06 2022 at 18:10)</a>:</h4>
<p>Implementing the algorithm (as a tactic, with proofs) would be nice too but it's much harder.</p>



<a name="267094289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/antiderivative/near/267094289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/antiderivative.html#267094289">(Jan 06 2022 at 18:11)</a>:</h4>
<p>I'd love <code>simp</code> (or <code>integrate</code> or whatever) to simplify non-trivial integrals without any hints.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>