---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html">Converting from one type to another</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226818408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226818408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226818408">(Feb 18 2021 at 14:35)</a>:</h4>
<p>I have an <code>x^(int.of_nat n)</code> (where <code>n</code> is <code>nat</code>) in my goal, and I wanted to convert it into just <code>x^n</code>.</p>
<p>I found <code>int.cast_of_nat</code>, but it seems like the conversion arrow thing is required for it to work. Is there some way I can still do this convertion?</p>



<a name="226818633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226818633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226818633">(Feb 18 2021 at 14:36)</a>:</h4>
<p>You can write <code>show (some new expression)</code> if it is definitionally equal to your current goal</p>



<a name="226818720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226818720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226818720">(Feb 18 2021 at 14:37)</a>:</h4>
<p>And <code>int.of_nat n</code> is defeq to <code>(n : \Z)</code></p>



<a name="226818886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226818886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226818886">(Feb 18 2021 at 14:38)</a>:</h4>
<p>Ah, this worked! Thank you very much!</p>



<a name="226818930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226818930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226818930">(Feb 18 2021 at 14:38)</a>:</h4>
<p>After that, there should be a lemma called <code>gpow_eq_pow</code> or something like that, that will convert from powers with integers in the exponent to powers with nat in the exponent</p>



<a name="226819390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226819390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226819390">(Feb 18 2021 at 14:42)</a>:</h4>
<p>Though I wonder how you ended up with <code>of_nat</code> in the first place</p>



<a name="226819679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226819679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226819679">(Feb 18 2021 at 14:43)</a>:</h4>
<p>You can also apply <code>simp</code> and see how it changes your expression to something more canonical.</p>



<a name="226820322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226820322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226820322">(Feb 18 2021 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Converting.20from.20one.20type.20to.20another/near/226819390">said</a>:</p>
<blockquote>
<p>Though I wonder how you ended up with <code>of_nat</code> in the first place</p>
</blockquote>
<p>I used <code>cases</code> on an integer, since for this lemma I needed to split into positive and negative branches.</p>



<a name="226820508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226820508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226820508">(Feb 18 2021 at 14:48)</a>:</h4>
<p>There might be a better way though.</p>



<a name="226821002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226821002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226821002">(Feb 18 2021 at 14:51)</a>:</h4>
<p>It probably makes sense to first prove whatever you are proving for nats, and then apply that lemma twice in the two branches for int</p>



<a name="226821015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226821015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226821015">(Feb 18 2021 at 14:51)</a>:</h4>
<p>But I'm just guessing</p>



<a name="226821282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226821282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226821282">(Feb 18 2021 at 14:53)</a>:</h4>
<p>You're probably right, and it might've been wiser to prove some other lemmas before it in order to be able to do this more generically.</p>



<a name="226823041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226823041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226823041">(Feb 18 2021 at 15:02)</a>:</h4>
<p>Doing cases on an int is breaking the abstraction layer. I would just do by_cases on a statement about positivity, or cases lt_or_ge. Then you wouldn't be in a situation where you have to deal with the underlying definition of int</p>



<a name="226823376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226823376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226823376">(Feb 18 2021 at 15:04)</a>:</h4>
<p><code>induction using int.induction_on</code> (<a href="https://leanprover-community.github.io/mathlib_docs/find/int.induction_on">docs#int.induction_on</a>) is often a good bet too</p>



<a name="226827346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Converting%20from%20one%20type%20to%20another/near/226827346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ariel Fridman <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Converting.20from.20one.20type.20to.20another.html#226827346">(Feb 18 2021 at 15:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Converting.20from.20one.20type.20to.20another/near/226823376">said</a>:</p>
<blockquote>
<p><code>induction using int.induction_on</code> (<a href="https://leanprover-community.github.io/mathlib_docs/find/int.induction_on">docs#int.induction_on</a>) is often a good bet too</p>
</blockquote>
<p>Yesss, This is <strong>exactly</strong> what I needed. Thank you very much ^^!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>