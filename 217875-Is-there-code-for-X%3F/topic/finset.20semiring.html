---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html">finset semiring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="282221433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282221433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282221433">(May 13 2022 at 09:15)</a>:</h4>
<p>Dear All,</p>
<p>I may have asked this already, but is there a version of <a href="https://leanprover-community.github.io/mathlib_docs/find/set.set_semiring">docs#set.set_semiring</a> which is based on <code>finset</code>s?  I tried various replacements <code>s/set/finset/</code> in <code>set.set_semiring</code>, but nothing worked...</p>
<p>Thanks!</p>



<a name="282222245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222245">(May 13 2022 at 09:23)</a>:</h4>
<p>No, we don't have that. What do you need it for?</p>



<a name="282222335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222335">(May 13 2022 at 09:24)</a>:</h4>
<p>(also I'm editing heavily <code>data.finset.pointwise</code> so please request my review on all PRs that touch it)</p>



<a name="282222573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222573">(May 13 2022 at 09:26)</a>:</h4>
<p>Ok, thanks!  I am currently playing around with defining a map from <code>(laurent_)polynomials</code> to <code>set.set_semiring</code> associating to a polynomial its support.  I am hoping that several lemmas about the support can then be proved using what is already available from the <code>semiring</code> instance on <code>set_semiring</code>.  Since in my case the support is a finset, I would like to exploit this.</p>



<a name="282222652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222652">(May 13 2022 at 09:27)</a>:</h4>
<p>In particular, I do not need it yet, but I will want to relate the computations in <code>set.set_semiring</code> to the <code>max/min</code> of the support and then it would be good to have the <code>finset</code>s being carried around by the <code>semiring</code> structure.</p>



<a name="282222789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222789">(May 13 2022 at 09:29)</a>:</h4>
<p>(so, for the moment, I am simply trying it out, to see if I can avoid duplicating a large part of the <code>support/degree/nat_degree/...</code> API for Laurent polynomials, using <code>set.set_semiring</code>.  If this works, then it might make sense to do this already for <code>add_monoid_algebra</code>.</p>



<a name="282222832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282222832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282222832">(May 13 2022 at 09:29)</a>:</h4>
<p>(effectively, this amounts to working with <code>add_monoid_algebra</code> where the add monoid is <code>0,1</code> with absorbing addition, I think.)</p>



<a name="282223007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223007">(May 13 2022 at 09:31)</a>:</h4>
<p>Oh nice! In what sense do the <code>set_semiring</code> operations correspond to support operations?</p>



<a name="282223153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223153">(May 13 2022 at 09:32)</a>:</h4>
<p>My last comment may have been a little cryptic.  What I meant is that I think that <code>finset.finset_semiring</code>(or whatever it should be called) is also <code>add_monoid_algebra (with_zero (trivial ring))</code>... maybe?</p>



<a name="282223197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223197">(May 13 2022 at 09:33)</a>:</h4>
<p>the correspondence is that support of sums are contained in sums of supports and supports of product are contained in products of supports</p>



<a name="282223253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223253">(May 13 2022 at 09:34)</a>:</h4>
<p>This is exactly what you need to get many statements about degrees (sub)adding under products, additions...</p>



<a name="282223346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223346">(May 13 2022 at 09:34)</a>:</h4>
<p>I think they should be called <code>set_semiring</code> and <code>finset_semiring</code> (without the namespaces) and put in a new file, because they have little to do the rest of the pointwise API now</p>



<a name="282223374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223374">(May 13 2022 at 09:35)</a>:</h4>
<p>(so, essentially, you pretend that there is no cancellation in your additions/multiplications and you obtain the "right" "generic" statement, which is always greater than or equal than the correct statement.)</p>



<a name="282223494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223494">(May 13 2022 at 09:36)</a>:</h4>
<p>Ok, anyway, my idea was to exploit something that is already available, to avoid writing a lot of API myself.  If the API that I am hoping for is missing somewhere else, I might just as well write it for exactly what I want!  <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="282223497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223497">(May 13 2022 at 09:36)</a>:</h4>
<p>... by which I mean, if I were to add everything that's as related to the rest of <code>data.set.pointwise</code> as <code>set_semiring</code> is, I would blow the size of the file to several thousand lines.</p>



<a name="282223619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223619">(May 13 2022 at 09:37)</a>:</h4>
<p>Ok, maybe my idea does not make much sense, given the state of affairs.  I am just trying to avoid having to write a lot of almost identical APIs for <code>degree, int_degree, trailing_degree, trailing_int_degree, leading_coeff, trailing_coeff</code> for Laurent polynomials...</p>



<a name="282223743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223743">(May 13 2022 at 09:39)</a>:</h4>
<p>No I think you're onto something, but I will have to think about it more.</p>



<a name="282223899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223899">(May 13 2022 at 09:40)</a>:</h4>
<p>Ok, basically, anything that would prove "quickly" statements like <code>degree (f * g) ≤ degree f * degree g</code> would be very welcome!  If it is as polymorphic as possible on the notion of <code>degree</code>, that would be even better!</p>



<a name="282223984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282223984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282223984">(May 13 2022 at 09:41)</a>:</h4>
<p>(I would like to leverage the fact that, from the point of view of supports, that statement is simply a statement about the support of addition.)</p>



<a name="282224126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282224126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282224126">(May 13 2022 at 09:42)</a>:</h4>
<p>Most of the results about various forms degree are simply statements about adding finite subsets of a linear order and gathering trivialities about them.</p>



<a name="282224223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282224223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282224223">(May 13 2022 at 09:43)</a>:</h4>
<p>I view cancellation and disappearance from support of some terms as an unfortunate coincidence.  The API should include all the results about degrees that are compatible with "opaque cancellation" and then deal more precisely with cancellation, as the need arises.</p>



<a name="282224327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finset%20semiring/near/282224327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finset.20semiring.html#282224327">(May 13 2022 at 09:44)</a>:</h4>
<p>Anyway, I have to take care of some "real-world" problems.  <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>