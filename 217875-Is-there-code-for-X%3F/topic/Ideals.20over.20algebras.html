---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html">Ideals over algebras</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="205386486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205386486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205386486">(Jul 29 2020 at 17:21)</a>:</h4>
<p>There's already code for <code>ideal</code>s (over commutative rings), but there's nothing for ideals over <code>algebra</code>s.</p>
<p><code>subalgebra</code> does most of the heavy lifting, but  the API seems either lacking or hard for me to follow.</p>
<p>As an example of the type of thing I want in mathlib somewhere:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">-- produce the setoid corresponding to the ideal of a subalgebra</span>
<span class="n">def</span> <span class="n">setoid_ideal_of_subalgebra</span>
  <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span>
  <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">setoid</span> <span class="n">A</span>
<span class="o">:=</span> <span class="o">{</span>
  <span class="n">r</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="err">∈</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">iseqv</span> <span class="o">:=</span> <span class="bp">⟨</span>
    <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span><span class="n">rw</span> <span class="n">sub_self</span><span class="o">,</span> <span class="n">exact</span> <span class="n">subalgebra</span><span class="bp">.</span><span class="n">zero_mem</span> <span class="bp">_</span><span class="o">},</span>
    <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span><span class="n">rw</span> <span class="err">←</span><span class="n">neg_sub</span><span class="o">,</span> <span class="n">exact</span> <span class="n">subalgebra</span><span class="bp">.</span><span class="n">neg_mem</span> <span class="bp">_</span> <span class="n">h</span><span class="o">},</span>
    <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">hab</span> <span class="n">hbc</span><span class="o">,</span> <span class="k">by</span> <span class="o">{</span>
      <span class="k">have</span> <span class="n">hac</span> <span class="o">:=</span> <span class="n">subalgebra</span><span class="bp">.</span><span class="n">add_mem</span> <span class="bp">_</span> <span class="n">hab</span> <span class="n">hbc</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="n">add_sub</span><span class="o">,</span> <span class="n">sub_add</span><span class="o">,</span> <span class="n">sub_self</span><span class="o">,</span> <span class="n">sub_zero</span><span class="o">]</span> <span class="n">at</span> <span class="n">hac</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">hac</span><span class="o">,</span>
    <span class="o">}</span><span class="bp">⟩</span><span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_scalar</span> <span class="n">R</span> <span class="o">(</span><span class="n">quotient</span> <span class="o">(</span><span class="n">setoid_ideal_of_subalgebra</span> <span class="n">sorry</span><span class="o">))</span> <span class="o">:=</span> <span class="o">{</span>
  <span class="n">smul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">k</span> <span class="n">v</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">lift_on</span> <span class="n">v</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">v</span><span class="o">,</span> <span class="err">⟦</span><span class="n">has_scalar</span><span class="bp">.</span><span class="n">smul</span> <span class="n">k</span> <span class="n">v</span><span class="err">⟧</span><span class="o">)</span>
    <span class="err">$</span> <span class="bp">λ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">H</span><span class="o">,</span> <span class="n">quotient</span><span class="bp">.</span><span class="n">sound</span>
    <span class="err">$</span> <span class="k">begin</span>
      <span class="n">change</span> <span class="bp">_</span> <span class="err">∈</span> <span class="bp">_</span><span class="o">,</span>
      <span class="n">rw</span> <span class="err">←</span> <span class="n">smul_sub</span><span class="o">,</span>
      <span class="n">refine</span> <span class="n">subalgebra</span><span class="bp">.</span><span class="n">smul_mem</span> <span class="bp">_</span> <span class="n">H</span> <span class="bp">_</span><span class="o">,</span>
    <span class="kn">end</span><span class="o">}</span>
</code></pre></div>



<a name="205386571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205386571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205386571">(Jul 29 2020 at 17:22)</a>:</h4>
<p>Apologies in advance, my terminology is likely a little off the mark</p>



<a name="205386993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205386993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205386993">(Jul 29 2020 at 17:26)</a>:</h4>
<p>Hmm? Why are you using <code>setoid</code>?</p>



<a name="205387011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387011">(Jul 29 2020 at 17:26)</a>:</h4>
<p>I'm confused about the kind of maths that you want</p>



<a name="205387058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387058">(Jul 29 2020 at 17:26)</a>:</h4>
<p>I think probably just the quotient R-module</p>



<a name="205387125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387125">(Jul 29 2020 at 17:27)</a>:</h4>
<p>being a subalgebra (closed under <code>*</code>) isn't useful for any sort of quotient I think</p>



<a name="205387212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387212">(Jul 29 2020 at 17:27)</a>:</h4>
<p>I think I'm looking for <code>subalgebra.quotient</code>, given the alraedy-existing <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.quotient">docs#submodule.quotient</a></p>



<a name="205387301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387301">(Jul 29 2020 at 17:28)</a>:</h4>
<p>You need an ideal for that</p>



<a name="205387393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387393">(Jul 29 2020 at 17:29)</a>:</h4>
<p>My ideal is the <code>sorry</code> in the above snippet</p>



<a name="205387406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387406">(Jul 29 2020 at 17:29)</a>:</h4>
<p>I think</p>



<a name="205387568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387568">(Jul 29 2020 at 17:30)</a>:</h4>
<p>Would a patch be accepted that copied <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.quotient">docs#submodule.quotient</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.quotient_rel">docs#submodule.quotient_rel</a> to <code>subalgebra.quotient</code> and <code>subalgebra.quotient_rel</code>, and tweaked the associated proofs?</p>



<a name="205387587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387587">(Jul 29 2020 at 17:30)</a>:</h4>
<p>You have an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> and a subalgebra <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>, what do you want to construct in math?</p>



<a name="205387621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387621">(Jul 29 2020 at 17:31)</a>:</h4>
<p>To un-#xy, I want to construct the clifford algebra from the tensor algebra</p>



<a name="205387668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387668">(Jul 29 2020 at 17:31)</a>:</h4>
<p>I pretty much have what I need, but I had to build too much of it just for this use case</p>



<a name="205387670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387670">(Jul 29 2020 at 17:31)</a>:</h4>
<p>That's a quotient by an ideal, right?</p>



<a name="205387686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387686">(Jul 29 2020 at 17:31)</a>:</h4>
<p>Yes, I think so</p>



<a name="205387693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387693">(Jul 29 2020 at 17:31)</a>:</h4>
<p>I guess I'm confused by <code>(s : subalgebra R A)</code> then</p>



<a name="205387776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387776">(Jul 29 2020 at 17:32)</a>:</h4>
<p><code>s</code> is my ideal, but the type isn't quite right</p>



<a name="205387800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387800">(Jul 29 2020 at 17:32)</a>:</h4>
<p>I can't actually use <code>ideal A</code>, because <code>A</code> is not commutative</p>



<a name="205387838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387838">(Jul 29 2020 at 17:32)</a>:</h4>
<p>Ah I see</p>



<a name="205387939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205387939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205387939">(Jul 29 2020 at 17:33)</a>:</h4>
<p>I suppose an ideal is stricter than just a subalgebra though, but it seems I haven't actually needed the quotient to be an ideal yet...</p>



<a name="205388195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205388195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205388195">(Jul 29 2020 at 17:35)</a>:</h4>
<p>you need it for multiplication</p>



<a name="205388737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205388737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205388737">(Jul 29 2020 at 17:38)</a>:</h4>
<p>I don't think we have two-sided ideals</p>



<a name="205389254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205389254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205389254">(Jul 29 2020 at 17:42)</a>:</h4>
<p>In general, noncommutative algebra is underdeveloped.</p>



<a name="205390248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390248">(Jul 29 2020 at 17:50)</a>:</h4>
<p>Are you telling me that not all rings are commutative? They lied to me!</p>



<a name="205390499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390499">(Jul 29 2020 at 17:53)</a>:</h4>
<p>I think you need to take the two-sided ideal generated by things of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mn>2</mn></msup><mo>−</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>⋅</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">v^2 - Q(v) \cdot 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">Q</span></span></span></span> is your quadratic form.<br>
This is inside the tensor algebra of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>.</p>



<a name="205390537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390537">(Jul 29 2020 at 17:53)</a>:</h4>
<p>The Clifford algebra would be the quotient by this two-sided ideal.</p>



<a name="205390553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390553">(Jul 29 2020 at 17:53)</a>:</h4>
<p>Yeah, that's what I'm doing, except I'd hoped I could call it a subalgebra not an ideal</p>



<a name="205390578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390578">(Jul 29 2020 at 17:53)</a>:</h4>
<p>I've since been told I should know better than to try that!</p>



<a name="205390595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390595">(Jul 29 2020 at 17:54)</a>:</h4>
<p>(I'm building on top of your PR, <span class="user-mention" data-user-id="243562">@Adam Topaz</span>)</p>



<a name="205390650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390650">(Jul 29 2020 at 17:54)</a>:</h4>
<p>It's not a subalgebra, since it doesn't contain <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.</p>



<a name="205390717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390717">(Jul 29 2020 at 17:54)</a>:</h4>
<p>The <code>cdot 1</code> there is just a <code>coe</code>, right?</p>



<a name="205390769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390769">(Jul 29 2020 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205390248">said</a>:</p>
<blockquote>
<p>Are you telling me that not all rings are commutative? They lied to me!</p>
</blockquote>
<p>Only non-commutative rings are non-commutative...</p>



<a name="205390925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390925">(Jul 29 2020 at 17:56)</a>:</h4>
<p>The <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>⋅</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Q(v) \cdot 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> is the same as the map from the base field. But I don't think I introduced this coersion in the PR you're looking at.</p>



<a name="205390962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205390962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205390962">(Jul 29 2020 at 17:56)</a>:</h4>
<p>I'm currently using</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">ga_ideal</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">R</span> <span class="o">(</span><span class="n">pre</span> <span class="n">Q</span><span class="o">)</span> <span class="o">:=</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">adjoin</span> <span class="n">R</span> <span class="o">{</span>
  <span class="n">i</span> <span class="bp">|</span> <span class="bp">∃</span> <span class="n">v</span><span class="o">,</span> <span class="n">univ</span> <span class="n">R</span> <span class="n">M</span> <span class="n">v</span> <span class="bp">*</span> <span class="n">univ</span> <span class="n">R</span> <span class="n">M</span> <span class="n">v</span> <span class="bp">-</span> <span class="n">algebra_map</span> <span class="n">R</span> <span class="o">(</span><span class="n">pre</span> <span class="n">Q</span><span class="o">)</span> <span class="o">(</span><span class="n">Q</span> <span class="n">v</span><span class="o">)</span> <span class="bp">=</span> <span class="n">i</span>
<span class="o">}</span>
</code></pre></div>



<a name="205391005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205391005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205391005">(Jul 29 2020 at 17:57)</a>:</h4>
<p>where <code>pre Q</code> is <code>tensor_algebra R M</code></p>



<a name="205391103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205391103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205391103">(Jul 29 2020 at 17:57)</a>:</h4>
<p>Which as you annoyingly point out, is wrong because an ideal is not a subalgebra</p>



<a name="205392074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392074">(Jul 29 2020 at 18:04)</a>:</h4>
<p>I'm fairly sure mathlib has quotients of rings by two sided ideals, so I don't think the whole <code>pre</code> dance is necessary here.</p>



<a name="205392163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392163">(Jul 29 2020 at 18:05)</a>:</h4>
<p>wait. I'm confused. Whats going on there?</p>



<a name="205392183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392183">(Jul 29 2020 at 18:05)</a>:</h4>
<p>Are you sure you want to adjoin things?</p>



<a name="205392243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392243">(Jul 29 2020 at 18:06)</a>:</h4>
<p>This is an over-ring of the tensor algebra.</p>



<a name="205392283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392283">(Jul 29 2020 at 18:06)</a>:</h4>
<p>oh, I didn't even find two-sided ideals</p>



<a name="205392496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392496">(Jul 29 2020 at 18:07)</a>:</h4>
<blockquote>
<p>I'm fairly sure mathlib has quotients of rings by two sided ideals</p>
</blockquote>
<p>Yeah, I couldn't find these</p>



<a name="205392554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392554">(Jul 29 2020 at 18:08)</a>:</h4>
<p>Well, that's a problem...</p>



<a name="205392579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392579">(Jul 29 2020 at 18:08)</a>:</h4>
<blockquote>
<p>Are you sure you want to adjoin things?</p>
</blockquote>
<p>No, I definitely don't - I was just looking for the a plausible subalgebra constructor</p>



<a name="205392595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392595">(Jul 29 2020 at 18:08)</a>:</h4>
<p>When in fact I should not have been</p>



<a name="205392646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392646">(Jul 29 2020 at 18:08)</a>:</h4>
<p>What you can do is define a relation using the generators of the ideal, compatibility with addition, multiplication, etc., and take the quotient by that.</p>



<a name="205392745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205392745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205392745">(Jul 29 2020 at 18:09)</a>:</h4>
<p>But in reality, mathlib should have code for:</p>
<ol>
<li>two-sided ideals.</li>
<li>two-sided ideals generated by some set.</li>
<li>quotients by two-sided iddeals.</li>
</ol>



<a name="205393153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205393153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205393153">(Jul 29 2020 at 18:12)</a>:</h4>
<p>two-sided ideals form a closure system (they are closed under arbitrary intersection), so you get ideal spans for free. As for quotients, you can quotient by an arbitrary set, and prove that the kernel of such a quotient is a two sided ideal</p>



<a name="205393197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205393197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205393197">(Jul 29 2020 at 18:12)</a>:</h4>
<p>namely the ideal span of the input set</p>



<a name="205393368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205393368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205393368">(Jul 29 2020 at 18:14)</a>:</h4>
<p>How do you take the quotient by a set? You have to define some relation which identifies the elements of the set with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>, and ensures compatibility with the algebra operations. Does mathlib already have some code to do this?</p>



<a name="205394185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205394185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205394185">(Jul 29 2020 at 18:20)</a>:</h4>
<p>There is <code>quot</code> for quotients by arbitrary relations, <code>quotient</code> for equivalence relations, and for additive groups <code>quotient_add_group</code></p>



<a name="205394314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205394314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205394314">(Jul 29 2020 at 18:21)</a>:</h4>
<p>There's <code>submodule.quotient</code> too</p>



<a name="205394617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205394617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205394617">(Jul 29 2020 at 18:24)</a>:</h4>
<p>Sure, you can define a relation like this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span>

<span class="kn">inductive</span> <span class="n">rel</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">of</span> <span class="o">{</span><span class="n">s</span><span class="o">}</span> <span class="o">:</span> <span class="n">s</span> <span class="err">∈</span> <span class="n">S</span> <span class="bp">→</span> <span class="n">rel</span> <span class="n">s</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">add_compat_left</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">}</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">rel</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">add_compat_right</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">}</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">rel</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">mul_compat_left</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">}</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">rel</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">mul_compat_right</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span><span class="o">}</span> <span class="o">:</span> <span class="n">rel</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">rel</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>


<p>What I'm wondering is whether mathlib already has some code to automate this.</p>



<a name="205394925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205394925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205394925">(Jul 29 2020 at 18:26)</a>:</h4>
<p>Are you looking for submodule.closure or something?</p>



<a name="205395036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205395036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205395036">(Jul 29 2020 at 18:27)</a>:</h4>
<p>Nevermind, missed the mul</p>



<a name="205395070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205395070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205395070">(Jul 29 2020 at 18:27)</a>:</h4>
<p>When you take <code>quot</code>by such a relation, you get the quotient of the ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> by the two-sided ideal generated by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>.</p>



<a name="205397408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205397408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205397408">(Jul 29 2020 at 18:45)</a>:</h4>
<p>I guess you can get by with the submodule (with a left action) closure of the set of all elements of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>⋅</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">s \cdot a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">s\in S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">a\in A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>.</p>



<a name="205462580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205462580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205462580">(Jul 30 2020 at 10:28)</a>:</h4>
<p>Seems like the way to go here is make <code>ideal</code> not defeq <code>submodule</code>, but instead extending <code>add_subgroup</code></p>
<p>I've made a start on this locally, and spawned the trivial PR <a href="https://github.com/leanprover-community/mathlib/issues/3631">#3631</a></p>



<a name="205468252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205468252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205468252">(Jul 30 2020 at 11:48)</a>:</h4>
<p>This turns out to be quite a massive undertaking, as every lemma about <code>add_subgroup</code> has to be wrapped</p>



<a name="205468679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205468679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205468679">(Jul 30 2020 at 11:54)</a>:</h4>
<p>Does submodule not extend add_subgroup?</p>



<a name="205468709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205468709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205468709">(Jul 30 2020 at 11:55)</a>:</h4>
<p>Does submodule not extend add_subgroup?</p>



<a name="205471385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205471385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205471385">(Jul 30 2020 at 12:25)</a>:</h4>
<p>Yes, I suppose it does (well, <code>add_submonoid</code>, which sort of implies <code>add_subgroup</code> if <code>add_group</code> is around somewhere)</p>



<a name="205471444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205471444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205471444">(Jul 30 2020 at 12:26)</a>:</h4>
<p>PR so far is at <a href="https://github.com/leanprover-community/mathlib/issues/3635">#3635</a></p>



<a name="205471560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205471560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205471560">(Jul 30 2020 at 12:27)</a>:</h4>
<p>Most of the tedious work is taking the proof in <code>submodule</code> and replacing statements about <code>mem_smul</code> with either <code>mem_mul_left</code> or <code>mem_mul_right</code></p>



<a name="205477557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205477557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205477557">(Jul 30 2020 at 13:22)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> , have you considered doing something like this?</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">A</span><span class="o">]</span>

<span class="kn">structure</span> <span class="n">two_sided_ideal</span> <span class="kn">extends</span> <span class="n">submodule</span> <span class="n">A</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">right_mul</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span> <span class="n">b</span> <span class="err">∈</span> <span class="n">carrier</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="err">∈</span> <span class="n">carrier</span><span class="o">)</span>
</code></pre></div>



<a name="205478414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205478414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205478414">(Jul 30 2020 at 13:30)</a>:</h4>
<p>Of course, the mathematically correct way to do this is to define bimodules, so that two sided ideals are sub-bimodules of the ring.</p>
<p><a href="https://en.m.wikipedia.org/wiki/Bimodule">https://en.m.wikipedia.org/wiki/Bimodule</a></p>



<a name="205478622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205478622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205478622">(Jul 30 2020 at 13:32)</a>:</h4>
<p>Does submodule not extend add_subgroup?</p>



<a name="205478687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205478687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205478687">(Jul 30 2020 at 13:33)</a>:</h4>
<p>It does I think</p>



<a name="205478904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205478904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205478904">(Jul 30 2020 at 13:35)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/submodule/src">src#submodule</a></p>



<a name="205478960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205478960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205478960">(Jul 30 2020 at 13:35)</a>:</h4>
<p>add_submonoid</p>



<a name="205479128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205479128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205479128">(Jul 30 2020 at 13:37)</a>:</h4>
<p>Sorry, I have ropey internet right now, hence multiple messages (I only posted once). A submonoid of a module is not the same as a subgroup, but when you add the ring action you can use a multiplication by -1 trick to show they're the same.</p>



<a name="205479130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205479130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205479130">(Jul 30 2020 at 13:37)</a>:</h4>
<p>Oh yeah Eric mentioned this above</p>



<a name="205479224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205479224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205479224">(Jul 30 2020 at 13:38)</a>:</h4>
<p>Yes of course.</p>



<a name="205479290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205479290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205479290">(Jul 30 2020 at 13:39)</a>:</h4>
<p>But the same argument works also for right and left modules</p>



<a name="205492670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205492670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205492670">(Jul 30 2020 at 15:23)</a>:</h4>
<p>Just to be clear, the bimodule route would look something like:</p>
<ul>
<li>Rename the current <code>semimodule</code> to <code>semileftmodule</code></li>
<li>Rename the current <code>submodule</code> to <code>leftsubmodule</code></li>
<li>Create copies of all the <code>left</code> code for <code>right</code></li>
<li>Create <code>bimodule</code> as <code>extends semileftmodule, semirightmodule</code></li>
<li>Create <code>subbimodule</code> similarly</li>
<li>alias <code>semimodule R M</code> to <code>semibimodule R R M</code></li>
<li>alias <code>submodule R M</code> to <code>subbimodule R R M</code></li>
<li>split <code>has_smul</code> into <code>has_right_smul</code> and <code>has_left_smul</code></li>
<li>...</li>
</ul>
<p>This feels like a very substantial amount of work</p>



<a name="205493848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205493848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205493848">(Jul 30 2020 at 15:32)</a>:</h4>
<p>Another approach is to define an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">AB</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>-bimodule as a (left) module over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊗</mo><msup><mi>B</mi><mrow><mi>o</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A \otimes B^{op}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="205494022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205494022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205494022">(Jul 30 2020 at 15:34)</a>:</h4>
<p>So a two-sided ideal in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> is a submodule of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> considered as a module over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊗</mo><msup><mi>A</mi><mrow><mi>o</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A \otimes A^{op}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span> where a basic tensor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⊗</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \otimes b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> acts on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x \in A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⋅</mo><mi>x</mi><mo>⋅</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \cdot x \cdot b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>.</p>



<a name="205494773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205494773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205494773">(Jul 30 2020 at 15:40)</a>:</h4>
<p>the best implementation of the <code>left_</code> and <code>right_</code> approach probably requires metaprogramming (cf. <code>to_additive</code>)</p>



<a name="205494840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205494840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205494840">(Jul 30 2020 at 15:40)</a>:</h4>
<p>Yeah, I was thinking the same</p>



<a name="205494848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205494848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205494848">(Jul 30 2020 at 15:41)</a>:</h4>
<p>There may also be notation issues with a right scalar multiplication...</p>



<a name="205494923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205494923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205494923">(Jul 30 2020 at 15:41)</a>:</h4>
<p>Frankly, looking at <code>subgroup</code> vs <code>submonoid</code>, it feels like there's already a dire need for metaprogramming</p>



<a name="205495037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205495037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205495037">(Jul 30 2020 at 15:42)</a>:</h4>
<p>So many of the lemmas and they're proofs are textually identical other than the type names</p>



<a name="205495077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205495077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205495077">(Jul 30 2020 at 15:42)</a>:</h4>
<p>But of course <code>some_lemma</code> in one file is not the same lemma as <code>some_lemma</code> in the other file</p>



<a name="205495097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205495097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205495097">(Jul 30 2020 at 15:42)</a>:</h4>
<p>So a proof that is <code>by simp only [some_lemma]</code> still has to be repeated</p>



<a name="205495193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205495193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205495193">(Jul 30 2020 at 15:44)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/3634">#3634</a> is a good example, the lemmas there are copy-pasted</p>



<a name="205496126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205496126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205496126">(Jul 30 2020 at 15:51)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">tensor_product</span>

<span class="n">open_locale</span> <span class="n">tensor_product</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span>

<span class="bp">#</span><span class="kn">check</span> <span class="n">semimodule</span> <span class="o">(</span><span class="n">A</span> <span class="err">⊗</span><span class="o">[</span><span class="bp">ℕ</span><span class="o">]</span> <span class="n">B</span><span class="err">ᵒᵖ</span><span class="o">)</span> <span class="n">M</span>
</code></pre></div>



<a name="205496335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205496335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205496335">(Jul 30 2020 at 15:53)</a>:</h4>
<p>Unfortunately </p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">:</span> <span class="n">semimodule</span> <span class="o">(</span><span class="n">A</span> <span class="err">⊗</span><span class="o">[</span><span class="bp">ℕ</span><span class="o">]</span> <span class="n">A</span><span class="err">ᵒᵖ</span><span class="o">)</span> <span class="n">A</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span> <span class="c1">-- fails</span>
</code></pre></div>



<a name="205766647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205766647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205766647">(Aug 03 2020 at 07:37)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <span class="user-mention" data-user-id="310045">@Eric Wieser</span> </p>
<p>I wonder if we really need the ideal. Could we just use quotient type like in the <code>tensor_algebra</code> code?</p>



<a name="205766650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205766650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205766650">(Aug 03 2020 at 07:37)</a>:</h4>
<p>I have a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> which is not working yet:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra</span><span class="bp">.</span><span class="n">tensor_algebra</span>
<span class="kn">import</span> <span class="n">linear_algebra</span><span class="bp">.</span><span class="n">quadratic_form</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">R</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">quadratic_form</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>

<span class="kn">namespace</span> <span class="n">clifford_algebra</span>

<span class="kn">open</span> <span class="n">tensor_algebra</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">pre</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">tensor_algebra</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">⟨</span><span class="n">quot</span><span class="bp">.</span><span class="n">mk</span> <span class="bp">_⟩</span>

<span class="kn">inductive</span> <span class="n">cliff_rel</span> <span class="o">:</span> <span class="o">(</span><span class="n">pre</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">pre</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="c1">-- clifford equiv</span>
<span class="bp">|</span> <span class="n">contraction</span> <span class="o">{</span><span class="n">v</span> <span class="o">:</span> <span class="n">M</span><span class="o">}</span> <span class="o">[</span><span class="n">qv</span><span class="o">:</span> <span class="n">quadratic_form</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="n">cliff_rel</span> <span class="o">((</span><span class="n">pre</span><span class="bp">.</span><span class="n">mul</span> <span class="o">(</span><span class="n">pre</span><span class="bp">.</span><span class="n">of</span> <span class="n">v</span><span class="o">)</span> <span class="o">(</span><span class="n">pre</span><span class="bp">.</span><span class="n">of</span> <span class="n">v</span><span class="o">)))</span> <span class="o">((</span><span class="n">pre</span><span class="bp">.</span><span class="n">of_scalar</span> <span class="o">(</span><span class="n">qv</span> <span class="n">v</span><span class="o">)))</span>

<span class="kn">end</span> <span class="n">clifford_algebra</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">failed to synthesize type class instance for</span>
<span class="cm">R : Type u_1,</span>
<span class="cm">_inst_1 : field R,</span>
<span class="cm">M : Type u_2,</span>
<span class="cm">_inst_2 : add_comm_group M,</span>
<span class="cm">_inst_3 : module R M,</span>
<span class="cm">_inst_4 : quadratic_form R M</span>
<span class="cm">⊢ quadratic_form R M</span>
<span class="cm">-/</span>
<span class="n">def</span> <span class="n">clifford_algebra</span> <span class="o">:=</span> <span class="n">quot</span> <span class="o">(</span><span class="n">clifford_algebra</span><span class="bp">.</span><span class="n">cliff_rel</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span>
</code></pre></div>



<a name="205766847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205766847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205766847">(Aug 03 2020 at 07:40)</a>:</h4>
<p>Q1: How to "inherit" an inductive type?</p>
<p>Namely <code>tensor_algebra.rel</code> here, so that the final <code>cliff_ref</code>will contain what's in <code>rel</code> and also some additional equivalencies.</p>



<a name="205766913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205766913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205766913">(Aug 03 2020 at 07:41)</a>:</h4>
<p>Q2: Why "failed to synthesize type class instance" for <code>quadratic_form</code> when there's already <code>quadratic_form</code>?</p>



<a name="205767096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205767096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205767096">(Aug 03 2020 at 07:44)</a>:</h4>
<p>Q2: <code>quadratic_form</code> is not a class, so will not be inferred</p>



<a name="205767205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205767205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205767205">(Aug 03 2020 at 07:45)</a>:</h4>
<p>I'd make qv an argument of  <code>cliff_rel</code> or <code>pre</code> instead</p>



<a name="205767451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205767451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205767451">(Aug 03 2020 at 07:49)</a>:</h4>
<p>Q3: How to use the contractors in <code>tensor_algebra.pre</code> like <code>of</code> or <code>of_scalar</code>? They seem to disappear after the quotient.</p>



<a name="205768328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205768328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205768328">(Aug 03 2020 at 08:02)</a>:</h4>
<p>I think you shouldn't attempt to use the constructors. Indeed, after the universal property has been defined no one should ever interact with <code>.pre</code> again.</p>



<a name="205769597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205769597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205769597">(Aug 03 2020 at 08:17)</a>:</h4>
<p>Should <code>pre</code> be marked private then?</p>



<a name="205769683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205769683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205769683">(Aug 03 2020 at 08:18)</a>:</h4>
<p><code>of</code> is exposed as <code>\iota</code>, of_scalar is <code>algebra_map K T</code> I guess</p>



<a name="205771490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205771490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205771490">(Aug 03 2020 at 08:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205492670">said</a>:</p>
<blockquote>
<p>Just to be clear, the bimodule route would look something like:</p>
<ul>
<li>Rename the current <code>semimodule</code> to <code>semileftmodule</code></li>
<li>Rename the current <code>submodule</code> to <code>leftsubmodule</code></li>
<li>Create copies of all the <code>left</code> code for <code>right</code></li>
<li>Create <code>bimodule</code> as <code>extends semileftmodule, semirightmodule</code></li>
<li>Create <code>subbimodule</code> similarly</li>
<li>alias <code>semimodule R M</code> to <code>semibimodule R R M</code></li>
<li>alias <code>submodule R M</code> to <code>subbimodule R R M</code></li>
<li>split <code>has_smul</code> into <code>has_right_smul</code> and <code>has_left_smul</code></li>
<li>...</li>
</ul>
<p>This feels like a very substantial amount of work</p>
</blockquote>
<p>In the future, <code>module</code> will be renamed into <code>left_noncommunitalsemiring_addcommgroup_module</code></p>



<a name="205772205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205772205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205772205">(Aug 03 2020 at 08:53)</a>:</h4>
<p>It does feel like there are a lot of places where wikipedia / wolfram defines something over a ring, but then mathlib says "actually a semiring is enough" and either ends up with <code>X</code> and <code>semiX</code>, or needs <code>[ring K] [X K ...]</code>to get the definition used by others. Is there any consensus on which of these two options is preferred?</p>



<a name="205787432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205787432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205787432">(Aug 03 2020 at 12:26)</a>:</h4>
<p>What's the problem with defining bimodules as modules over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊗</mo><msup><mi>B</mi><mrow><mi>o</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A \otimes B^{op}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span>?</p>



<a name="205787685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205787685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205787685">(Aug 03 2020 at 12:29)</a>:</h4>
<p>And yeah, one should never use <code>pre</code>. Iota is not exactly of, but rather it's the composition of of with the quotient map</p>



<a name="205788741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205788741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205788741">(Aug 03 2020 at 12:41)</a>:</h4>
<p>I didn't want to use <code>pre</code> initially. But it seems that there's no similar way to construct the tensor algebra after the quotient.</p>



<a name="205789027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789027">(Aug 03 2020 at 12:44)</a>:</h4>
<p>Anything you can do with pre, you can do by using iota, the algebra_map, and the ring structure of the tensor algebra.</p>



<a name="205789081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789081">(Aug 03 2020 at 12:45)</a>:</h4>
<p>Sorry, I meant to say the semiring structure of the tensor algebra <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="205789360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789360">(Aug 03 2020 at 12:48)</a>:</h4>
<p>I see. One can only access it as what it is (after the quotient), but not what it was (before the quotient). I was confused by not seeing the general pattern.</p>



<a name="205789497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789497">(Aug 03 2020 at 12:50)</a>:</h4>
<p>Are you trying to define the Clifford algebra?</p>



<a name="205789503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789503">(Aug 03 2020 at 12:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205787432">said</a>:</p>
<blockquote>
<p>What's the problem with defining bimodules as modules over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊗</mo><msup><mi>B</mi><mrow><mi>o</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A \otimes B^{op}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span>?</p>
</blockquote>
<p>That route seems fine. I was trying to figure out if it's the only way and if one more concept is necessary.</p>



<a name="205789529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789529">(Aug 03 2020 at 12:50)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="310045">@Eric Wieser</span> and I are working on this.</p>



<a name="205789580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789580">(Aug 03 2020 at 12:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="296911">Utensil Song</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205766847">said</a>:</p>
<blockquote>
<p>Q1: How to "inherit" an inductive type?</p>
<p>Namely <code>tensor_algebra.rel</code> here, so that the final <code>cliff_ref</code>will contain what's in <code>rel</code> and also some additional equivalencies.</p>
</blockquote>
<p>Any comments on Q1?</p>



<a name="205789850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789850">(Aug 03 2020 at 12:54)</a>:</h4>
<p>If you start by defining your relation on the tensor algebra itself, those relations already hold true!</p>



<a name="205789882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205789882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205789882">(Aug 03 2020 at 12:55)</a>:</h4>
<p>So I suggest defining your cliff_rel as a relation on the tensor algebra</p>



<a name="205790010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205790010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205790010">(Aug 03 2020 at 12:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205771490">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205492670">said</a>:</p>
<blockquote>
<p>Just to be clear, the bimodule route would look something like:</p>
<ul>
<li>Rename the current <code>semimodule</code> to <code>semileftmodule</code></li>
<li>Rename the current <code>submodule</code> to <code>leftsubmodule</code></li>
<li>Create copies of all the <code>left</code> code for <code>right</code></li>
<li>Create <code>bimodule</code> as <code>extends semileftmodule, semirightmodule</code></li>
<li>Create <code>subbimodule</code> similarly</li>
<li>alias <code>semimodule R M</code> to <code>semibimodule R R M</code></li>
<li>alias <code>submodule R M</code> to <code>subbimodule R R M</code></li>
<li>split <code>has_smul</code> into <code>has_right_smul</code> and <code>has_left_smul</code></li>
<li>...</li>
</ul>
<p>This feels like a very substantial amount of work</p>
</blockquote>
<p>In the future, <code>module</code> will be renamed into <code>left_noncommunitalsemiring_addcommgroup_module</code></p>
</blockquote>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> Have you heard of <a href="https://ncatlab.org/nlab/show/red+herring+principle">The red herring principle</a>?</p>
<p>I'm afraid the inaccuracies of the names are inevitable, one has to settle on what's short and about right.</p>



<a name="205790172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205790172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205790172">(Aug 03 2020 at 12:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Ideals.20over.20algebras/near/205789850">said</a>:</p>
<blockquote>
<p>If you start by defining your relation on the tensor algebra itself, those relations already hold true!</p>
</blockquote>
<p>I tried that first, then stuck at Q3 so I fell back to pre. Now as Q3 is resolved, it seems that I can go back on that route.</p>



<a name="205790508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205790508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205790508">(Aug 03 2020 at 13:01)</a>:</h4>
<p>But I'm still seeking a general pattern here, about "inheriting" an inductive type.</p>



<a name="205790784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205790784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205790784">(Aug 03 2020 at 13:04)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra</span><span class="bp">.</span><span class="n">quadratic_form</span>
<span class="kn">import</span> <span class="n">linear_algebra</span><span class="bp">.</span><span class="n">tensor_algebra</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">K</span> <span class="n">V</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">Q</span> <span class="o">:</span> <span class="n">quadratic_form</span> <span class="n">K</span> <span class="n">V</span><span class="o">)</span>

<span class="kn">open</span> <span class="n">tensor_algebra</span>

<span class="kn">inductive</span> <span class="n">cliff_rel</span> <span class="o">:</span> <span class="n">tensor_algebra</span> <span class="n">K</span> <span class="n">V</span> <span class="bp">→</span> <span class="n">tensor_algebra</span> <span class="n">K</span> <span class="n">V</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">of</span> <span class="o">{</span><span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">:</span>  <span class="n">cliff_rel</span> <span class="o">((</span><span class="n">ι</span> <span class="n">K</span> <span class="n">V</span> <span class="n">v</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">ι</span> <span class="n">K</span> <span class="n">V</span> <span class="n">v</span><span class="o">))</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="n">Q</span> <span class="n">v</span><span class="o">))</span>
<span class="bp">|</span> <span class="n">add_compat</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">}</span> <span class="o">:</span> <span class="n">cliff_rel</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">cliff_rel</span> <span class="o">(</span><span class="n">x</span> <span class="bp">+</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">+</span> <span class="n">z</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">mul_compat_left</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">}</span> <span class="o">:</span> <span class="n">cliff_rel</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">cliff_rel</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">mul_compat_right</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">}</span> <span class="o">:</span> <span class="n">cliff_rel</span> <span class="n">x</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">cliff_rel</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>

<span class="n">def</span> <span class="n">clifford_algebra</span> <span class="o">:=</span> <span class="n">quot</span> <span class="o">(</span><span class="n">cliff_rel</span> <span class="n">K</span> <span class="n">V</span> <span class="n">Q</span><span class="o">)</span>
</code></pre></div>



<a name="205791553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205791553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205791553">(Aug 03 2020 at 13:12)</a>:</h4>
<p>Where're the <code>*compat*</code> coming from?</p>



<a name="205791618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205791618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205791618">(Aug 03 2020 at 13:13)</a>:</h4>
<p>What's the convention of using <code>of</code>? (Maybe it hints that this is the essence of the definition?)</p>



<a name="205792049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205792049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205792049">(Aug 03 2020 at 13:17)</a>:</h4>
<p>The compat stuff ensures the quotient inherits a ring structure from the tensor algebra.</p>



<a name="205792084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205792084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205792084">(Aug 03 2020 at 13:17)</a>:</h4>
<p>Of is because these are essentially the generators of the ideal.</p>



<a name="205792356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205792356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205792356">(Aug 03 2020 at 13:20)</a>:</h4>
<p>How much is the definition above (without ideal) different from the one with ideal? Mostly technical, I presume?</p>



<a name="205792825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205792825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205792825">(Aug 03 2020 at 13:24)</a>:</h4>
<p>This is the relation that generates the  equivalence relation you would get from the two sided ideal. But mathlib doesn't (yet) have two sided ideals...</p>



<a name="205793140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205793140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205793140">(Aug 03 2020 at 13:27)</a>:</h4>
<p>What's your plan after working on tensor algebra?</p>



<a name="205793249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205793249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205793249">(Aug 03 2020 at 13:28)</a>:</h4>
<p>I would be happy to help you with the Clifford algebra, if you like. I did the tensor algebra stuff because someone mentioned they needed the exterior algebra for something, and I think Scott suggested to define the tensor algebra first.</p>



<a name="205793663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205793663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205793663">(Aug 03 2020 at 13:32)</a>:</h4>
<p>Yes, we would really appreciate that! We would like to work on Clifford algebra and it would be awesome to have more guidance on how to do it mathematically correctly and possibly a roadmap with sorry and we'll try to work out the details.</p>



<a name="205793765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205793765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205793765">(Aug 03 2020 at 13:33)</a>:</h4>
<p>The path might be: two sided ideals -&gt; Grassmann Algebra -&gt; Clifford Algebra</p>



<a name="205793901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205793901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205793901">(Aug 03 2020 at 13:34)</a>:</h4>
<p>About the motivation for exterior algebras, I think the main expected milestone is to get differential forms.</p>



<a name="205794855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205794855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205794855">(Aug 03 2020 at 13:42)</a>:</h4>
<p>I agree differential forms are the main motivation. I would eventually also like to define Milnor K-theory, which is defined as a certain quotient of the tensor algebra (and is related to logarithmic differential forms).</p>



<a name="205794932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205794932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205794932">(Aug 03 2020 at 13:42)</a>:</h4>
<p>The natural next step for Geometric Algebra (a reformulation from Clifford Algebra mainly for geometric applications) is <a href="https://en.wikipedia.org/wiki/Geometric_calculus">Geometric Calculus</a> and somewhere in the middle we'll need to have differential forms. But Grassmann Algebra, on its own, also has many important geometric applications that we're interested in.</p>



<a name="205797495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205797495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205797495">(Aug 03 2020 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>, that code sample above is missing a function to lift a scalar to the algebra, right?</p>



<a name="205797700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205797700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205797700">(Aug 03 2020 at 14:05)</a>:</h4>
<p>No, the scalar action is just multiplication in an algebra</p>



<a name="205797805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205797805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205797805">(Aug 03 2020 at 14:06)</a>:</h4>
<p>I'm probably missing something silly then - how would I define the canonical <code>K → clifford_algebra K  V Q</code> function?</p>



<a name="205797882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205797882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205797882">(Aug 03 2020 at 14:07)</a>:</h4>
<p>Compose the algebra map to the tensor algebra and the quotient map</p>



<a name="205798071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205798071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205798071">(Aug 03 2020 at 14:09)</a>:</h4>
<p>Ah, I was forgetting that a quotient map is implemented</p>



<a name="205819881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205819881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205819881">(Aug 03 2020 at 17:04)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span> could  I (github username <code>utensil</code> have push access to non-master branches of mathlib? <span class="user-mention" data-user-id="310045">@Eric Wieser</span>  and I plan to work on Clifford Algebra and its dependencies. Thanks!</p>



<a name="205825795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205825795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205825795">(Aug 03 2020 at 17:56)</a>:</h4>
<p>Done</p>



<a name="205826050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205826050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205826050">(Aug 03 2020 at 17:58)</a>:</h4>
<p>Thanks! <span class="user-mention" data-user-id="110026">@Simon Hudon</span></p>



<a name="205855926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205855926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205855926">(Aug 03 2020 at 22:44)</a>:</h4>
<p>Another thing we should do now that we have the tensor algebra is define the universal enveloping algebra of a Lie algebra (<span class="user-mention" data-user-id="240862">@Oliver Nash</span>?), prove the universal property, and show that it preserves representation categories.</p>



<a name="205939654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Ideals%20over%20algebras/near/205939654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Ideals.20over.20algebras.html#205939654">(Aug 04 2020 at 18:06)</a>:</h4>
<p>I have had this same thought <span class="user-mention" data-user-id="110087">@Scott Morrison</span> and had been anxiously waiting for the tensor algebra PR to merge for this reason. Unfortunately however I am likely to have a lot less time for Mathlib for the next month or two so I personally don't expect to PR this (or much at all) in the near future.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>