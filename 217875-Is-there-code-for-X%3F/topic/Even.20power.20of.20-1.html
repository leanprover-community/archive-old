---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html">Even power of -1</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278004822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278004822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278004822">(Apr 06 2022 at 10:40)</a>:</h4>
<p>Do we really not have this? Maybe <span class="user-mention" data-user-id="321459">@Damiano Testa</span> knows?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.parity</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">even</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">-</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">^</span><span class="n">n</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="278004936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278004936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278004936">(Apr 06 2022 at 10:42)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/nat.neg_one_pow_of_even">docs#nat.neg_one_pow_of_even</a></p>



<a name="278004947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278004947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278004947">(Apr 06 2022 at 10:42)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/neg_one_pow_eq_pow_mod_two">docs#neg_one_pow_eq_pow_mod_two</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.neg_one_pow_eq_one_iff_even">docs#nat.neg_one_pow_eq_one_iff_even</a></p>



<a name="278004961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278004961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278004961">(Apr 06 2022 at 10:42)</a>:</h4>
<p>Ugh, that's a terrible name <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="278008451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278008451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278008451">(Apr 06 2022 at 11:18)</a>:</h4>
<p>The second name of the three, I assume?</p>



<a name="278009302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278009302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278009302">(Apr 06 2022 at 11:27)</a>:</h4>
<p>The first one. I was looking for <code>even.neg_one_pow</code>, <code>even.neg_pow</code>, ...</p>



<a name="278013638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278013638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278013638">(Apr 06 2022 at 12:09)</a>:</h4>
<p>Good point, we don't usually put things about natural powers in the nat namespace</p>



<a name="278020048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278020048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278020048">(Apr 06 2022 at 13:04)</a>:</h4>
<p>oh, I assumed it was about nat-powers! dear lord...</p>



<a name="278020744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278020744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278020744">(Apr 06 2022 at 13:10)</a>:</h4>
<p>Ah yes, <code>-1 : nat</code> <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="278020802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278020802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278020802">(Apr 06 2022 at 13:10)</a>:</h4>
<p>I will issue a PR to fix the name today.</p>



<a name="278021100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278021100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278021100">(Apr 06 2022 at 13:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Even.20power.20of.20-1/near/278020744">said</a>:</p>
<blockquote>
<p>Ah yes, <code>-1 : nat</code> <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>
</blockquote>
<p>404: my brain cannot be located today <span aria-label="shock" class="emoji emoji-1f628" role="img" title="shock">:shock:</span></p>



<a name="278408146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278408146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278408146">(Apr 09 2022 at 12:37)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13268">#13268</a></p>



<a name="278408198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278408198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278408198">(Apr 09 2022 at 12:38)</a>:</h4>
<p>I'm cleaning up a few other things simultaneously. Maybe <span class="user-mention" data-user-id="321459">@Damiano Testa</span> wants to have a look.</p>



<a name="278409853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278409853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278409853">(Apr 09 2022 at 13:18)</a>:</h4>
<p>We've transcended the boring debate over whether 0 should be included in the natural numbers, and moved on to whether -1 should be included <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278410537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278410537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278410537">(Apr 09 2022 at 13:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Even.20power.20of.20-1/near/278408146">said</a>:</p>
<blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13268">#13268</a></p>
</blockquote>
<p>literally above your post on Zulip is bors merging my generalisation of the typeclasses in that file, sorry about that!</p>



<a name="278422176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Even%20power%20of%20-1/near/278422176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Even.20power.20of.20-1.html#278422176">(Apr 09 2022 at 17:54)</a>:</h4>
<p>Yaël, I left a review: I'm on mobile, so have not been able to experiment, but it all looks fine!</p>
<p>Regarding <code>odd</code>, especially in view of what its <code>to_multiplicative</code> version should be, I think that, if we really want to define it in general, it should be "not even".  Having said this, I'm not sure that it is such a useful concept when it does not also mean <code>2*x+1</code> (or <code>x+x+1</code> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> ), which I'm not sure how to <code>multiplicativize</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>