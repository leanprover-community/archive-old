---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html">modus ponens in context</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="256842774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256842774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256842774">(Oct 09 2021 at 05:42)</a>:</h4>
<p>If I have <code>P -&gt; Q</code> and <code>P</code> in the context, is there a tactic that will add <code>Q</code> to the context?</p>



<a name="256842874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256842874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256842874">(Oct 09 2021 at 05:44)</a>:</h4>
<p>I think <code>apply_fun f at x</code> do it, if <code>f : P -&gt; Q</code> and <code>x : P</code>.</p>



<a name="256842903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256842903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256842903">(Oct 09 2021 at 05:44)</a>:</h4>
<p>But <code>have := f x</code> or <code>let y := f x</code> also work.</p>



<a name="256842935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256842935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256842935">(Oct 09 2021 at 05:45)</a>:</h4>
<p>Thank you.</p>



<a name="256843490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256843490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256843490">(Oct 09 2021 at 05:55)</a>:</h4>
<p><code>apply_fun</code> doesn't seem to work, but <code>let</code> does,</p>



<a name="256843891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256843891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256843891">(Oct 09 2021 at 06:02)</a>:</h4>
<p>You might need to <code>import tactic.basic</code> for <code>apply_fun</code>.</p>



<a name="256843988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256843988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256843988">(Oct 09 2021 at 06:04)</a>:</h4>
<p>I still get, <code>failed to apply f at x</code>.</p>



<a name="256848156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256848156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256848156">(Oct 09 2021 at 07:18)</a>:</h4>
<p>Can you post a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a>?</p>



<a name="256853416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256853416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256853416">(Oct 09 2021 at 08:48)</a>:</h4>
<p>Isn't apply_fun for equalities not implications?</p>



<a name="256853747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256853747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256853747">(Oct 09 2021 at 08:54)</a>:</h4>
<p>Yup, as far as I know all it does is using <code>congr_arg</code>.</p>



<a name="256853866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256853866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256853866">(Oct 09 2021 at 08:57)</a>:</h4>
<p><code>apply_fun X at Y</code> definitely does more than <code>congr_arg</code>!</p>



<a name="256853873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256853873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256853873">(Oct 09 2021 at 08:57)</a>:</h4>
<p>But yes, it doesn't do this.</p>



<a name="256853948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256853948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256853948">(Oct 09 2021 at 08:58)</a>:</h4>
<p>I should really know better <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="256854132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854132">(Oct 09 2021 at 09:01)</a>:</h4>
<p>Sorry for the <code>apply_fun</code> suggestion. I should have know that it doesn't work here.</p>



<a name="256854268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854268">(Oct 09 2021 at 09:03)</a>:</h4>
<p>It's so tempting though. We use <code>apply</code> many ways in informal maths.</p>



<a name="256854292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854292">(Oct 09 2021 at 09:03)</a>:</h4>
<p>I think it's reasonable to have <code>apply_fun</code>'s semantics be "please do something sensible with this function (at this location)". So we should support it. :-)</p>



<a name="256854369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854369">(Oct 09 2021 at 09:04)</a>:</h4>
<p><span class="user-mention" data-user-id="139442">@Patrick Thomas</span>, often useful in similar situations is <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#specialize">tactic#specialize</a>.</p>



<a name="256854476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854476">(Oct 09 2021 at 09:06)</a>:</h4>
<p>I don't think this is such a case though; <code>apply_fun f</code> means "put f on the right of the colon somewhere". In the case we're talking about, it would mean "use this to construct the term"</p>



<a name="256854524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256854524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256854524">(Oct 09 2021 at 09:07)</a>:</h4>
<p><code>specialize</code> is indeed what you want.</p>



<a name="256875607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256875607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Thomas <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256875607">(Oct 09 2021 at 14:54)</a>:</h4>
<p>I think Coq might have an <code>apply in</code> tactic?</p>



<a name="256877386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256877386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256877386">(Oct 09 2021 at 15:22)</a>:</h4>
<p>iirc Coq has <code>apply at</code>for this, in Lean you can also do <code>replace x := f x</code> to mimic this behaviour, but I generally prefer Johan's original suggestion of <code>have := f x</code> in case I want <code>x : P</code> later</p>



<a name="256886236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256886236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256886236">(Oct 09 2021 at 17:43)</a>:</h4>
<p>I think <code>apply at</code> would make sense for lean to support</p>



<a name="256886421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/modus%20ponens%20in%20context/near/256886421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/modus.20ponens.20in.20context.html#256886421">(Oct 09 2021 at 17:46)</a>:</h4>
<p>No idea if this code still works but there looks to be an implementation here: <a href="https://github.com/jldodds/coq-lean-cheatsheet/blob/master/coq-tactic-substitutes.lean">https://github.com/jldodds/coq-lean-cheatsheet/blob/master/coq-tactic-substitutes.lean</a>, edit: or is apply in different to apply at?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>