---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html">quotient by monoid action</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="210973472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210973472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210973472">(Sep 23 2020 at 08:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/S1.20and.20other.20topological.20spaces/near/210912022">said</a>:</p>
<blockquote>
<p>It's complicated to describe in this case. The best I can come up with is this: The forgetful functor from sets with a group action to sets with a monoid action has a left adjoint. (It's a souped up version of the groupification functor from monoids to groups.) The equivalence relation is "essentially" the equivalence relation induced by the group action via this left adjoint (by this I mean they have the same quotients, but there can be some analogues of zero divisors which will complicate things). I don't know if any of this makes sense.</p>
</blockquote>
<p>This was an educational exercise in universal algebra, and I think I've verified that it all works (formalized in Lean!) while also proving some universal properties along the way.  I defined the <em>universal enveloping group</em> of a monoid (the non-commutative version of the Grothendieck group; I found the nomenclature in Bergman's book "An Invitation to General Algebra and Universal Constructions"), showed it was the universal group that factors homomorphisms from a monoid to a group, defined a "universal enveloping group action" associated to a monoid action, which factors homomorphisms of monoid actions  to group actions, then defined two quotients.  The first was <code>quot (λ (x y : α), ∃ (a : M), x = a • y)</code> and the second was the quotient of the universal enveloping group action by the universal enveloping group.  Lastly, I showed there was an equivalence between these two quotients.</p>
<p>The code is too big for posting here, so here's a link to a gist: <a href="https://gist.github.com/kmill/af2bbe856ea66e147ef699365a85b763">https://gist.github.com/kmill/af2bbe856ea66e147ef699365a85b763</a></p>
<p>I didn't show anything was functorial or explicitly adjoint.</p>



<a name="210973700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210973700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210973700">(Sep 23 2020 at 08:42)</a>:</h4>
<p>After all this, it seems to me it's all just a fancy way of saying that equivalence relation you're quotienting by is the one generated by <code>(λ (x y : α), ∃ (a : M), x = a • y)</code> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210986871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210986871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210986871">(Sep 23 2020 at 11:05)</a>:</h4>
<p>Universal enveloping algebras are important in the theory of Lie algebras and associative algebras; there was a recent PR by Oliver Nash about them. The reason I mention this is that when we were starting on schemes I needed localisation of rings and Kenny Lau formalised it and got it into mathlib, and then later on we realised that localisation started earlier in the story and there should be a localisation theory for monoids, which Amelia Livingston wrote and it involved a major refactor of localisation of rings.</p>



<a name="210986958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210986958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210986958">(Sep 23 2020 at 11:06)</a>:</h4>
<p>If there's some sort of analogous story here, where the universal enveloping group should be done before the universal enveloping algebra, or perhaps some more general theory of universal enveloping stuff should be developed, then now would be a good time to figure out how to formalise this stuff in a good generality as far as mathlib goes.</p>



<a name="210987093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987093">(Sep 23 2020 at 11:08)</a>:</h4>
<p>Just thinking about it now, I was very enthusiastic when Oliver mentioned universal enveloping algebras to me (because I need them for the Langlands program in order to state the definition of an automorphic form) but now I'm worried we've "started too far down the line" like we did when localising rings instead of monoids. Note that Oliver's PR is still open (he's having a Lean break right now before he comes to work for me doing Lean full time in April :D)</p>



<a name="210987264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987264">(Sep 23 2020 at 11:11)</a>:</h4>
<p><span class="user-mention" data-user-id="240862">@Oliver Nash</span>'s PR (<a href="https://github.com/leanprover-community/mathlib/issues/4041">#4041</a>) is still in progress --- we did a refactor of <span class="user-mention" data-user-id="243562">@Adam Topaz</span>'s construction of the tensor algebra as a quotient of the free algebra first. The universal enveloping algebra construction will then be done as a quotient of the tensor algebra, I guess.</p>



<a name="210987447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987447">(Sep 23 2020 at 11:13)</a>:</h4>
<p>I actually had a go at rebasing that PR on top of the refactored <code>ring_quot</code> and <code>tensor_algebra</code> stuff yesterday evening and ran into annoying issues with typeclass inference.</p>



<a name="210987714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987714">(Sep 23 2020 at 11:17)</a>:</h4>
<p>The issue is that the tensor algebra only has the structure of a semiring but I need the actual ring structure on the quotient. This is theoretically fine because our scalars contain -1 and so we get the subtraction by multiplying by that. But there are then two semiring structures: the original one and the one provided by <code>ring.to_semiring</code>, and they're not definitionally equal.</p>



<a name="210987801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987801">(Sep 23 2020 at 11:18)</a>:</h4>
<p>And for the Lie algebra stuff to work, the algebra structure should use the semiring structure from <code>ring.to_semiring</code> but the algebra structure on <code>tensor_algebra</code> is the other one.</p>



<a name="210987937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210987937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210987937">(Sep 23 2020 at 11:20)</a>:</h4>
<p>I'm fairly sure I can massage this all into a good form, especially as corresponding problems must arise anywhere in the linear algebra parts of the library where we use subtraction, but I couldn't quite get it to work yesterday</p>



<a name="210988112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210988112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210988112">(Sep 23 2020 at 11:22)</a>:</h4>
<p>Finally, I take the point Kevin is making about the lessons learned from ring localisation (I am aware of this history though I didn't follow it in detail). I'll have a little time again this evening and will look again, bearing in mind that it might be worth holding off till some more basic universal enveloping structure is in place.</p>



<a name="210988608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210988608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210988608">(Sep 23 2020 at 11:28)</a>:</h4>
<p>I'm definitely not saying "we're doing it wrong", I'm just saying "let's check we're doing it right".</p>



<a name="210988632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210988632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210988632">(Sep 23 2020 at 11:28)</a>:</h4>
<p>Understood, and agreed.</p>



<a name="210998591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210998591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210998591">(Sep 23 2020 at 13:05)</a>:</h4>
<p>The Lie bracket uses both multiplication and subtraction, so I don't think the enveloping algebra of a Lie algebra is a special case of something for a "Lie monoid" the same way that localization for rings was a special case of localization for monoids.</p>



<a name="210999536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210999536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210999536">(Sep 23 2020 at 13:11)</a>:</h4>
<p>On the other hand localization of commutative monoids and this "universal enveloping group of a monoid" are both instances of "invert some elements of a monoid". But the commutative localization is really a special case that has extra properties, so it's worth keeping even if we also have general noncommutative localizations.</p>



<a name="210999845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/210999845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#210999845">(Sep 23 2020 at 13:13)</a>:</h4>
<p>One of my slow-moving side projects is to extend the commutative localization to Ore localizations in the noncommutative case, which have the same extra properties, and also extend it to localizations of modules--the construction for modules is the same as for the monoids themselves so I guess it should be possible to take the localization of modules as the starting point, and then equip it with a monoid structure.</p>



<a name="211008136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211008136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211008136">(Sep 23 2020 at 14:07)</a>:</h4>
<p>I'm confused about the semiring vs ring issue... The only additional data is negation, which you define as scalar multiplication by -1. Presumably you would extend the existing semiring structure, right? So why are the two semiring instances not defeq?</p>



<a name="211008876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211008876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211008876">(Sep 23 2020 at 14:11)</a>:</h4>
<p>A good analogous case of this, which I assume is in mathlib, is the fact that a semimodule over a ring is an add_comm_group, and not just an add_comm_monoid. How does mathlib handle this case? (Assuming it does at all!)</p>



<a name="211058878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211058878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211058878">(Sep 23 2020 at 20:36)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>  I believe the problem is that <code>ring</code> does not extend <code>semiring</code>. I don't understand the details of Lean's unification well enough to know for sure but it might be down to the fact that <code>semiring</code> carries <code>zero_mul</code> and <code>mul_zero</code> around with it. Check out <code>ring.to_semiring</code>: <a href="https://github.com/leanprover-community/mathlib/blob/7cf8fa629b389ac6e6615f0361225c515272fe98/src/algebra/ring/basic.lean#L413">https://github.com/leanprover-community/mathlib/blob/7cf8fa629b389ac6e6615f0361225c515272fe98/src/algebra/ring/basic.lean#L413</a></p>



<a name="211059282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211059282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211059282">(Sep 23 2020 at 20:39)</a>:</h4>
<p>Anyway I've got 30 minutes to look at this again now so hopefully I'll be able to bottom out. I agree with Reid that there is no case to be made for a weird Lie monoid structure.</p>



<a name="211059778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211059778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211059778">(Sep 23 2020 at 20:43)</a>:</h4>
<p>Though it occurs to me that a horrendous workaround for my semiring issue (which I don't seriously propose) would be to avoid having to define a ring structure on the tensor algebra by quotienting by the relation generated by: <code>i(⁅x, y⁆) + i(y)i(x) ∼ i(x)i(y)</code>.</p>



<a name="211060921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211060921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211060921">(Sep 23 2020 at 20:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211059778">said</a>:</p>
<blockquote>
<p>Though it occurs to me that a horrendous workaround for my semiring issue (which I don't seriously propose) would be to avoid having to define a ring structure on the tensor algebra by quotienting by the relation generated by: <code>i(⁅x, y⁆) + i(y)i(x) ∼ i(x)i(y)</code>.</p>
</blockquote>
<p>This seems like a good solution to me! All the conditions for a Lie algebra can be written using addition only anyway :)</p>



<a name="211060973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211060973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211060973">(Sep 23 2020 at 20:54)</a>:</h4>
<p>But the ring/semiring thing seems like a more serious problem, doesn't it? The same issue would pop up whenever you have a semiring which just so happens to be a ring with respect to negation defined somehow.</p>



<a name="211061332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211061332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211061332">(Sep 23 2020 at 20:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211060973">said</a>:</p>
<blockquote>
<p>But the ring/semiring thing seems like a more serious problem, doesn't it? The same issue would pop up whenever you have a semiring which just so happens to be a ring with respect to negation defined somehow.</p>
</blockquote>
<p>It does indeed seem more serious. I'm currently working to make sure I have understood this correctly, and think about what to do if so.</p>



<a name="211061572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211061572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211061572">(Sep 23 2020 at 20:59)</a>:</h4>
<p>Maybe I should mention that I originally defined the tensor algebra over rings, but then switched to semirings because it felt like "a generalization"...</p>



<a name="211061791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211061791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211061791">(Sep 23 2020 at 21:01)</a>:</h4>
<p>I blame <span class="user-mention" data-user-id="112680">@Johan Commelin</span> <a href="https://github.com/leanprover-community/mathlib/pull/3531#discussion_r460123649">https://github.com/leanprover-community/mathlib/pull/3531#discussion_r460123649</a><br>
<span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="211061972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211061972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211061972">(Sep 23 2020 at 21:03)</a>:</h4>
<p>Ha! I agree with his sentiments.</p>



<a name="211062935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211062935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211062935">(Sep 23 2020 at 21:11)</a>:</h4>
<p>(Regarding the code I wrote, I'm happy enough with it just being an exercise, but if mathlib doesn't already have the universal enveloping group of a monoid, which I couldn't easily find already, I'm willing to clean it up for a PR.  It would be cool if there were an automatic generator for this stuff [wasn't there a post a month ago about this?], but for now I suppose grad student labor suffices.)</p>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Was there an abstract nonsense reason for the quotients being equal? Is it that in each case the quotient is the coinvariants, which is a colimit, so the group-action-ification functor, which is left adjoint, preserves it?</p>



<a name="211063095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063095">(Sep 23 2020 at 21:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211062935">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> Was there an abstract nonsense reason for the quotients being equal? Is it that in each case the quotient is the coinvariants, which is a colimit, so the group-action-ification functor, which is left adjoint, preserves it?</p>
</blockquote>
<p>Mumble mumble mumble left adjoint mumble mumble.</p>



<a name="211063115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063115">(Sep 23 2020 at 21:13)</a>:</h4>
<p>I don't know, it seemed obvious that the construction should work.</p>



<a name="211063241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063241">(Sep 23 2020 at 21:14)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> I for one think it would be worth turning that gist into a PR.</p>



<a name="211063292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063292">(Sep 23 2020 at 21:15)</a>:</h4>
<p>I guess in some sense <code>eqv_gen</code> is the left adjoint of the forgetful functor from equivalence relations to relations, groupification is the left adjoint of the forgetful functor from groups to monoids,.</p>



<a name="211063458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063458">(Sep 23 2020 at 21:16)</a>:</h4>
<p>Oh, and I certainly agree that the groupification should be in mathlib :)</p>



<a name="211063631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211063631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211063631">(Sep 23 2020 at 21:18)</a>:</h4>
<p>And yes, it would be cool if we had an automatic generator. This is a special case of a forgetful functor associated to a morphism of theories in the sense of universal algebra, and these always have left adjoints.</p>



<a name="211064076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211064076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211064076">(Sep 23 2020 at 21:23)</a>:</h4>
<p>While working on this, it felt like I was doing one of your Math 250B assignments again, but perhaps a bit more satisfying since it's formally verified <img alt=":lean:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/3121/emoji/images/17579.png" title="lean"> (though I don't remember us covering any universal algebra -- I'd just sat in for a couple of Prof. Bergman's lectures and glance at his book occasionally)</p>



<a name="211064359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211064359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211064359">(Sep 23 2020 at 21:26)</a>:</h4>
<p>A tangential question I've had in the back of my mind for a while: could anyone point me toward the state-of-the-art in deriving a confluent rewrite system from a list of axioms?  I know a little about the Knuth-Bendix algorithm, though I haven't seen a version of it for tree rewriting, only monoid/group word rewriting.  For axiom sets for which the algorithm succeeds, it might be a nice way to generate simp lemmas.</p>



<a name="211068214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211068214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211068214">(Sep 23 2020 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> I'm pretty sure the "general nonsense" argument you mentioned using the fact that the quotient can be seen as a colimit will work. I wonder how one might formalize this in lean? The first step is that it's the colimit of a functor from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">C</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{C}_M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi><mi mathvariant="normal">y</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi></mrow><annotation encoding="application/x-tex">\mathrm{Type}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">T</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span><span class="mord mathrm">p</span><span class="mord mathrm">e</span></span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">C</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{C}_M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the category with one object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋆</mo></mrow><annotation encoding="application/x-tex">\star</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">⋆</span></span></span></span> and where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Hom</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo>⋆</mo><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">\operatorname{Hom}(\star,\star) = M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">H</span><span class="mord mathrm">o</span><span class="mord mathrm">m</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⋆</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> as a monoid. Does mathlib have the construction of such a category assocaited to a monoid?</p>



<a name="211068285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211068285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211068285">(Sep 23 2020 at 22:09)</a>:</h4>
<p>(Note that there is a left adjoint from the 2-category of groupoids to the 2-category of categories, and the groupification is a special case of this <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> )</p>



<a name="211070442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070442">(Sep 23 2020 at 22:31)</a>:</h4>
<p>How do adjoints work for 2-categories?</p>



<a name="211070548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070548">(Sep 23 2020 at 22:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211070442">said</a>:</p>
<blockquote>
<p>How do adjoints work for 2-categories?</p>
</blockquote>
<p>There are various versions. <a href="https://ncatlab.org/nlab/show/2-adjunction">https://ncatlab.org/nlab/show/2-adjunction</a></p>



<a name="211070566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070566">(Sep 23 2020 at 22:33)</a>:</h4>
<p>I guess I'm thinking of a "strict 2-adjunction" in this case?</p>



<a name="211070610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070610">(Sep 23 2020 at 22:34)</a>:</h4>
<p>Yeah the reason I asked was that I could naively imagine more than one definition -- and indeed there seems to be more than one definition :-)</p>



<a name="211070679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070679">(Sep 23 2020 at 22:34)</a>:</h4>
<p>I should probably open a PR for this: <br>
<a href="https://github.com/leanprover-community/mathlib/blob/cat_localization/src/category_theory/localization.lean">https://github.com/leanprover-community/mathlib/blob/cat_localization/src/category_theory/localization.lean</a></p>



<a name="211070719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070719">(Sep 23 2020 at 22:35)</a>:</h4>
<p>But it's already a month behind, so it might already be broken with up-to-date mathlib.</p>



<a name="211070725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070725">(Sep 23 2020 at 22:35)</a>:</h4>
<p>TIL localisation of a category is naturally an infinity category</p>



<a name="211070740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070740">(Sep 23 2020 at 22:35)</a>:</h4>
<p>(was watching the MSRI lectures by Carlos Simpson)</p>



<a name="211070858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070858">(Sep 23 2020 at 22:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211070725">said</a>:</p>
<blockquote>
<p>TIL localisation of a category is naturally an infinity category</p>
</blockquote>
<p>Oh, how does this work?</p>



<a name="211070865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070865">(Sep 23 2020 at 22:37)</a>:</h4>
<p>And which lectures?</p>



<a name="211070987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211070987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211070987">(Sep 23 2020 at 22:38)</a>:</h4>
<p>He gave a series of lectures on infinity categories at MSRI a few years ago, I'll dig out the link</p>



<a name="211071014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071014">(Sep 23 2020 at 22:38)</a>:</h4>
<p>Found it: <a href="https://docs.google.com/viewer?url=https://www.msri.org/workshops/862/schedules/25985/documents/50141/assets/85626">https://docs.google.com/viewer?url=https://www.msri.org/workshops/862/schedules/25985/documents/50141/assets/85626</a></p>



<a name="211071022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071022">(Sep 23 2020 at 22:38)</a>:</h4>
<p>section 2.</p>



<a name="211071099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071099">(Sep 23 2020 at 22:40)</a>:</h4>
<p>Apparently what people like me who only know about categories think of as localisation of a category at a collection of morphisms is actually a composition of true localisation (an infinity category) followed by  1-truncation (replace Hom(X,Y) by the set of isom classes)</p>



<a name="211071189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071189">(Sep 23 2020 at 22:41)</a>:</h4>
<p>Yes that link is exactly it -- I was watching the videos whilst exercising :-)</p>



<a name="211071205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071205">(Sep 23 2020 at 22:41)</a>:</h4>
<p>In case anyone else is interested, here's the link to the video: <a href="https://www.msri.org/workshops/862/schedules/25985">https://www.msri.org/workshops/862/schedules/25985</a></p>



<a name="211071292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211071292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211071292">(Sep 23 2020 at 22:42)</a>:</h4>
<p>So the groupification of a monoid is naturally an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span>-groupoid?!</p>



<a name="211092300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211092300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211092300">(Sep 24 2020 at 05:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211061791">said</a>:</p>
<blockquote>
<p>I blame <span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="https://github.com/leanprover-community/mathlib/pull/3531#discussion_r460123649">https://github.com/leanprover-community/mathlib/pull/3531#discussion_r460123649</a><br>
<span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>
</blockquote>
<p>I'll take the blame <span aria-label="expressionless" class="emoji emoji-1f611" role="img" title="expressionless">:expressionless:</span> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="211092471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211092471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211092471">(Sep 24 2020 at 05:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211068214">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> I'm pretty sure the "general nonsense" argument you mentioned using the fact that the quotient can be seen as a colimit will work. I wonder how one might formalize this in lean? The first step is that it's the colimit of a functor from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">C</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{C}_M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi><mi mathvariant="normal">y</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi></mrow><annotation encoding="application/x-tex">\mathrm{Type}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">T</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span><span class="mord mathrm">p</span><span class="mord mathrm">e</span></span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">C</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{C}_M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the category with one object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋆</mo></mrow><annotation encoding="application/x-tex">\star</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">⋆</span></span></span></span> and where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Hom</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo>⋆</mo><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">\operatorname{Hom}(\star,\star) = M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">H</span><span class="mord mathrm">o</span><span class="mord mathrm">m</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⋆</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> as a monoid. Does mathlib have the construction of such a category assocaited to a monoid?</p>
</blockquote>
<p>Yup we have this... <a href="https://leanprover-community.github.io/mathlib_docs/find/single_obj">docs#single_obj</a></p>



<a name="211129555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211129555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211129555">(Sep 24 2020 at 13:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211071292">said</a>:</p>
<blockquote>
<p>So the groupification of a monoid is naturally an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span>-groupoid?!</p>
</blockquote>
<p>In more classical language, this is the classifying space or nerve construction</p>



<a name="211161232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/quotient%20by%20monoid%20action/near/211161232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/quotient.20by.20monoid.20action.html#211161232">(Sep 24 2020 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/quotient.20by.20monoid.20action/near/211060921">said</a>:</p>
<blockquote>
<p>This seems like a good solution to me! All the conditions for a Lie algebra can be written using addition only anyway :)</p>
</blockquote>
<p>I decided to see how this would look and maybe it's OK after all: <a href="https://github.com/leanprover-community/mathlib/pull/4041">https://github.com/leanprover-community/mathlib/pull/4041</a> I still want to spend some time to understand the inference issues I encountered a bit better, but I've warmed up to what I at first thought was a dirty hack.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>