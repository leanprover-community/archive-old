---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html">For naturals m < m', there is a positive integer s.th....</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234128596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234128596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob Scholbach <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234128596">(Apr 12 2021 at 09:28)</a>:</h4>
<p>Is this in mathlib? </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">sub_diff</span> <span class="o">(</span><span class="n">m</span> <span class="n">m'</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">m'</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">s</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">s</span> <span class="bp">∧</span> <span class="n">m'</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">use</span> <span class="n">m'</span> <span class="bp">-</span> <span class="n">m</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">omega</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="o">(</span><span class="n">nat.add_sub_of_le</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">h</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="234129094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129094">(Apr 12 2021 at 09:33)</a>:</h4>
<p>The version with <code>&lt;=</code> conditions exists.</p>



<a name="234129143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129143">(Apr 12 2021 at 09:33)</a>:</h4>
<p>There is <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.exists_eq_add_of_lt">docs#nat.exists_eq_add_of_lt</a> which is similar to what you are looking for</p>



<a name="234129197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129197">(Apr 12 2021 at 09:34)</a>:</h4>
<p>I was thinking of <a href="https://leanprover-community.github.io/mathlib_docs/algebra/ordered_monoid.html#le_iff_exists_add">https://leanprover-community.github.io/mathlib_docs/algebra/ordered_monoid.html#le_iff_exists_add</a></p>



<a name="234129344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129344">(Apr 12 2021 at 09:35)</a>:</h4>
<p>That golfs to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">nat.exists_eq_add_of_lt'</span> <span class="o">(</span><span class="n">m</span> <span class="n">m'</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">&lt;</span> <span class="n">m'</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">s</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">s</span> <span class="bp">∧</span> <span class="n">m'</span> <span class="bp">=</span> <span class="n">m</span> <span class="bp">+</span> <span class="n">s</span> <span class="o">:=</span>
<span class="k">let</span> <span class="o">⟨</span><span class="n">k</span><span class="o">,</span> <span class="n">hk</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">nat.exists_eq_add_of_lt</span> <span class="n">h</span> <span class="k">in</span> <span class="o">⟨</span><span class="n">k.succ</span><span class="o">,</span> <span class="n">k.zero_lt_succ</span><span class="o">,</span> <span class="n">hk</span><span class="o">⟩</span>
</code></pre></div>



<a name="234129550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129550">(Apr 12 2021 at 09:36)</a>:</h4>
<p>But it's often more convenient to work in terms of <code>n.succ</code> instead of <code>0 &lt; n</code></p>



<a name="234129759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129759">(Apr 12 2021 at 09:38)</a>:</h4>
<p>That's often true locally, but if you want to apply results in a different part of the library, then <code>0 &lt; n</code> is typically more flexible.</p>



<a name="234129807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234129807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234129807">(Apr 12 2021 at 09:39)</a>:</h4>
<p>Because then you're often just handed a <code>n : nat</code>, and you don't want to case on it before applying a lemma.</p>



<a name="234130928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234130928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234130928">(Apr 12 2021 at 09:48)</a>:</h4>
<p>Worth PR'ing the above, perhaps as <code>nat.exists_eq_add_nonneg_of_lt</code> then?</p>



<a name="234140927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234140927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob Scholbach <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234140927">(Apr 12 2021 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> : OK,  -- I'm in the middle of a PR <a href="https://github.com/leanprover-community/mathlib/issues/6743">#6743</a> in which I need this. Is it better to keep PRs affecting such fundamental files such as <code>algebra.ordered_monoid</code> separate or could I just as well edit <code>algebra.ordered_monoid</code> in the course of that PR <a href="https://github.com/leanprover-community/mathlib/issues/6743">#6743</a>?</p>



<a name="234142123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234142123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234142123">(Apr 12 2021 at 11:32)</a>:</h4>
<p>I'd recommend:</p>
<ul>
<li>adding the lemma wherever is most convenient for now, and continuing the PR - putting it in the right place right now will make your builds very slow</li>
<li>creating a new PR with just that lemma, in the right place</li>
</ul>
<p>By the time the first complex PR is close to ready to merge, chances are the second one is already merged, and all you have to do is remove your copy of the lemma</p>



<a name="234222100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/For%20naturals%20m%20%3C%20m%27%2C%20there%20is%20a%20positive%20integer%20s.th..../near/234222100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/For.20naturals.20m.20.3C.20m'.2C.20there.20is.20a.20positive.20integer.20s.2Eth.2E.2E.2E.2E.html#234222100">(Apr 12 2021 at 20:08)</a>:</h4>
<p>I usually put lemma into correct files and use <code>--old</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>