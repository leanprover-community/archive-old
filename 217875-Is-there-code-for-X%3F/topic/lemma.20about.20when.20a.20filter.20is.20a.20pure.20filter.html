---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html">lemma about when a filter is a pure filter</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="277699995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277699995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277699995">(Apr 04 2022 at 08:46)</a>:</h4>
<p>I am looking for a lemma of the form f ≤ pure x  ∧ f.ne_bot → f = pure x. I can't seem to find anything of this sort. Is it just plain missing?</p>



<a name="277702449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277702449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277702449">(Apr 04 2022 at 09:06)</a>:</h4>
<p>I think you'd expect it to be stated as <code>example {X} (x : X) : is_atom (pure x : filter X)</code>, but library_search can't solve this so I guess it's missing?</p>



<a name="277704087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277704087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277704087">(Apr 04 2022 at 09:20)</a>:</h4>
<p>I think it's missing, but here is a proof.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.basic</span>

<span class="kn">open</span> <span class="n">filter</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">le_pure_iff_or</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≤</span> <span class="n">pure</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">pure</span> <span class="n">a</span> <span class="bp">∨</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">⊥</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_cases</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∈</span> <span class="n">f</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp_rw</span> <span class="o">[</span><span class="n">empty_mem_iff_bot.mp</span> <span class="n">h</span><span class="o">,</span> <span class="n">bot_le</span><span class="o">,</span> <span class="n">eq_self_iff_true</span><span class="o">,</span> <span class="n">or_true</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp_rw</span> <span class="o">[</span><span class="n">empty_mem_iff_bot.not.mp</span> <span class="n">h</span><span class="o">,</span> <span class="n">or_false</span><span class="o">,</span> <span class="n">le_antisymm_iff</span><span class="o">,</span> <span class="n">iff_self_and</span><span class="o">,</span> <span class="n">le_pure_iff</span><span class="o">,</span>
      <span class="n">pure_le_iff</span><span class="o">],</span>
    <span class="n">intros</span> <span class="n">haf</span> <span class="n">s</span> <span class="n">hsf</span><span class="o">,</span> <span class="n">by_contra</span> <span class="n">has</span><span class="o">,</span> <span class="n">apply</span> <span class="n">h</span><span class="o">,</span> <span class="n">convert</span> <span class="n">inter_mem</span> <span class="n">haf</span> <span class="n">hsf</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">singleton_inter_eq_empty.mpr</span> <span class="n">has</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">le_pure_iff_eq</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">ne_bot</span> <span class="n">f</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≤</span> <span class="n">pure</span> <span class="n">a</span> <span class="bp">↔</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">pure</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">le_pure_iff_or</span><span class="o">,</span> <span class="n">or_iff_left</span> <span class="o">(</span><span class="n">ne_bot.ne</span> <span class="o">‹</span><span class="n">_</span><span class="o">›)]</span>
</code></pre></div>



<a name="277706724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277706724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277706724">(Apr 04 2022 at 09:46)</a>:</h4>
<p>It's basically <a href="https://leanprover-community.github.io/mathlib_docs/find/ultrafilter.unique">docs#ultrafilter.unique</a> applied to <code>pure</code>.<br>
In an old version of mathlib I have lying around, it's literally <code>ultrafilter_unique ultrafilter_pure</code> but <code>is_ultrafilter</code> seems not to have survived some refactor.</p>



<a name="277710803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277710803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277710803">(Apr 04 2022 at 10:26)</a>:</h4>
<p>Oh, that is a lot nicer!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.ultrafilter</span>

<span class="kn">open</span> <span class="n">filter</span>

<span class="kd">lemma</span> <span class="n">le_pure_iff_eq</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">ne_bot</span> <span class="n">f</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">f</span> <span class="bp">≤</span> <span class="n">pure</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="bp">=</span> <span class="n">pure</span> <span class="n">a</span> <span class="o">:=</span>
<span class="n">ultrafilter.unique</span> <span class="o">(</span><span class="n">pure</span> <span class="n">a</span><span class="o">)</span> <span class="n">h</span>
</code></pre></div>



<a name="277718098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718098">(Apr 04 2022 at 11:43)</a>:</h4>
<p>OK. Should I open a PR to add le_pure_iff_eq to mathlib or should I just stick with ultrafilter.unique?</p>



<a name="277718213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718213">(Apr 04 2022 at 11:44)</a>:</h4>
<p>I think that could be a lemma, but please also the <code>is_atom</code> spelling.</p>



<a name="277718301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718301">(Apr 04 2022 at 11:45)</a>:</h4>
<p>Should this go under filter.ultrafilter?</p>



<a name="277718374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718374">(Apr 04 2022 at 11:45)</a>:</h4>
<p>Not sure what <code>is_atom</code> is about.</p>



<a name="277718500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718500">(Apr 04 2022 at 11:47)</a>:</h4>
<p>An atom in an order is something which is not minimum but just above the minimum.</p>



<a name="277718857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718857">(Apr 04 2022 at 11:51)</a>:</h4>
<p>Interesting. First time seeing that terminology.</p>



<a name="277718880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277718880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277718880">(Apr 04 2022 at 11:51)</a>:</h4>
<p>If something is getting connected to <code>is_atom</code> it should be <code>ultrafilter</code> itself</p>



<a name="277739091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739091">(Apr 04 2022 at 14:30)</a>:</h4>
<p>Hmm... <code>filter</code> does not seem to have a <code>order_bot</code> instance.</p>



<a name="277739174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739174">(Apr 04 2022 at 14:30)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.complete_lattice">docs#filter.complete_lattice</a></p>



<a name="277739458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739458">(Apr 04 2022 at 14:33)</a>:</h4>
<p>Bernd, if Lean is asking you to provide such an instance then it probably tried to look for it too soon (eg. before understanding which type you want to consider filters on). This often come from using <code>apply</code> instead of <code>refine</code>. If this is not enough hint you should post a mwe.</p>



<a name="277739469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739469">(Apr 04 2022 at 14:33)</a>:</h4>
<p>OK. I'm running into problems when I try do:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_atom'</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ultrafilter</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_atom</span> <span class="bp">↑</span><span class="n">f</span> <span class="o">:=</span>
</code></pre></div>



<a name="277739542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739542">(Apr 04 2022 at 14:33)</a>:</h4>
<p>Try replacing <code>↑f</code> by <code>(f : filter \a)</code></p>



<a name="277739681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739681">(Apr 04 2022 at 14:34)</a>:</h4>
<p>Ah, that magically worked.</p>



<a name="277739865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277739865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277739865">(Apr 04 2022 at 14:36)</a>:</h4>
<p>Doing <code>f.to_filter</code> also works. How come it gets confused with ↑f?</p>



<a name="277740127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740127">(Apr 04 2022 at 14:38)</a>:</h4>
<p>This used to work until about 8 or 10 months ago, from my experience. I think elaboration changed a bit?</p>



<a name="277740285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740285">(Apr 04 2022 at 14:39)</a>:</h4>
<p>How could lean guess the type of ↑f?</p>



<a name="277740331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740331">(Apr 04 2022 at 14:39)</a>:</h4>
<p>There would be many coercions from <code>ultrafilter X</code> to many different types.</p>



<a name="277740338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740338">(Apr 04 2022 at 14:39)</a>:</h4>
<p><code>↑</code> means "insert an invisible function (aka, coercion) to some other type here"</p>



<a name="277740473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740473">(Apr 04 2022 at 14:40)</a>:</h4>
<p>That would be ambiguous on paper too.</p>



<a name="277740504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740504">(Apr 04 2022 at 14:40)</a>:</h4>
<p>From the fact that the only coercion <code>ultrafilter ? → filter ?</code> is the coercion <code>ultrafilter α → filter α</code>.</p>



<a name="277740587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740587">(Apr 04 2022 at 14:41)</a>:</h4>
<p>Oh wait, that does not apply here.</p>



<a name="277740593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740593">(Apr 04 2022 at 14:41)</a>:</h4>
<p>Yaël, you're adding information that is not provided to Lean here</p>



<a name="277740596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740596">(Apr 04 2022 at 14:41)</a>:</h4>
<p>There is not real context to disambiguate it though.</p>



<a name="277740658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740658">(Apr 04 2022 at 14:41)</a>:</h4>
<p>You're telling lean: I'm going to prove that "you know what I mean by f" is an atom.</p>



<a name="277740700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277740700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277740700">(Apr 04 2022 at 14:41)</a>:</h4>
<p>What I have in mind is the case of <code>set</code> and <code>finset</code>. <code>convex ℝ s</code> for <code>s : finset E</code> used to work, but now it doesn't.</p>



<a name="277755267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755267">(Apr 04 2022 at 16:14)</a>:</h4>
<p>What's the quickest way of turning <code>¬g = ⊥</code> into <code>g.ne_bot</code>? I am having a suprisingly hard time trying to make this conversion.</p>



<a name="277755443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755443">(Apr 04 2022 at 16:15)</a>:</h4>
<p><code>rw ← ne.def</code>?</p>



<a name="277755450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755450">(Apr 04 2022 at 16:16)</a>:</h4>
<p><code>by squeeze_simp</code> should give you the answer.</p>



<a name="277755491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755491">(Apr 04 2022 at 16:16)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ne.def">docs#ne.def</a></p>



<a name="277755553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755553">(Apr 04 2022 at 16:16)</a>:</h4>
<p>Anne, this is <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.ne_bot">docs#filter.ne_bot</a></p>



<a name="277755577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755577">(Apr 04 2022 at 16:16)</a>:</h4>
<p>ne.def does not turn it into ne_bot though.</p>



<a name="277755663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755663">(Apr 04 2022 at 16:17)</a>:</h4>
<p>You just want <code>\&lt;h\&gt;</code> (<a href="https://leanprover-community.github.io/mathlib_docs/find/filter.ne_bot.mk">docs#filter.ne_bot.mk</a>)</p>



<a name="277755687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755687">(Apr 04 2022 at 16:17)</a>:</h4>
<p>It seems I have to chain ne.def and then ne_bot_iff, which seems roundabout.</p>



<a name="277755699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755699">(Apr 04 2022 at 16:17)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.basic</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span> <span class="o">(</span><span class="n">f</span> <span class="bp">=</span> <span class="bp">⊥</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">f.ne_bot</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span><span class="n">h</span><span class="o">⟩,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">h.1</span><span class="o">⟩</span>
</code></pre></div>



<a name="277755778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755778">(Apr 04 2022 at 16:18)</a>:</h4>
<p>there are the proofs in both directions</p>



<a name="277755831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755831">(Apr 04 2022 at 16:18)</a>:</h4>
<p>I think that will be a good thing to add to mathlib's filter.basic.</p>



<a name="277755850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277755850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277755850">(Apr 04 2022 at 16:18)</a>:</h4>
<p><code>filter.ne_bot</code> is just a structure with one constructor so the proof you want is <code>⟨h⟩</code></p>



<a name="277756158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756158">(Apr 04 2022 at 16:20)</a>:</h4>
<p>Hmm... should we add the following simp lemma?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">filter.ne_bot_of_ne_bot</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span> <span class="n">F</span> <span class="bp">=</span> <span class="bp">⊥</span> <span class="bp">↔</span> <span class="n">F.ne_bot</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span><span class="n">h</span><span class="o">⟩,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">h.1</span><span class="o">⟩</span>
</code></pre></div>



<a name="277756204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756204">(Apr 04 2022 at 16:21)</a>:</h4>
<p>Yes please.</p>



<a name="277756240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756240">(Apr 04 2022 at 16:21)</a>:</h4>
<p>Well, my question is whether it should be a  simp lemma.</p>



<a name="277756241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756241">(Apr 04 2022 at 16:21)</a>:</h4>
<p>I can add it to my PR about ultrafilter.is_atom</p>



<a name="277756296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756296">(Apr 04 2022 at 16:21)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.ne_bot_iff">docs#filter.ne_bot_iff</a></p>



<a name="277756354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756354">(Apr 04 2022 at 16:22)</a>:</h4>
<p>yeah I just saw that too</p>



<a name="277756387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756387">(Apr 04 2022 at 16:22)</a>:</h4>
<p>Everything is already there</p>



<a name="277756495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756495">(Apr 04 2022 at 16:23)</a>:</h4>
<p>Yeah, but I need to convert f ≠ ⊥ to ¬ (f =  ⊥), which is getting painful.</p>



<a name="277756524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756524">(Apr 04 2022 at 16:23)</a>:</h4>
<p>you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/ne.def">docs#ne.def</a></p>



<a name="277756591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756591">(Apr 04 2022 at 16:23)</a>:</h4>
<p>It's annoying because the simp normal form of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \ne b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> is <code>\not a = b</code>,  but that filter lemma uses <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mi mathvariant="normal">⊥</mi></mrow><annotation encoding="application/x-tex">a \ne \bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">⊥</span></span></span></span></p>



<a name="277756913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756913">(Apr 04 2022 at 16:25)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.basic</span>

<span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">filter.ne_bot_iff_ne_bot</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">¬</span> <span class="n">F</span> <span class="bp">=</span> <span class="bp">⊥</span> <span class="bp">↔</span> <span class="n">F.ne_bot</span> <span class="o">:=</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span><span class="n">h</span><span class="o">⟩,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">h.1</span><span class="o">⟩</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">F</span> <span class="bp">≠</span> <span class="bp">⊥</span><span class="o">)</span> <span class="o">:</span> <span class="n">F.ne_bot</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">h</span>
</code></pre></div>



<a name="277756995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277756995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277756995">(Apr 04 2022 at 16:25)</a>:</h4>
<p>But again, I don't know whether that should really be a simp lemma.</p>



<a name="277757333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277757333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277757333">(Apr 04 2022 at 16:27)</a>:</h4>
<p>Given that its use is a literal constructor application, I would say no.</p>



<a name="277757821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277757821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277757821">(Apr 04 2022 at 16:30)</a>:</h4>
<p>But most of the filter lemmas that use this have <code>filter.ne_bot</code> as a typeclass assumption</p>



<a name="277762915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277762915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277762915">(Apr 04 2022 at 17:04)</a>:</h4>
<p>Made of PR: <a href="https://github.com/leanprover-community/mathlib/pull/13171">https://github.com/leanprover-community/mathlib/pull/13171</a></p>



<a name="277762963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/lemma%20about%20when%20a%20filter%20is%20a%20pure%20filter/near/277762963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/lemma.20about.20when.20a.20filter.20is.20a.20pure.20filter.html#277762963">(Apr 04 2022 at 17:04)</a>:</h4>
<p>I just realised, why do we have this as opposed to <a href="https://leanprover-community.github.io/mathlib_docs/find/ne_zero">docs#ne_zero</a>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>