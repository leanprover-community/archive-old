---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html">finsupp.nonzero_iff_exist</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="281142340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281142340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281142340">(May 04 2022 at 11:37)</a>:</h4>
<p>We have <code>finsupp.nonzero_iff_exists {f : α →₀ M} : f ≠ 0 ↔ ∃ a : α, f a ≠ 0</code>, but I'm not finding the analogue of this that I want, for linear maps. Are these hiding somewhere under a different name, or do they need adding?</p>



<a name="281142495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281142495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281142495">(May 04 2022 at 11:38)</a>:</h4>
<p>I just added something similar. <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_linear_map.exists_ne_zero">docs#continuous_linear_map.exists_ne_zero</a></p>



<a name="281143016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143016">(May 04 2022 at 11:44)</a>:</h4>
<p>Shouldn't we just have that for arbitrary functions?</p>



<a name="281143092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143092">(May 04 2022 at 11:45)</a>:</h4>
<p>Well, yeah, but it depends on the specific <code>has_zero</code> instance.</p>



<a name="281143097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143097">(May 04 2022 at 11:45)</a>:</h4>
<p>If we just write it for "bare" functions, we won't be able to use it with <code>rw</code> or <code>simp</code>, unfortunately.</p>



<a name="281143128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143128">(May 04 2022 at 11:45)</a>:</h4>
<p>Usually, <code>⇑0 = 0</code> is defeq though.</p>



<a name="281143211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143211">(May 04 2022 at 11:46)</a>:</h4>
<p>Still, syntactic form is what counts. :-(</p>



<a name="281143214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143214">(May 04 2022 at 11:46)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span>, didn't you have plans to write a <code>has_pointwise_zero</code> instance? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="281143236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143236">(May 04 2022 at 11:46)</a>:</h4>
<p>You can <code>rw [←coe_zero, coe_inj]</code> I believe, Scott. But I agree it's a pain.</p>



<a name="281143277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143277">(May 04 2022 at 11:47)</a>:</h4>
<p>But I don't want to have extra rewrites, or to have to know a silly name like <code>coe_zero</code>. :-)</p>



<a name="281143311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143311">(May 04 2022 at 11:47)</a>:</h4>
<p>and <code>library_search</code> must find this lemma</p>



<a name="281143318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143318">(May 04 2022 at 11:47)</a>:</h4>
<p>because otherwise I'm going to have to ask here again. :-)</p>



<a name="281143345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143345">(May 04 2022 at 11:47)</a>:</h4>
<p>I'm always here to serve!</p>



<a name="281143625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143625">(May 04 2022 at 11:50)</a>:</h4>
<blockquote>
<p>Shouldn't we just have that for arbitrary functions?</p>
</blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/function.ne_iff">docs#function.ne_iff</a></p>



<a name="281143663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143663">(May 04 2022 at 11:50)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/fun_like.ne_iff">docs#fun_like.ne_iff</a></p>



<a name="281143695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281143695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281143695">(May 04 2022 at 11:51)</a>:</h4>
<p>Zero falls out as an uninteresting special case, since pretty much all function types have <code>0 x = 0</code> by definition</p>



<a name="281144100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281144100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281144100">(May 04 2022 at 11:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/finsupp.2Enonzero_iff_exist/near/281143214">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span>, didn't you have plan,s to write a <code>has_pointwise_zero</code> instance? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>
</blockquote>
<p>I don't recall that. Wasn't Yury doing something with pointwise maps?</p>



<a name="281144998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281144998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281144998">(May 04 2022 at 12:04)</a>:</h4>
<p>The other similiar statement I'd like is <code>nontrivial</code> iff <code>surjective f → f ≠ 0</code>. That seems harder to make polymorphic, because of the "what does the zero function mean" issue.</p>



<a name="281146793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281146793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281146793">(May 04 2022 at 12:23)</a>:</h4>
<p>You could always put a <code>coe_fn</code> on the <code>f</code></p>



<a name="281146908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281146908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281146908">(May 04 2022 at 12:24)</a>:</h4>
<p>Which I guess would be on all occurences of <code>f</code> at that point, so it just becomes about <code>function</code>.</p>



<a name="281146933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281146933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281146933">(May 04 2022 at 12:24)</a>:</h4>
<p>What I think we are missing are lemmas like <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.coe_eq_zero">docs#linear_map.coe_eq_zero</a> which should contain the obvious iff</p>



<a name="281149672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/finsupp.nonzero_iff_exist/near/281149672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/finsupp.2Enonzero_iff_exist.html#281149672">(May 04 2022 at 12:49)</a>:</h4>
<p>Yeah I proved some stuff similar to that a while back. See <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.coe_eq_singleton">docs#finset.coe_eq_singleton</a>. This dumb lemma is super practical.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>