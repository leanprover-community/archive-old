---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html">Transitive symmetric relations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="227516517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227516517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227516517">(Feb 23 2021 at 22:32)</a>:</h4>
<p>Is there anything in mathlib to handle binary relations that are transitive and symmetric but not necessarily reflexive? Specifically, I'd like to construct the collection of 'equivalence classes', with disjointness, properties of transversals, etc etc. Clearly it's not rocket science to just do it myself, or even to reduce it to the equivalence relation case; I just don't want to reinvent any wheels.</p>



<a name="227520813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227520813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227520813">(Feb 23 2021 at 23:07)</a>:</h4>
<p>I believe one has the construction of "equivalence classes" built in for any relation, equivalence or not, as <code>quot</code>.  I've never used it so am not 100% sure that it does what I think :). But see<br>
<a href="https://leanprover.github.io/theorem_proving_in_lean/axioms_and_computation.html#quotients">https://leanprover.github.io/theorem_proving_in_lean/axioms_and_computation.html#quotients</a></p>



<a name="227521806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227521806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227521806">(Feb 23 2021 at 23:16)</a>:</h4>
<p>Doesn't transitivity and symmetry imply reflexivity?</p>



<a name="227521832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227521832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227521832">(Feb 23 2021 at 23:16)</a>:</h4>
<p>At least, on a non-empty relation</p>



<a name="227522561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227522561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227522561">(Feb 23 2021 at 23:23)</a>:</h4>
<p>No - you can have singletons not related to anything. That’s it, though</p>



<a name="227529061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227529061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227529061">(Feb 24 2021 at 00:27)</a>:</h4>
<p>I suggest using <code>quot</code> like Heather mentioned. The API is fairly pleasant to use</p>



<a name="227538582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227538582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227538582">(Feb 24 2021 at 02:29)</a>:</h4>
<p>I don't think <code>quot</code> will work - from what I can see, it forgets the difference between elements on which the relation is irreflexive and ones where it is reflexive. I don't want irreflexive elements to give 'quotient' elements at all.</p>



<a name="227542437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227542437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227542437">(Feb 24 2021 at 03:26)</a>:</h4>
<p>Yes that's right. Quote is just the quotient by the equivalence relation generated by the given relation. I guess I'm confused about what you want the quotient to actually be...</p>



<a name="227545499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227545499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227545499">(Feb 24 2021 at 04:13)</a>:</h4>
<p>I didn't say I want a quotient, just a notion of 'equivalence classes', which make sense in that they form a partition of the elements for which the relation is reflexive. Using a quotient on an appropriate subtype will work to prove all this, but maybe it makes more sense just do do the proofs directly.</p>



<a name="227587178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227587178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227587178">(Feb 24 2021 at 11:58)</a>:</h4>
<p>Are you looking for this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">symmetric</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">ht</span> <span class="o">:</span> <span class="n">transitive</span> <span class="n">r</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">setoid</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">r</span> <span class="n">x</span> <span class="n">x</span><span class="o">}</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">r</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x.prop</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="bp">@@</span><span class="n">hs</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span> <span class="bp">@@</span><span class="n">ht</span><span class="o">⟩</span>
</code></pre></div>



<a name="227594678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227594678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227594678">(Feb 24 2021 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="329425">@Peter Nelson</span> perhaps this discussion would move forward more smoothly if you were to write down in Lean some type or term or structure which you want to have, or have an API for, with a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> and some sorried lemmas.</p>



<a name="227595906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Transitive%20symmetric%20relations/near/227595906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Nelson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Transitive.20symmetric.20relations.html#227595906">(Feb 24 2021 at 13:17)</a>:</h4>
<p>I think my question is answered - what I want doesn't quite exist out of the box, but it's pretty close to <code>quot</code>. I'm writing a small API for what I need, which is all easy. I'm satisfied I'm not repeating anything already in mathlib, and this was the only point of my question.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>