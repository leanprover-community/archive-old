---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html">✔ dimension of direct sum</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="257280997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257280997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257280997">(Oct 12 2021 at 22:22)</a>:</h4>
<p>Dimension of a possibly-infinite direct sum:  I don't think (?) this is in the library, nor is it really in my wheelhouse ... any hints (or volunteers!) for proving it?  For all I know, it might not be true in the generality I've stated.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">linear_algebra.dimension</span>
<span class="kn">import</span> <span class="n">algebra.direct_sum.module</span>

<span class="n">open_locale</span> <span class="n">direct_sum</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span>
  <span class="o">{</span><span class="n">V</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="bp">Π</span> <span class="n">i</span><span class="o">,</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">V</span> <span class="n">i</span><span class="o">)]</span> <span class="o">[</span><span class="bp">Π</span> <span class="n">i</span><span class="o">,</span> <span class="n">module</span> <span class="n">K</span> <span class="o">(</span><span class="n">V</span> <span class="n">i</span><span class="o">)]</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">V</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="n">cardinal.sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="n">V</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="257281744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257281744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257281744">(Oct 12 2021 at 22:29)</a>:</h4>
<p>I am going to bed, but for free modules we know a basis of the direct sum, <a href="https://leanprover-community.github.io/mathlib_docs/find/dfinsupp.basis">docs#dfinsupp.basis</a>. In general I don't know if it is true.</p>



<a name="257281861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257281861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257281861">(Oct 12 2021 at 22:30)</a>:</h4>
<p>Aha, thank you!  I have said <code>[field K]</code> and I guess this can be converted to free-ness?</p>



<a name="257281885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257281885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257281885">(Oct 12 2021 at 22:30)</a>:</h4>
<p>Ah ops, I didn't notice :D</p>



<a name="257281914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257281914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257281914">(Oct 12 2021 at 22:30)</a>:</h4>
<p>We surely know that the dimension is the cardinality of a basis (weird sentence to write...)</p>



<a name="257281969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257281969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257281969">(Oct 12 2021 at 22:31)</a>:</h4>
<p>And the other ingredient is <a href="https://leanprover-community.github.io/mathlib_docs/find/cardinal.sum_mk">docs#cardinal.sum_mk</a> (which should probably be a simp lemma in the reverse direction and renamed)</p>



<a name="257282319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257282319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257282319">(Oct 12 2021 at 22:35)</a>:</h4>
<p>BTW I have on my todo list to write a reasonable API for dimension of free modules. This result will be there. The instance <code>free.module K (⨁ i, V i)</code> is already there.</p>



<a name="257282655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257282655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257282655">(Oct 12 2021 at 22:38)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/basis.mk_eq_dim''">docs#basis.mk_eq_dim''</a> says that the rank is the cardinal of a basis.</p>



<a name="257282960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257282960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257282960">(Oct 12 2021 at 22:42)</a>:</h4>
<p>Yes, I can do everything now except for some mess using <code>lift</code>.  Is there a tactic for working with <code>lift</code>?</p>



<a name="257283004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257283004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257283004">(Oct 12 2021 at 22:42)</a>:</h4>
<p><code>cardinal.lift</code>? Not that I know of</p>



<a name="257283022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257283022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257283022">(Oct 12 2021 at 22:43)</a>:</h4>
<p>I use the <code>ask_on_zulip</code> tactic. It usually works</p>



<a name="257284011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257284011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257284011">(Oct 12 2021 at 22:53)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">V</span> <span class="n">i</span><span class="o">)</span> <span class="bp">=</span> <span class="n">cardinal.sum</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">module.rank</span> <span class="n">K</span> <span class="o">(</span><span class="n">V</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">B</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">classical.some_spec</span> <span class="o">(</span><span class="n">basis.exists_basis</span> <span class="n">K</span> <span class="o">(</span><span class="n">V</span> <span class="n">i</span><span class="o">)))</span><span class="bp">.</span><span class="n">some</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">b</span> <span class="o">:</span> <span class="n">basis</span> <span class="n">_</span> <span class="n">K</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">V</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="n">dfinsupp.basis</span> <span class="n">B</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">b.mk_eq_dim''.symm</span><span class="o">,</span> <span class="bp">←</span> <span class="n">cardinal.sum_mk</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="o">(</span><span class="n">B</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">mk_eq_dim''</span><span class="o">],</span>
<span class="kd">end</span>
</code></pre></div>



<a name="257284128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257284128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257284128">(Oct 12 2021 at 22:54)</a>:</h4>
<p>(I was led into the <code>lift</code> maze because I had missed Reid's advice to use <a href="https://leanprover-community.github.io/mathlib_docs/find/basis.mk_eq_dim''">docs#basis.mk_eq_dim''</a>, and was instead using <a href="https://leanprover-community.github.io/mathlib_docs/find/basis.mk_eq_dim">docs#basis.mk_eq_dim</a> ... oops)</p>



<a name="257284147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257284147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257284147">(Oct 12 2021 at 22:54)</a>:</h4>
<p>Thank you, <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> and <span class="user-mention" data-user-id="110032">@Reid Barton</span> !</p>



<a name="257284178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/257284178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#257284178">(Oct 12 2021 at 22:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> has marked this topic as resolved.</p>



<a name="258200544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20dimension%20of%20direct%20sum/near/258200544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20dimension.20of.20direct.20sum.html#258200544">(Oct 19 2021 at 14:08)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> if you are still interested in this question I opened <a href="https://github.com/leanprover-community/mathlib/issues/9810">#9810</a> that should cover it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>