---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html">Taking element from non-empty set</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316731034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316731034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sty <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316731034">(Dec 19 2022 at 12:41)</a>:</h4>
<p>Hi, I'm fairly new to Lean, which could be why I'm failing to find something I'd really expect to exist in mathlib.<br>
Essentially I'd like to have a way to take an element from a set that I know is non-empty. Currently I'm using the following, but there's probably a cleaner alternative:</p>
<p><code>constant element {γ: Type*} {S: set γ}: S ≠ ∅ -&gt; S</code></p>



<a name="316731770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316731770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316731770">(Dec 19 2022 at 12:44)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.nonempty_iff_ne_empty">docs#set.nonempty_iff_ne_empty</a>, so you can implement that with <code>(set.nonempty_iff_ne_empty.mpr h).some</code></p>



<a name="316731842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316731842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316731842">(Dec 19 2022 at 12:45)</a>:</h4>
<p>The explanation is that <code>S ≠ ∅</code> is not the preferred spelling of saying that a set is not empty, <code>S.nonempty</code> is</p>



<a name="316731870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316731870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316731870">(Dec 19 2022 at 12:45)</a>:</h4>
<p>As far as lean's concerned, this is the axiom of choice, by the way</p>



<a name="316732562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316732562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316732562">(Dec 19 2022 at 12:48)</a>:</h4>
<p>Right, as explained in <a href="https://leanprover-community.github.io/mathlib_docs/find/set.nonempty.some">docs#set.nonempty.some</a></p>



<a name="316732703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316732703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316732703">(Dec 19 2022 at 12:49)</a>:</h4>
<p>Note that if you're in a proof and your step is "pick an arbitrary element from the nonempty set", often you don't need to use choice, and can just use the <code>cases</code> tactic</p>



<a name="316754640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316754640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> sty <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316754640">(Dec 19 2022 at 14:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Taking.20element.20from.20non-empty.20set/near/316732703">said</a>:</p>
<blockquote>
<p>Note that if you're in a proof and your step is "pick an arbitrary element from the nonempty set", often you don't need to use choice, and can just use the <code>cases</code> tactic</p>
</blockquote>
<p>How do I use <code>cases</code> in such a way?</p>



<a name="316755981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316755981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316755981">(Dec 19 2022 at 14:27)</a>:</h4>
<p>If you have <code>h : S.nonempty</code> then use <code>cases h with x hx</code></p>



<a name="316758468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Taking%20element%20from%20non-empty%20set/near/316758468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Taking.20element.20from.20non-empty.20set.html#316758468">(Dec 19 2022 at 14:38)</a>:</h4>
<p>You've asked for a function which needs a nonconstructive proof, but if actually your goal is a Prop then you don't need to move from the Prop world to the Type world so you can avoid AC/nonconstructivism. The <code>cases</code> tactic won't eliminate into <code>Type</code> but it will work in tactic mode if your goal is a <code>Prop</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>