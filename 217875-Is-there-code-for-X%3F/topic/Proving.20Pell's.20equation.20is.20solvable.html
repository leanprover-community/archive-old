---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html">Proving Pell's equation is solvable</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322885832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322885832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322885832">(Jan 22 2023 at 17:09)</a>:</h4>
<p>Hi, as thread name suggests, is there code for proving pell's equation has non-trivial fundamental solutions? I only found related code in <code>number_theory/pell.lean</code>, but inside it only proves the special case <code>d = a^2 - 1</code> for <code>x^2 - dy^2 = +-1</code>. If not, I would like to make progress on this! However, it seems like a large project to me, so if anyone can give me some directions on where to start then that will be great. Do I just follow some textbook / notes and grind through the lemmas one by one? Thanks! :)</p>



<a name="322885976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322885976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322885976">(Jan 22 2023 at 17:10)</a>:</h4>
<p>And also I guess, how do you guys approach adding large contributions? I was working on a proof on some other theorem the past few days (which turned out to be in mathlib already...), and handling 300 lines of code in a single file is already making me dizzy haha.</p>



<a name="322888775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322888775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322888775">(Jan 22 2023 at 17:38)</a>:</h4>
<p>I believe that <span class="user-mention" data-user-id="479359">@Michael Stoll</span> has a student working on this. I also had a student which proved the existence of solutions but they didn't push it to mathlib, it was just a student project.</p>



<a name="322891212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322891212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322891212">(Jan 22 2023 at 18:05)</a>:</h4>
<p>Alright, I will see if there are any interesting places to work on. I am also only an undergraduate student haha :)</p>



<a name="322891547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322891547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322891547">(Jan 22 2023 at 18:09)</a>:</h4>
<p>It's quite hard to find low-hanging fruit in elementary number theory nowadays. One thing we don't have is Dirichlet's units theorem, a far-reaching generalisation of Pell. A PhD student of mine needs it for their proof of the Mordell-Weil theorem.</p>



<a name="322892125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322892125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322892125">(Jan 22 2023 at 18:15)</a>:</h4>
<p>I would look at the situation differently. It's now rather difficult to contribute to mathlib as an undergraduate; perhaps the best idea might be to choose something from the <a href="https://leanprover-community.github.io/undergrad_todo.html">undergrad todo list</a>, although please open a discussion before embarking on something because there will be opinions about how to set up definitions, or half-finished work you can build on etc. The other situation is that adding anything to mathlib right now is kind of tricky because we are in the middle of porting the entire library to lean 4. I would encourage you to work on standalone projects (like your Mersenne project, which is a great way to get into Lean) and just formalise what the heck you want, e.g. just do Pell -- who cares if someone else did Pell. Do it, add it to the Mersenne stuff, write a little write-up about it and stick it online. This will buy the community some time to get the port done ;-)</p>



<a name="322892503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322892503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322892503">(Jan 22 2023 at 18:19)</a>:</h4>
<p>Hahahaha that definitely sounds great too, maybe I can work on some projects then write a blog or two on it, since I am definitely learning a lot and it is a very interesting topic :) Thanks for your suggestions!</p>



<a name="322893119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322893119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322893119">(Jan 22 2023 at 18:25)</a>:</h4>
<p>Just to confirm what <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> mentioned earlier: I do have a student working on Pell's equation. He does in fact have a <code>sorry</code>-free proof of the existence of non-trivial solutions, which he is in the process of cleaning up somewhat. My plan is to then clean it up further to make it mathlib-ready and add it to mathlib at some point.</p>



<a name="322984120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322984120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322984120">(Jan 23 2023 at 10:26)</a>:</h4>
<p>If somebody wants to fill gaps in elementary number theory then I think it would be great to add some of the classical results about asymptotic growth of arithmetic functions. For example, that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>n</mi><mrow><mi>o</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">d(n) = n^{o(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span> <a href="https://terrytao.wordpress.com/2008/09/23/the-divisor-bound/">see here</a> and <a href="https://github.com/b-mehta/unit-fractions/blob/b60c39a3ebd40a84104a4064840b10fc2af15fb8/src/for_mathlib/basic_estimates.lean#L825">here</a> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>ϵ</mi></msup><mi mathvariant="normal">/</mi><mi>φ</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>o</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n^\epsilon/\varphi(n) = o(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">o</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\epsilon &lt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>.</p>



<a name="322990612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322990612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322990612">(Jan 23 2023 at 10:59)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> how much of that stuff got done in unit fractions?</p>



<a name="322991196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322991196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322991196">(Jan 23 2023 at 11:02)</a>:</h4>
<p>I just added a link to the message above with a weak bound but they have full formalisations of stronger bounds directly above!</p>



<a name="322992794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322992794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322992794">(Jan 23 2023 at 11:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Proving.20Pell's.20equation.20is.20solvable/near/322891547">said</a>:</p>
<blockquote>
<p>It's quite hard to find low-hanging fruit in elementary number theory nowadays. One thing we don't have is Dirichlet's units theorem, a far-reaching generalisation of Pell. A PhD student of mine needs it for their proof of the Mordell-Weil theorem.</p>
</blockquote>
<p>I had some idea in my head that someone was actually working on this already</p>



<a name="322993894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/322993894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#322993894">(Jan 23 2023 at 11:16)</a>:</h4>
<p>We had been considering continuing our <a href="https://github.com/lean-forward/class-group-and-mordell-equation">diophantine project</a> towards the units theorem, but I don't think we have any concrete progress towards that.</p>



<a name="323005810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/323005810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Xavier Roblot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#323005810">(Jan 23 2023 at 12:19)</a>:</h4>
<p>I have been working the proof of Dirichlet's theorem lately (although I also spent too much time having fun porting files to mathlib4 <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>).<br>
 I am almost finished proving  the results for lattice theory that are needed and so I should able to start working on the final stage soon.</p>



<a name="323031396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/323031396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#323031396">(Jan 23 2023 at 14:19)</a>:</h4>
<p>I am interested in that, though I am not sure what <em>should</em> be added to mathlib and what shouldn't. For example, things like Mertens' estimate and various sieve estimates (which depends on other useful elementary estimates) are proven in the Unit Fractions project, in particular lemma 2.7 and 2.8. However, those weren't added to mathlib</p>



<a name="323031682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/323031682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gareth Ma <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#323031682">(Jan 23 2023 at 14:20)</a>:</h4>
<p>Though I can always work in a separate project first then ask when I get some progress :P</p>



<a name="323033017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Proving%20Pell%27s%20equation%20is%20solvable/near/323033017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Proving.20Pell's.20equation.20is.20solvable.html#323033017">(Jan 23 2023 at 14:25)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>