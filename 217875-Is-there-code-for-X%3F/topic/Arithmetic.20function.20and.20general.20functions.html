---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html">Arithmetic function and general functions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="287217994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287217994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ella Yu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287217994">(Jun 23 2022 at 16:49)</a>:</h4>
<p>Hi, I learn from mathlib that an "arithmetic function" is defined to be a function that preserves zero. But I'm not sure how can we change the type <code>f: arithmetic_function R</code> to a general function type <code>f: ℕ → R</code> and vice versa. Thanks for your help in advance!</p>



<a name="287218737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287218737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287218737">(Jun 23 2022 at 16:55)</a>:</h4>
<p>Writing <code>(f : ℕ → R)</code> will convert a <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.arithmetic_function">docs#nat.arithmetic_function</a> into a general function</p>



<a name="287219772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287219772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287219772">(Jun 23 2022 at 17:02)</a>:</h4>
<p>To go in the other direction, use <code>{ to_fun := f, map_zero' := sorry}</code></p>



<a name="287219837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287219837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ella Yu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287219837">(Jun 23 2022 at 17:02)</a>:</h4>
<p>I think I didn't make myself clear. My question is: for example, we define l-series as <code>def l_series (f : arithmetic_function ℂ) (z : ℂ) : ℂ := ∑'n, (f n) / (n ^ z)</code> If we now want to state it as a function and trying to say that they are the same, what should I do? Thanks for your help!</p>



<a name="287221051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287221051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ella Yu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287221051">(Jun 23 2022 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Arithmetic.20function.20and.20general.20functions/near/287219772">said</a>:</p>
<blockquote>
<p>To go in the other direction, use <code>{ to_fun := f, map_zero' := sorry}</code></p>
</blockquote>
<p>Hi, I'm not sure if I understand your words correctly. <code>lemma changing_type {f : arithmetic_function R}: (f : ℕ → R):=by sorry
</code>Should I have something like this to do the conversion? But there would be an error in type if I did that.</p>



<a name="287221162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287221162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287221162">(Jun 23 2022 at 17:12)</a>:</h4>
<p>I don't understandwhat you mean by "state it as a function"; you <em>did</em> state <code>l_series</code> as a function</p>



<a name="287221236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287221236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287221236">(Jun 23 2022 at 17:13)</a>:</h4>
<p>Perhaps it would help if you un- <a href="https://en.wikipedia.org/wiki/XY_problem">#xy</a> your problem; what are you trying to state, and where is this conversion getting in the way?</p>



<a name="287221407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287221407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287221407">(Jun 23 2022 at 17:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="509955">Ella Yu</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Arithmetic.20function.20and.20general.20functions/near/287221051">said</a>:</p>
<blockquote>
<p>Hi, I'm not sure if I understand your words correctly. <code>lemma changing_type {f : arithmetic_function R}: (f : ℕ → R):=by sorry
</code>Should I have something like this to do the conversion? But there would be an error in type if I did that.</p>
</blockquote>
<p>I was decribing</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">changing_type</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">arithmetic_function</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">R</span> <span class="o">:=</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span>
</code></pre></div>
<p>but obviously you don't want to actually write <code>changing_type f</code> when you could just write <code>(f : ℕ → R)</code></p>



<a name="287221726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287221726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ella Yu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287221726">(Jun 23 2022 at 17:17)</a>:</h4>
<p>I see, so if I want to state <code>l_series</code> as a function from  ℕ → R, I can just write it as <code>(l_series : ℕ → R)</code>. Thank you so much!</p>



<a name="287222434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287222434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287222434">(Jun 23 2022 at 17:23)</a>:</h4>
<p>I'm not sure that you have your answer already.  You can do <code>f : ℕ → R</code> because an <code>arithmetic_function</code> can be coerced to a function. (This in turn is because it is defined as of type <code>zero_hom ℕ R</code> and there is <a href="https://leanprover-community.github.io/mathlib_docs/find/zero_hom.has_coe_to_fun">docs#zero_hom.has_coe_to_fun</a> that tells how to coerce it.) If you want to coerce your <code>l_series</code> back to an arithmetic function (I'm not sure if this is possible; depends what you mean by it) then you would need to define explicitly how that is done.</p>



<a name="287223807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287223807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287223807">(Jun 23 2022 at 17:35)</a>:</h4>
<p>Right now <code>l_series</code> is a function from  <code>arithmetic_function ℂ</code> to a function from <code>ℂ</code> to <code>ℂ</code>, so <code>(l_series : ℂ → ℂ)</code> doesn't make sense</p>



<a name="287224541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Arithmetic%20function%20and%20general%20functions/near/287224541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ella Yu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Arithmetic.20function.20and.20general.20functions.html#287224541">(Jun 23 2022 at 17:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Arithmetic.20function.20and.20general.20functions/near/287223807">said</a>:</p>
<blockquote>
<p>Right now <code>l_series</code> is a function from  <code>arithmetic_function ℂ</code> to a function from <code>ℂ</code> to <code>ℂ</code>, so <code>(l_series : ℂ → ℂ)</code> doesn't make sense</p>
</blockquote>
<p>You are right, I see, l-series is not an arithmetic function. But I understand how to do the conversion with an arithmetic function now. Thanks a lot!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>