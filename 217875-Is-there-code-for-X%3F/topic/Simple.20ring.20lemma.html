---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html">Simple ring lemma</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203303861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203303861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203303861">(Jul 08 2020 at 18:24)</a>:</h4>
<p>Is there no such lemma? Seems helpful on the way to cancel subtraction of negative things, particularly if <code>c</code> is negative:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">add_right_inj</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">neg_mul_eq_neg_mul_symm</span><span class="o">],</span>
<span class="kn">end</span>
</code></pre></div>



<a name="203305574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203305574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203305574">(Jul 08 2020 at 18:38)</a>:</h4>
<p>Are you aware of the <code>noncomm_ring</code> tactic?</p>



<a name="203305638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203305638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203305638">(Jul 08 2020 at 18:39)</a>:</h4>
<p>E.g.,</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">noncomm_ring</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">noncomm_ring</span>
</code></pre></div>



<a name="203305737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203305737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203305737">(Jul 08 2020 at 18:40)</a>:</h4>
<p>Also <code>rw [sub_eq_add_neg]</code> probably helps.</p>



<a name="203306113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306113">(Jul 08 2020 at 18:44)</a>:</h4>
<p>Great:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">sub_neg_mul</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">add_right_inj</span> <span class="bp">_</span><span class="o">,</span> <span class="n">neg_mul_eq_neg_mul_symm</span><span class="o">]</span>
<span class="kn">end</span>
</code></pre></div>



<a name="203306259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306259">(Jul 08 2020 at 18:45)</a>:</h4>
<p>Really, I have a larger term, but <code>noncomm_ring</code> is putting <code>(-1) •ℤ</code> in the term.</p>



<a name="203306291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306291">(Jul 08 2020 at 18:45)</a>:</h4>
<p>Why is <code>noncomm_ring</code> needed instead of <code>ring</code>?</p>



<a name="203306346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306346">(Jul 08 2020 at 18:45)</a>:</h4>
<p>Because <code>ring</code> only works with commutatve rings :-)</p>



<a name="203306513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306513">(Jul 08 2020 at 18:47)</a>:</h4>
<p>I propose fixing this by renaming the <code>comm_ring</code> class to <code>ring</code> but not everyone agrees...</p>



<a name="203306817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306817">(Jul 08 2020 at 18:49)</a>:</h4>
<p>shouldn't <code>simp</code> be able to do this one?</p>



<a name="203306937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306937">(Jul 08 2020 at 18:50)</a>:</h4>
<p>What is the SNF?</p>



<a name="203306945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306945">(Jul 08 2020 at 18:50)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">sub_eq_add_neg</span><span class="o">]</span>
</code></pre></div>



<a name="203306972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306972">(Jul 08 2020 at 18:50)</a>:</h4>
<p>Aah, with some help <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="203306976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203306976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203306976">(Jul 08 2020 at 18:50)</a>:</h4>
<p>I guess we finally took <code>sub_eq_add_neg</code> out of the default simp set</p>



<a name="203307027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307027">(Jul 08 2020 at 18:51)</a>:</h4>
<p>This happened several months ago, I think.</p>



<a name="203307196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307196">(Jul 08 2020 at 18:52)</a>:</h4>
<p>We could have a simp lemma going the other way now, which would solve this one but might make other AC addition proofs harder</p>



<a name="203307295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307295">(Jul 08 2020 at 18:53)</a>:</h4>
<p>I think that "move <code>-</code>-signs outwards, and merge with <code>+</code>, are reasonable simp-moves.</p>



<a name="203307358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307358">(Jul 08 2020 at 18:54)</a>:</h4>
<p>I think we have all the simp-lemmas for <code>has_sub.sub</code> already, so the simp-set should stay confluent if we add <code>sub_eq_add_neg.symm</code>.</p>



<a name="203307463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307463">(Jul 08 2020 at 18:54)</a>:</h4>
<p>(Did I just use the word "confluent"? Did I use it correctly? <span aria-label="open mouth" class="emoji emoji-1f62e" role="img" title="open mouth">:open_mouth:</span> <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span>)</p>



<a name="203307520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203307520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203307520">(Jul 08 2020 at 18:55)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">add_neg</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">[</span><span class="n">add_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="bp">-</span><span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">add_neg</span><span class="o">]</span>
</code></pre></div>



<a name="203308972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203308972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203308972">(Jul 08 2020 at 19:07)</a>:</h4>
<p>Here's my actual proof:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">universe</span> <span class="n">u</span>

<span class="kn">lemma</span> <span class="n">sub_neg_mul</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="bp">-</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">sub_eq_add_neg</span><span class="o">],</span>
<span class="kn">end</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hAB&#39;&#39;&#39;&#39;</span> <span class="o">:</span>  <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">B</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">B</span> <span class="mi">1</span> <span class="mi">1</span> <span class="bp">=</span> <span class="bp">-</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">sub_eq_zero</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">mul_right_inj&#39;</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mul_sub</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">sub_neg_mul</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="bp">&lt;-</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="bp">&lt;-</span><span class="n">mul_div_assoc</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">neg_mul_neg</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">add_comm</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mul_div_assoc</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">],</span>
  <span class="n">rw</span> <span class="bp">&lt;-</span><span class="n">hAB&#39;&#39;&#39;&#39;</span><span class="o">,</span>
  <span class="n">ring</span>
<span class="kn">end</span>
</code></pre></div>



<a name="203309056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309056">(Jul 08 2020 at 19:08)</a>:</h4>
<p>Sorry for the complicated statement. I'm still not great at knowing how to supply <code>*_assoc, *_comm</code> to simp when necessary</p>



<a name="203309180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309180">(Jul 08 2020 at 19:09)</a>:</h4>
<p>The <code>0.succ</code> is annoying. It's in a hypothesis that I have, after a simp and no <code>simp_rw (0.succ = 1) at hAB''''</code> removes the <code>.succ</code>.</p>



<a name="203309420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309420">(Jul 08 2020 at 19:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mwe.html">#mwe</a></p>



<a name="203309445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309445">(Jul 08 2020 at 19:11)</a>:</h4>
<p>what is <code>B</code>, what are the imports</p>



<a name="203309526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309526">(Jul 08 2020 at 19:12)</a>:</h4>
<p>oh wait <code>B</code> is local</p>



<a name="203309585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309585">(Jul 08 2020 at 19:12)</a>:</h4>
<p>I don't see <code>sub_neg_mul</code> though</p>



<a name="203309690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309690">(Jul 08 2020 at 19:13)</a>:</h4>
<p>oh ignore me I'm being silly</p>



<a name="203309703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309703">(Jul 08 2020 at 19:13)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">universe</span> <span class="n">u</span>
</code></pre></div>



<a name="203309801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203309801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203309801">(Jul 08 2020 at 19:14)</a>:</h4>
<p>Yes, edited above</p>



<a name="203310051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310051">(Jul 08 2020 at 19:17)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span>  <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">B</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">B</span> <span class="mi">1</span> <span class="mi">1</span> <span class="bp">=</span> <span class="bp">-</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">change</span> <span class="o">((</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="k">with</span> <span class="mi">1</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_right_inj&#39;</span> <span class="n">hb</span><span class="o">,</span> <span class="err">←</span> <span class="n">add_right_inj</span><span class="o">,</span> <span class="n">h</span><span class="o">],</span>
  <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="203310286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310286">(Jul 08 2020 at 19:19)</a>:</h4>
<p>That's amazing.</p>



<a name="203310454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310454">(Jul 08 2020 at 19:20)</a>:</h4>
<p>Somehow <code>    change ((0 : fin 2).succ : fin 2) with 1 at *</code> doesn't make the change in hypotheses I have that are of the form <code>hBA'''' : b * B 0 0 + d * B 0 0.succ = 0,</code></p>



<a name="203310486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310486">(Jul 08 2020 at 19:20)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">field</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">fin</span> <span class="mi">2</span> <span class="bp">-&gt;</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span>  <span class="n">b</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">B</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">B</span> <span class="mi">1</span> <span class="mi">1</span> <span class="bp">=</span> <span class="bp">-</span> <span class="n">c</span> <span class="bp">/</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">change</span> <span class="o">((</span><span class="mi">0</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span><span class="bp">.</span><span class="n">succ</span> <span class="o">:</span> <span class="n">fin</span> <span class="mi">2</span><span class="o">)</span> <span class="k">with</span> <span class="mi">1</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_right_inj&#39;</span> <span class="n">hb</span><span class="o">],</span>
  <span class="n">simpa</span> <span class="o">[</span><span class="n">neg_div</span><span class="o">,</span> <span class="n">eq_neg_iff_add_eq_zero</span><span class="o">,</span> <span class="n">mul_div_assoc</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">add_comm</span><span class="o">]</span> <span class="kn">using</span> <span class="n">h</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="203310681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310681">(Jul 08 2020 at 19:22)</a>:</h4>
<p>I don't know what <code>0.succ</code> is in that expression, but basically you have to match that expression syntactically on the lhs of the <code>change with</code></p>



<a name="203310759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203310759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203310759">(Jul 08 2020 at 19:23)</a>:</h4>
<p>It should be of type <code>fin 2</code>. Okay, I'll try to match it more precisely</p>



<a name="203311414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203311414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203311414">(Jul 08 2020 at 19:28)</a>:</h4>
<p>alternatively, you can ignore what it says and just say what you want using plain <code>change</code> as in</p>
<div class="codehilite"><pre><span></span><code>  <span class="n">change</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span> <span class="n">at</span> <span class="n">hBA&#39;&#39;&#39;&#39;</span><span class="o">,</span>
</code></pre></div>



<a name="203311690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203311690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203311690">(Jul 08 2020 at 19:31)</a>:</h4>
<p>On a similar hypothesis, trying your suggestion:</p>
<div class="codehilite"><pre><span></span><code><span class="n">change</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">1</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">)</span> <span class="n">at</span> <span class="n">hAB&#39;&#39;</span><span class="o">,</span>

<span class="n">tactic</span><span class="bp">.</span><span class="n">change</span> <span class="n">failed</span><span class="o">,</span> <span class="n">given</span> <span class="n">type</span>
  <span class="n">c</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">1</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">1</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">→</span> <span class="n">false</span>
<span class="n">is</span> <span class="n">not</span> <span class="n">definitionally</span> <span class="n">equal</span> <span class="n">to</span>
  <span class="n">c</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span> <span class="mi">0</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">+</span> <span class="n">d</span> <span class="bp">*</span> <span class="n">B</span> <span class="mi">0</span><span class="bp">.</span><span class="n">succ</span> <span class="mi">0</span><span class="bp">.</span><span class="n">succ</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">→</span> <span class="n">false</span>
</code></pre></div>



<a name="203311743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/203311743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#203311743">(Jul 08 2020 at 19:31)</a>:</h4>
<p><code>= 1</code> not <code>= 0</code></p>



<a name="301157617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/301157617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Andrew Gerads <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#301157617">(Sep 28 2022 at 04:38)</a>:</h4>
<p>I need this lemma, and if I can help make the <code>ring</code> command gain the capability to solve this, that would be great. I tried <code>library_search</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">inv_mul_other_mul_self_cancel</span> <span class="o">(</span><span class="n">z1</span> <span class="n">z2</span><span class="o">:</span><span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">z1</span><span class="bp">≠</span><span class="mi">0</span><span class="o">):</span> <span class="n">z1</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">z2</span> <span class="bp">*</span> <span class="n">z1</span> <span class="bp">=</span> <span class="n">z2</span><span class="o">:=</span>
</code></pre></div>



<a name="301159039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/301159039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#301159039">(Sep 28 2022 at 05:03)</a>:</h4>
<p>My guess</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="n">field_simp</span><span class="o">,</span>
  <span class="n">ring</span>
</code></pre></div>



<a name="301546880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Simple%20ring%20lemma/near/301546880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Simple.20ring.20lemma.html#301546880">(Sep 29 2022 at 23:09)</a>:</h4>
<p>Should be possible in two rewrites as well</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>