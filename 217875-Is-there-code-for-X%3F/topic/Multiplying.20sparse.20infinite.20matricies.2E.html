---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html">Multiplying sparse infinite matricies.</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="290359659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290359659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290359659">(Jul 21 2022 at 10:48)</a>:</h4>
<p>In theory, would it be possible to define matrix multiplication for infinite matrices where enough of the entries are zero that you only have finitely supported sums? Like, if row i of M has finitely many non-zero entries, and column j of N has finitely many non-zero entries, then entry ij of MN is defined in terms of a sum of finitely many non-zero entries. So as long as every row of M has finitely many non-zero entries (that is to say, for all i, j -&gt; M i j is a finitely supported function) and vice-versa for N and columns, you can perform the multiplication, no?</p>
<p>Do we already have the machinery to do this?</p>



<a name="290360154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290360154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290360154">(Jul 21 2022 at 10:55)</a>:</h4>
<p>You could write the multiplication using <code>tsum</code> I guess</p>



<a name="290361584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290361584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290361584">(Jul 21 2022 at 11:12)</a>:</h4>
<p>Let me also mention <a href="https://github.com/leanprover-community/mathlib/pull/11656">#11656</a>, that does exactly this for locally finite orders.</p>



<a name="290362015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290362015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290362015">(Jul 21 2022 at 11:17)</a>:</h4>
<p>Oh, that's cool.</p>



<a name="290368163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290368163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290368163">(Jul 21 2022 at 12:23)</a>:</h4>
<p>You only need one of (every row of M has finitely many non-zero entries) and (every column of N has finitely many non-zero entries) to be able to do the multiplication. You see this with matrices representing finite rank maps. Columns are all finitely supported but rows are not in general (e.g. the projection sending each <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">e_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">e_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> has matrix with first line all 1s, but you can still multiply it by another finite rank matrix).</p>



<a name="290369630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290369630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290369630">(Jul 21 2022 at 12:37)</a>:</h4>
<p>Oh, so you do, yes.</p>



<a name="290380757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Multiplying%20sparse%20infinite%20matricies./near/290380757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Multiplying.20sparse.20infinite.20matricies.2E.html#290380757">(Jul 21 2022 at 14:14)</a>:</h4>
<p>I suppose what this correspond to is: if you have something of type <code>f : m → n →₀ α</code>, you can turn this into a matrix <code>M : m → n → α</code> by <code>M i j = f i j</code> or you can turn it into <code>M : n → m → α</code> via <code>M j i = f i j</code>.</p>
<p>What we're talking about here, then, are operations <code>(m → n →₀ α) → matrix n k → matrix m k</code> and <code>matrix m n → (k → n →₀ α) → matrix m k</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>