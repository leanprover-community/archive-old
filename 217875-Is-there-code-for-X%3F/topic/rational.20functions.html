---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html">rational functions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234207220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234207220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234207220">(Apr 12 2021 at 18:27)</a>:</h4>
<p>Is there code for rational functions? It appears on the page for missing undergrad math and is not in the PR list or issues. I would like to add code for rational functions--any reactions? For the definition, what would be a good name , e.g., ratfunc? What should this code cover? I suggest: identifying domain and range of rational functions, definition of horizontal, vertical, and slant asymptotes using limits, formula for asymptotes.</p>



<a name="234208598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234208598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234208598">(Apr 12 2021 at 18:35)</a>:</h4>
<p>Probably you should start with purely algebraic definition (e.g., as the field of fractions of <code>polynomial R</code>).</p>



<a name="234208681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234208681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234208681">(Apr 12 2021 at 18:36)</a>:</h4>
<p>Once this is merged, you can prove something about limits etc.</p>



<a name="234211680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234211680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234211680">(Apr 12 2021 at 18:57)</a>:</h4>
<p>There is something about localizations in the file <code>ring_theory/localization</code>.  In particular, I think that it defines a localization of an integral domain at the multiplicative submonoid of all the non-zero elements as <code>fraction_map R K</code>.  I hope that this could be a beginning!</p>



<a name="234267976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234267976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234267976">(Apr 13 2021 at 04:48)</a>:</h4>
<p>OK, for full generality, given a field F, and polynomials over elements of F which form a ring R, we define polynomial_fraction_ring , as "fraction_ring R" with Type u_4. And then a rational function would be any element of that. This would be a new definition in ring_theory.localization. Is that roughly what you are suggesting?</p>



<a name="234269663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234269663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234269663">(Apr 13 2021 at 05:14)</a>:</h4>
<p>I would call it <code>rational_functions F</code>.</p>



<a name="234269710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234269710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234269710">(Apr 13 2021 at 05:14)</a>:</h4>
<p>And it doesn't have to be defined that way. You can also define it in a hands-on manner. But it will be important that you provide <code>localization (polynomial F) (rational_function F)</code>.</p>



<a name="234269740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234269740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234269740">(Apr 13 2021 at 05:15)</a>:</h4>
<p>Because once you have done that, you can start treating it as a localization, which unlocks a nice library for you.</p>



<a name="234270267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234270267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234270267">(Apr 13 2021 at 05:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/rational.20functions/near/234269740">said</a>:</p>
<blockquote>
<p>Because once you have done that, you can start treating it as a localization, which unlocks a nice library for you.</p>
</blockquote>
<p>OK makes sense Johan, thanks</p>



<a name="234992894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234992894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234992894">(Apr 17 2021 at 14:43)</a>:</h4>
<p>(deleted)</p>



<a name="234992978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234992978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Hunter Monroe <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234992978">(Apr 17 2021 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  am I heading in the right direction and what is needed for the last line?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.basic</span>
<span class="kn">import</span> <span class="n">ring_theory.localization</span>
<span class="kd">universes</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
<span class="kn">namespace</span> <span class="n">polynomial</span>
<span class="kd">variable</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">rational_functions</span> <span class="o">:</span> <span class="n">fraction_ring</span> <span class="n">p</span>
<span class="kd">end</span> <span class="n">polynomial</span>
</code></pre></div>



<a name="234993392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234993392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234993392">(Apr 17 2021 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="397140">@Hunter Monroe</span> <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a></p>



<a name="234993576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234993576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234993576">(Apr 17 2021 at 14:54)</a>:</h4>
<p>The syntax is <code>def name : type := value</code>, your def is missing the <code>:=</code></p>



<a name="234993593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234993593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234993593">(Apr 17 2021 at 14:55)</a>:</h4>
<p>Does <a href="https://leanprover-community.github.io/mathlib_docs/find/fraction_ring">docs#fraction_ring</a> exist?</p>



<a name="234993616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234993616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234993616">(Apr 17 2021 at 14:55)</a>:</h4>
<p>Yes, but note that it takes a ring as an input, not a polynomial.</p>



<a name="234993680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/234993680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#234993680">(Apr 17 2021 at 14:56)</a>:</h4>
<p>You probably want something of the following form:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.basic</span>
<span class="kn">import</span> <span class="n">ring_theory.localization</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">k</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">rational_function_field_in_one_variable</span> <span class="o">:=</span>
  <span class="n">fraction_ring</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">k</span><span class="o">)</span>
</code></pre></div>
<p>(and probably a better name than I came up with <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> )</p>



<a name="235015035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rational%20functions/near/235015035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rational.20functions.html#235015035">(Apr 17 2021 at 20:28)</a>:</h4>
<p>(deleted)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>