---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html">set with two elements</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="220042208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220042208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220042208">(Dec 15 2020 at 21:04)</a>:</h4>
<p>I want to use the following result and I don't know how to prove it.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mem</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="o">({</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">))</span> <span class="o">(</span><span class="n">h_ne</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>
<p>My problem seems to be the following: I have no idea what <code>{i, j}</code> really is in mathlib (some kind of finset I suppose). For example I don't know how to get anything from the statement <code>x ∈ {i, j}</code>. Can someone point me to some lemmas I can use with that?</p>



<a name="220042911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220042911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220042911">(Dec 15 2020 at 21:11)</a>:</h4>
<p>Well, my editor answered: when hovering with the mouse over the set, it showed info about <code>insert</code> :) . I often forget how useful those tips can be.</p>



<a name="220043146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220043146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220043146">(Dec 15 2020 at 21:13)</a>:</h4>
<p>In this case the tactics <code>tidy</code>  and <code>finish</code>  both prove this for you.</p>



<a name="220043322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220043322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220043322">(Dec 15 2020 at 21:15)</a>:</h4>
<p>And a term mode proof is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mem</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="o">({</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">))</span> <span class="o">(</span><span class="n">h_ne</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span>
<span class="n">set.eq_of_mem_singleton</span> <span class="bp">$</span> <span class="n">set.mem_of_mem_insert_of_ne</span> <span class="n">h_mem</span> <span class="n">h_ne</span>
</code></pre></div>



<a name="220043338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220043338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220043338">(Dec 15 2020 at 21:15)</a>:</h4>
<p>You can probably do <code>cases h_mem</code> on <code>h_mem : x \in {i,j}</code>! It's not how you're supposed to deal with it -- there will be a proper API for it -- but under the hood it's probably something like <code>x = i \or x = j</code> or maybe <code>x = i \or x = j \or x \in emptyset</code> (it used to be this but they might have changed it)</p>



<a name="220043702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220043702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220043702">(Dec 15 2020 at 21:18)</a>:</h4>
<p><code>cases</code> did not work. That's why i wanted to know the name of the thing, to be able to find related functions, like <code>finset.mem_insert</code>. Now in my original proof I do <code>rw finset.mem_insert at h_mem, cases h_mem,</code> and continue with my buisness.</p>



<a name="220044441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220044441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220044441">(Dec 15 2020 at 21:23)</a>:</h4>
<p>The proof tidy finds is basically what kevin suggests, its</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">by</span> <span class="o">{</span><span class="n">cases</span> <span class="n">h_mem</span><span class="o">,</span> <span class="o">{</span><span class="n">induction</span> <span class="n">h_mem</span><span class="o">,</span> <span class="n">simp</span> <span class="n">at</span> <span class="n">h_ne</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h_ne</span> <span class="o">},</span> <span class="n">assumption</span><span class="o">}</span>
</code></pre></div>



<a name="220044883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220044883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220044883">(Dec 15 2020 at 21:26)</a>:</h4>
<p>Ok, that's strange. It means that my example was in fact not representative of what happens in my bigger lemma, because cases does not work there. I'll try to understand the difference. Thanks!</p>



<a name="220045697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220045697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220045697">(Dec 15 2020 at 21:32)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mem</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="o">({</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">}</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">))</span> <span class="o">(</span><span class="n">h_ne</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">finish</span>
</code></pre></div>
<p>That corresponds better to what I needed. The difference is finset vs set. <code>cases h_mem</code> does not work here.</p>



<a name="220047081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220047081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220047081">(Dec 15 2020 at 21:45)</a>:</h4>
<p>Aah yeah, for finset you have to use the API. probably it's still <code>insert i (insert j empty)</code> though</p>



<a name="220047313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220047313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220047313">(Dec 15 2020 at 21:47)</a>:</h4>
<p>yes, looks like that. It's all easy now that I know that it is called <code>insert</code>. Knowing what word to search in the documentation is the key :)</p>



<a name="220049029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220049029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220049029">(Dec 15 2020 at 22:02)</a>:</h4>
<p>Yeah, these things are hard to figure out because some of the notation is tricky to get to the bottom of. You just have to learn what's going on. Even if you can find where it's defined in the source code it might say some stuff about scoped this and some strange syntax or maybe it's all hard coded in the C++ or whatever</p>



<a name="220201548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/set%20with%20two%20elements/near/220201548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/set.20with.20two.20elements.html#220201548">(Dec 17 2020 at 02:46)</a>:</h4>
<p><code>{a, b, c}</code> notation is implemented in C++</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>