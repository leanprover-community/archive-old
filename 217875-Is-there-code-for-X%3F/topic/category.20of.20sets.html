---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html">category of sets</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207020110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020110">(Aug 15 2020 at 12:36)</a>:</h4>
<p>It seems that there're no <a href="https://en.wikipedia.org/wiki/Category_of_sets">category of sets</a> in mathlib?</p>
<p>I've made a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> (with a random proof as POC) but don't know if it's idiomatic or correct:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">init</span><span class="bp">.</span><span class="n">function</span>
<span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">category</span>
<span class="kn">import</span> <span class="n">category_theory</span><span class="bp">.</span><span class="n">full_subcategory</span>
<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">category</span><span class="bp">.</span><span class="n">Group</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span>

<span class="kn">instance</span> <span class="n">Set</span><span class="bp">.</span><span class="n">category</span> <span class="o">:</span> <span class="n">category</span> <span class="o">(</span><span class="n">set</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span>  <span class="o">:=</span> <span class="bp">λ</span> <span class="n">A</span> <span class="n">B</span><span class="o">,</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span><span class="o">,</span>
  <span class="n">id</span>   <span class="o">:=</span> <span class="bp">λ</span> <span class="n">S</span> <span class="n">s</span><span class="o">,</span> <span class="n">s</span><span class="o">,</span>
  <span class="n">comp</span> <span class="o">:=</span>  <span class="bp">λ</span> <span class="bp">_</span> <span class="bp">_</span> <span class="bp">_</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">g</span> <span class="err">∘</span> <span class="n">f</span> <span class="o">}</span>

<span class="kn">lemma</span> <span class="n">Set</span><span class="bp">.</span><span class="n">injective_of_mono</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">X</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="err">⟶</span> <span class="n">B</span><span class="o">)</span> <span class="o">[</span><span class="n">mono</span> <span class="n">f</span><span class="o">]</span> <span class="o">:</span> <span class="n">function</span><span class="bp">.</span><span class="n">injective</span> <span class="n">f</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">assume</span> <span class="n">a₁</span> <span class="n">a₂</span> <span class="n">h</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">α₁</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">a₁</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">α₂</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="bp">_</span><span class="o">,</span> <span class="n">a₂</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">hom_α₁</span> <span class="o">:=</span> <span class="n">as_hom</span> <span class="n">α₁</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">hom_α₂</span> <span class="o">:=</span> <span class="n">as_hom</span> <span class="n">α₂</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t0</span> <span class="o">:</span> <span class="n">hom_α₁</span> <span class="err">≫</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">hom_α₂</span> <span class="err">≫</span> <span class="n">f</span> <span class="o">:=</span>
  <span class="k">begin</span>
    <span class="n">ext</span> <span class="n">x&#39;</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">x&#39;</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">a₁</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">a₂</span><span class="o">,</span>
    <span class="n">dsimp</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
    <span class="n">solve_by_elim</span><span class="o">,</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t1</span> <span class="o">:</span> <span class="n">hom_α₁</span> <span class="bp">=</span> <span class="n">hom_α₂</span> <span class="o">:=</span> <span class="o">(</span><span class="n">cancel_mono</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">t0</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t2</span> <span class="o">:</span> <span class="n">α₁</span> <span class="bp">=</span> <span class="n">α₂</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">assumption</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t3</span> <span class="o">:</span> <span class="n">α₁</span> <span class="n">a₁</span> <span class="bp">=</span> <span class="n">α₂</span> <span class="n">a₁</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">t2</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t4</span> <span class="o">:</span> <span class="n">α₁</span> <span class="n">a₁</span> <span class="bp">=</span> <span class="n">a₁</span> <span class="o">:=</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">t5</span> <span class="o">:</span> <span class="n">α₂</span> <span class="n">a₁</span> <span class="bp">=</span> <span class="n">a₂</span> <span class="o">:=</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">assumption</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="207020168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020168">(Aug 15 2020 at 12:38)</a>:</h4>
<p>I noticed <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.bundled">docs#category_theory.bundled</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.induced_category">docs#category_theory.induced_category</a> and <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/The.20category.20of.20finite.20sets">this topic</a> but don't know how to apply them to a non-class <code>set</code>.</p>



<a name="207020182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020182">(Aug 15 2020 at 12:39)</a>:</h4>
<p>What mathematicians would call the category of sets is called the category of types in mathlib: <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.types">docs#category_theory.types</a></p>



<a name="207020185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020185">(Aug 15 2020 at 12:39)</a>:</h4>
<p>I guess no one has noticed a use for it so far. (Of course we use the category of types a lot.)</p>



<a name="207020244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020244">(Aug 15 2020 at 12:40)</a>:</h4>
<p>Are you looking for the category of sets as in your wikipedia link or for the category of <code>set</code>s of a type <code>X</code> as in your code sample?</p>



<a name="207020373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020373">(Aug 15 2020 at 12:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260921">Markus Himmel</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/category.20of.20sets/near/207020244">said</a>:</p>
<blockquote>
<p>Are you looking for the category of sets as in your wikipedia link or for the category of <code>set</code>s of a type <code>X</code> as in your code sample?</p>
</blockquote>
<p>The code example is born out of the difficulty of expressing the "the category of sets " properly, I think.</p>



<a name="207020418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020418">(Aug 15 2020 at 12:44)</a>:</h4>
<p>But <span class="user-mention" data-user-id="296911">@Utensil Song</span>, I think the point is that as we're using different foundations, the category of sets is not particularly interesting or useful, and everywhere that conventional mathematics uses their "category of sets" (in set theory), we want to use the "category of types" (in type theory).</p>



<a name="207020440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020440">(Aug 15 2020 at 12:45)</a>:</h4>
<p>The category of sets (in type theory) (i.e. the thing you just defined) is not the same thing as the category of sets (in set theory).</p>



<a name="207020500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020500">(Aug 15 2020 at 12:47)</a>:</h4>
<p>Perhaps worth mentioning: the category of subsets of <code>X</code>, as defined in the code above, can be constructed as a full subcategory of the category of types. Full subcategories exists already in mathlib, if you really need this.</p>



<a name="207020869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020869">(Aug 15 2020 at 12:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/category.20of.20sets/near/207020418">said</a>:</p>
<blockquote>
<p>But <span class="user-mention silent" data-user-id="296911">Utensil Song</span>, I think the point is that as we're using different foundations, the category of sets is not particularly interesting or useful, and everywhere that conventional mathematics uses their "category of sets" (in set theory), we want to use the "category of types" (in type theory).</p>
</blockquote>
<p>Thanks for the clarification, now I realized it. I was having trouble treating types as sets  and <code>set</code>s as subsets lately due to some discussions on Zulip.</p>
<p>Thanks for the pointers to <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.types">docs#category_theory.types</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.">docs#category_theory.</a>​full_subcategory , they seem to be what I'm looking for (fail to recognize them previously).</p>



<a name="207020923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207020923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207020923">(Aug 15 2020 at 12:58)</a>:</h4>
<p>we do have a category structure on <code>set X</code> owing to its complete lattice structure</p>



<a name="207021072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021072">(Aug 15 2020 at 13:02)</a>:</h4>
<p><code>has_limits_of_complete_lattice</code> ?</p>



<a name="207021084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021084">(Aug 15 2020 at 13:02)</a>:</h4>
<p>that’s saying it has all limits right</p>



<a name="207021101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021101">(Aug 15 2020 at 13:03)</a>:</h4>
<p>you can try <code>#check (by apply_instance : category (set X))</code> if you want to find the name</p>



<a name="207021107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021107">(Aug 15 2020 at 13:03)</a>:</h4>
<p>ofc with <code>variable (X : Type*)</code> on the previous line</p>



<a name="207021329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Utensil Song <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021329">(Aug 15 2020 at 13:09)</a>:</h4>
<p><code>preorder.small_category (set X) </code></p>



<a name="207021675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/category%20of%20sets/near/207021675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/category.20of.20sets.html#207021675">(Aug 15 2020 at 13:19)</a>:</h4>
<p>Note that the preorder category structure on <code>set X</code> is different from what was defined above. The limits in this are essentially just Inf and colimits essentially just Sup.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>