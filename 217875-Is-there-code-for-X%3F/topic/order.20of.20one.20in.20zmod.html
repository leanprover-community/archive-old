---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html">order of one in zmod</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="295555789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295555789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295555789">(Aug 27 2022 at 07:26)</a>:</h4>
<p>Dear All,</p>
<p>is this lemma already in mathlib?  I could not find it.  Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">group_theory.order_of_element</span>

<span class="kd">lemma</span> <span class="n">zmod.add_order_of_one</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">n0</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">add_order_of</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="295555987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295555987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295555987">(Aug 27 2022 at 07:28)</a>:</h4>
<p>Maybe, because of the definitions it also holds for <code>n = 0</code>.</p>



<a name="295559263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295559263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295559263">(Aug 27 2022 at 08:06)</a>:</h4>
<p>I can't find it.</p>



<a name="295559771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295559771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295559771">(Aug 27 2022 at 08:11)</a>:</h4>
<p>Johan, thanks for confirming!  It seems that there is little API for <code>(add_)order_of_element</code> in general, besides what is in the file where they are defined.  In particular, even the relationship between additive order of 1 in a semiring and its interactions with the various <code>char</code>s seems not in mathlib.</p>



<a name="295560560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560560">(Aug 27 2022 at 08:19)</a>:</h4>
<p>I do not dislike this proof, but can someone find a more direct argument?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">char_p_eq_add_order_of_one</span> <span class="o">(</span><span class="n">R</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span> <span class="n">char_p</span> <span class="n">R</span> <span class="o">(</span><span class="n">add_order_of</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">R</span><span class="o">))</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">nat.smul_one_eq_coe</span><span class="o">,</span> <span class="n">add_order_of_dvd_iff_nsmul_eq_zero</span><span class="o">]⟩</span>

<span class="kd">lemma</span> <span class="n">zmod.add_order_of_one</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">add_order_of</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">zmod</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">cases</span> <span class="n">zmod.char_p</span> <span class="n">n</span> <span class="k">with</span> <span class="n">cp</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">char_p_eq_add_order_of_one</span> <span class="o">(</span><span class="n">zmod</span> <span class="n">n</span><span class="o">)</span> <span class="k">with</span> <span class="n">co</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">nat.dvd_right_iff_eq.mp</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">cp</span><span class="o">,</span> <span class="bp">←</span> <span class="n">co</span><span class="o">]),</span>
<span class="kd">end</span>
</code></pre></div>



<a name="295560808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560808">(Aug 27 2022 at 08:21)</a>:</h4>
<p>Don't we have a lemma that if <code>char_p R a</code> and <code>char_p R b</code> then <code>a = b</code>?</p>



<a name="295560881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560881">(Aug 27 2022 at 08:22)</a>:</h4>
<p>Good point, I do not know!</p>



<a name="295560896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560896">(Aug 27 2022 at 08:22)</a>:</h4>
<p>like <code>char_p</code> injective, or something?</p>



<a name="295560969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560969">(Aug 27 2022 at 08:23)</a>:</h4>
<p><code>char_p.unique</code> I'd say.</p>



<a name="295560992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295560992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295560992">(Aug 27 2022 at 08:23)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/char_p.eq">docs#char_p.eq</a>?</p>



<a name="295561563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295561563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295561563">(Aug 27 2022 at 08:28)</a>:</h4>
<p>Thanks a lot!</p>



<a name="295562260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295562260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295562260">(Aug 27 2022 at 08:33)</a>:</h4>
<p>Also, you could generalize to anything coprime with <code>n</code>, and then prove the general statement that <code>add_order_of a = n/gcd a n</code>.</p>



<a name="295672698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/order%20of%20one%20in%20zmod/near/295672698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/order.20of.20one.20in.20zmod.html#295672698">(Aug 28 2022 at 06:32)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/16277">#16277</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>