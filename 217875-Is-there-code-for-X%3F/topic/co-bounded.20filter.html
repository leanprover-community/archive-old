---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html">co-bounded filter</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="271664402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271664402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271664402">(Feb 12 2022 at 02:44)</a>:</h4>
<p>I'm not sure what the appropriate name for this would be, but in a normed space do we have a definition of the filter of co-bounded sets (those whose complement is bounded)? Or is this just <code>filter.comap norm at_top</code>?</p>



<a name="271679906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271679906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271679906">(Feb 12 2022 at 09:29)</a>:</h4>
<p>All this co stuff makes me wonder whether we should just formalise ideals (in the sense of "the complements of all these sets give you a filter") and then have the finite ideal, the bounded ideal, the null measure ideal...</p>



<a name="271679953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271679953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271679953">(Feb 12 2022 at 09:30)</a>:</h4>
<p>We have closed sets in topology after all</p>



<a name="271688002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688002">(Feb 12 2022 at 13:02)</a>:</h4>
<p>AFAIK, we don't. You should define it in a <code>pseudo_metric_space</code> as <code>{ sets := {s | bounded sᶜ}, ... }</code></p>



<a name="271688069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688069">(Feb 12 2022 at 13:04)</a>:</h4>
<p>Currently we have</p>
<ul>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.cofinite">docs#filter.cofinite</a></li>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.cocompact">docs#filter.cocompact</a></li>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.coclosed_compact">docs#filter.coclosed_compact</a></li>
<li><a href="https://leanprover-community.github.io/mathlib_docs/find/filter.coprod">docs#filter.coprod</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.Coprod">docs#filter.Coprod</a></li>
</ul>



<a name="271688073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688073">(Feb 12 2022 at 13:04)</a>:</h4>
<p>Is this concrete definition better than Jireh's mathematically extremely satisfying comap definition?</p>



<a name="271688101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688101">(Feb 12 2022 at 13:05)</a>:</h4>
<p>Ie is it somehow better to make the concrete definition and then prove it's the comap?</p>



<a name="271688360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688360">(Feb 12 2022 at 13:12)</a>:</h4>
<p>The main advantage of my definition is that it works in any metric space.</p>



<a name="271688362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688362">(Feb 12 2022 at 13:12)</a>:</h4>
<p>You can use <code>comap (dist x) at_top</code> but it needs a base point.</p>



<a name="271688645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688645">(Feb 12 2022 at 13:21)</a>:</h4>
<p>I see. So make the def in full generality and then prove that in some special cases it's the comap. Sounds like a fine PR <span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> !</p>



<a name="271688653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688653">(Feb 12 2022 at 13:21)</a>:</h4>
<p>Clearly, we need <code>@[simp]</code> lemmas that simplify <code>comap norm at_top</code>, <code>comap (dist x) at_top</code>, and <code>comap (λ x, dist x y) at_top</code> to <code>cobounded</code>. BTW, we have a few lemmas about these <code>comap</code> filters in <code>metric_space.basic</code> that should be reformulated in terms of <code>cobounded</code>.</p>



<a name="271688663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271688663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271688663">(Feb 12 2022 at 13:21)</a>:</h4>
<p>AFAIR, we prove <code>cobounded ≤ cocompact</code> and <code>cobounded = cocompact</code> in a proper space.</p>



<a name="271692408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271692408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271692408">(Feb 12 2022 at 14:56)</a>:</h4>
<p>where should I put it? <code>topology/metric_space/basic</code>? or a new file?</p>



<a name="271692563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271692563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271692563">(Feb 12 2022 at 15:00)</a>:</h4>
<p>yes, we have those results: <a href="https://leanprover-community.github.io/mathlib_docs/find/comap_dist_right_at_top_le_cocompact">docs#comap_dist_right_at_top_le_cocompact</a> and it's <code>left</code> and <code>eq</code> versions.</p>



<a name="271710595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271710595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271710595">(Feb 12 2022 at 21:29)</a>:</h4>
<p>I think that <code>metric_space.basic</code> is already long enough. Could you please put it into a new file and move the existing lemmas to this file?</p>



<a name="271710650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271710650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271710650">(Feb 12 2022 at 21:30)</a>:</h4>
<p>Of course, instead of the old lemmas we should have <code>cobounded_le_cocompact</code> and <code>comap_dist_left/right_eq_cobounded</code>/<code>comap_norm_eq_cobounded</code> (or <code>comap_dist_left/right_at_top</code>/<code>comap_norm_at_top</code>)</p>



<a name="271760754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271760754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271760754">(Feb 13 2022 at 19:19)</a>:</h4>
<p>There is a notion of a bornology, which is a way to formalize the notion of "boundedness". Should we think about defining bornological spaces? <br>
<a href="https://en.wikipedia.org/wiki/Bornological_space">https://en.wikipedia.org/wiki/Bornological_space</a><br>
Presumably this is the right context for such a co-bounded filter?</p>



<a name="271760814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271760814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271760814">(Feb 13 2022 at 19:21)</a>:</h4>
<p>It's not obscure at all, it's in Bourbaki!</p>



<a name="271760822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271760822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271760822">(Feb 13 2022 at 19:21)</a>:</h4>
<p>I'm speaking as an arithmetic geometer, sorry ;) Fixed</p>



<a name="271760880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271760880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271760880">(Feb 13 2022 at 19:22)</a>:</h4>
<p>I certainly never used that in my life, but it's still there <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="271761052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271761052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271761052">(Feb 13 2022 at 19:26)</a>:</h4>
<p>Wow, I love this Wikipedia page. "bornivorous"</p>



<a name="271761147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271761147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271761147">(Feb 13 2022 at 19:28)</a>:</h4>
<p>It's genuinely quite related to what Moritz and I have been doing over at <a href="https://tqft.net/mathlib/analysis/seminorm">file#analysis/seminorm</a></p>



<a name="271761321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271761321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271761321">(Feb 13 2022 at 19:32)</a>:</h4>
<p>Sounds precisely like the kind of generalization mathlib enjoys. Who is volunteering?</p>



<a name="271765886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271765886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271765886">(Feb 13 2022 at 21:14)</a>:</h4>
<p>Yeah, they had fun with the names there. I guess I'm volunteering, but I'm not promising it soon. It doesn't seem like there is any rush anyway.</p>



<a name="271765898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271765898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271765898">(Feb 13 2022 at 21:15)</a>:</h4>
<p>Unless it actually is important for your seminorm stuff, in which case I can make it  a priority.</p>



<a name="271769087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769087">(Feb 13 2022 at 22:29)</a>:</h4>
<p>For the structure projections, I was considering <code>is_borne</code> (or <code>is_borné</code>) instead of <code>is_bounded</code> to potentially avoid confusion with other things in mathlib. Thoughts?</p>



<a name="271769842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769842">(Feb 13 2022 at 22:46)</a>:</h4>
<p>Oh btw I have quite an idea of what should be there. <code>bornological_space</code> should be based on <code>topological_space</code>, <code>bornological_module</code> should follow <code>normed_space</code>.</p>



<a name="271769880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769880">(Feb 13 2022 at 22:47)</a>:</h4>
<p>The projection should supersede <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.bounded">docs#metric.bounded</a> and you'll need <a href="https://leanprover-community.github.io/mathlib_docs/find/metric_space">docs#metric_space</a> to extend <code>bornological_space</code> to avoid the diamond with <code>prod</code>, but both can (and indeed should) wait for another PR.</p>



<a name="271769888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769888">(Feb 13 2022 at 22:48)</a>:</h4>
<p>In general, the API should closely follow <code>topological_space</code>.</p>



<a name="271769937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769937">(Feb 13 2022 at 22:48)</a>:</h4>
<p>I'm taking care of <code>bornivore</code>. It is really orthogonal to the rest.</p>



<a name="271769949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271769949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271769949">(Feb 13 2022 at 22:49)</a>:</h4>
<p>One might hope that the existing instances of <code>is_bounded</code> are all cases where the ambient object can be given a natural bornology, so perhaps <code>is_bounded</code> should be the way to go?</p>



<a name="271770079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770079">(Feb 13 2022 at 22:52)</a>:</h4>
<p>What are you referring to, Adam? <code>is_bounded</code> isn't a thing. <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.bounded">docs#metric.bounded</a>?</p>



<a name="271770122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770122">(Feb 13 2022 at 22:53)</a>:</h4>
<p>I'm responding to <span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> 's last comment</p>



<a name="271770197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770197">(Feb 13 2022 at 22:54)</a>:</h4>
<p>But there's no instance of <code>is_bounded</code> <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="271770202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770202">(Feb 13 2022 at 22:54)</a>:</h4>
<p>Yes, I'm literally copying from <code>topological_space</code> and making the necessary modifications.</p>



<a name="271770213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770213">(Feb 13 2022 at 22:55)</a>:</h4>
<p>Perhaps there is no <code>is_bounded</code>, but for some reason I thought there was.</p>



<a name="271770276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770276">(Feb 13 2022 at 22:56)</a>:</h4>
<p>AFAIA, there's <a href="https://leanprover-community.github.io/mathlib_docs/find/set.bounded">docs#set.bounded</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/metric.bounded">docs#metric.bounded</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/is_bounded_linear_map">docs#is_bounded_linear_map</a></p>



<a name="271770300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770300">(Feb 13 2022 at 22:57)</a>:</h4>
<p>(The definition of a bornology looks like an order ideal that contains the ideal of finite sets, but the Wikipedia page doesn't seem to mention anything about ideals -- am I missing something?)</p>



<a name="271770311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770311">(Feb 13 2022 at 22:57)</a>:</h4>
<p>Regardless of whether it exists, we have various conditions stipulating some sort of boundedness in different contexts. Metric spaces is one such example. The point I was making is that with the notion of bornologocal spaces, I am hoping that those various notions of boundedness actually define a bornology, so that we can indeed have a unified <code>is_bounded</code> prop which will encompass all of those ad hoc notions that we currently have.</p>



<a name="271770316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770316">(Feb 13 2022 at 22:57)</a>:</h4>
<p>Yes, the covering condition, Kyle.</p>



<a name="271770380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770380">(Feb 13 2022 at 22:58)</a>:</h4>
<p>And my answer is that this won't happen, Adam. The one thing I see it will generalize is <code>metric.bounded</code>.</p>



<a name="271770558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770558">(Feb 13 2022 at 23:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/co-bounded.20filter/near/271770316">said</a>:</p>
<blockquote>
<p>Yes, the covering condition, Kyle.</p>
</blockquote>
<p>If an ideal contains the ideal of finite sets, then the covering condition is satisfied (and conversely).</p>



<a name="271770914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271770914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271770914">(Feb 13 2022 at 23:07)</a>:</h4>
<p>I haven't looked through the library, but if this really the case, then that's even more of a reason to just use <code>is_bounded</code> as opposed to <code>is_borne</code>...</p>



<a name="271771022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271771022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271771022">(Feb 13 2022 at 23:08)</a>:</h4>
<p>I agree it's a nice <code>topological_space</code>-like name, <code>is_borne</code>is nice too, and more endemic.</p>



<a name="271771183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271771183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271771183">(Feb 13 2022 at 23:11)</a>:</h4>
<p>Note bounded linear maps are linear maps which are also morphisms of bornological spaces (I think?)</p>



<a name="271771247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271771247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271771247">(Feb 13 2022 at 23:12)</a>:</h4>
<p>Oh, I think you're right.</p>



<a name="271771620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271771620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271771620">(Feb 13 2022 at 23:21)</a>:</h4>
<p>So, unlike topological spaces, where <code>∅</code> is automatically an element, the axioms for bornological spaces don't guarantee that the bornology is nonempty unless the type is itself nontrivial. Should I just add the condition <code>is_bounded ∅</code> as an axiom (my preference) so we never have to pass around needless <code>nontrivial</code> assumptions?</p>



<a name="271771957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271771957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271771957">(Feb 13 2022 at 23:30)</a>:</h4>
<p>I think that's a reasonable assumption, but I don't have enough experience with these objects to say for sure.</p>



<a name="271772031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772031">(Feb 13 2022 at 23:32)</a>:</h4>
<p>I suppose we want the poset of bornologies to have <code>\top</code>, which should be the the set of finite subsets, right?</p>



<a name="271772038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772038">(Feb 13 2022 at 23:32)</a>:</h4>
<p>And for this to work for the empty type, we need the empty set to be bounded.</p>



<a name="271772117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772117">(Feb 13 2022 at 23:34)</a>:</h4>
<p>I mean, it is literally only an issue when the type is empty. Yes, I think this reasoning regarding <code>top</code> makes sense.</p>



<a name="271772137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772137">(Feb 13 2022 at 23:35)</a>:</h4>
<p>Actually it seems that the order on bornologies should be reversed from what we have in mathlib for the order on topological space structures.</p>



<a name="271772140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772140">(Feb 13 2022 at 23:35)</a>:</h4>
<p>Because a morphism is supposed to map a bounded set to a bounded set.</p>



<a name="271772186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772186">(Feb 13 2022 at 23:36)</a>:</h4>
<p>So this might be <code>bot</code> :)</p>



<a name="271772189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271772189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271772189">(Feb 13 2022 at 23:36)</a>:</h4>
<p>ah, okay</p>



<a name="271774409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271774409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271774409">(Feb 14 2022 at 00:28)</a>:</h4>
<p>For what it's worth, this is equivalent to the definition of a bornology that includes the empty set:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">bornology</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">infty</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span> <span class="c1">-- the "filter at infinity"</span>
<span class="o">(</span><span class="n">le_cofinite</span> <span class="o">:</span> <span class="n">infty</span> <span class="bp">≤</span> <span class="n">cofinite</span><span class="o">)</span>
</code></pre></div>
<p>and this is the definition of a bounded function with respect to bornologies <code>b</code> and <code>b'</code> on <code>α</code> and <code>α'</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">is_bounded</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α'</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="n">b'.infty.comap</span> <span class="n">f</span> <span class="bp">≤</span> <span class="n">b.infty</span>
</code></pre></div>
<div class="spoiler-block"><div class="spoiler-header">
<p>proof of equivalence to other definition</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.cofinite</span>

<span class="kn">open</span> <span class="n">filter</span>

<span class="kd">structure</span> <span class="n">bornology</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">infty</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">le_cofinite</span> <span class="o">:</span> <span class="n">infty</span> <span class="bp">≤</span> <span class="n">cofinite</span><span class="o">)</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">bornology</span> <span class="n">α</span><span class="o">)</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α'</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">b'</span> <span class="o">:</span> <span class="n">bornology</span> <span class="n">α'</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">is_bounded</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α'</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="n">b'.infty.comap</span> <span class="n">f</span> <span class="bp">≤</span> <span class="n">b.infty</span>

<span class="kd">def</span> <span class="n">bornology.ideal</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">B</span><span class="bp">ᶜ</span> <span class="bp">∈</span> <span class="n">b.infty</span><span class="o">}</span>

<span class="kd">lemma</span> <span class="n">bornology.covers</span> <span class="o">:</span> <span class="bp">⋃₀</span> <span class="n">b.ideal</span> <span class="bp">=</span> <span class="n">set.univ</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">{</span><span class="n">x</span><span class="o">},</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">bornology.ideal</span><span class="o">],</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">b.le_cofinite</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">le_def</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">set.finite_singleton</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">compl_mem_cofinite</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">bornology.inclusion</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hB</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">∈</span> <span class="n">b.ideal</span><span class="o">)</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hA</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">⊆</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">∈</span> <span class="n">b.ideal</span> <span class="o">:=</span>
<span class="n">mem_of_superset</span> <span class="n">hB</span> <span class="o">(</span><span class="n">set.compl_subset_compl.mpr</span> <span class="n">hA</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">bornology.unions</span> <span class="o">{</span><span class="n">B</span> <span class="n">B'</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">hB</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">∈</span> <span class="n">b.ideal</span><span class="o">)</span> <span class="o">(</span><span class="n">hB'</span> <span class="o">:</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">b.ideal</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">B</span> <span class="bp">∪</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">b.ideal</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">bornology.ideal</span><span class="o">,</span> <span class="n">set.compl_union</span><span class="o">,</span> <span class="n">set.mem_set_of_eq</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">inter_mem</span> <span class="n">hB</span> <span class="n">hB'</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">is_bounded_iff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α'</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_bounded</span> <span class="n">b</span> <span class="n">b'</span> <span class="n">f</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">),</span> <span class="n">B</span> <span class="bp">∈</span> <span class="n">b.ideal</span> <span class="bp">→</span> <span class="n">f</span> <span class="bp">''</span> <span class="n">B</span> <span class="bp">∈</span> <span class="n">b'.ideal</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">is_bounded</span><span class="o">,</span> <span class="n">le_def</span><span class="o">,</span> <span class="n">bornology.ideal</span><span class="o">],</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="n">h</span> <span class="n">B</span> <span class="n">hB</span><span class="o">,</span>
    <span class="n">obtain</span> <span class="o">⟨</span><span class="n">B'</span><span class="o">,</span> <span class="n">hB'</span><span class="o">,</span> <span class="n">h</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">h</span> <span class="n">_</span> <span class="n">hB</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="n">B'</span> <span class="bp">⊆</span> <span class="o">(</span><span class="n">f</span> <span class="bp">''</span> <span class="n">B</span><span class="o">)</span><span class="bp">ᶜ</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">intros</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">simp</span><span class="o">,</span>
      <span class="n">rintros</span> <span class="n">x'</span> <span class="n">hx'</span> <span class="n">rfl</span><span class="o">,</span>
      <span class="k">have</span> <span class="o">:</span> <span class="n">x'</span> <span class="bp">∈</span> <span class="n">f</span><span class="bp">⁻¹'</span> <span class="n">B'</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">hx</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">h</span> <span class="n">this</span> <span class="n">hx'</span><span class="o">,</span> <span class="o">},</span>
    <span class="n">exact</span> <span class="n">mem_of_superset</span> <span class="n">hB'</span> <span class="n">this</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="n">h</span> <span class="n">B</span> <span class="n">hB</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">h</span> <span class="n">B</span><span class="bp">ᶜ</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">hB</span><span class="o">),</span>
    <span class="n">refine</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">h</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">h</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">set.not_not_mem.mp</span> <span class="o">(</span><span class="n">imp_not_comm.mp</span> <span class="n">h</span> <span class="n">rfl</span><span class="o">),</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">def</span> <span class="n">bornology.of</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">ideal</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">))</span>
  <span class="o">(</span><span class="n">empty_mem</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span>
  <span class="o">(</span><span class="n">covers</span> <span class="o">:</span> <span class="bp">⋃₀</span> <span class="n">ideal</span> <span class="bp">=</span> <span class="n">set.univ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">incl</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">B</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="bp">⊆</span> <span class="n">B</span><span class="o">),</span> <span class="n">A</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span>
  <span class="o">(</span><span class="n">union</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">B</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">),</span> <span class="n">B</span> <span class="bp">∪</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span> <span class="o">:</span> <span class="n">bornology</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">infty</span> <span class="o">:=</span>
  <span class="o">{</span> <span class="n">sets</span> <span class="o">:=</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span> <span class="bp">|</span> <span class="n">B</span><span class="bp">ᶜ</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">},</span>
    <span class="n">univ_sets</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">empty_mem</span><span class="o">],</span>
    <span class="n">sets_of_superset</span> <span class="o">:=</span> <span class="kd">begin</span>
      <span class="n">intros</span> <span class="n">A</span> <span class="n">A'</span> <span class="n">hA</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rw</span> <span class="bp">←</span><span class="n">set.compl_subset_compl</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">set.mem_set_of_eq</span> <span class="n">at</span> <span class="bp">⊢</span> <span class="n">hA</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">incl</span> <span class="n">_</span> <span class="n">hA</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span>
    <span class="kd">end</span><span class="o">,</span>
    <span class="n">inter_sets</span> <span class="o">:=</span> <span class="kd">begin</span>
      <span class="n">intros</span> <span class="n">A</span> <span class="n">A'</span> <span class="n">hA</span> <span class="n">hA'</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">set.mem_set_of_eq</span> <span class="n">at</span> <span class="bp">⊢</span> <span class="n">hA</span> <span class="n">hA'</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">set.compl_inter</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">union</span> <span class="n">_</span> <span class="n">hA</span> <span class="n">_</span> <span class="n">hA'</span><span class="o">,</span>
    <span class="kd">end</span> <span class="o">},</span>
  <span class="n">le_cofinite</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rw</span> <span class="n">le_def</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">A</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
    <span class="n">generalize</span> <span class="o">:</span> <span class="n">A</span><span class="bp">ᶜ</span> <span class="bp">=</span> <span class="n">A'</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">h.dinduction_on</span> <span class="n">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">s</span> <span class="n">hx</span> <span class="n">hs</span> <span class="n">h</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">empty_mem</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">set.insert_eq</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">union</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span>
      <span class="k">have</span> <span class="o">:=</span> <span class="n">set.mem_univ</span> <span class="n">x</span><span class="o">,</span>
      <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">covers</span><span class="o">,</span> <span class="n">set.mem_sUnion</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
      <span class="n">obtain</span> <span class="o">⟨</span><span class="n">B</span><span class="o">,</span> <span class="n">hB</span><span class="o">,</span> <span class="n">h</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">this</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">incl</span> <span class="n">_</span> <span class="n">hB</span><span class="o">,</span>
      <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">],</span> <span class="o">},</span>
  <span class="kd">end</span> <span class="o">}</span>

<span class="kn">section</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">ideal</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">α</span><span class="o">))</span>
  <span class="o">(</span><span class="n">empty_mem</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span>
  <span class="o">(</span><span class="n">covers</span> <span class="o">:</span> <span class="bp">⋃₀</span> <span class="n">ideal</span> <span class="bp">=</span> <span class="n">set.univ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">incl</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">B</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="bp">⊆</span> <span class="n">B</span><span class="o">),</span> <span class="n">A</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span>
  <span class="o">(</span><span class="n">union</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">B</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">),</span> <span class="n">B</span> <span class="bp">∪</span> <span class="n">B'</span> <span class="bp">∈</span> <span class="n">ideal</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">bornology.ideal_of_eq</span> <span class="o">:</span> <span class="o">(</span><span class="n">bornology.of</span> <span class="n">ideal</span> <span class="n">empty_mem</span> <span class="n">covers</span> <span class="n">incl</span> <span class="n">union</span><span class="o">)</span><span class="bp">.</span><span class="n">ideal</span> <span class="bp">=</span> <span class="n">ideal</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span> <span class="n">B</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">bornology.of</span><span class="o">,</span> <span class="n">bornology.ideal</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="271774789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271774789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271774789">(Feb 14 2022 at 00:37)</a>:</h4>
<p>Nice!</p>



<a name="271774856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271774856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271774856">(Feb 14 2022 at 00:38)</a>:</h4>
<p>Shouldn't <code>infty</code> be called <code>co-bounded</code>, per the title of this thread? ;)</p>



<a name="271781365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271781365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271781365">(Feb 14 2022 at 03:25)</a>:</h4>
<p>So, should we have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">bornology_space</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">cobounded</span> <span class="o">:</span> <span class="n">filter</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">le_cofinite</span> <span class="o">:</span> <span class="n">cobounded</span> <span class="bp">≤</span> <span class="n">cofinite</span><span class="o">)</span>
</code></pre></div>
<p>with an instance for a <code>pseudo_metric_space</code>?</p>



<a name="271781412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271781412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271781412">(Feb 14 2022 at 03:26)</a>:</h4>
<p>And <code>bounded</code> (or whatever is the new name) defined as <code>sᶜ ∈ cobounded</code>.</p>



<a name="271782223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271782223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271782223">(Feb 14 2022 at 03:48)</a>:</h4>
<p>That was my new plan. Then the morphisms are just <code>f</code> that satisfy <code>comap f cobounded ≤ cobounded</code>. I can then provide the necessary API for bounded sets, and the API for cobounded sets comes mostly for free from the API for filters.</p>



<a name="271782313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271782313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271782313">(Feb 14 2022 at 03:51)</a>:</h4>
<p>What are the other instances?</p>



<a name="271782318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271782318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271782318">(Feb 14 2022 at 03:51)</a>:</h4>
<p>I mean, are we going to have more than one instance for <code>bornology_space</code>?</p>



<a name="271782614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271782614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271782614">(Feb 14 2022 at 03:59)</a>:</h4>
<p>We will eventually, certainly locally convex spaces, or even any topological vector space.</p>



<a name="271836133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271836133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271836133">(Feb 14 2022 at 14:50)</a>:</h4>
<p>If you could let me define bounded maps, that'd be nice, so that we can follow the hom refactor right from the start.</p>



<a name="271836392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271836392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271836392">(Feb 14 2022 at 14:52)</a>:</h4>
<p>We could then instantiate <code>bounded_map_class</code> for continuous linear maps.</p>



<a name="271857578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271857578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271857578">(Feb 14 2022 at 17:12)</a>:</h4>
<p>oops, sorry,  I just saw your comment. See <a href="https://github.com/leanprover-community/mathlib/pull/12036">#12036</a>. If you want I can remove the <code>bounded_hom</code> bits, but if possible I would prefer if you told me how to follow the hom refactor so I can learn about it more.</p>



<a name="271858194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271858194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271858194">(Feb 14 2022 at 17:16)</a>:</h4>
<p>Even just pointing me to an example or the relevant documentation might be enough.</p>



<a name="271858197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271858197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271858197">(Feb 14 2022 at 17:16)</a>:</h4>
<p>Sorry, don't have time anymore now, so I suggest you have a look at <a href="https://tqft.net/mathlib/order/hom/lattice">file#order/hom/lattice</a> or <a href="https://tqft.net/mathlib/order/hom/bounded">file#order/hom/bounded</a></p>



<a name="271858239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271858239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271858239">(Feb 14 2022 at 17:16)</a>:</h4>
<p>But also if you leave that to me, I'll be done in 20min. Up to you.</p>



<a name="271858495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271858495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271858495">(Feb 14 2022 at 17:18)</a>:</h4>
<p>Alright, I'll just pull out the homs and leave it to you and I'll just pay attention to how you did it.</p>



<a name="271858683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271858683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271858683">(Feb 14 2022 at 17:20)</a>:</h4>
<p>Do you want them in the same PR or a different one? I'd be happy to defer.</p>



<a name="271859746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/co-bounded%20filter/near/271859746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/co-bounded.20filter.html#271859746">(Feb 14 2022 at 17:28)</a>:</h4>
<p>Doesn't matter to me. You are welcome to stick them in that one if you want to push to that branch. Or defer, your choice.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>