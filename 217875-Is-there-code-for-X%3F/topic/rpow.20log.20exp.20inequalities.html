---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html">rpow log exp inequalities</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241532365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241532365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241532365">(Jun 04 2021 at 13:10)</a>:</h4>
<p>Is there anything like that somewhere?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.special_functions.exp_log</span>
<span class="kn">import</span> <span class="n">analysis.special_functions.pow</span>

<span class="kd">lemma</span> <span class="n">le_pow_of_log_le</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">real.log</span> <span class="n">a</span><span class="o">)</span><span class="bp">/</span><span class="o">(</span><span class="n">real.log</span> <span class="n">b</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">c</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="bp">^</span><span class="n">c</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">le_exp_of_log_le</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">real.log</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">≤</span> <span class="n">real.exp</span> <span class="n">b</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>I need <code>le_pow_of_log_le</code></p>



<a name="241532789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241532789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241532789">(Jun 04 2021 at 13:14)</a>:</h4>
<p>Does monotonicity of <code>exp</code> get you the second one?</p>



<a name="241533061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241533061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241533061">(Jun 04 2021 at 13:17)</a>:</h4>
<p><code>have := real.exp_monotone h</code> followed by <code>rw real.exp_log ha at this</code> or something</p>



<a name="241533235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241533235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241533235">(Jun 04 2021 at 13:19)</a>:</h4>
<p>Yeah, I think that works. Do you think such lemmas are worth having?</p>



<a name="241533287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241533287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241533287">(Jun 04 2021 at 13:19)</a>:</h4>
<p>Is the second one true as an <code>iff</code>?</p>



<a name="241534373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534373">(Jun 04 2021 at 13:27)</a>:</h4>
<p>So they are a Galois connection I guess</p>



<a name="241534397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534397">(Jun 04 2021 at 13:27)</a>:</h4>
<p>Except conditional on <code>a</code> being positive</p>



<a name="241534426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534426">(Jun 04 2021 at 13:27)</a>:</h4>
<p>I think this lemma is worth having:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">log_le_iff_le_exp</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">real.log</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">real.exp</span> <span class="n">b</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">real.exp_log</span> <span class="n">ha</span> <span class="bp">▸</span> <span class="n">real.exp_monotone</span> <span class="n">h</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">real.exp_le_exp.mp</span> <span class="bp">$</span> <span class="o">(</span><span class="n">real.exp_log</span> <span class="n">ha</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span> <span class="bp">▸</span> <span class="n">h</span><span class="o">⟩</span>
</code></pre></div>



<a name="241534436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534436">(Jun 04 2021 at 13:27)</a>:</h4>
<p>right, they're a galois connection between pos_real and real</p>



<a name="241534497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534497">(Jun 04 2021 at 13:28)</a>:</h4>
<p>In fact they're simply an order isomorphism between pos_real and real, this is what should be proved</p>



<a name="241534512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534512">(Jun 04 2021 at 13:28)</a>:</h4>
<p>I suspect we have that</p>



<a name="241534529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534529">(Jun 04 2021 at 13:28)</a>:</h4>
<p>well then this is a consequence</p>



<a name="241534558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534558">(Jun 04 2021 at 13:28)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/real.exp_order_iso">docs#real.exp_order_iso</a></p>



<a name="241534575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534575">(Jun 04 2021 at 13:29)</a>:</h4>
<p>Yes, but it's a consequence that probably has awkard coe debris to clean up</p>



<a name="241534741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534741">(Jun 04 2021 at 13:30)</a>:</h4>
<p>Maybe there's still an easier proof using that lemma though</p>



<a name="241534802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241534802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241534802">(Jun 04 2021 at 13:30)</a>:</h4>
<p>I mean, real.log is defined using the order iso</p>



<a name="241535750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241535750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241535750">(Jun 04 2021 at 13:38)</a>:</h4>
<p>I think your first lemma is false?</p>



<a name="241535769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241535769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241535769">(Jun 04 2021 at 13:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">le_pow_of_log_le</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="o">)</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">c</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="n">real.log</span> <span class="n">a</span><span class="o">)</span><span class="bp">/</span><span class="o">(</span><span class="n">real.log</span> <span class="n">b</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">c</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">≤</span> <span class="n">b</span><span class="bp">^</span><span class="n">c</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">real.log_le_log</span> <span class="n">ha</span> <span class="o">(</span><span class="n">real.rpow_pos_of_pos</span> <span class="n">hb</span> <span class="n">_</span><span class="o">),</span> <span class="n">real.log_rpow</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">mul_comm</span><span class="o">,</span> <span class="bp">←</span><span class="n">mul_inv_le_iff</span> <span class="n">_</span><span class="o">,</span> <span class="bp">←</span><span class="n">div_eq_mul_inv</span><span class="o">],</span>
    <span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
    <span class="gr">sorry</span><span class="o">,</span>  <span class="c1">-- 0 &lt; real.log b</span>
  <span class="kd">end</span>
</code></pre></div>



<a name="241536651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241536651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241536651">(Jun 04 2021 at 13:45)</a>:</h4>
<p>If a=b=1/2 and c=2 then h is true and the conclusion isn't.</p>



<a name="241538265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241538265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241538265">(Jun 04 2021 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/rpow.20log.20exp.20inequalities/near/241534558">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/real.exp_order_iso">docs#real.exp_order_iso</a></p>
</blockquote>
<p>I tried using this a while back and it was hellish</p>



<a name="241540889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/rpow%20log%20exp%20inequalities/near/241540889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/rpow.20log.20exp.20inequalities.html#241540889">(Jun 04 2021 at 14:12)</a>:</h4>
<p>Ah yes, we need  1 &lt; b to divide out the logs properly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>