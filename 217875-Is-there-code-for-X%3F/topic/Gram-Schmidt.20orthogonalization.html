---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html">Gram-Schmidt orthogonalization</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207025090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207025090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207025090">(Aug 15 2020 at 14:55)</a>:</h4>
<p>Would anyone be interested in writing this together? Or is anyone working on this already?</p>



<a name="207025148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207025148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207025148">(Aug 15 2020 at 14:56)</a>:</h4>
<p>The process itself is algorithmic so I'm hoping the Lean code wouldn't be that hard.</p>



<a name="207025171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207025171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207025171">(Aug 15 2020 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="252300">@Jalex Stark</span> <span class="user-mention" data-user-id="319839">@Kenji Nakagawa</span> <span class="user-mention" data-user-id="322118">@Michael Hahn</span> ?</p>



<a name="207025411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207025411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207025411">(Aug 15 2020 at 15:03)</a>:</h4>
<p>You should work in a branch of mathlib rather than in a separate repo</p>



<a name="207027885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207027885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Shu <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207027885">(Aug 15 2020 at 16:10)</a>:</h4>
<p>Hi! I would be very interested in working on this. I'm fairly new though, so I would probably ask a lot of silly questions.</p>



<a name="207028254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207028254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207028254">(Aug 15 2020 at 16:20)</a>:</h4>
<p>Silly questions are welcome in the new members stream</p>



<a name="207028262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207028262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207028262">(Aug 15 2020 at 16:21)</a>:</h4>
<p>But wait first for Alex to PR his work.</p>



<a name="207028926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207028926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Hahn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207028926">(Aug 15 2020 at 16:36)</a>:</h4>
<p>Yeah I think I would like to work on this as well <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="207037041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207037041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207037041">(Aug 15 2020 at 20:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Gram-Schmidt.20orthogonalization/near/207025411">said</a>:</p>
<blockquote>
<p>You should work in a branch of mathlib rather than in a separate repo</p>
</blockquote>
<p>Will do</p>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Gram-Schmidt.20orthogonalization/near/207028262">said</a>:</p>
<blockquote>
<p>But wait first for Alex to PR his work.</p>
</blockquote>
<p>Yes, will wait and see how that one goes</p>



<a name="207042704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207042704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207042704">(Aug 15 2020 at 22:31)</a>:</h4>
<p>It should be fun to look at <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="207072374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207072374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207072374">(Aug 16 2020 at 13:49)</a>:</h4>
<p>What statement exactly did you have in mind to formalize?</p>



<a name="207073709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207073709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207073709">(Aug 16 2020 at 14:26)</a>:</h4>
<p>just that given a basis of a finite dimensional vector space with an inner product, we can explicitly construct an orthonormal basis</p>



<a name="207073856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207073856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207073856">(Aug 16 2020 at 14:31)</a>:</h4>
<p>And what does "explicitly" mean?</p>



<a name="207074424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207074424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207074424">(Aug 16 2020 at 14:49)</a>:</h4>
<p>use this algorithm: <a href="https://en.wikipedia.org/wiki/Gram%E2%80%93Schmidt_process#The_Gram%E2%80%93Schmidt_process">https://en.wikipedia.org/wiki/Gram%E2%80%93Schmidt_process#The_Gram%E2%80%93Schmidt_process</a></p>



<a name="207074988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207074988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207074988">(Aug 16 2020 at 15:05)</a>:</h4>
<p>I guess what I mean to say is:<br>
Giving an "explicit definition" is not practically useful if that definition is (hypothetically) 200 lines of tactic mode. At that point you might as well be proving a mere existence result.<br>
So, there should be at least one application that you have in mind to verify that your formalization is indeed useful.</p>



<a name="207075322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207075322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207075322">(Aug 16 2020 at 15:13)</a>:</h4>
<p>Ah, I see. The original motivation was to go from a spectral theorem for linear operators to a spectral theorem for matrices. This requires you to orthogonalize the eigenbasis to get a orthogonal/unitary matrix.</p>



<a name="207075668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207075668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207075668">(Aug 16 2020 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="245078">@Apurva Nakade</span> the point is that an algorithm is a definition and each definition comes with a cost, in some sense. It seems that thus far we have managed to do ok without needing this definition. Of course one can prove the theorem that if there exists a basis then there exists an ON basis, but this follows immediately from the statement that there exists an ON basis, which is a theorem (proved using Gram Schmidt). The question is why one needs the algorithm as a definition and not just the theorem. There might be a good answer to this.</p>



<a name="207075679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207075679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207075679">(Aug 16 2020 at 15:23)</a>:</h4>
<p>But I don't really know exactly what these spectral theorems you're talking about are (the devil is in the detail)</p>



<a name="207075827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207075827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207075827">(Aug 16 2020 at 15:27)</a>:</h4>
<p>One application I know is that the multiplication map from O(n) x {upper triangular matrices with positive diagonal entries} to GL(n) is a homeomorphism (also a diffeomorphism, but I don't think we can even state that yet) and so in particular the inclusion O(n) -&gt; GL(n) is a homotopy equivalence.</p>



<a name="207076270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207076270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207076270">(Aug 16 2020 at 15:38)</a>:</h4>
<p>I'm sorry for not being clear. I just saw this on the list of <a href="https://leanprover-community.github.io/undergrad_todo.html">undergrad_todos</a> and thought that this does not exist because it is too easy.</p>
<p>The theorem I have in mind is that if <code>M</code>is a normal (symmetric) matrix then there exists a unitary (orthogonal) matrix <code>U</code> such that <code>U^* M U</code> is diagonal. If we have a spectral theorem for linear operators i.e. the linear operator for <code>M</code> has an eigenbasis, then we can get <code>U</code> from the eigenbasis by doing GS orthogonalization.</p>



<a name="207076282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207076282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207076282">(Aug 16 2020 at 15:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Gram-Schmidt.20orthogonalization/near/207075827">said</a>:</p>
<blockquote>
<p>One application I know is that the multiplication map from O(n) x {upper triangular matrices with positive diagonal entries} to GL(n) is a homeomorphism (also a diffeomorphism, but I don't think we can even state that yet) and so in particular the inclusion O(n) -&gt; GL(n) is a homotopy equivalence.</p>
</blockquote>
<p>This is also great! A direct application of GS.</p>



<a name="207076488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207076488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207076488">(Aug 16 2020 at 15:44)</a>:</h4>
<p>I will dig more and come up with a list of useful math theorems that rely on GS. </p>
<p>I use linear algebra so much that I never question as to where its theorems are used :P  I was also going to ask about SVD but I think I'll hold on to that for now :)</p>



<a name="207076921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207076921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207076921">(Aug 16 2020 at 15:57)</a>:</h4>
<p>This homeomorphism doesn't need GS.  I guess people interested in algorithms can simply program GS and prove its properties, but this is independent from the theoretical applications.</p>



<a name="207077707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207077707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207077707">(Aug 16 2020 at 16:20)</a>:</h4>
<p>Seconded. Gram-Schmidt as understood by graphics programmers bears only a passing resemblance to Gram-Schmidt as understood in linear algebra (especially once it goes infinite dimensional)</p>



<a name="207077776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207077776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207077776">(Aug 16 2020 at 16:22)</a>:</h4>
<p>Even wikipedia acknowledges that the mathematician's G-S is numerically unstable and proposes an alternative algorithm that is more useful for algorithmic implementation</p>



<a name="207078660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207078660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207078660">(Aug 16 2020 at 16:45)</a>:</h4>
<p>Do you want an algorithm which produces U or just a theorem saying that U exists? I'd be happy with the latter</p>



<a name="207080011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207080011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207080011">(Aug 16 2020 at 17:20)</a>:</h4>
<p>Just a theorem that says U exists. In fact, as Reid put it all I need is a continuous map from GL(n) to O(n) and in the complex case to U(n). After thinking about this for a while, I am now realizing that for me this is what GS is. it's utility is only in going from an arbitrary basis to an orthogonal basis in a continuous way.</p>



<a name="207085257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Gram-Schmidt%20orthogonalization/near/207085257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Gram-Schmidt.20orthogonalization.html#207085257">(Aug 16 2020 at 19:14)</a>:</h4>
<p>my model of why apurva started talking about algorithms is just to say "numerical linear algebra folks have implemented algorithmic corollaries of this theorem a bunch of times, and the proof is mathematically easy, so it should be relatively easy to prove in Lean". Then the consensus response to that idea was something like "yes, it should be easy, and the first part of your argument is not especially relevant".</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>