---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html">submodule.le_span</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="241490792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241490792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241490792">(Jun 04 2021 at 04:44)</a>:</h4>
<p>Where is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">submodule.le_span</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span>
  <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="n">set</span> <span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">w</span> <span class="bp">≤</span> <span class="n">span</span> <span class="n">R</span> <span class="n">w</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>?</p>



<a name="241492335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241492335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241492335">(Jun 04 2021 at 05:18)</a>:</h4>
<p>It's done for the coercion to <code>set</code>, and called <code>subset_span</code></p>



<a name="241492352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241492352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241492352">(Jun 04 2021 at 05:19)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> probably because <code>\le</code> on sets is not the simp normal form</p>



<a name="241493063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241493063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241493063">(Jun 04 2021 at 05:34)</a>:</h4>
<p>Oh! I'd sort of forgotten that about simp normal form. Maybe we should change that someday?</p>



<a name="241500385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241500385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241500385">(Jun 04 2021 at 07:36)</a>:</h4>
<p>I think that all the set notation (inter, union, subseteq, empty) should be replaced with lattice notation (inf, sup, le, bot) and mathematicians should just learn to live with it</p>



<a name="241500656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241500656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241500656">(Jun 04 2021 at 07:40)</a>:</h4>
<p>Does lean let us have <code>notation `∪` = @has_sup.sup (has_union.to_has_sup) _</code>, and if so does the pretty printer do the right thing (after removing the original notation)</p>



<a name="241500746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241500746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241500746">(Jun 04 2021 at 07:41)</a>:</h4>
<p>Yes that's exactly the sort of thing we should be thinking about -- <code>vector_space</code> as some completely transparent abbreviation for <code>module</code> and inter notation as just meaning inf. What I've never been clear about is then how to tell the pretty printer when to use what.</p>



<a name="241501279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241501279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241501279">(Jun 04 2021 at 07:47)</a>:</h4>
<p>The perfect solution would be to allow <code>vector_space</code> as a different term to <code>module</code> but make it super-ultra-reducible in the sense that module rewrites will work for vector spaces and yet the pretty printer will still print modules as modules and vector spaces as vector spaces. I'm not sure this is possible though</p>



<a name="241501396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241501396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241501396">(Jun 04 2021 at 07:48)</a>:</h4>
<p>This is why I've reluctantly come to the conclusion that sometimes mathematicians will have to lump it because educating a mathematician about inf instead of inter seems to be easier than getting lean to seamlessly conflate the two</p>



<a name="241503276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241503276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241503276">(Jun 04 2021 at 08:10)</a>:</h4>
<p>The pretty printer would need to do type-class inference, right?</p>



<a name="241503487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241503487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241503487">(Jun 04 2021 at 08:12)</a>:</h4>
<p>(Talking about ∩ as notation for ⊓.) In Lean 4 this would be easy to do.</p>
<blockquote>
<p>The pretty printer would need to do type-class inference, right?</p>
</blockquote>
<p>You just need to check if the typeclass instance is defeq to has_union.to_has_sup.  No synthesis needed.</p>



<a name="241530730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241530730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241530730">(Jun 04 2021 at 12:55)</a>:</h4>
<p>For intersection that would work. But for <code>vector_space</code> the pretty printer needs to figure out whether the base ring of the module is a field.</p>



<a name="241532360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241532360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241532360">(Jun 04 2021 at 13:10)</a>:</h4>
<p>Notation can probably figure it out if the base ring is <code>field.to_comm_ring.to_ring.to_semiring</code></p>



<a name="241532382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241532382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241532382">(Jun 04 2021 at 13:11)</a>:</h4>
<p>But if you match against that, then you'll miss <code>field.to_comm_ring.to_comm_semiring.to_semiring</code></p>



<a name="241532448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241532448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241532448">(Jun 04 2021 at 13:11)</a>:</h4>
<p>Which I think was probably why <code>vector_space</code> / <code>module</code> caused problems in the first place, as it forced typeclass resolution to go down a path it wouldn't necessarily have chosen for <code>semimodule</code></p>



<a name="241533310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533310">(Jun 04 2021 at 13:19)</a>:</h4>
<p>But couldn't we just have <code>vector_space</code> mean <code>module</code> regardless of the scalars?</p>



<a name="241533470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533470">(Jun 04 2021 at 13:20)</a>:</h4>
<p>There would be occasional surprise at this divergence from the standard practice but it might be the right compromise.</p>



<a name="241533539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533539">(Jun 04 2021 at 13:21)</a>:</h4>
<p>Are you suggesting renaming <code>module</code> to <code>vector_space</code>?</p>



<a name="241533558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533558">(Jun 04 2021 at 13:21)</a>:</h4>
<p>Because having two names for the same thing seems like it would just be confusing, especially when those two names mean different things mathematically</p>



<a name="241533590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533590">(Jun 04 2021 at 13:21)</a>:</h4>
<p>I was suggesting two names for the same thing.</p>



<a name="241533983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241533983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241533983">(Jun 04 2021 at 13:24)</a>:</h4>
<p>If we felt that was too likely to be confusing, presumably we could only do this within a locale.</p>



<a name="241534095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241534095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241534095">(Jun 04 2021 at 13:25)</a>:</h4>
<p>(which would not remove possibility for confusion, but might reduce it )</p>



<a name="241534247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/submodule.le_span/near/241534247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/submodule.2Ele_span.html#241534247">(Jun 04 2021 at 13:26)</a>:</h4>
<p>My impression is that right now after the vector space purge we can either have everything being a module or everything being a vector space. But thinking about it maybe that's fine, because delicate maths undergraduates who learn about vector spaces on day 1 and don't learn about modules until year 3 can just have everything as a vector space, and those that know about modules will be fine calling vector spaces modules anyway.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>