---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html">✔ a - b = -b + a</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="279054708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054708">(Apr 15 2022 at 06:55)</a>:</h4>
<p>I cannot find a lemma for <code>a-b = -b + a</code> and I would have thought it could even be a <code>simp</code> lemma. Is there a reason for this? I get</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="bp">=</span> <span class="bp">-</span><span class="n">b</span> <span class="bp">+</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="c1">--simp -- fails</span>
  <span class="c1">-- library_search -- fails</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">sub_eq_add_neg</span><span class="o">,</span> <span class="n">add_comm</span><span class="o">],</span> <span class="c1">-- works</span>
<span class="kd">end</span>
</code></pre></div>
<p>and also</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">-</span> <span class="n">b</span> <span class="bp">=</span> <span class="bp">-</span><span class="n">b</span> <span class="bp">+</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">abel</span>
<span class="kd">end</span>
</code></pre></div>
<p>In the above, <code>ring</code> instead of <code>abel</code> also works, but not for non-commutative rings.</p>



<a name="279054718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054718">(Apr 15 2022 at 06:55)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/sub_eq_neg_add">docs#sub_eq_neg_add</a></p>



<a name="279054775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054775">(Apr 15 2022 at 06:56)</a>:</h4>
<p>Ah <del>wow</del>, I am dumb. But why does <code>library_search</code> fails in your opinion?</p>



<a name="279054776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054776">(Apr 15 2022 at 06:56)</a>:</h4>
<p>And why is it not a simp lemma?</p>



<a name="279054798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054798">(Apr 15 2022 at 06:57)</a>:</h4>
<p>because you don't want all your subtractions to disappear, I presume. Whyt the other way around isn't a simp lemma is because it swaps terms around, I guess.</p>



<a name="279054821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054821">(Apr 15 2022 at 06:58)</a>:</h4>
<p>Ah, you make me realize that <code>add_comm</code> is not simp neither. <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="279054887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279054887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279054887">(Apr 15 2022 at 06:59)</a>:</h4>
<p>But this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">library_search</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>works!</p>



<a name="279055020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279055020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279055020">(Apr 15 2022 at 07:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> has marked this topic as resolved.</p>



<a name="279055060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279055060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279055060">(Apr 15 2022 at 07:00)</a>:</h4>
<p>Yeah I'm not sure why <code>library_search</code> fails in your first snippet. I assume you were indeed importing <code>algebra.group.basic</code>?</p>



<a name="279055146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279055146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279055146">(Apr 15 2022 at 07:02)</a>:</h4>
<p>Ah, not 100% sure: it was in the middle of a file, but that imported a thousand things. Now I have to run, but I will double-check later if that was imported. Thanks!</p>



<a name="279056359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/%E2%9C%94%20a%20-%20b%20%3D%20-b%20%2B%20a/near/279056359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/.E2.9C.94.20a.20-.20b.20.3D.20-b.20.2B.20a.html#279056359">(Apr 15 2022 at 07:22)</a>:</h4>
<p>In the old days (before the fork in 2019 or so) <code>sub_eq_add_neg</code> was a <code>simp</code> lemma in core and it drove everyone nuts. We can easily look to see if I'm right but my memory was that after the fork one of the very first PRs we had to core was to remove the <code>@simp</code> attribute from <code>sub_eq_add_neg</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>