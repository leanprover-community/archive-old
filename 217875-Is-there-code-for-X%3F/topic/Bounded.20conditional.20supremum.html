---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html">Bounded conditional supremum</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266629511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266629511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266629511">(Jan 02 2022 at 19:39)</a>:</h4>
<p>In the naming convention, we have <code>supr</code> for the indexed supremum, <code>bsupr</code> for the bounded indexed supremum, <code>csupr</code> for the conditional indexed supremum. Are people fine with me using <code>bcsupr</code> for the bounded conditional indexed supremum or do you have better alternatives?</p>



<a name="266883094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266883094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266883094">(Jan 05 2022 at 00:23)</a>:</h4>
<p>Bounded csuprs don't work in the current design unfortunately (at least, on generalized types), because the csupr when the condition is false is unspecified</p>



<a name="266907503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266907503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266907503">(Jan 05 2022 at 08:08)</a>:</h4>
<p>But I still have a few lemmas about them.</p>



<a name="266917385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266917385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266917385">(Jan 05 2022 at 10:10)</a>:</h4>
<p>I'm curious; can you give an example?</p>



<a name="266917439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266917439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266917439">(Jan 05 2022 at 10:11)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/tree/convexity_modulus">branch#convexity_modulus</a></p>



<a name="266917732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266917732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266917732">(Jan 05 2022 at 10:14)</a>:</h4>
<p>You can see that I'm using the fact that when <code>csupr</code> is unspecified it is still equal to some definite value.</p>



<a name="266927274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266927274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266927274">(Jan 05 2022 at 12:09)</a>:</h4>
<p>I guess my argument would be that those statements are perhaps worse than useless, as they suggest that <code>bcsupr</code> is actually a useful meaningful thing; but all the times I've seen someone actually try to use it in a generic setting the conclusion was it didn't mean what they wanted it to mean</p>



<a name="266927365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266927365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266927365">(Jan 05 2022 at 12:10)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">bcsupr_mono_right</span> <span class="o">(</span><span class="n">hg</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="o">(</span><span class="n">set.range</span> <span class="n">g</span><span class="o">))</span> <span class="o">(</span><span class="n">hfg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">p</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">g</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">⨆</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="bp">⨆</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="n">p</span> <span class="n">i</span><span class="o">),</span> <span class="n">g</span> <span class="n">i</span> <span class="o">:=</span>
</code></pre></div>
<p>Is indeed a true lemma, but the left and right hand side are not what would usually be considered a bounded supremum, as the semantics are not "exclude the elements where <code>p i</code> doesn't hold", but "replace them with some unspecified constant"</p>



<a name="266927515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266927515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266927515">(Jan 05 2022 at 12:12)</a>:</h4>
<p>The meaningful version of that lemma is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">csupr_subtype_mono_right</span> <span class="o">(</span><span class="n">hg</span> <span class="o">:</span> <span class="n">bdd_above</span> <span class="o">(</span><span class="n">set.range</span> <span class="n">g</span><span class="o">))</span> <span class="o">(</span><span class="n">hfg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">p</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">g</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">⨆</span> <span class="n">i</span> <span class="o">:</span> <span class="n">subtype</span> <span class="n">p</span><span class="o">,</span> <span class="n">f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≤</span> <span class="bp">⨆</span> <span class="n">i</span> <span class="o">:</span> <span class="n">subtype</span> <span class="n">p</span><span class="o">,</span> <span class="n">g</span> <span class="n">i</span> <span class="o">:=</span>
</code></pre></div>
<p>But  I suspect that's an obvious  special case of an existing lemma</p>



<a name="266929149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266929149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266929149">(Jan 05 2022 at 12:31)</a>:</h4>
<p>So what are you suggesting? That I take one sup over all pairs <code>x</code> and <code>y</code>?</p>



<a name="266929507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266929507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266929507">(Jan 05 2022 at 12:35)</a>:</h4>
<p>Does taking the nnreal norm make things easier?</p>



<a name="266929980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266929980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266929980">(Jan 05 2022 at 12:40)</a>:</h4>
<p>Why would it? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="266930092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930092">(Jan 05 2022 at 12:42)</a>:</h4>
<p>Because that's a <a href="https://leanprover-community.github.io/mathlib_docs/find/conditionally_complete_lattice_bot">docs#conditionally_complete_lattice_bot</a> which has well-behaved bounded supremums</p>



<a name="266930132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930132">(Jan 05 2022 at 12:42)</a>:</h4>
<p>No it doesn't. What you're taking the supremum of must be bounded.</p>



<a name="266930145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930145">(Jan 05 2022 at 12:43)</a>:</h4>
<p>Ahah, stop editing <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="266930163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930163">(Jan 05 2022 at 12:43)</a>:</h4>
<p>Hmm, is <code>conditionally_complete_lattice_bot</code> gone?</p>



<a name="266930176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930176">(Jan 05 2022 at 12:43)</a>:</h4>
<p>Oh yeah, <code>order_bot</code></p>



<a name="266930181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930181">(Jan 05 2022 at 12:43)</a>:</h4>
<p>Yeah, since Yakov's refactor</p>



<a name="266930236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930236">(Jan 05 2022 at 12:43)</a>:</h4>
<p>Sorry, by "bounded" i mean in the sense of <code>bsupr</code> not <code>bdd_below</code></p>



<a name="266930310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930310">(Jan 05 2022 at 12:44)</a>:</h4>
<p>Then I maintain my "no". What if you take <code>Sup univ</code>?</p>



<a name="266930391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930391">(Jan 05 2022 at 12:45)</a>:</h4>
<p>My claim is that on types with <code>order_bot</code>, <code>⨆ (i : ι) (hi : p i)</code> and <code>⨆ i : subtype p,</code> coincide because <code>⨆ (i : false), _ = bot</code></p>



<a name="266930504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930504">(Jan 05 2022 at 12:46)</a>:</h4>
<p>The lemmas you have right now are odd because you know nothing about <code>⨆ i : false, _</code></p>



<a name="266930550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930550">(Jan 05 2022 at 12:46)</a>:</h4>
<p>Is that a lemma? I doubt it's true because you are still not addressing the case of unbounded sets.</p>



<a name="266930633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930633">(Jan 05 2022 at 12:47)</a>:</h4>
<p>A lot of the lemmas here look like they ought to generalize to order_bot: <a href="https://leanprover-community.github.io/mathlib_docs/order/conditionally_complete_lattice.html#lemmas-about-a-conditionally-complete-linear-order-with-bottom-element">https://leanprover-community.github.io/mathlib_docs/order/conditionally_complete_lattice.html#lemmas-about-a-conditionally-complete-linear-order-with-bottom-element</a></p>



<a name="266930725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930725">(Jan 05 2022 at 12:48)</a>:</h4>
<p>Oh, at any rate what I meant to link above was <a href="https://leanprover-community.github.io/mathlib_docs/find/conditionally_complete_linear_order_bot">docs#conditionally_complete_linear_order_bot</a></p>



<a name="266930759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930759">(Jan 05 2022 at 12:48)</a>:</h4>
<p>Which <code>nnreal</code> satisfies</p>



<a name="266930853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930853">(Jan 05 2022 at 12:49)</a>:</h4>
<p>I don't like the idea of going through <code>nnreal</code>.</p>



<a name="266930892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266930892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266930892">(Jan 05 2022 at 12:49)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/has_nnnorm.nnnorm">docs#has_nnnorm.nnnorm</a> (<code>∥a∥₊</code>) presumably to help with this kind of thing</p>



<a name="266931224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266931224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266931224">(Jan 05 2022 at 12:52)</a>:</h4>
<p>Yeah but that means I have to coerce back from <code>nnreal</code> to <code>real</code> or have <code>convex_mod</code> be <code>nnreal</code>-valued.</p>



<a name="266931275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266931275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266931275">(Jan 05 2022 at 12:53)</a>:</h4>
<p>Is having <code>convex_mod</code> be <code>nnreal</code>-valued a problem?</p>



<a name="266931290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266931290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266931290">(Jan 05 2022 at 12:53)</a>:</h4>
<p>That seems like the obvious choice</p>



<a name="266931422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266931422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266931422">(Jan 05 2022 at 12:54)</a>:</h4>
<p>I have yet to formalize a single bit of the applications of <code>convex_mod</code>, so I really don't know.</p>



<a name="266931705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/266931705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#266931705">(Jan 05 2022 at 12:57)</a>:</h4>
<p>In the literature, they even define <code>convex_mod : Icc 0 2 → Icc 0 1</code>, but that's definitely too extreme.</p>



<a name="276395225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276395225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276395225">(Mar 23 2022 at 20:27)</a>:</h4>
<p>Thinking about this again, <span class="user-mention" data-user-id="310045">@Eric Wieser</span>, should we have a dedicated API for <code>⨆ x : subtype p, f x</code>?</p>



<a name="276395672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276395672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276395672">(Mar 23 2022 at 20:30)</a>:</h4>
<p>Either that or something akin to <code>finsum</code> but for supr</p>



<a name="276395801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276395801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276395801">(Mar 23 2022 at 20:31)</a>:</h4>
<p>But maybe that can't exist</p>



<a name="276395803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276395803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276395803">(Mar 23 2022 at 20:31)</a>:</h4>
<p>Isn't <code>supr</code> already akin <code>finsum</code>? Just a badly behaved one.</p>



<a name="276396022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276396022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276396022">(Mar 23 2022 at 20:33)</a>:</h4>
<p>I guess we could have a separate notation and a different naming convention (<code>bcsupr</code> anyone?), bur I'm not yet sure what the notation should look like.</p>



<a name="276455698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276455698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276455698">(Mar 24 2022 at 10:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/217875-Is-there-code-for-X.3F/topic/Bounded.20conditional.20supremum/near/276395225">said</a>:</p>
<blockquote>
<p>Thinking about this again, <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>, should we have a dedicated API for <code>⨆ x : subtype p, f x</code>?</p>
</blockquote>
<p>I think we should have API for <code>⨆ x : s, f x</code>, but we maybe already have that? It's way more common (for me) to work with sets than with subtypes, so I personally don't see the value of <em>also</em> having API for <code>⨆ x : subtype p, f x</code>.</p>



<a name="276459402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276459402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276459402">(Mar 24 2022 at 11:04)</a>:</h4>
<p>Can't they be used interchangeably?</p>



<a name="276462629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276462629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276462629">(Mar 24 2022 at 11:38)</a>:</h4>
<p>more or less yes (not in <code>rw</code>/<code>simp</code> probably). I think it would be nicer if they are stated using sets instead of subtypes.</p>



<a name="276463673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276463673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276463673">(Mar 24 2022 at 11:49)</a>:</h4>
<p>I don't really see the point. <code>subtype</code> is morally more general.</p>



<a name="276472145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276472145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276472145">(Mar 24 2022 at 13:04)</a>:</h4>
<p>Note: <code>Sup (f '' s)</code> means the same, and has currently more API. I just think <code>⨆ x : s, f x</code> is a much nicer way of writing this term.</p>



<a name="276480308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Bounded%20conditional%20supremum/near/276480308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Bounded.20conditional.20supremum.html#276480308">(Mar 24 2022 at 14:09)</a>:</h4>
<p>I am fighting my way through a possible API for conditional suprema in <a href="https://github.com/leanprover-community/mathlib/tree/convexity_modulus">branch#convexity_modulus</a>. If people have ocmments on which lemmas are worthy of living, that would be great.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>