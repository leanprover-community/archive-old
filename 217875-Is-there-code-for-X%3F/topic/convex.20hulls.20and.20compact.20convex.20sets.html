---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html">convex hulls and compact convex sets</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="234035139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234035139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234035139">(Apr 11 2021 at 10:44)</a>:</h4>
<p>Dear All,</p>
<p>in the process ot proving Gordan's lemma, one of the tools that would be useful to have is the version below of the Krein-Milman: does it appear already in mathlib, in one form or another?</p>
<p>Thanks!</p>
<p>Let <code>K</code> be a compact, convex subset of a finite-dimensional real vector space.  Then, <code>K</code> is the convex hull of its extreme points.</p>



<a name="234035175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234035175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234035175">(Apr 11 2021 at 10:45)</a>:</h4>
<p>Note: I am happy to assume further nice properties about <code>K</code>: for instance, in the application to Gordan's lemma, the set <code>K</code> is cut out by <em>finitely many</em> linear inequalities.</p>
<p>Thus, if something is close to this result, it might already be enough for my purposes!</p>



<a name="234053060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234053060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234053060">(Apr 11 2021 at 15:09)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> and I have some results in this direction, but not quite as general as you're looking for, I think: <a href="https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/extreme_point.lean">https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/extreme_point.lean</a></p>



<a name="234053160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234053160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234053160">(Apr 11 2021 at 15:11)</a>:</h4>
<p>Specifically </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_of_convex_hull_eq_convex_hull_of_linearly_independent</span>
  <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">E</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hX</span> <span class="o">:</span> <span class="n">affine_independent</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">p</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">)</span> <span class="bp">→</span> <span class="n">E</span><span class="o">))</span>
  <span class="o">(</span><span class="n">hY</span> <span class="o">:</span> <span class="n">affine_independent</span> <span class="n">ℝ</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">p</span><span class="o">,</span> <span class="n">p</span> <span class="o">:</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">)</span> <span class="bp">→</span> <span class="n">E</span><span class="o">))</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">convex_hull</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">)</span> <span class="bp">=</span> <span class="n">convex_hull</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">X</span> <span class="bp">=</span> <span class="n">Y</span> <span class="o">:=</span>
</code></pre></div>
<p>which says that if two affinely independent finite sets in a normed space have the same convex hull, then they're the same</p>



<a name="234053251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234053251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234053251">(Apr 11 2021 at 15:12)</a>:</h4>
<p>As well as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">mem_of_is_extreme_to_convex_hull</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">E</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">is_extreme</span> <span class="o">(</span><span class="n">convex_hull</span> <span class="n">X</span><span class="o">)</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span> <span class="bp">∈</span> <span class="n">X</span> <span class="o">:=</span>
</code></pre></div>
<p>ie that if <code>x</code> is an extreme point of the convex hull of <code>X</code>, then it's in <code>X</code></p>



<a name="234053410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234053410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234053410">(Apr 11 2021 at 15:14)</a>:</h4>
<p>I think this gives the special case of Krein-Milman for simplices?</p>



<a name="234053770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234053770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234053770">(Apr 11 2021 at 15:19)</a>:</h4>
<p>If that's not strong enough I think it wouldn't be too hard to formalise the proof here: <a href="http://mathonline.wikidot.com/the-krein-milman-theorem">http://mathonline.wikidot.com/the-krein-milman-theorem</a></p>



<a name="234059158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234059158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234059158">(Apr 11 2021 at 16:40)</a>:</h4>
<p>Bhavik, thank you very much!  I am glad to see that there is stuff in this direction already in mathlib!</p>
<p>In my intended application, the set is given by finitely many linear inequalities.  However, I would want to use this result for <em>any</em> finite set of affine linear inequalities.  So, if I am going to follow this route, I would have to formalize the more general version first.</p>
<p>Thanks!</p>



<a name="234059291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234059291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234059291">(Apr 11 2021 at 16:43)</a>:</h4>
<p>I also think that this gives Krein-Milman for simplices.  In the toric analogy, these are, I think, the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.85556em;vertical-align:-0.16667em;"></span><span class="mord"><span class="mord mathbb">Q</span></span></span></span></span>-factorial toric varieties, while I would really want all toric varieties...</p>



<a name="234059553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234059553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234059553">(Apr 11 2021 at 16:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/convex.20hulls.20and.20compact.20convex.20sets/near/234059158">said</a>:</p>
<blockquote>
<p>Bhavik, thank you very much!  I am glad to see that there is stuff in this direction already in mathlib!</p>
<p>In my intended application, the set is given by finitely many linear inequalities.  However, I would want to use this result for <em>any</em> finite set of affine linear inequalities.  So, if I am going to follow this route, I would have to formalize the more general version first.</p>
<p>Thanks!</p>
</blockquote>
<p>It's not yet in mathlib, it's just in a branch for now - we'll PR it soon :)</p>



<a name="234059771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234059771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234059771">(Apr 11 2021 at 16:51)</a>:</h4>
<p>Ah, ok!  Anyway, the application that I have in mind is in <code>lean-liquid</code>, which also is not in mathlib!</p>



<a name="234065307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234065307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234065307">(Apr 11 2021 at 18:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/convex.20hulls.20and.20compact.20convex.20sets/near/234035175">said</a>:</p>
<blockquote>
<p>Note: I am happy to assume further nice properties about <code>K</code>: for instance, in the application to Gordan's lemma, the set <code>K</code> is cut out by <em>finitely many</em> linear inequalities.</p>
<p>Thus, if something is close to this result, it might already be enough for my purposes!</p>
</blockquote>
<p>Thinking about this a bit more, perhaps my result in combination with Caratheodory's lemma might help? Specifically I think you could show that if <code>K</code> is the convex hull of finitely many points, then those points are the extreme points of <code>K</code>, by considering the (d+1)-tuples of <code>K</code> - though again maybe this still isn't strong enough</p>



<a name="234067910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234067910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234067910">(Apr 11 2021 at 19:05)</a>:</h4>
<p>Hmm, I would have to think if Caratheodory's lemma is enough.  I do not see a direct argument, straight away...</p>



<a name="234079536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234079536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234079536">(Apr 11 2021 at 21:59)</a>:</h4>
<p>Farkas lemma might be what you want?<br>
<a href="http://www.ma.rhul.ac.uk/~uvah099/Maths/Farkas.pdf">http://www.ma.rhul.ac.uk/~uvah099/Maths/Farkas.pdf</a></p>



<a name="234091397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234091397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234091397">(Apr 12 2021 at 01:29)</a>:</h4>
<p>David, thank you!  I would have to think a little, but I had forgotten about Farkas's lemma and i do believe that this would work!</p>
<p>Thank you so much!</p>



<a name="234285775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234285775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234285775">(Apr 13 2021 at 08:13)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> and I are now on our way to prove Krein-Milman for normed spaces, because locally convex topological vector spaces aren't yet in mathlib. Is that general enough for you? If not, I guess we could ask someone to write an API for LCTVS and then it should be a matter of minutes to adapt the file we're currently writing.</p>



<a name="234287041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234287041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234287041">(Apr 13 2021 at 08:24)</a>:</h4>
<p>Yaël, normed spaces would be enough: I want to apply this result to finite dimensional real vector spaces!</p>
<p>Thanks a lot!</p>



<a name="234333005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234333005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234333005">(Apr 13 2021 at 14:17)</a>:</h4>
<p>Okay great! I'll keep you updated. I've never PRed, so this will be fun!</p>



<a name="234728830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234728830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234728830">(Apr 15 2021 at 18:30)</a>:</h4>
<p>The implication from the geometrical version to Hahn-Banach to Krein-Milman is now done! <span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> is currently proving the said Hahn-Banach. If anybody has ideas of what to add to our files about extreme and exposed sets, feel free to tell. In particular, <span class="user-mention" data-user-id="321459">@Damiano Testa</span>, is there anything you should know about the set of extreme points of convex hulls?</p>



<a name="234729418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234729418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234729418">(Apr 15 2021 at 18:34)</a>:</h4>
<p>That is great!  I will take a look, though not today!</p>
<p>Thank you so much!</p>



<a name="234729605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234729605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234729605">(Apr 15 2021 at 18:35)</a>:</h4>
<p>Btw... where is this?  I tried the link above</p>
<p>(<a href="https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/extreme_point.lean">https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/extreme_point.lean</a>)</p>
<p>but it does not work for me.</p>



<a name="234730618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234730618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234730618">(Apr 15 2021 at 18:42)</a>:</h4>
<p>Ah sorry I've shuffled files around since we posted this link. Here's the one: <a href="https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/krein-milman.lean">https://github.com/leanprover-community/mathlib/blob/sperner-again/src/combinatorics/simplicial_complex/krein-milman.lean</a></p>



<a name="234732164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234732164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234732164">(Apr 15 2021 at 18:53)</a>:</h4>
<p>Thanks!  I will need some time to digest it, but this looks very good!</p>



<a name="234735364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234735364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234735364">(Apr 15 2021 at 19:13)</a>:</h4>
<p>Yup, I've almost finished the two sorried statements at the top in a different branch, which I'll try to PR to mathlib directly!</p>



<a name="234769919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234769919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234769919">(Apr 15 2021 at 23:19)</a>:</h4>
<p>Now finished, specifically the following statements (all for normed spaces):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">geometric_hahn_banach_open</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hA₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hA₃</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hB₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">B</span><span class="o">)</span>
  <span class="o">(</span><span class="n">disj</span> <span class="o">:</span> <span class="n">disjoint</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span><span class="n">L</span><span class="o">[</span><span class="n">ℝ</span><span class="o">]</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">s</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span> <span class="n">s</span> <span class="bp">≤</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>

<span class="kd">theorem</span> <span class="n">geometric_hahn_banach_open_open</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hA₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hA₃</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hB₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">hB₃</span> <span class="o">:</span> <span class="n">is_open</span> <span class="n">B</span><span class="o">)</span>
  <span class="o">(</span><span class="n">disj</span> <span class="o">:</span> <span class="n">disjoint</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span><span class="n">L</span><span class="o">[</span><span class="n">ℝ</span><span class="o">]</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">s</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span> <span class="n">s</span> <span class="bp">&lt;</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>

<span class="kd">theorem</span> <span class="n">geometric_hahn_banach_closed_closed_compact</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hA₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hA₄</span> <span class="o">:</span> <span class="n">is_compact</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">hB₂</span> <span class="o">:</span> <span class="n">convex</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">hA₃</span> <span class="o">:</span> <span class="n">is_closed</span> <span class="n">B</span><span class="o">)</span>
  <span class="o">(</span><span class="n">disj</span> <span class="o">:</span> <span class="n">disjoint</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span><span class="n">L</span><span class="o">[</span><span class="n">ℝ</span><span class="o">]</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">s</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">s</span> <span class="bp">&lt;</span> <span class="n">t</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">B</span><span class="o">,</span> <span class="n">t</span> <span class="bp">&lt;</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>

<span class="kd">theorem</span> <span class="n">geometric_hahn_banach_point_point</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">E</span><span class="o">}</span> <span class="o">(</span><span class="n">hxy</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">E</span> <span class="bp">→</span><span class="n">L</span><span class="o">[</span><span class="n">ℝ</span><span class="o">]</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">&lt;</span> <span class="n">f</span> <span class="n">y</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>
<p>so now Krein-Milman should be entirely sorry-free</p>



<a name="234789305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234789305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234789305">(Apr 16 2021 at 03:43)</a>:</h4>
<p>Great work! Thanks a lot!</p>



<a name="234796670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234796670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234796670">(Apr 16 2021 at 05:28)</a>:</h4>
<p>This is really impressive: thank you very much!</p>



<a name="234977281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234977281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234977281">(Apr 17 2021 at 10:07)</a>:</h4>
<p>What happened to <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> convexity refactor from last summer? Did it ever reach mathlib? Or are we still adding stuff that would need to be refactored?</p>



<a name="234982497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/234982497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#234982497">(Apr 17 2021 at 11:39)</a>:</h4>
<p>What was this refactor about? Is it because we haven't yet defined LCTVS?</p>



<a name="235011647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/convex%20hulls%20and%20compact%20convex%20sets/near/235011647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/convex.20hulls.20and.20compact.20convex.20sets.html#235011647">(Apr 17 2021 at 19:34)</a>:</h4>
<p>I wonder if these results can also be used to close <a href="https://github.com/leanprover-community/mathlib/issues/2601">#2601</a>? "Strong duality for linear programming" should be a corollary of this stuff, at least over the reals.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>