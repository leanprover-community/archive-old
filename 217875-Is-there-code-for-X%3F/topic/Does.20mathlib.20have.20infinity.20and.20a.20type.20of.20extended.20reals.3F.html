---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html">Does mathlib have infinity and a type of extended reals?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218600145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/218600145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lars Ericson <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#218600145">(Dec 02 2020 at 18:37)</a>:</h4>
<p>In <a href="https://leanprover-community.github.io/mathlib_docs/init/meta/float.html#native.float.infinity">mathlib</a> I see "native float infinity".  I don't immediately see the "conceptual" infinity.  Two questions:</p>
<p>Q1.  Where is abstract infinity oo in mathlib?<br>
Q2. Is there a definition of "extended reals" that is something like Rbar = R + {-oo, oo}?</p>



<a name="218600216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/218600216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#218600216">(Dec 02 2020 at 18:37)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ereal">docs#ereal</a></p>



<a name="219534543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219534543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219534543">(Dec 10 2020 at 21:11)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/real">docs#real</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/nnreal">docs#nnreal</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/ennreal">docs#ennreal</a>, and <a href="https://leanprover-community.github.io/mathlib_docs/find/ereal">docs#ereal</a></p>



<a name="219577218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577218">(Dec 11 2020 at 08:43)</a>:</h4>
<p>note that ereal is rather incomplete : it looks like it does not have <code>has_mul</code> for example. ereal is defined as with_bot(with_top(R)) and the with_top construction comes with a mul, but it looks like the with_bot does not (unless I am missing an order_dual statement somewhere). And even if you wrote a has_mul for with_bot, the resulting mul would be strange : you would have (-1)*(+oo) = +oo  (and not -oo like you would maybe expect).</p>



<a name="219577419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577419">(Dec 11 2020 at 08:46)</a>:</h4>
<p>Also, what would <code>-∞ * +∞</code> equal?</p>



<a name="219577444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577444">(Dec 11 2020 at 08:46)</a>:</h4>
<p>37</p>



<a name="219577470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577470">(Dec 11 2020 at 08:46)</a>:</h4>
<p>You are completely right!!</p>



<a name="219577480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577480">(Dec 11 2020 at 08:47)</a>:</h4>
<p>from the order of the with_bot(with_top(R)) construction, assuming that you define the mul of bot as done with top, it would be -oo</p>



<a name="219577497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577497">(Dec 11 2020 at 08:47)</a>:</h4>
<p>I assume you meant to ask what <code>-∞ + +∞</code> is? Coming from floating point, <code>-∞ * +∞ = -∞</code> seems like the obvious choice.</p>



<a name="219577720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577720">(Dec 11 2020 at 08:49)</a>:</h4>
<p>I thought that it was the multiplication that people were talking about, but you are right, addition also has its problems.  However, I now realize that the problems might simply be in my head, since it may in practice not matter much how you define the non-sensical operations.  I still need to interiorize the <code>division-by-zero</code> conundrum...</p>



<a name="219577941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219577941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219577941">(Dec 11 2020 at 08:52)</a>:</h4>
<p>I just tested the additive version : for ereal, bot + top = top</p>



<a name="219578090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219578090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219578090">(Dec 11 2020 at 08:54)</a>:</h4>
<p>because I was wrong about the definition : it is <code>ereal = with_top (with_bot ℝ)</code></p>



<a name="219578184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219578184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémy Degenne <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219578184">(Dec 11 2020 at 08:55)</a>:</h4>
<p>hence the rule is that for all <code>x</code> in <code>with_bot ℝ</code>, x + top = top</p>



<a name="219596559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/Does%20mathlib%20have%20infinity%20and%20a%20type%20of%20extended%20reals%3F/near/219596559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/Does.20mathlib.20have.20infinity.20and.20a.20type.20of.20extended.20reals.3F.html#219596559">(Dec 11 2020 at 11:57)</a>:</h4>
<p>I wrote <code>ereal</code> and because I'm a mathematician and I did not have good answers for things like <code>-infty+infty</code> and <code>0 * infty</code> I simply did not define them. In the analogous Isabelle code (written by a computer scientist) they're all defined and take on some random values for these weird cases. I'm sure the maintainers would happily accept a PR which adds all these functions and then proves all the lemmas in the Isabelle file (which I think I left a link to in the docstring?). The proofs are all easy by cases of course.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>