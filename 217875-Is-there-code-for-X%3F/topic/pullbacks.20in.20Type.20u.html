---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html">pullbacks in Type u</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="232539298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539298">(Mar 31 2021 at 05:39)</a>:</h4>
<p>Is there an explicit construction in mathlib of pullbacks in the category of types? I'd like to have something like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.types</span>
<span class="kn">open</span> <span class="n">category_theory</span> <span class="n">category_theory.category</span>

<span class="kd">universes</span> <span class="n">u</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">pullback_obj</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">p</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">×</span> <span class="n">Y</span> <span class="bp">//</span> <span class="n">f</span> <span class="n">p.1</span> <span class="bp">=</span> <span class="n">g</span> <span class="n">p.2</span> <span class="o">}</span>
</code></pre></div>
<p>along with the associated cone and <code>is_limit</code>.</p>
<p>I think I see where such a construction would be -- category_theory.limits.shapes.types -- and I don't see it there. But I know I could be missing something.</p>



<a name="232539389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539389">(Mar 31 2021 at 05:40)</a>:</h4>
<p>Yep, it's missing. Definitely okay to add it. Make sure to add both the isomorphism to the pullback coming from <code>has_pullbacks</code>, and the <code>@[simp]</code> lemmas saying how that isomorphism commutes with <code>pullback.fst</code> and <code>pullback.snd</code>.</p>



<a name="232539548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539548">(Mar 31 2021 at 05:42)</a>:</h4>
<p>Cool. I actually have an implementation already, which I wrote the other day -- I'd be glad to send a PR. And I'll be sure to add those pieces.</p>
<p>Could I have an invitation to be able to push a branch?</p>



<a name="232539588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539588">(Mar 31 2021 at 05:43)</a>:</h4>
<p>What's your github username?</p>



<a name="232539592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539592">(Mar 31 2021 at 05:43)</a>:</h4>
<p>gnprice</p>



<a name="232539612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539612">(Mar 31 2021 at 05:44)</a>:</h4>
<p>I'm also interested in the specialization where one of the maps is mono:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">mono_pullback_obj</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">)</span> <span class="o">[</span><span class="n">mono</span> <span class="n">m</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">x</span> <span class="bp">//</span> <span class="bp">∃</span> <span class="n">y</span><span class="o">,</span> <span class="n">m</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x</span> <span class="o">}</span>
</code></pre></div>
<p>(Or perhaps the better setup would be for <code>m</code> to be the inclusion of a subtype too? Not sure.)</p>
<p>That's probably most natural to do after the more general case, though.</p>



<a name="232539652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539652">(Mar 31 2021 at 05:44)</a>:</h4>
<p>Sent.</p>



<a name="232539722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232539722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232539722">(Mar 31 2021 at 05:45)</a>:</h4>
<p>Got it, thanks!</p>



<a name="232548743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/pullbacks%20in%20Type%20u/near/232548743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Greg Price <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/pullbacks.20in.20Type.20u.html#232548743">(Mar 31 2021 at 07:42)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6973">#6973</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>