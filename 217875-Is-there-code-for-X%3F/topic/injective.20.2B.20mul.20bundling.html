---
layout: archive
title: Zulip Chat Archive
permalink: /stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/index.html">Is there code for X?</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html">injective + mul bundling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="296647746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/injective%20%2B%20mul%20bundling/near/296647746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html#296647746">(Sep 01 2022 at 16:02)</a>:</h4>
<p>Dear All,</p>
<p>the two lemmas below assume that there is a multiplicative, injective homomorphism between two types.  As you can see, one bundles injectivity in the map and assumes separately that the map respects products.  The other does the symmetric choice of bundling multiplication and assuming injectivity.</p>
<p>Is there a full bundling?  If not, is one of the two forms below preferable?  Or should I unbundle all the way?</p>
<p>Thanks!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">}</span> <span class="o">{</span><span class="n">H</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">}</span> <span class="o">{</span><span class="n">B</span> <span class="n">A</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">G</span><span class="o">}</span> <span class="o">{</span><span class="n">b0</span> <span class="n">a0</span> <span class="o">:</span> <span class="n">G</span><span class="o">}</span> <span class="o">[</span><span class="n">has_mul</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">has_mul</span> <span class="n">H</span><span class="o">]</span>

<span class="c1">--  bundles multiplicativity</span>
<span class="kd">lemma</span> <span class="n">mul_hom_image_iff</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">H</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">→ₙ*</span> <span class="n">H</span><span class="o">)</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">function.injective</span> <span class="n">f</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">unique_mul</span> <span class="o">(</span><span class="n">A.image</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">B.image</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">a0</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">b0</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">unique_mul</span> <span class="n">A</span> <span class="n">B</span> <span class="n">a0</span> <span class="n">b0</span> <span class="o">:=</span>

<span class="c1">--  bundles injectivity</span>
<span class="kd">lemma</span> <span class="n">mul_hom_map_iff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">↪</span> <span class="n">H</span><span class="o">)</span> <span class="o">(</span><span class="n">mul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">f</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">f</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">unique_mul</span> <span class="o">(</span><span class="n">A.map</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">B.map</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">a0</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">b0</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">unique_mul</span> <span class="n">A</span> <span class="n">B</span> <span class="n">a0</span> <span class="n">b0</span> <span class="o">:=</span>
</code></pre></div>



<a name="296683493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/injective%20%2B%20mul%20bundling/near/296683493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html#296683493">(Sep 01 2022 at 19:13)</a>:</h4>
<p>I think the first one is more common</p>



<a name="296690714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/injective%20%2B%20mul%20bundling/near/296690714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html#296690714">(Sep 01 2022 at 19:59)</a>:</h4>
<p>Ok and would it make sense to use <code>map</code> in the first one by passing <code>\&lt;f, hf\&gt;</code> and remove the decidable assumption, or should I simply accept unbundling for injectivity?</p>



<a name="296697780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/217875-Is%20there%20code%20for%20X%3F/topic/injective%20%2B%20mul%20bundling/near/296697780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/217875-Is-there-code-for-X%3F/topic/injective.20.2B.20mul.20bundling.html#296697780">(Sep 01 2022 at 20:52)</a>:</h4>
<p>Probably accept unbundling for injectivity.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>