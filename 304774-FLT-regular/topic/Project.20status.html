---
layout: archive
title: Zulip Chat Archive
permalink: /stream/304774-FLT-regular/topic/Project.20status.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/index.html">FLT regular</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html">Project status</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270702494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270702494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270702494">(Feb 04 2022 at 11:37)</a>:</h4>
<p>I think it's time to do a recap of the status of the project.</p>
<ul>
<li>The definition and the basic properties of cyclotomic extensions (in full generality) is in mathlib.</li>
<li>The definition of <code>cyclotomic_fied</code> and <code>cyclotomic_ring</code> is in mathlib.</li>
<li>The definition of<code>zeta</code> and its basic properties are in mathlib.</li>
<li>The structure of the Galois group is PRed.</li>
<li>The discriminant of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi><mo stretchy="false">(</mo><msub><mi>ζ</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb{Q}(\zeta_p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbb">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07378em;">ζ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> is PRed.</li>
<li>I will take care of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">O</mi><mrow><mi mathvariant="double-struck">Q</mi><mo stretchy="false">(</mo><msub><mi>ζ</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo>=</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">[</mo><msub><mi>ζ</mi><mi>p</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathcal{O}_{\mathbb{Q}(\zeta_p)} = \mathbb{Z}[\zeta_p]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0608em;vertical-align:-0.3775em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbb mtight">Q</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07378em;">ζ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3775em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbb">Z</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07378em;">ζ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>: the math is almost done in the project, and I already started PRing preliminary results, but just consider this as done.</li>
</ul>
<p>What should we do next? I am not sure, but suggestions are welcome!</p>



<a name="270702934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270702934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270702934">(Feb 04 2022 at 11:42)</a>:</h4>
<p>Oh this is great, I just trying to catch up with what's been done. I guess the next big bits are results about elements in the ring of integers, such as these unit lemmas. This should almost be enough for case one.</p>



<a name="270703094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270703094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270703094">(Feb 04 2022 at 11:44)</a>:</h4>
<p>I was just looking at this and we have things like <code>zeta_unit</code> and <code>zeta_runity</code> . What is the plan for these things? will this be added to the <code>zeta</code> PR eventually, or are we going to remove them completely and work with <code>zeta</code> only? (I've not seen whats in the PR, so maybe this is already all in there)</p>



<a name="270703983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270703983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270703983">(Feb 04 2022 at 11:54)</a>:</h4>
<p>I think it may be good to start sorrying the full outline of the proof, so we can literally just jump in and solve a <code>sorry</code>. We can certainly start doing this for case I - I still haven't seen a full proof of case II, I'm going to try and grab a copy of Borevich and Shafarevich this weekend and see how close we are now.</p>



<a name="270704130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704130">(Feb 04 2022 at 11:56)</a>:</h4>
<p><code>zeta_unit, zeta_runity</code> I thought were basically conveniences so we can <code>change/rw</code> them whenever needed - for example, in the Galois group computation I often had to change into <code>↑↑(root of unity)</code> so that I could apply group lemmas.  Now, I'm not sure how much either of them are needed - I'm 99% sure that <code>zeta_unit</code> isn't, and maybe <code>zeta_runity</code> can be replaced by <code>(zeta_primitive_root ...).to_roots_of_unity</code> in most places (and indeed, this is what I did for the galois group, even when using ζ as opposed to a general root of unity)</p>



<a name="270704314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704314">(Feb 04 2022 at 11:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/270703983">said</a>:</p>
<blockquote>
<p>I think it may be good to start sorrying the full outline of the proof, so we can literally just jump in and solve a <code>sorry</code>. We can certainly start doing this for case I - I still haven't seen a full proof of case II, I'm going to try and grab a copy of Borevich and Shafarevich this weekend and see how close we are now.</p>
</blockquote>
<p>There is also a full proof in Washington's book.  It does seem like a lot of fiddly lemmas are required.</p>



<a name="270704470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704470">(Feb 04 2022 at 11:59)</a>:</h4>
<p>which one is Washington? if you guys are using that probably easier we grab the same source, and I'm a real sucker for irl books so I'll try grab it at the library</p>



<a name="270704504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704504">(Feb 04 2022 at 11:59)</a>:</h4>
<p>Introduction to Cyclotomic fields by Lawrence Washington. Its what I mainly used for the outline of case 1</p>



<a name="270704655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704655">(Feb 04 2022 at 12:00)</a>:</h4>
<p>But it might not be the best for case II. I'm still looking at several places to see which looks to be the lean-easiest</p>



<a name="270704716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704716">(Feb 04 2022 at 12:01)</a>:</h4>
<p>Case II is far more complicated, we should focus on case I.</p>



<a name="270704733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704733">(Feb 04 2022 at 12:01)</a>:</h4>
<p>There are also these notes by Keith Conrad (<a href="https://kconrad.math.uconn.edu/blurbs/gradnumthy/kummer.pdf">https://kconrad.math.uconn.edu/blurbs/gradnumthy/kummer.pdf</a>) which are quite nice.</p>



<a name="270704802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704802">(Feb 04 2022 at 12:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/270704716">said</a>:</p>
<blockquote>
<p>Case II is far more complicated, we should focus on case I.</p>
</blockquote>
<p>Yes I agree. We will need it for case II anyways, so may as well wait.</p>



<a name="270704891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270704891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270704891">(Feb 04 2022 at 12:03)</a>:</h4>
<p>The problem with Conrad's notes is the he uses the Bernoulli def, and I don't think it's reasonable to have the class number formula in less than a year.</p>



<a name="270705046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270705046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270705046">(Feb 04 2022 at 12:04)</a>:</h4>
<p>Yeah agreed. I dont think its the lean-easy version we want. Borevich and Shafarevich might be the way to go</p>



<a name="270707504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707504">(Feb 04 2022 at 12:30)</a>:</h4>
<p>I just checked and both B/S and Washington both need the Bernoulli condition, although I think Washington uses some stronger results</p>



<a name="270707555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707555">(Feb 04 2022 at 12:31)</a>:</h4>
<p>Washington seems to use Herbrand-Ribet</p>



<a name="270707565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707565">(Feb 04 2022 at 12:31)</a>:</h4>
<p>For case II you mean?</p>



<a name="270707605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707605">(Feb 04 2022 at 12:32)</a>:</h4>
<p>And I think the case I proof will be the same almost everywhere...</p>



<a name="270707829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707829">(Feb 04 2022 at 12:34)</a>:</h4>
<p>Case II is much complicated than I thought. This is why I think we should concentrate on case I, that is interesting and needed anyway. For case II the most reasonable thing to do seems to be to assume Kummer's lemma (so defining something like "strong regularity"), and proving the theorem. Having Kummer's lemma, the proof can avoid completely Bernoulli numbers I think.</p>



<a name="270707904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270707904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270707904">(Feb 04 2022 at 12:34)</a>:</h4>
<p>Proving that regularity implies strong regularity is in some sense another project.</p>



<a name="270708218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270708218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270708218">(Feb 04 2022 at 12:37)</a>:</h4>
<p>In my opinion projects like these one are just an excuse to put stuff into mathlib, so we should not rush towards the result. Sooner or later we will have CFT, L-functions and so on.</p>



<a name="270711505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270711505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270711505">(Feb 04 2022 at 13:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/270707829">said</a>:</p>
<blockquote>
<p>Case II is much complicated than I thought. This is why I think we should concentrate on case I, that is interesting and needed anyway. For case II the most reasonable thing to do seems to be to assume Kummer's lemma (so defining something like "strong regularity"), and proving the theorem. Having Kummer's lemma, the proof can avoid completely Bernoulli numbers I think.</p>
</blockquote>
<p>Yes the Bernoulli condition is just for Kummer's lemma really. If we assumed this, then we'd get case two with the current definition of regular.</p>



<a name="270711810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270711810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270711810">(Feb 04 2022 at 13:09)</a>:</h4>
<p>The downside is that we will have zero examples of (strongly) regular primes...</p>



<a name="270711848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270711848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270711848">(Feb 04 2022 at 13:09)</a>:</h4>
<p>Maybe <code>p=3</code> is doable, since the ring is norm euclidean</p>



<a name="270712033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712033">(Feb 04 2022 at 13:10)</a>:</h4>
<p>Don't we already have FLT for <code>p=3</code>?</p>



<a name="270712076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712076">(Feb 04 2022 at 13:11)</a>:</h4>
<p>I don't think so. We have it for <code>n=4</code>, that it's easier.</p>



<a name="270712083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712083">(Feb 04 2022 at 13:11)</a>:</h4>
<p>Let me check</p>



<a name="270712200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712200">(Feb 04 2022 at 13:12)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/fermat_42">docs#fermat_42</a> for reference</p>



<a name="270712274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712274">(Feb 04 2022 at 13:13)</a>:</h4>
<p><code>p=3</code> in usually dealt with differently than the other regular primes if I remember correctly. In Washington, its done directly looking modulo 9 I think.</p>



<a name="270712361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712361">(Feb 04 2022 at 13:13)</a>:</h4>
<p>Really? I only know a proof using the <code>3</code>-rd cyclotomic field (that of course it's a quadratic extension in this case, and even a PID)</p>



<a name="270712377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712377">(Feb 04 2022 at 13:13)</a>:</h4>
<p>(in case I at least)</p>



<a name="270712542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712542">(Feb 04 2022 at 13:15)</a>:</h4>
<p>Sorry, I meant, case I for <code>p=3</code> isnt hard. Case II for <code>p=3</code> might well be harder</p>



<a name="270712616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712616">(Feb 04 2022 at 13:15)</a>:</h4>
<p>even if we don't have it, <span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span> <a href="https://github.com/Ruben-VandeVelde/flt/blob/main/src/euler.lean">has it in his <code>flt</code> repo</a> (I just checked it's sorry-free)</p>



<a name="270712711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270712711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270712711">(Feb 04 2022 at 13:16)</a>:</h4>
<p>Ah yes, case I can very well be elementary</p>



<a name="270713074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270713074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270713074">(Feb 04 2022 at 13:19)</a>:</h4>
<p>Ok yeah, case II for p=3 is a long exercise in Washingtons book.  But it maybe doesnt need the full machinery that the others do.</p>



<a name="270713370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270713370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270713370">(Feb 04 2022 at 13:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/270712616">said</a>:</p>
<blockquote>
<p>even if we don't have it, <span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="https://github.com/Ruben-VandeVelde/flt/blob/main/src/euler.lean">has it in his <code>flt</code> repo</a> (I just checked it's sorry-free)</p>
</blockquote>
<p>Oh yes nice!</p>



<a name="270713595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270713595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270713595">(Feb 04 2022 at 13:23)</a>:</h4>
<p>I was wondering if it was still worth trying to land with your work coming up, but it sounds like maybe it is?</p>



<a name="270715442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270715442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270715442">(Feb 04 2022 at 13:38)</a>:</h4>
<p>I'd think this is helpful, for sure</p>



<a name="270715859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270715859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270715859">(Feb 04 2022 at 13:42)</a>:</h4>
<p>Yeah definitely. Some proofs of the regular case assume that <code>p&gt;3</code> to simplify some things. Although the proof in BS works for any regular prime it seems.</p>



<a name="270715870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270715870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270715870">(Feb 04 2022 at 13:42)</a>:</h4>
<p>Absolutely! Applying our result to <code>p=3</code> requires proving that <code>3</code> is regular, and even if not very difficult this is not trivial.</p>



<a name="270716625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270716625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270716625">(Feb 04 2022 at 13:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/270703983">said</a>:</p>
<blockquote>
<p>I think it may be good to start sorrying the full outline of the proof, so we can literally just jump in and solve a <code>sorry</code>. We can certainly start doing this for case I - I still haven't seen a full proof of case II, I'm going to try and grab a copy of Borevich and Shafarevich this weekend and see how close we are now.</p>
</blockquote>
<p>Going back to this, I think this is a good idea. Getting the skeleton of the proof would seem like a good next step.</p>



<a name="270810439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270810439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270810439">(Feb 05 2022 at 06:53)</a>:</h4>
<p>The n=3 case is done in Hardy and Wright via a descent. They actually prove the rank is 0 over Q(zeta_3) which is easier because then you can do a descent via an isogeny of degree 3 which is defined over this field (the Fermat cubic has CM over this field)</p>



<a name="270810516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270810516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270810516">(Feb 05 2022 at 06:54)</a>:</h4>
<p>I agree that case 1 would be a really nice milestone. It would prove that lean can actually do basic algebraic number theory and it's already way beyond what is done in any other prover as far as I know</p>



<a name="270824769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/270824769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#270824769">(Feb 05 2022 at 12:41)</a>:</h4>
<p>An analogue of Lemma 2.13 of the blueprint is now sorry free.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">}</span> <span class="o">{</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">{</span><span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">z</span><span class="o">}</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">L</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">R</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">eiseinstein_integral</span> <span class="o">[</span><span class="n">is_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normalized_gcd_monoid</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_fraction_ring</span> <span class="n">R</span> <span class="n">K</span><span class="o">]</span>
  <span class="o">[</span><span class="n">is_integrally_closed</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_separable</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">power_basis</span> <span class="n">K</span> <span class="n">L</span><span class="o">}</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hei</span> <span class="o">:</span> <span class="o">(</span><span class="n">minpoly</span> <span class="n">R</span> <span class="n">B.gen</span><span class="o">)</span><span class="bp">.</span><span class="n">is_eisenstein_at</span> <span class="bp">𝓟</span><span class="o">)</span> <span class="o">(</span><span class="n">hBint</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">R</span> <span class="n">B.gen</span><span class="o">)</span>
  <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">L</span><span class="o">}</span> <span class="o">(</span><span class="n">hzint</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">R</span> <span class="n">z</span><span class="o">)</span> <span class="o">(</span><span class="n">hz</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">•</span> <span class="n">z</span> <span class="bp">∈</span> <span class="n">adjoin</span> <span class="n">R</span> <span class="o">({</span><span class="n">B.gen</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">L</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">z</span> <span class="bp">∈</span> <span class="n">adjoin</span> <span class="n">R</span> <span class="o">({</span><span class="n">B.gen</span><span class="o">}</span> <span class="o">:</span> <span class="n">set</span> <span class="n">L</span><span class="o">)</span>
</code></pre></div>
<p>Lemma 2.12 is already in mathlib. The final computation about the ring of integer should be quite close now.</p>



<a name="271153211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271153211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271153211">(Feb 08 2022 at 16:28)</a>:</h4>
<p>I've tried getting started on an outline, but have no more time today to finish it: it's <a href="https://github.com/leanprover-community/flt-regular/blob/1a31029df54f2b16514803bcb6de721683958820/src/number_theory/caseI.lean">here</a>, and I decided to try and sugar it with as much mathematician-friendly notation as possible :)</p>



<a name="271153258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271153258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271153258">(Feb 08 2022 at 16:28)</a>:</h4>
<p>Because so little is done, I was more wondering whether people would find this style of file helpful?</p>



<a name="271153898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271153898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271153898">(Feb 08 2022 at 16:32)</a>:</h4>
<p>I surely like the math-friendly notation!</p>
<p>Concerning <code>is_dedekind_domain ℤ[ζₚ]</code> if someone wants to prove it, just go ahead. What I am proving at the moment is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">is_integral_closure</span> <span class="o">(</span><span class="n">cyclotomic_ring</span> <span class="n">n</span> <span class="n">ℤ</span> <span class="n">ℚ</span><span class="o">)</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">cyclotomic_field</span> <span class="n">n</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>The Dedekind domain instance should follows easily (the required math is in mathlib).</p>



<a name="271153984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271153984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271153984">(Feb 08 2022 at 16:33)</a>:</h4>
<p>I also like the notation, it makes to easier to follow!</p>



<a name="271154123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271154123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271154123">(Feb 08 2022 at 16:34)</a>:</h4>
<p>I will be a little busy tomorrow, but I hope to break the last bit in several small sorrys on Thursday</p>



<a name="271162969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271162969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271162969">(Feb 08 2022 at 17:34)</a>:</h4>
<p>Oh, the other thing I should flag up is that I'm using an invisible space for the pnat to nat coe, kinda like what LTE does for by exactI.</p>



<a name="271164779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271164779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271164779">(Feb 08 2022 at 17:48)</a>:</h4>
<p>I am afraid I need at one point the power basis given by <code>zeta - 1</code>. <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> do you see a way of quickly obtaining it (I only need its existence, and that the generator is <code>zeta - 1</code>) or I have to copy what you did for <code>zeta</code>? It's not that much, but it would be nice to avoid it.</p>



<a name="271164923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271164923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271164923">(Feb 08 2022 at 17:49)</a>:</h4>
<p>(we need both because using <code>zeta</code> we can compute the discriminant, and <code>zeta - 1</code> has eisenstein minimal polynomial).</p>



<a name="271165095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271165095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271165095">(Feb 08 2022 at 17:50)</a>:</h4>
<p>And we also need that the two discriminant are the same.. time to prove it in general for <code>Z</code> I think</p>



<a name="271165187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271165187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271165187">(Feb 08 2022 at 17:51)</a>:</h4>
<p>I'm not a huge fan of invisible spaces tbh, is the up arrow or type ascription so bad? It just seems destined to end up confusing someone</p>



<a name="271165296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271165296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271165296">(Feb 08 2022 at 17:52)</a>:</h4>
<p>Alex, I'm happy to just use some other arrow too, but the normal coe arrow usually gets confused about what I want the coe to go to</p>



<a name="271165487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271165487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271165487">(Feb 08 2022 at 17:53)</a>:</h4>
<p>And I don't think so Riccardo, they're not conjugates... But maybe the correct generality is some method that adds the basis of something with a power basis + algebra_map t? That should work, I think</p>



<a name="271165845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271165845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271165845">(Feb 08 2022 at 17:56)</a>:</h4>
<p>The math reason is that they "clearly" generate the same subalgebra. But of course Lean is not very smart :D But no problem I will do it. Maybe making them private or whatever, <code>zeta - 1</code> is a little less natural than <code>zeta</code>.</p>



<a name="271166643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271166643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271166643">(Feb 08 2022 at 18:02)</a>:</h4>
<p>I agree, just thought that a power basis for <code>b + algebra_map A B a</code> from a power-basis for  <code>b</code> is the correct generality for this, which also gives you your thing</p>



<a name="271167024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271167024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271167024">(Feb 08 2022 at 18:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/271165296">said</a>:</p>
<blockquote>
<p>Alex, I'm happy to just use some other arrow too, but the normal coe arrow usually gets confused about what I want the coe to go to</p>
</blockquote>
<p>Yeah that's why type ascriptions are normally better, I can see why doing <code>(n : ℕ)</code>  isn't super readable to outsiders</p>



<a name="271178932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271178932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271178932">(Feb 08 2022 at 19:30)</a>:</h4>
<p>Isn't there going to be some general lemma that if powers of <code>x</code> are a power basis for S/R then so are powers of <code>x + r</code> for r in R?</p>



<a name="271178988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271178988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271178988">(Feb 08 2022 at 19:31)</a>:</h4>
<p>I think that's missing right now, Kevin</p>



<a name="271179189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271179189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271179189">(Feb 08 2022 at 19:32)</a>:</h4>
<p>Right -- I'm just suggesting that this is the thing to prove, not that zeta - 1 gives a power basis</p>



<a name="271186399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271186399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271186399">(Feb 08 2022 at 20:29)</a>:</h4>
<p>This is only partly related, but something along the lines of what Kevin says is probably not far off from ˋpolynomial.taylor_stuffˋ.  Quite a bit of the API is already available and it may be very little work to prove that "taylor of a basis is a basis".</p>



<a name="271191877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/271191877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#271191877">(Feb 08 2022 at 21:13)</a>:</h4>
<p>If I am not too tired the right result is the following: if <code>B</code> is a power basis and <code>adjoin R B.gen = adjoin R x</code> then <code>x</code> gives a power basis.</p>



<a name="289466264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289466264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289466264">(Jul 13 2022 at 14:22)</a>:</h4>
<p>So section 3 of the blueprint is done.</p>



<a name="289466332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289466332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289466332">(Jul 13 2022 at 14:23)</a>:</h4>
<p>The next thing to do is <code>flt_fact_2</code></p>



<a name="289466364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289466364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289466364">(Jul 13 2022 at 14:23)</a>:</h4>
<p>Section 3 I guess you mean</p>



<a name="289466495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289466495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289466495">(Jul 13 2022 at 14:24)</a>:</h4>
<p><span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span> yes</p>



<a name="289466854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289466854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289466854">(Jul 13 2022 at 14:26)</a>:</h4>
<p>But I like <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span>'s idea of cleaning up some stuff. I propose to essentially avoid <code>cyclotomic_ring</code>, and just use <code>adjoin</code></p>



<a name="289472999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289472999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289472999">(Jul 13 2022 at 15:07)</a>:</h4>
<p>Even better than <code>adjoin</code> we have <code>𝓞 K</code>. If I am not confused the statement <code>𝓞 K = adjoin ℤ {ζ}</code> is OK, since both are a <code>ℤ</code>-subalgebra of a given <code>ℚ</code>-cyclotomic extension <code>K</code>.</p>



<a name="289473471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289473471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289473471">(Jul 13 2022 at 15:11)</a>:</h4>
<p>yes, I think we should definitely just use both! we can maybe have some nice notation for the RHS and then we're all good</p>



<a name="289574483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289574483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289574483">(Jul 14 2022 at 10:31)</a>:</h4>
<p>I just had to undelete a file whose changes got deleted by accident (note that <a href="https://github.com/leanprover-community/flt-regular/commit/d84cfce36b35855114383c6f6f1a1457fb7c3314">this commit</a> doesn't show in the <a href="https://github.com/leanprover-community/flt-regular/commits/master/src/number_theory/regular_primes.lean"><code>master</code> file history</a>) - please all take care with merge commits, it seems to be really easy to hide an important change with them!</p>



<a name="289637355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289637355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289637355">(Jul 14 2022 at 19:23)</a>:</h4>
<p>it may be good to wait for the big algebra_rat refactor until we carry on with this - there's a lot of rat diamonds lurking in all the stuff we're doing</p>



<a name="289637373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289637373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289637373">(Jul 14 2022 at 19:23)</a>:</h4>
<p>especially now that we're having to specialize to ℚ more</p>



<a name="289703708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289703708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289703708">(Jul 15 2022 at 09:19)</a>:</h4>
<p>I'd be happy to help update to the algebra rat refactor, by the way. Happily, on our quadratic rings project, this was straightforward enough.</p>



<a name="289704100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/289704100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#289704100">(Jul 15 2022 at 09:23)</a>:</h4>
<p>that would be super helpful, many thanks!</p>



<a name="290345884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290345884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290345884">(Jul 21 2022 at 08:08)</a>:</h4>
<p>I am going to remove any mention of <code>cyclotomic_ring</code> from the project, using <code>𝓞 K</code> everywhere.</p>



<a name="290350893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290350893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290350893">(Jul 21 2022 at 09:03)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> now that the <code>algebra_rat</code> diamond should be fixed, can you have a look at <a href="https://github.com/leanprover-community/flt-regular/blob/a2855b2209ecf1407611ad8d3ddbd0b4ac5349af/src/number_theory/regular_primes.lean#L84">this</a> proof? Thanks!</p>



<a name="290423235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290423235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290423235">(Jul 21 2022 at 19:31)</a>:</h4>
<p>as far as I understand, actually, there's one more step I over-looked at the time. We have to change one of the <code>field</code> definitions so that the <code>qsmul</code> is convenient (I'm guessing we can't use <code>@[derive field]</code> for <code>cyclotomic_field</code> anymore). Is this correct, <span class="user-mention" data-user-id="238446">@Anne Baanen</span> ?</p>



<a name="290439999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290439999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290439999">(Jul 21 2022 at 22:04)</a>:</h4>
<p>If you don't define any <code>has_smul ℚ</code> instances (or <code>module ℚ</code>, <code>algebra ℚ</code>, etc.) on your fields, then you can leave <code>qsmul</code> alone. Otherwise just define the <code>has_smul</code> instance before <code>field</code> and then set <code>qsmul := has_smul.smul</code> and the diamond should be solved.</p>



<a name="290440801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290440801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290440801">(Jul 21 2022 at 22:13)</a>:</h4>
<p>The qsmul we're worried about is I think the one coming from the splttting field algebra. Let me try this out.</p>



<a name="290443185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290443185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290443185">(Jul 21 2022 at 22:39)</a>:</h4>
<p>hold up, I'm now a bit confused. The problematic <code>qsmul</code> arises when <code>cyclotomic_field</code> is specialized to <code>ℚ</code>, and so then aren't we creating diamonds in the field instances? Because I don't see any way to set the <code>smul</code> to the correct thing apart from creating another <code>field</code> instance</p>



<a name="290443231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290443231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290443231">(Jul 21 2022 at 22:40)</a>:</h4>
<p>e.g. this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[derive [comm_ring, algebra K, inhabited]</span><span class="o">]</span>
<span class="kd">def</span> <span class="n">cyclotomic_field</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span> <span class="o">:=</span> <span class="o">(</span><span class="n">cyclotomic</span> <span class="n">n</span> <span class="n">K</span><span class="o">)</span><span class="bp">.</span><span class="n">splitting_field</span>

<span class="kn">namespace</span> <span class="n">cyclotomic_field</span>

<span class="kd">@[priority 10000]</span> <span class="kd">instance</span> <span class="n">field'</span> <span class="o">:</span> <span class="n">field</span> <span class="o">(</span><span class="n">cyclotomic_field</span> <span class="n">n</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">qsmul</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">•</span><span class="o">),</span>
  <span class="n">qsmul_eq_mul'</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">x</span><span class="o">,</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="bp">..</span> <span class="n">splitting_field.field</span> <span class="o">(</span><span class="n">cyclotomic</span> <span class="n">n</span> <span class="n">ℚ</span><span class="o">)</span> <span class="o">}</span>
</code></pre></div>



<a name="290480410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290480410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290480410">(Jul 22 2022 at 08:49)</a>:</h4>
<p>I will on holiday for about 10 days, with almost no internet connection, so I am not going to work on the project. In any case now <code>cyclotomic_ring</code> is gone, and also <code>cyclotomic_field</code> is almost gone (it is still there in some proof, and that's OK, but in no statement. We should never have a statement abut <code>cyclotomic_field</code>, only about <code>is_cyclotomic_extension</code>).</p>



<a name="290480521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290480521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290480521">(Jul 22 2022 at 08:50)</a>:</h4>
<p>Something very easy to do: I see in the graph that <code>flt_fact_4</code> has green border (that means the statement has been formalized), but there is no link to the Lean code. Is the statement really somewhere or should we make the border blue?</p>



<a name="290482176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482176">(Jul 22 2022 at 09:12)</a>:</h4>
<p>4 is in mathlib proper, might just need a link</p>



<a name="290482219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482219">(Jul 22 2022 at 09:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/290443185">said</a>:</p>
<blockquote>
<p>hold up, I'm now a bit confused. The problematic <code>qsmul</code> arises when <code>cyclotomic_field</code> is specialized to <code>ℚ</code>, and so then aren't we creating diamonds in the field instances? Because I don't see any way to set the <code>smul</code> to the correct thing apart from creating another <code>field</code> instance</p>
</blockquote>
<p>Aha, so if the field instance derives from <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field">docs#polynomial.splitting_field</a>, then we'll have to fix it in mathlib.</p>



<a name="290482252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482252">(Jul 22 2022 at 09:12)</a>:</h4>
<p>Indeed <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field.algebra'">docs#polynomial.splitting_field.algebra'</a> already has a comment that we need to fix that instance to avoid diamonds :P</p>



<a name="290482281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482281">(Jul 22 2022 at 09:13)</a>:</h4>
<p>From what I remember <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field">docs#polynomial.splitting_field</a> is pretty cursed, and fixing it is pretty hard</p>



<a name="290482284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482284">(Jul 22 2022 at 09:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307953">Ruben Van de Velde</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/290482176">said</a>:</p>
<blockquote>
<p>4 is in mathlib proper, might just need a link</p>
</blockquote>
<p>We need better names... <code>flt_fact_4</code> is not FLT for <code>n=4</code>...</p>



<a name="290482391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482391">(Jul 22 2022 at 09:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/290482281">said</a>:</p>
<blockquote>
<p>From what I remember <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field">docs#polynomial.splitting_field</a> is pretty cursed, and fixing it is pretty hard</p>
</blockquote>
<p>Because of the recursive construction by induction on the degree?</p>



<a name="290482670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482670">(Jul 22 2022 at 09:18)</a>:</h4>
<p>Wait, how does <code>rat_algebra</code> even apply to splitting_field? I can't see the char_zero instance</p>



<a name="290482731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290482731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290482731">(Jul 22 2022 at 09:19)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/cyclotomic_field.char_zero">docs#cyclotomic_field.char_zero</a></p>



<a name="290483023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290483023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290483023">(Jul 22 2022 at 09:22)</a>:</h4>
<p>Ah I see, the problem is like with <a href="https://leanprover-community.github.io/mathlib_docs/find/zmod">docs#zmod</a> that the induction should happen per-field, not all at once for the whole structure.</p>



<a name="290483048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290483048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290483048">(Jul 22 2022 at 09:22)</a>:</h4>
<p>The induction needs a field structure at each step I think though (the inductive step is <a href="https://leanprover-community.github.io/mathlib_docs/find/adjoin_root.field">docs#adjoin_root.field</a>)</p>



<a name="290483142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290483142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290483142">(Jul 22 2022 at 09:23)</a>:</h4>
<p>I just made <a href="https://github.com/leanprover-community/mathlib/pull/15620">#15620</a> to bring the documentation slightly more up to date</p>



<a name="290483251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290483251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290483251">(Jul 22 2022 at 09:24)</a>:</h4>
<p>(updated)</p>



<a name="290549000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290549000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290549000">(Jul 22 2022 at 18:20)</a>:</h4>
<p>It's time for dinner, and I won't have time to work this weekend. My result up to now is <a href="https://github.com/leanprover-community/mathlib/tree/splitting_field-diamond">branch#splitting_field-diamond</a>. Bad news is that the diamond is not fixed yet, good news is that it is doable to get rid of all the defeq hacks in <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.splitting_field_aux">docs#polynomial.splitting_field_aux</a></p>



<a name="290564598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290564598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290564598">(Jul 22 2022 at 20:43)</a>:</h4>
<p>I'll try have a look in the weekend and see if this is possible, it would be nice to fix this wholly. With luck this is solvable before lean4's eta improvements</p>



<a name="290697779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290697779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290697779">(Jul 24 2022 at 20:15)</a>:</h4>
<p>I proved the <code>is_scalar_tower</code> instance you had sorried; there seems to be some very weird defeq problems later on in the file that I'm 1000% unqualified to solve alone</p>



<a name="290731108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290731108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290731108">(Jul 25 2022 at 08:21)</a>:</h4>
<p>I'm back, let's see how far I get!</p>



<a name="290733833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290733833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290733833">(Jul 25 2022 at 08:55)</a>:</h4>
<p>The defeq problems are because we want to construct a <code>has_smul (splitting_field_aux n f)</code> instance recursively, assuming <code>is_scalar_tower</code> + <code>distrib_mul_action</code> on the predecessor (which depends on <code>add_monoid</code>). So first I'll define an <code>add_comm_group</code> instance, then the <code>is_scalar_tower</code> and <code>distrib_mul_action</code> instances, then we should be able to get the recursion going.</p>



<a name="290736259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290736259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290736259">(Jul 25 2022 at 09:24)</a>:</h4>
<p>Ah right, we don't have a <code>distrib_mul_action ℚ K</code> if <code>K</code> doesn't have characteristic zero...</p>



<a name="290750445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290750445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290750445">(Jul 25 2022 at 12:09)</a>:</h4>
<p>Okay, I'm nearly there. I ended up defining a new typeclass <code>distrib_smul</code> that states <code>smul a</code> distributes over <code>+</code> and <code>0</code> on the right hand side.</p>



<a name="290750529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290750529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290750529">(Jul 25 2022 at 12:10)</a>:</h4>
<p>This is enough to define <code>polynomial.has_smul</code> and is satisfied by the <code>ℚ</code>-action on any division ring.</p>



<a name="290751089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290751089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290751089">(Jul 25 2022 at 12:16)</a>:</h4>
<p>Let me mention <a href="https://github.com/leanprover-community/mathlib/pull/9123">#9123</a></p>



<a name="290751313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290751313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290751313">(Jul 25 2022 at 12:19)</a>:</h4>
<p>I need a weaker form of <code>distrib_mul_action</code>, this one is too strong! :)</p>



<a name="290751470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290751470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290751470">(Jul 25 2022 at 12:20)</a>:</h4>
<p>Namely, <code>mul_smul : (a * b : ℚ) \bu x = a \bu x + b \bu x</code> doesn't hold outside of characteristic 0.</p>



<a name="290751872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290751872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290751872">(Jul 25 2022 at 12:24)</a>:</h4>
<p>I'm just mentioning in case you're making it a mixin, because then that would solve my problem too!</p>



<a name="290766929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290766929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290766929">(Jul 25 2022 at 14:38)</a>:</h4>
<p>Alright, pushed a fix for the diamonds in <code>splitting_field_aux</code> scalar diamonds, let's see what breaks...</p>



<a name="290768267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290768267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290768267">(Jul 25 2022 at 14:47)</a>:</h4>
<p>thanks so much for all this work!</p>



<a name="290772464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290772464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290772464">(Jul 25 2022 at 15:14)</a>:</h4>
<p>The <code>algebra</code> instances still aren't quite right...</p>



<a name="290780055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/290780055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#290780055">(Jul 25 2022 at 16:05)</a>:</h4>
<p>It's dinner time and I haven't figured out how to solve the algebra diamond yet... The definition of <code>lift</code> should work for the <code>{nat,int,rat}_cast</code> fields but the induction works with an accumulating parameter so it's hard to prove anything about it.</p>



<a name="291305397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291305397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291305397">(Jul 29 2022 at 10:31)</a>:</h4>
<p>I've been thinking about this a bit more, the right solution for the <code>algebra_map</code> diamond is probably as follows:</p>
<ul>
<li>define <code>lift : K → splitting_field_aux n f</code> by recursion</li>
<li>define <code>{nat,int,rat}_cast n</code> as <code>lift (↑n)</code></li>
<li>define <code>lift_hom</code> as <code>lift</code> bundled into a ring hom</li>
<li>define <code>algebra'.to_fun</code> as <code>lift_hom \circ algebra_map</code></li>
</ul>



<a name="291305411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291305411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291305411">(Jul 29 2022 at 10:31)</a>:</h4>
<p>I don't have more than a few hours to work on this in the coming 2 weeks, so hopefully someone else manages to use this plan to fix the diamonds.</p>



<a name="291307374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291307374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291307374">(Jul 29 2022 at 10:55)</a>:</h4>
<p>I don't think splitting fields are used to define algebraic closures (at least I think I know a way to do alg closures which avoids them), so why not just redefine splitting fields to be a subfield of the algebraic closure?</p>



<a name="291307508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291307508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291307508">(Jul 29 2022 at 10:56)</a>:</h4>
<p>The file defining algebraic closures definitely imports <code>splitting_field</code>.</p>



<a name="291307562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291307562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291307562">(Jul 29 2022 at 10:57)</a>:</h4>
<p>But indeed it looks like the definition of <a href="https://leanprover-community.github.io/mathlib_docs/find/algebraic_closure">docs#algebraic_closure</a> currently doesn't directly rely on <code>splitting_field</code>. (It does however do the same kind of recursive definition that will lead to diamonds if we're not careful.)</p>



<a name="291307797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291307797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291307797">(Jul 29 2022 at 11:00)</a>:</h4>
<p>Aah yes the definition I was thinking of is definitely recursive :-/</p>



<a name="291324611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291324611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291324611">(Jul 29 2022 at 13:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/291307374">said</a>:</p>
<blockquote>
<p>I don't think splitting fields are used to define algebraic closures (at least I think I know a way to do alg closures which avoids them), so why not just redefine splitting fields to be a subfield of the algebraic closure?</p>
</blockquote>
<p>Actually, I was wondering the same thing. I recently proved that if a polynomial splits, then <code>intermediate_field.adjoin</code>ing all of its roots satisfies <code>is_splitting_field</code> (not PRed yet due to dependencies). And if the algebraic closure doesn't depend on splitting field, then this redefinition of splitting field could clean up <code>splitting_field.lean</code> a lot.</p>



<a name="291371955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291371955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291371955">(Jul 29 2022 at 19:44)</a>:</h4>
<p>The algebraic closure in mathlib is constructed by adjoining one root <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">r_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> of each monic irreducible polynomial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> in F[X], quotienting out a maximal ideal to get a field, repeating the above construction, and taking the direct limit. In order for the maximal ideal to exist, the ring obtained by adjoining the roots needs to be nontrivial. And here is where the splitting field comes in: adjoining roots just means taking the mv_polynomial ring on variables <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">r_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> and quotienting out by relations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(r_f)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>. For any finitely set of relations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(r_f)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>, there is a F-alg_hom from the mv_polynomial ring to the splitting field of the product of the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>'s, whose image is nontrivial (contains F), so the ideal generated by any finitely many relations doesn't contain 1, which implies the ideal generated by all relations is not the whole mv_polynomial ring. For this argument, you can also adjoin one root at a time and use the injectivity of the inclusion of the base ring into <code>adjoin_root f</code>, where you need a generalized version of <a href="https://leanprover-community.github.io/mathlib_docs/find/adjoin_root.coe_injective'">docs#adjoin_root.coe_injective'</a> for arbitrary <code>comm_ring</code> instead of <code>field</code> but with an additional monic assumption (because after the first step the base ring may no longer be a field, though you can also quotient by a maximal ideal to get a field). This is still an inductive construction, but slightly simpler than  splitting_field (no need of factoring out linear factors and taking an irreducible factor).</p>
<p>In fact, one step is enough; there is no need to repeat the "adjoin one root for each monic irreducible polynomial" construction and take the direct limit: if K/F contains one root for each monic irreducible polynomial in F[X], <a href="https://math.stackexchange.com/questions/721608/if-e-f-is-algebraic-and-every-f-in-fx-has-a-root-in-e-why-is-e-algebr">K is already algebraically closed</a>, but the proof uses <a href="https://leanprover-community.github.io/mathlib_docs/find/field.exists_primitive_element">docs#field.exists_primitive_element</a> and splitting_field as well.</p>
<p>There is another similar construction where instead of adjoining one root, you effectively adjoin all roots of each monic irreducible polynomial in the base field. For <a href="https://kconrad.math.uconn.edu/blurbs/galoistheory/algclosureshorter.pdf">this construction</a>, it's easy to prove that one step is enough, since it's easy to show if every monic irreducible polynomial in F[X] splits into linear factors in K/F, then K is algebraically closed; it suffices to use <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra.is_algebraic_trans">docs#algebra.is_algebraic_trans</a>. However, to show the ideal generated by relations is not the unit ideal for this construction, we really need splitting_field, and the iterative adjoin_root argument doesn't apply.</p>
<p>An option of different flavor is to get an algebraic closure <a href="https://math.stackexchange.com/questions/2868927/on-the-proof-of-existence-of-algebraic-closure-using-zorns-lemma-in-patrick-mor">directly by Zorn's lemma</a>. I imagine it would be easier to formalize in Lean, as we have global choice and hence "global Zorn's lemma"; I think the cardinality argument is unnecessary, and you just need to show a field is algebraically closed iff it has no nontrivial algebraic extension in the same universe, which is provided by <code>adjoin_root</code>.</p>
<p>So the conclusion is that if you want to ditch the current splitting_field construction, you need to either use a "totally nonconstructive" proof using Zorn's lemma, or you need to use a weaker iterated adjoin_root construction (and your algebraic closure needs to be an inductive + direct limit construction). I have been thinking about generalizing splitting_field to the "splitting ring" of a monic polynomial over an arbitrary comm_ring, which is useful in <a href="https://mathoverflow.net/a/123526/3332">https://mathoverflow.net/a/123526/3332</a> (see (1)=&gt;(2)), so if we decided to use algebraic closure to construct splitting field, we'd better think about how to generalize algebraic closure to comm_ring as well.</p>



<a name="291373556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291373556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291373556">(Jul 29 2022 at 20:00)</a>:</h4>
<p>Hmm, it seems it's still necessary to use a cardinality argument; to show that any chain of field extensions has an upper bound, we need to take a direct limit, and that could cause a universe bump, so we need to restrict to field structures on subsets of a fixed type. So the Zorn's lemma argument isn't that simpler after all.</p>



<a name="291383367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291383367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291383367">(Jul 29 2022 at 21:33)</a>:</h4>
<p>OK then how about renaming current splitting field into <code>splitting_field_really_annoying_to_use_version</code> and then defining splitting field as subfield of alg closure afterwards?</p>



<a name="291431894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291431894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291431894">(Jul 30 2022 at 14:29)</a>:</h4>
<p>I should have some time today maybe I can try both of these approaches and seeing if any works better with the defeqs or not.</p>



<a name="291461909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291461909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291461909">(Jul 31 2022 at 01:45)</a>:</h4>
<p>well, this magical "time" I was meant to have evaporated, but there's some stuff I found</p>



<a name="291461910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291461910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291461910">(Jul 31 2022 at 01:45)</a>:</h4>
<p><a href="/user_uploads/3121/mCHeT5XKYCRkhExM8Yt5KMla/image.png">image.png</a> firstly this definitely isn't helping</p>
<div class="message_inline_image"><a href="/user_uploads/3121/mCHeT5XKYCRkhExM8Yt5KMla/image.png" title="image.png"><img src="/user_uploads/3121/mCHeT5XKYCRkhExM8Yt5KMla/image.png"></a></div>



<a name="291461952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291461952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291461952">(Jul 31 2022 at 01:46)</a>:</h4>
<p>I'll see if I can fix that at that end but I assume this is a problem that requires a similar solution to this one</p>



<a name="291461957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291461957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291461957">(Jul 31 2022 at 01:46)</a>:</h4>
<p>(thankfully the ℚ instance works, as can also be seen)</p>



<a name="291462028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291462028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291462028">(Jul 31 2022 at 01:48)</a>:</h4>
<p>this ℤ cast issue goes really far down, because the <code>comm_ring</code> instance is for example defined using <a href="https://leanprover-community.github.io/mathlib_docs/find/ideal.quotient.comm_ring">docs#ideal.quotient.comm_ring</a>; I guess I have to fix this at the source?</p>



<a name="291462032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291462032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291462032">(Jul 31 2022 at 01:49)</a>:</h4>
<p>sorry, I'm still figuring this out little by little</p>



<a name="291463160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291463160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291463160">(Jul 31 2022 at 02:18)</a>:</h4>
<p>okay, final thoughts - the fact that <a href="https://leanprover-community.github.io/mathlib_docs/find/adjoin_root.has_coe_t.has_coe_t">docs#adjoin_root.has_coe_t.has_coe_t</a> ◌<code>nat.cast : ℕ → K</code> isn't defeq to <code>nat.cast : ℕ → adjoin_root f</code>is really annoying. I would appreciate helps on the tips to fix this, because I think if this _was_ true then Anne's proof should work pretty verbatim.</p>



<a name="291463161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291463161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291463161">(Jul 31 2022 at 02:18)</a>:</h4>
<p>I've pushed some ugly workaround for now, in case this isn't doable and we need to make lemmata for this instead.</p>



<a name="291463168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291463168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291463168">(Jul 31 2022 at 02:18)</a>:</h4>
<p>(and PS: yes, that name is bad, there's a PR fixing it already)</p>



<a name="291499925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291499925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291499925">(Jul 31 2022 at 16:45)</a>:</h4>
<p>with much help from <span class="user-mention" data-user-id="310045">@Eric Wieser</span> , I identified some subsidiary diamonds that were making this proof much much harder than it had any right to be. the ℕ one is being fixed in <a href="https://github.com/leanprover-community/mathlib/pull/15778">#15778</a> and the ℤ one is upcoming - merging both of these should make work on this a lit easier!</p>



<a name="291505428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291505428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291505428">(Jul 31 2022 at 18:35)</a>:</h4>
<p>I am still on holiday, but I promise I will read all your messages on Thursday <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="291516093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291516093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291516093">(Jul 31 2022 at 22:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/291305397">said</a>:</p>
<blockquote>
<p>I've been thinking about this a bit more, the right solution for the <code>algebra_map</code> diamond is probably as follows:</p>
<ul>
<li>define <code>lift : K → splitting_field_aux n f</code> by recursion</li>
<li>define <code>{nat,int,rat}_cast n</code> as <code>lift (↑n)</code></li>
<li>define <code>lift_hom</code> as <code>lift</code> bundled into a ring hom</li>
<li>define <code>algebra'.to_fun</code> as <code>lift_hom \circ algebra_map</code></li>
</ul>
</blockquote>
<p>update: the branch now has all up to <code>field</code> working. I'm having to make several PRs to fix diamonds that were found along the way + adding casts to everything that's needed. Could you spell out a bit more clearly what you want for the two steps? I think my brain is too much on "fixing code" mode and too little on maths mode to understand what's needed.</p>



<a name="291547852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291547852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291547852">(Aug 01 2022 at 09:03)</a>:</h4>
<p>I started doing the Zorn's lemma proof just for fun. Now I've completed half of the proof, namely showing that a maximal element in the preorder of algebraic extensions is algebraically closed. I'm careful not to use the splitting field construction, and it's a bit tricky to show that there can't be any inclusion of a field inside itself that isn't surjective (edit: the inclusion needs to be an alg_hom over a base field over which the field is algebraic); it ends up depending on two missing lemmas that belong to ring_division.lean that I've long thought about adding.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">map_roots_le</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→+*</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p.map</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.roots.map</span> <span class="n">f</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">p.map</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">roots</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">lemma</span> <span class="n">card_roots_le_map</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span> <span class="bp">→+*</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">p.map</span> <span class="n">f</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.roots.card</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">p.map</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">roots.card</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>See <a href="https://gist.github.com/alreadydone/ca738825fdfa3fe989ab79ef1af493b7">this gist</a> for the WIP so far.</p>



<a name="291548014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291548014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291548014">(Aug 01 2022 at 09:05)</a>:</h4>
<p><span class="user-mention" data-user-id="460212">@Sebastian Monnet</span> did you prove this at some stage? IIRC you needed that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>K</mi></mrow><annotation encoding="application/x-tex">L/K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> was algebraic then any <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>-linear map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">L\to L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> was bijective.</p>



<a name="291548729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291548729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291548729">(Aug 01 2022 at 09:11)</a>:</h4>
<p>K-linear is not enough (if infinite extension), but K-alg_hom should do.</p>



<a name="291548921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291548921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291548921">(Aug 01 2022 at 09:14)</a>:</h4>
<p>Yeah I meant K-linear ring hom :-)</p>



<a name="291550668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/291550668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#291550668">(Aug 01 2022 at 09:31)</a>:</h4>
<p>My proof is basically this (though I didn't prove exactly this result): if a K-alg_hom <code>f : L → L</code> is not surjective, take the minimal polynomial <code>p</code> over K of an element <code>a</code> that is not in the image (using algebraicity), which has the minpoly <code>q</code> of <code>a</code> over L as a factor. <code>q</code> has no roots in L, but <code>q.map f</code> has at least one root <code>a</code>. On the other hand, <code>(p/q).map f</code> has at least as many roots (counting multiplicity) in L as <code>p/q</code> (this is true for any ring_hom). So adding them up, <code>p.map f</code> has more roots than <code>p</code> in L. But <code>p.map f = p</code> because <code>f</code> is a K-alg_hom, contradiction.</p>



<a name="292101161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292101161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292101161">(Aug 05 2022 at 02:52)</a>:</h4>
<p>Okay I have now completed the Zorn's lemma proof of existence of algebraic closure at <a href="https://gist.github.com/alreadydone/daa9760056383d31669755bbb41e2695">https://gist.github.com/alreadydone/daa9760056383d31669755bbb41e2695</a> It's 334 lines including comments, about the same as <a href="https://tqft.net/mathlib/field_theory/is_alg_closed/algebraic_closure">file#field_theory/is_alg_closed/algebraic_closure</a>, but some lemmas should go into other files.</p>
<p>It turns out my previous approach doesn't work; it defines the preorder using <code>nonempty (K₁ →ₐ[k] K₂)</code> which is bad, because to take a direct limit you need triangles of k-alg_homs to commute, so they can't be arbitrarily chosen, and there do exist non-identity <code>K ≃ₐ[k] K</code>, for example.</p>
<p>However if you take the underlying types of the extensions to be subsets of a fixed type (coerced to types), then inclusion between subsets gives rise to canonical maps between the subtypes, and you can take the direct limit (which is just a union, but the direct limit API is convenient). And it's really crucial to use a cardinality argument to show a non-algebraically-closed algebraic extension of k carried by a subset of a big enough type <code>big k</code> can be extended to an algebraic extension of k carried by a (strict) superset.</p>
<p>This approach doesn't use splitting field at all, but since the <code>field</code> and <code>algebra</code> instances are obtained by choice, it will require some work to fix the defeq if we want to use it in mathlib.</p>



<a name="292112817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292112817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292112817">(Aug 05 2022 at 06:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/291548014">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="460212">Sebastian Monnet</span> did you prove this at some stage? IIRC you needed that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>K</mi></mrow><annotation encoding="application/x-tex">L/K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> was algebraic then any <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>-linear map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">L\to L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> was bijective.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/291550668">said</a>:</p>
<blockquote>
<p>My proof is basically this (though I didn't prove exactly this result): if a K-alg_hom <code>f : L → L</code> is not surjective, take the minimal polynomial <code>p</code> over K of an element <code>a</code> that is not in the image (using algebraicity), which has the minpoly <code>q</code> of <code>a</code> over L as a factor. <code>q</code> has no roots in L, but <code>q.map f</code> has at least one root <code>a</code>. On the other hand, <code>(p/q).map f</code> has at least as many roots (counting multiplicity) in L as <code>p/q</code> (this is true for any ring_hom). So adding them up, <code>p.map f</code> has more roots than <code>p</code> in L. But <code>p.map f = p</code> because <code>f</code> is a K-alg_hom, contradiction.</p>
</blockquote>
<p>There is a <a href="https://math.stackexchange.com/a/1541288/12932">much easier proof</a> for this fact and my formalization is under 30 lines; will submit a PR.</p>



<a name="292114694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292114694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292114694">(Aug 05 2022 at 06:52)</a>:</h4>
<p>Do you end up with a universe bump? Is the algebraic closure in the same universe as the field you started with?</p>



<a name="292115479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292115479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292115479">(Aug 05 2022 at 07:03)</a>:</h4>
<p>It's in the same universe, and this is a perfectly valid ZFC proof. <br>
<code>def algebraic_closure : Type u := (exists_alg_closure k).some.carrier</code></p>
<p>Even if you end up in a higher universe, as long as there's an equiv with some type in the original universe (which exists by cardinality reason), you can transfer the instances (which is done twice in the gist above, but both in the same universe). There's <a href="https://leanprover-community.github.io/mathlib_docs/find/small">docs#small</a> API to show the existence of an equiv with some type in a certain universe.</p>



<a name="292115685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292115685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292115685">(Aug 05 2022 at 07:05)</a>:</h4>
<p>btw I PR'd some lemmas about algebraicity <a href="https://github.com/leanprover-community/mathlib/pull/15873">#15873</a></p>



<a name="292164409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292164409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292164409">(Aug 05 2022 at 14:49)</a>:</h4>
<p><span class="user-mention" data-user-id="224323">@Junyan Xu</span>  Let me know if you end up PRing the new algebraic closure construction, because then it would make sense to clean up the splitting field construction.</p>



<a name="292166821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292166821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292166821">(Aug 05 2022 at 15:09)</a>:</h4>
<p>I don't think we're far from fixing the splitting field construction, I just need to sit down and work on it some day</p>



<a name="292628667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292628667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292628667">(Aug 09 2022 at 18:01)</a>:</h4>
<p>there's plenty of other issues in the file that need to be fixed, but as far as I can see the diamonds are FINALLY GONE!</p>



<a name="292628724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292628724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292628724">(Aug 09 2022 at 18:01)</a>:</h4>
<p>if anyone wants to figure out some of them as I'm really tired right now: <a href="https://github.com/leanprover-community/mathlib/tree/splitting_field-diamond">branch#splitting_field-diamond</a></p>



<a name="292628774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292628774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292628774">(Aug 09 2022 at 18:01)</a>:</h4>
<p>thanks for your roadmap <span class="user-mention" data-user-id="238446">@Anne Baanen</span>, it pretty much worked perfectly as described</p>



<a name="292631029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292631029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292631029">(Aug 09 2022 at 18:14)</a>:</h4>
<p>oh, the file is fixed, I forgot to change the <code>algebra</code> instance from a <code>def</code> to an <code>instance</code> lol. yay! we can finally do flt-regular stuff again</p>



<a name="292631117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292631117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292631117">(Aug 09 2022 at 18:14)</a>:</h4>
<p>I assume this is going to take a while to get into mathlib, so I suggest instead to run flt-regular off this branch until we merge everything.</p>



<a name="292632371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292632371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292632371">(Aug 09 2022 at 18:22)</a>:</h4>
<p>I agree, this is much better. We will have time to catch up with new mathlib stuff later on</p>



<a name="292646351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292646351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292646351">(Aug 09 2022 at 19:51)</a>:</h4>
<p>Thank you very much <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> for putting in the work and finishing it!</p>



<a name="292854777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292854777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292854777">(Aug 11 2022 at 01:07)</a>:</h4>
<p>this is all working super well! if anyone wants to see good signs please look at <a href="https://github.com/leanprover-community/mathlib/commit/84e8946a86375e925d0f6bab319b845bbec375ba">https://github.com/leanprover-community/mathlib/commit/84e8946a86375e925d0f6bab319b845bbec375ba</a></p>



<a name="292854785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292854785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292854785">(Aug 11 2022 at 01:07)</a>:</h4>
<p>I have not yet made this work with <code>cyclotomic_ring</code> but that should likely die in a nice fire</p>



<a name="292854854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292854854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292854854">(Aug 11 2022 at 01:08)</a>:</h4>
<p>the flt-regular bump will probably also go this way, with removing many <code>convert</code>s and such like</p>



<a name="292854954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292854954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292854954">(Aug 11 2022 at 01:10)</a>:</h4>
<p>thanks to <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> who suggested a further refactor to Anne's ideas, instead of making <code>lift : (a -&gt; K) -&gt; a -&gt; splitting_field (f : K[X])</code> we instead have <code>mk : K -&gt; splitting_field (f :K[X])</code> and then composing with any required a -&gt; Ks. I thought this was required to fix some issues, in the end it wasn't, but it fixed issues that I wasn't expecting, so I think it's probably the correct thing to do.</p>



<a name="292922981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292922981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292922981">(Aug 11 2022 at 12:47)</a>:</h4>
<p>I've bumped <code>flt_regular</code> to use this branch of mathlib on the branch <code>no_diamonds</code>; it was very easy. I also finished the proof that 2 was regular :)</p>



<a name="292949363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292949363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292949363">(Aug 11 2022 at 15:13)</a>:</h4>
<p>Feel free to the branch even on master. I don't know how this will interact with the automatic update</p>



<a name="292950458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292950458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292950458">(Aug 11 2022 at 15:18)</a>:</h4>
<p>I think the automatic update will just fail and therefore not update, which is fine, we just have to remember to update the no_diamonds branch whenever we want anything new in it until it gets into master</p>



<a name="292950847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292950847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292950847">(Aug 11 2022 at 15:20)</a>:</h4>
<p>if anyone would like to PR parts of the branch to master I'd really appreciate it, I'm not so sure I will have time to do it. <code>distrib_smul</code> I think is the first thing that should be done there</p>



<a name="292966097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292966097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292966097">(Aug 11 2022 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Project.20status/near/292922981">said</a>:</p>
<blockquote>
<p>I've bumped <code>flt_regular</code> to use this branch of mathlib on the branch <code>no_diamonds</code>; it was very easy. I also finished the proof that 2 was regular :)</p>
</blockquote>
<p>Wait what's your definition of regular? It's not the conjunction of about 37 things?</p>



<a name="292966549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292966549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292966549">(Aug 11 2022 at 16:44)</a>:</h4>
<p>class number defn; we'll have to work on the bernoulli one later but we don't need that yet as we're in case 1</p>



<a name="292971087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/292971087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#292971087">(Aug 11 2022 at 17:10)</a>:</h4>
<p>The idea is to introduce "strongly regular primes" and prove flt for them. Maybe in 3 years we will know that a prime is regular iff it is strongly regular</p>



<a name="293878436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/293878436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#293878436">(Aug 17 2022 at 11:28)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> are you trying to PR your work?</p>



<a name="293878755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/293878755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#293878755">(Aug 17 2022 at 11:30)</a>:</h4>
<p>I've been busy and computer-less for about a week, hopefully I'll get some time soon :)</p>



<a name="294205190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/294205190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#294205190">(Aug 19 2022 at 05:29)</a>:</h4>
<p>Regarding the literature: if anyone who wants to work on this project can't proceed due to lacking access to scientific material, please let me know. I have unlimited access to scientific books, papers and journals. I will be happy to share any pdf you need.</p>



<a name="310245763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/310245763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#310245763">(Nov 15 2022 at 17:02)</a>:</h4>
<p>I've thought a little bit about what is better to do now, and I think that the fact the port to mathlib4 is really starting and we've just finished caseI is a nice coincidence.</p>
<p>In my (personal) opinion the port is the most important Lean project now, and I will try to spend much of me Lean-time on it. What we can do with our project is try to PR (to mathlib3 of course) as much material as possible. This is surely less fun and interesting than formalizing new mathematics, but it has to be done.</p>



<a name="310256602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/310256602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#310256602">(Nov 15 2022 at 17:55)</a>:</h4>
<p>I think this is reasonable. I guess we need to decide what bits we should try to PR</p>



<a name="311408565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311408565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311408565">(Nov 21 2022 at 15:35)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> If you agree I am going to PR what you did about <code>norm'</code> (the norm as an element of the ring of integers). It's a useful notion and it should be in mathlib anyway. Then I think we can simplify certain proofs using the ideal norm that Anne is PRing.</p>



<a name="311408672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311408672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311408672">(Nov 21 2022 at 15:35)</a>:</h4>
<p>for sure it's okay, sorry i've not done much PRing</p>



<a name="311409842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311409842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311409842">(Nov 21 2022 at 15:41)</a>:</h4>
<p>Don't worry, it's very low priority stuff.</p>



<a name="311416916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311416916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311416916">(Nov 21 2022 at 16:14)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> I forgot what your tactic <code>may_assume</code> does. I think we are not using it.</p>



<a name="311417081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311417081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311417081">(Nov 21 2022 at 16:15)</a>:</h4>
<p>its a version of wlog that lets you add assumptions like that the numbers giving  a solution of the fermat equation are coprime, I think someone rewrote the main file not to use it at some point</p>



<a name="311418966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311418966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311418966">(Nov 21 2022 at 16:25)</a>:</h4>
<p>Yes, I did it. The tactic was for <code>ℕ</code> instead of <code>ℤ</code>, or something like that, and I felt like a general lemma was better. I am checking if we still use it somewhere.</p>



<a name="311419880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311419880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311419880">(Nov 21 2022 at 16:30)</a>:</h4>
<p>Sorry I don't understand, how could a tactic be for N and not Z? Maybe you had some other reason for removing it but that cant be it</p>



<a name="311420447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311420447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311420447">(Nov 21 2022 at 16:32)</a>:</h4>
<p>Mmm, maybe it worked for <code>ℕ</code> but not for <code>ℤ</code>, I don't remember exactly.</p>



<a name="311420603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Project%20status/near/311420603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Project.20status.html#311420603">(Nov 21 2022 at 16:33)</a>:</h4>
<p>I just tried a simple example and it works in the same way for the integers as naturals, the internals really don't depend on the type of the expressions involved, its just shuffling goals around</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>