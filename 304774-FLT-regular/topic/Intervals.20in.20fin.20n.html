---
layout: archive
title: Zulip Chat Archive
permalink: /stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/index.html">FLT regular</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html">Intervals in fin n</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265726899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265726899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265726899">(Dec 21 2021 at 19:46)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Can you please have a look at the first four lemmas <a href="https://github.com/leanprover-community/flt-regular/blob/master/src/ready_for_mathlib/fin.lean">here</a>? I am going to PR them, so it makes sense to add all the possible variations, and I don't want to waste time if they are not done correctly. What we really want is <code>filter_lt_card</code> and <code>filter_gt_card</code>. Thanks!</p>



<a name="265726956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265726956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265726956">(Dec 21 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> has marked this topic as resolved.</p>



<a name="265726961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265726961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265726961">(Dec 21 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> has marked this topic as unresolved.</p>



<a name="265726995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265726995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265726995">(Dec 21 2021 at 19:48)</a>:</h4>
<p><code>filter_lt_card</code> and <code>filter_gt_card</code> are basically <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.card_Iio">docs#finset.card_Iio</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.card_Ioi">docs#finset.card_Ioi</a>.</p>



<a name="265727233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727233">(Dec 21 2021 at 19:50)</a>:</h4>
<p>The first two are worth having, but for <code>fintype α</code>, <code>locally_finite_order α</code>.</p>



<a name="265727295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727295">(Dec 21 2021 at 19:51)</a>:</h4>
<p>They should go in <code>data.finset.locally_finite</code>. I can PR them if you prefer.</p>



<a name="265727500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727500">(Dec 21 2021 at 19:53)</a>:</h4>
<p>The reason why I use <code>finset.filter</code> is that I need <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_vandermonde">docs#matrix.det_vandermonde</a>, that is stated that way. Maybe it's better to modify it to use the interval notation?</p>



<a name="265727525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727525">(Dec 21 2021 at 19:53)</a>:</h4>
<p>Oh yes, definitely!</p>



<a name="265727716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727716">(Dec 21 2021 at 19:55)</a>:</h4>
<p>Feel free to PR the modification if you want <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="265727903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727903">(Dec 21 2021 at 19:57)</a>:</h4>
<p>Oh sure! That will put me one PR further down my <a href="https://leanprover-community.github.io/mathlib_stats.html#Authors">#RoadToBhavik</a> <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="265727980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265727980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265727980">(Dec 21 2021 at 19:58)</a>:</h4>
<p>Lol</p>



<a name="265728023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/265728023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#265728023">(Dec 21 2021 at 19:58)</a>:</h4>
<p>This is going to break <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra.discr_power_basis_eq_prod">docs#algebra.discr_power_basis_eq_prod</a>, but it should be enough to modify the statement accordingly</p>



<a name="266168236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266168236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266168236">(Dec 27 2021 at 12:15)</a>:</h4>
<p>Mmh, <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_vandermonde">docs#matrix.det_vandermonde</a> works also for <code>n = 0</code>, and in that case we can't use <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.Ioi">docs#finset.Ioi</a> since <code>fin 0</code> has no top element. <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> do you see a workaround? Otherwise let's keep <code>finset.filter</code>.</p>



<a name="266168338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266168338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266168338">(Dec 27 2021 at 12:16)</a>:</h4>
<p>Hmm... unfortunately we don't have a typeclass saying "<code>order_bot</code> or empty". So I guess not.</p>



<a name="266168461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266168461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266168461">(Dec 27 2021 at 12:19)</a>:</h4>
<p>No problem, I will add <code>Ioi_eq_filter</code> and friends.</p>



<a name="266169375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266169375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266169375">(Dec 27 2021 at 12:36)</a>:</h4>
<p>They should go the other way, as <code>Ixx</code> is preferred to <code>filter</code>.</p>



<a name="266169890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266169890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266169890">(Dec 27 2021 at 12:47)</a>:</h4>
<p>@Yael, why is <code>finset.Ioi</code> defined via <code>finset.Ioc</code> and not <code>finset.filter (&gt; a) univ</code>? That way you get the equiv to <code>Ioc</code> in <code>order_top</code> and it works elsewhere still.</p>



<a name="266171599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266171599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266171599">(Dec 27 2021 at 13:11)</a>:</h4>
<p>That's because they work over infinite types as well.</p>



<a name="266171653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266171653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266171653">(Dec 27 2021 at 13:12)</a>:</h4>
<p>Your proposal doesn't work for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi></mrow><annotation encoding="application/x-tex">\N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">N</span></span></span></span></p>



<a name="266176120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176120">(Dec 27 2021 at 14:22)</a>:</h4>
<p>Perhaps <code>Ioi</code> could take a typeclass argument <code>locally_finite_order (with_top  α)</code> and be defined as <code>Ioo x \top</code> (but then pushed back down to <code> α</code>)? And then there would be instances of <code>[fintype α] : locally_finite_order (with_top  α)</code> (coming from all finite order things being locally_finite) and <code>[locally_finite_order  α] [order_top  α] : locally_finite_order  (with_top α)</code> ?</p>



<a name="266176337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176337">(Dec 27 2021 at 14:26)</a>:</h4>
<p>Oh, that's actually pretty smart. However, you need more careful than that because we have <a href="https://leanprover-community.github.io/mathlib_docs/find/with_top.locally_finite_order">docs#with_top.locally_finite_order</a></p>



<a name="266176506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176506">(Dec 27 2021 at 14:28)</a>:</h4>
<p>Sorry, I mean that if we have <code>[fintype α] [locally_finite_order α] [order_top α]</code> then we get conflicting instances on <code>with_top α</code>. A safer bet would be <code>[is_empty α] : locally_finite_order (with_top α)</code> even though that sounds a bit stupid at first glance.</p>



<a name="266176602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176602">(Dec 27 2021 at 14:30)</a>:</h4>
<p>This is because <code>[is_empty α] [order_top α]</code> will never be fulfilled.</p>



<a name="266176622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176622">(Dec 27 2021 at 14:30)</a>:</h4>
<p>But there are still other finite orders without tops that one might want to consider <code>Ioi</code> of though right?</p>



<a name="266176643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176643">(Dec 27 2021 at 14:31)</a>:</h4>
<p>Yes, but those should assume <code>locally_finite_order</code>.</p>



<a name="266176647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176647">(Dec 27 2021 at 14:31)</a>:</h4>
<p>It's data</p>



<a name="266176747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176747">(Dec 27 2021 at 14:32)</a>:</h4>
<p>Of course, we could decide that we don't care about defeqness on fintypes and just go with <code>[fintype α] : locally_finite_order α</code>.</p>



<a name="266176881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176881">(Dec 27 2021 at 14:34)</a>:</h4>
<p>I think the instances I'm talking about are the same as yours though?</p>



<a name="266176986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Intervals%20in%20fin%20n/near/266176986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Intervals.20in.20fin.20n.html#266176986">(Dec 27 2021 at 14:36)</a>:</h4>
<p>The second one, yes. The first one, no.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>