---
layout: archive
title: Zulip Chat Archive
permalink: /stream/304774-FLT-regular/topic/Mathlib.20bump.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/index.html">FLT regular</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html">Mathlib bump</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="259355566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259355566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259355566">(Oct 28 2021 at 08:30)</a>:</h4>
<p>Can you announce here when you bump mathlib? i.e. when you do <code>leanproject up</code>. It's better to say it because if I do <code>git pull</code> and I don't realize mathlib has changed I get the orange bar if I don't fetch the oleans.</p>



<a name="259356557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259356557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259356557">(Oct 28 2021 at 08:39)</a>:</h4>
<p>Sorry for any confusion, I also added the auto-bumper script, so seeing as the code now compiles it will bump itself every day without anybody manually intervening. You should always be able to see from the git pull output (if you are on command line) that the toml file was changed</p>



<a name="259356722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259356722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259356722">(Oct 28 2021 at 08:40)</a>:</h4>
<p>Ah, I see! But what happens if the code doesn't compile with the new mathlib?</p>



<a name="259356764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259356764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259356764">(Oct 28 2021 at 08:41)</a>:</h4>
<p>In LTE we see this all the time, it happens that making the bump is quite a lot of work.</p>



<a name="259358587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259358587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259358587">(Oct 28 2021 at 08:58)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> Then the bot opens an issue, and waits until you do a manual bump.</p>



<a name="259358604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259358604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259358604">(Oct 28 2021 at 08:58)</a>:</h4>
<p>Wow, very nice!!</p>



<a name="259358612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259358612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259358612">(Oct 28 2021 at 08:58)</a>:</h4>
<p>After that it will pick up auto-bumping daily, until the bump breaks again.</p>



<a name="259360135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259360135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259360135">(Oct 28 2021 at 09:11)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> Do you also know how to set up CI?</p>



<a name="259360225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259360225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259360225">(Oct 28 2021 at 09:12)</a>:</h4>
<p>I'll have a go at it today <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span>!</p>



<a name="259374066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259374066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259374066">(Oct 28 2021 at 11:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/304774-FLT-regular/topic/Mathlib.20bump/near/259355566">said</a>:</p>
<blockquote>
<p>Can you announce here when you bump mathlib? i.e. when you do <code>leanproject up</code>. It's better to say it because if I do <code>git pull</code> and I don't realize mathlib has changed I get the orange bar if I don't fetch the oleans.</p>
</blockquote>
<p>Sounds like it's time for you to learn about <code>leanproject pull</code>.</p>



<a name="259390400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259390400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259390400">(Oct 28 2021 at 13:47)</a>:</h4>
<p>Ok we now have CI (thanks to @bentoner, who did this for lean-liquid this wasn't too hard), olean caches can't be dowloaded yet, probably that needs some permissions setting up on the azure side, but seeing as we are still in the beginning of the project hopefully this isnt an issue for anyone already!</p>



<a name="259390889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259390889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259390889">(Oct 28 2021 at 13:51)</a>:</h4>
<p>Thank you!! I agree we don't need olean caches for the moment.</p>



<a name="259443199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259443199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259443199">(Oct 28 2021 at 19:54)</a>:</h4>
<p>I take it mathlib bump is just the same as doing <code>leanproject up</code>. In which case, I just did one and <code>class_group.fintype_of_cyclotomic_ring</code> is working now :)</p>



<a name="259444132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259444132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259444132">(Oct 28 2021 at 20:01)</a>:</h4>
<p>It was working even before, I disabled the instance this morning. See my message in the topic general notation</p>



<a name="259444641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259444641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Birkbeck <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259444641">(Oct 28 2021 at 20:05)</a>:</h4>
<p>Yeah sorry I didn't read it carefully enough!</p>



<a name="259458308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259458308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259458308">(Oct 28 2021 at 22:04)</a>:</h4>
<p>I've a follow-up planned to try to fix it</p>



<a name="259510672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/259510672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#259510672">(Oct 29 2021 at 11:22)</a>:</h4>
<p>The github mark is finally green! Let's try to keep it like that <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="260661331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260661331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260661331">(Nov 08 2021 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/304774-FLT-regular/topic/Mathlib.20bump/near/259458308">said</a>:</p>
<blockquote>
<p>I've a follow-up planned to try to fix it</p>
</blockquote>
<p>I tried to fix it in <a href="https://github.com/leanprover-community/mathlib/issues/10220">#10220</a>; but I think this diamond might be impossible to solve with the current definition of <code>splitting_field</code></p>



<a name="260662317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260662317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260662317">(Nov 08 2021 at 14:19)</a>:</h4>
<p>Don't worry! At the moment everything works for us :)</p>



<a name="260666290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260666290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260666290">(Nov 08 2021 at 14:49)</a>:</h4>
<p>I worry only because it seems like a diamond that's impossible to solve, and we haven't seen those before</p>



<a name="260669049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260669049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260669049">(Nov 08 2021 at 15:06)</a>:</h4>
<p>Well, maybe this is just an indication that the definition of <code>splitting_field</code> is not the good one. What is the problem? (If it's not too complicated to explain.)</p>



<a name="260672124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260672124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260672124">(Nov 08 2021 at 15:28)</a>:</h4>
<p>he put a good note on it in that commit, I am surprised this hasn't been run into before though :/</p>



<a name="260672184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/260672184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#260672184">(Nov 08 2021 at 15:28)</a>:</h4>
<p>(an "unsolvable" diamond, that is, not this specific one)</p>



<a name="261005291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261005291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261005291">(Nov 10 2021 at 15:24)</a>:</h4>
<p>After some (in-person!) discussion with Eric W yesterday he told me that the diamond could be solved if we refactor <code>splitting_field</code> just to be "field spanned by roots of f in some algebraic closure of base field", and we have algebraic closures now IIRC</p>



<a name="261037994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261037994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261037994">(Nov 10 2021 at 19:00)</a>:</h4>
<p>I think it would be fairer to say that I said that would work when you suggested it; I'd not even heard of algebraic closures until you brought it up!</p>



<a name="261047919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261047919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261047919">(Nov 10 2021 at 20:12)</a>:</h4>
<p>Does that mean the definition will depend on the choice of an algebraic closure?</p>



<a name="261047960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261047960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261047960">(Nov 10 2021 at 20:12)</a>:</h4>
<p>Also, did you check that the construction of algebraic closures doesn't use splitting fields under the hood? I wouldn't be surprised if it does.</p>



<a name="261049120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261049120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261049120">(Nov 10 2021 at 20:20)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/algebraic_closure">docs#algebraic_closure</a> for reference</p>



<a name="261049858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261049858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261049858">(Nov 10 2021 at 20:26)</a>:</h4>
<p>Actually I'm pretty sure that won't work as the algebra structure is built with <a href="https://leanprover-community.github.io/mathlib_docs/find/ring_hom.to_algebra">docs#ring_hom.to_algebra</a> so has the bad default nsmul fields</p>



<a name="261049945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261049945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261049945">(Nov 10 2021 at 20:27)</a>:</h4>
<p>And it looks suspiciously recursive, which is likely to run into the same problems as <code>splitting_field</code></p>



<a name="261050204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261050204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261050204">(Nov 10 2021 at 20:29)</a>:</h4>
<p>Algebraic closures are highly non-canonical. So I would be somewhat surprised if they solve defeq issues.</p>



<a name="261115190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261115190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261115190">(Nov 11 2021 at 10:22)</a>:</h4>
<p>Splitting fields are also noncanonical</p>



<a name="261115300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261115300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261115300">(Nov 11 2021 at 10:23)</a>:</h4>
<p>The construction of alg closure I know doesn't use splitting fields; conversely I've defined splitting fields via alg closure in a course before so I'm pretty sure it can be made to work</p>



<a name="261371523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261371523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261371523">(Nov 13 2021 at 17:40)</a>:</h4>
<p>I just bumped — <del>please all note the absolutely atrocious proof of <code>gcd_mul_fun</code>; does anyone see a better way to do this?</del> I'm going to go take a walk...</p>



<a name="261414255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414255">(Nov 14 2021 at 12:12)</a>:</h4>
<p>is it just me, or does it sometimes feel like every time the bumper bot upgrades, it doesn't work and you have to manually bump again?</p>



<a name="261414336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414336">(Nov 14 2021 at 12:14)</a>:</h4>
<p>What doesn't work specifically?</p>



<a name="261414341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414341">(Nov 14 2021 at 12:14)</a>:</h4>
<p>I get a weird git sha not found error sometimes, but never bothered tracking it down</p>



<a name="261414416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414416">(Nov 14 2021 at 12:16)</a>:</h4>
<p>exactly that</p>



<a name="261414499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414499">(Nov 14 2021 at 12:19)</a>:</h4>
<p>Like if you do git pull and then <code>leanproject get-mathlib-cache</code>?</p>



<a name="261414504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414504">(Nov 14 2021 at 12:19)</a>:</h4>
<p>Or do you use <code>leanproject pull</code></p>



<a name="261414737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261414737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261414737">(Nov 14 2021 at 12:25)</a>:</h4>
<p>i've never tried <code>leanproject pull</code> if i'm honest</p>



<a name="261416128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261416128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261416128">(Nov 14 2021 at 13:00)</a>:</h4>
<p>Same, its fairly new, I also am not in the habit of using it and see the same issue as you, so I was wondering if the fix is just for us to try and be in the habit of using that. Perhaps the issue is that the <code>get-mathlib-cache</code> command doesn't do a <code>git fetch</code> for the <code>_target/deps/mathlib/</code> directory and thats why we get  a confusing message that git cant find the sha?</p>



<a name="261416275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261416275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261416275">(Nov 14 2021 at 13:04)</a>:</h4>
<p>that would make a lot of sense! I'll try it next time</p>



<a name="261418317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261418317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261418317">(Nov 14 2021 at 13:58)</a>:</h4>
<p>Is the issue the same as my Nov 6 message to <a class="stream" data-stream-id="267928" href="/#narrow/stream/267928-condensed-mathematics">#condensed mathematics</a> saying that I didn't know the workflow for bumps on that project? Sorry can't link, on mobile</p>



<a name="261419464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261419464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261419464">(Nov 14 2021 at 14:18)</a>:</h4>
<p>I think so, yes (it was the same error message, anyways)</p>



<a name="261421127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/261421127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#261421127">(Nov 14 2021 at 14:43)</a>:</h4>
<p>I think this might have been fixed by Patrick in an unreleased version</p>



<a name="262182584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/262182584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#262182584">(Nov 20 2021 at 12:59)</a>:</h4>
<p>I just hit this again, and can confirm that installing the master version of mathlib-tools fixes it.<br>
<span class="user-mention" data-user-id="110031">@Patrick Massot</span> if you have time to release the new version I'm sure it will help some people out <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="262994302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/262994302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#262994302">(Nov 29 2021 at 11:11)</a>:</h4>
<p>Hi everybody, this week I have a collaborator visiting me and I will be less active than usual, but I am confident you will continue your great work <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="267706174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267706174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267706174">(Jan 12 2022 at 10:29)</a>:</h4>
<p>Today's bump has been a little more annoying than usual</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>git diff c087cd0 --stat
 leanpkg.toml                                              <span class="p">|</span>  <span class="m">4</span> ++--
 src/number_theory/cyclotomic/absolute_value.lean          <span class="p">|</span> <span class="m">13</span> +++++++------
 src/number_theory/cyclotomic/cyclotomic_units.lean        <span class="p">|</span>  <span class="m">2</span> +-
 src/number_theory/cyclotomic/number_field_embeddings.lean <span class="p">|</span>  <span class="m">1</span> +
 src/ready_for_mathlib/cycl_poly.lean                      <span class="p">|</span> <span class="m">76</span> ----------------------------------------------------------------------------
 src/ready_for_mathlib/discriminant.lean                   <span class="p">|</span> <span class="m">17</span> +----------------
 src/ready_for_mathlib/ne_zero.lean                        <span class="p">|</span>  <span class="m">4</span> ----
 <span class="m">7</span> files changed, <span class="m">12</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">105</span> deletions<span class="o">(</span>-<span class="o">)</span>
</code></pre></div>
<p>but it is now done.</p>



<a name="267707416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267707416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267707416">(Jan 12 2022 at 10:44)</a>:</h4>
<p>Good diff! You got rid of about 90 lines!</p>



<a name="267990567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267990567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267990567">(Jan 14 2022 at 09:37)</a>:</h4>
<p>Does anyone know what happened to <code>covariant_class ℝ≥0 ℝ≥0 has_mul.mul has_le.le</code>? After the last bump Lean is not finding it anymore...</p>



<a name="267990767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267990767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267990767">(Jan 14 2022 at 09:39)</a>:</h4>
<p>I am fixing it, but I don't understand what happened, for example</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_one_of_pow_eq_one</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">h_pow</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">pow_eq_one_iff</span> <span class="n">hn.ne'</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">h_pow</span>
</code></pre></div>
<p>fails, but</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_one_of_pow_eq_one</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">h_pow</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="o">(</span><span class="bp">@</span><span class="n">pow_eq_one_iff</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">nnreal.covariant_mul</span> <span class="n">_</span> <span class="n">_</span> <span class="n">hn.ne'</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">h_pow</span>
</code></pre></div>
<p>works</p>



<a name="267992526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267992526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267992526">(Jan 14 2022 at 09:56)</a>:</h4>
<p>yes, I was confused by this too... <a href="/user_uploads/3121/hzl154bqQis5n5HwQQpSui1p/image.png">image.png</a>  these are the commits in between the last two bumps, but I don't see how that changed anything</p>
<div class="message_inline_image"><a href="/user_uploads/3121/hzl154bqQis5n5HwQQpSui1p/image.png" title="image.png"><img src="/user_uploads/3121/hzl154bqQis5n5HwQQpSui1p/image.png"></a></div>



<a name="267992690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267992690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267992690">(Jan 14 2022 at 09:58)</a>:</h4>
<p>data/nnreal/basic was touched twice in both of these commits, but both of these were Yael changing very small things that aren't related to <code>covariant_mul</code>.</p>



<a name="267992817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267992817" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267992817">(Jan 14 2022 at 09:59)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>  I am randomly pinging you even if you look innocent</p>



<a name="267992912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/267992912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#267992912">(Jan 14 2022 at 10:00)</a>:</h4>
<p>I think I indeed am</p>



<a name="268026886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/268026886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#268026886">(Jan 14 2022 at 15:18)</a>:</h4>
<p>Same problem while bumping LTE. No idea what the problem is.</p>



<a name="268026996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/268026996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#268026996">(Jan 14 2022 at 15:19)</a>:</h4>
<p>The instance <code>nnreal.covariant_mul</code> is there in <code>nnreal.lean</code>.</p>



<a name="268065770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/268065770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#268065770">(Jan 14 2022 at 20:10)</a>:</h4>
<p>Is <a href="https://leanprover-community.github.io/mathlib_docs/find/non_unital_non_assoc_ring">docs#non_unital_non_assoc_ring</a> to blame?</p>



<a name="268119112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/268119112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#268119112">(Jan 15 2022 at 10:43)</a>:</h4>
<p><span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> Can you PR the results <a href="https://github.com/leanprover-community/flt-regular/blob/master/src/ready_for_mathlib/cyclotomic.lean">here</a>? Thanks!</p>



<a name="268125387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/268125387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#268125387">(Jan 15 2022 at 13:18)</a>:</h4>
<p>yes, sorry, been slow on PRing!</p>



<a name="280373564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280373564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280373564">(Apr 27 2022 at 16:19)</a>:</h4>
<p>I've just bumped, I think something about <code>mod_cast</code> has changed so things aren't working so well (cf <a href="#narrow/stream/113488-general/topic/norm_cast.20changes.3F">here</a>).</p>



<a name="280373614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280373614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280373614">(Apr 27 2022 at 16:19)</a>:</h4>
<p>I wonder if the correct way to do these sorts of things are to have stronger versions of coe, which would be like <code>fun_like</code></p>



<a name="280375612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280375612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280375612">(Apr 27 2022 at 16:33)</a>:</h4>
<p>Ouf this is annoying</p>



<a name="280376162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280376162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280376162">(Apr 27 2022 at 16:37)</a>:</h4>
<p>Thanks for the bump</p>



<a name="280469590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280469590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280469590">(Apr 28 2022 at 09:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/304774-FLT-regular/topic/Mathlib.20bump/near/280373614">said</a>:</p>
<blockquote>
<p>I wonder if the correct way to do these sorts of things are to have stronger versions of coe, which would be like <code>fun_like</code></p>
</blockquote>
<p>This is something I have been interested in for a bit, never had the chance to work on it yet. At least, I think we should split up the <code>algebra</code> class into a "scalar multiplication" part and a "canonical ring hom" part. And we could express the "canonical ring hom" part by subclassing <code>has_coe</code>(<code>_t</code>).</p>



<a name="280470388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280470388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280470388">(Apr 28 2022 at 10:05)</a>:</h4>
<p>Would such a change be compatible with / make it easier to redefine <code>algebra</code> as:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">algebra</span> <span class="o">(</span><span class="n">R</span> <span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">non_unital_non_assoc_semiring</span> <span class="n">A</span><span class="o">]</span> <span class="kd">extends</span> <span class="n">module</span> <span class="n">R</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">smul_mul_assoc'</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">),</span> <span class="o">(</span><span class="n">t</span> <span class="bp">•</span> <span class="n">a</span><span class="o">)</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">•</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">))</span>
<span class="o">(</span><span class="n">mul_smul_comm'</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">),</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">t</span> <span class="bp">•</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">t</span> <span class="bp">•</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">))</span>
</code></pre></div>
<p>(which has the advantage that we can use <code>algebra</code> to talk about non-unital and/or non-assoc algebras if we want)</p>



<a name="280475073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280475073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280475073">(Apr 28 2022 at 10:55)</a>:</h4>
<p>Indeed, your redefinition would exactly be the first part that we split <code>algebra</code> into.</p>



<a name="280685081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280685081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280685081">(Apr 29 2022 at 20:36)</a>:</h4>
<p>What's the advantage of that definition vs using the existing typeclasses described in <a href="https://leanprover-community.github.io/mathlib_docs/find/algebra">docs#algebra</a>?</p>



<a name="280685139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280685139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280685139">(Apr 29 2022 at 20:37)</a>:</h4>
<p>Because here's one downside: using the separate typeclasses let's you relax <code>R</code> to a monoid (eg the units of your algebra)</p>



<a name="280685319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280685319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280685319">(Apr 29 2022 at 20:38)</a>:</h4>
<p>I do agree though that there's a place for a separate "canonical ring hom" class, which would cover <code>matrix.scalar</code> and <code>polynomial.C</code> in places where the ground ring isn't commutative</p>



<a name="280858224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/304774-FLT%20regular/topic/Mathlib%20bump/near/280858224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/304774-FLT-regular/topic/Mathlib.20bump.html#280858224">(May 02 2022 at 10:50)</a>:</h4>
<p>I made <a href="#narrow/stream/113488-general/topic/.22has.20canonical.20morphism.22.20class">a new discussion thread</a> about "has canonical hom" in <a class="stream" data-stream-id="113488" href="/#narrow/stream/113488-general">#general</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>