---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html">#16666 free groupoid on a quiver</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="301772925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301772925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301772925">(Oct 01 2022 at 06:07)</a>:</h4>
<p><span class="user-mention" data-user-id="459699">@Joël Riou</span> Thanks for your suggestions! I don't expect that the whole of it, is it?</p>



<a name="301781785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301781785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301781785">(Oct 01 2022 at 07:56)</a>:</h4>
<p>My main other remark is about the three universal properties that are in the PR:<br>
1) Lifting of prefunctor from a quiver to a category as functors from the path category<br>
2) Lifting of prefunctors to get functors from <code>quiver.symmetrify</code><br>
3) Lifting of prefunctors from a quiver to a groupoid as functors from the free groupoid</p>
<p>I would think that 3) should be first stated as<br>
3') Lifting of prefunctors from a quiver to a category (which sends maps to invertible maps) as functors from the free groupoid</p>
<p>Then 3) would a particular case of 3'). (Thanks to the class inference system, if the assumption is phrased as <code>[∀ (X Y) (f : X ⟶ Y), is_iso (φ.map f)]</code> in 3'), then you do not even need to restate 3).)</p>



<a name="301783527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301783527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301783527">(Oct 01 2022 at 08:13)</a>:</h4>
<p>Ah, that's a good point. Let me try and do that, thanks!</p>



<a name="301790740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301790740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301790740">(Oct 01 2022 at 09:20)</a>:</h4>
<p>In the meantime, <a href="https://github.com/leanprover-community/mathlib/pull/16742">here</a> is a PR for subgroupoids. I feel like it's patterned closely enough on other files to be OK, but maybe not</p>



<a name="301792503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301792503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301792503">(Oct 01 2022 at 09:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459699">Joël Riou</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver/near/301781785">said</a>:</p>
<blockquote>
<p>My main other remark is about the three universal properties that are in the PR:<br>
1) Lifting of prefunctor from a quiver to a category as functors from the path category<br>
2) Lifting of prefunctors to get functors from <code>quiver.symmetrify</code><br>
3) Lifting of prefunctors from a quiver to a groupoid as functors from the free groupoid</p>
<p>I would think that 3) should be first stated as<br>
3') Lifting of prefunctors from a quiver to a category (which sends maps to invertible maps) as functors from the free groupoid</p>
<p>Then 3) would a particular case of 3'). (Thanks to the class inference system, if the assumption is phrased as <code>[∀ (X Y) (f : X ⟶ Y), is_iso (φ.map f)]</code> in 3'), then you do not even need to restate 3).)</p>
</blockquote>
<p>Mmh, the problem is that this actually implies also changing 1), since for now the lift to <code>symmetrify</code> assumes all arrows have "formal" inverses, which in turns means I can't use <code>has_reverse</code> at all… </p>
<p>Sort of a pickle: I wonder if this changes is worth overhauling the whole <code>has_reverse</code> usage. Maybe a more compatible approach would be to reverse your argument and simply prove that if I have a functor mapping arrows to invertible ones, I can restrict to the core of the category… hence no need to change my code, but only to add stuff.<br>
What do you think of that?</p>



<a name="301874310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301874310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301874310">(Oct 01 2022 at 23:01)</a>:</h4>
<p>Ok, so it is not as immediate as I thought, so that it may certainly be done later, in a separate PR.</p>



<a name="301899403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/301899403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#301899403">(Oct 02 2022 at 07:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459699">Joël Riou</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver/near/301874310">said</a>:</p>
<blockquote>
<p>Ok, so it is not as immediate as I thought, so that it may certainly be done later, in a separate PR.</p>
</blockquote>
<p>Alright! Well, then I need to find someone with "bors"-rights to review and hopefully accept it then.<br>
By the way, I'd like to refactor the <code>quiver</code> part at some point, to get stuff about <code>symmetrify</code> and <code>paths</code> and reversal and reduction of paths in a common file, rather than abusing <code>connected_component</code>, but I think for now it's fine.</p>



<a name="302006830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/302006830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#302006830">(Oct 03 2022 at 06:49)</a>:</h4>
<p><span class="user-mention" data-user-id="461830">@Rémi Bottinelli</span> Thanks for the PR!<br>
<span class="user-mention" data-user-id="459699">@Joël Riou</span> Thanks for the reviews!</p>
<p>I've kicked it on the queue.</p>



<a name="302007703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316666%20free%20groupoid%20on%20a%20quiver/near/302007703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rémi Bottinelli <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316666.20free.20groupoid.20on.20a.20quiver.html#302007703">(Oct 03 2022 at 06:57)</a>:</h4>
<p>(first PR not entirely overhauled by Kyle, I'm overly proud)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>