---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html">#13749 non-unital subsemirings</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="294433496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294433496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294433496">(Aug 20 2022 at 12:15)</a>:</h4>
<p>I'd love to see any progress on this PR. It looks ready to me but I note that <span class="user-mention" data-user-id="310045">@Eric Wieser</span> has self-assigned. Obviously I realise we're all very busy so no pressure: just a vote in favour.</p>



<a name="294456445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294456445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294456445">(Aug 20 2022 at 15:45)</a>:</h4>
<p>I could be mistaken, but I think Eric may be concerned about this for the same reason as this thread: <a href="#narrow/stream/113488-general/topic/has_coe_t.20for.20semilinear_map_class">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/has_coe_t.20for.20semilinear_map_class</a></p>



<a name="294672770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294672770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294672770">(Aug 22 2022 at 13:11)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> is my assumption correct? Either way, what should I do to move this PR forward?</p>



<a name="294760841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294760841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294760841">(Aug 22 2022 at 20:18)</a>:</h4>
<p>I think I was concerned about putting in a possibly performance-impacting generalization (the switch to use <code>ring_hom_class</code> in the new <code>non_unital_sub_semiring.map</code>) at the same time as adding a pile of boilerplate</p>



<a name="294760918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294760918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294760918">(Aug 22 2022 at 20:18)</a>:</h4>
<p>If we're going to change things like <a href="https://leanprover-community.github.io/mathlib_docs/find/subring.map">docs#subring.map</a> to use <code>ring_hom_class</code>, we should change all the subobjects at the same time</p>



<a name="294760944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294760944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294760944">(Aug 22 2022 at 20:18)</a>:</h4>
<p>That way we learn whether the design scales to all of them or not</p>



<a name="294761121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294761121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294761121">(Aug 22 2022 at 20:20)</a>:</h4>
<p>Changing the design of just the new boilerplate is a recipe for unresolvable inconsistency if we find the design doesn't scale after all.</p>



<a name="294770396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294770396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294770396">(Aug 22 2022 at 21:34)</a>:</h4>
<p>Aha, this:<br>
<span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings/near/294760918">said</a>:</p>
<blockquote>
<p>If we're going to change things like <a href="https://leanprover-community.github.io/mathlib_docs/find/subring.map">docs#subring.map</a> to use <code>ring_hom_class</code>, we should change all the subobjects at the same time</p>
</blockquote>
<p>was not my perception of our approach. I thought our approach was more along the lines of: "this is a big job to do all at once, so instead let's tackle things as we come across them," but perhaps I misunderstood.</p>
<p>I think we need to have a wider discussion about the long-term plans for the hom classes. I get the feeling that there have only been a very small number of people involved in thinking about them; my estimate is Anne, Eric, Yaël, Frédéric and me, but perhaps I've missed other people who have been heavily invested, or at least others who have been carefully following the conversation.</p>



<a name="294774406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294774406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294774406">(Aug 22 2022 at 22:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings/near/294760918">said</a>:</p>
<blockquote>
<p>If we're going to change things like <a href="https://leanprover-community.github.io/mathlib_docs/find/subring.map">docs#subring.map</a> to use <code>ring_hom_class</code>, we should change all the subobjects at the same time</p>
</blockquote>
<p>Actually, I've already started doing this (see e.g. <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.map">docs#submodule.map</a>) and I really think it's the way to go. Especially for defs like <code>linear_map.ker</code>, <code>linear_map.range</code>, eigenvalues and so on -- these things apply to all types of linear maps and we want to have a unified definition instead of having to constantly convert down to a plain linear map. Also, one thing I think we should really avoid is to start having separate definitions for each hom, like we started doing with <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_linear_map.ker">docs#continuous_linear_map.ker</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/continuous_linear_map.range">docs#continuous_linear_map.range</a> -- it risks becoming a real mess when we also feel the need to have them for <code>linear_isometry</code>, <code>linear_equiv</code>, <code>continuous_linear_equiv</code>, <code>alg_hom</code>, and so on.</p>



<a name="294789182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294789182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294789182">(Aug 23 2022 at 00:58)</a>:</h4>
<p>Oh that's great news; if the performance is ok for submodules, which have more typeclasses to deal with than most other subobjects,  then I'm happy to believe it's fine everywhere!</p>



<a name="294789212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294789212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294789212">(Aug 23 2022 at 00:58)</a>:</h4>
<p>Perhaps we should open a github issue to record that we intend to change all such <code>map</code> methods</p>



<a name="294797152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294797152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294797152">(Aug 23 2022 at 03:18)</a>:</h4>
<p>In that vein: <a href="https://github.com/leanprover-community/mathlib/pull/16208">#16208</a>.</p>



<a name="294798317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313749%20non-unital%20subsemirings/near/294798317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313749.20non-unital.20subsemirings.html#294798317">(Aug 23 2022 at 03:41)</a>:</h4>
<p>Do we have a lemma somewhere that says the <code>linear_map.ker</code> of some member of a <code>continuous_linear_map_class</code> is closed? (EDIT: nevermind, I'll just comment on the PR)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>