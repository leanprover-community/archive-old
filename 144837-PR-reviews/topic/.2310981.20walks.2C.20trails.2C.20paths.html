---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html">#10981 walks, trails, paths</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265939970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/265939970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#265939970">(Dec 23 2021 at 18:16)</a>:</h4>
<p>This is the first chunk from the rather large <a href="https://github.com/leanprover-community/mathlib/pull/8737">#8737</a>, introducing walks, trails, and paths for simple graphs.</p>
<p>(After this, there's another chunk <a href="https://github.com/leanprover-community/mathlib/pull/11010">#11010</a>, which probably isn't worth looking at until <a href="https://github.com/leanprover-community/mathlib/pull/10981">#10981</a> is merged.)</p>



<a name="265940331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/265940331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#265940331">(Dec 23 2021 at 18:21)</a>:</h4>
<p>Is it okay to have commented code in <code>src/combinatorics/simple_graph/eulerian.lean</code>?</p>



<a name="265940395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/265940395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#265940395">(Dec 23 2021 at 18:22)</a>:</h4>
<p>That's not part of this PR (this one's <a href="https://github.com/leanprover-community/mathlib/pull/10981">#10981</a>), so it's ok <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="265953316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/265953316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#265953316">(Dec 23 2021 at 21:04)</a>:</h4>
<p>I'm reviewing tomorrow morning. Please don't merge before that <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="266007090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266007090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266007090">(Dec 24 2021 at 14:55)</a>:</h4>
<p>There's a naming convention question. This is how they are now:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">start_mem_support</span> <span class="o">{</span><span class="n">u</span> <span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">G.walk</span> <span class="n">u</span> <span class="n">v</span><span class="o">)</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">∈</span> <span class="n">p.support</span>

<span class="kd">lemma</span> <span class="n">end_mem_support</span> <span class="o">{</span><span class="n">u</span> <span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">G.walk</span> <span class="n">u</span> <span class="n">v</span><span class="o">)</span> <span class="o">:</span> <span class="n">v</span> <span class="bp">∈</span> <span class="n">p.support</span>
</code></pre></div>
<p>But one could argue that they should be <code>left_mem_support</code> and <code>right_mem_support</code>.</p>
<p>Does the docstring for <code>walk</code> have enough force to suggest that <code>u</code> and <code>v</code> are respectively the start and end? or would it be better to switch to a left and right convention?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">A</span> <span class="n">walk</span> <span class="n">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">adjacent</span> <span class="n">vertices.</span>  <span class="n">For</span> <span class="n">vertices</span> <span class="bp">`</span><span class="n">u</span> <span class="n">v</span> <span class="o">:</span> <span class="n">V</span><span class="bp">`</span><span class="o">,</span>
<span class="n">the</span> <span class="n">type</span> <span class="bp">`</span><span class="n">walk</span> <span class="n">u</span> <span class="n">v</span><span class="bp">`</span> <span class="n">consists</span> <span class="n">of</span> <span class="n">all</span> <span class="n">walks</span> <span class="n">starting</span> <span class="n">at</span> <span class="bp">`</span><span class="n">u</span><span class="bp">`</span> <span class="n">and</span> <span class="n">ending</span> <span class="n">at</span> <span class="bp">`</span><span class="n">v</span><span class="bp">`.</span>
</code></pre></div>
<p>Or would <code>source</code> and <code>target</code> be better still?</p>



<a name="266007418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266007418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266007418">(Dec 24 2021 at 15:01)</a>:</h4>
<p>My thinking is that <code>left</code> and <code>right</code>are universally understood while <code>start</code>/<code>source</code> and <code>end</code>/<code>target</code> are domain-specific and, well, there are at least two options as you've just pointed out.</p>



<a name="266008913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266008913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266008913">(Dec 24 2021 at 15:28)</a>:</h4>
<p>Would anyone care to break the tie here? For more context, thinking about a walk as having a directionality shows up elsewhere, too, for instance "until" and "from" in these functions:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">take_until</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">G.walk</span> <span class="n">v</span> <span class="n">w</span><span class="o">)</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">∈</span> <span class="n">p.support</span><span class="o">),</span> <span class="n">G.walk</span> <span class="n">v</span> <span class="n">u</span>

<span class="kd">def</span> <span class="n">take_from</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">{</span><span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">G.walk</span> <span class="n">v</span> <span class="n">w</span><span class="o">)</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">V</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">∈</span> <span class="n">p.support</span><span class="o">),</span> <span class="n">G.walk</span> <span class="n">u</span> <span class="n">w</span>

<span class="kd">lemma</span> <span class="n">take_spec</span> <span class="o">{</span><span class="n">u</span> <span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">V</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">G.walk</span> <span class="n">v</span> <span class="n">w</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">∈</span> <span class="n">p.support</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">p.take_until</span> <span class="n">u</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">append</span> <span class="o">(</span><span class="n">p.take_from</span> <span class="n">u</span> <span class="n">h</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span>
</code></pre></div>



<a name="266012748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266012748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266012748">(Dec 24 2021 at 16:45)</a>:</h4>
<p>I'd call take_from drop_until</p>



<a name="266012816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266012816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266012816">(Dec 24 2021 at 16:47)</a>:</h4>
<p>And remove the hypothesis requirement from the definition. For example, for drop_until, I'd make it a walk of just the last vertex if the vertex in question isn't in the walk</p>



<a name="266014926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266014926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266014926">(Dec 24 2021 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> Thanks for that naming suggestion; that makes it all more <code>list</code>-like.</p>
<p>I tried removing the <code>support</code> hypothesis, but it seems to be necessary to be able to get the start/end vertices correct for the resulting <code>walk</code>. Here's where it's living right now if you wanted to take a look: <a href="https://github.com/leanprover-community/mathlib/blob/fbe9e61cb68db740698bd4b8c706a57e5d8dca6f/src/combinatorics/simple_graph/connectivity.lean#L507">https://github.com/leanprover-community/mathlib/blob/fbe9e61cb68db740698bd4b8c706a57e5d8dca6f/src/combinatorics/simple_graph/connectivity.lean#L507</a></p>



<a name="266015118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310981%20walks%2C%20trails%2C%20paths/near/266015118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310981.20walks.2C.20trails.2C.20paths.html#266015118">(Dec 24 2021 at 17:39)</a>:</h4>
<p>Cool, I'll take a look, but probably only in a couple of days. I see what the problem with my definition was, if the vertex isn't in the walk, you can't make the type.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>