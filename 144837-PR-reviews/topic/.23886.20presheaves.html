---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.23886.20presheaves.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html">#886 presheaves</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="162779596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162779596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162779596">(Apr 08 2019 at 00:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>, any thoughts on the presheaf PR? If you don't like the direction it's going, it would be good to hear, as I'm hoping to add a more stuff building on it (in other PRs), hoping the convince the perfectoid-ists to use some category theory. :-)</p>



<a name="162779616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162779616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162779616">(Apr 08 2019 at 00:17)</a>:</h4>
<p>Also, perhaps independently on how we eventually do presheaves on spaces and bundled presheaves on spaces, there's the question of where these files go. In the current PR they are in <code>category_theory</code>, which is clearly wrong. Shall we finally open the <code>algebraic_geometry</code> directory? :-)</p>



<a name="162780790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780790">(Apr 08 2019 at 00:48)</a>:</h4>
<p>It's looking pretty good to me.</p>



<a name="162780809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780809">(Apr 08 2019 at 00:49)</a>:</h4>
<p>I still wonder whether it might make things easier to axiomatize the structure of the assignment <code>opens</code></p>



<a name="162780864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780864">(Apr 08 2019 at 00:50)</a>:</h4>
<p>Great, good to hear. I think I'd like to slice it into some smaller files --- a first file for unbundled presheaves on spaces, and then a second file for the bundled version. Shall I do this on this PR still?</p>



<a name="162780880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780880">(Apr 08 2019 at 00:51)</a>:</h4>
<p>You mean do sites already?</p>



<a name="162780883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780883">(Apr 08 2019 at 00:51)</a>:</h4>
<p>Pseudofunctor from <code>Top</code> to "categories" (unboxed)</p>



<a name="162780884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780884">(Apr 08 2019 at 00:51)</a>:</h4>
<p>oh, I see</p>



<a name="162780935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780935">(Apr 08 2019 at 00:52)</a>:</h4>
<p>I've been terrified of opening the pseudofunctor can of worms.</p>



<a name="162780937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780937">(Apr 08 2019 at 00:52)</a>:</h4>
<p>I predict it will either make things easier or harder :)</p>



<a name="162780938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780938">(Apr 08 2019 at 00:52)</a>:</h4>
<p>:-)</p>



<a name="162780943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780943">(Apr 08 2019 at 00:52)</a>:</h4>
<p>I agree that it is unlikely to make things stay the same.</p>



<a name="162780945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780945">(Apr 08 2019 at 00:52)</a>:</h4>
<p>It would be lovely if it got easier. :-)</p>



<a name="162780946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780946">(Apr 08 2019 at 00:52)</a>:</h4>
<p>You basically defined most of the structure in the PR already, I think</p>



<a name="162780965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162780965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162780965">(Apr 08 2019 at 00:53)</a>:</h4>
<p>but I don't know whether you're relying on the coherence conditions being satisfied definitionally</p>



<a name="162782481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782481">(Apr 08 2019 at 01:34)</a>:</h4>
<p>Yes, this is exactly where all my <code>simp, dsimp, simp, dsimp, simp, dammit, erw ...</code> pains come from.</p>



<a name="162782493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782493">(Apr 08 2019 at 01:35)</a>:</h4>
<p>I would really like <code>@[simp] lemma map_id_obj {X : Top.{u}} (U : opens X) : (map (ùüô X)).obj U = U := rfl</code></p>



<a name="162782496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782496">(Apr 08 2019 at 01:35)</a>:</h4>
<p>but that is just not true. If you <code>case</code> bash on <code>U</code>, it becomes true.</p>



<a name="162782541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782541">(Apr 08 2019 at 01:36)</a>:</h4>
<p>In a slightly different direction, I can define </p>
<div class="codehilite"><pre><span></span>def presheaf_of_functions_to (T : Top.{v}) : presheaf_on_space (Type v) X :=
(opens.as_Top X).op ‚ãô (yoneda.obj T)
</pre></div>


<p>which strikes me as very pleasant. (Here <code>def as_Top (X : Top.{u}): opens X ‚•§ Top := ...</code>.)</p>



<a name="162782601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782601">(Apr 08 2019 at 01:38)</a>:</h4>
<p>When I want to do presheaves of maps into a <code>TopCommRing</code>, however, I will need <br>
<code>def not_yoneda : TopCommRing ‚•§ (Top·µí·µñ ‚•§ TopCommRing)</code><br>
 What is the right level of abstraction for doing this?</p>



<a name="162782662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782662">(Apr 08 2019 at 01:40)</a>:</h4>
<p>or is that just nonsense?</p>



<a name="162782665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162782665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162782665">(Apr 08 2019 at 01:40)</a>:</h4>
<p>...</p>



<a name="162783099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162783099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162783099">(Apr 08 2019 at 01:53)</a>:</h4>
<p>I don't understand what the math is supposed to be there</p>



<a name="162783109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162783109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162783109">(Apr 08 2019 at 01:53)</a>:</h4>
<p>you have a target topological commutative ring, let's say R</p>



<a name="162783111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162783111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162783111">(Apr 08 2019 at 01:53)</a>:</h4>
<p>(the reals)</p>



<a name="162783161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162783161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162783161">(Apr 08 2019 at 01:54)</a>:</h4>
<p>then continuous maps from a topological space to R form a ring, but what topology do you want to give it?</p>



<a name="162785320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162785320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162785320">(Apr 08 2019 at 02:55)</a>:</h4>
<p>I guess I had in mind the compact-open, but probably it is unnecessary to even think about the topology.</p>



<a name="162785326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23886%20presheaves/near/162785326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.23886.20presheaves.html#162785326">(Apr 08 2019 at 02:55)</a>:</h4>
<p>I just want <code>def not_yoneda : TopCommRing ‚•§ (Top·µí·µñ ‚•§ CommRing)</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>