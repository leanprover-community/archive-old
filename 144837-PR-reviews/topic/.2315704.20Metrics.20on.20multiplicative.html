---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html">#15704 Metrics on multiplicative</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="291881651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291881651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291881651">(Aug 03 2022 at 17:09)</a>:</h4>
<p>This transfers metric instances across <code>additive</code>, <code>multiplicative</code> and <code>order_dual</code>. Any more thoughts?</p>



<a name="291884348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291884348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291884348">(Aug 03 2022 at 17:30)</a>:</h4>
<p>This is stopping me from defining all the new kinds of normed groups (<a href="https://github.com/leanprover-community/mathlib/pull/15705">#15705</a>).</p>



<a name="291913340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291913340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291913340">(Aug 03 2022 at 20:08)</a>:</h4>
<p>I forgot about that one because it didn't previously pass CI</p>



<a name="291913414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291913414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291913414">(Aug 03 2022 at 20:09)</a>:</h4>
<p>Stating lemmas like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">nndist_to_mul</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">nndist</span> <span class="o">(</span><span class="n">to_mul</span> <span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">to_mul</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">nndist</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">nndist_to_add</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span> <span class="n">nndist</span> <span class="o">(</span><span class="n">to_add</span> <span class="n">a</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">to_add</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">nndist</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>
<p>which force the reader to "play elaborator" to work out the types of <code>a</code> and <code>b</code> make me sort of uneasy.</p>



<a name="291913444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291913444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291913444">(Aug 03 2022 at 20:09)</a>:</h4>
<p>But the substance of the PR is great.</p>



<a name="291914359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291914359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291914359">(Aug 03 2022 at 20:17)</a>:</h4>
<p>Yeah it's to avoid writing down the way too long <code>multiplicative X</code>.</p>



<a name="291914385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291914385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291914385">(Aug 03 2022 at 20:18)</a>:</h4>
<p>Last time this happened, the fix was to introduce notation for <a href="https://leanprover-community.github.io/mathlib_docs/find/order_dual">docs#order_dual</a>.</p>



<a name="291917482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291917482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291917482">(Aug 03 2022 at 20:43)</a>:</h4>
<p><del><code>mulify</code> and <code>addify</code> would be much shorter names</del></p>



<a name="291917688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2315704%20Metrics%20on%20multiplicative/near/291917688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2315704.20Metrics.20on.20multiplicative.html#291917688">(Aug 03 2022 at 20:45)</a>:</h4>
<p><code>mulify</code> and <code>addify</code> would be much shoter names!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>