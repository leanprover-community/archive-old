---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.238190.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html">#8190</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244860138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244860138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244860138">(Jul 04 2021 at 13:42)</a>:</h4>
<p>I don't quite understand why the linter reports some lemma in PR <a href="https://github.com/leanprover-community/mathlib/issues/8190">#8190</a> should be defs not lemmas?<br>
Is that because the pointed lemmas by the linter are not proving a proposition?</p>



<a name="244860150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244860150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244860150">(Jul 04 2021 at 13:43)</a>:</h4>
<p>The main idea is that <a href="https://leanprover-community.github.io/mathlib_docs/find/invertible">docs#invertible</a> is data (as it contains <del>the element that is invertible in it</del> the inverse of a) as opposed to a <code>Prop</code>, and anything with data shouldn't be a lemma (there's some form of erasing that happens if so)</p>



<a name="244860358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244860358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244860358">(Jul 04 2021 at 13:49)</a>:</h4>
<p>Do you have examples of lemma where you would rather use the TC to infer <code>[invertible A]</code> as opposed to using <code>is_unit A</code>?</p>



<a name="244860703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244860703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244860703">(Jul 04 2021 at 13:58)</a>:</h4>
<p>Hi, Yakov. What do you mean by "TC"?</p>



<a name="244860792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244860792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244860792">(Jul 04 2021 at 14:00)</a>:</h4>
<p>that stands for typeclass, or possibly typeclass inference</p>



<a name="244907587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244907587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244907587">(Jul 05 2021 at 08:25)</a>:</h4>
<p>Should I add <code>norm</code> in line 383 before <code>lemma inv_eq_nonsing_inv_of_invertible</code>?</p>



<a name="244914553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244914553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244914553">(Jul 05 2021 at 09:40)</a>:</h4>
<p>I've never seen <code>@[norm]</code> before - where did you see it used?</p>



<a name="244915795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244915795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244915795">(Jul 05 2021 at 09:55)</a>:</h4>
<p>Eric, I have never seen it in mathlib neither. I  have only seen <code>norm : simplified attribute</code> in lean. I added it as I saw "The <code>simp</code> normal form tries to normalize <code>⅟a</code> to <code>a ⁻¹</code>. Otherwise, it pushes <code>⅟</code> inside the expression as much as possible" in invertible.lean, which makes me think <code>a ⁻¹</code> is a normalized form of <code>⅟a</code>.<br>
Perhaps just delete it for safety.</p>



<a name="244916000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244916000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244916000">(Jul 05 2021 at 09:57)</a>:</h4>
<blockquote>
<p>I have only seen norm : simplified attribute in lean</p>
</blockquote>
<p>Can you elaborate on precisely where you saw that?</p>



<a name="244916869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244916869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244916869">(Jul 05 2021 at 10:06)</a>:</h4>
<p>I saw it in <code>#print attributes</code></p>



<a name="244924838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244924838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244924838">(Jul 05 2021 at 11:34)</a>:</h4>
<p>I assume <a href="https://leanprover-community.github.io/mathlib_docs/attributes.html#norm">attr#norm</a> goes nowhere</p>



<a name="244925608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244925608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244925608">(Jul 05 2021 at 11:42)</a>:</h4>
<p>the only place I can find it referenced (in mathlib) is at line 106 in the <code>simps</code> test file</p>



<a name="244926231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244926231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244926231">(Jul 05 2021 at 11:50)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/library/init/meta/simp_tactic.lean#L598">https://github.com/leanprover-community/lean/blob/65ad4ffdb3abac75be748554e3cbe990fb1c6500/library/init/meta/simp_tactic.lean#L598</a></p>



<a name="244926240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244926240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244926240">(Jul 05 2021 at 11:50)</a>:</h4>
<p>this seems to be where it's defined</p>



<a name="244941129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244941129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244941129">(Jul 05 2021 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>  Are you working on a new PR to replace this PR? If so, I think I am not to spend more time on this one. If not, I will finish the work left for this one. Please let me know.</p>



<a name="244942050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244942050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244942050">(Jul 05 2021 at 14:23)</a>:</h4>
<p>I just opened <a href="https://github.com/leanprover-community/mathlib/issues/8201">#8201</a>. I wasn't intending to replace your PR, just to rework the existing proofs that are already in master. If your PR has new lemmas, they are probably still worth having once 8201 has gone in</p>



<a name="244943508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244943508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244943508">(Jul 05 2021 at 14:35)</a>:</h4>
<p>Yes, my PR does have new lemmas. I used some lemmas that may seem unhelpful to you is for proving new lemmas.  As you have added new things in <a href="https://github.com/leanprover-community/mathlib/issues/8201">#8201</a>, the proofs may be able to be further improved.</p>



<a name="244946801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244946801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Zhang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244946801">(Jul 05 2021 at 15:06)</a>:</h4>
<p>How can I update the lib for <a href="https://github.com/leanprover-community/mathlib/issues/8190">#8190</a> after <a href="https://github.com/leanprover-community/mathlib/issues/8201">#8201</a> has been merged?</p>



<a name="244949068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244949068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244949068">(Jul 05 2021 at 15:28)</a>:</h4>
<p>You can run <code>git pull origin master</code>, and then you'll need to solve the conflicts, assuming there are any</p>



<a name="244949136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%238190/near/244949136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.238190.html#244949136">(Jul 05 2021 at 15:29)</a>:</h4>
<p>If you don't want to wait for the merge (it will probably be two hours or so), you can run <code>git pull origin eric-wieser/tidy-nonsingular-inverse</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>