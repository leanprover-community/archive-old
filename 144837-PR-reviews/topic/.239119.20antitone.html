---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.239119.20antitone.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html">#9119 antitone</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252785610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/252785610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#252785610">(Sep 10 2021 at 13:22)</a>:</h4>
<p>Does anyone have any comment besides Sébastien wanting me to rename a few <code>antimono</code> to <code>antitone</code>?</p>



<a name="252886767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/252886767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#252886767">(Sep 11 2021 at 06:21)</a>:</h4>
<p>I left some comments.</p>



<a name="254690704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254690704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254690704">(Sep 24 2021 at 11:48)</a>:</h4>
<p>Would anyone mind skimming through it? I can merge it already, but given that I've changed quite a lot of things since the delegation, I think it's fair game if at least someone approves what I've done since.</p>



<a name="254691792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254691792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254691792">(Sep 24 2021 at 11:58)</a>:</h4>
<p>Gosh, that PR is huge</p>



<a name="254692001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692001">(Sep 24 2021 at 12:00)</a>:</h4>
<p>I'd almost be tempted to split out a smaller PR that only renames the existing defs without adding any of the new ones (assuming it's as easy as doing a find and replace) to cut down the number of afflicted files a little.</p>



<a name="254692134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692134">(Sep 24 2021 at 12:00)</a>:</h4>
<p>Wow! Yes it is. I kept accumulating changes without really looking at the counter.</p>



<a name="254692296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692296">(Sep 24 2021 at 12:02)</a>:</h4>
<p>I can do that if you insist. But also everything compiles now.</p>



<a name="254692526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692526">(Sep 24 2021 at 12:04)</a>:</h4>
<p>I'll let other maintainers decide, but I think 15 minutes of making a bulk find-and replace PR could cut the size of that PR in half</p>



<a name="254692542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692542">(Sep 24 2021 at 12:04)</a>:</h4>
<p>Which would also make it more obvious what the impacts of your typeclass generalizations are in the second half.</p>



<a name="254692592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692592">(Sep 24 2021 at 12:05)</a>:</h4>
<p>There aren't any anymore. I reverted that because of the unification issues.</p>



<a name="254692648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692648">(Sep 24 2021 at 12:05)</a>:</h4>
<p>I still see changes that are workarounds for unification issues</p>



<a name="254692659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692659">(Sep 24 2021 at 12:05)</a>:</h4>
<p>Even if they're maybe not needed</p>



<a name="254692668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692668">(Sep 24 2021 at 12:05)</a>:</h4>
<p>Whoops, those are vestigial.</p>



<a name="254692687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692687">(Sep 24 2021 at 12:06)</a>:</h4>
<p>The vestigial bits will be easier to spot when it's smaller :)</p>



<a name="254692757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692757">(Sep 24 2021 at 12:06)</a>:</h4>
<p>Note however that I promoted <code>has_lt</code> to <code>preorder</code> in the existing <code>strict_</code> definitions for uniformity.</p>



<a name="254692768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692768">(Sep 24 2021 at 12:06)</a>:</h4>
<p><code>antimono</code> -&gt; <code>antitone</code>, <code>monotonic</code> -&gt; <code>monotone</code>, <code>strict_mono_incr_on</code> -&gt; <code>strict_mono_on</code>, <code>strict_mono_decr_on</code> -&gt; <code>strict_anti_on</code> should  probably be enough as a find and replace (or whatever your actual names were)</p>



<a name="254692779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692779">(Sep 24 2021 at 12:06)</a>:</h4>
<p>As expected, it didn't have any impact besides <code>order.basic</code>.</p>



<a name="254692870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254692870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254692870">(Sep 24 2021 at 12:07)</a>:</h4>
<p>/me renames it all in a new PR</p>



<a name="254701639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254701639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254701639">(Sep 24 2021 at 13:16)</a>:</h4>
<p>51 files <span aria-label="scream" class="emoji emoji-1f631" role="img" title="scream">:scream:</span></p>



<a name="254702262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254702262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254702262">(Sep 24 2021 at 13:20)</a>:</h4>
<p>The rename, that is?</p>



<a name="254723936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254723936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254723936">(Sep 24 2021 at 15:37)</a>:</h4>
<p>I didn't understand the status here. Do you want us to have a last look and merge <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a>, or are you splitting it? (I'd be perfectly fine with having a last look and merging, since several people have already looked closely, and in any case remaining issues can be fixed when they show up).</p>



<a name="254725127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254725127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254725127">(Sep 24 2021 at 15:44)</a>:</h4>
<p>Well I've started splitting off it a renaming PR. But you can go ahead and merge it if Eric agrees with that.</p>



<a name="254739019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254739019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254739019">(Sep 24 2021 at 17:12)</a>:</h4>
<p>I thought splitting off the renaming PR would be a 5-15 minute job; is there a reason it's not?</p>



<a name="254759255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254759255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254759255">(Sep 24 2021 at 19:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/254739019">said</a>:</p>
<blockquote>
<p>I thought splitting off the renaming PR would be a 5-15 minute job; is there a reason it's not?</p>
</blockquote>
<p>Yes. Reason is I am greedy.</p>



<a name="254759539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254759539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254759539">(Sep 24 2021 at 19:31)</a>:</h4>
<p>More seriously, some renames were adding dot notation, so this takes a bit more care.</p>



<a name="254815070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254815070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254815070">(Sep 25 2021 at 06:48)</a>:</h4>
<p>Here you go, <span class="user-mention" data-user-id="310045">@Eric Wieser</span>! <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a></p>



<a name="254818414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254818414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254818414">(Sep 25 2021 at 07:45)</a>:</h4>
<p>The problem with making <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a> contain renames + changes to use dot notation is that I can no longer just take a quick glance and say "yes, this performs the find and replace I expect it to". As soon as you start using judgment on a per-lemma rename (should this be dot notation? Should this be <code>_on</code>?),  the reviewer has to start using it too.</p>



<a name="254945463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254945463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254945463">(Sep 26 2021 at 16:59)</a>:</h4>
<p>Could this one go through?</p>



<a name="254945718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/254945718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#254945718">(Sep 26 2021 at 17:02)</a>:</h4>
<p>I can take a look on Monday</p>



<a name="255011873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255011873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255011873">(Sep 27 2021 at 08:30)</a>:</h4>
<p>Looks like that was too late to avoid merge conflicts, there are lots of refactors in flight right now! I created <a href="https://github.com/leanprover-community/mathlib/issues/9400">#9400</a> and <a href="https://github.com/leanprover-community/mathlib/issues/9401">#9401</a> which are conflict-free, and contain nothing more than the result of a find-and-replace.</p>



<a name="255020071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255020071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255020071">(Sep 27 2021 at 09:42)</a>:</h4>
<p>(ideally we'd put both PRs in the same batch to avoid two long bors runs)</p>



<a name="255027437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255027437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255027437">(Sep 27 2021 at 10:51)</a>:</h4>
<p>Thanks for doing those "basic" refactors.</p>



<a name="255028263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255028263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255028263">(Sep 27 2021 at 10:58)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Is there a central point where you post the progress of your convexity refactor? I think it would make sense to start a dedicated thread in this stream, so that we can quickly find it again. Another option might be some github project/issue that tracks which PRs are up next.</p>



<a name="255028320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255028320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255028320">(Sep 27 2021 at 10:59)</a>:</h4>
<p>Is <code>antitone</code> part of this refactor?</p>



<a name="255028801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255028801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255028801">(Sep 27 2021 at 11:02)</a>:</h4>
<p>It is certainly very closely related. In my mind it was part of this project, yes</p>



<a name="255028851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255028851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255028851">(Sep 27 2021 at 11:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/255027437">said</a>:</p>
<blockquote>
<p>Thanks for doing those "basic" refactors.</p>
</blockquote>
<p>The build <a href="https://github.com/leanprover-community/mathlib/runs/3719143987?check_suite_focus=true">seems happy on these so far</a>.</p>
<p>Surprisingly, by line count these together represent only slightly more than half of <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a>; I guess the other half is lots of lemma renames to exploit dot notation.</p>



<a name="255028994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255028994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255028994">(Sep 27 2021 at 11:04)</a>:</h4>
<p>Either that or I screwed up my regex and missed a bunch. Once bors is done, I'll fix the conflicts and I guess we'll find out</p>



<a name="255034639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255034639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255034639">(Sep 27 2021 at 11:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/255028320">said</a>:</p>
<blockquote>
<p>Is <code>antitone</code> part of this refactor?</p>
</blockquote>
<p>No it's not. Kevin wanted antitone functions. That's it. It's merely adjacent because of files that use both.</p>



<a name="255034711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255034711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255034711">(Sep 27 2021 at 11:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/255028263">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> Is there a central point where you post the progress of your convexity refactor?</p>
</blockquote>
<p>Do you mean <a href="#narrow/stream/113488-general/topic/Convexity.20refactor">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Convexity.20refactor</a>? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="255037085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255037085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255037085">(Sep 27 2021 at 12:12)</a>:</h4>
<p>Yup, thanks!</p>



<a name="255045231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045231">(Sep 27 2021 at 13:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/255028994">said</a>:</p>
<blockquote>
<p>Either that or I screwed up my regex and missed a bunch. Once bors is done, I'll fix the conflicts and I guess we'll find out</p>
</blockquote>
<p>I found another 100 lines in <a href="https://github.com/leanprover-community/mathlib/issues/9408">#9408</a>, all docstrings</p>



<a name="255045528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045528">(Sep 27 2021 at 13:15)</a>:</h4>
<p>Isn't that the rest of <a href="https://leanprover-community.github.io/mathlib_docs/find/rename_mono">docs#rename_mono</a>?</p>



<a name="255045594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045594">(Sep 27 2021 at 13:15)</a>:</h4>
<p>Nope, there's also a lot of dot notation renames</p>



<a name="255045612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045612">(Sep 27 2021 at 13:15)</a>:</h4>
<p>Many of which maybe don't make sense outside of <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a> anyway</p>



<a name="255045884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045884">(Sep 27 2021 at 13:17)</a>:</h4>
<p>Argh, then that's cherry-picking a cherry pick of a cherry pick <span aria-label="scream" class="emoji emoji-1f631" role="img" title="scream">:scream:</span></p>



<a name="255045969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255045969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255045969">(Sep 27 2021 at 13:18)</a>:</h4>
<p>Don't worry, the git merge will sort it out automatically</p>



<a name="255046203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255046203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255046203">(Sep 27 2021 at 13:19)</a>:</h4>
<p>(I've solve the conflicts in <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a> already)</p>



<a name="255088310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088310">(Sep 27 2021 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.239119.20antitone/near/255045231">said</a>:</p>
<blockquote>
<p>I found another 100 lines in <a href="https://github.com/leanprover-community/mathlib/issues/9408">#9408</a>, all docstrings</p>
</blockquote>
<p>I put this on the queue about 90 minutes ago but bors failed to build it because of a malformed comment. I've fixed that but having been burned once, I'm inclined to wait till it builds successfully before placing it back in the queue.</p>



<a name="255088628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088628">(Sep 27 2021 at 17:38)</a>:</h4>
<p>Whoops, a bad merge on my part</p>



<a name="255088723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088723">(Sep 27 2021 at 17:39)</a>:</h4>
<p>Should we hit cancel here: <a href="https://github.com/leanprover-community/mathlib/runs/3723291934">https://github.com/leanprover-community/mathlib/runs/3723291934</a> ?</p>



<a name="255088891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088891">(Sep 27 2021 at 17:40)</a>:</h4>
<p>IIUC, bors is continuing to retrying building even though it knows the job is cancelled.</p>



<a name="255088918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088918">(Sep 27 2021 at 17:40)</a>:</h4>
<p>Bors won't reattempt a cancelled pr</p>



<a name="255088972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088972">(Sep 27 2021 at 17:41)</a>:</h4>
<p>Right, but it hasn't stopped the build it had started before it was cancelled.</p>



<a name="255088983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255088983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255088983">(Sep 27 2021 at 17:41)</a>:</h4>
<p>Although something odd does seem to have happened there</p>



<a name="255089017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255089017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255089017">(Sep 27 2021 at 17:41)</a>:</h4>
<p>Try a bors r-?</p>



<a name="255095843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255095843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255095843">(Sep 27 2021 at 18:21)</a>:</h4>
<p>Yeah, the <code>staging</code> build isn't smart enough to cancel itself if <code>bors</code> has been canceled. It can save some time if we cancel it manually, though usually we don't bother and the build eventually fails on its own.</p>



<a name="255096113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255096113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255096113">(Sep 27 2021 at 18:23)</a>:</h4>
<p>Thanks for the explanation. I did just cancel it manually in the end to save an estimated 40 minutes!</p>



<a name="255205146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255205146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255205146">(Sep 28 2021 at 12:07)</a>:</h4>
<p>I tried to merge <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a> into <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a>, but it seems that it contained changes not present in the original branch! So instead, I just resolved the conflicts that <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a> had with master</p>



<a name="255205344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255205344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255205344">(Sep 28 2021 at 12:09)</a>:</h4>
<p>Whoops! My bad.</p>



<a name="255205465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255205465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255205465">(Sep 28 2021 at 12:10)</a>:</h4>
<p>I think probably the thing to do is merge what remains of <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a> back into <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a> and then close 9383.</p>



<a name="255205650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255205650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255205650">(Sep 28 2021 at 12:12)</a>:</h4>
<p>Although it might be best to get 9119 passing CI again first, since I probably screwed up my merge slightly</p>



<a name="255205698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255205698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255205698">(Sep 28 2021 at 12:12)</a>:</h4>
<p>What about merging <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a> first?</p>



<a name="255247812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255247812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255247812">(Sep 28 2021 at 16:38)</a>:</h4>
<p>Looking at what's left in it, about half is renaming things to enable dot notation on types that don't exist yet until <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a></p>



<a name="255247979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255247979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255247979">(Sep 28 2021 at 16:39)</a>:</h4>
<p>Which makes more sense to review alongside everything else I would guess</p>



<a name="255248145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255248145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255248145">(Sep 28 2021 at 16:40)</a>:</h4>
<p>The "Everything else" currently sits at +812 -523, which is a lot better <a href="https://github.com/leanprover-community/mathlib/compare/aa5706f9a83ac8e9be5c09151bfc6f7f3b6d5240..a9cd8c259d59b0bdbe931a6f8e6084f800bd7162">than the +11xx, -7xx it was before</a>!</p>



<a name="255248331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255248331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255248331">(Sep 28 2021 at 16:41)</a>:</h4>
<p>Indeed!</p>



<a name="255536792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255536792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255536792">(Sep 30 2021 at 08:36)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span>, <span class="user-mention" data-user-id="112680">@Johan Commelin</span>  just bors'd <a href="https://github.com/leanprover-community/mathlib/issues/9383">#9383</a>. It's not actually started building yet - would you rather let it go through, or cancel it to prevent conflicts appearing in <a href="https://github.com/leanprover-community/mathlib/issues/9119">#9119</a>?</p>



<a name="255536869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255536869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255536869">(Sep 30 2021 at 08:37)</a>:</h4>
<p>I think it's fine. The conflicts won't be terrible.</p>



<a name="255560945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255560945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255560945">(Sep 30 2021 at 12:05)</a>:</h4>
<p>Any last comments before I merge master and kick this one on the queue?</p>



<a name="255561303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255561303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255561303">(Sep 30 2021 at 12:08)</a>:</h4>
<p>Go ahead! And after that</p>
<blockquote>
<p>Now, monotone stuff can easily be singled out to go in a new file order.monotone if wanted. It represents 587 out of the 965 lines.</p>
</blockquote>
<p>seems like a good idea.</p>



<a name="255561834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255561834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255561834">(Sep 30 2021 at 12:12)</a>:</h4>
<p>Okay great!</p>



<a name="255561923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239119%20antitone/near/255561923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239119.20antitone.html#255561923">(Sep 30 2021 at 12:13)</a>:</h4>
<p>I will have created 5 new files in a week just by splitting <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>