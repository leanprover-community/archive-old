---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.237525.20and.20.238186.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html">#7525 and #8186</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="244939030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244939030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244939030">(Jul 05 2021 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> I think it makes sense to bring the discussion about ext functors to zulip.</p>



<a name="244939312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244939312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244939312">(Jul 05 2021 at 14:00)</a>:</h4>
<p>Aside: Concerning Bhavik's comment on <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a>, I'm separating the stuff about opposites and linear yoneda right now.</p>



<a name="244939504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244939504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244939504">(Jul 05 2021 at 14:01)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7525">#7525</a> looks to me like it has an error in the definition of Ext (coming from confusing C -&gt; D^op and C^op -&gt; D), and <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a> fixes it.</p>



<a name="244939509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244939509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244939509">(Jul 05 2021 at 14:02)</a>:</h4>
<p>Yeah, I think that's a good move anyways.</p>



<a name="244942152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244942152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244942152">(Jul 05 2021 at 14:24)</a>:</h4>
<p>Okay, <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a> has been split up (and I accounted for Kevin's comments in the other PRs as well). </p>
<ul>
<li><a href="https://github.com/leanprover-community/mathlib/issues/8199">#8199</a> Linear Yoneda</li>
<li><a href="https://github.com/leanprover-community/mathlib/issues/8202">#8202</a> Opposite stuff</li>
</ul>



<a name="244942362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244942362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244942362">(Jul 05 2021 at 14:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/144837-PR-reviews/topic/.237525.20and.20.238186/near/244939504">said</a>:</p>
<blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7525">#7525</a> looks to me like it has an error in the definition of Ext (coming from confusing C -&gt; D^op and C^op -&gt; D), and <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a> fixes it.</p>
</blockquote>
<p>I think the <code>[enough_projectives Cᵒᵖ]</code> is a pretty good hint that there is an issue with the definition from <a href="https://github.com/leanprover-community/mathlib/issues/7525">#7525</a></p>



<a name="244943157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244943157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244943157">(Jul 05 2021 at 14:32)</a>:</h4>
<p>You can define Ext by deriving in either variable so <code>[enough_projectives Cᵒᵖ]</code> is going to be a sufficient assumption</p>



<a name="244943249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244943249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244943249">(Jul 05 2021 at 14:33)</a>:</h4>
<p>But with <code>[enough_projectives Cᵒᵖ]</code> AKA a nonexistent <code>[enough_injectives C]</code> you would have to right derive the <code>Y</code> in <code>Hom(X,Y)</code>.</p>



<a name="244957277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244957277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244957277">(Jul 05 2021 at 17:01)</a>:</h4>
<p>I added a sanity check to <code>ext.lean</code> in <a href="https://github.com/leanprover-community/mathlib/issues/7525">#7525</a> showing that the definition is incorrect. This definition would say that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>x</mi><msup><mi>t</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Ext^{n+1}(X,Y) = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> whenever <code>X Y : C</code> with <code>X</code> an injective object (formulated in lean as saying that <code>X : C\op</code> is projective).</p>



<a name="244957374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244957374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244957374">(Jul 05 2021 at 17:02)</a>:</h4>
<p>I'll add an analogous sanity check to <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a></p>



<a name="244963276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244963276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244963276">(Jul 05 2021 at 18:25)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/e0207cfe0aeffa22761f8f62cbc3d4269cb1cbfb/src/category_theory/abelian/ext.lean#L65">https://github.com/leanprover-community/mathlib/blob/e0207cfe0aeffa22761f8f62cbc3d4269cb1cbfb/src/category_theory/abelian/ext.lean#L65</a></p>



<a name="244963342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244963342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244963342">(Jul 05 2021 at 18:26)</a>:</h4>
<p>I'm fairly confident now that <code>ext-fix</code> has the right definition.</p>



<a name="244964086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244964086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244964086">(Jul 05 2021 at 18:38)</a>:</h4>
<p>And I've now merged all the other changes into <a href="https://github.com/leanprover-community/mathlib/issues/8186">#8186</a> <br>
(The new CI runners are FAST!)</p>



<a name="244966781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/244966781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#244966781">(Jul 05 2021 at 19:17)</a>:</h4>
<p>I agree that this is a great test theorem :-)</p>



<a name="246300172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237525%20and%20%238186/near/246300172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237525.20and.20.238186.html#246300172">(Jul 17 2021 at 02:53)</a>:</h4>
<p>Thanks very much for catching and fixing this, <span class="user-mention" data-user-id="243562">@Adam Topaz</span>! I was 60km from the nearest internet during the time this discussion happened. :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>