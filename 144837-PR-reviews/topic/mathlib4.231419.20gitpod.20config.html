---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html">mathlib4#1419 gitpod config</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="320448757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320448757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320448757">(Jan 10 2023 at 13:21)</a>:</h4>
<p>Are we happy to merge this? It's a lot more pleasant than spinning up a clean gitpod install and having to install the Lean4 extension and elan manually.</p>



<a name="320479544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320479544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320479544">(Jan 10 2023 at 15:36)</a>:</h4>
<p>The new caching system makes it that I don't need gitpod as much as before (downloading times are much shorter), but yes I am happy for this to be merged.</p>



<a name="320488145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320488145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320488145">(Jan 10 2023 at 16:15)</a>:</h4>
<p>It's unfortunate that <code>lake exe cache</code> doesn't work on gitpod, but that is probably something we can fix later once we work out whether it's a <code>curl</code> issue or a <code>lake exe cache</code> issue.</p>



<a name="320504458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320504458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320504458">(Jan 10 2023 at 17:29)</a>:</h4>
<p>+1 this will also make it easier to debug the lake cache issue on gitpod</p>



<a name="320519187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519187">(Jan 10 2023 at 18:41)</a>:</h4>
<p>I have no idea what's wrong with curl on the default gitpod container.</p>



<a name="320519274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519274">(Jan 10 2023 at 18:41)</a>:</h4>
<p>Apparently it randomly saves empty files.</p>



<a name="320519295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519295">(Jan 10 2023 at 18:41)</a>:</h4>
<p>The curl log doesn't contain any errors as far as I can tell.</p>



<a name="320519343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519343">(Jan 10 2023 at 18:42)</a>:</h4>
<p>Using <code>--parallel-max 10</code> doesn't help either.</p>



<a name="320519453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519453">(Jan 10 2023 at 18:42)</a>:</h4>
<p>This is really random.  If you remove the empty files, then curl will manage to download some more files (and some more empty files).  If you repeat this a few times, you get all files.</p>



<a name="320519474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519474">(Jan 10 2023 at 18:42)</a>:</h4>
<p>And those can be unpacked fine..</p>



<a name="320519487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519487">(Jan 10 2023 at 18:43)</a>:</h4>
<p>Only fix is to disable <code>--parallel</code> completely.</p>



<a name="320519548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320519548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320519548">(Jan 10 2023 at 18:43)</a>:</h4>
<p>Or to upgrade the ubuntu version. <a href="https://github.com/leanprover-community/mathlib4/pull/1457">mathlib4#1457</a></p>



<a name="320520823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320520823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320520823">(Jan 10 2023 at 18:50)</a>:</h4>
<p>I can repro the empty files issue in a fresh ubuntu 20.04 container. Let's bump the minimum curl version.  <a href="https://github.com/leanprover-community/mathlib4/pull/1459">mathlib4#1459</a></p>



<a name="320788715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/mathlib4%231419%20gitpod%20config/near/320788715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/mathlib4.231419.20gitpod.20config.html#320788715">(Jan 11 2023 at 20:14)</a>:</h4>
<p>Gitpod works for me now.  Thank you, Arthur, Eric and Gabriel!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>