---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html">#11204 neg one pow</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266690774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266690774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266690774">(Jan 03 2022 at 14:22)</a>:</h4>
<p>Does anyone by chance know of a nice and short name for the function</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The map `ℤ → ℤ` sending $n$ to $(-1) ^ n$. -/</span>
<span class="kd">def</span> <span class="n">neg_one_pow</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_pow.pow</span> <span class="o">(</span><span class="n">units</span> <span class="n">ℤ</span><span class="o">)</span> <span class="n">ℤ</span> <span class="n">_</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">)</span> <span class="n">n</span>
</code></pre></div>



<a name="266690850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266690850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266690850">(Jan 03 2022 at 14:23)</a>:</h4>
<p><code>altern_sgn</code>? <code>alt_pow</code>? <code>alt_sgn</code>?</p>



<a name="266690864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266690864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266690864">(Jan 03 2022 at 14:23)</a>:</h4>
<p>The downside of <code>neg_one_pow</code> is that in names like <code>neg_one_pow_eq_neg_one_pow</code> it is hard to realise that the LHS of that name is a single atom.</p>



<a name="266691029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266691029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266691029">(Jan 03 2022 at 14:24)</a>:</h4>
<p><code>sgnpow</code>?</p>



<a name="266691081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266691081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266691081">(Jan 03 2022 at 14:24)</a>:</h4>
<p><code>negonepow</code>?</p>



<a name="266691898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266691898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266691898">(Jan 03 2022 at 14:31)</a>:</h4>
<p>I think <code>negonepow</code> might be better than <code>neg_one_pow</code>. Because it stresses that it's a new atom.</p>



<a name="266692014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692014">(Jan 03 2022 at 14:32)</a>:</h4>
<p>Here's another thought that just occured to me. We really are only interested in the <em>sign</em>. Not in the <code>(-1)^n</code> for its own sake.</p>



<a name="266692094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692094">(Jan 03 2022 at 14:33)</a>:</h4>
<p>So should we maybe have something like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The parity sign function -/</span>
<span class="kd">def</span> <span class="n">prtysgn</span> <span class="o">{</span><span class="n">R</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">R</span> <span class="o">:=</span>
<span class="k">if</span> <span class="n">even</span> <span class="n">n</span> <span class="k">then</span> <span class="n">r</span> <span class="k">else</span> <span class="bp">-</span><span class="n">r</span>
</code></pre></div>



<a name="266692252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692252">(Jan 03 2022 at 14:34)</a>:</h4>
<p>You don't even need <code>n : ℤ</code> anymore, by the way.</p>



<a name="266692278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692278">(Jan 03 2022 at 14:34)</a>:</h4>
<p>You mean <code>n</code> could be anything?</p>



<a name="266692290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692290">(Jan 03 2022 at 14:34)</a>:</h4>
<p>As long as <code>even n</code> makes sense</p>



<a name="266692330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692330">(Jan 03 2022 at 14:34)</a>:</h4>
<p>Yeah, in a <code>semiring</code></p>



<a name="266692376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692376">(Jan 03 2022 at 14:35)</a>:</h4>
<p>So in particular we could reuse it for <code>ℕ</code></p>



<a name="266692408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692408">(Jan 03 2022 at 14:35)</a>:</h4>
<p>Yep, good point</p>



<a name="266692525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692525">(Jan 03 2022 at 14:36)</a>:</h4>
<p>Note that <code>prtysgn</code> is a horrible name. So the naming issue isn't solved that way.</p>



<a name="266692566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692566">(Jan 03 2022 at 14:36)</a>:</h4>
<p>Reminds me of the Coq naming convention <span aria-label="scream" class="emoji emoji-1f631" role="img" title="scream">:scream:</span></p>



<a name="266692575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692575">(Jan 03 2022 at 14:37)</a>:</h4>
<p>I think it would break some lemmas if the sum of two non-even things is not necessarily even.</p>



<a name="266692634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692634">(Jan 03 2022 at 14:37)</a>:</h4>
<p>Of course, that's the point of strengthening typeclasses when you need to. General definitions, not so general lemmas.</p>



<a name="266692774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692774">(Jan 03 2022 at 14:38)</a>:</h4>
<p>Actually, we have <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.even_add">docs#nat.even_add</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/int.even_add">docs#int.even_add</a> but not the result in a general semiring <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> It should be true though, because <code>2 * a + 2 * b = 2 * (a + b)</code>.</p>



<a name="266692799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692799">(Jan 03 2022 at 14:39)</a>:</h4>
<p>Is there a type class where every element is either even or odd?<br>
Or some subclass of such rings that contains both int and nat?</p>



<a name="266692978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266692978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266692978">(Jan 03 2022 at 14:40)</a>:</h4>
<p>I don't think so. So you will need to have basically each lemma in a version about <code>ℕ</code> and another about <code>ℤ</code>.</p>



<a name="266693118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266693118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266693118">(Jan 03 2022 at 14:41)</a>:</h4>
<p>Sounds like Yaël will be PRing <code>odd_or_even_class</code> later tonight <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="266693368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266693368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266693368">(Jan 03 2022 at 14:43)</a>:</h4>
<p>Weird that <code>even_add</code> is not done in general</p>



<a name="266693641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266693641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266693641">(Jan 03 2022 at 14:45)</a>:</h4>
<p>Anyway, I don't think there are many interesting rings where <code>odd_xor_even</code> holds. <code>ℕ</code> and <code>ℤ</code>. And then some number rings that are fully ramified at <code>2</code>. And of course <code>zmod 2</code> itself.</p>



<a name="266693730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266693730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266693730">(Jan 03 2022 at 14:46)</a>:</h4>
<p>But I guess <code>ℕ</code>, <code>ℤ</code> and <code>zmod 2</code> are all legit inputs to this function.</p>



<a name="266693810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266693810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266693810">(Jan 03 2022 at 14:47)</a>:</h4>
<p>Is there a particular case where we had to use nat and not int?<br>
Or there could be a simp lemma coercing stuff in nat into stuff in int and that might be enough.</p>



<a name="266694018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694018">(Jan 03 2022 at 14:49)</a>:</h4>
<p>Or you <code>coe</code> everything into <code>zmod 2</code>. For <code>zmod 2</code> all the proofs will be <code>rfl</code>.</p>



<a name="266694652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694652">(Jan 03 2022 at 14:55)</a>:</h4>
<p>Would introducing a notation fix the naming problem? Something like <code>₋₁ r</code> for example.</p>



<a name="266694708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694708">(Jan 03 2022 at 14:55)</a>:</h4>
<p>Ooh, that's a slick idea!</p>



<a name="266694725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694725">(Jan 03 2022 at 14:56)</a>:</h4>
<p>You still need the <code>n</code> though</p>



<a name="266694789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694789">(Jan 03 2022 at 14:56)</a>:</h4>
<p>But <code>₋₁^ n</code> could expand to <code>id</code> or <code>has_neg.neg</code> depending on the parity of <code>n</code>.</p>



<a name="266694857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266694857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266694857">(Jan 03 2022 at 14:57)</a>:</h4>
<p>On second thought, it doesn't completely fix the naming problem. You still need to what name to use in lemmas about this thing.</p>



<a name="266695082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266695082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266695082">(Jan 03 2022 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> pinging you, because you wanted to use something like this in flt-regular, I think.</p>



<a name="266697248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266697248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266697248">(Jan 03 2022 at 15:17)</a>:</h4>
<p>Yes, this is going to be useful, thanks.</p>



<a name="266697573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266697573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266697573">(Jan 03 2022 at 15:20)</a>:</h4>
<p>I'm not sure I yet understand the advantage of this definition vs having a short notation for <code>(-1 : units ℤ) ^ n</code></p>



<a name="266697647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266697647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266697647">(Jan 03 2022 at 15:21)</a>:</h4>
<p>One advantage is that <code>n</code> can have type <code>zmod 2</code>. I'm not sure how important that is.</p>



<a name="266697922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266697922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266697922">(Jan 03 2022 at 15:24)</a>:</h4>
<p>Would it make sense to have notation like <code>₋₁^ n * r</code>? Or maybe <code>₋₁^ n • r</code>?</p>



<a name="266700037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266700037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266700037">(Jan 03 2022 at 15:43)</a>:</h4>
<p>I'm still struggling to show that <code>decidable_pred (even : zmod n → Prop)</code> so that I could give the "coe everything into <code>zmod 2</code>" thing a try.<br>
Does anyone want to try to show that <code>example {n x : ℕ} : even (x : zmod n) ↔ odd n ∨ even x := sorry</code> or something similar? I don't really know my way around zmod.</p>



<a name="266700382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266700382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266700382">(Jan 03 2022 at 15:44)</a>:</h4>
<p>And I also still think that the original form would suffice, and writing it explicitly as an <code>smul</code> gives us quite a few simp lemmas for free.<br>
But I guess everything is worth a shot?</p>



<a name="266701210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266701210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266701210">(Jan 03 2022 at 15:50)</a>:</h4>
<p>I don't think a definition based on <code>even</code> and generalized to <code>semiring</code> is very good, then you end up with nonsense like <code>neg_one_pow (3 : ℚ) = 1</code>.</p>



<a name="266701873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266701873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266701873">(Jan 03 2022 at 15:56)</a>:</h4>
<p>Yeah, that's true.</p>



<a name="266702483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266702483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266702483">(Jan 03 2022 at 16:01)</a>:</h4>
<p>I'd also favor <code>₋₁^ n • r</code> over <code>₋₁^ n * r</code>, because then you get all the lemmas about scaling by a group element rather than having to deal with coercions</p>



<a name="266702590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266702590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266702590">(Jan 03 2022 at 16:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow/near/266697647">said</a>:</p>
<blockquote>
<p>One advantage is that <code>n</code> can have type <code>zmod 2</code>. I'm not sure how important that is.</p>
</blockquote>
<p>We could quite easily add a <code>has_pow (units ℤ) (zmod 2)</code> instance if that becomes useful</p>



<a name="266703757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266703757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266703757">(Jan 03 2022 at 16:12)</a>:</h4>
<p>I think I will keep the definition like this for now. The new definition seems to cause some timeouts in some stuff in LTE.<br>
Though it should be fixable, I'm not really convinced that this is worth the pain.</p>



<a name="266704559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266704559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266704559">(Jan 03 2022 at 16:19)</a>:</h4>
<p>As for the naming issue,</p>



<a name="266704561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266704561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266704561">(Jan 03 2022 at 16:20)</a>:</h4>
<p>/poll The name of the map <code>n ↦ (-1) ^ n</code><br>
neg_one_pow<br>
negonepow<br>
alt_pow<br>
alg_sgn<br>
sgnpow</p>



<a name="266705323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266705323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266705323">(Jan 03 2022 at 16:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow/near/266690864">said</a>:</p>
<blockquote>
<p>The downside of <code>neg_one_pow</code> is that in names like <code>neg_one_pow_eq_neg_one_pow</code> it is hard to realise that the LHS of that name is a single atom.</p>
</blockquote>
<p>While this is a downside, to me sticking to the conventions will make this way more discoverable.</p>



<a name="266705510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266705510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266705510">(Jan 03 2022 at 16:29)</a>:</h4>
<p>Also that lemma could just be named <code>neg_one_pow_apply</code> to fit with our naming conventions.</p>



<a name="266707034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266707034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266707034">(Jan 03 2022 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow/near/266693118">said</a>:</p>
<blockquote>
<p>Sounds like Yaël will be PRing <code>odd_or_even_class</code> later tonight <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>
</blockquote>
<p>What a mind-reader <span aria-label="smirk" class="emoji emoji-1f60f" role="img" title="smirk">:smirk:</span></p>



<a name="266707955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266707955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266707955">(Jan 03 2022 at 16:51)</a>:</h4>
<p>Is it <code>nonempty (R -&gt;+* zmod 2)</code>?</p>



<a name="266708088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266708088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266708088">(Jan 03 2022 at 16:52)</a>:</h4>
<p>No, because you can map everything to <code>0</code>, but that's uninteresting.</p>



<a name="266708237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266708237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266708237">(Jan 03 2022 at 16:53)</a>:</h4>
<p>I think it is since rings are unital in lean.</p>



<a name="266708504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266708504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266708504">(Jan 03 2022 at 16:56)</a>:</h4>
<p>Ah yes, <a href="https://leanprover-community.github.io/mathlib_docs/find/ring_hom.map_one'">docs#ring_hom.map_one'</a> forces it.</p>



<a name="266710105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710105">(Jan 03 2022 at 17:08)</a>:</h4>
<p>If I understand <span class="user-mention" data-user-id="310045">@Eric Wieser</span> correctly, then we shouldn't even have a new defn. But maybe notation <code>₋₁</code> for <code>-1 : units ℤ</code>. And then we can just write <code>₋₁ ^ n • r</code>, and continue life as usual.</p>



<a name="266710274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710274">(Jan 03 2022 at 17:09)</a>:</h4>
<p>On the other hand, I claim that <code>₋₁ ^ n • _</code> is just coincidentally doing the right thing in maths notation. But what we really care about is an alternating thingy (sum, series, sequence, whatever).</p>



<a name="266710387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710387">(Jan 03 2022 at 17:10)</a>:</h4>
<p>So I think I like the idea of having <code>alt n r</code>.</p>



<a name="266710431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710431">(Jan 03 2022 at 17:10)</a>:</h4>
<p>Note that we already have <a href="https://leanprover-community.github.io/mathlib_docs/find/list.alternating_sum">docs#list.alternating_sum</a></p>



<a name="266710440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710440">(Jan 03 2022 at 17:10)</a>:</h4>
<p>It would mesh well with how you want to name things.</p>



<a name="266710952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266710952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266710952">(Jan 03 2022 at 17:14)</a>:</h4>
<p>I find the <code> ₋₁ </code> weird looking, and worry it might do more harm than good for readability. I'd prefer if we had a nice notation for <code>units</code> to make this <code>(-1 : units ℤ)^n</code> look like <code>(-1 : ℤˣ)^n</code>.<br>
<code>alt</code> also sounds good to me</p>



<a name="266711263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266711263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266711263">(Jan 03 2022 at 17:17)</a>:</h4>
<p>Ohh, notation for <code>units</code> makes <em>a lot</em> of sense. Why have we never introduced that before <span aria-label="shock" class="emoji emoji-1f628" role="img" title="shock">:shock:</span> <span aria-label="distraught" class="emoji emoji-1f629" role="img" title="distraught">:distraught:</span> <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="266711357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266711357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266711357">(Jan 03 2022 at 17:17)</a>:</h4>
<p>I always thought people had decided not to for some reason <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="266711646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266711646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266711646">(Jan 03 2022 at 17:20)</a>:</h4>
<p>We have <code>\^0</code> for the non-zero-divisors submonoid, but that's localized I think</p>



<a name="266818208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266818208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266818208">(Jan 04 2022 at 15:03)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/11236">#11236</a> introduces <code>ˣ</code> as notation for <code>units</code>.</p>



<a name="266820191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/266820191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#266820191">(Jan 04 2022 at 15:19)</a>:</h4>
<p>Missing a docstring explaining the notation, but otherwise LGTM</p>



<a name="267045595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267045595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267045595">(Jan 06 2022 at 10:28)</a>:</h4>
<p>Now that we can write <code>(-1 : ℤˣ)^n</code>, does that mean there is less need for a dedicated function?</p>



<a name="267046090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046090">(Jan 06 2022 at 10:34)</a>:</h4>
<p>I think I still need to write <code>(↑((-1 : ℤˣ)^n) : ℤ)</code> to obtain what I want, which does not seem that ideal.</p>



<a name="267046225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046225">(Jan 06 2022 at 10:36)</a>:</h4>
<p>Can you elaborate why you would need that?</p>



<a name="267046245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046245">(Jan 06 2022 at 10:36)</a>:</h4>
<p>There is a scalar action of <code>ℤˣ</code> on almost every object you can think of.</p>



<a name="267046764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046764">(Jan 06 2022 at 10:42)</a>:</h4>
<p>But I think most of the simp lemmas are not stated in terms of  the action of <code>ℤˣ</code>?<br>
For example the lemmas for preadditive categories.<br>
An alternative is to restate those lemmas in terms of the action by <code>ℤˣ</code>, but I do not think the duplication is worth it.</p>



<a name="267046822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046822">(Jan 06 2022 at 10:43)</a>:</h4>
<p>Which simp lemmas are you thinking of?</p>



<a name="267046886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046886">(Jan 06 2022 at 10:44)</a>:</h4>
<p>mainly <code>map_zsmul</code>, <code>comp_zsmul</code>, <code>zsmul_comp</code>.</p>



<a name="267046921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046921">(Jan 06 2022 at 10:45)</a>:</h4>
<p>Ooh, I definitely think it makes sense to have copies of those lemmas for the action by <code>ℤˣ</code>.</p>



<a name="267046944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267046944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267046944">(Jan 06 2022 at 10:45)</a>:</h4>
<p><code>map_uzsmul</code>? Or is that name too horrible?</p>



<a name="267048791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267048791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267048791">(Jan 06 2022 at 11:05)</a>:</h4>
<p>To generalize it fully I would need to start from giving <code>has_pow G (units ℤ)</code> and some how making it correspond to <code>has_scalar G (units ℤ)</code> via <code>to_additive</code>. The stuff following is quite a size as well. <br>
This is not something that I know how to do off the bat, and unfortunately I don't really have time this week to dive into it :(.<br>
I'll come back to it next week if this is really the right way to go and no-one has started working on it.</p>



<a name="267051153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267051153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267051153">(Jan 06 2022 at 11:35)</a>:</h4>
<p>I would like to know what <span class="user-mention" data-user-id="310045">@Eric Wieser</span> thinks</p>



<a name="267059014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267059014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267059014">(Jan 06 2022 at 13:13)</a>:</h4>
<p>I assume you meant <code>has_scalar (units ℤ) G</code> not <code>has_scalar G (units ℤ)</code>?</p>



<a name="267059036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267059036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267059036">(Jan 06 2022 at 13:13)</a>:</h4>
<p>I think <code>has_pow G (units ℤ)</code> is a totally reasonable instance to exist</p>



<a name="267059108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267059108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267059108">(Jan 06 2022 at 13:14)</a>:</h4>
<p>(and so is <code>has_pow M (units nat)</code>, but that's not exactly useful!)</p>



<a name="267059164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267059164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267059164">(Jan 06 2022 at 13:14)</a>:</h4>
<p><code>map_uzsmul</code> as an extension of <a href="https://leanprover-community.github.io/mathlib_docs/find/map_zsmul">docs#map_zsmul</a> seems fine to me</p>



<a name="267059311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311204%20neg%20one%20pow/near/267059311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311204.20neg.20one.20pow.html#267059311">(Jan 06 2022 at 13:16)</a>:</h4>
<p>A more general lemma would be that additive maps preserve any action by X that factors through the Z action (<code>is_scalar_tower X Z A</code>), which is really just <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.map_smul_of_tower">docs#linear_map.map_smul_of_tower</a> but for add_monoid_hom; but that doesn't work for the multiplicative case</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>