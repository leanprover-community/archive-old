---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.234949.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html">#4949</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="216337309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216337309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216337309">(Nov 11 2020 at 12:09)</a>:</h4>
<p>It would be nice if people who worked with linear algebra bases in mathlib could contribute to the discussion in <a href="https://github.com/leanprover-community/mathlib/issues/4949">#4949</a>. Yury proposes something which feels suboptimal to me but I don't have a strong opinion here. <span class="user-mention" data-user-id="238446">@Anne Baanen</span> maybe?</p>



<a name="216337773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216337773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216337773">(Nov 11 2020 at 12:14)</a>:</h4>
<p>I'm not so enthousiastic about this change, because I don't have a bad experience with the described issue in <code>is_basis</code> or other data-implicit-proof-explicit definitions such as <code>minimal_polynomial</code>. At least, not bad enough to duplicate the naming system as in <a href="https://github.com/leanprover-community/mathlib/issues/4949">#4949</a>. Yury's idea that hidden proofs in the goal window should have their types shown instead, sounds like a nicer solution.</p>



<a name="216338467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216338467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216338467">(Nov 11 2020 at 12:22)</a>:</h4>
<p>I have been thinking that <code>minimal_polynomial</code> should be redefined as <code>if h : is_integral x then ... else 0</code>. But I don't have the time to do it.</p>



<a name="216338653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216338653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216338653">(Nov 11 2020 at 12:24)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/minimal_polynomial">docs#minimal_polynomial</a></p>



<a name="216339040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339040">(Nov 11 2020 at 12:28)</a>:</h4>
<p>I understand why Yury wants this change. I've been frustrated by the <code>_</code> as well in the past.<br>
<span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> how hard would it be to make the tactic state smarter, so that it doesn't show the <code>_</code> when it is "confusing"?</p>



<a name="216339093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339093">(Nov 11 2020 at 12:29)</a>:</h4>
<p>I don't yet know how to define "confusing". But at least <code>_.foo</code> seems evil. So dot notation on underscores should be avoided. (Not by stating it without dot notation, but by printing whatever the <code>_</code> represents.)</p>



<a name="216339104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339104">(Nov 11 2020 at 12:29)</a>:</h4>
<p>Maybe we should just remove the heuristic on the C++ side?  (This is a tiny change introduced in 2017.)</p>



<a name="216339208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339208">(Nov 11 2020 at 12:30)</a>:</h4>
<p>But I guess it was introduced for a reason?</p>



<a name="216339291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339291">(Nov 11 2020 at 12:31)</a>:</h4>
<p>Whether or not this is fixed in C++. Can we define <code>repr</code> using the <code>if .. then .. else ..</code> method? Or would this be too much of a refactor?</p>



<a name="216339818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339818">(Nov 11 2020 at 12:36)</a>:</h4>
<p>The reason was that I found <code>cast (... huge proof ...) (.. term you actually care about ...)</code> to be hard to read.</p>



<a name="216339983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216339983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216339983">(Nov 11 2020 at 12:37)</a>:</h4>
<p>This is the relevant commit: <a href="https://github.com/leanprover-community/lean/commit/9367e94900215281b2f9b8039400ee5866bee0ea">https://github.com/leanprover-community/lean/commit/9367e94900215281b2f9b8039400ee5866bee0ea</a></p>



<a name="216340045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216340045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216340045">(Nov 11 2020 at 12:38)</a>:</h4>
<p>Can we find a (smart) compromise?</p>



<a name="216340086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216340086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216340086">(Nov 11 2020 at 12:38)</a>:</h4>
<p>Say, if <code>(... huge proof ...)</code> pretty prints to less than 10 chars, then we keep it?</p>



<a name="216340168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216340168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216340168">(Nov 11 2020 at 12:39)</a>:</h4>
<p>That is the dumb compromise. A smart compromise might determine whether the <code>_</code> is "confusing".<br>
But as I said before, I don't know how to define "confusing".</p>



<a name="216340338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216340338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216340338">(Nov 11 2020 at 12:40)</a>:</h4>
<p>What's a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> of a proof using <a href="https://leanprover-community.github.io/mathlib_docs/find/is_basis.repr">docs#is_basis.repr</a> that is unpleasant to navigate?</p>



<a name="216340559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216340559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216340559">(Nov 11 2020 at 12:43)</a>:</h4>
<p>Yury gave a link in the PR, but that might not be mwe</p>



<a name="216343964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216343964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216343964">(Nov 11 2020 at 13:16)</a>:</h4>
<p>I'm going to revert most of <a href="https://github.com/leanprover-community/mathlib/issues/4949">#4949</a>, leaving only a couple of new lemmas.</p>



<a name="216344119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216344119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216344119">(Nov 11 2020 at 13:18)</a>:</h4>
<p>It would be nice to have some solution to the "<code>_</code> in the goal view" problem but it's not urgent.</p>



<a name="216345333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216345333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216345333">(Nov 11 2020 at 13:29)</a>:</h4>
<p>Does clicking the underscore to toggle its widget in vscode not help? That's how I've looked at what such proofs stand for</p>



<a name="216345769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216345769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216345769">(Nov 11 2020 at 13:33)</a>:</h4>
<p>I'm pretty sure Yury uses Emacs, which doesn't have widgets (yet?)</p>



<a name="216345930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216345930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216345930">(Nov 11 2020 at 13:34)</a>:</h4>
<p>Could we solve this with a special attribute that means "never show terms of this type as _?</p>



<a name="216346010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216346010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216346010">(Nov 11 2020 at 13:35)</a>:</h4>
<p>It would save us having to come up with a heuristic</p>



<a name="216346422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216346422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216346422">(Nov 11 2020 at 13:39)</a>:</h4>
<p>I think the problem is that the change to display proofs as <code>_</code> also removed the useful old behavior with <code>set_option pp.proofs false</code> of showing the type of the proof rather than the proof itself</p>



<a name="216346689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216346689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216346689">(Nov 11 2020 at 13:41)</a>:</h4>
<p>i.e. the generally useful behaviors are the current "display as <code>_</code>" and the old "display as <code>⌞true⌟</code>" and only rarely would you want to see the actual proof term</p>



<a name="216347715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216347715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216347715">(Nov 11 2020 at 13:49)</a>:</h4>
<p>Seems to me that while more verbose, <code>(_ : true)</code> would makes more sense than <code>⌞true⌟</code></p>



<a name="216347783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216347783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216347783">(Nov 11 2020 at 13:50)</a>:</h4>
<p>Or perhaps <code>‹true›</code> with the fancy angle brackets <del>I don't know how to type</del></p>



<a name="216347815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216347815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216347815">(Nov 11 2020 at 13:50)</a>:</h4>
<p><code>\f&lt;</code></p>



<a name="216351045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216351045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216351045">(Nov 11 2020 at 14:18)</a>:</h4>
<p>I think that Yury's original approach was the right one. I've been using the following refinement on the implicitness heuristic for a while: for partial functions (functions returning <code>Type</code> with arguments of type <code>Prop</code>), a Type argument is only implicit if it is implied by later Type arguments; a Prop argument if it is implied by any later arguments.</p>
<p>There are a number of reasons why the alternative can be frustrating. <code>choice h</code> is the worst one; you have to pass an existential proof but you can't even explain what the exists proof is for and the type inference gets messy. Same thing when you have to prove a hypothesis like <code>? \in ?</code> and you want to pass <code>trivial</code> as a proof of <code>37 \in set.univ</code>; type ascription doesn't work here.</p>



<a name="216351338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216351338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216351338">(Nov 11 2020 at 14:20)</a>:</h4>
<p>Plus, from the printing angle the hypothesis is never the "explanation" of what the function is supposed to be. If we had a partial division operator, we would still want to write <code>1 / x</code> and find some way to elide the proof, not <code>1 / hx</code> and elide the value</p>



<a name="216352168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216352168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216352168">(Nov 11 2020 at 14:27)</a>:</h4>
<p>What about totalizing <code>repr</code>?</p>



<a name="216357834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216357834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216357834">(Nov 11 2020 at 15:12)</a>:</h4>
<p>we can't because it's not a function, it is a <code>M →ₗ (ι →₀ R)</code></p>



<a name="216358060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358060">(Nov 11 2020 at 15:14)</a>:</h4>
<p>oh well actually I guess we can return the zero map in the bad case</p>



<a name="216358102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358102">(Nov 11 2020 at 15:14)</a>:</h4>
<p>I mean</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Given a basis, any vector can be written as a linear combination of the basis vectors. They are</span>
<span class="sd">given by this linear map. This is one direction of `module_equiv_finsupp`. -/</span>
<span class="kd">def</span> <span class="n">basis.repr</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→ₗ</span> <span class="o">(</span><span class="n">ι</span> <span class="bp">→₀</span> <span class="n">R</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">if</span> <span class="n">hv</span> <span class="o">:</span> <span class="n">is_basis</span> <span class="n">v</span> <span class="k">then</span> <span class="o">(</span><span class="n">hv.1.repr</span><span class="o">)</span><span class="bp">.</span><span class="n">comp</span> <span class="o">(</span><span class="n">linear_map.id.cod_restrict</span> <span class="n">_</span> <span class="n">hv.mem_span</span><span class="o">)</span> <span class="k">else</span> <span class="mi">0</span>
</code></pre></div>



<a name="216358302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358302">(Nov 11 2020 at 15:16)</a>:</h4>
<p>With the point being that it's up to the proof to resolve the <code>if</code>, rather than the theorem statement?</p>



<a name="216358373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358373">(Nov 11 2020 at 15:16)</a>:</h4>
<p>This won't work with the <code>linear_equiv</code> version.</p>



<a name="216358395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358395">(Nov 11 2020 at 15:16)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/is_basis.equiv_fun">docs#is_basis.equiv_fun</a></p>



<a name="216358407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358407">(Nov 11 2020 at 15:16)</a>:</h4>
<p>With <code>minimal_polynomial</code> I really don't like the way <code>minimal_polynomial hx</code> reads, compared to <code>minimal_polynomial x</code>.</p>



<a name="216358572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358572">(Nov 11 2020 at 15:18)</a>:</h4>
<p>Hmm, you are right Yury. I hadn't thought of that downside</p>



<a name="216358660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358660">(Nov 11 2020 at 15:19)</a>:</h4>
<p>yeah mathlib has some partial functions, even if we try to avoid them when possible, hence the rule I proposed above</p>



<a name="216358754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358754">(Nov 11 2020 at 15:19)</a>:</h4>
<p>it might also make sense to bundle a basis, and think of it as a characteristic predicate for "presents as the free module on"</p>



<a name="216358958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216358958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216358958">(Nov 11 2020 at 15:21)</a>:</h4>
<p>maybe such a "bundled basis" should just be identified with <code> M ≃ₗ[R] (ι → R)</code>?</p>



<a name="216359123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359123">(Nov 11 2020 at 15:22)</a>:</h4>
<p>and <code>is_basis.equiv_fun</code> is really to be understood as <code>bundled_basis.mk</code></p>



<a name="216359151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359151">(Nov 11 2020 at 15:22)</a>:</h4>
<p>so we don't need a new type</p>



<a name="216359244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359244">(Nov 11 2020 at 15:23)</a>:</h4>
<p>This way we can have alternative constructors with better definitional equalities.</p>



<a name="216359283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359283">(Nov 11 2020 at 15:23)</a>:</h4>
<p>E.g., we can have <code>linear_equiv.id</code> as a basis on <code>ι → R</code>.</p>



<a name="216359358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359358">(Nov 11 2020 at 15:24)</a>:</h4>
<p>Right, this is the better notion constructively too. The usual definition of a basis is saying that the leftward map is injective and surjective</p>



<a name="216359377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359377">(Nov 11 2020 at 15:24)</a>:</h4>
<p>I think these formulas are missing a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">{}_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.45110799999999995em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> by the way</p>



<a name="216359409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359409">(Nov 11 2020 at 15:24)</a>:</h4>
<p>I copied this from mathlib</p>



<a name="216359436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359436">(Nov 11 2020 at 15:25)</a>:</h4>
<p>that must be for a finite index type then</p>



<a name="216359439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359439">(Nov 11 2020 at 15:25)</a>:</h4>
<p>oh but there is a fintype assumption</p>



<a name="216359508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234949/near/216359508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234949.html#216359508">(Nov 11 2020 at 15:25)</a>:</h4>
<p>do we even have the finsupp version? I don't see it in <code>linear_algebra.basis</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>