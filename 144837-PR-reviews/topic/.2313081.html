---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2313081.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html">#13081</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278472061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278472061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278472061">(Apr 10 2022 at 14:48)</a>:</h4>
<p>I think bors has got stuck on this, it’s been retrying and failing this merge since yesterday evening. Could someone give it a nudge please?</p>



<a name="278472139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278472139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278472139">(Apr 10 2022 at 14:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13298">#13298</a> fixes a timeout in <code>category_theory.fin_category</code>. I suspect this is what made so many batches fail (along with Johan's mergemania <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> )</p>



<a name="278472192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278472192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278472192">(Apr 10 2022 at 14:50)</a>:</h4>
<p>13081 is still on the merge queue: <a href="https://app.bors.tech/repositories/24316">#bors</a></p>



<a name="278526556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278526556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stuart Presnell <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278526556">(Apr 11 2022 at 09:12)</a>:</h4>
<p>This is still failing, reporting a problem with <code>algebraic_geometry/projective_spectrum/structure_sheaf</code></p>



<a name="278529867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278529867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278529867">(Apr 11 2022 at 09:45)</a>:</h4>
<p>Yes, <a href="https://github.com/leanprover-community/mathlib/pull/13072">#13072</a> needs to be rebased (because <a href="https://github.com/leanprover-community/mathlib/pull/11758">#11758</a> won the merging race)</p>



<a name="278530012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530012">(Apr 11 2022 at 09:47)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span>, can <a href="https://github.com/leanprover-community/mathlib/pull/13072">#13072</a> be taken off the queue?</p>



<a name="278530032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530032">(Apr 11 2022 at 09:47)</a>:</h4>
<p>Done</p>



<a name="278530038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530038">(Apr 11 2022 at 09:47)</a>:</h4>
<p>Thanks for the ping</p>



<a name="278530181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530181">(Apr 11 2022 at 09:48)</a>:</h4>
<p>(Does <code>bors d-</code> also cancel a merge?)</p>



<a name="278530491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530491">(Apr 11 2022 at 09:52)</a>:</h4>
<p>I thought so... did I mess up the syntax</p>



<a name="278530500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530500">(Apr 11 2022 at 09:52)</a>:</h4>
<p>Ooh, it should be <code>r-</code>.</p>



<a name="278530504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278530504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278530504">(Apr 11 2022 at 09:52)</a>:</h4>
<p>good catch</p>



<a name="278531549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531549">(Apr 11 2022 at 10:02)</a>:</h4>
<p>It would be nice if bors had a "r+, but test it in a separate batch" for PRs which touch files with lots of reverse dependencies (such as <a href="https://github.com/leanprover-community/mathlib/pull/13081">#13081</a>), because the bisection procedure bors uses is not weighted by compilation time. Can setting a priority do that somehow?</p>



<a name="278531633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531633">(Apr 11 2022 at 10:03)</a>:</h4>
<p>Yes it can</p>



<a name="278531833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531833">(Apr 11 2022 at 10:05)</a>:</h4>
<p>Priorities aren't nice.</p>



<a name="278531861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531861">(Apr 11 2022 at 10:05)</a>:</h4>
<p>If you kick a PR on the queue with a prio that is higher than the current batch, it cancels the current batch.</p>



<a name="278531872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531872">(Apr 11 2022 at 10:05)</a>:</h4>
<p>This is rarely desirable behaviour.</p>



<a name="278531940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278531940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278531940">(Apr 11 2022 at 10:06)</a>:</h4>
<p>I wish we could do more explicit queue management in bors when needed.</p>



<a name="278532346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278532346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278532346">(Apr 11 2022 at 10:10)</a>:</h4>
<p>And yesterday I wished we could force several PRs to be batched together (because there were several timeouts and potentially each of them could make the other fixes fail).</p>



<a name="278533567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278533567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278533567">(Apr 11 2022 at 10:22)</a>:</h4>
<p>Oooh, <a href="https://bors.tech/documentation/">https://bors.tech/documentation/</a> says <code>bors single on</code> disables batching for a PR.</p>



<a name="278580037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278580037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278580037">(Apr 11 2022 at 16:30)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span> Speaking of queue issues, <a href="https://github.com/leanprover-community/mathlib/pull/13335">#13335</a> is on a batch but has merge conflicts. I'm afraid bors will keep splitting batches containing it.</p>



<a name="278580149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278580149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278580149">(Apr 11 2022 at 16:31)</a>:</h4>
<p>Thanks for the heads up! I've removed it from the queue.</p>



<a name="278586487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278586487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278586487">(Apr 11 2022 at 17:14)</a>:</h4>
<p>By the way, anyone with write access can take a potentially problematic PR off the queue by pushing a commit to it (e.g. by merging master). For PRs with merge conflicts, GitHub even puts a button that lets you attempt to fix the merge conflict and push a merge commit.</p>



<a name="278586574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278586574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278586574">(Apr 11 2022 at 17:14)</a>:</h4>
<p>Yeah, I just don't do this to avoid bors crediting me as author of something I didn't do.</p>



<a name="278588304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278588304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278588304">(Apr 11 2022 at 17:28)</a>:</h4>
<p>If you resolve the merge conflict you're a partial author anyway</p>



<a name="278620263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2313081/near/278620263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2313081.html#278620263">(Apr 11 2022 at 21:34)</a>:</h4>
<p>Also, I think there is enough credit to go around, and generally people shouldn't avoid making a positive contribution in order to avoid being recognized as having made a positive contribution... (Even if infinitesimal. :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>