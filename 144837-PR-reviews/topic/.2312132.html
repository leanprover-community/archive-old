---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2312132.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html">#12132</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272875565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272875565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272875565">(Feb 22 2022 at 22:27)</a>:</h4>
<p>This lint failed twice now (but the build is fine). Here is the error from the fails quickly linter:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- logic/nonempty.lean</span>
<span class="k">#check</span> <span class="bp">@</span><span class="n">prod.nonempty</span> <span class="c">/-</span><span class="cm"> type-class inference timed out</span>
<span class="cm">State:</span>
<span class="cm">α : Type u_1,</span>
<span class="cm">β : Type u_2,</span>
<span class="cm">h : nonempty α</span>
<span class="cm">⊢ nonempty (α × β) -/</span>
<span class="n">Error</span><span class="o">:</span> <span class="n">prod.nonempty</span> <span class="bp">-</span> <span class="n">type</span><span class="bp">-</span><span class="kd">class</span> <span class="n">inference</span> <span class="n">timed</span> <span class="n">out</span>
<span class="n">State</span><span class="o">:</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">α</span>
<span class="bp">⊢</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">α</span> <span class="bp">×</span> <span class="n">β</span><span class="o">)</span>
</code></pre></div>
<p>It certainly appears to have gotten itself in a state where it's stuck, but I don't know how to deal with it. Is this lint error showing up elsewhere?</p>



<a name="272875929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272875929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272875929">(Feb 22 2022 at 22:30)</a>:</h4>
<p>This looks pretty unrelated indeed. Best thing to do now is to investigate the TC trace by following the instructions from the <code>fails_quickly</code> linter.</p>



<a name="272876125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272876125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272876125">(Feb 22 2022 at 22:32)</a>:</h4>
<p>I tried that, but must have done it wrong. I ran my machine out of memory instantly.</p>



<a name="272877090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877090">(Feb 22 2022 at 22:41)</a>:</h4>
<p>okay, I got it. I just needed 5GB of memory. Should I post the output here?</p>



<a name="272877185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877185">(Feb 22 2022 at 22:42)</a>:</h4>
<p>Yes please! Zulip should collapse long posts automatically, so no worries about blowing up our timelines :)</p>



<a name="272877441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877441">(Feb 22 2022 at 22:45)</a>:</h4>
<p>Zulip tells me not to exceed 10000 characters, and I have a million...</p>



<a name="272877552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877552">(Feb 22 2022 at 22:46)</a>:</h4>
<p>Embrace the 100 messages</p>



<a name="272877558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877558">(Feb 22 2022 at 22:46)</a>:</h4>
<p>Could you post the first few hundred lines then?</p>



<a name="272877591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877591">(Feb 22 2022 at 22:47)</a>:</h4>
<p>This is the contents of the file:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">all</span>

<span class="kd">set_option</span> <span class="n">trace.class_instances</span> <span class="n">true</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>  <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">h2</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">β</span><span class="o">],</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">α</span> <span class="bp">×</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">apply_instance</span>
</code></pre></div>
<p>Here is the first message</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">[</span><span class="n">class_instances</span><span class="o">]</span>  <span class="kd">class</span><span class="bp">-</span><span class="kd">instance</span> <span class="n">resolution</span> <span class="n">trace</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">slim_check.gen.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">pmf.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">wseq.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">lazy_list.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">semiquot.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">finset.monad</span> <span class="bp">?</span><span class="n">x_1</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">multiset.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">erased.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">ulift.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">plift.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">cont_t.monad</span> <span class="bp">?</span><span class="n">x_2</span> <span class="bp">?</span><span class="n">x_3</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">writer_t.monad</span> <span class="bp">?</span><span class="n">x_4</span> <span class="bp">?</span><span class="n">x_5</span> <span class="bp">?</span><span class="n">x_6</span> <span class="bp">?</span><span class="n">x_7</span> <span class="bp">?</span><span class="n">x_8</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_add_semigroup.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_semigroup.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_add_magma.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_magma.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">pfun.monad</span> <span class="bp">?</span><span class="n">x_9</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">ultrafilter.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">seq1.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">computation.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_abelian_group.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">free_group.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">tactic.ring_exp.ring_exp_m.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">tactic.norm_fin.eval_fin_m.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">mv_polynomial.monad</span> <span class="bp">?</span><span class="n">x_10</span> <span class="bp">?</span><span class="n">x_11</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">part.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">linarith.linarith_monad.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">tactic.ring.ring_m.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">set.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">with_zero.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">with_one.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">trunc.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">old_conv.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">parser.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">io_core_is_monad</span> <span class="bp">?</span><span class="n">x_12</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">monad_io_is_monad</span> <span class="bp">?</span><span class="n">x_13</span> <span class="bp">?</span><span class="n">x_14</span> <span class="bp">?</span><span class="n">x_15</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_15</span> <span class="o">:</span> <span class="n">monad_io</span> <span class="n">interaction_monad</span> <span class="o">:=</span> <span class="n">monad_io_impl</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="n">caching</span> <span class="n">failure</span> <span class="n">for</span> <span class="n">monad_io</span> <span class="n">interaction_monad</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">sum.monad</span> <span class="bp">?</span><span class="n">x_1</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">list.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">smt_tactic.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">vm_core.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">conv.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">option_t.monad</span> <span class="bp">?</span><span class="n">x_2</span> <span class="bp">?</span><span class="n">x_3</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">reader_t.monad</span> <span class="bp">?</span><span class="n">x_4</span> <span class="bp">?</span><span class="n">x_5</span> <span class="bp">?</span><span class="n">x_6</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">state_t.monad</span> <span class="bp">?</span><span class="n">x_7</span> <span class="bp">?</span><span class="n">x_8</span> <span class="bp">?</span><span class="n">x_9</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">except_t.monad</span> <span class="bp">?</span><span class="n">x_10</span> <span class="bp">?</span><span class="n">x_11</span> <span class="bp">?</span><span class="n">x_12</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">except.monad</span> <span class="bp">?</span><span class="n">x_13</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">id.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">tactic.unsafe.type_context.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="n">task.monad</span>
<span class="n">failed</span> <span class="n">is_def_eq</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="bp">?</span><span class="n">x_0</span> <span class="o">:</span> <span class="n">monad</span> <span class="n">tactic</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">interaction_monad.monad</span> <span class="bp">?</span><span class="n">x_14</span>
<span class="o">[</span><span class="n">class_instances</span><span class="o">]</span> <span class="n">caching</span> <span class="kd">instance</span> <span class="n">for</span> <span class="n">monad</span> <span class="n">tactic</span>
<span class="bp">@</span><span class="n">interaction_monad.monad</span> <span class="n">tactic_state</span>
</code></pre></div>



<a name="272877626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877626">(Feb 22 2022 at 22:47)</a>:</h4>
<p>you may want to just use <a href="https://gist.github.com">https://gist.github.com</a> :D this is actually mildly unrelated</p>



<a name="272877701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877701">(Feb 22 2022 at 22:48)</a>:</h4>
<p>The lines we're looking for start with <code>?x_0 : nonempty (a × b)</code></p>



<a name="272877750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877750">(Feb 22 2022 at 22:49)</a>:</h4>
<p>no time, battery about to die. <a href="/user_uploads/3121/gA2poik7hO2DrOHHodRYGqdj/trace.txt">trace.txt</a></p>



<a name="272877898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272877898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272877898">(Feb 22 2022 at 22:50)</a>:</h4>
<p>Some notes during debugging:</p>
<ul>
<li>Should <code>nonempty_fin_lin_ord.nonempty</code> get a lower priority? It seems like it applies too early</li>
</ul>



<a name="272878200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272878200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272878200">(Feb 22 2022 at 22:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2312132/near/272877750">said</a>:</p>
<blockquote>
<p>no time, battery about to die. <a href="/user_uploads/3121/gA2poik7hO2DrOHHodRYGqdj/trace.txt">trace.txt</a></p>
</blockquote>
<p>"If I had more time I would write a shorter message"</p>



<a name="272878333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272878333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272878333">(Feb 22 2022 at 22:54)</a>:</h4>
<ul>
<li><code>normed_division_ring</code> occurs twice in the trace and gets rejected almost instantly. Is that really the issue?</li>
</ul>



<a name="272878440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272878440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272878440">(Feb 22 2022 at 22:56)</a>:</h4>
<ul>
<li>it's midnight I should be going to bed not debugging timeouts</li>
</ul>



<a name="272927602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272927602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272927602">(Feb 23 2022 at 10:09)</a>:</h4>
<p>I tried looking at it with fresh eyes and nothing jumps out except for the huge amount of instances we're searching through.</p>



<a name="272929025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312132/near/272929025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312132.html#272929025">(Feb 23 2022 at 10:23)</a>:</h4>
<p>Half of the instance search is because of the subgoal <code>has_continuous_smul ℝ β</code> from the <a href="https://leanprover-community.github.io/mathlib_docs/find/topological_add_group.path_connected">docs#topological_add_group.path_connected</a> instance.  It might be worth a try to swap the last two arguments there so that it searches for <code>toplogical_add_group β</code> first.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>