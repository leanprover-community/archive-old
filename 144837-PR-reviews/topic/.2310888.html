---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2310888.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html">#10888</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="265453800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310888/near/265453800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html#265453800">(Dec 19 2021 at 01:22)</a>:</h4>
<p>I'd like some opinions on where the lemma <code>filter_Ico_card_eq_of_periodic</code> from this PR should live. The two primary dependencies are <code>data/nat/interval</code> and <code>algebra/periodic</code> but neither imports the other.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">filter_Ico_card_eq_of_periodic</span> <span class="o">(</span><span class="n">n</span> <span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">[</span><span class="n">decidable_pred</span> <span class="n">p</span><span class="o">]</span>
 <span class="o">(</span><span class="n">pp</span> <span class="o">:</span> <span class="n">function.periodic</span> <span class="n">p</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">filter</span> <span class="n">p</span> <span class="o">(</span><span class="n">Ico</span> <span class="n">n</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="n">a</span><span class="o">)))</span><span class="bp">.</span><span class="n">card</span> <span class="bp">=</span> <span class="o">(</span><span class="n">filter</span> <span class="n">p</span> <span class="o">(</span><span class="n">range</span> <span class="n">a</span><span class="o">))</span><span class="bp">.</span><span class="n">card</span>
</code></pre></div>
<p>It would be nice to put it upstream of <code>data/nat/totient</code> so that  a <code>filter_coprime_Ico_eq_totient</code> lemma (from <a href="https://github.com/leanprover-community/mathlib/pull/9080">#9080</a>), which depends on it, can be added there.</p>



<a name="265453818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310888/near/265453818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html#265453818">(Dec 19 2021 at 01:23)</a>:</h4>
<p>Isn't the RHS <code>a.count p</code>?</p>



<a name="265453864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310888/near/265453864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html#265453864">(Dec 19 2021 at 01:24)</a>:</h4>
<p>Oh lol, yes, I should change that now that that's been pulled.</p>



<a name="265453889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310888/near/265453889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html#265453889">(Dec 19 2021 at 01:25)</a>:</h4>
<p>Also not sure how general this lemma should be made.</p>



<a name="265453951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310888/near/265453951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310888.html#265453951">(Dec 19 2021 at 01:27)</a>:</h4>
<p>For example, one could prove that <code>(filter p (Ico m (m+a))).card = (filter p (Ico n (n+a))).card</code> over cyclic groups.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>