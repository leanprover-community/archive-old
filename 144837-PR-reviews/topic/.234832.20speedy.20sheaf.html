---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html">#4832 speedy sheaf</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="215068091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234832%20speedy%20sheaf/near/215068091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html#215068091">(Oct 30 2020 at 08:52)</a>:</h4>
<p>There is some stuff about sheaves that is crazy crazy slow. I've tried to speed them up. But now I would need input from some Lean speedrunners to get this faster. I've made things go from 16s to 9s, or from 8s to 3s. But there are still several declarations that take over 10s.</p>



<a name="215068170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234832%20speedy%20sheaf/near/215068170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html#215068170">(Oct 30 2020 at 08:54)</a>:</h4>
<p>In principle this PR can be merged as is. It's already an improvement. But I would need to change the branch name to <code>less-crawly-sheaf</code> <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="215090281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234832%20speedy%20sheaf/near/215090281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html#215090281">(Oct 30 2020 at 12:56)</a>:</h4>
<p>You mentioned this before but just complained about an entire directory. Can you complain about a file instead?</p>



<a name="215091207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234832%20speedy%20sheaf/near/215091207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234832.20speedy.20sheaf.html#215091207">(Oct 30 2020 at 13:04)</a>:</h4>
<p>There are three files in the dir. I think the problems are shared by those files. But the <code>pairwise_intersections.lean</code> file is particularly bad.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>