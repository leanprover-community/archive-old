---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html">#9888 introduce classes for types of homomorphism</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="264287027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264287027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264287027">(Dec 09 2021 at 11:22)</a>:</h4>
<p>I love this idea, and I think it's ready for merging. Since that's a big shift in our perspective on the right way to do things, I won't merge it just by myself, and I'd like to hear more thoughts here.</p>



<a name="264288153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264288153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264288153">(Dec 09 2021 at 11:35)</a>:</h4>
<p>I'm generally in favor of this idea too, and in future I'd like to see some meta or even language support to make it easier to use. We won't know what we want those to look like until we start using this design!</p>



<a name="264288364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264288364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264288364">(Dec 09 2021 at 11:37)</a>:</h4>
<p>Some ideas for that future work:</p>
<ul>
<li><code>virtual struct foo extends bar</code> which generates <code>class foo_I extends bar_I</code> containing the appropriate fields</li>
<li>language support for having the elaborator translate <code>f.map_bar</code> where <code>f : foo</code> into <code>foo_I.map_bar f</code></li>
</ul>



<a name="264288495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264288495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264288495">(Dec 09 2021 at 11:38)</a>:</h4>
<p>Out of interest, if we're trying this in Lean 4 would that language support suggestion need changes to core Lean or could it be done in mathlib4?</p>



<a name="264289066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264289066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264289066">(Dec 09 2021 at 11:45)</a>:</h4>
<p>I expect we could design a macro that generates the appropriate commands for us</p>



<a name="264289220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264289220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264289220">(Dec 09 2021 at 11:46)</a>:</h4>
<p>Whether that ends up as part of mathlib or core Lean can be figured out later on :)</p>



<a name="264290727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264290727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264290727">(Dec 09 2021 at 12:02)</a>:</h4>
<p>My question was meant to be "does it <em>have</em> to be in core Lean" and my understanding is that your answer is "no", which makes me happy.</p>



<a name="264290805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239888%20introduce%20classes%20for%20types%20of%20homomorphism/near/264290805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239888.20introduce.20classes.20for.20types.20of.20homomorphism.html#264290805">(Dec 09 2021 at 12:03)</a>:</h4>
<p>I think Leo has had a far happier time recently with the mathlib people at arm's length, and I am hoping that his design decisions for Lean 4 will enable far more flexibility at our end so we do not have to be pestering him to change his software -- we have seen in the past that this does not work well.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>