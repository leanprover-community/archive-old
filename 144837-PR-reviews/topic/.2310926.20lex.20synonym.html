---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html">#10926 lex synonym</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266072212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266072212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266072212">(Dec 25 2021 at 19:29)</a>:</h4>
<p>To talk about lexicographical order of products types, sigma types, finsets, ..., what would you prefer between</p>



<a name="266072323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266072323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266072323">(Dec 25 2021 at 19:32)</a>:</h4>
<p>/poll Handling of lexicographical synonyms</p>
<ul>
<li>Having one synonym per type, eg <code>sigma_lex</code>, <code>prod_lex</code>, <code>finset_lex</code>...</li>
<li>Having one synonym for all of them, eg <code>lex (Σ i, α i)</code>, <code>lex (α × β)</code>, <code>lex (finset α)</code>.</li>
</ul>



<a name="266072347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266072347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266072347">(Dec 25 2021 at 19:33)</a>:</h4>
<p>Notation considerations are orthogonal to this choice. We can achieve nice notation regardless.</p>



<a name="266072653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266072653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266072653">(Dec 25 2021 at 19:41)</a>:</h4>
<p>Pros of the first option</p>
<ul>
<li>Allows custom dot notation?</li>
</ul>
<p>Cons of the first option</p>
<ul>
<li>Overhead for defining lex synonyms (custom <code>to_lex</code>, <code>of_lex</code> equivs, boilerplate...)</li>
<li>Kills dot notation from the original type. Things about the lex synonym are not in the original type's namespace.</li>
</ul>
<p>Pros of the second option</p>
<ul>
<li>No type synonym overhead</li>
<li>Things stay in the original type's namespace (<code>sigma.lex</code>, <code>prod.lex</code>, <code>finset.lex</code>).</li>
</ul>
<p>Cons of the second option</p>
<ul>
<li>Dot notation will go through the original type.</li>
</ul>



<a name="266072704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266072704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266072704">(Dec 25 2021 at 19:42)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span>, <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>, <span class="user-mention" data-user-id="310045">@Eric Wieser</span></p>



<a name="266073080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073080">(Dec 25 2021 at 19:52)</a>:</h4>
<p>How do you want to name lemmas with the second option? <code>prod.lex_*</code>?</p>



<a name="266073095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073095">(Dec 25 2021 at 19:53)</a>:</h4>
<p><code>prod.lex.*</code></p>



<a name="266073100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073100">(Dec 25 2021 at 19:53)</a>:</h4>
<p>Will it work with dot notation?</p>



<a name="266073152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073152">(Dec 25 2021 at 19:54)</a>:</h4>
<p>Currently not I think, because Lean interprets <code>x.lex.whatever</code> as <code>(prod.lex x).whatever</code>, but that's probably fixable.</p>



<a name="266073287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073287">(Dec 25 2021 at 19:58)</a>:</h4>
<p>But again I can't think of a single <code>prod</code> or <code>sigma</code> lemma that can be used with dot notation. The reason is that you rarely pass a term <code>x : Σ i, α i</code> to a lemma. It's more often <code>i : ι</code>, <code>a : α i</code>. Same for <code>x : α × β</code> vs <code>a : α</code>, <code>b : β</code>.</p>



<a name="266073307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266073307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266073307">(Dec 25 2021 at 19:59)</a>:</h4>
<p>Also note that we currently have <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.colex">docs#finset.colex</a> that uses the original type's notation.</p>



<a name="266075025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266075025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266075025">(Dec 25 2021 at 20:49)</a>:</h4>
<p>What will e.g. <code>lex (α × β × γ)</code> mean under the second option?</p>



<a name="266075208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266075208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266075208">(Dec 25 2021 at 20:54)</a>:</h4>
<p>It will mean <code>α ×ₗ (β × γ)</code></p>



<a name="266075228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266075228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266075228">(Dec 25 2021 at 20:55)</a>:</h4>
<p>If you want the lexicographic order on three things, you will do <code>α ×ₗ β ×ₗ γ</code>. But that orthogonal to the current choice.</p>



<a name="266076765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266076765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266076765">(Dec 25 2021 at 21:38)</a>:</h4>
<p>Wait what's <code>×ₗ</code> and how does it relate to <code>lex</code>?</p>



<a name="266076781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266076781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266076781">(Dec 25 2021 at 21:39)</a>:</h4>
<p>Have a look at the PR <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span><br>
<code>×ₗ</code> has exactly the same precedences as <code>×</code> and <code>α ×ₗ β = lex (α × β)</code>.</p>



<a name="266077085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266077085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266077085">(Dec 25 2021 at 21:49)</a>:</h4>
<p>Looks obviously wrong to me but I can see the appeal.</p>



<a name="266077212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266077212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266077212">(Dec 25 2021 at 21:52)</a>:</h4>
<p>I don't think you can make the "obviously right" thing from using <code>lex</code>. Btw note that I'm planning on <code>lex</code> being barely visible from the outside. There's only <code>lex (finset α)</code> that I don't have notation for.</p>



<a name="266077358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266077358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266077358">(Dec 25 2021 at 21:57)</a>:</h4>
<p>Maybe it should have a less appealing name like <code>lex_wrapper</code> or something</p>



<a name="266088594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266088594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266088594">(Dec 26 2021 at 03:26)</a>:</h4>
<p>I initially suggested <code>*_lex</code>. Now I don't care about name as long as we have notation.</p>



<a name="266412470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310926%20lex%20synonym/near/266412470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310926.20lex.20synonym.html#266412470">(Dec 30 2021 at 08:42)</a>:</h4>
<p>For the namespace, we already have <a href="https://leanprover-community.github.io/mathlib_docs/find/sum.lex.is_well_order">docs#sum.lex.is_well_order</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>