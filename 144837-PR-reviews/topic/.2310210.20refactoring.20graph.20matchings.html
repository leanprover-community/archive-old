---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html">#10210 refactoring graph matchings</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261512412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/261512412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#261512412">(Nov 15 2021 at 15:28)</a>:</h4>
<p>This PR makes use of the <code>subgraph</code> API to define matchings and further perfect matchings. It also makes small enhancements in the <code>subgraph</code> API</p>



<a name="261871426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/261871426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#261871426">(Nov 18 2021 at 00:36)</a>:</h4>
<p>This one's got two approvals already. Two more to go <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="262299097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262299097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262299097">(Nov 22 2021 at 10:00)</a>:</h4>
<p>I'm not very familiar with our combinatorics results but this PR looks good to me. Are we waiting for comment from <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> and <span class="user-mention" data-user-id="303889">@Alena Gusakov</span> ?</p>



<a name="262311563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262311563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262311563">(Nov 22 2021 at 12:24)</a>:</h4>
<p><span class="user-mention" data-user-id="240862">@Oliver Nash</span> to give you more context, Yaël proposed that we should get rid of graph matchings as they could be generalized by the implementation of k-factors that he is working on. Then Mauricio Collares reminded us that perfect matchings are indeed 1-factors (every vertex has degree 1) but regular matchings aren't necessarily 1-factors as matchings don't require that every vertex must have a neighbor.</p>
<p>Then Kyle proposed that we could move on with the refactor and eventually change things in the future if needed. Then he asked for Bhavik's review and he also approved the PR.</p>



<a name="262311793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262311793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262311793">(Nov 22 2021 at 12:27)</a>:</h4>
<p>Full context of the discussion starts <a href="#narrow/stream/252551-graph-theory/topic/matchings/near/260609209">here</a></p>



<a name="262311915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262311915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262311915">(Nov 22 2021 at 12:28)</a>:</h4>
<p>So because regular matchings aren't a special case of k-factors, the content of this PR is in fact not covered by Yaël's work on k-factors, and with this in mind, Bhavik and Kyle agreed we should go ahead with this?</p>



<a name="262312077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262312077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262312077">(Nov 22 2021 at 12:30)</a>:</h4>
<p>Kyle said so while aware of Yaël's and Mauricio's points, whereas I'm not sure Bhavik was aware of the discussion</p>



<a name="262312289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262312289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262312289">(Nov 22 2021 at 12:32)</a>:</h4>
<p>Well he's agreed on the PR so I'm happy to take that as his vote. Unless there are objections (e.g., from <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> ) I vote we merge this.</p>



<a name="262312336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262312336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262312336">(Nov 22 2021 at 12:33)</a>:</h4>
<p>In fact with that in mind, I'm delegating this to Yaël.</p>



<a name="262312484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262312484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262312484">(Nov 22 2021 at 12:35)</a>:</h4>
<p>I agree with Kyle because:</p>
<ul>
<li>k-factors are not on master yet (at least I don't think they are)</li>
<li>The PR enriches the subgraph API</li>
<li>It's an iterative work and we can improve and generalize things further later on. Right now, reusing the subgraph API makes more sense to me than creating a fully new structure just for matchings</li>
</ul>



<a name="262342965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262342965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262342965">(Nov 22 2021 at 16:29)</a>:</h4>
<p>The Plan, at least as I'm envisioning it, is that matchings and k-factors are orthogonal generalizations of a perfect matching, so we have both, and then we'll have lemmas to go back and forth between perfect matchings and 1-factors.  </p>
<p>For <code>G : simple_graph V</code> and <code>G' : G.subgraph</code>:</p>
<ul>
<li>this PR (re)introduces <code>G'.is_matching</code> for matchings</li>
<li>this PR (re)introduces <code>G'.is_perfect_matching</code> for perfect matchings, and every perfect matching is a matching</li>
<li>a k-factor is a simple graph <code>G' : simple_graph V</code> satisfying  <code>G' ≤ G</code> and <code>G.is_regular_of_degree k</code>. (<span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Could you remind me how you're implementing k-factors?)</li>
</ul>
<p>Some next steps include showing that when <code>G'.is_perfect_matching</code> then <code>G'.spanning_coe</code> is a 1-factor in the above sense, and conversely a 1-factor in the above sense arises in this way from a <code>G.subgraph</code>.  This would then be integrated into what Yael is formalizing.</p>
<p>There are arguments where you consider decompositions of a graph by perfect matchings, and I'm imagining those will be done in the language of 1-factorizations. (My understanding is that this is how Yael is viewing things, too.)</p>



<a name="262533270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262533270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262533270">(Nov 24 2021 at 00:30)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> any other consideration regarding this PR? Oliver has delegated it to you <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="262557726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310210%20refactoring%20graph%20matchings/near/262557726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310210.20refactoring.20graph.20matchings.html#262557726">(Nov 24 2021 at 08:27)</a>:</h4>
<p>Sorry I have a few last comments. I just haven't had much time for Lean. Will try to do this this afternoon.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>