---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html">#10287 graph coloring and partitions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="261796109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/261796109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#261796109">(Nov 17 2021 at 15:02)</a>:</h4>
<p>This PR introduces graph coloring and partitions (and functions to wander between them)</p>



<a name="262131935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/262131935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#262131935">(Nov 19 2021 at 21:23)</a>:</h4>
<p>This PR now touches <code>data/fintype/basic.lean</code> and <code>data/setoid/partition.lean</code>. Would appreciate more reviews <span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>



<a name="263578059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263578059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263578059">(Dec 03 2021 at 13:20)</a>:</h4>
<p>Ping</p>



<a name="263582941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263582941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263582941">(Dec 03 2021 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="451983">@Arthur Paulino</span> I'm not expert enough to merge this. I left some superficial comments about how to save some lines. I've deferred to <span class="user-mention" data-user-id="306601">@Kyle Miller</span> for the actual merging.</p>



<a name="263585133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263585133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263585133">(Dec 03 2021 at 14:13)</a>:</h4>
<p>Most of the changes worked nicely but I'm rolling back the ones that broke the file. Will update the branch soon</p>



<a name="263585596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263585596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263585596">(Dec 03 2021 at 14:17)</a>:</h4>
<p>Ok, sorry, I didn't test them</p>



<a name="263585855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263585855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263585855">(Dec 03 2021 at 14:19)</a>:</h4>
<p>Np at all. I'm impressed by how you guys can rewrite and clean Lean code in Github's interface <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="263592945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263592945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263592945">(Dec 03 2021 at 15:11)</a>:</h4>
<p>Branch updated <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="263609981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263609981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263609981">(Dec 03 2021 at 17:17)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Just some missing <code>$</code>'s, so I reincorporated them.</p>



<a name="263610161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263610161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263610161">(Dec 03 2021 at 17:19)</a>:</h4>
<p>Just to get some input before merging, this PR is touching <code>src/data/setoid/partition.lean</code> and adding a dependence on <code>data.fintype.basic</code>.  Is this ok?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">classes_ker_subset_fiber_set</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">setoid.ker</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">classes</span> <span class="bp">⊆</span> <span class="n">set.range</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">y</span><span class="o">,</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">})</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rintro</span> <span class="n">s</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span> <span class="n">rw</span> <span class="n">set.mem_range</span><span class="o">,</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">f</span> <span class="n">x</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span> <span class="o">}</span>

<span class="kd">lemma</span> <span class="n">nonempty_fintype_classes_ker</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">nonempty</span> <span class="o">(</span><span class="n">fintype</span> <span class="o">(</span><span class="n">setoid.ker</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">classes</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">classical</span><span class="o">,</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">set.fintype_subset</span> <span class="n">_</span> <span class="o">(</span><span class="n">classes_ker_subset_fiber_set</span> <span class="n">f</span><span class="o">)⟩</span> <span class="o">}</span>

<span class="kd">lemma</span> <span class="n">card_classes_ker_le</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="o">(</span><span class="n">setoid.ker</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">classes</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">fintype.card</span> <span class="o">(</span><span class="n">setoid.ker</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">classes</span> <span class="bp">≤</span> <span class="n">fintype.card</span> <span class="n">β</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">classical</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">le_trans</span> <span class="o">(</span><span class="n">set.card_le_of_subset</span> <span class="o">(</span><span class="n">classes_ker_subset_fiber_set</span> <span class="n">f</span><span class="o">))</span> <span class="o">(</span><span class="n">fintype.card_range_le</span> <span class="n">_</span><span class="o">)</span>
<span class="kd">end</span>
</code></pre></div>



<a name="263679436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263679436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263679436">(Dec 04 2021 at 03:04)</a>:</h4>
<p>Bors behaving strangely <a href="https://github.com/leanprover-community/mathlib/pull/10287#issuecomment-985899284">https://github.com/leanprover-community/mathlib/pull/10287#issuecomment-985899284</a><br>
Kyle <em>is</em> a reviewer for that PR <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="263680086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2310287%20graph%20coloring%20and%20partitions/near/263680086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2310287.20graph.20coloring.20and.20partitions.html#263680086">(Dec 04 2021 at 03:18)</a>:</h4>
<p>It looks like bors didn't understand Johan's comment due to the square braces. I've put your PR on the queue.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>