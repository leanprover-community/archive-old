---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html">#9185 finset.card_erase</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="253119496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253119496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253119496">(Sep 13 2021 at 16:29)</a>:</h4>
<p>I want to add this lemma because at one point in a proof I guessed it might exist, and was disappointed not to find it. I want to get Zulip's opinion as to whether this should be a <code>simp</code> lemma or not. My intuition is that I would always want to apply either this, or <code>card_erase_of_mem</code> or <code>erase_eq_of_not_mem</code> whenever I see this pattern. On the other hand, perhaps this would clutter the output of simp too much in some cases.</p>



<a name="253120537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253120537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253120537">(Sep 13 2021 at 16:36)</a>:</h4>
<p>What you can do instead is<code>@[simp]</code> <code>finset.card_erase_of_mem</code> and <code>finset.erase_eq_of_not_mem</code> so that <code>simp</code> can use them if you provide proof of <code>a ∈ s</code> or <code>a ∉ s</code>.</p>



<a name="253120623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253120623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253120623">(Sep 13 2021 at 16:37)</a>:</h4>
<p>And, most important point, it won't clutter the output if you don't provide such an hypothesis.</p>



<a name="253120963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253120963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253120963">(Sep 13 2021 at 16:39)</a>:</h4>
<p>Imagine else what would happen to <code>((((s.erase a).erase b).erase c).erase d)))).card</code> <span aria-label="fear" class="emoji emoji-1f628" role="img" title="fear">:fear:</span></p>



<a name="253122761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253122761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253122761">(Sep 13 2021 at 16:51)</a>:</h4>
<p>I think it'd be nice if <code>@[simps]</code> could make <code>ite</code> expanded versions for lemmas</p>



<a name="253129727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253129727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253129727">(Sep 13 2021 at 17:37)</a>:</h4>
<p>One doesn't want to always apply this. Sometimes you want to just have that card of one finset is less than or equal to card of another. And <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.card_erase_le">docs#finset.card_erase_le</a> is great for that.</p>



<a name="253135126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253135126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253135126">(Sep 13 2021 at 18:16)</a>:</h4>
<p>You're right, it doesn't make sense to do what I was suggesting if it's somehow not obvious whether <code>a</code> is in <code>s</code>.</p>



<a name="253135572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239185%20finset.card_erase/near/253135572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bolton Bailey <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239185.20finset.2Ecard_erase.html#253135572">(Sep 13 2021 at 18:18)</a>:</h4>
<p>Which could be the case.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>