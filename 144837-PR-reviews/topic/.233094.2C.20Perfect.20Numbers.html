---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html">#3094, Perfect Numbers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202528815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202528815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202528815">(Jul 01 2020 at 04:01)</a>:</h4>
<p>I've changed my perfect numbers file to use pnats, and a finsupp version of prime factorization <a href="https://github.com/leanprover-community/mathlib/compare/freek-70?expand=1">https://github.com/leanprover-community/mathlib/compare/freek-70?expand=1</a></p>



<a name="202528898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202528898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202528898">(Jul 01 2020 at 04:03)</a>:</h4>
<p>There are now some sorries in the file multiplicity_vectors.lean (which I should maybe have renamed...) that will mostly be fixed with the fact that multiset.to_finsupp is a lattice isomorphism (which I believe is not defined anywhere).</p>



<a name="202528954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202528954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202528954">(Jul 01 2020 at 04:04)</a>:</h4>
<p>Also no proof for the final theorem, but I've proved both directions with slightly different statements, and it's (pretty much) a matter of deciding which formulation of the statement is better, and altering one of them.</p>



<a name="202533668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202533668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202533668">(Jul 01 2020 at 05:59)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> Do you have a preference for one of the two approaches? You know them best.</p>



<a name="202534024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202534024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202534024">(Jul 01 2020 at 06:07)</a>:</h4>
<p>I think it's easier to prove the one that involves <code>mersenne_succ</code> but I worry it's not a natural-enough statement</p>



<a name="202534079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202534079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202534079">(Jul 01 2020 at 06:08)</a>:</h4>
<p>Otherwise there's kind of a lot of p+1-1 and p-1+1 floating around</p>



<a name="202534536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202534536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202534536">(Jul 01 2020 at 06:18)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> Is there an easy way for me to compare the two approaches?</p>



<a name="202534541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202534541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202534541">(Jul 01 2020 at 06:19)</a>:</h4>
<p>Do you have them on different branches?</p>



<a name="202534548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202534548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202534548">(Jul 01 2020 at 06:19)</a>:</h4>
<p>Or should I compare two different commits on the same branch?</p>



<a name="202535091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202535091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202535091">(Jul 01 2020 at 06:31)</a>:</h4>
<p>On the same branch, at <a href="https://github.com/leanprover-community/mathlib/pull/3094">https://github.com/leanprover-community/mathlib/pull/3094</a></p>



<a name="202535137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202535137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202535137">(Jul 01 2020 at 06:32)</a>:</h4>
<p>i may have misinterpreted what you meant by the two approaches</p>



<a name="202535162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202535162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202535162">(Jul 01 2020 at 06:33)</a>:</h4>
<p>If you meant nat vs pnat, the nat version still stands unchanged at 70_perfect_numbers.lean</p>



<a name="202535183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202535183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202535183">(Jul 01 2020 at 06:33)</a>:</h4>
<p>The pnat version is at pnat_perfect.lean and multiplicity_vectors.lean in the same directory</p>



<a name="202535266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202535266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202535266">(Jul 01 2020 at 06:35)</a>:</h4>
<p>If you meant the two statements of the two implications of the theorem in the pnat version, then check the big theorems at the bottom of pnat_perfect.lean</p>



<a name="202536320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202536320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202536320">(Jul 01 2020 at 06:57)</a>:</h4>
<p>Ok, thanks for the pointers</p>



<a name="202536394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202536394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202536394">(Jul 01 2020 at 06:58)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> also had some <code>p-1+1</code> issues with the Lucas Lehmer stuff. You could follow his "hack"</p>



<a name="202588289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202588289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202588289">(Jul 01 2020 at 16:07)</a>:</h4>
<p>It seems that his main hack was passing to the integers, which I could probably apply somewhere.</p>



<a name="202592052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202592052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202592052">(Jul 01 2020 at 16:37)</a>:</h4>
<p>No, I was thinking of something else. I think he is using <code>p'</code> to denote <code>p-1</code> to avoid nat-subtraction headaches.</p>



<a name="202599225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202599225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202599225">(Jul 01 2020 at 17:35)</a>:</h4>
<p>Ah, I think I’m doing something like that. I should have cleared the sorry in pnat_perfect.lean within a few hours, should I keep it in that separate file, or replace 70_perfect_numbers.lean?</p>



<a name="202599352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202599352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202599352">(Jul 01 2020 at 17:36)</a>:</h4>
<p>I’m probably going to have to break this all into several PRs to existing mathlib files anyway...</p>



<a name="202614354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202614354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202614354">(Jul 01 2020 at 19:36)</a>:</h4>
<p><code>pnat_perfect.lean</code> now sorry-free.</p>



<a name="202614444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202614444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202614444">(Jul 01 2020 at 19:37)</a>:</h4>
<p>I'm going to try to fix the sorries in <code>multiplicity_vectors.lean</code>, and then I'll need advice in sorting through where to put everything.</p>



<a name="202642809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202642809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202642809">(Jul 02 2020 at 01:47)</a>:</h4>
<p>Ok, the  pnat version and its prereqs are all sorry-free (although there's one extra file with sorries)</p>



<a name="202652683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202652683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202652683">(Jul 02 2020 at 05:55)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> Nice work. Does that mean you would like some reviews now?</p>



<a name="202652749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202652749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202652749">(Jul 02 2020 at 05:56)</a>:</h4>
<p>I feel like it would help me if you say exactly what you would like to have reviewed. Because you had several different approaches, and it's not clear where I should direct my attention/energy.</p>



<a name="202652958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202652958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202652958">(Jul 02 2020 at 06:01)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Yes, some reviews would be great. I'd want <code>pnat_perfect.lean</code> checked mostly for whether the final statements look like what we want them to be, and <code>multiplicity_vectors.lean</code> checked for which parts should be put in <code>src/</code></p>



<a name="202653055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202653055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202653055">(Jul 02 2020 at 06:03)</a>:</h4>
<p>I'm guessing that most of <code>multiplicity_vectors</code> wants to go in <code>data.pnat.factors</code> except for some which wants to go into <code>order.order_iso</code> or something about lattices</p>



<a name="202653136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202653136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202653136">(Jul 02 2020 at 06:05)</a>:</h4>
<p>and <code>pnat_perfect</code> will be renamed if its approach looks reasonable, and either left where it is, with any remaining basic pnat lemmas moved somewhere else, or put in <code>number_theory</code> I guess</p>



<a name="202653184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202653184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202653184">(Jul 02 2020 at 06:06)</a>:</h4>
<p>There are like 1000 lines, and you said that a PR should be about 250, so I should probably break those contributions up into multiple PRs also</p>



<a name="202653459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202653459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202653459">(Jul 02 2020 at 06:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="302826">Aaron Anderson</span> <a href="#narrow/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers/near/202653184">said</a>:</p>
<blockquote>
<p>There are like 1000 lines, and you said that a PR should be about 250, so I should probably break those contributions up into multiple PRs also</p>
</blockquote>
<p>Well, I'll take a look first (-; No worries</p>



<a name="202653572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202653572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202653572">(Jul 02 2020 at 06:15)</a>:</h4>
<p>Two new files of ~500 lines is really a lot easier to review than 500 lines scattered over 20 files</p>



<a name="202655188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202655188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202655188">(Jul 02 2020 at 06:49)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> I've left a first set of comments.</p>



<a name="202655209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202655209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202655209">(Jul 02 2020 at 06:49)</a>:</h4>
<p>I think that the first PR that I would split of is the stuff on <code>gcd</code> for pnats. That code looked quite stable already.</p>



<a name="202759432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202759432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202759432">(Jul 03 2020 at 00:41)</a>:</h4>
<p>I spun that off into <a href="https://github.com/leanprover-community/mathlib/issues/3274">#3274</a>.</p>



<a name="202768307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202768307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202768307">(Jul 03 2020 at 04:41)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> Thanks! I left come comments.</p>



<a name="202815638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202815638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202815638">(Jul 03 2020 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> How and when do I actually get this to merge?</p>



<a name="202816029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202816029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202816029">(Jul 03 2020 at 15:39)</a>:</h4>
<p>The label is currently "changes requested". If you think you made all the changes requested, change the label to "request review"</p>



<a name="202817050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202817050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202817050">(Jul 03 2020 at 15:51)</a>:</h4>
<p>And patience if definitely part of the process. Nobody here is being paid to review and merge PRs, although many of us more or less unilaterally decided it somehow counts as "work".</p>



<a name="202818065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202818065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202818065">(Jul 03 2020 at 16:02)</a>:</h4>
<p>Thanks! I think it’s probably ready to go, I just don’t want it stalled on a step I’ve neglected.</p>



<a name="202818072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202818072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202818072">(Jul 03 2020 at 16:02)</a>:</h4>
<p>Maybe I'm missing something, but I see a lot of comments marked as resolved that don't seem to have been addressed. e.g. <a href="https://github.com/leanprover-community/mathlib/pull/3094/files#r441406414">https://github.com/leanprover-community/mathlib/pull/3094/files#r441406414</a> still looks like a non-terminal <code>simp</code> to me.</p>



<a name="202818082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202818082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202818082">(Jul 03 2020 at 16:03)</a>:</h4>
<p>That one's from <a href="https://github.com/leanprover-community/mathlib/issues/3094">#3094</a> but I see the same in <a href="https://github.com/leanprover-community/mathlib/issues/3274">#3274</a>.</p>



<a name="202818770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202818770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202818770">(Jul 03 2020 at 16:10)</a>:</h4>
<p>I'll check what you mean. I created some weirdness for myself on <a href="https://github.com/leanprover-community/mathlib/issues/3094">#3094</a> by creating copying to a new file when I was making big changes, instead of embracing version control and editing the existing file with the knowledge I could revert.</p>



<a name="202819092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819092">(Jul 03 2020 at 16:14)</a>:</h4>
<p>I mean like here: <a href="https://github.com/leanprover-community/mathlib/pull/3274#discussion_r449367640">https://github.com/leanprover-community/mathlib/pull/3274#discussion_r449367640</a> Johan requested a change, and the conversation is marked as resolved, but the change was never pushed to that GitHub branch. You can see in the "files changed" tab that the file is still as before.</p>



<a name="202819097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819097">(Jul 03 2020 at 16:14)</a>:</h4>
<p>On <a href="https://github.com/leanprover-community/mathlib/issues/3274">#3274</a>, there's only one conversation where I'm not sure I should have marked it resolved, I reverted it to unresolved.</p>



<a name="202819206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819206">(Jul 03 2020 at 16:15)</a>:</h4>
<p>At a quick glance none of them look resolved to me. I see Johan left 11 comments, and the only change that's reached GitHub since is <a href="https://github.com/leanprover-community/mathlib/pull/3274/commits/ee6af484b5a4832ca012f4fcdbadd4fb33d89580">this one</a></p>



<a name="202819341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819341">(Jul 03 2020 at 16:17)</a>:</h4>
<p>Oh damn, I see.... I think I must have accidentally overwritten them on my end when I thought I had successfully pushed them...</p>



<a name="202819346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819346">(Jul 03 2020 at 16:17)</a>:</h4>
<p>Sorry, still totally new to git</p>



<a name="202819950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202819950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202819950">(Jul 03 2020 at 16:23)</a>:</h4>
<p>Ok, I think I've successfully restored and pushed all those changes that were missing.</p>



<a name="202821258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202821258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202821258">(Jul 03 2020 at 16:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="302826">Aaron Anderson</span> <a href="#narrow/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers/near/202819097">said</a>:</p>
<blockquote>
<p>On <a href="https://github.com/leanprover-community/mathlib/issues/3274">#3274</a>, there's only one conversation where I'm not sure I should have marked it resolved, I reverted it to unresolved.</p>
</blockquote>
<p>As far as that remaining one, I'm not sure if it makes more sense to try and recreate the entire API for gcd and coprime for nats in this PR, or to expand it now, get the Perfect Number theorem online, and then work on a generalizing framework to be able to prove those basic facts for all <code>comm_monoid</code>s with a reasonable definition of gcd.</p>



<a name="202821876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202821876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202821876">(Jul 03 2020 at 16:49)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> I've never thought about what the correct generality is for writing an API for <code>gcd</code>. If you have ideas about this, that would be great.</p>



<a name="202821892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202821892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202821892">(Jul 03 2020 at 16:49)</a>:</h4>
<p>I agree that if that is the case, it doesn't make a lot of sense to duplicate the entire API</p>



<a name="202825927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202825927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202825927">(Jul 03 2020 at 17:50)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> I left some new comments.</p>



<a name="202826096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202826096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202826096">(Jul 03 2020 at 17:53)</a>:</h4>
<p>This is looking good now. But CI reports some weird build failures. If you have trouble fixing them, I can help.</p>



<a name="202846016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202846016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202846016">(Jul 03 2020 at 23:28)</a>:</h4>
<p>I think it was just the fact that I ended a section wrong. We'll see in a few minutes if it's fixed, I suppose.</p>



<a name="202846525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202846525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202846525">(Jul 03 2020 at 23:43)</a>:</h4>
<p>Oof no there are still mysterious errors</p>



<a name="202846841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202846841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202846841">(Jul 03 2020 at 23:51)</a>:</h4>
<p>I think they're errors with declaring @[refl] for pnat.dvd_refl, because somehow it's failing to resolve states x | x where x is a nat?</p>



<a name="202940282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202940282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202940282">(Jul 05 2020 at 22:06)</a>:</h4>
<p>I made another sub-PR, <a href="https://github.com/leanprover-community/mathlib/issues/3291">#3291</a>, on the factor_finsupp function. Right now it's all in one file, but I've made notes on where I think things should probably move.</p>



<a name="202953230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%233094%2C%20Perfect%20Numbers/near/202953230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.233094.2C.20Perfect.20Numbers.html#202953230">(Jul 06 2020 at 04:44)</a>:</h4>
<p>I have a busy two days ahead of me, so if someone else can review this one: please go ahead.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>