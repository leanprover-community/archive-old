---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html">#12930 `is_add_regular`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276703170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276703170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276703170">(Mar 26 2022 at 03:46)</a>:</h4>
<p>Dear All,</p>
<p>In <a href="https://github.com/leanprover-community/mathlib/pull/12930">#12930</a>, I wanted to add the <code>to_additive</code> attribute to <code>is_regular</code>, <code>is_left_regular</code>, <code>is_right_regular</code>.  Ideally, I would have wanted the changes</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">is_regular</span>       <span class="bp">→</span> <span class="n">is_add_regular</span>
<span class="n">is_left_regular</span>  <span class="bp">→</span> <span class="n">is_add_left_regular</span>
<span class="n">is_right_regular</span> <span class="bp">→</span> <span class="n">is_add_right_regular.</span>
</code></pre></div>
<p>Eventually, I opted for simply changing <code>regular</code> to <code>add_regular</code> in <code>to_additive</code>, since I know how to do this and live with the names<br>
<code>is_add_regular</code>, <code>is_left_add_regular</code>, <code>is_right_add_regular</code>.</p>
<p>However, I later realized that there are more <code>regular</code>s appearing in mathlib with <code>to_additive</code> that should not be changed to <code>add_regular</code>.</p>
<p>Should I simply not change <code>to_additive</code> and always provide the "correct" name when I use it?  Or is there an easy way to make <code>to_additive</code> match<br>
<code>is_regular</code>, <code>is_left_regular</code>, <code>is_right_regular</code><br>
and replace these names with<br>
<code>is_add_regular</code>, <code>is_add_left_regular</code>, <code>is_add_right_regular</code>?</p>
<p>Thanks!</p>



<a name="276919915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276919915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276919915">(Mar 28 2022 at 19:25)</a>:</h4>
<p>Thanks to a comment of Floris in a different PR, I learned how to match<br>
<code>is_regular</code>, <code>is_left_regular</code>, <code>is_right_regular</code><br>
and replace these names with<br>
<code>is_add_regular</code>, <code>is_add_left_regular</code>, <code>is_add_right_regular</code>.</p>



<a name="276919923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276919923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276919923">(Mar 28 2022 at 19:25)</a>:</h4>
<p>The minor remaining concern is that <code>is_regular</code> is also used in the context of graph theory.  At the moment, in mathlib, there seems to be no use of <code>to_additive</code> in the context of graph theory.  Should that change, there might be a conflict.</p>



<a name="276923654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276923654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276923654">(Mar 28 2022 at 19:59)</a>:</h4>
<p>Damiano, there already is, but only a little. <a href="https://leanprover-community.github.io/mathlib_docs/find/add_salem_spencer">docs#add_salem_spencer</a>.</p>



<a name="276925724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276925724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276925724">(Mar 28 2022 at 20:15)</a>:</h4>
<p>But, is there a lemma that contains <code>is_regular</code> in its full name and has <code>to_additive</code>?  I'm on mobile and could not find it in the file you suggested.</p>



<a name="276925868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276925868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276925868">(Mar 28 2022 at 20:16)</a>:</h4>
<p>No, not yet.</p>



<a name="276925918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276925918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276925918">(Mar 28 2022 at 20:17)</a>:</h4>
<p>Ok, I was worried that I missed it!</p>



<a name="276925955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276925955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276925955">(Mar 28 2022 at 20:17)</a>:</h4>
<p>Do you think that my PR will cause problems?</p>



<a name="276926116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276926116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276926116">(Mar 28 2022 at 20:19)</a>:</h4>
<p>Not in the foreseeable future, and not more than happens already. For example, <a href="https://leanprover-community.github.io/mathlib_docs/find/add_salem_spencer.sum">docs#add_salem_spencer.sum</a> really should be <code>add_salem_spencer.prod</code> and I don't see how we could refine <code>to_additive</code> to avoid this kind of slips.</p>



<a name="276926677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/276926677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#276926677">(Mar 28 2022 at 20:24)</a>:</h4>
<p>If you spelled it <code>sprod</code>, then <code>to_additive</code> would ignore it.. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="277861212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/277861212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#277861212">(Apr 05 2022 at 11:19)</a>:</h4>
<p>Yaël, the PR with the <code>to_additive</code> conversion <code>is_regular --&gt; is_add_regular</code> has just been merged.  I hope this will not cause too many issues!</p>



<a name="277861253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312930%20%60is_add_regular%60/near/277861253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312930.20.60is_add_regular.60.html#277861253">(Apr 05 2022 at 11:19)</a>:</h4>
<p>Thanks for the notification! I will monitor the situation.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>