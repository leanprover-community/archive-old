---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html">#11313 prime powers</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267614248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267614248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267614248">(Jan 11 2022 at 17:17)</a>:</h4>
<p>What is the correct generalisation of prime powers to UFDs? The most obvious one is to look at powers of irreducibles, but I don't know how useful this is in the general case; and I don't know if it will work nicely in the usual case of naturals. Another option is to have <code>is_pow</code> itself take in a predicate, but this somewhat displaces the issue: how should the statements in the file be written then (<code>is_pow nat.prime</code>, <code>is_pow irreducible</code>, <code>is_pow prime</code>)? cc <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span></p>



<a name="267615156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267615156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267615156">(Jan 11 2022 at 17:23)</a>:</h4>
<p>Note that <code>nat.prime</code> is now just the same as <code>irreducible</code>.</p>



<a name="267615517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267615517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267615517">(Jan 11 2022 at 17:25)</a>:</h4>
<p>What are you worried about when you say</p>
<blockquote>
<p>I don't know how useful this is in the general case; and I don't know if it will work nicely in the usual case of naturals.</p>
</blockquote>
<p>I think it will be quite useful to be able to apply this to ideals in a Dedekind domain, etc... so having the general case makes sense to me.</p>



<a name="267615875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267615875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267615875">(Jan 11 2022 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311313.20prime.20powers/near/267615517">said</a>:</p>
<blockquote>
<p>What are you worried about when you say</p>
<blockquote>
<p>I don't know how useful this is in the general case; and I don't know if it will work nicely in the usual case of naturals.</p>
</blockquote>
<p>I think it will be quite useful to be able to apply this to ideals in a Dedekind domain, etc... so having the general case makes sense to me.</p>
</blockquote>
<p>I'll certainly take your word that it's useful to other cases, I just meant that I'm not familiar with them so I personally can't comment on whether it's the correct generalisation! It was an argument for asking for others' opinions, not an argument against that version</p>



<a name="267616183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267616183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267616183">(Jan 11 2022 at 17:30)</a>:</h4>
<p>For the second part of that, right now if I'm working with concrete nats (ie I have <code>open nat</code>), the name <code>dvd_of_dvd_pow</code> is ambiguous, and both versions <em>look</em> like they have the same type but they're different. Again this isn't a problem, but it's annoying and if I can avoid that happening again I'd like that!</p>



<a name="267616315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267616315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267616315">(Jan 11 2022 at 17:31)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span>  was working on removing <code>nat.prime</code> fully</p>



<a name="267617510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267617510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267617510">(Jan 11 2022 at 17:39)</a>:</h4>
<p>Not super actively, fwiw. I do have some half finished generalisations of lemmas about <a href="http://nat.prime">nat.prime</a> lying around that I should pr</p>



<a name="267618511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267618511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267618511">(Jan 11 2022 at 17:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311313.20prime.20powers/near/267615517">said</a>:</p>
<blockquote>
<p>What are you worried about when you say</p>
<blockquote>
<p>I don't know how useful this is in the general case; and I don't know if it will work nicely in the usual case of naturals.</p>
</blockquote>
<p>I think it will be quite useful to be able to apply this to ideals in a Dedekind domain, etc... so having the general case makes sense to me.</p>
</blockquote>
<p>To be clear, you're saying that <code>is_irreducible_pow</code> will be useful to have? If so, probably there's not much more discussion here!</p>



<a name="267618670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267618670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267618670">(Jan 11 2022 at 17:47)</a>:</h4>
<p>I think <code>is_prime_pow</code> will be useful to have. And for <code>â„•</code> it's the same is <code>is_irreducible_pow</code>.</p>



<a name="267618736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267618736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267618736">(Jan 11 2022 at 17:47)</a>:</h4>
<p>I don't know if we should have both... I think in the interesting use cases they are the same predicate.</p>



<a name="267619032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267619032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267619032">(Jan 11 2022 at 17:49)</a>:</h4>
<p>I see, so your suggestion is for the general case to be for powers of primes, and to have a lemma for nats saying that this is the same as powers of nat.primes, with no explicit mention of irreducibles?</p>



<a name="267619234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267619234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267619234">(Jan 11 2022 at 17:50)</a>:</h4>
<p>Yes, that's what I would do for now.</p>



<a name="267619382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267619382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267619382">(Jan 11 2022 at 17:51)</a>:</h4>
<p>Great, I'll do that then!</p>



<a name="267639989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267639989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267639989">(Jan 11 2022 at 20:24)</a>:</h4>
<p>I'm not sure if this goes well with the generalization that you have in mind, but <em>primary</em> ideals play an important role in commutative algebra and in algebraic geometry.  For Dedekind domains, primary ideals are simply powers of prime ideals, but this is not true for general rings.</p>



<a name="267640436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267640436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267640436">(Jan 11 2022 at 20:28)</a>:</h4>
<p>I might be misunderstanding, but isn't this exactly what Johan was saying earlier in the thread?</p>



<a name="267641158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267641158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267641158">(Jan 11 2022 at 20:34)</a>:</h4>
<p>Maybe I misunderstood: I thought that you were looking for generalization of "powers of prime ideals in <code>nat</code>".  Primary ideals (instead of powers of a prime ideal) are a possible generalization.</p>



<a name="267641584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267641584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267641584">(Jan 11 2022 at 20:38)</a>:</h4>
<p>I agree that's a useful concept. And we should just have both. But let's leave primary ideals for a future PR.</p>



<a name="267641792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267641792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267641792">(Jan 11 2022 at 20:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311313.20prime.20powers/near/267641158">said</a>:</p>
<blockquote>
<p>Maybe I misunderstood: I thought that you were looking for generalization of "powers of prime ideals in <code>nat</code>".  Primary ideals (instead of powers of a prime ideal) are a possible generalization.</p>
</blockquote>
<p>I see, thanks for clarifying! I misunderstood the distinction between powers of a  prime ideal and primary ideals</p>



<a name="267641992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267641992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267641992">(Jan 11 2022 at 20:42)</a>:</h4>
<p>The first reaction when you see primary ideals is to mistake then for powers of primes, but they are not.  And they are useful, giving rise to primary decompositions!</p>



<a name="267644386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267644386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267644386">(Jan 11 2022 at 21:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311313.20prime.20powers/near/267614248">said</a>:</p>
<blockquote>
<p>Another option is to have <code>is_pow</code> itself take in a predicate, but this somewhat displaces the issue: how should the statements in the file be written then (<code>is_pow nat.prime</code>, <code>is_pow irreducible</code>, <code>is_pow prime</code>)?</p>
</blockquote>
<p>Did you try this? If it works, that seems like the best option. But I don't know how many lemmas you can prove for such a general setup.</p>



<a name="267656739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/267656739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#267656739">(Jan 11 2022 at 22:38)</a>:</h4>
<p>I didn't, I guess it will work, but as you say in that setup there probably aren't many useful lemmas (Eric R mentioned it in the PR discussion)</p>



<a name="269460990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2311313%20prime%20powers/near/269460990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2311313.20prime.20powers.html#269460990">(Jan 26 2022 at 18:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2311313.20prime.20powers/near/267619234">said</a>:</p>
<blockquote>
<p>Yes, that's what I would do for now.</p>
</blockquote>
<p>Done!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>