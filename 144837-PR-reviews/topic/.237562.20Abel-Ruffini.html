---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html">#7562 Abel-Ruffini</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="238093523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238093523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238093523">(May 10 2021 at 06:37)</a>:</h4>
<p>Wow! Congratulations! <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span> <span aria-label="clink" class="emoji emoji-1f942" role="img" title="clink">:clink:</span></p>



<a name="238093852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238093852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238093852">(May 10 2021 at 06:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">nat_degree_poly</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="bp">^</span> <span class="mi">5</span> <span class="bp">-</span> <span class="n">C</span> <span class="bp">↑</span><span class="n">a</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">+</span> <span class="n">C</span> <span class="bp">↑</span><span class="n">b</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">ℤ</span><span class="o">)</span><span class="bp">.</span><span class="n">nat_degree</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h05</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="mi">5</span> <span class="o">:=</span> <span class="n">nat.zero_lt_bit1</span> <span class="mi">2</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h15</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">&lt;</span> <span class="mi">5</span> <span class="o">:=</span> <span class="n">one_lt_bit1.mpr</span> <span class="n">zero_lt_two</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">le_antisymm</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">nat_degree_le_iff_coeff_eq_zero</span><span class="o">,</span>
    <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_add</span><span class="o">,</span> <span class="n">coeff_sub</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">if_neg</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="n">hn</span><span class="o">),</span>
        <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="n">coeff_X</span><span class="o">,</span> <span class="n">if_neg</span> <span class="o">(</span><span class="n">ne_of_lt</span> <span class="o">(</span><span class="n">h15.trans</span> <span class="n">hn</span><span class="o">)),</span> <span class="n">mul_zero</span><span class="o">,</span>
        <span class="n">coeff_C</span><span class="o">,</span> <span class="n">if_neg</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="o">(</span><span class="n">h05.trans</span> <span class="n">hn</span><span class="o">)),</span> <span class="n">sub_zero</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">apply</span> <span class="n">le_nat_degree_of_ne_zero</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">coeff_add</span><span class="o">,</span> <span class="n">coeff_sub</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">if_pos</span> <span class="n">rfl</span><span class="o">,</span>
        <span class="n">coeff_C_mul</span><span class="o">,</span> <span class="n">coeff_X</span><span class="o">,</span> <span class="n">if_neg</span> <span class="o">(</span><span class="n">ne_of_lt</span> <span class="n">h15</span><span class="o">),</span> <span class="n">mul_zero</span><span class="o">,</span>
        <span class="n">coeff_C</span><span class="o">,</span> <span class="n">if_neg</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="n">h05</span><span class="o">),</span> <span class="n">sub_zero</span><span class="o">,</span> <span class="n">add_zero</span><span class="o">],</span>
    <span class="n">exact</span> <span class="n">one_ne_zero</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>Is this something that a <code>norm_num</code> extension could easily do?</p>



<a name="238093941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238093941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238093941">(May 10 2021 at 06:42)</a>:</h4>
<p>That would be nice.</p>



<a name="238094197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238094197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238094197">(May 10 2021 at 06:46)</a>:</h4>
<p>Well, probably not <code>norm_num</code> because it is supposed to work with numbers, but <code>norm_poly</code>. Putting together the terms with the same <code>X^i</code> coefficient, and then asking <code>norm_num</code> if the higher degree coefficient is obviously non-zero, seems like a reasonable task.</p>



<a name="238095084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238095084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238095084">(May 10 2021 at 06:58)</a>:</h4>
<p>Can <code>simp</code> find that chain of rewrites?</p>



<a name="238095577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238095577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238095577">(May 10 2021 at 07:03)</a>:</h4>
<p>I think that simp has trouble evaluating coefficients, since it doesn't know whether to use <code>if_pos</code> or <code>if_neg</code>.</p>



<a name="238097553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237562%20Abel-Ruffini/near/238097553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237562.20Abel-Ruffini.html#238097553">(May 10 2021 at 07:24)</a>:</h4>
<p>Probably a better way to prove this is to prove that nat_degree(f+g)=nat_degree(f) if nat_degree(g)&lt;nat_degree(f) and that nat_degree(C*X^d)&lt;=d.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>