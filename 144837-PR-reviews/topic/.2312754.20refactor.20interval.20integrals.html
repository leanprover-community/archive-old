---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html">#12754 refactor interval integrals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276011597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276011597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276011597">(Mar 21 2022 at 06:46)</a>:</h4>
<blockquote>
<p>refactor(measure_theory/integral): restrict interval integrals to real intervals <a href="https://github.com/leanprover-community/mathlib/pull/12754">#12754</a> </p>
</blockquote>
<p>Could integration experts please decide whether this improvement in UX outweighs the loss in generality?</p>



<a name="276015606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276015606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276015606">(Mar 21 2022 at 07:55)</a>:</h4>
<p>Some previous discussion: <a href="#narrow/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F</a></p>



<a name="276090082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276090082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276090082">(Mar 21 2022 at 17:55)</a>:</h4>
<p>After casting my vote in the poll contained in thread Ruben linked, there is now a majority in favour of merging. I think it really comes down to <a href="#narrow/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F/near/270037186">Reid's point</a> and we should just merge this.</p>



<a name="276090525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276090525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276090525">(Mar 21 2022 at 17:59)</a>:</h4>
<p>I'm very hesitant to comment as I don't touch this area much, but is it maybe correct to fix this at the notation end? i.e. change the definition to <code>notation `∫` binders ` in ` a `..` b `, ` r:(scoped:60 f, f) ` ∂` μ:70 := interval_integral r (a : ℝ) b μ</code> and if you want <code>interval_integral</code> over some crazy space, then you have to not use the notation/use another one?</p>



<a name="276092120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276092120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276092120">(Mar 21 2022 at 18:10)</a>:</h4>
<p>I actually view the proposed more restrictive definition of <code>interval_integral</code> as a benefit, rather than a cost: it simplifies the theory, I bet c.100% of the time <code>interval_integral</code> will be used for <code>α = ℝ</code>, and the alternative <code>∫ x in Ioc a b, f x ∂μ</code> for a general <code>α</code> is absolutely acceptable IMO. Nevertheless, the notation solution is neat too.</p>



<a name="276092258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276092258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276092258">(Mar 21 2022 at 18:11)</a>:</h4>
<p>But it would mean that API devs can't use the notation xor the API is developed for <code>α = ℝ</code> nonetheless.</p>



<a name="276092365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276092365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276092365">(Mar 21 2022 at 18:12)</a>:</h4>
<p>Great point; I'm not so keen on the notation solution in view of this.</p>



<a name="276092530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276092530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276092530">(Mar 21 2022 at 18:13)</a>:</h4>
<p>Then we can make the general notation local and the restricted notation global once the API is done.</p>



<a name="276093672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276093672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276093672">(Mar 21 2022 at 18:22)</a>:</h4>
<p>That sounds really confusing</p>



<a name="276094693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276094693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276094693">(Mar 21 2022 at 18:28)</a>:</h4>
<p>How so? It will be literally the same notation.</p>



<a name="276094846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276094846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276094846">(Mar 21 2022 at 18:29)</a>:</h4>
<p>I'm really wary of crippling definitions for the sake of convenience. If this is merged, I very well see someone coming along undoing this very PR in six months or so.</p>



<a name="276136414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2312754%20refactor%20interval%20integrals/near/276136414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2312754.20refactor.20interval.20integrals.html#276136414">(Mar 22 2022 at 02:18)</a>:</h4>
<p>I doubt that because the main convenience of interval integrals is that we have theorems like FTC, and these theorems assume <code>a b : real</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>