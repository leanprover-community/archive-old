---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html">#14430 Generalize finset.Ioi to empty types</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="285852743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285852743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285852743">(Jun 12 2022 at 17:23)</a>:</h4>
<p>This introduces two new classes to deal with <code>finset.Ixi</code> and <code>finset.Iix</code>. They are barely more general than <code>locally_finite_order</code> + <code>order_bot</code>, but in a way which makes many uses smoother (see <a href="https://github.com/leanprover-community/mathlib/pull/14448">#14448</a>). The motivation is mostly <code>fin</code>. Any more thoughts?</p>



<a name="285856781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285856781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285856781">(Jun 12 2022 at 19:04)</a>:</h4>
<p>My stance was that I was generally in favor, but wanted to be sure the design worked for things othen than fin that might come up. Can anyone think of a parameterized family of types that is sometimes empty other than <code>fin n</code> with <code>n = 0</code> and types built upon it?</p>



<a name="285856865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285856865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285856865">(Jun 12 2022 at 19:06)</a>:</h4>
<p><code>subtype p</code> with <code>p x = false</code> is all I can come up with, but that's not particularly interesting and <code>subtype.locally_finite_order_bot</code> in the PR is the case we actually need anyway.</p>



<a name="285857102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285857102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285857102">(Jun 12 2022 at 19:11)</a>:</h4>
<p>All I can think of is <code>α × β</code> where <code>α</code> is empty and <code>β</code> is not a <code>locally_finite_order_bot</code>. I don't think any of my instances cover this case.</p>



<a name="285858593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285858593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285858593">(Jun 12 2022 at 19:43)</a>:</h4>
<p>Ah, but that's not a family that satisfies <code>locally_finite_order_bot</code> everywhere</p>



<a name="285858725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285858725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285858725">(Jun 12 2022 at 19:46)</a>:</h4>
<p>Yeah, right. So I actually come up with an example <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="285892031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285892031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285892031">(Jun 13 2022 at 07:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types/near/285856781">said</a>:</p>
<blockquote>
<p>Can anyone think of a parameterized family of types that is sometimes empty other than <code>fin n</code> with <code>n = 0</code> and types built upon it?</p>
</blockquote>
<p>The set unit-length eigenvectors of some operator on a real inner product space, parameterized by eigenvalues?</p>



<a name="285892056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/285892056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#285892056">(Jun 13 2022 at 07:47)</a>:</h4>
<p>(disclaimer: I haven't looked at the PR so maybe that's not really an example)</p>



<a name="286006361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286006361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286006361">(Jun 14 2022 at 00:19)</a>:</h4>
<p>Is this a locally finite order?</p>



<a name="286006379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286006379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286006379">(Jun 14 2022 at 00:19)</a>:</h4>
<p>Mostly, do we need to treat it as such?</p>



<a name="286029405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286029405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286029405">(Jun 14 2022 at 07:02)</a>:</h4>
<p>If we really can't find any other example, what about we merge this now?</p>



<a name="286036391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286036391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286036391">(Jun 14 2022 at 08:17)</a>:</h4>
<p>Surely a lack of examples is evidence against merging?</p>



<a name="286036642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286036642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286036642">(Jun 14 2022 at 08:19)</a>:</h4>
<p>except that we do have an example, namely <code>fin n</code>, and <a href="https://github.com/leanprover-community/mathlib/pull/14448">#14448</a> shows how much these new classes simplify various parts of the library (mostly matrix stuff).</p>



<a name="286036886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286036886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286036886">(Jun 14 2022 at 08:21)</a>:</h4>
<p>Perhaps I misunderstood your message (to me it read as "fewer examples =&gt; let's merge"). Speaking for myself I'm at absolute capacity in terms of what I can look at today so I can't help here for now.</p>



<a name="286036972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286036972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286036972">(Jun 14 2022 at 08:22)</a>:</h4>
<p>For the record, my null hypothesis is that you're correct but I always want to judge a PR based on understanding its contents, rather than its author.</p>



<a name="286037661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286037661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286037661">(Jun 14 2022 at 08:28)</a>:</h4>
<p>Ah no. The question wasn't merging vs not but rather merging in this form vs another. This form accommodates <code>fin n</code> and Eric's argument was that we should try to accommodate other examples. But as it turns out we can't think of any other.</p>



<a name="286041546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286041546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286041546">(Jun 14 2022 at 09:03)</a>:</h4>
<p>My argument was that we should either accommodate other examples, or convince ourselves there aren't any interesting ones</p>



<a name="286043260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286043260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286043260">(Jun 14 2022 at 09:20)</a>:</h4>
<p>The eigenvalue situation described above feels like it probably ends up falling out of the <code>subtype</code> case</p>



<a name="286043346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286043346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286043346">(Jun 14 2022 at 09:22)</a>:</h4>
<p>Do we have that <code>coe_sort s</code> where <code>s : finset X</code> (but not <code>locally_finite X</code>)  is a locally finite order?</p>



<a name="286049238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286049238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286049238">(Jun 14 2022 at 10:15)</a>:</h4>
<p>Ah, we don't becuase it would form a diamond with the case where <code>X</code> <em>is</em> locally-finite</p>



<a name="286049275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314430%20Generalize%20finset.Ioi%20to%20empty%20types/near/286049275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314430.20Generalize.20finset.2EIoi.20to.20empty.20types.html#286049275">(Jun 14 2022 at 10:15)</a>:</h4>
<p>So I guess the type of diamond I was worried about already exists so there's not much point worryinb about <code>Ioi</code> making it worse</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>