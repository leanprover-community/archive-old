---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html">#14767 refactor full subcategories</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="290995760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290995760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290995760">(Jul 27 2022 at 06:55)</a>:</h4>
<p>It would be nice if someone could have a look at this. It's more than a month old and looking at PRs like <a href="https://github.com/leanprover-community/mathlib/pull/15703">#15703</a> it will keep rotting.</p>



<a name="290997062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290997062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290997062">(Jul 27 2022 at 07:10)</a>:</h4>
<p>Taking a look right now!</p>



<a name="290997621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290997621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290997621">(Jul 27 2022 at 07:18)</a>:</h4>
<p><span class="user-mention" data-user-id="260921">@Markus Himmel</span> The diff doesn't really show pain points being removed, which I find a bit surprising.<br>
I can certainly imagine <code>\u X</code> being annoying, but it isn't really noticeable in the diff.</p>



<a name="290998321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290998321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290998321">(Jul 27 2022 at 07:26)</a>:</h4>
<p>The reason is that the places where this was really painful (most prominently <code>category_theory.sheaf</code>, i.e., sheaves on sites) are already migrated to a custom structure specific to that category. The goal of this (and future) PRs is to make full subcategories usable enough that you don't have to hand-roll the custom structure for every full subcategory you want to consider. In a follow-up PR, we should be able to make sheaves on sites into a <code>full_subcategory</code> (potentially after also creating a structure for morphisms in a <code>full_subcategory</code> as is done for sheaves). In other words, the present PR can be seen as a first step to get the ball rolling. I hope you'll agree that multiple small refactors with small diffs are preferable to a single huge refactor with a huge diff.</p>
<p>If you like, you can also have a look at the Zulip discussion linked in the PR, where the pain points of using subtypes are discussed in detail.</p>



<a name="290999476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290999476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290999476">(Jul 27 2022 at 07:40)</a>:</h4>
<p>Aha, fair enough. So we should refactor sheaves to make use of this new refactor. Good point. Let's merge this.</p>



<a name="290999630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2314767%20refactor%20full%20subcategories/near/290999630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2314767.20refactor.20full.20subcategories.html#290999630">(Jul 27 2022 at 07:41)</a>:</h4>
<p>I gave you a <code>bors d+</code> since CI is still running.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>