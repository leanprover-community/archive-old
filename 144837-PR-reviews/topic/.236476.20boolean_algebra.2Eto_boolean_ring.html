---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html">#6476 boolean_algebra.to_boolean_ring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="242095576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242095576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242095576">(Jun 09 2021 at 16:44)</a>:</h4>
<p>Most of this PR is ready for review, but I'm stuck on defining the final <code>equiv</code> between <code>boolean_algebra</code> and <code>boolean_ring</code>. I think I have all the pieces but I'm stuck with some scary equalities between structures that I don't know how to simplify. See the <code>sorry</code>s <a href="https://github.com/leanprover-community/mathlib/pull/6476/files#diff-d9391fd66fc8b5b1b4f34b04e9cdc2289a7a5b54a1c4d9b8c2def01da8218b23R320">here</a>. Any help or suggestions are welcome!</p>



<a name="242118386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242118386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242118386">(Jun 09 2021 at 19:37)</a>:</h4>
<p>If you add <code>@[ext]</code> to <code>class boolean_ring α</code> and if you <em>also</em> define</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[ext]</span> <span class="kd">lemma</span> <span class="n">ring.ext</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">h_add</span> <span class="o">:</span> <span class="n">i.add</span> <span class="bp">=</span> <span class="n">j.add</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mul</span> <span class="o">:</span> <span class="n">i.mul</span> <span class="bp">=</span> <span class="n">j.mul</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h_zero</span> <span class="o">:</span> <span class="n">i.zero</span> <span class="bp">=</span> <span class="n">j.zero</span><span class="o">)</span> <span class="o">(</span><span class="n">h_one</span> <span class="o">:</span> <span class="n">i.one</span> <span class="bp">=</span> <span class="n">j.one</span><span class="o">)</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>then you can finish your first proof with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>      <span class="n">rcases</span> <span class="n">BR</span> <span class="k">with</span> <span class="o">⟨⟨⟩⟩,</span>
      <span class="n">dsimp</span> <span class="o">[</span><span class="n">to_boolean_algebra</span><span class="o">,</span> <span class="n">boolean_algebra.to_boolean_ring</span><span class="o">],</span>
      <span class="n">ext1</span><span class="o">,</span>
      <span class="n">ext1</span><span class="o">,</span>
      <span class="o">{</span> <span class="n">apply</span> <span class="n">to_boolean_algebra.add_eq</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">apply</span> <span class="n">to_boolean_algebra.mul_eq</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">apply</span> <span class="n">to_boolean_algebra.zero_eq</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">apply</span> <span class="n">to_boolean_algebra.one_eq</span> <span class="o">},</span>
</code></pre></div>
<p>It's a bit surprising that <code>ring.ext</code> isn't there. You don't even need that the zeros are equal, you can deduce this from the fact that the additions are equal and the fact that they're both add_group structures. Are we missing an import? <a href="https://leanprover-community.github.io/mathlib_docs/find/ring.ext">docs#ring.ext</a> Edit: apparently not.</p>



<a name="242119110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242119110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242119110">(Jun 09 2021 at 19:44)</a>:</h4>
<p>Maybe ring.ext should also ask that negs are the same, and then we need lemmas saying subs, nsmuls, gsmuls and npows are the same.</p>



<a name="242122409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242122409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242122409">(Jun 09 2021 at 20:06)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">@[to_additive]</span>
<span class="kd">lemma</span> <span class="n">monoid.ext</span> <span class="o">{</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">monoid</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mul</span> <span class="o">:</span> <span class="n">i.mul</span> <span class="bp">=</span> <span class="n">j.mul</span><span class="o">)</span> <span class="o">(</span><span class="n">h_one</span> <span class="o">:</span> <span class="n">i.one</span> <span class="bp">=</span> <span class="n">j.one</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">unfreezingI</span> <span class="o">{</span>
    <span class="n">rcases</span> <span class="n">i</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">i_mul</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">i_one</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">i_npow</span><span class="o">,</span> <span class="n">i_npow_zero</span><span class="o">,</span> <span class="n">i_npow_succ</span><span class="o">⟩,</span>
    <span class="n">rcases</span> <span class="n">j</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">j_mul</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">j_one</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="n">j_npow</span><span class="o">,</span> <span class="n">j_npow_zero</span><span class="o">,</span> <span class="n">j_npow_succ</span><span class="o">⟩</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">i_mul</span> <span class="bp">=</span> <span class="n">j_mul</span> <span class="n">at</span> <span class="n">h_mul</span><span class="o">,</span> <span class="n">subst</span> <span class="n">h_mul</span><span class="o">,</span>
  <span class="n">change</span> <span class="n">i_one</span> <span class="bp">=</span> <span class="n">j_one</span> <span class="n">at</span> <span class="n">h_one</span><span class="o">,</span> <span class="n">subst</span> <span class="n">h_one</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_npow</span> <span class="o">:</span> <span class="n">i_npow</span> <span class="bp">=</span> <span class="n">j_npow</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">n</span><span class="o">,</span>
    <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_npow_zero</span><span class="o">,</span> <span class="n">j_npow_zero</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_npow_succ</span><span class="o">,</span> <span class="n">j_npow_succ</span><span class="o">,</span> <span class="n">hd</span><span class="o">]</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_npow</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Do we not have _any_ of these?? I am holding off from generating the lemmas Bryan needs simply because I am half-expecting someone to tell me that they're already there. <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> you would have noticed them when doing the group/monoid refactor if they were there (because they're now harder work to prove!)</p>



<a name="242125778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242125778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242125778">(Jun 09 2021 at 20:33)</a>:</h4>
<p><code>attribute [ext] ring</code> will prove these things for you</p>



<a name="242125946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242125946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242125946">(Jun 09 2021 at 20:34)</a>:</h4>
<p>It will prove a very poor version of what we want, because it will demand equality of npow and sub and neg and gpow etc etc</p>



<a name="242126053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242126053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242126053">(Jun 09 2021 at 20:35)</a>:</h4>
<p>We should(?) have stuff like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">group.ext</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">group</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mul</span> <span class="o">:</span> <span class="n">i.mul</span> <span class="bp">=</span> <span class="n">j.mul</span><span class="o">)</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span>
</code></pre></div>
<p>(I'm in the middle of proving it)</p>



<a name="242127375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242127375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242127375">(Jun 09 2021 at 20:45)</a>:</h4>
<p>I think we don't have these just because no-one ever needed them. (In which situation would you have two different group structures on a space, that happen to be the same but in a non-obvious way?)</p>



<a name="242127467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242127467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242127467">(Jun 09 2021 at 20:46)</a>:</h4>
<p>When proving that boolean algebra structures on alpha are equiv to boolean ring structures? (i.e. see the first post in this thread)</p>



<a name="242127483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242127483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242127483">(Jun 09 2021 at 20:46)</a>:</h4>
<p>We have <a href="https://leanprover-community.github.io/mathlib_docs/find/module_ext">docs#module_ext</a> in this style. And I thought I saw one for algebra, but maybe in a PR.</p>



<a name="242127845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242127845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242127845">(Jun 09 2021 at 20:49)</a>:</h4>
<p><code>ring.ext</code> doesn't exist for the reason <span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> said. Similar versions exist for other classes when this arose, like I think <a href="https://leanprover-community.github.io/mathlib_docs/find/partial_order.ext">docs#partial_order.ext</a> exists. I think <code>ring.ext</code> should only require that add and mul are the same, everything else should follow.</p>



<a name="242128010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128010">(Jun 09 2021 at 20:50)</a>:</h4>
<p>Also <code>monoid.ext</code> doesn't need the one to be the same</p>



<a name="242128053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128053">(Jun 09 2021 at 20:50)</a>:</h4>
<p>Are there any useful applications of this equivalence between boolean ring structures and boolean algebra structures, aside from the fact that it's a philosophically satisfying result?</p>



<a name="242128129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128129">(Jun 09 2021 at 20:51)</a>:</h4>
<p>Then is Bryan doing something wrong? He's trying to prove that there's a bijection between boolean ring and boolean algebra structures on a type. Checking that his constructions round trip involves precisely having to show that two ring structures are the same because their additions and multiplications agree.</p>



<a name="242128300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128300">(Jun 09 2021 at 20:52)</a>:</h4>
<p>It makes sense for it to appear in this context, although I agree that it's not particularly likely to be used</p>



<a name="242128359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128359">(Jun 09 2021 at 20:53)</a>:</h4>
<p>I think that these ext lemmas are useful if only to record the information about which fields of a structure imply which other fields</p>



<a name="242128580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128580">(Jun 09 2021 at 20:54)</a>:</h4>
<p>In metamath we would normally just use these fields in the structure, i.e. a ring is a pair of an add and mul and everything else is derived. In lean we like to have lots of redundant fields so the proof that they are redundant is missing</p>



<a name="242128707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128707">(Jun 09 2021 at 20:55)</a>:</h4>
<p>We could make a <code>ring.of_add_mul</code> function...</p>



<a name="242128781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128781">(Jun 09 2021 at 20:56)</a>:</h4>
<p>Right, but that wouldn't prove the ext lemma I don't think?</p>



<a name="242128796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128796">(Jun 09 2021 at 20:56)</a>:</h4>
<p>In fact that's the kind of function that we may well already have.</p>



<a name="242128804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128804">(Jun 09 2021 at 20:56)</a>:</h4>
<p>True</p>



<a name="242128806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242128806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242128806">(Jun 09 2021 at 20:56)</a>:</h4>
<p>the ext lemma would be equivalent to the assertion that <code>ring.of_add_mul</code> is surjective</p>



<a name="242129024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242129024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242129024">(Jun 09 2021 at 20:58)</a>:</h4>
<p>Am I making a meal of this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">@[to_additive]</span>
<span class="kd">lemma</span> <span class="n">group.ext</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">group</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">h_mul</span> <span class="o">:</span> <span class="n">i.mul</span> <span class="bp">=</span> <span class="n">j.mul</span><span class="o">)</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">let</span> <span class="n">iG</span> <span class="o">:</span> <span class="n">group</span> <span class="n">G</span> <span class="o">:=</span> <span class="n">i</span><span class="o">,</span>
  <span class="n">unfreezingI</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">i</span><span class="o">,</span> <span class="n">cases</span> <span class="n">j</span> <span class="o">},</span>
  <span class="n">change</span> <span class="n">i_mul</span> <span class="bp">=</span> <span class="n">j_mul</span> <span class="n">at</span> <span class="n">h_mul</span><span class="o">,</span> <span class="n">subst</span> <span class="n">h_mul</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_one</span> <span class="o">:</span> <span class="n">i_one</span> <span class="bp">=</span> <span class="n">j_one</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span> <span class="n">j_mul_one</span> <span class="n">i_one</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">i_one_mul</span> <span class="n">j_one</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_one</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_inv</span> <span class="o">:</span> <span class="n">i_inv</span> <span class="bp">=</span> <span class="n">j_inv</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">a</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">mul_left_inj</span> <span class="n">a</span><span class="o">],</span>
    <span class="n">convert</span> <span class="o">(</span><span class="n">rfl</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">i_mul_left_inv</span> <span class="n">a</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">j_mul_left_inv</span> <span class="n">a</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_inv</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_div</span> <span class="o">:</span> <span class="n">i_div</span> <span class="bp">=</span> <span class="n">j_div</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span>
    <span class="n">convert</span> <span class="o">(</span><span class="n">rfl</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">⁻¹</span><span class="o">),</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">i_div_eq_mul_inv</span> <span class="n">a</span> <span class="n">b</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">j_div_eq_mul_inv</span> <span class="n">a</span> <span class="n">b</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_div</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_npow</span> <span class="o">:</span> <span class="n">i_npow</span> <span class="bp">=</span> <span class="n">j_npow</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">n</span><span class="o">,</span>
    <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">IH</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_npow_zero'</span><span class="o">,</span> <span class="n">j_npow_zero'</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_npow_succ'</span><span class="o">,</span> <span class="n">j_npow_succ'</span><span class="o">,</span> <span class="n">IH</span><span class="o">]</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_npow</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">h_gpow_aux</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="n">g</span><span class="o">,</span> <span class="n">i_gpow</span> <span class="o">(</span><span class="n">int.of_nat</span> <span class="n">n</span><span class="o">)</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">j_gpow</span> <span class="o">(</span><span class="n">int.of_nat</span> <span class="n">n</span><span class="o">)</span> <span class="n">g</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">n</span> <span class="n">g</span><span class="o">,</span>
    <span class="n">induction</span> <span class="n">n</span> <span class="k">with</span> <span class="n">n</span> <span class="n">IH</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">convert</span> <span class="o">(</span><span class="n">rfl</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">1</span><span class="o">),</span>
      <span class="o">{</span> <span class="n">exact</span> <span class="n">i_gpow_zero'</span> <span class="n">g</span> <span class="o">},</span>
      <span class="o">{</span> <span class="n">exact</span> <span class="n">j_gpow_zero'</span> <span class="n">g</span> <span class="o">}</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_gpow_succ'</span><span class="o">,</span> <span class="n">j_gpow_succ'</span><span class="o">,</span> <span class="n">IH</span><span class="o">]</span> <span class="o">}</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">h_gpow</span> <span class="o">:</span> <span class="n">i_gpow</span> <span class="bp">=</span> <span class="n">j_gpow</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">z</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">z</span> <span class="k">with</span> <span class="n">z</span> <span class="n">z</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="n">h_gpow_aux</span> <span class="n">z</span> <span class="n">x</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">i_gpow_neg'</span><span class="o">,</span> <span class="n">j_gpow_neg'</span><span class="o">],</span>
      <span class="n">congr'</span><span class="o">,</span>
      <span class="n">exact</span> <span class="n">h_gpow_aux</span> <span class="n">_</span> <span class="n">_</span> <span class="o">}</span> <span class="o">},</span>
  <span class="n">subst</span> <span class="n">h_gpow</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="242129400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242129400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242129400">(Jun 09 2021 at 21:01)</a>:</h4>
<p><a href="/user_uploads/3121/pysBJqwz8OhZ-fuD5Buf9vHH/module_ext.png">module_ext.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/pysBJqwz8OhZ-fuD5Buf9vHH/module_ext.png" title="module_ext.png"><img src="/user_uploads/3121/pysBJqwz8OhZ-fuD5Buf9vHH/module_ext.png"></a></div><p>This VS Code bracket colorizer comes into its own with this proof :-)</p>



<a name="242129477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242129477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242129477">(Jun 09 2021 at 21:01)</a>:</h4>
<p>OOH! How can I get a rainbow in my own VSCode?</p>



<a name="242129606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242129606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242129606">(Jun 09 2021 at 21:02)</a>:</h4>
<p>(a) install Bracket Pair Colorizer 2 (b) wait for possibly up to a month for the VS Code gods to randomly decide to start using it (at least, this was my experience)</p>



<a name="242129974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242129974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242129974">(Jun 09 2021 at 21:05)</a>:</h4>
<p>Woah, it even underlines the bracketed sections! Thanks :D</p>



<a name="242136359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242136359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242136359">(Jun 09 2021 at 21:56)</a>:</h4>
<p>Thanks so much for the tips <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> and everyone else! I'll try to take a look later tonight or later this week.</p>



<a name="242137136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242137136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242137136">(Jun 09 2021 at 22:04)</a>:</h4>
<p>If I'm not making a meal of it, then a minor modification (read: delete stuff) will work for monoid but then for <code>ring</code> maybe you have to repeat a bunch of code? :-/ But that will at least give you a route to what you want, although people seemed suspicious that the result was needed...</p>



<a name="242138192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242138192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242138192">(Jun 09 2021 at 22:16)</a>:</h4>
<p>Only tangentially related here, but... I think we should teach <a href="https://leanprover-community.github.io/mathlib_docs/attributes.html#ext">attr#ext</a> (<a href="https://leanprover-community.github.io/mathlib_docs/find/extensional_attribute">docs#extensional_attribute</a>) to learn how to read <code>@[notation_class]</code>(<a href="https://leanprover-community.github.io/mathlib_docs/find/notation_class_attr">docs#notation_class_attr</a>) so that instead of creating a lemma about <code>group.mul</code> it creates one about <code>(*)</code></p>



<a name="242139683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242139683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242139683">(Jun 09 2021 at 22:35)</a>:</h4>
<p>That is, have it generate a lemma like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">div_inv_monoid.ext</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">div_inv_monoid</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span>
  <span class="o">(</span><span class="n">h_one</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one</span> <span class="n">G</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_one.one</span> <span class="n">G</span> <span class="n">_</span><span class="o">)))</span>
  <span class="o">(</span><span class="n">h_mul</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_mul.mul</span> <span class="n">G</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_mul.mul</span> <span class="n">G</span> <span class="n">_</span><span class="o">)))</span>
  <span class="o">(</span><span class="n">h_inv</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_inv.inv</span> <span class="n">G</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_inv.inv</span> <span class="n">G</span> <span class="n">_</span><span class="o">)))</span>
  <span class="o">(</span><span class="n">h_div</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_div.div</span> <span class="n">G</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_div.div</span> <span class="n">G</span> <span class="n">_</span><span class="o">)))</span>
  <span class="o">(</span><span class="n">h_npow</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_pow.pow</span> <span class="n">G</span> <span class="n">ℕ</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_pow.pow</span> <span class="n">G</span> <span class="n">ℕ</span> <span class="n">_</span><span class="o">)))</span>
  <span class="o">(</span><span class="n">h_gpow</span> <span class="o">:</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_pow.pow</span> <span class="n">G</span> <span class="n">ℤ</span> <span class="n">_</span><span class="o">))</span> <span class="bp">=</span> <span class="o">(</span><span class="kd">by</span> <span class="n">haveI</span> <span class="o">:=</span> <span class="n">j</span><span class="bp">;</span> <span class="n">exact</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_pow.pow</span> <span class="n">G</span> <span class="n">ℤ</span> <span class="n">_</span><span class="o">))),</span>
  <span class="n">i</span> <span class="bp">=</span> <span class="n">j</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="242140493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242140493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242140493">(Jun 09 2021 at 22:45)</a>:</h4>
<p>This <em>might</em> not be true -- you might find that type class inference picks up on <code>i</code> (even though it's not in square brackets in the lemma statement) and uses it as the div_inv_monoid instance throughout.</p>



<a name="242140619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242140619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242140619">(Jun 09 2021 at 22:46)</a>:</h4>
<p>I take it back -- it does seem to work.</p>



<a name="242141326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242141326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242141326">(Jun 09 2021 at 22:57)</a>:</h4>
<p>I know the statement is sane because I was able to prove it up to npow, when I got annoyed with rewrite by <a href="https://leanprover-community.github.io/mathlib_docs/find/gpow_eq_pow">docs#gpow_eq_pow</a> failing and ran out of time to try <code>@</code>s</p>



<a name="242146996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242146996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242146996">(Jun 10 2021 at 00:20)</a>:</h4>
<p>btw we do use the ext lemmas in mathlib already in one place I know of: <a href="https://github.com/leanprover-community/mathlib/blob/master/src/category_theory/preadditive/schur.lean#L90">https://github.com/leanprover-community/mathlib/blob/master/src/category_theory/preadditive/schur.lean#L90</a></p>



<a name="242163803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/242163803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#242163803">(Jun 10 2021 at 06:20)</a>:</h4>
<p>The statement that Bryan has feels a bit like trying to show <code>monoid α ≃ add_monoid α</code>, which I'm pretty sure we never bother with. Instead of the equiv, should we have <code>lattice_like R</code> and <code>ring_like L</code> to mirror <code>additive</code> and <code>multiplicative</code>?</p>



<a name="245349878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/245349878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#245349878">(Jul 08 2021 at 18:09)</a>:</h4>
<p>I'm finally coming back to this. I think I'll try to make some PRs filling in some of these <code>*.ext</code> lemmas, at least up to <code>ring</code> or so. Hopefully it's not too painful to extend what <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> has already done above!</p>



<a name="246804905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/246804905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#246804905">(Jul 22 2021 at 03:16)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/8391">#8391</a> has <code>ext</code> lemmas for all the <code>class</code>es in <code>algebra.group.defs</code>. The proofs are all very repetitive, so I'm wondering if we should be automating most or all of this.</p>



<a name="246812987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236476%20boolean_algebra.to_boolean_ring/near/246812987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236476.20boolean_algebra.2Eto_boolean_ring.html#246812987">(Jul 22 2021 at 06:24)</a>:</h4>
<p>Can you reduce the work by proving something like <code>injective comm_monoid.to_monoid</code> then reuse <code>monoid.ext</code> to prove <code>comm_monoid.ext</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>