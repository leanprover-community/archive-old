---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html">doc-gen#163 - reverse instance lookup</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278550929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278550929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278550929">(Apr 11 2022 at 13:11)</a>:</h4>
<p>Over at <a href="https://github.com/leanprover-community/doc-gen/pull/163">doc-gen#163</a>, I've tried a rough attempt at showing what instances are available for a given type. See the PR comments for some screenshots.</p>



<a name="278551054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278551054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278551054">(Apr 11 2022 at 13:12)</a>:</h4>
<p>The heuristics for choosing what to display are overly generous, mainly because I don't know how to work with binders effectively in meta code</p>



<a name="278565574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278565574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278565574">(Apr 11 2022 at 14:54)</a>:</h4>
<p>Oh nice!</p>



<a name="278566023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278566023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278566023">(Apr 11 2022 at 14:57)</a>:</h4>
<p>Ideally instances about <code>list.lex</code> wouldn't show up under the list of instances for <code>list</code></p>



<a name="278566147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278566147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278566147">(Apr 11 2022 at 14:58)</a>:</h4>
<p>But that would need something that notices when type arguments to typeclasses are used as indices to later type arguments to typeclasses</p>



<a name="278566194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278566194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278566194">(Apr 11 2022 at 14:58)</a>:</h4>
<p>Unrelatedly, we might want a special page that lists instances on <code>pi</code>, <code>Type</code>, <code>Prop</code>, and <code>Sort</code></p>



<a name="278566232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/278566232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#278566232">(Apr 11 2022 at 14:58)</a>:</h4>
<p>Generating that page would be easy, it's just a question of how to present it and where to put it</p>



<a name="279706036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279706036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279706036">(Apr 21 2022 at 16:38)</a>:</h4>
<p>Any more thoughts on this?</p>



<a name="279707270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279707270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279707270">(Apr 21 2022 at 16:48)</a>:</h4>
<p>ummm... I love it? <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="279707884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279707884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279707884">(Apr 21 2022 at 16:52)</a>:</h4>
<p>For bikeshedding: Any better suggestions than "Available typeclasses" for the heading?</p>



<a name="279707996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279707996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279707996">(Apr 21 2022 at 16:53)</a>:</h4>
<p>Instances?</p>



<a name="279708034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279708034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279708034">(Apr 21 2022 at 16:53)</a>:</h4>
<p>or related instances?</p>



<a name="279708292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279708292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279708292">(Apr 21 2022 at 16:55)</a>:</h4>
<p>"Fulfilled instances"?</p>



<a name="279708303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279708303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279708303">(Apr 21 2022 at 16:55)</a>:</h4>
<p>"Instances" is the heading we use under <code>class</code> for the things that are instances _of_ it</p>



<a name="279708418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279708418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279708418">(Apr 21 2022 at 16:56)</a>:</h4>
<p>/poll What should the heading be called</p>



<a name="279710202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279710202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279710202">(Apr 21 2022 at 17:09)</a>:</h4>
<p>In hindsight <code>typeclass</code> was a bad word to use, since it lists the <code>instance</code>s not their types (<code>class</code>es)</p>



<a name="279803807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/279803807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#279803807">(Apr 22 2022 at 10:14)</a>:</h4>
<p>I've gone with "Available instances"</p>



<a name="281606185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/281606185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#281606185">(May 08 2022 at 16:07)</a>:</h4>
<p>This ended up changing to "instances for <code>foo</code>" in review, but is now merged. See <a href="https://leanprover-community.github.io/mathlib_docs/find/nat">docs#nat</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/lp">docs#lp</a> for examples</p>



<a name="307925916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/307925916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#307925916">(Nov 04 2022 at 10:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup/near/278566194">said</a>:</p>
<blockquote>
<p>Unrelatedly, we might want a special page that lists instances on <code>pi</code>, <code>Type</code>, <code>Prop</code>, and <code>Sort</code></p>
</blockquote>
<p>(done, see <a href="https://leanprover-community.github.io/mathlib_docs_demo/foundational_types.html#pi-types-code%CF%80-a--%CE%B1-%CE%B2-acode">https://leanprover-community.github.io/mathlib_docs_demo/foundational_types.html#pi-types-code%CF%80-a--%CE%B1-%CE%B2-acode</a>)</p>



<a name="308026739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/doc-gen%23163%20-%20reverse%20instance%20lookup/near/308026739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/doc-gen.23163.20-.20reverse.20instance.20lookup.html#308026739">(Nov 04 2022 at 18:41)</a>:</h4>
<p>Are there any instances on <code>Type</code> which aren't also instances on <code>Type u</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>