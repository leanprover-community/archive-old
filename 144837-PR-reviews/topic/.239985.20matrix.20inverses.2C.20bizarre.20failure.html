---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html">#9985 matrix inverses, bizarre failure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="260392664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/260392664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#260392664">(Nov 05 2021 at 11:18)</a>:</h4>
<p>Over in <a href="https://github.com/leanprover-community/mathlib/issues/10175">#10175</a>, I'm getting this error:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>Error: /home/ghrunner/actions-runner/_work/mathlib/mathlib/src/analysis/normed_space/dual.lean:100:4:
unknown declaration '_private.3908155451.pseudo_metric_space.dist_nonneg''
</code></pre></div>
<p>Why is my unrelated change affecting the visibility of a private declaration?</p>



<a name="260392754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/260392754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#260392754">(Nov 05 2021 at 11:19)</a>:</h4>
<p>Weirder yet, the line that's failing doesn't visibly even mention that declaration!</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/443312cd816c779e42cff8da3a6d1fab40dce969/src/analysis/normed_space/dual.lean#L100">https://github.com/leanprover-community/mathlib/blob/443312cd816c779e42cff8da3a6d1fab40dce969/src/analysis/normed_space/dual.lean#L100</a></p>



<a name="260392985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/260392985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#260392985">(Nov 05 2021 at 11:22)</a>:</h4>
<p>The private declaration in question is:</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/951c063df9f39d3dff288ea7476fa8a9c0370742/src/topology/metric_space/basic.lean#L95-L96">https://github.com/leanprover-community/mathlib/blob/951c063df9f39d3dff288ea7476fa8a9c0370742/src/topology/metric_space/basic.lean#L95-L96</a></p>



<a name="260397108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/260397108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#260397108">(Nov 05 2021 at 12:14)</a>:</h4>
<p>Related discussion: <a href="#narrow/stream/113488-general/topic/error.3A.20unknown.20declaration.20_private">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/error.3A.20unknown.20declaration.20_private</a></p>
<p>Probably merging master will resolve the issue</p>



<a name="260397960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/260397960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#260397960">(Nov 05 2021 at 12:25)</a>:</h4>
<p>Yep, I'm trying that now</p>



<a name="262868749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%239985%20matrix%20inverses%2C%20bizarre%20failure/near/262868749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.239985.20matrix.20inverses.2C.20bizarre.20failure.html#262868749">(Nov 27 2021 at 11:37)</a>:</h4>
<p>huh, I got this same issue (with a different private decl) in <a href="https://github.com/leanprover-community/mathlib/issues/10482">#10482</a> (see <a href="https://github.com/leanprover-community/mathlib/runs/4340684616?check_suite_focus=true">here</a>). I guess this must be <code>Cb</code> in <code>gromov_hausdorff_realized.lean</code>; I did just merge master, though...</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>