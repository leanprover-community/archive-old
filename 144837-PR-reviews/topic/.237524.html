---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.237524.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html">#7524</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237691668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237691668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237691668">(May 06 2021 at 16:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7524">#7524</a>  is in the current  bors batch (with 17 other PRs...), but lint failed on it. Does this mean that in practice the whole batch will fail? If this is the case someone can maybe stop it now. I corrected the problem in <a href="https://github.com/leanprover-community/mathlib/issues/7524">#7524</a>, but I didn't push it yet.</p>



<a name="237691746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237691746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237691746">(May 06 2021 at 16:50)</a>:</h4>
<p>Sorry for this <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>



<a name="237691980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237691980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237691980">(May 06 2021 at 16:51)</a>:</h4>
<p>Yes, the batch will fail. Go ahead and push your commit, that will cancel the batch and automatically requeue everything except for your PR.</p>



<a name="237692425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237692425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237692425">(May 06 2021 at 16:54)</a>:</h4>
<p>My apologies for the opportunistic merge.</p>



<a name="237692747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237692747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237692747">(May 06 2021 at 16:56)</a>:</h4>
<p>It would be reasonable (and doable) to tell bors to wait for all the the other checks as default behavior ?</p>



<a name="237692891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237692891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237692891">(May 06 2021 at 16:57)</a>:</h4>
<p>I think it would be great if we could write <code>if CI = pass then bors merge</code> in the PR comments. But that doesn't seem trivial.</p>



<a name="237693439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237693439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237693439">(May 06 2021 at 17:00)</a>:</h4>
<p>Hmm... we could maybe write a script which runs in a final job after both testing and linting succeed, which comments with <code>bors r+</code> if there's a certain label on the PR.</p>



<a name="237693926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237693926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237693926">(May 06 2021 at 17:03)</a>:</h4>
<p>Maybe as a workaround you (the maintainers) can use <code>bors d+</code> and invite us to wait for CI (maybe writing it in the official documentation)</p>



<a name="237694993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237694993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237694993">(May 06 2021 at 17:10)</a>:</h4>
<p>That's what I've mostly been doing; given I rarely even trust myself to write code that passes lint every time, I usually delegate rather than merging if CI is still going.</p>



<a name="237722576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237722576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237722576">(May 06 2021 at 20:23)</a>:</h4>
<p>The same happened with <a href="https://github.com/leanprover-community/mathlib/issues/7523">#7523</a>... and this time it is really my fault (I did <code>bors r+</code> before this discussion). I am very sorry, I will be more careful in the future.</p>



<a name="237723827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237723827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237723827">(May 06 2021 at 20:33)</a>:</h4>
<p>No worries! It's always better if you can catch it before bors does!</p>



<a name="237745005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237745005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237745005">(May 06 2021 at 23:17)</a>:</h4>
<p>Better automation here would be great. I admit to being impatient with having to remember to come back to things to verify CI passed, just so that CI can run again, and I hit merge frequently before CI is complete...</p>



<a name="237745036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237745036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237745036">(May 06 2021 at 23:18)</a>:</h4>
<p>Now that we're getting to have such big batches, I think we really need a way to tell bors to be more cautious.</p>



<a name="237745137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237745137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237745137">(May 06 2021 at 23:19)</a>:</h4>
<p>Ideally, I guess, the logic could be "Of there are any PRs that are green, and marked ready to merge, try those as a batch. Otherwise, try a batch consisting of everything marked ready to merge." (Just for the sake of keeping bors busy.)</p>



<a name="237746052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%237524/near/237746052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.237524.html#237746052">(May 06 2021 at 23:30)</a>:</h4>
<p>Looking at the merge queue I'm not particularly worried about keeping bors busy at the moment!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>