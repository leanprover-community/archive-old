---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html">#4096 pigeonhole principles</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209853653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/209853653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#209853653">(Sep 12 2020 at 01:58)</a>:</h4>
<p>To address issue <a href="https://github.com/leanprover-community/mathlib/issues/2722">#2722</a>, PR <a href="https://github.com/leanprover-community/mathlib/issues/4096">#4096</a> reformulates some cardinality theorems to be in the usual form of the pigeonhole principle.  It also gives stronger forms of them (if there are <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> pigeons and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> holes, then there is a hole with at least <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">n/m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord">/</span><span class="mord mathnormal">m</span></span></span></span> pigeons) for both finitely and infinitely many pigeons.</p>
<ol>
<li>What would be good names for these lemmas?</li>
<li>Where should they go?</li>
</ol>
<p>For now, I just put them where they were convenient to define. It's certainly odd for one of them to be in <code>algebra.big_operators.order</code>!</p>



<a name="209853721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/209853721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#209853721">(Sep 12 2020 at 02:00)</a>:</h4>
<p>I'm also wondering about the canonical way to represent the fiber of a map between finsets.  It seemed reasonable to use <code>(s.filter (λ x, f x = y))</code> since there is a lot of support for <code>filter</code>, but I wasn't sure if there was something else to use instead.</p>



<a name="209861999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/209861999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#209861999">(Sep 12 2020 at 03:24)</a>:</h4>
<p>I was going to say maybe <code>s.preimage f {y}</code> was another way, but it turns out <a href="https://leanprover-community.github.io/mathlib_docs/find/finset.preimage/src">src#finset.preimage</a> is for a map from a general type to a <code>finset</code>. I think the fiber of a map (between types, sets or finsets) is important enough that it should have some API around it, and it should also be easy to work with the preimage of a map between finsets as well. I'm not sure if this stuff is already there and I'm missing it or if we need to build mathlib up in this area...</p>



<a name="210206327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/210206327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#210206327">(Sep 15 2020 at 23:50)</a>:</h4>
<p>I'd like to see some opinions from some more experienced folks. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> what do you think?</p>



<a name="211061037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211061037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211061037">(Sep 23 2020 at 20:54)</a>:</h4>
<p>Here's a quick proposal for an <code>s.fiber</code>, with a few random lemmas.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.finset</span>

<span class="kn">namespace</span> <span class="n">finset</span>
<span class="kn">open</span> <span class="n">finset</span>
<span class="kd">universes</span> <span class="n">u</span> <span class="n">v</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">β</span><span class="o">]</span>

<span class="sd">/--</span>
<span class="sd">This is the preimage of b through f with domain s.</span>
<span class="sd">-/</span>
<span class="kd">def</span> <span class="n">fiber</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">s.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span><span class="o">)</span>

<span class="kd">@[simp]</span> <span class="kd">theorem</span> <span class="n">mem_fiber</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">a</span> <span class="bp">∈</span> <span class="n">s.fiber</span> <span class="n">f</span> <span class="n">b</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">s</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">mem_filter</span>

<span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">preimage_nonempty_iff_mem_image</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">s.fiber</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">nonempty</span> <span class="bp">↔</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">s.image</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="n">mem_image</span><span class="o">,</span> <span class="n">split</span><span class="o">,</span>
     <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">xel</span><span class="o">⟩,</span> <span class="n">use</span> <span class="n">x</span><span class="o">,</span> <span class="n">rwa</span> <span class="n">mem_fiber</span> <span class="n">at</span> <span class="n">xel</span> <span class="o">},</span>
     <span class="o">{</span> <span class="n">rintros</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">xel</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span> <span class="n">use</span> <span class="n">x</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mem_fiber</span><span class="o">,</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">xel</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩,</span> <span class="o">}</span> <span class="o">}</span>

<span class="kd">lemma</span> <span class="n">preimage_card_ne_zero_iff_mem_image</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">t</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">s.fiber</span> <span class="n">f</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">card</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">s.image</span> <span class="n">f</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span><span class="n">zero_lt_iff_ne_zero</span><span class="o">,</span> <span class="n">card_pos</span><span class="o">,</span> <span class="n">preimage_nonempty_iff_mem_image</span><span class="o">]</span> <span class="o">}</span>

<span class="kd">end</span> <span class="n">finset</span>
</code></pre></div>



<a name="211061152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211061152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211061152">(Sep 23 2020 at 20:55)</a>:</h4>
<p>A point against: this makes it harder to apply lemmas about filters.  A point for: it gives a canonical name for things about this type of preimage.</p>



<a name="211069542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211069542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211069542">(Sep 23 2020 at 22:22)</a>:</h4>
<blockquote>
<p>A point against: this makes it harder to apply lemmas about filters.</p>
</blockquote>
<p>That's not so much a point against as a requirement to add additional fiber lemmas to bring it to parity</p>



<a name="211069983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211069983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211069983">(Sep 23 2020 at 22:26)</a>:</h4>
<p><code>by simp [finset.nonempty]</code> proves <code>preimage_nonempty_iff_mem_image</code>.</p>



<a name="211070141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070141">(Sep 23 2020 at 22:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  What I meant was, given what you said, the point against is that it would require effort to write all those lemmas and maintaining the API. It's potentially not worth expending this effort if filters themselves are good enough.</p>



<a name="211070190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070190">(Sep 23 2020 at 22:28)</a>:</h4>
<p>yep, API is a thing you have to do if you make a definition</p>



<a name="211070390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070390">(Sep 23 2020 at 22:31)</a>:</h4>
<p>Do you think it's worth having this definition?</p>



<a name="211070500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070500">(Sep 23 2020 at 22:32)</a>:</h4>
<p>I tried to make the <code>preimage</code> definition once, before I realized that it doesn't exist for a reason. This seems like a reasonable alternative</p>



<a name="211070513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070513">(Sep 23 2020 at 22:32)</a>:</h4>
<p>dunno about the name <code>fiber</code> though</p>



<a name="211070567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070567">(Sep 23 2020 at 22:33)</a>:</h4>
<p>oh wait this isn't even a preimage</p>



<a name="211070721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070721">(Sep 23 2020 at 22:35)</a>:</h4>
<p>Yeah, it's just the fiber of a single point.  It might better as a preimage of a finite set, though.  I know <code>finset.preimage</code> is already taken (<code>data.set.finite</code>)</p>



<a name="211070745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070745">(Sep 23 2020 at 22:35)</a>:</h4>
<p>I think that definition should be renamed though, it's sort of out of place</p>



<a name="211070820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211070820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211070820">(Sep 23 2020 at 22:36)</a>:</h4>
<p>I don't think there are any other basic finset functions defined in data.set.finite</p>



<a name="211321447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321447">(Sep 25 2020 at 21:42)</a>:</h4>
<p>A holdup with this PR right now is (1) what to name the pigeonhole principle lemmas and (2) where they should go in mathlib -- any thoughts?  I'll put the statements here for convenience:</p>



<a name="211321463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321463">(Sep 25 2020 at 21:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finset.pigeonhole</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">t.card</span> <span class="bp">&lt;</span> <span class="n">s.card</span><span class="o">)</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">t</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">),</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">y</span>
</code></pre></div>



<a name="211321470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321470">(Sep 25 2020 at 21:42)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fintype.pigeonhole</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="n">β</span> <span class="bp">&lt;</span> <span class="n">fintype.card</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">y</span>
</code></pre></div>



<a name="211321487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321487">(Sep 25 2020 at 21:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">finset.strong_pigeonhole</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">t</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">β</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">β</span><span class="o">]</span>
  <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">}</span> <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">s</span><span class="o">,</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">t</span><span class="o">)</span>
  <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="n">t.card</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="n">s.card</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">t</span><span class="o">,</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">s.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">))</span><span class="bp">.</span><span class="n">card</span>
</code></pre></div>



<a name="211321500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321500">(Sep 25 2020 at 21:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fintype.strong_pigeonhole</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span>
  <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hn</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="n">β</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="n">fintype.card</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">y</span> <span class="o">:</span> <span class="n">β</span><span class="o">,</span> <span class="n">n</span> <span class="bp">&lt;</span> <span class="o">(</span><span class="n">univ.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">))</span><span class="bp">.</span><span class="n">card</span>
</code></pre></div>



<a name="211321506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321506">(Sep 25 2020 at 21:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fintype.infinite_pigeonhole</span> <span class="o">[</span><span class="n">infinite</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">x</span> <span class="bp">≠</span> <span class="n">y</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">y</span>
</code></pre></div>



<a name="211321513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321513">(Sep 25 2020 at 21:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fintype.strong_infinite_pigeonhole</span> <span class="o">[</span><span class="n">infinite</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">y</span> <span class="o">:</span> <span class="n">β</span><span class="o">,</span> <span class="n">infinite</span> <span class="o">(</span><span class="n">f</span> <span class="bp">⁻¹'</span> <span class="o">{</span><span class="n">y</span><span class="o">})</span>
</code></pre></div>



<a name="211321912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211321912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211321912">(Sep 25 2020 at 21:47)</a>:</h4>
<p>All of them seem to be in the correct place (either <code>data.finset.basic</code> or <code>data.fintype.basic</code>), but <code>finset.strong_pigeonhole</code> and <code>fintype.strong_pigeonhole</code> are absurdly in <code>algebra.big_operators.order</code>, purely for ready access to <code>sum_le_sum</code>.</p>



<a name="211334768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211334768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211334768">(Sep 26 2020 at 01:34)</a>:</h4>
<p>The solution to the last problem is just to put them in a brand new file called <code>strong_pigeonhole</code>.</p>



<a name="211334854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211334854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211334854">(Sep 26 2020 at 01:36)</a>:</h4>
<p>(perhaps in <code> combinatorics/</code>, as you suggested)</p>



<a name="211340023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211340023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211340023">(Sep 26 2020 at 03:38)</a>:</h4>
<p>Semi-offtopic: could someone please explain to me the statement of <a href="https://leanprover-community.github.io/mathlib_docs/find/ordinal.infinite_pigeonhole">docs#ordinal.infinite_pigeonhole</a>? Does it immediately imply a version of <code>strong_pigeonhole</code> above with <code>card</code> instead of <code>finset.card</code>?</p>



<a name="211340216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211340216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211340216">(Sep 26 2020 at 03:44)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> You wrote this lemma <span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span></p>



<a name="211348585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211348585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211348585">(Sep 26 2020 at 08:05)</a>:</h4>
<p><code>ordinal.infinite_pigeonhole</code> is only relevant for infinite sets. It tells nothing about finitely many pigeons.</p>
<p>As a special case of <code>ordinal.infinite_pigeonhole?</code>, it states that if <code>\b</code> is a regular infinite cardinal and I have <code>\b</code> pigeons and I put them in <code>\a &lt; \b</code> many holes, then there is one hole containing <code>\b</code> many pigeons. It also applies for <code>\b</code> infinite cardinals that are not regular, but then you have to take the cofinality.</p>



<a name="211399310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211399310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211399310">(Sep 27 2020 at 05:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles/near/211334768">said</a>:</p>
<blockquote>
<p>The solution to the last problem is just to put them in a brand new file called <code>strong_pigeonhole</code>.</p>
</blockquote>
<p>I put them in <code>combinatorics/pigeonhole</code> along with some module documentation about where all the pigeonhole principles are.  Given that <code>ordinal.infinite_pigeonhole</code> exists, maybe nothing needs to be renamed? (for now?)</p>



<a name="211403442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211403442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211403442">(Sep 27 2020 at 07:32)</a>:</h4>
<p>I added versions for pigeons counted by weight.</p>



<a name="211564038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211564038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211564038">(Sep 28 2020 at 23:34)</a>:</h4>
<p>What's left to do here?</p>



<a name="211564152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211564152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211564152">(Sep 28 2020 at 23:35)</a>:</h4>
<p>Are we OK with the name <code>strong_pigeonhole</code>, or we want something like <code>exists_lt_card_filter_eq_of_mul_lt_card</code>?</p>



<a name="211584095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211584095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211584095">(Sep 29 2020 at 06:10)</a>:</h4>
<p>I think we should change the name. As long as the doc-strings have the text, it's just as findable by <code>grep</code> or search.</p>



<a name="211584120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211584120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211584120">(Sep 29 2020 at 06:11)</a>:</h4>
<p>I really like this official naming principle even though it gives comedy outputs sometimes</p>



<a name="211584524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211584524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211584524">(Sep 29 2020 at 06:20)</a>:</h4>
<p>Maybe <code>exists_lt_card_fiber_of_mul_lt_card</code>?</p>



<a name="211584866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211584866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211584866">(Sep 29 2020 at 06:28)</a>:</h4>
<p>Something that has not really been exploited at all yet, but I'm sure will be, is that tomorrow's AI mathematicians are going to love the naming scheme. Even just being able to do things like "oh, I have a hypothesis <code>a * b &lt; X.card</code>, perhaps I should try out this lemma ending <code>of_mul_lt_card</code>" is magic when you're too "dumb" to "understand" that you ought to be using the pigeonhole principle.</p>



<a name="211585027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211585027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211585027">(Sep 29 2020 at 06:30)</a>:</h4>
<p>(and exactly the sort of thing that modern "text generators" excel at)</p>



<a name="211586016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211586016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211586016">(Sep 29 2020 at 06:49)</a>:</h4>
<p>Offtopic: I fed some Lean code to GPT3 (using AI Dungeon) and while it seemed to realize it was source code for a proof assistant, it didn't seem to know which one <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>  Some of what it generated:</p>
<div class="spoiler-block"><div class="spoiler-header">

</div><div class="spoiler-content" aria-hidden="true">

<div class="codehilite"><pre><span></span><code>lemma inv_fun_surjective : ∀f g H : function.injective f ⟹ function.injective g ⟹ H f ≡ H g
using function.injective_inv_surjective by (fast)
lemma inv_fun_refl : ∀f : function.injective f ⟹ f (inv_fun f) = refl_inv_fun f
using function.injective_refl by (fast)
lemma inv_fun_trans : ∀f g H : function.injective f ⟹ function.injective g ⟹ H f ≡ H g
using function.injective_trans by (fast)

Theorem qed.s_of_eq (a b : R) : (a = b) = (s a = s b).
proof .
intros.
apply eq_of_heq.
apply (eq.refl R) .
apply (eq.refl R) .
unfold s, refl.
apply eq_composite.
Qed .

Definition inv_fun_perm (f : fintype α → fintype β) :=
(λ h : forall x, f (h x) = Void) ∘ (λ (x : fintype) → h (inv_fun f x))

Definition inv_fun_refl (f : fintype α → fintype α) :=
(λ (x : fintype α) (h : f x = x) : h)

Definition inv_fun_trans (f1 f2 : fintype α → fintype β) :=
(λ (x : fintype α) (h : f1 x = f2 x), trans.idr)
</code></pre></div>


</div></div>



<a name="211586876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211586876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211586876">(Sep 29 2020 at 07:05)</a>:</h4>
<p>See also <a href="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/GPT/near/207374216">https://leanprover.zulipchat.com/#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/GPT/near/207374216</a></p>



<a name="211587769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211587769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211587769">(Sep 29 2020 at 07:19)</a>:</h4>
<p>My brain hurts.</p>



<a name="211716746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211716746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211716746">(Sep 30 2020 at 05:17)</a>:</h4>
<p>I'm going to rename the lemmas and add more versions (e.g., versions with reversed inequalities)</p>



<a name="211791561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211791561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211791561">(Sep 30 2020 at 17:09)</a>:</h4>
<p>Done, ready for review.</p>



<a name="211809473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211809473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211809473">(Sep 30 2020 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> Did you modify the names in <code>data.fintype.basic</code>?  It looks like they might not have made it into your commit.</p>
<p>I've added two more name changes for some non-pigeonhole lemmas in <code>data.finset.basic</code>.</p>



<a name="211810113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211810113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211810113">(Sep 30 2020 at 19:43)</a>:</h4>
<p>I renamed <code>fintype.pigeonhole</code> to <code>exists_ne_map_eq_of_card_lt</code>. It seems that I forgot to rename the infinite pigeonhole thm.</p>



<a name="211810993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211810993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211810993">(Sep 30 2020 at 19:50)</a>:</h4>
<p>Done</p>



<a name="211811108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211811108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211811108">(Sep 30 2020 at 19:51)</a>:</h4>
<p>Note that I removed all "See also" comments in <code>combinatorics/pigeonhole</code> because each theorem should list (most of? all?) the other 19.</p>



<a name="211811125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211811125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211811125">(Sep 30 2020 at 19:51)</a>:</h4>
<p>And they're already in a dedicated file.</p>



<a name="211812012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211812012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211812012">(Sep 30 2020 at 19:58)</a>:</h4>
<p>Ok, everything seems to be in order.  Thanks  for coming up with mathlib names!</p>



<a name="211862316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211862316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211862316">(Oct 01 2020 at 02:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> Anything left to do besides merging?</p>



<a name="211862943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211862943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211862943">(Oct 01 2020 at 02:28)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> said he'd like to be the one to hit merge? (Or maybe I misread and he said the opposite...)</p>



<a name="211862954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211862954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211862954">(Oct 01 2020 at 02:28)</a>:</h4>
<p>I'm happy to do it.</p>



<a name="211863051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211863051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211863051">(Oct 01 2020 at 02:30)</a>:</h4>
<p>Oh, no rush. I just wasn't sure what state things were in.</p>



<a name="211864254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234096%20pigeonhole%20principles/near/211864254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234096.20pigeonhole.20principles.html#211864254">(Oct 01 2020 at 02:56)</a>:</h4>
<p>I wanted to say the opposite: I contributed too much code to this PR to merge it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>