---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html">#6355 finsum -- refactor of `set.finite`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="227866727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227866727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227866727">(Feb 26 2021 at 01:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6355">#6355</a> . Thanks Mario for your review -- I've had a hectic week but hope to get back to this tomorrow or over the weekend.</p>
<p>In the mean time It occurred to me over the last few days that perhaps another approach would be a refactor of <code>set.finite</code>. One could define it as an inductive Prop on <code>set X</code>, saying that <code>emptyset</code> is finite, and if <code>S</code> is finite then so is <code>insert a S</code>. This would be a far more "mathematical" or "nonconstructive" or whatever you want to call it definition of finiteness, and I'm wondering whether it would make this whole thing easier. Perhaps there's no point changing it now. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110044">@Chris Hughes</span> do either of you have any thoughts on this?</p>



<a name="227869647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227869647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227869647">(Feb 26 2021 at 01:43)</a>:</h4>
<p>That was actually the original definition</p>



<a name="227869707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227869707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227869707">(Feb 26 2021 at 01:44)</a>:</h4>
<p>It was refactored to connect it to finsets so that proving results in both contexts is easier</p>



<a name="227869758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227869758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227869758">(Feb 26 2021 at 01:45)</a>:</h4>
<p>Since <code>set.finite</code> is a Prop, its definition shouldn't matter for mathematical uses, so if you want to view it as an inductive like that you should use that recursion principle for it (that I think already exists)</p>



<a name="227873602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227873602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227873602">(Feb 26 2021 at 02:37)</a>:</h4>
<p>You could even define it to be <code>acc (&lt;)</code>.</p>



<a name="227904302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227904302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227904302">(Feb 26 2021 at 09:46)</a>:</h4>
<p>Where's the "beautiful" emoji?</p>



<a name="227904498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236355%20finsum%20--%20refactor%20of%20%60set.finite%60%3F/near/227904498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236355.20finsum.20--.20refactor.20of.20.60set.2Efinite.60.3F.html#227904498">(Feb 26 2021 at 09:48)</a>:</h4>
<p>Aah interesting! In 6355 we spend a lot of time reducing things about finsum to things about finset.sum etc, and it occurred to me that because all the proof in finset are so elegant that we might have been better off just proving some of them directly using this induction principle -- this is why this idea came to me. But that'll teach me to do maths at 1 in the morning -- I now see that there's no need for a refactor at all and we should instead just consider using the induction principle more often (I have no idea whether this will help but it's worth considering).</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>