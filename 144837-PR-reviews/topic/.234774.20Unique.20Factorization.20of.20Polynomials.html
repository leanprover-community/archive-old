---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html">#4774 Unique Factorization of Polynomials</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214444381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214444381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214444381">(Oct 24 2020 at 19:16)</a>:</h4>
<p>Adding the <code>unique_factorization_monoid</code> instance on the ring of polynomials over a UFD appears to have broken some things by exceeding class-instance resolution depth</p>



<a name="214444445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214444445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214444445">(Oct 24 2020 at 19:18)</a>:</h4>
<p>Specifically, it broke (at least) lemmas in the files <code>ring_theory/principal_ideal_domain</code> and <code>ring_theory/polynomial/basic</code> that needed <code>wf_dvd_monoid</code> instances. I did not add any extra instances of that class.</p>



<a name="214444504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214444504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214444504">(Oct 24 2020 at 19:19)</a>:</h4>
<p>I was able to fix <code>ring_theory/principal_ideal_domain</code> just by changing the order of some <code>decl</code>s, but I have no idea how to fix the other file, and I'd like to fix it properly, and not just by waving my hands and <code>decl</code>s around.</p>



<a name="214444636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214444636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214444636">(Oct 24 2020 at 19:21)</a>:</h4>
<p>(I probably actually want to go and modify <code>ring_theory/principal_ideal_domain</code> and replace the offending definitions, but that wouldn't fix everything, and I'd want to do that after this PR)</p>



<a name="214446740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214446740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214446740">(Oct 24 2020 at 20:06)</a>:</h4>
<p>I've just moved the troublesome instance after the thing it breaks.</p>



<a name="214447054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214447054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214447054">(Oct 24 2020 at 20:12)</a>:</h4>
<p>sneaky :-)</p>
<p>When I made <code>with_zero</code> irreducible it broke a bunch of proofs; I fixed most of them but a couple of them were a pain, so for those ones I just temporarily made it reducible again :-)</p>



<a name="214447748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214447748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214447748">(Oct 24 2020 at 20:27)</a>:</h4>
<p>It's still breaking, just further down the line in <code>field_theory/splitting_field</code></p>



<a name="214447917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214447917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214447917">(Oct 24 2020 at 20:31)</a>:</h4>
<p>ha ha I blame that 37 :-) (not really)</p>



<a name="214448155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214448155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214448155">(Oct 24 2020 at 20:36)</a>:</h4>
<p><code>example : wf_dvd_monoid (polynomial β) := by apply_instance</code> -- max class-instance (here beta is a field)</p>



<a name="214448634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214448634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214448634">(Oct 24 2020 at 20:46)</a>:</h4>
<p>I don’t think it needs to be a field</p>



<a name="214448665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214448665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214448665">(Oct 24 2020 at 20:47)</a>:</h4>
<p>Any time we have <code>wf_dvd_monoid R</code>, then it has no problem with the instance <code>wf_dvd_monoid (polynomial R)</code> until we add in the new instance</p>



<a name="214465230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214465230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214465230">(Oct 25 2020 at 03:20)</a>:</h4>
<p>Oy vey, I made a short but massively important typo, and defined an actual infinite loop rather than the theorem I wanted</p>



<a name="214475205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214475205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214475205">(Oct 25 2020 at 07:30)</a>:</h4>
<p>Oh so you fixed it? Sorry, I had meant to help more but real life intervened</p>



<a name="214499644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%234774%20Unique%20Factorization%20of%20Polynomials/near/214499644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.234774.20Unique.20Factorization.20of.20Polynomials.html#214499644">(Oct 25 2020 at 16:59)</a>:</h4>
<p>Yeah lol I just replaced <code>D</code> with the <code>polynomial D</code> I had meant all along</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>