---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html">leanprover/vscode-lean#263</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="238122187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238122187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238122187">(May 10 2021 at 11:07)</a>:</h4>
<p>It's only a partial fix, but this changes the <code>\</code>-shortcut bug from super-annoying to still-quite-annoying. cc <span class="user-mention" data-user-id="234196">@Henning Dieterichs</span>.</p>



<a name="238122328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238122328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238122328">(May 10 2021 at 11:08)</a>:</h4>
<p>To summarize, the bug is that if you type <code>\tol </code> too quickly you end up with <code>\t|ol  </code> where <code>|</code> is the cursor</p>



<a name="238122364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238122364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238122364">(May 10 2021 at 11:09)</a>:</h4>
<p>With this fix, you end up with <code>\tol |</code> instead which is at least easier to clean up and try again</p>



<a name="238129870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238129870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henning Dieterichs <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238129870">(May 10 2021 at 12:13)</a>:</h4>
<p>Sorry, I never experienced the \-shortcut to be annoying . Is there a good way to reproduce this issue? Is this related to the eager replacement or does it also happen without it? Did it happen in the old version?</p>



<a name="238131303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131303">(May 10 2021 at 12:25)</a>:</h4>
<p>It's only annoying when this bug hits, its otherwise great!</p>



<a name="238131381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131381">(May 10 2021 at 12:26)</a>:</h4>
<p>I find it happens most often when I'm editing a file early in mathlib and lean is trying to use all my CPU to build leaving not very much for vs-code</p>



<a name="238131426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131426">(May 10 2021 at 12:26)</a>:</h4>
<p>I don't think it did happen in the old version, but I'm not really sure and I think that had other bugs</p>



<a name="238131455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131455">(May 10 2021 at 12:26)</a>:</h4>
<p>My hunch is that this is all called by the <code>setTimeout(..., 0)</code></p>



<a name="238131522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131522">(May 10 2021 at 12:27)</a>:</h4>
<p>I don't think vs-code makes any guarantees about how soon that will run, in particular it may not get a chance to run until after I've typed some more</p>



<a name="238131576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131576">(May 10 2021 at 12:27)</a>:</h4>
<p>Which means that any ranges which you had before the timeout might no longer be valid after the timeout</p>



<a name="238131646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/leanprover/vscode-lean%23263/near/238131646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/leanprover.2Fvscode-lean.23263.html#238131646">(May 10 2021 at 12:28)</a>:</h4>
<p>If that hunch is correct, you can debug this by replacing that <code>0</code> with something like <code>250</code> to simulate a slower vs-code</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>