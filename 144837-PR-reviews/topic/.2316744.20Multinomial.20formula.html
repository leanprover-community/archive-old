---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html">#16744 Multinomial formula</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="301851485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/301851485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#301851485">(Oct 01 2022 at 18:03)</a>:</h4>
<p>This is a proof of the multinomial formula in a commutative semiring.</p>
<p>Limitation : the sums have to be indexed by <code>fin m</code> because I rely on <code>finset.nat.antidiagonal_tuple</code></p>
<p>Possible extension to arbitrary semirings, when imposing that the elements of the sum commute pairwise.</p>



<a name="301852114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/301852114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#301852114">(Oct 01 2022 at 18:10)</a>:</h4>
<p><span class="user-mention" data-user-id="130609">@Antoine Chambert-Loir</span> Apparently you missed <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a> and <a href="#narrow/stream/113489-new-members/topic/Multinomial.20coefficients.20definition">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Multinomial.20coefficients.20definition</a></p>



<a name="301853842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/301853842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#301853842">(Oct 01 2022 at 18:29)</a>:</h4>
<p>Unless I'm mistaken, that file contains a <em>definition</em> of multinomial coefficients, but not the proof of the <em>multinomial theorem</em>.</p>



<a name="301861041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/301861041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#301861041">(Oct 01 2022 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="130609">@Antoine Chambert-Loir</span>  <a href="https://github.com/leanprover-community/mathlib/pull/16317/files#diff-7872ddfaadbfff078a40c94cddf0dabb6195a01cfe7119226111243243e5b971R199">The theorem is here.</a> It may takes some effort to connect to your version with antidiagonal though (I suggested doing this in the other thread).</p>



<a name="301861653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/301861653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#301861653">(Oct 01 2022 at 20:02)</a>:</h4>
<p>Thanks!<br>
<code>finset.sym</code> is also a natural way of doing this, probably better than both <code>nat.antidiagonal_tuple</code> (which lacks a convenient API for sums) and my ad hoc<code>tuple</code>.</p>



<a name="302414584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302414584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302414584">(Oct 05 2022 at 08:59)</a>:</h4>
<p><span class="user-mention" data-user-id="224323">@Junyan Xu</span> , in our work with <span class="user-mention" data-user-id="406490">@María Inés de Frutos Fernández</span> , we will need part of this PR. I used your proof of the multinomial theorem to write a proof of the “multinomial” theorem  for divided powers — where the multinomial coefficients are 1, and I need the modifications you made to <a href="https://leanprover-community.github.io/mathlib_docs/find/data.sym.basic">docs#data.sym.basic</a> <br>
Do you have any recommendation on how to help this PR be pushed to mathlib ?<br>
Is it worth to add the noncommutative case ?<br>
(I would be happy to help, but I don't know how to do it concretely.)</p>



<a name="302415591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302415591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302415591">(Oct 05 2022 at 09:05)</a>:</h4>
<p>So the problem is that <a href="https://github.com/leanprover-community/mathlib/pull/16744">#16744</a> doesn't use <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.multinomial">docs#nat.multinomial</a> but it gives a new definition?</p>



<a name="302415775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302415775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302415775">(Oct 05 2022 at 09:06)</a>:</h4>
<p>(In any case it doesn't pass CI at the moment, so it is not shown on the <a href="https://bit.ly/3AZk1Qk">#queue</a>, and it's likely people don't see it)</p>



<a name="302447515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302447515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302447515">(Oct 05 2022 at 12:39)</a>:</h4>
<p>There's no problem with my PR <a href="https://github.com/leanprover-community/mathlib/pull/16744">#16744</a> except that there was an earlier PR  <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a> which does the same in a better way, but it is not clear to me how/when <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a> will be added to mathlib nor whether I could help.<br>
(I should delete my PR if I knew how to do it.)</p>



<a name="302456286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302456286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302456286">(Oct 05 2022 at 13:28)</a>:</h4>
<p>You can close a PR by clicking the button below the comment box at the very bottom of the page, PRs can be reopened later and never really permanently deleted I believe.<br>
I think its quite acceptable to just push improvements to a PR that the author doesn't have time for, like <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a>, for example it looks like you wrote a nice docstring that could be incorporated there</p>



<a name="302482234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302482234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302482234">(Oct 05 2022 at 15:25)</a>:</h4>
<p>Regarding reopening PRs: I could be mistaken, but I think you can only reopen if the branch wasn't deleted; the default is that it is not deleted if there are unmerged changes upon closure.</p>



<a name="302514522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%2316744%20Multinomial%20formula/near/302514522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.2316744.20Multinomial.20formula.html#302514522">(Oct 05 2022 at 18:03)</a>:</h4>
<blockquote>
<p>Do you have any recommendation on how to help this PR be pushed to mathlib ?<br>
Is it worth to add the noncommutative case ?</p>
</blockquote>
<p>Maybe you could change the title of this topic to point to <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a>? And then maybe just wait for maintainers or official reviewers to make a decision. (I think you already caught the attention from some of them with this topic!) For the noncommutative case, we do have <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.noncomm_prod">docs#multiset.noncomm_prod</a> to state the result, and I think you might add it to <a href="https://github.com/leanprover-community/mathlib/pull/16317">#16317</a> if you'd like to.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>