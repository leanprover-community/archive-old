---
layout: archive
title: Zulip Chat Archive
permalink: /stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/index.html">PR reviews</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html">#6056 odd Bernoulli</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226232039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226232039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226232039">(Feb 13 2021 at 07:27)</a>:</h4>
<p>This PR looks good. I just have one question about a name. See <a href="https://github.com/leanprover-community/mathlib/pull/6056/files#diff-7f9e34845e60fe46c4b7e2a2a6236152ced40ad6542b6a38976b36314f7d1726R1016">here</a> for the code.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The ring homomorphism taking a power series `f(X)` to `f(aX)`. -/</span>
<span class="kd">noncomputable</span> <span class="kd">def</span> <span class="n">eval_mul_hom</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">power_series</span> <span class="n">R</span> <span class="bp">→+*</span> <span class="n">power_series</span> <span class="n">R</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span>  <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">power_series.mk</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">n</span><span class="o">,</span> <span class="n">a</span><span class="bp">^</span><span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">power_series.coeff</span> <span class="n">R</span> <span class="n">n</span> <span class="n">f</span><span class="o">),</span>
</code></pre></div>
<p>To me <code>eval_mul_hom</code> sounds like the <code>mul_hom</code> version of something called <code>eval</code>. On second thought, I understand the name. But I wonder if we can give it a better name.</p>
<p>Suggestions?</p>



<a name="226233066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226233066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226233066">(Feb 13 2021 at 07:56)</a>:</h4>
<p>Would <code>eval_at_mul_hom</code> be acceptable?</p>
<p>I often feel that the naming convention sticks very close to the actual definition, which makes it easy to find lemmas, but starts diverging from "standard mathematical naming".  I would call this <code>rescale_hom</code> or something similar...</p>



<a name="226233395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226233395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226233395">(Feb 13 2021 at 08:05)</a>:</h4>
<p>Or even just <code>rescale</code>?</p>



<a name="226233631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226233631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226233631">(Feb 13 2021 at 08:11)</a>:</h4>
<p>I like <code>rescale</code>!  If you want to be more specific, <code>rescale_var</code>?  But it might simply add clutter...</p>



<a name="226233897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226233897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226233897">(Feb 13 2021 at 08:19)</a>:</h4>
<p>Thanks, I suggested it on github</p>



<a name="226236591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226236591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226236591">(Feb 13 2021 at 09:39)</a>:</h4>
<p>This definition is a special case of a general evaluation map from a power series ring over R to a complete nonarchimedean topological ring sending the generator to a topologically nilpotent element and R to a bounded subset. At some point we should have this and it should probably be called power_series.eval. There are more general evals where the image of R is not bounded but the map is defined on the power series which are, or more generally on the power series for which the formal evaluation is summable</p>



<a name="226236643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226236643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226236643">(Feb 13 2021 at 09:40)</a>:</h4>
<p>But Ashvni didn't want to deal with all that because she just wants to get on with Bernoulli numbers, which I thought was reasonable</p>



<a name="226236661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226236661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226236661">(Feb 13 2021 at 09:41)</a>:</h4>
<p>(there's a follow-up PR on Bernoulli polynomials but I suggested that she held off until this one was done)</p>



<a name="226236756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226236756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226236756">(Feb 13 2021 at 09:43)</a>:</h4>
<p>We could call it <code>aeval'</code> or something...</p>



<a name="226236957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226236957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226236957">(Feb 13 2021 at 09:48)</a>:</h4>
<p>I think we should at least include a comment explaining this generalisation as a TODO</p>



<a name="226238061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226238061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226238061">(Feb 13 2021 at 10:20)</a>:</h4>
<p>The generalizations being described here are the ones that already exist on <code>polynomial</code>, right?</p>



<a name="226242835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226242835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226242835">(Feb 13 2021 at 12:29)</a>:</h4>
<p>Yes but it's much more subtle to evaluate a power series, it's like the difference between a finite sum and an infinite sum</p>



<a name="226242886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226242886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226242886">(Feb 13 2021 at 12:30)</a>:</h4>
<p>Ashvni only needed a special case where there were no convergence issues</p>



<a name="226243386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226243386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226243386">(Feb 13 2021 at 12:44)</a>:</h4>
<p>Is <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.map">docs#polynomial.map</a> essentially that special case?</p>



<a name="226243451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226243451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226243451">(Feb 13 2021 at 12:46)</a>:</h4>
<p>No, I guess it's not</p>



<a name="226243549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226243549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226243549">(Feb 13 2021 at 12:49)</a>:</h4>
<p>But maybe we should work out how this operation is spelt on polynomials, and choose a name similar to whatever that spelling is</p>



<a name="226244096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244096">(Feb 13 2021 at 13:03)</a>:</h4>
<p>On polynomials it's just the evaluation map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>→</mo><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X]\to R[X]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> sending <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">aX</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>. I doubt we have this for polynomials because it's an obvious special case of something else.</p>



<a name="226244152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244152">(Feb 13 2021 at 13:04)</a>:</h4>
<p>However the analogue of this something else for power series is much more technical because it involves infinite sums and issues where things don't always converge; this is a situation where everything converges for trivial reasons.</p>



<a name="226244300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244300">(Feb 13 2021 at 13:08)</a>:</h4>
<p>Even defining the map on power series sending X to X+X^2 is something we don't have and which will take some work, not least because we don't even have the X-adic topology on a power series ring plus a proof it's complete, and this because we don't even have the J-adic topology on a ring for J an ideal. We have the latter in the perfectoid repo but we never PRed it</p>



<a name="226244656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244656">(Feb 13 2021 at 13:18)</a>:</h4>
<p>Out of curiosity, are formal power series in mathlib?</p>



<a name="226244816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244816">(Feb 13 2021 at 13:23)</a>:</h4>
<p>Yes, <code>power_series</code> is formal power series</p>



<a name="226244940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244940">(Feb 13 2021 at 13:26)</a>:</h4>
<p>Ok, so there goes my idea of defining the evaluation via power series!  <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="226244950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244950">(Feb 13 2021 at 13:27)</a>:</h4>
<p>Damiano, the question is about a map between power series rings</p>



<a name="226244963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226244963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226244963">(Feb 13 2021 at 13:27)</a>:</h4>
<p>But right now they have no topology</p>



<a name="226245037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245037">(Feb 13 2021 at 13:29)</a>:</h4>
<p>I'm voting for <code>power_series.rescale</code></p>



<a name="226245106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245106">(Feb 13 2021 at 13:30)</a>:</h4>
<blockquote>
<p>it's an obvious special case of something else</p>
</blockquote>
<p>I'm asking what the precise lean spelling to apply that obvious special case is on polynomials.</p>



<a name="226245181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245181">(Feb 13 2021 at 13:32)</a>:</h4>
<p>For instance, if it were <code>polynomial.eval (*) X</code> or something then <code>power_series.eval_mul_X</code> would be a consistent name</p>



<a name="226245309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245309">(Feb 13 2021 at 13:35)</a>:</h4>
<p>Eric, I do not think that this exists: the closest would probably be <code>aeval</code>, but restricted to only allow certain terms of the target algebra.  You can evaluate a polynomial with coefficients in a ring <code>R</code> on <em>any</em> element of an <code>R</code>-algebra.  But for power series, this is not true: the series <code>sum n! x^n</code> cannot be evaluated at 1, for instance.</p>



<a name="226245415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245415">(Feb 13 2021 at 13:38)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> As Damiano says, for polynomials this is <code>aeval (a * X)</code></p>



<a name="226245445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245445">(Feb 13 2021 at 13:39)</a>:</h4>
<p>Kevin, you are right: I was somehow convinced that this <code>rescale</code> business was something specialized to Bernoulli, not that it was actually developing the API for formal power series as well!</p>



<a name="226245579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226245579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226245579">(Feb 13 2021 at 13:42)</a>:</h4>
<p>Ah I thanks, I missed <span class="user-mention" data-user-id="321459">@Damiano Testa</span>'s comment about <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.aeval">docs#polynomial.aeval</a></p>



<a name="226252355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226252355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226252355">(Feb 13 2021 at 16:08)</a>:</h4>
<p>The issue is that you can evaluate a polynomial anywhere, but it's far more subtle to say where you can evaluate a power series because topology and convergence come in.</p>



<a name="226252386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226252386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226252386">(Feb 13 2021 at 16:08)</a>:</h4>
<p>This is just a weird simple special case where it's guaranteed to work and furthermore you can get away without considering convergence of anything</p>



<a name="226290893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226290893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226290893">(Feb 14 2021 at 07:37)</a>:</h4>
<p>E.g., you can evaluate a <code>power_series</code> on a <code>power_series</code> with <code>coeff 0 f = 0</code>. I guess, there is some algebraic generalization of this construction.</p>



<a name="226291223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226291223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226291223">(Feb 14 2021 at 07:47)</a>:</h4>
<p>As a follow-up for after this PR, it would be nice to also allow things like sending <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>n</mi></msub><msup><mi>X</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">c_n X^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> to <code>(a^n \smul c_n)X^n</code> or <code>(c_n \smul a^n)X^n</code></p>



<a name="226291418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226291418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226291418">(Feb 14 2021 at 07:53)</a>:</h4>
<p>For which I think the generalization is a slightly stricter <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_algebra.lift_nc">docs#add_monoid_algebra.lift_nc</a></p>



<a name="226293297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%236056%20odd%20Bernoulli/near/226293297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/144837-PR-reviews/topic/.236056.20odd.20Bernoulli.html#226293297">(Feb 14 2021 at 08:37)</a>:</h4>
<p>The difference there is that a homomorphism from a monoid algebra is determined by its values on the <code>single a b</code> because they span. This is not the case for a power series ring, because the monomials only span a topologically dense subset so without topology on source and target you can't extend, and with a topology you sometimes can't extend if completeness fails</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>