---
layout: archive
title: Zulip Chat Archive
permalink: /stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/index.html">Codewars</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html">Group Is Not Union Of Two Proper Subgroups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197473105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197473105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197473105">(May 13 2020 at 20:28)</a>:</h4>
<p><a href="https://www.codewars.com/kata/5ea8056e449f540001a2dab2/discuss/lean">https://www.codewars.com/kata/5ea8056e449f540001a2dab2/discuss/lean</a></p>
<blockquote>
<p>Unless the intent of this kata was explicitly to make the trainee (me in this case) discover things like decidable/classical/etc on their own, I would suggest adding a hint in this direction to the description. This could be as simple as pointing out the existence of the classical tactic.</p>
</blockquote>



<a name="197473112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197473112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197473112">(May 13 2020 at 20:28)</a>:</h4>
<p>what do you guys think about this?</p>



<a name="197473439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197473439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197473439">(May 13 2020 at 20:30)</a>:</h4>
<p>my preferred solution is to put </p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
</code></pre></div>


<p>as part of the "initial solution"</p>



<a name="197473591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197473591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197473591">(May 13 2020 at 20:31)</a>:</h4>
<p>I guess sflicht thinks that the Lean codewars exercises should teach you everything about doing math in Lean</p>



<a name="197473597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197473597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197473597">(May 13 2020 at 20:31)</a>:</h4>
<p>which, no</p>



<a name="197474242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197474242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197474242">(May 13 2020 at 20:36)</a>:</h4>
<p>what does <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> think about this?</p>



<a name="197474382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197474382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197474382">(May 13 2020 at 20:37)</a>:</h4>
<p>I left this as a comment:</p>
<p>A good patch is to have</p>
<div class="codehilite"><pre><span></span><code><span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
</code></pre></div>


<p>in the header of any Lean kata which is meant to be about "everyday mathematics".</p>
<p>I don't think "learn Lean entirely through exercises on Codewars" is a particularly good life strategy, anymore than it would be for learning other languages. Come ask questions here<br>
<a href="#narrow/stream/113489-new-members">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members</a></p>
<p>or use this website to find reference material<br>
<a href="https://leanprover-community.github.io/">https://leanprover-community.github.io/</a></p>



<a name="197474856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197474856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197474856">(May 13 2020 at 20:41)</a>:</h4>
<p>I've not been doing codewars because I've had to cut down on my "recreational Lean" since hundreds of undergrad scripts landed on my desk. I'll be back by the end of May. I think the fact that a group isn't a union of two proper subgroups is a cool lemma. One could even make it harder by proving that 2 is tight :-)</p>



<a name="197474927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197474927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197474927">(May 13 2020 at 20:42)</a>:</h4>
<p>that can be your next kata!</p>



<a name="197474981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197474981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197474981">(May 13 2020 at 20:42)</a>:</h4>
<p>(I think kenny's question was about the linked comment from the kata discussion thread?)</p>



<a name="197475306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475306">(May 13 2020 at 20:45)</a>:</h4>
<p>Oh! Are you asking whether I think learning Lean entirely through exercises on codewars is a good idea? I guess not, some kata are far too hard for a beginner, some are simple, one needs access to material which is "just right" to learn stuff well. I guess that if we make it 100 kata then there will be a whole lot of choice though -- there already is a nice variety of kata in fact.</p>



<a name="197475543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475543">(May 13 2020 at 20:47)</a>:</h4>
<p>I guess if one wants to make this kind of learning easier, one should put together more "collections"</p>



<a name="197475578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475578">(May 13 2020 at 20:47)</a>:</h4>
<p>e.g. donald has a "real analysis" and "incidence geometry" collections</p>



<a name="197475634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475634">(May 13 2020 at 20:48)</a>:</h4>
<p>these happen to have problems entirely written by him, but I think that is not a necessary feature of collections</p>



<a name="197475669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475669">(May 13 2020 at 20:48)</a>:</h4>
<p><span class="user-mention" data-user-id="260106">@Rocky Kamen-Rubio</span>  was trying to make some sort of beginner's collection based on his experience being very new and solving kata?</p>



<a name="197475697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197475697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197475697">(May 13 2020 at 20:49)</a>:</h4>
<p>When I have time I might make a Diophantine equation collection; I asked two hard questions so far but I know 100 easier ones.</p>



<a name="197491790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197491790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197491790">(May 13 2020 at 23:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups/near/197473591">said</a>:</p>
<blockquote>
<p>I guess sflicht thinks that the Lean codewars exercises should teach you everything about doing math in Lean</p>
</blockquote>
<p>FTR, I am sflicht on codewars. I certainly did not mean to imply what you say. Only that if the purpose of the kata is to be pedagogical, I didn't think this one was optimized (unless the author was intending to teach students how to discover "open_locale classical" for themselves, in which case the kata was a success, at least in my case!)</p>



<a name="197492110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197492110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197492110">(May 13 2020 at 23:51)</a>:</h4>
<p>hi sam! my point is just that "use classical reasoning" should be useful in like, ~all kata</p>



<a name="197492215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197492215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197492215">(May 13 2020 at 23:52)</a>:</h4>
<p>so it would be weird to put the burden of explicitly teaching that here</p>



<a name="197492282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197492282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197492282">(May 13 2020 at 23:53)</a>:</h4>
<p>anyway, it sounds like we agree that "add stuff to the header to indicate that classical reasoning is encouraged" is a good course of action</p>



<a name="197493083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493083">(May 14 2020 at 00:04)</a>:</h4>
<p>while it's obvious that classical reasoning is useful for any normal math, I had not encountered references to the fact that one sometimes needs to explicitly engage this mode in any of the other beginner resources (#TPIL, #NNG, etc). of course it's possible I just missed it.</p>



<a name="197493737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493737">(May 14 2020 at 00:15)</a>:</h4>
<p>while I have your attention, another beginner point raised by the linked kata was that I stumbled  towards a solution that opened with </p>
<div class="codehilite"><pre><span></span><code><span class="n">by_cases</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">),</span>
<span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
<span class="n">simp</span> <span class="bp">*</span><span class="o">,</span>
<span class="n">by_contradiction</span> <span class="n">g</span><span class="o">,</span>
<span class="k">have</span> <span class="n">sproper</span> <span class="o">:=</span> <span class="n">not_forall</span><span class="bp">.</span><span class="n">mp</span> <span class="n">h</span><span class="o">,</span>
<span class="k">have</span> <span class="n">tproper</span> <span class="o">:=</span> <span class="n">not_forall</span><span class="bp">.</span><span class="n">mp</span> <span class="n">g</span><span class="o">,</span>
</code></pre></div>


<p>I was vaguely aware from reading other resources that "using simp before the end" is bad, so I assumed my solution was suboptimal. From perusing the other solutions, I learned that it could be replaced with what I guess is a more idiomatically correct opening sequence:</p>
<div class="codehilite"><pre><span></span><code><span class="n">by_contra</span> <span class="n">h</span><span class="o">,</span>
<span class="n">push_neg</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">sproper</span> <span class="n">tproper</span><span class="o">,</span>
</code></pre></div>


<p>At the end of the day, I was left wondering if there are any tutorials oriented towards teaching this type of idiom -- basically how to use tactics with flair, the way Serre would do.  (Even if in other contexts -- such as mathlib? -- it might be considered better style to write proofs in the style of Soviet mathematician about to run out of typewriter ink.) I suppose the book-in-progress Mathematics In Lean might fill the gap eventually. But if there is some obvious resource that I should be aware of, I'd certainly love to know about it!</p>



<a name="197493767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493767">(May 14 2020 at 00:15)</a>:</h4>
<p>what's the statement?</p>



<a name="197493879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493879">(May 14 2020 at 00:17)</a>:</h4>
<p>it's <code>theorem of_forall_mem_or_mem {G : Type u} [group G] (S T : set G) [is_subgroup S] [is_subgroup T]
  (HST : ∀ x, x ∈ S ∨ x ∈ T) : (∀ x, x ∈ S) ∨ (∀ x, x ∈ T) :=
sorry</code> from <a href="https://www.codewars.com/kata/5c85201e20f73f08df4216b1/train/lean">https://www.codewars.com/kata/5c85201e20f73f08df4216b1/train/lean</a></p>



<a name="197493964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493964">(May 14 2020 at 00:18)</a>:</h4>
<p>I love the phrase "proofs in the style of Soviet mathematician about to run out of typewriter ink"</p>



<a name="197493992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197493992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197493992">(May 14 2020 at 00:18)</a>:</h4>
<p>I didn't intentionally drop the article, actually, but I wish it had been intentional</p>



<a name="197494056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494056">(May 14 2020 at 00:19)</a>:</h4>
<p>This is a difficult question to answer, as there are many many ways to prove things, even discounting the obviously bad ones</p>



<a name="197494276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494276">(May 14 2020 at 00:22)</a>:</h4>
<p>I don't think there's many idioms of this form - for me there's a (small) list of tactics which I would use, and not the phrase "by_contra -- push_neg -- cases" or something (although in this particular case I think there should be something called <code>by_contra!</code> which does by_contra, push_neg)</p>



<a name="197494308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494308">(May 14 2020 at 00:23)</a>:</h4>
<p>I try to put each "conceptual unit" on one line. Usually this entails applying a theorem and getting some new variables</p>



<a name="197494532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494532">(May 14 2020 at 00:26)</a>:</h4>
<p>In this case I would have liked to say</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">of_forall_mem_or_mem</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="n">G</span><span class="o">)</span> <span class="o">[</span><span class="n">is_subgroup</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">is_subgroup</span> <span class="n">T</span><span class="o">]</span>
  <span class="o">(</span><span class="n">HST</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span> <span class="bp">∨</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">T</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">T</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="n">or_iff_not_and_not</span><span class="bp">.</span><span class="mi">2</span> <span class="o">(</span><span class="bp">λ</span> <span class="bp">⟨</span><span class="n">h₁</span><span class="o">,</span> <span class="n">h₂</span><span class="bp">⟩</span><span class="o">,</span> <span class="bp">_</span><span class="o">),</span>
<span class="kn">end</span>
</code></pre></div>


<p>but this doesn't quite work, both because <code>or_iff_not_and_not</code> requires decidability and because the pattern match turns the <code>refine</code> into an <code>exact</code></p>



<a name="197494567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494567">(May 14 2020 at 00:26)</a>:</h4>
<p>a reasonable alternative is</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">of_forall_mem_or_mem</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="n">T</span> <span class="o">:</span> <span class="n">set</span> <span class="n">G</span><span class="o">)</span> <span class="o">[</span><span class="n">is_subgroup</span> <span class="n">S</span><span class="o">]</span> <span class="o">[</span><span class="n">is_subgroup</span> <span class="n">T</span><span class="o">]</span>
  <span class="o">(</span><span class="n">HST</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span> <span class="bp">∨</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">T</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span><span class="o">)</span> <span class="bp">∨</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">T</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">classical</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">or_iff_not_and_not</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span> <span class="n">rintro</span> <span class="bp">⟨</span><span class="n">h₁</span><span class="o">,</span> <span class="n">h₂</span><span class="bp">⟩</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197494691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sam Lichtenstein <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494691">(May 14 2020 at 00:28)</a>:</h4>
<p>is it fair to say that "have" is considered inelegant? I find myself using it a lot to break the problem down into digestible bits, but I rarely see it in <span class="user-mention" data-user-id="110064">@Kenny Lau</span>'s kata solutions, for example. Or is this a bit like "point free" in Haskell (<a href="https://wiki.haskell.org/Pointfree">https://wiki.haskell.org/Pointfree</a>) -- not that I really know anything about Haskell -- in that it can be simultaneously more elegant and more obscure...</p>



<a name="197494747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197494747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197494747">(May 14 2020 at 00:29)</a>:</h4>
<p>I would say that if you are going for compact proofs, <code>have</code> is useful only if you want to rewrite the result. Otherwise you can usually inline the have into the next line</p>



<a name="197496202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197496202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197496202">(May 14 2020 at 00:53)</a>:</h4>
<p>whenever you have a nonterminal simp, use <code>squeeze_simp</code>, which will produce a list of lemmas so that <code>simp only [list, of, lemmas],</code> will do what you want and run fast</p>



<a name="197496260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197496260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197496260">(May 14 2020 at 00:54)</a>:</h4>
<p>the problem with nonterminal simps (and terminal ones, even!) is that it has to do a search through the very long list of simp lemmas for the appropriate ones</p>



<a name="197496282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197496282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197496282">(May 14 2020 at 00:54)</a>:</h4>
<p>the problem that gets worse with nonterminal simps is that if you add more simp lemmas, you might change the result of the simp</p>



<a name="197496312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197496312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197496312">(May 14 2020 at 00:55)</a>:</h4>
<p>so "simp gets smarter" breaks your proof if you used simp the wrong way</p>



<a name="197503966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/197503966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Donald Sebastian Leung <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#197503966">(May 14 2020 at 03:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups/near/197475634">said</a>:</p>
<blockquote>
<p>these happen to have problems entirely written by him, but I think that is not a necessary feature of collections</p>
</blockquote>
<p>Speaking of collections, I would recommend adding a link to the collection in the description for each kata so solvers stumbling on any kata in the collection would be able to follow the link and find related exercises; otherwise, it could get lost in the <a href="https://www.codewars.com/collections">sea of collections</a> pretty quickly.</p>



<a name="291487841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/291487841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Way Yan <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#291487841">(Jul 31 2022 at 12:25)</a>:</h4>
<p>Sorry for reviving this thread, but I'm completely stuck at a really basic point: how do I unfold the hypotheses <code>hS : S &lt; ⊤</code> and <code>hK : K &lt; ⊤</code> into a more usable form (like a statement with quantifiers and ∈)? I'm guessing this is a bit of stupid question, but I'm still very unfamiliar with Lean <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="291488349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/291488349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#291488349">(Jul 31 2022 at 12:37)</a>:</h4>
<p>I'm not sure if it definitionally works out to something useful, but <code>S &lt;= T</code> should definitionally be the same as subset so you can use <code>S &lt; T -&gt; \not (\forall x \in T, x \in S)</code> and then work with that</p>



<a name="291488608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/291488608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#291488608">(Jul 31 2022 at 12:43)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="n">HST</span> <span class="o">:</span> <span class="n">S</span> <span class="bp">&lt;</span> <span class="bp">⊤</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∉</span> <span class="n">S</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">set.subset_def</span><span class="o">]</span> <span class="n">using</span> <span class="n">HST.2</span>
</code></pre></div>



<a name="291495314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/238266-Codewars/topic/Group%20Is%20Not%20Union%20Of%20Two%20Proper%20Subgroups/near/291495314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Way Yan <a href="https://leanprover-community.github.io/archive/stream/238266-Codewars/topic/Group.20Is.20Not.20Union.20Of.20Two.20Proper.20Subgroups.html#291495314">(Jul 31 2022 at 15:12)</a>:</h4>
<p>Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>