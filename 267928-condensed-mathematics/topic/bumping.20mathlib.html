---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/bumping.20mathlib.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html">bumping mathlib</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="224205377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/224205377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#224205377">(Jan 27 2021 at 16:16)</a>:</h4>
<p>If someone feels like it, we can bump mathlib and get access to <code>lean-3.26.0</code>.</p>



<a name="224205486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/224205486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#224205486">(Jan 27 2021 at 16:16)</a>:</h4>
<p>The <code>lean-3.24.0</code> branch should stay on the final commit that uses that version of lean. And we can create a new <code>lean-3.26.0</code> branch to track the new version.</p>



<a name="224205516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/224205516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#224205516">(Jan 27 2021 at 16:17)</a>:</h4>
<p>I'll have dinner first (-;</p>



<a name="224215793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/224215793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#224215793">(Jan 27 2021 at 17:25)</a>:</h4>
<p><span aria-label="warning" class="emoji emoji-26a0" role="img" title="warning">:warning:</span> done</p>



<a name="224215909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/224215909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#224215909">(Jan 27 2021 at 17:26)</a>:</h4>
<p>so make sure to run <code>leanproject get-mathlib-cache</code> after git pulling</p>



<a name="227238273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227238273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227238273">(Feb 22 2021 at 09:18)</a>:</h4>
<p>Johan and I just bumped mathlib</p>



<a name="227242708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227242708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227242708">(Feb 22 2021 at 10:01)</a>:</h4>
<p>Nice! Did you also do it for the toric branch? That might get rid of the red x.</p>



<a name="227247631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227247631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227247631">(Feb 22 2021 at 10:44)</a>:</h4>
<p>yup, we are working on toric right now</p>



<a name="227247692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227247692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227247692">(Feb 22 2021 at 10:45)</a>:</h4>
<p>and it has a <span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> now on github</p>



<a name="227250898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227250898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227250898">(Feb 22 2021 at 11:14)</a>:</h4>
<p>Nice! I'm still working on the is_scalar_tower issue. From a ring-theoretic perspective the issue is simple: if R is an A-algebra and M, N are two R-modules then Hom_R(M,N) is an R-algebra and an A-algebra and we are missing the is_scalar_tower instance which guarantees that the two actions coincide (A acts because is_scalar_tower A R N gives an A-action on Hom_R(M,N)). I tried to generalise this to A a monoid acting on a comm_semiring R blah blah blah you can guess the story, but Eric pointed out that something even more general is true: A can be a B-algebra and then the actions of A and B on Hom_R(M,N) are compatible. I've just got this working. Once 6331 is accepted, there's a random is_scalar_tower instance in toric.lean which can be removed (I just checked).</p>



<a name="227252299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227252299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227252299">(Feb 22 2021 at 11:28)</a>:</h4>
<p>We just pushed a bunch of stuff</p>



<a name="227252316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227252316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227252316">(Feb 22 2021 at 11:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> so be sure to pull (-;</p>



<a name="227396241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227396241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227396241">(Feb 23 2021 at 08:28)</a>:</h4>
<p>I just did another mathlib bump, deleting 415 lines of stuff that has moved from the repo to mathlib</p>



<a name="227768580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227768580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227768580">(Feb 25 2021 at 13:45)</a>:</h4>
<p>sorry, I broke the build in my previous push, it should be fixed now</p>



<a name="227895654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/227895654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#227895654">(Feb 26 2021 at 08:23)</a>:</h4>
<p>I bumped mathlib and in the process bumped lean to 3.27.0c.<br>
Be sure to <code>leanproject get-mathlib-cache</code> after pulling.</p>



<a name="228109026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228109026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228109026">(Feb 28 2021 at 06:08)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> I have the defn of <code>system_of_complexes.completion</code> ready to push to master. Just double checking it's okay to bump mathlib in the process....</p>



<a name="228110065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228110065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228110065">(Feb 28 2021 at 06:30)</a>:</h4>
<p>Okay, pushed.</p>



<a name="228110067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228110067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228110067">(Feb 28 2021 at 06:30)</a>:</h4>
<p>With a mathlib bump!</p>



<a name="228110261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228110261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228110261">(Feb 28 2021 at 06:35)</a>:</h4>
<p>Is there a webhook or something we can set up that will announce something every time leanpkg.toml is updated on master?</p>



<a name="228363369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228363369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228363369">(Mar 02 2021 at 07:04)</a>:</h4>
<p>mathlib bump bumps mathlib</p>



<a name="228898621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/228898621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#228898621">(Mar 05 2021 at 05:03)</a>:</h4>
<p>another bump, updates to the new <code>filter.tendsto</code> names after <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> fixed the namespace issue in mathlib</p>



<a name="229925758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/229925758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#229925758">(Mar 11 2021 at 21:06)</a>:</h4>
<p>I made a trivial but nontrivial mathlib bump</p>



<a name="230571830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230571830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230571830">(Mar 16 2021 at 19:03)</a>:</h4>
<p>I've tried bumping mathlib, but there is a nasty error in <code>breen_deligne/universal</code></p>



<a name="230571865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230571865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230571865">(Mar 16 2021 at 19:03)</a>:</h4>
<p>two instances for scalar multiplication are not defeq )-;</p>



<a name="230571895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230571895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230571895">(Mar 16 2021 at 19:03)</a>:</h4>
<p>The rest of the fixes were quite straightforward. I have pushed to <code>bump-mathlib</code></p>



<a name="230650076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230650076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230650076">(Mar 17 2021 at 07:51)</a>:</h4>
<p>I've pushed to latest mathlib, and hence we are now on lean 3.28.0c.</p>
<p>There was one regression, in <code>breen_deligne/universal.lean</code>. I've commented that out for now.<br>
<code>universal_map_equiv_functorial_map</code> is a huge monster of a declaration. <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> would you mind taking a look? I guess it makes sense to cut it into 4 pieces or so.</p>



<a name="230666681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230666681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230666681">(Mar 17 2021 at 10:15)</a>:</h4>
<p>I'm looking now.</p>



<a name="230668261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230668261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230668261">(Mar 17 2021 at 10:30)</a>:</h4>
<p>Some default bub instance had changed to some new with_zero bub so I had to change some type class hackery. All the work is proofs, the definitions are small, I could factor out the four proofs if you like.</p>



<a name="230668318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230668318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230668318">(Mar 17 2021 at 10:31)</a>:</h4>
<p>It just might be a bit easier to maintain that way</p>



<a name="230668579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230668579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230668579">(Mar 17 2021 at 10:33)</a>:</h4>
<p>Ah, this might be the <code>smul_with_zero</code> class that I introduced?  It caused (very) minor issues on mathlib, where some proofs required an extra <code>rw smul_eq_mul</code>, an extra <code>by exact</code> instead of a fully term-mode proof, or a <code>convert</code> instead of an <code>exact</code>.</p>
<p>I hope that the kind of fixes here were of a similar, small nature.  Sorry for the extra work.</p>



<a name="230668696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230668696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230668696">(Mar 17 2021 at 10:34)</a>:</h4>
<p>I can probably dig out the exact changes that were needed in 3 cases for the introduction, in case it helps: CI documented this pretty explicitly!</p>



<a name="230671318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230671318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230671318">(Mar 17 2021 at 10:58)</a>:</h4>
<p>It's OK, I fixed it already.</p>



<a name="230671578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/230671578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#230671578">(Mar 17 2021 at 11:00)</a>:</h4>
<p>thanks!</p>



<a name="231758078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/231758078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#231758078">(Mar 25 2021 at 07:37)</a>:</h4>
<p>Last night <code>fact</code> was made irreducible in mathlib:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code>$ git diff --stat
 leanpkg.toml                                      |  2 +-
 src/Mbar/Mbar_le.lean                             |  6 +++---
 src/Mbar/basic.lean                               |  8 ++++----
 src/Mbar/bounded.lean                             |  6 +++---
 src/combinatorial_lemma.lean                      |  2 +-
 src/facts/int.lean                                |  2 +-
 src/facts/nnreal.lean                             | 56 +++++++++++++++++++++++++++++++-------------------------
 src/facts/normed_group.lean                       |  2 +-
 src/locally_constant/Vhat.lean                    |  3 ++-
 src/normed_group/rescale.lean                     |  6 +++---
 src/normed_snake.lean                             |  8 ++++----
 src/normed_spectral.lean                          | 18 +++++++++---------
 src/polyhedral_lattice/Hom.lean                   |  2 +-
 src/polyhedral_lattice/cosimplicial.lean          |  6 ++++--
 src/polyhedral_lattice/pseudo_normed_group.lean   |  4 ++--
 src/polyhedral_lattice/rescale.lean               |  4 ++--
 src/pseudo_normed_group/Tinv.lean                 |  4 ++--
 src/pseudo_normed_group/basic.lean                |  2 +-
 src/pseudo_normed_group/profinitely_filtered.lean | 20 ++++++++++----------
 src/pseudo_normed_group/rescale.lean              |  4 ++--
 src/pseudo_normed_group/system_of_complexes.lean  |  8 ++++----
 src/pseudo_normed_group/with_Tinv.lean            |  2 +-
 src/system_of_complexes/basic.lean                | 23 ++++++++++++-----------
 src/system_of_complexes/completion.lean           | 26 ++++++++++++++------------
 src/system_of_complexes/double.lean               | 14 +++++++-------
 src/system_of_complexes/rescale.lean              | 10 +++++-----
 src/thm95/constants.lean                          | 10 +++++-----
 src/thm95/default.lean                            |  2 +-
 28 files changed, 136 insertions(+), 124 deletions(-)
</code></pre></div>



<a name="231764553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/231764553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#231764553">(Mar 25 2021 at 08:44)</a>:</h4>
<p>How many faces does a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>-dimensional cube have? I think that's <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">3^6</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> -- a mere <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>729</mn></mrow><annotation encoding="application/x-tex">729</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">2</span><span class="mord">9</span></span></span></span>. Ah, who would be afraid of that :-D</p>



<a name="233007031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/233007031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#233007031">(Apr 03 2021 at 13:37)</a>:</h4>
<p>slightly non-trivial mathlib bump</p>



<a name="234343003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234343003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234343003">(Apr 13 2021 at 15:04)</a>:</h4>
<p>I just bumped mathlib</p>



<a name="234616002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234616002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234616002">(Apr 15 2021 at 04:35)</a>:</h4>
<p>I'm going to try bumping mathlib to the version that changes the definition of <code>add_monoid</code>. Wish me luck.</p>



<a name="234616965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234616965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234616965">(Apr 15 2021 at 04:51)</a>:</h4>
<p>I've hit a first diamond:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">⊢</span> <span class="bp">@</span><span class="n">eq.</span><span class="o">{</span><span class="n">u_1</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">has_scalar.smul.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span><span class="o">}</span> <span class="n">nat</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">smul_with_zero.to_has_scalar.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span><span class="o">}</span> <span class="n">nat</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">mul_zero_class.to_has_zero.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">nat</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">monoid_with_zero.to_mul_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">nat</span> <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">nat</span> <span class="n">nat.semiring</span><span class="o">)))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.add_comm_monoid.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                      <span class="n">int.add_comm_monoid</span><span class="o">))))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">mul_action_with_zero.to_smul_with_zero.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span><span class="o">}</span> <span class="n">nat</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">semiring.to_monoid_with_zero.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">nat</span> <span class="n">nat.semiring</span><span class="o">)</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_zero_class.to_has_zero.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                               <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.add_comm_monoid.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                               <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                         <span class="n">int.add_comm_monoid</span><span class="o">))))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">semimodule.to_mul_action_with_zero.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span><span class="o">}</span> <span class="n">nat</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                <span class="n">nat.semiring</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.add_comm_monoid.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                   <span class="n">int.add_comm_monoid</span><span class="o">)</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.semimodule.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="n">nat</span> <span class="bp">Λ</span> <span class="n">int</span> <span class="n">nat.semiring</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">)))</span>
                   <span class="n">int.add_comm_monoid</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.nat_semimodule.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_comm_monoid</span><span class="o">)))))</span>
       <span class="n">n</span>
       <span class="n">f</span><span class="o">)</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">has_scalar.smul.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span><span class="o">}</span> <span class="n">nat</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.has_scalar_nat.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
          <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
             <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.add_comm_group.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group.to_add_comm_group.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span>
                         <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring.to_normed_group.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span>
                            <span class="o">(</span><span class="bp">@</span><span class="n">normed_comm_ring.to_normed_ring.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.normed_comm_ring</span><span class="o">))))))))</span>
       <span class="n">n</span>
       <span class="n">f</span><span class="o">)</span>
</code></pre></div>



<a name="234617648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234617648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234617648">(Apr 15 2021 at 05:02)</a>:</h4>
<p>Weird...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.module.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="bp">Λ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="bp">Λ</span><span class="o">]</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="bp">@</span><span class="n">smul_with_zero.to_has_scalar</span> <span class="n">ℕ</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>
  <span class="bp">=</span>
  <span class="bp">@</span><span class="n">add_monoid.has_scalar_nat</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="n">_</span>
  <span class="o">:=</span> <span class="n">rfl</span>

<span class="c1">-- This just works</span>
</code></pre></div>



<a name="234617968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234617968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234617968">(Apr 15 2021 at 05:06)</a>:</h4>
<p>Hmmm, I might have found the issue. Some files just compiled fine, but are still causing trouble further down the road.</p>



<a name="234621875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234621875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234621875">(Apr 15 2021 at 06:06)</a>:</h4>
<p>MWE</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="bp">Λ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="bp">Λ</span><span class="o">]</span>

<span class="kd">example</span> <span class="o">:</span>
<span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.semimodule.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span>
  <span class="n">nat</span> <span class="bp">Λ</span> <span class="n">int</span> <span class="n">nat.semiring</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
       <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">)))</span>
    <span class="n">int.add_comm_monoid</span>
    <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.nat_semimodule.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_comm_monoid</span><span class="o">))</span>
  <span class="bp">=</span>
<span class="o">(</span><span class="bp">@</span><span class="n">add_comm_monoid.nat_semimodule.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span>
   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="n">int</span> <span class="n">int.add_monoid</span><span class="o">))</span>
   <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid_hom.add_comm_monoid.</span><span class="o">{</span><span class="n">u_1</span> <span class="mi">0</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">int</span>
                <span class="o">(</span><span class="bp">@</span><span class="n">add_monoid.to_add_zero_class.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                   <span class="o">(</span><span class="bp">@</span><span class="n">sub_neg_monoid.to_add_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span>
                      <span class="o">(</span><span class="bp">@</span><span class="n">add_group.to_sub_neg_monoid.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="o">(</span><span class="bp">@</span><span class="n">add_comm_group.to_add_group.</span><span class="o">{</span><span class="n">u_1</span><span class="o">}</span> <span class="bp">Λ</span> <span class="n">_inst_1</span><span class="o">))))</span>
                <span class="n">int.add_comm_monoid</span><span class="o">))</span>
  <span class="o">:=</span> <span class="n">rfl</span> <span class="c1">-- fails</span>
</code></pre></div>



<a name="234621888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234621888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234621888">(Apr 15 2021 at 06:06)</a>:</h4>
<p>This probably requires a fix to mathlib</p>



<a name="234621910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234621910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234621910">(Apr 15 2021 at 06:07)</a>:</h4>
<p>I haven't debugged this further, but this is what <code>diff</code> told me</p>



<a name="234622152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622152">(Apr 15 2021 at 06:10)</a>:</h4>
<p>It's the crucial diff in the <code>pp.all</code> of</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="bp">Λ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="bp">Λ</span><span class="o">]</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">mul_action_with_zero.to_smul_with_zero</span> <span class="n">ℕ</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">add_monoid.to_smul_with_zero</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="n">rfl</span> <span class="c1">-- fails</span>
</code></pre></div>



<a name="234622174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622174">(Apr 15 2021 at 06:10)</a>:</h4>
<p>The <code>normed_space</code> import is also important. If you replace it by <code>module.basic</code> then the <code>rfl</code> works</p>



<a name="234622628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622628">(Apr 15 2021 at 06:17)</a>:</h4>
<p>When I've got my daughter out the door in about an hour I can look at this</p>



<a name="234622633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622633">(Apr 15 2021 at 06:17)</a>:</h4>
<p>and this is post <a href="https://github.com/leanprover-community/mathlib/issues/7084">#7084</a>?</p>



<a name="234622706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622706">(Apr 15 2021 at 06:18)</a>:</h4>
<p>Yes, I'm bumping the project to "post <a href="https://github.com/leanprover-community/mathlib/issues/7084">#7084</a> mathlib"</p>



<a name="234622849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622849">(Apr 15 2021 at 06:20)</a>:</h4>
<p>Unfortunately, that PR also removed</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">add_comm_monoid.nat_semimodule.subsingleton</span> <span class="o">:</span> <span class="n">subsingleton</span> <span class="o">(</span><span class="n">semimodule</span> <span class="n">ℕ</span> <span class="n">M</span><span class="o">)</span>
</code></pre></div>



<a name="234622868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234622868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234622868">(Apr 15 2021 at 06:20)</a>:</h4>
<p>Did I write that once upon a time? I seem to remember that. :-)</p>



<a name="234623245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234623245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234623245">(Apr 15 2021 at 06:25)</a>:</h4>
<p>I think it should be brought back. At least as <code>lemma</code>, maybe as instance.</p>



<a name="234623461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234623461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234623461">(Apr 15 2021 at 06:28)</a>:</h4>
<p>Isn't the idea that you're not supposed to put it back but instead are supposed to fix the bad instance by supplying a less pathological nat action?</p>



<a name="234623494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234623494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234623494">(Apr 15 2021 at 06:29)</a>:</h4>
<p>That's why it maybe doesn't have to be an <code>instance</code>. But it would be nice if we could just use this decl as a tmp fix until mathlib is fixed.</p>



<a name="234629771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234629771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234629771">(Apr 15 2021 at 07:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> Let me ping you here (-;</p>



<a name="234629783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234629783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234629783">(Apr 15 2021 at 07:27)</a>:</h4>
<p>I haven't made progress yet...</p>



<a name="234631126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234631126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234631126">(Apr 15 2021 at 07:39)</a>:</h4>
<p>OK I've made it to my desk, I'll have a look</p>



<a name="234631138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234631138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234631138">(Apr 15 2021 at 07:39)</a>:</h4>
<p>Found it, and fixing it.</p>



<a name="234639634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234639634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234639634">(Apr 15 2021 at 08:53)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7201">#7201</a></p>



<a name="234640314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234640314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234640314">(Apr 15 2021 at 08:59)</a>:</h4>
<p>Thanks a lot!</p>



<a name="234642322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234642322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234642322">(Apr 15 2021 at 09:16)</a>:</h4>
<p><code>n ^ 0</code> is no longer defeq to <code>1</code>... but I'm very very happy that <code>2 ^ 0</code> is still defeq to <code>1</code>.</p>



<a name="234643278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234643278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234643278">(Apr 15 2021 at 09:22)</a>:</h4>
<p>I used a hack in one file which can be removed once <a href="https://github.com/leanprover-community/mathlib/issues/7201">#7201</a> lands in mathlib.<br>
For now, here's your latest mathlib bump:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code> leanpkg.toml                                      |  2 +-
 src/Mbar/basic.lean                               |  7 +++----
 src/breen_deligne/category.lean                   | 13 +++++++------
 src/combinatorial_lemma.lean                      | 35 +++++++++++++++++------------------
 src/for_mathlib/add_monoid_hom.lean               |  9 +++++----
 src/polyhedral_lattice/basic.lean                 |  9 ++++-----
 src/polyhedral_lattice/cech.lean                  | 13 ++++---------
 src/polyhedral_lattice/direct_sum.lean            |  2 +-
 src/polyhedral_lattice/finsupp.lean               |  7 +++----
 src/polyhedral_lattice/int.lean                   |  2 +-
 src/pseudo_normed_group/profinitely_filtered.lean |  5 +++--
 src/rescale/basic.lean                            |  2 +-
 src/rescale/normed_group.lean                     |  2 +-
 src/rescale/polyhedral_lattice.lean               |  5 ++---
 src/toric/lem97.lean                              | 84 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------
 src/toric/module_regular.lean                     |  2 +-
 16 files changed, 111 insertions(+), 88 deletions(-)
</code></pre></div>



<a name="234673281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234673281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234673281">(Apr 15 2021 at 13:21)</a>:</h4>
<p>I commented in the original PR that we probably don't want to delete that subsingleton instance, but it was after we'd already decided to merge</p>



<a name="234790152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/234790152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#234790152">(Apr 16 2021 at 03:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> I'm very happy to say that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- TODO: remove this once a bug in mathlib is fixed</span>
<span class="kd">lemma</span> <span class="n">hack</span> <span class="o">:</span> <span class="n">mul_action_with_zero.to_smul_with_zero</span> <span class="n">ℕ</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">add_monoid.to_smul_with_zero</span> <span class="o">(</span><span class="bp">Λ</span> <span class="bp">→+</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>can now be removed</p>



<a name="236125008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236125008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236125008">(Apr 26 2021 at 06:10)</a>:</h4>
<p>I'm now bumping mathlib. We're in for some big changes (-;<br>
The int-smul refactor has landed, and we no longer have <code>semimodule</code>.</p>



<a name="236125722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236125722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236125722">(Apr 26 2021 at 06:22)</a>:</h4>
<p>I'm just going to do the minimal bump to make the project compile again. But once we are done, we should adjust the <code>add_comm_group</code> instance for <code>Mbar</code> so that it takes advantage of the new int-smul refactor.</p>



<a name="236130227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236130227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236130227">(Apr 26 2021 at 07:18)</a>:</h4>
<p>The <code>semimodule</code> refactor shouldn't be too bad. I did in two projects and it was only a <code>sed</code> away.</p>



<a name="236137533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236137533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236137533">(Apr 26 2021 at 08:26)</a>:</h4>
<p>There is one proof which is timing out but other than that the refactor seems to have gone well</p>



<a name="236141363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236141363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236141363">(Apr 26 2021 at 09:01)</a>:</h4>
<p>I finished the mathlib bump. Just pushed to <code>master</code>.</p>



<a name="236157631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236157631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236157631">(Apr 26 2021 at 11:33)</a>:</h4>
<p>I just refactored the <code>add_comm_group</code> instance on <code>Mbar</code> to make use of the new <code>nsmul/gsmul</code>-powers</p>



<a name="236558988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236558988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236558988">(Apr 28 2021 at 18:51)</a>:</h4>
<p>I just bumped mathlib so I could get to a couple of Eric Wieser's recent PR's</p>



<a name="236559026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236559026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236559026">(Apr 28 2021 at 18:52)</a>:</h4>
<p>Thanks a lot!</p>



<a name="236559067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/236559067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#236559067">(Apr 28 2021 at 18:52)</a>:</h4>
<p>I was just thinking about doing that <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="237119995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237119995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237119995">(May 03 2021 at 06:47)</a>:</h4>
<p>FYI: I just bumped mathlib</p>



<a name="237123108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237123108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237123108">(May 03 2021 at 07:26)</a>:</h4>
<p>Johan, you are working at crazy times!</p>



<a name="237124247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124247">(May 03 2021 at 07:37)</a>:</h4>
<p>Ooh, the mathlib bump was only 15 minutes. I didn't start early today (-;</p>



<a name="237124315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124315">(May 03 2021 at 07:38)</a>:</h4>
<p>Well, I meant your first messages to David ;-)</p>



<a name="237124420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124420">(May 03 2021 at 07:39)</a>:</h4>
<p>Johan works in a weird time zone which has nothing to do with its geographical time zone.</p>



<a name="237124439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124439">(May 03 2021 at 07:39)</a>:</h4>
<p>His dinner time is even weirder.</p>



<a name="237124625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124625">(May 03 2021 at 07:41)</a>:</h4>
<p>Ooh lol. 6:44... My son woke me up at 6:15.</p>



<a name="237124857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124857">(May 03 2021 at 07:44)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> My wife grew up in a village with a lot of industry and farms. On week days everyone there wakes up &lt; 6:00 and starts work 7:00 - 7:30. They are all done between 16:00 and 17:00 and have dinner around 17:15. Be kind of stuck with that. (They might go back to work at 19:00...)</p>



<a name="237124946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237124946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237124946">(May 03 2021 at 07:44)</a>:</h4>
<p>But my neighbour here in Germany works in road construction, and he seems to be on an even earlier schedule.</p>



<a name="237125383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237125383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237125383">(May 03 2021 at 07:48)</a>:</h4>
<p><span class="user-mention" data-user-id="130272">@David Michael Roberts</span> While I did not follow the actual code being written, I tried to keep up with which parts of the argument have been formalized.</p>
<p>The (very) good news: To me, all the really critical parts of the argument <em>have</em> been formalized, the completion of the homotopy argument being the last sticking point. Of course, there's still a chance that there's a missing link somewhere... that seems unlikely to me, but we should definitely finish this formalization!</p>
<p>So what is missing in order to finish LTE? Well, first the few things Johan mentioned: Gordan's lemma, some lemmas about polyhedral lattices, and (and this is the most critical of those, regarding the actual checking of the argument) the line of arguments from 8.19 --&gt; 9.2 --&gt; checking the column exactness (condition (2) of 9.6) in the proof of 9.5. (all numbers refer to Analytic.pdf)</p>
<p>Once this is done, we have a full proof of 9.5, and 9.4. (By the way, there was a discussion about weak vs strong exactness: We need the version of 9.4 with strong exactness, so we need to leave some of this discussion about strong exactness in. But that's done, just don't delete it <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span>)</p>
<p>But LTE is about 9.1! So what still remains to be done is to prove the implication 9.4 =&gt; 9.1. This will require the development of quite a few basics that have <em>just</em> been accomplished (from what I understand): Defining the category of condensed abelian groups, defining Ext-groups in abelian categories, etc. Currently, I don't have a clear picture of how much work remains to be done to get the implication 9.4 =&gt; 9.1 to work. (But it is clear that no mistake can hide there.)</p>



<a name="237125560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237125560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237125560">(May 03 2021 at 07:50)</a>:</h4>
<p>(Arguably, there's even another step, comparing the spaces of measures over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb Z((T))_r</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">Z</span><span class="mopen">((</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> with the measures <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">M</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal M_p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span></span></span></span>.)</p>



<a name="237125605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237125605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237125605">(May 03 2021 at 07:50)</a>:</h4>
<p>I guess that other step will be <code>third_target</code> <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="237126943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237126943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237126943">(May 03 2021 at 08:02)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> ok, excellent. I thought I was missing something, and 9.4=&gt;9.1 was it (I was being lazy and not checking Analytic.pdf line by line, just going on comments/discussion here).</p>
<p>So how are you feeling about all the fiddly explicit constants now, and the possibility you fooled yourself? I guess it's not over until it's over, but things are definitely looking firmer, no?</p>



<a name="237127113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237127113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237127113">(May 03 2021 at 08:04)</a>:</h4>
<p>Well, as you can see from the sorry-list in the other thread, there are still 10 sorries in <code>constants.lean</code>.</p>



<a name="237127130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237127130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237127130">(May 03 2021 at 08:05)</a>:</h4>
<p>So we certainly need to do a bit of work there.</p>



<a name="237127176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237127176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237127176">(May 03 2021 at 08:05)</a>:</h4>
<p>And the Cech part of the proof of 9.5 (which is still to be done) does influence the constants a bit.</p>



<a name="237127211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237127211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237127211">(May 03 2021 at 08:05)</a>:</h4>
<p>I don't expect any surprises, but I think I would rather do that part first, and then pin down the constants after that.</p>



<a name="237179703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/237179703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#237179703">(May 03 2021 at 15:25)</a>:</h4>
<p>Just for the record: it's dinner time.</p>



<a name="241753101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/241753101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#241753101">(Jun 07 2021 at 09:58)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code>commit 86cfda45062f555f73efd9361ab9f35630f4a718 (HEAD -&gt; master)
Author: Johan Commelin &lt;johan@commelin.net&gt;
Date:   Mon Jun 7 09:57:21 2021 +0000

    bump mathlib

 leanpkg.toml                                  |   2 +-
 src/for_mathlib/Cech/adjunction.lean          | 107 -------------------------------------------------------------------------------------------
 src/for_mathlib/SemiNormedGroup.lean          |  23 --------------------
 src/for_mathlib/connected.lean                |  14 ------------
 src/for_mathlib/finite_free.lean              |   2 +-
 src/for_mathlib/grading_zero_subring.lean     |   4 ++--
 src/for_mathlib/homological_complex.lean      |  34 -----------------------------
 src/for_mathlib/nnrat.lean                    |   2 +-
 src/for_mathlib/norm_nsmul.lean               |  32 ---------------------------
 src/for_mathlib/unused/to_int_linear_map.lean |  14 ------------
 src/normed_spectral.lean                      |   5 +++--
 src/polyhedral_lattice/quotient.lean          |   4 +---
 src/prop819.lean                              |   1 -
 src/prop819/completion.lean                   |  13 ++++++-----
 src/prop819/strict_complex_iso.lean           |   4 ++--
 src/prop_92/prop_92.lean                      |   5 +++--
 src/thm95/col_exact.lean                      |   2 +-
 src/thm95/col_exact_prep.lean                 |   2 --
 18 files changed, 21 insertions(+), 249 deletions(-)
jmc@atarrimbo:~/data/math/lean-liquid$ git push
Enumerating objects: 47, done.
</code></pre></div>



<a name="241755148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/241755148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#241755148">(Jun 07 2021 at 10:21)</a>:</h4>
<p>Note that the vast majority of the main is coming from <code>for_mathlib</code>. Well done Johan, thanks a lot for this.</p>



<a name="241758278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/bumping%20mathlib/near/241758278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/bumping.20mathlib.html#241758278">(Jun 07 2021 at 10:55)</a>:</h4>
<p>Well, thanks to <span class="user-mention" data-user-id="110087">@Scott Morrison</span> and <span class="user-mention" data-user-id="243562">@Adam Topaz</span> for making a whole bunch of PRs out of for_mathlib</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>