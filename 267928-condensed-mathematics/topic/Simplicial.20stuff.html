---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html">Simplicial stuff</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="230548292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230548292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230548292">(Mar 16 2021 at 16:43)</a>:</h4>
<p>Hi all, I'm working on developing some of the basic simplicial constructions necessary for the project -- especially toward hypercovers.<br>
For now I would like to define the coskeleton functors (and prove that they're adjoint to the skeleton functors). <br>
I made a mathlib PR with the skeleton functors earlier today: <a href="https://github.com/leanprover-community/mathlib/issues/6711">#6711</a></p>
<p>The coskeleton functors will be a bit more of a challenge :)</p>



<a name="230767432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230767432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230767432">(Mar 17 2021 at 21:11)</a>:</h4>
<p>... So I'm still running into a LOT of annoying universe-related issues. To define the coskeleton functors, one takes a limit over some finite diagram indexed by a category constructed out of <code>simplex_category</code>. The issue is that to take a limit of a diagram indexes by <code>J</code> in a category <code>C</code> with universe parameters <code>category.{v u} C</code>, we must have <code>J : Type v</code> with <code>J</code> a small category. </p>
<p>So, I defined the following gadget<br>
<a href="https://github.com/leanprover-community/mathlib/blob/296104b7f3295aa40c68efd17b310f33e13f318b/src/category_theory/category/ulift.lean#L73">https://github.com/leanprover-community/mathlib/blob/296104b7f3295aa40c68efd17b310f33e13f318b/src/category_theory/category/ulift.lean#L73</a><br>
that lets you lift a small category to another small category in another universe.</p>
<p>But now I find myself having to use things like <code>ulift'.equivalence.congr_left.functor.obj</code> all over the place and I'm ready to give up...</p>
<p>What's the best way forward?</p>



<a name="230768331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768331">(Mar 17 2021 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> do you have a good idea?</p>



<a name="230768424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768424">(Mar 17 2021 at 21:16)</a>:</h4>
<p>I feel like this whole enterprise would be a lot easier if we had a universe polymorphic <code>simplex_category</code> to begin with</p>



<a name="230768499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768499">(Mar 17 2021 at 21:17)</a>:</h4>
<p>And define <code>simplicial_object C</code> in the case <code>category.{v u} C</code> as <code>simplex_category.{v}\op \func C</code>.</p>



<a name="230768515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768515">(Mar 17 2021 at 21:17)</a>:</h4>
<p>hmm, because even if you say that <code>C</code> has objects in <code>Type</code>, then you are stuck when <code>C</code> is large.</p>



<a name="230768560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768560">(Mar 17 2021 at 21:17)</a>:</h4>
<p>Not even just for large <code>C</code>, but any time the morphisms of <code>C</code> are not in <code>Type</code></p>



<a name="230768596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768596">(Mar 17 2021 at 21:17)</a>:</h4>
<p>Right, so also for <em>laaaarge</em> categories (-;</p>



<a name="230768649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768649">(Mar 17 2021 at 21:18)</a>:</h4>
<p>Oh yeah, you're right, if <code>C : Type</code> then that's the same as <code>C</code>being large :)</p>



<a name="230768699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768699">(Mar 17 2021 at 21:18)</a>:</h4>
<p>or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="fraktur">L</mi><mi mathvariant="fraktur">A</mi><mi mathvariant="fraktur">R</mi><mi mathvariant="fraktur">G</mi><mi mathvariant="fraktur">E</mi></mrow><annotation encoding="application/x-tex">\mathfrak{LARGE}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69141em;vertical-align:0em;"></span><span class="mord"><span class="mord mathfrak">L</span><span class="mord mathfrak">A</span><span class="mord mathfrak">R</span><span class="mord mathfrak">G</span><span class="mord mathfrak">E</span></span></span></span></span></p>



<a name="230768716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768716">(Mar 17 2021 at 21:18)</a>:</h4>
<p>But for <code>NormedGroup.{0}</code> and <code>Profinite.{0}</code> etc... we are fine.</p>



<a name="230768760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768760">(Mar 17 2021 at 21:19)</a>:</h4>
<p>So, if we just want to flesh out the theory modulo universe issues, you could assume <code>v = 0</code> everywhere, for now.</p>



<a name="230768796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768796">(Mar 17 2021 at 21:19)</a>:</h4>
<p>Yeah, I think so. But it feels silly to construct these things without making it mathlib compatible</p>



<a name="230768988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230768988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230768988">(Mar 17 2021 at 21:20)</a>:</h4>
<p>The downside of <code>simplex_category := NonEmptyFinLinOrd</code> is that now the simplex category is suddenly large.</p>



<a name="230769022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769022">(Mar 17 2021 at 21:20)</a>:</h4>
<p>Well, I already wrote a bunch of code proving all the associated categories were finite, which relies on the fact that <code>fin a -&gt; fin b</code> and <code>fin c</code> are all finite types, and using <code>NonEmptyFinLinOrd</code> would make that part a lot harder...</p>



<a name="230769055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769055">(Mar 17 2021 at 21:21)</a>:</h4>
<p>This is all in <a href="https://github.com/leanprover-community/mathlib/tree/simplicial_cosk">branch#simplicial_cosk</a></p>



<a name="230769220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769220">(Mar 17 2021 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> How evil is it to have universe constraints of the form <code>u1 \le u2</code> in your type theory.</p>



<a name="230769241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769241">(Mar 17 2021 at 21:22)</a>:</h4>
<p>I think the simplex category should be a "concrete" category, i.e. have objects <em>equal</em> to the nonnegative integers (does that even make sense? In some sense it shouldn't...)</p>



<a name="230769267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769267">(Mar 17 2021 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> Yeah, that's how it's constructed right now</p>



<a name="230769277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769277">(Mar 17 2021 at 21:22)</a>:</h4>
<p>OK, great</p>



<a name="230769303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769303">(Mar 17 2021 at 21:22)</a>:</h4>
<p>But in Lean universes are not cumulative.</p>



<a name="230769314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769314">(Mar 17 2021 at 21:23)</a>:</h4>
<p>But we also have some API for skeletons of categories, which is supposed to make this easier (in theory <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> )</p>



<a name="230769346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769346">(Mar 17 2021 at 21:23)</a>:</h4>
<p>So <code>simplex_category : Type</code> and hence not <code>: Type v</code> for larger <code>v</code>.</p>



<a name="230769362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769362">(Mar 17 2021 at 21:23)</a>:</h4>
<p>I'd guess so</p>



<a name="230769380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769380">(Mar 17 2021 at 21:23)</a>:</h4>
<p>And when you set up an API for categorical limits, you have to decide where the index categories of your limits live.</p>



<a name="230769455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769455">(Mar 17 2021 at 21:24)</a>:</h4>
<p>Ideally, they just live in any "small" universe. But you can't quantify over universes...</p>



<a name="230769493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769493">(Mar 17 2021 at 21:24)</a>:</h4>
<p>Surely they are small limits, so they probably live one universe level down from the ambient one</p>



<a name="230769509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769509">(Mar 17 2021 at 21:24)</a>:</h4>
<p>Aha, OK...</p>



<a name="230769598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769598">(Mar 17 2021 at 21:25)</a>:</h4>
<p>So, we currently have <code>category.{v u} C</code> which means <code>C : Type u</code> are the objects, and <code>Hom X Y : Type v</code> for the morphisms</p>



<a name="230769620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769620">(Mar 17 2021 at 21:25)</a>:</h4>
<p>And index categories for limits must live in <code>Type v</code>.</p>



<a name="230769673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769673">(Mar 17 2021 at 21:26)</a>:</h4>
<p>But when you have a limit that is naturally indexed by something in <code>Type w</code> for <code>w &lt; v</code>, Lean just says "nope"</p>



<a name="230769711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769711">(Mar 17 2021 at 21:26)</a>:</h4>
<p>And that's annoying.</p>



<a name="230769732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769732">(Mar 17 2021 at 21:26)</a>:</h4>
<p>Oh, that's annoying indeed.</p>



<a name="230769761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769761">(Mar 17 2021 at 21:26)</a>:</h4>
<p>so there's no "universe coercion" or something like that?</p>



<a name="230769766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769766">(Mar 17 2021 at 21:26)</a>:</h4>
<p>So you can build constructions that lift things to a higher universe... yes</p>



<a name="230769789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769789">(Mar 17 2021 at 21:26)</a>:</h4>
<p>But you don't want to have those all over the place, if you can avoid it</p>



<a name="230769791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769791">(Mar 17 2021 at 21:26)</a>:</h4>
<p>We have this <code>ulift</code> thing</p>



<a name="230769805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230769805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230769805">(Mar 17 2021 at 21:26)</a>:</h4>
<p>So I can write this, for example</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">simplex_category'</span> <span class="o">:=</span> <span class="n">ulift.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">ℕ</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">small_category.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">simplex_category'</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">ulift</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">a.down</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">→ₘ</span> <span class="n">fin</span> <span class="o">(</span><span class="n">b.down</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
  <span class="n">id</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="n">preorder_hom.id</span><span class="o">,</span>
  <span class="n">comp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="bp">$</span> <span class="n">preorder_hom.comp</span> <span class="n">g.down</span> <span class="n">f.down</span> <span class="o">}</span>
</code></pre></div>



<a name="230770004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770004">(Mar 17 2021 at 21:28)</a>:</h4>
<p>I don't know enough about foundations of maths/type theory to know what can of worms is opened by allowing to quantify over universes.</p>



<a name="230770060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770060">(Mar 17 2021 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> Do you know of a construction in mathematics that iterates "universe bumps"?</p>



<a name="230770170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770170">(Mar 17 2021 at 21:29)</a>:</h4>
<p>A universe bump, is for example the topos-theoretic approach to cohomology. If you take the abstract approach to etale cohomology, then for <code>X : Scheme.{0}</code> the etale cohomology will live in <code>Type 1</code></p>



<a name="230770313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770313">(Mar 17 2021 at 21:30)</a>:</h4>
<p>So now you can imagine that you look at <code>Spec (some_cohomology_ring)</code> or so...</p>



<a name="230770358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770358">(Mar 17 2021 at 21:31)</a>:</h4>
<p>But I don't really know of a natural example where you would want to iterate this process arbitrarily often.</p>



<a name="230770390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770390">(Mar 17 2021 at 21:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/230769220">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> How evil is it to have universe constraints of the form <code>u1 \le u2</code> in your type theory.</p>
</blockquote>
<p>They already exist, you just can't write them. But they aren't usually needed, since you get an equivalent effect by replacing all instances of <code>u2</code> with <code>max u1 u2</code></p>



<a name="230770452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770452">(Mar 17 2021 at 21:31)</a>:</h4>
<p>Or even better, if you construct say the etale \pi_1 in the categorical way it would be a group in <code>Type 1</code>, and then you take group cohomology of that constructed in some categorical way and you get something in <code>Type 2</code>, etc.</p>



<a name="230770667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770667">(Mar 17 2021 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> But that doesn't allow quantifying over all <code>u1</code> such that <code>max u1 u2 = u2</code></p>



<a name="230770723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770723">(Mar 17 2021 at 21:33)</a>:</h4>
<p>I somehow want to write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foobar</span> <span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="o">{</span><span class="n">v</span> <span class="bp">\</span><span class="n">le</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="bp">...</span>
</code></pre></div>



<a name="230770865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770865">(Mar 17 2021 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> you say etc etc but I can't see this naturally leading to a situation where we might want to universe-bump infinitely often.</p>



<a name="230770890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770890">(Mar 17 2021 at 21:34)</a>:</h4>
<p>Oh I see. yes of course.</p>



<a name="230770969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770969">(Mar 17 2021 at 21:35)</a>:</h4>
<p>Well, then you can iterate the classifying space construction of an abelian group</p>



<a name="230770989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230770989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230770989">(Mar 17 2021 at 21:35)</a>:</h4>
<p>(which is involved in the second step of my example)</p>



<a name="230771070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771070">(Mar 17 2021 at 21:36)</a>:</h4>
<p>I did my entire course just using Prop and Type, I knew it would all fit into ZFC and I think universes are just one more thing that makes lean look intimidating</p>



<a name="230771443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771443">(Mar 17 2021 at 21:39)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Instead of</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foobar</span> <span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="o">{</span><span class="n">v</span> <span class="bp">\</span><span class="n">le</span> <span class="n">u</span><span class="o">}</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="bp">...</span> <span class="kt">Type</span> <span class="n">u</span>
</code></pre></div>
<p>you write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foobar</span> <span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="bp">...</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="n">u</span> <span class="n">v</span><span class="o">)</span>
</code></pre></div>



<a name="230771763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771763">(Mar 17 2021 at 21:41)</a>:</h4>
<p>But what if <code>v</code> changes in another definition later on, while <code>u</code> stays the same?</p>



<a name="230771838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771838">(Mar 17 2021 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> What do you suggest that this should be changed to:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universes</span> <span class="n">v</span> <span class="n">u</span> <span class="n">u'</span> <span class="n">u''</span> <span class="n">w</span> <span class="c1">-- declare the `v`'s first; see `category_theory.category` for an explanation</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">J</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">small_category</span> <span class="n">J</span><span class="o">]</span> <span class="o">[</span><span class="n">small_category</span> <span class="n">K</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="bp">⥤</span> <span class="n">C</span><span class="o">}</span>

<span class="sd">/--</span>
<span class="sd">A cone `t` on `F` is a limit cone if each cone on `F` admits a unique</span>
<span class="sd">cone morphism to `t`.</span>

<span class="sd">See https://stacks.math.columbia.edu/tag/002E.</span>
<span class="sd">  -/</span>
<span class="kd">@[nolint has_inhabited_instance]</span>
<span class="kd">structure</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">lift</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">),</span> <span class="n">s.X</span> <span class="bp">⟶</span> <span class="n">t.X</span><span class="o">)</span>
<span class="o">(</span><span class="n">fac'</span>  <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">)</span> <span class="o">(</span><span class="n">j</span> <span class="o">:</span> <span class="n">J</span><span class="o">),</span> <span class="n">lift</span> <span class="n">s</span> <span class="bp">≫</span> <span class="n">t.π.app</span> <span class="n">j</span> <span class="bp">=</span> <span class="n">s.π.app</span> <span class="n">j</span> <span class="bp">.</span> <span class="n">obviously</span><span class="o">)</span>
<span class="o">(</span><span class="n">uniq'</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">cone</span> <span class="n">F</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">s.X</span> <span class="bp">⟶</span> <span class="n">t.X</span><span class="o">)</span> <span class="o">(</span><span class="n">w</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">j</span> <span class="o">:</span> <span class="n">J</span><span class="o">,</span> <span class="n">m</span> <span class="bp">≫</span> <span class="n">t.π.app</span> <span class="n">j</span> <span class="bp">=</span> <span class="n">s.π.app</span> <span class="n">j</span><span class="o">),</span>
  <span class="n">m</span> <span class="bp">=</span> <span class="n">lift</span> <span class="n">s</span> <span class="bp">.</span> <span class="n">obviously</span><span class="o">)</span>
</code></pre></div>



<a name="230771878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771878">(Mar 17 2021 at 21:42)</a>:</h4>
<p>Currently <code>J : Type v</code> and <code>[category.{v} C]</code></p>



<a name="230771931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771931">(Mar 17 2021 at 21:43)</a>:</h4>
<p>Somehow, <code>J</code> should be small, relative to <code>C</code></p>



<a name="230771933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771933">(Mar 17 2021 at 21:43)</a>:</h4>
<p>where does the inequality come up?</p>



<a name="230771966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771966">(Mar 17 2021 at 21:43)</a>:</h4>
<p><code>[category.{v (max v u)} C]</code></p>



<a name="230771972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230771972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230771972">(Mar 17 2021 at 21:43)</a>:</h4>
<p>Well, we would like to be able to consider both <code>J : Type v</code> and <code>J : Type 0</code></p>



<a name="230772040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772040">(Mar 17 2021 at 21:44)</a>:</h4>
<p>And if <code>v</code> happens to be <code>2</code>, then <code>J : Type 1</code> should also work</p>



<a name="230772042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772042">(Mar 17 2021 at 21:44)</a>:</h4>
<p>or actually just <code>variables {C : Type (max v u)} [category.{v} C]</code></p>



<a name="230772116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772116">(Mar 17 2021 at 21:44)</a>:</h4>
<p>I mean, why does the inequality need to exist? Why can't you use a small <code>u</code></p>



<a name="230772163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772163">(Mar 17 2021 at 21:45)</a>:</h4>
<p>I think <code>u</code> is unrelated to what we are doing.</p>



<a name="230772198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772198">(Mar 17 2021 at 21:45)</a>:</h4>
<p>You said you need <code>v &lt;= u</code></p>



<a name="230772241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772241">(Mar 17 2021 at 21:45)</a>:</h4>
<p>so apparently <code>u</code> needs to be large</p>



<a name="230772257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772257">(Mar 17 2021 at 21:45)</a>:</h4>
<p>I want <code>J : Type v1</code> and <code>[category.{v2} C]</code> and <code>v1 &lt;= v2</code></p>



<a name="230772312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772312">(Mar 17 2021 at 21:46)</a>:</h4>
<p>what happens if the inequality fails?</p>



<a name="230772332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772332">(Mar 17 2021 at 21:46)</a>:</h4>
<p>And <code>C : Type u</code>, but that doesn't matter.</p>



<a name="230772358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772358">(Mar 17 2021 at 21:46)</a>:</h4>
<p>Oh there are two v's?</p>



<a name="230772369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772369">(Mar 17 2021 at 21:46)</a>:</h4>
<p>There aren't in that snippet</p>



<a name="230772373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772373">(Mar 17 2021 at 21:46)</a>:</h4>
<p>Currently <code>v1 = v2</code></p>



<a name="230772450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772450">(Mar 17 2021 at 21:47)</a>:</h4>
<p>But that causes trouble, because now we can take limits over <code>simplex_category : Type 0</code></p>



<a name="230772506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772506">(Mar 17 2021 at 21:47)</a>:</h4>
<p>Concretely, we want the following example to work:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.limits.limits</span>

<span class="kd">universes</span> <span class="n">v</span> <span class="n">u</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">limits.has_limits</span> <span class="n">C</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">J</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">small_category</span> <span class="n">J</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="bp">⥤</span> <span class="n">C</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">C</span> <span class="o">:=</span> <span class="n">limits.limit</span> <span class="n">F</span>
</code></pre></div>



<a name="230772713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772713">(Mar 17 2021 at 21:49)</a>:</h4>
<p>And we want to show that <code>Type 2</code> has all products indexed by <code>J : Type v</code> for <code>v = 0</code>, <code>v = 1</code> and <code>v = 2</code>. If that is possible, it would be great.</p>



<a name="230772740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772740">(Mar 17 2021 at 21:49)</a>:</h4>
<p>Without addressing the harder issue of increasing the universe polymorphicity of <code>limits.limit</code>, I think <span class="user-mention" data-user-id="243562">@Adam Topaz</span>'s suggestion above</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">simplex_category'</span> <span class="o">:=</span> <span class="n">ulift.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">ℕ</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">small_category.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">simplex_category'</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">ulift</span> <span class="o">(</span><span class="n">fin</span> <span class="o">(</span><span class="n">a.down</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">→ₘ</span> <span class="n">fin</span> <span class="o">(</span><span class="n">b.down</span><span class="bp">+</span><span class="mi">1</span><span class="o">)),</span>
  <span class="n">id</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="n">preorder_hom.id</span><span class="o">,</span>
  <span class="n">comp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="bp">$</span> <span class="n">preorder_hom.comp</span> <span class="n">g.down</span> <span class="n">f.down</span> <span class="o">}</span>
</code></pre></div>
<p>is going to be pretty good.</p>



<a name="230772796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772796">(Mar 17 2021 at 21:49)</a>:</h4>
<p>After a very small amount of API for converting <code>nat</code> to <code>simplex_category'</code>, it should be smooth sailing, no?</p>



<a name="230772798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772798">(Mar 17 2021 at 21:50)</a>:</h4>
<p>So that should just become the new definition of <code>simplex_category</code>?</p>



<a name="230772842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772842">(Mar 17 2021 at 21:50)</a>:</h4>
<p>Yes.</p>



<a name="230772863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772863">(Mar 17 2021 at 21:50)</a>:</h4>
<p>That sounds good to me.</p>



<a name="230772921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772921">(Mar 17 2021 at 21:50)</a>:</h4>
<p>We want some API indeed:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- `X.obj (op $ (0:ℕ))` is quite a mouthful to talk about `X_0` :sad:</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">simplicial_object</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X.obj</span> <span class="o">(</span><span class="n">op</span> <span class="bp">$</span> <span class="o">(</span><span class="mi">0</span><span class="o">:</span><span class="n">ℕ</span><span class="o">))</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span>
</code></pre></div>



<a name="230772947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230772947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230772947">(Mar 17 2021 at 21:51)</a>:</h4>
<p>But while we're at it, we should record somewhere Adam's other code snippet, ending at <code>example : C := limits.limit F</code>, perhaps as a github issue, because this is exactly what we really want.</p>



<a name="230773227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773227">(Mar 17 2021 at 21:53)</a>:</h4>
<p>There's already some notation:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="o">[</span><span class="bp">`</span><span class="n">n</span><span class="bp">`</span><span class="o">]</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">mk</span> <span class="n">n</span>
</code></pre></div>



<a name="230773293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773293">(Mar 17 2021 at 21:53)</a>:</h4>
<p>Can we have <code>open_locale simplicial</code> enable that?</p>



<a name="230773308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773308">(Mar 17 2021 at 21:53)</a>:</h4>
<p>where we can hide the <code>ulift</code>, and also put it under <code>open_locale simplicial</code>.</p>



<a name="230773345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773345">(Mar 17 2021 at 21:53)</a>:</h4>
<p>there's already localized notation in <code>sSet</code></p>



<a name="230773398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773398">(Mar 17 2021 at 21:54)</a>:</h4>
<p>perhaps we could combine those into one locale</p>



<a name="230773505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773505">(Mar 17 2021 at 21:54)</a>:</h4>
<p>I'm not sure how much Lean time I will have today, but I can try to insert this ulift into what is already in mathlib sometime.</p>



<a name="230773739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773739">(Mar 17 2021 at 21:56)</a>:</h4>
<p>I'm starting the refactor now <span class="user-mention" data-user-id="110087">@Scott Morrison</span>.</p>



<a name="230773785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773785">(Mar 17 2021 at 21:56)</a>:</h4>
<p>Probably won't finish today, but feel free to push to my branch (I'll push it to github once something is working)</p>



<a name="230773892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773892">(Mar 17 2021 at 21:57)</a>:</h4>
<p>(I wish we could rename the emojis. You have to type <code>:working on it:</code> to get that one, but we all seem to use it as the much better <code>:you are working on it and that is awesome:</code>.)</p>



<a name="230773897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773897">(Mar 17 2021 at 21:57)</a>:</h4>
<p>Well, in this proetale business one wants to often construct things that admit no further etale covers, for which one takes a product of "all" etale maps, and sometimes needs to iterate this process countably many times. If one is not careful, one would enlarge the universe infinitely often</p>



<a name="230773996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230773996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230773996">(Mar 17 2021 at 21:58)</a>:</h4>
<p>That is something we can not do around here. :-)</p>



<a name="230774067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230774067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230774067">(Mar 17 2021 at 21:59)</a>:</h4>
<p>Well, I'm not doing it either, I stay in one universe throughout</p>



<a name="230774101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230774101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230774101">(Mar 17 2021 at 21:59)</a>:</h4>
<p>But I put some nasty cardinal bounds in to justify this</p>



<a name="230774429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230774429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230774429">(Mar 17 2021 at 22:00)</a>:</h4>
<p>Anyways, I'm off for tonight! I'm really excited about the progress!</p>



<a name="230774684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230774684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230774684">(Mar 17 2021 at 22:01)</a>:</h4>
<p>Thanks for the example</p>



<a name="230782490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230782490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230782490">(Mar 17 2021 at 22:50)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> I pushed a sketchy refactor to this branch: <a href="https://github.com/leanprover-community/mathlib/tree/simplex_refactor">branch#simplex_refactor</a></p>
<p>It still needs a bit of cleaning up, but at least there are no errors. </p>
<p>Also the <code>has_(co)limit</code> instances are now MUCH easier :)</p>



<a name="230782567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230782567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230782567">(Mar 17 2021 at 22:51)</a>:</h4>
<p>In any case, I'm done for today, but please feel free to push to this branch as you see fit</p>



<a name="230786806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230786806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230786806">(Mar 17 2021 at 23:36)</a>:</h4>
<p>I pushed a commit making <code>simplex_category</code> irreducible.</p>



<a name="230787830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230787830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230787830">(Mar 17 2021 at 23:48)</a>:</h4>
<p>I was aspiring to make <code>mk</code> irreducible as well, but that one has me stumped at the moment.</p>



<a name="230850255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230850255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230850255">(Mar 18 2021 at 11:56)</a>:</h4>
<p>I started a refactor to mathlib generalising the universe variables for limits a few weeks ago, basically allowing us to talk about non-small limits as well - it mostly went pretty smoothly and I'm hoping to PR it soon</p>



<a name="230852016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230852016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230852016">(Mar 18 2021 at 12:11)</a>:</h4>
<p>Looking forward to it!</p>



<a name="230854704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230854704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230854704">(Mar 18 2021 at 12:34)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span>Eager to know what you come up with!</p>



<a name="230879450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230879450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230879450">(Mar 18 2021 at 15:08)</a>:</h4>
<p>I refactors a bit more around <code>simplex_category</code> in the following branch, building on Scott's latest commits:<br>
<a href="https://github.com/leanprover-community/mathlib/compare/simplex_refactor_hom_irred">https://github.com/leanprover-community/mathlib/compare/simplex_refactor_hom_irred</a></p>



<a name="230879587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230879587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230879587">(Mar 18 2021 at 15:09)</a>:</h4>
<p>The main thing is that I introduced an (irreduccible) <code>simplex_category.hom</code> with a little API with <code>mk</code> and <code>to_preorder_hom</code>.</p>



<a name="230879672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230879672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230879672">(Mar 18 2021 at 15:09)</a>:</h4>
<p>Adding some careful simp lemmas actually simplifies the file quite a bit with a lot of simp lemmas being redundant.</p>



<a name="230879841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230879841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230879841">(Mar 18 2021 at 15:10)</a>:</h4>
<p>The only strange thing is that I now have to use <code>simpa [fin.pred_above]</code> in a few places whereas previously it was just <code>simpa</code>. I don't really know why, but it works.</p>



<a name="230879972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230879972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230879972">(Mar 18 2021 at 15:11)</a>:</h4>
<p>The skeletal functor for simplex_category is now completely universe polymorphic -- simplex_category and NonemptyFinLinOrd can be in completely unrelated universes.</p>



<a name="230893720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230893720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230893720">(Mar 18 2021 at 16:14)</a>:</h4>
<p>I would also like to introduce the following (localized) notation. What's a sensible value for 1000 in the following code?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- TODO: find a sensible value for `1000`.</span>
<span class="n">localized</span>
  <span class="s2">"notation X `_[`:1000 n `]` := (X : simplicial_object _).obj (op (simplex_category.mk n))"</span>
  <span class="k">in</span> <span class="n">simplicial</span>
</code></pre></div>



<a name="230893805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230893805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230893805">(Mar 18 2021 at 16:15)</a>:</h4>
<p>(see <a href="https://github.com/leanprover-community/mathlib/blob/d2e2236a441cc95572885406a06ee482e1a8c632/src/algebraic_topology/simplicial_object.lean#L35">https://github.com/leanprover-community/mathlib/blob/d2e2236a441cc95572885406a06ee482e1a8c632/src/algebraic_topology/simplicial_object.lean#L35</a> )</p>



<a name="230893913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230893913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230893913">(Mar 18 2021 at 16:15)</a>:</h4>
<p>This way the face maps look nice: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">δ</span> <span class="o">{</span><span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">))</span> <span class="o">:</span> <span class="n">X</span> <span class="n">_</span><span class="o">[</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">]</span> <span class="bp">⟶</span> <span class="n">X</span> <span class="n">_</span><span class="o">[</span><span class="n">n</span><span class="o">]</span> <span class="o">:=</span>
</code></pre></div>



<a name="230894112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894112">(Mar 18 2021 at 16:16)</a>:</h4>
<p>Of course, if someone has another suggestion for a better approximation of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>→</mo><msub><mi>X</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">X_{n+1} \to X_n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, please let me know :)</p>



<a name="230894181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894181">(Mar 18 2021 at 16:17)</a>:</h4>
<p>I have no idea what's happening here. What is the 1000 supposed to be doing?</p>



<a name="230894276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894276">(Mar 18 2021 at 16:17)</a>:</h4>
<p>Oh, it's a silly lean thing... it just tells lean how much priority to give to this notation</p>



<a name="230894347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894347">(Mar 18 2021 at 16:18)</a>:</h4>
<p>Ah!</p>



<a name="230894386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894386">(Mar 18 2021 at 16:18)</a>:</h4>
<p>Without the 1000, I would have to write <code>X _[n+1] ⟶ (X _[n])</code> or else lean would get confused</p>



<a name="230894516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894516">(Mar 18 2021 at 16:19)</a>:</h4>
<p>Peter, these numbers govern whether <code>a + b * c</code> is <code>(a + b) * c</code> or <code>a + (b * c)</code>. Luckily, they work out to mean the latter (-;</p>



<a name="230894544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894544">(Mar 18 2021 at 16:19)</a>:</h4>
<p>In what range do they live, typically?</p>



<a name="230894559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894559">(Mar 18 2021 at 16:19)</a>:</h4>
<p><code>0 -- 1024</code></p>



<a name="230894564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894564">(Mar 18 2021 at 16:19)</a>:</h4>
<p>not sure exactly, but 1000 is high</p>



<a name="230894662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894662">(Mar 18 2021 at 16:20)</a>:</h4>
<p>Ooh, I guess <code>0</code> or <code>1024</code> doesn't belong to the range... but I'm not sure</p>



<a name="230894748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894748">(Mar 18 2021 at 16:21)</a>:</h4>
<p><code>=</code> is <code>_ </code>=<code>:50 _:50 := eq #1 #0</code></p>



<a name="230894842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230894842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230894842">(Mar 18 2021 at 16:21)</a>:</h4>
<p>(so 50 is meant to be very low)</p>



<a name="230896243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230896243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230896243">(Mar 18 2021 at 16:32)</a>:</h4>
<p><code>$</code> mentions zero: <code>_ `$`:1 _:0 := #1 #0</code></p>



<a name="230896372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230896372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230896372">(Mar 18 2021 at 16:33)</a>:</h4>
<p>There's also <code>:max</code> and one more than that, <code>:std.prec.max_plus</code>, that "turns it up to 11", which means bind in the strongest way possible, currently only used for </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">data</span><span class="bp">/</span><span class="n">opposite.lean</span><span class="o">:</span><span class="kd">notation</span> <span class="n">α</span> <span class="bp">`ᵒᵖ`</span><span class="o">:</span><span class="n">std.prec.max_plus</span> <span class="o">:=</span> <span class="n">opposite</span> <span class="n">α</span>
<span class="n">src</span><span class="bp">/</span><span class="n">field_theory</span><span class="bp">/</span><span class="n">adjoin.lean</span><span class="o">:</span><span class="kd">notation</span> <span class="n">K</span><span class="bp">`⟮`</span><span class="o">:</span><span class="n">std.prec.max_plus</span> <span class="n">l</span><span class="o">:(</span><span class="n">foldr</span> <span class="bp">`</span><span class="o">,</span> <span class="bp">`</span> <span class="o">(</span><span class="n">h</span> <span class="n">t</span><span class="o">,</span> <span class="n">insert.insert</span> <span class="n">t</span> <span class="n">h</span><span class="o">)</span> <span class="bp">∅</span><span class="o">)</span> <span class="bp">`⟯`</span> <span class="o">:=</span> <span class="n">adjoin</span> <span class="n">K</span> <span class="n">l</span>
</code></pre></div>



<a name="230896628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230896628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230896628">(Mar 18 2021 at 16:35)</a>:</h4>
<p>but </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">infixr</span> <span class="bp">`⋆`</span><span class="o">:</span><span class="mi">1000000</span> <span class="o">:=</span> <span class="n">has_mul.mul</span>

<span class="k">#print</span> <span class="kd">notation</span> <span class="bp">⋆</span> <span class="c1">-- _ `⋆`:1000000 _:999999 := has_mul.mul #1 #0</span>
</code></pre></div>



<a name="230896946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230896946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230896946">(Mar 18 2021 at 16:36)</a>:</h4>
<p><span class="user-mention" data-user-id="308899">@Yakov Pechersky</span> I don't really understand the notation syntax. Does the above <code>X _[n]</code> notation look reasonable to you?</p>



<a name="230897241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230897241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230897241">(Mar 18 2021 at 16:38)</a>:</h4>
<p>Should the <code>X</code> and/or the <code>]</code> have some number next to them as well?</p>



<a name="230897658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230897658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230897658">(Mar 18 2021 at 16:41)</a>:</h4>
<p>I think it will work. Here's my test:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">big_operators</span>

<span class="kd">notation</span>  <span class="bp">`</span><span class="n">_</span><span class="o">[</span><span class="bp">`</span><span class="o">:</span><span class="mi">1000</span> <span class="n">n</span> <span class="bp">`</span><span class="o">]</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">fin</span> <span class="n">n</span>

<span class="k">#print</span> <span class="kd">notation</span> <span class="n">_</span><span class="o">[</span>

<span class="k">#check</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="o">(</span><span class="n">fin</span> <span class="n">_</span> <span class="bp">×</span> <span class="n">fin</span> <span class="n">_</span> <span class="bp">→</span> <span class="n">ℕ</span><span class="o">)),</span> <span class="bp">∑</span> <span class="n">i</span> <span class="o">:</span> <span class="n">_</span><span class="o">[</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">2</span> <span class="o">]</span> <span class="bp">×</span> <span class="n">_</span><span class="o">[</span> <span class="mi">3</span> <span class="bp">*</span> <span class="mi">3</span> <span class="o">],</span> <span class="n">f</span> <span class="n">i</span>
</code></pre></div>



<a name="230897699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230897699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230897699">(Mar 18 2021 at 16:41)</a>:</h4>
<p>Without a number, <code>]</code> will be <code>:0</code> which I don't think will make a difference whether it is 0 or 999</p>



<a name="230944497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230944497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230944497">(Mar 18 2021 at 22:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/230879450">said</a>:</p>
<blockquote>
<p>I refactored a bit more around <code>simplex_category</code> in the following branch, building on Scott's latest commits:<br>
<a href="https://github.com/leanprover-community/mathlib/compare/simplex_refactor_hom_irred">https://github.com/leanprover-community/mathlib/compare/simplex_refactor_hom_irred</a></p>
</blockquote>
<p>Is this ready to PR?</p>



<a name="230944921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230944921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230944921">(Mar 18 2021 at 22:05)</a>:</h4>
<p>I think so... let me go through it quickly an open a PR.</p>



<a name="230947723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230947723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230947723">(Mar 18 2021 at 22:33)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6761">#6761</a></p>



<a name="230948075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/230948075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#230948075">(Mar 18 2021 at 22:37)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> One thing to note: this PR deletes a handful of the simp lemmas that were in the file from before, in favor of some simp lemmas for this new (irreducible) <code>simplex_category.hom</code>. If there's a lemma that seems to be missing, I'd be happy to add it back.</p>



<a name="231076523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231076523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231076523">(Mar 19 2021 at 19:19)</a>:</h4>
<p>aaah. I'm running into even more categorical headaches. This time I think it's because <code>opposite</code> is irreducible.</p>
<p>Take a look at the following goal:<br>
<a href="https://github.com/leanprover-community/mathlib/blob/ec1b65487b40942baa21bf2dc3dd0a337e4f8f83/src/algebraic_topology/simplicial_object.lean#L170">https://github.com/leanprover-community/mathlib/blob/ec1b65487b40942baa21bf2dc3dd0a337e4f8f83/src/algebraic_topology/simplicial_object.lean#L170</a></p>
<p>It feels really silly that tidy cant close this proof all by itself. I don't even want to think about the <code>map_comp'</code> field if <code>map_id'</code> is hard!<br>
I think the issue boils down to the definition here:<br>
<a href="https://github.com/leanprover-community/mathlib/blob/ec1b65487b40942baa21bf2dc3dd0a337e4f8f83/src/algebraic_topology/simplex_category.lean#L461">https://github.com/leanprover-community/mathlib/blob/ec1b65487b40942baa21bf2dc3dd0a337e4f8f83/src/algebraic_topology/simplex_category.lean#L461</a></p>
<p>along with the fact that tidy can't see past the definition of <code>unop</code>.</p>
<p>Anyone have any thoughts on how to simplify this situation?</p>



<a name="231083846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231083846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231083846">(Mar 19 2021 at 20:17)</a>:</h4>
<p>Sorry, I'm completely spent. I hope someone else can take a look. Otherwise, I'll see if I can help once I'm re-energized.</p>



<a name="231084482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231084482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231084482">(Mar 19 2021 at 20:22)</a>:</h4>
<p>I'm trying but I'm not getting anywhere</p>



<a name="231084536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231084536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231084536">(Mar 19 2021 at 20:22)</a>:</h4>
<p>Crazy idea: can we define <code>simplex_category</code> so that we NEVER use opposites?</p>



<a name="231084634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231084634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231084634">(Mar 19 2021 at 20:23)</a>:</h4>
<p>I even tried going through this making <code>opposite</code> and friends semireducible, and it's not much better.</p>



<a name="231084772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231084772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231084772">(Mar 19 2021 at 20:24)</a>:</h4>
<p>I tried making opposite reducible and the code just broke :-)</p>



<a name="231084820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231084820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231084820">(Mar 19 2021 at 20:24)</a>:</h4>
<p>semireducible is better because you can still write things like <code>foo.unop</code></p>



<a name="231085199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231085199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231085199">(Mar 19 2021 at 20:27)</a>:</h4>
<p>with things being semireducible I got down to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category</span> <span class="n">C</span><span class="o">,</span>
<span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">has_finite_limits</span> <span class="n">C</span><span class="o">,</span>
<span class="n">X</span> <span class="o">:</span> <span class="n">simplex_category</span><span class="bp">ᵒᵖ</span><span class="o">,</span>
<span class="n">T</span> <span class="o">:</span> <span class="n">truncated</span> <span class="n">C</span> <span class="n">n</span><span class="o">,</span>
<span class="n">j_val</span> <span class="o">:</span> <span class="n">over</span> <span class="o">(</span><span class="n">unop</span> <span class="n">X</span><span class="o">),</span>
<span class="n">j_property</span> <span class="o">:</span> <span class="n">simplex_category.len</span> <span class="n">j_val.left</span> <span class="bp">≤</span> <span class="n">n</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">over.map</span> <span class="o">(</span><span class="n">simplex_category.hom.mk</span> <span class="n">preorder_hom.id</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="bp">↑</span><span class="o">(</span><span class="n">unop</span> <span class="o">⟨</span><span class="n">j_val</span><span class="o">,</span> <span class="n">j_property</span><span class="o">⟩)</span> <span class="bp">=</span> <span class="n">j_val</span>
</code></pre></div>



<a name="231085232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231085232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231085232">(Mar 19 2021 at 20:27)</a>:</h4>
<p>but simp still gets stuck, i guess because of the various unops</p>



<a name="231085443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231085443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231085443">(Mar 19 2021 at 20:29)</a>:</h4>
<p>is there a tactic that makes something reducible in the middle of a tactic block?</p>



<a name="231089459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231089459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231089459">(Mar 19 2021 at 21:01)</a>:</h4>
<p>Right, this is as far as I can get too.</p>



<a name="231089606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231089606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231089606">(Mar 19 2021 at 21:02)</a>:</h4>
<p>You can also do this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>      <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">simplex_category.hom.mk</span> <span class="n">preorder_hom.id</span> <span class="bp">=</span> <span class="n">simplex_category.hom.id</span> <span class="o">(</span><span class="n">unop</span> <span class="n">X</span><span class="o">),</span>
        <span class="n">ext</span><span class="o">,</span>
        <span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>but if you <code>rw h</code> it doesn't seem to help and then <code>simp</code> just unrewrites it again.</p>



<a name="231120313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231120313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231120313">(Mar 20 2021 at 04:17)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> We are also using some cosimplicial objects in LTE... so defining <code>simplex_category</code> to <code>usual_simplex_category^op</code> will just shift the problems around, I fear.</p>



<a name="231121692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231121692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231121692">(Mar 20 2021 at 04:44)</a>:</h4>
<p>Is this just a Kan extension? Taking a limit in this form looks familiar to me, I've come across a bunch of goals which look like this and I think they can all be unified nicely</p>



<a name="231122691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231122691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231122691">(Mar 20 2021 at 05:02)</a>:</h4>
<p>Yeah this is probably some sort of Kan extension.</p>



<a name="231122704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231122704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231122704">(Mar 20 2021 at 05:02)</a>:</h4>
<p>And yeah good point about the cosimplicial objects.</p>



<a name="231123674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231123674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231123674">(Mar 20 2021 at 05:20)</a>:</h4>
<p>I guess this is exactly the right(?) Kan extension along the inclusion of (truncated n)\op into simplex_category\op.</p>



<a name="231147581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231147581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231147581">(Mar 20 2021 at 13:49)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> I guess it could be useful to have Kan extensions in mathlib (everything is a Kan extension, after all...). The question is what assumptions should we add to ensure they exist? We could ask that the category has all limits, but this is too strong. In the coskeleton case, you only need finite limits because the categories in question all happen to be finite, but of course this won't be true for a general Kan extension.</p>



<a name="231148441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231148441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231148441">(Mar 20 2021 at 14:05)</a>:</h4>
<p>I also realize now that this <code>trunc</code> gadget I defined is just some comma category associated to the inclusion of <code>truncated n</code> into <code>simplex_category</code>.</p>



<a name="231149403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231149403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231149403">(Mar 20 2021 at 14:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/231147581">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> I guess it could be useful to have Kan extensions in mathlib (everything is a Kan extension, after all...). The question is what assumptions should we add to ensure they exist? We could ask that the category has all limits, but this is too strong. In the coskeleton case, you only need finite limits because the categories in question all happen to be finite, but of course this won't be true for a general Kan extension.</p>
</blockquote>
<p>I think the right thing to do is copy the is/has limit pattern, and have a class saying that certain Kan extensions do exist, but not all, so that we can talk about both local and global Kan extensions - and for the existence of global Kan extensions we should just be able to assume that the appropriate (co)limits over comma categories exist; so in your case you can show this by using equivalence to your finite index categories</p>



<a name="231149496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231149496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231149496">(Mar 20 2021 at 14:26)</a>:</h4>
<p>(In <a href="https://github.com/leanprover-community/mathlib/issues/5152">#5152</a> I constructed the global left Kan extension given small colimits, but I certainly agree it's better to have additional restrictions)</p>



<a name="231153362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231153362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231153362">(Mar 20 2021 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> another reason to have Kan extensions is to "define" the big Witt vectors <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span> <br>
<a href="https://ncatlab.org/nlab/show/Lambda-ring">https://ncatlab.org/nlab/show/Lambda-ring</a></p>



<a name="231154964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231154964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231154964">(Mar 20 2021 at 16:09)</a>:</h4>
<p>We already have examples of Lambda rings in mathlib! Just not <del>the</del> <em>a</em> definition of Lambda ring, so the examples aren't registered as such. But certain Dickson polynomials give an example.</p>



<a name="231161216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161216">(Mar 20 2021 at 18:00)</a>:</h4>
<p>By the way, (<span class="user-mention" data-user-id="110087">@Scott Morrison</span>) the alternating face map cochain complex attached to a cosimplicial object is now done. Just pointing this out, in case others had it on a todo list somewhere.</p>



<a name="231161518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161518">(Mar 20 2021 at 18:05)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Is there still something that you want me to look at?</p>



<a name="231161528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161528">(Mar 20 2021 at 18:05)</a>:</h4>
<p>Or does the Kan machine solve your troubles?</p>



<a name="231161593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161593">(Mar 20 2021 at 18:06)</a>:</h4>
<p>I think building right Kan extensions is the way to go here. I'll try it out on Monday</p>



<a name="231161646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161646">(Mar 20 2021 at 18:08)</a>:</h4>
<p>Are we going full Dold-Kan? Or do we just need the construction of a complex from a cosimplicial object?</p>



<a name="231161697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161697">(Mar 20 2021 at 18:08)</a>:</h4>
<p>The latter. But it's already done.</p>



<a name="231161713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161713">(Mar 20 2021 at 18:08)</a>:</h4>
<p>Of course full Dold-Kan would be nice to have, independent from LTE.</p>



<a name="231161831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161831">(Mar 20 2021 at 18:10)</a>:</h4>
<p>And what sort of API do we need from hypercovers by profinite sets?</p>



<a name="231161950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161950">(Mar 20 2021 at 18:13)</a>:</h4>
<p><a href="https://leanprover-community.github.io/liquid/sect0005.html#prop:normedcompletion">https://leanprover-community.github.io/liquid/sect0005.html#prop:normedcompletion</a></p>



<a name="231161955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231161955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231161955">(Mar 20 2021 at 18:13)</a>:</h4>
<p>This is the "end goal" of the simplicial stuff</p>



<a name="231162021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162021">(Mar 20 2021 at 18:14)</a>:</h4>
<p>Patrick is working on the dependency <a href="https://leanprover-community.github.io/liquid/sect0005.html#prop:completeexact">https://leanprover-community.github.io/liquid/sect0005.html#prop:completeexact</a> that is used in the proof.</p>



<a name="231162057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162057">(Mar 20 2021 at 18:14)</a>:</h4>
<p>Sounds good.</p>



<a name="231162062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162062">(Mar 20 2021 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> From that "end goal" we only need the second half</p>



<a name="231162092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162092">(Mar 20 2021 at 18:15)</a>:</h4>
<p>So this will use the <code>Vhat.lean</code> that you are already familiar with, I think</p>



<a name="231162115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162115">(Mar 20 2021 at 18:15)</a>:</h4>
<p>I'll make a mental todo, to split that lemma into two pieces in the blueprint</p>



<a name="231162163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231162163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231162163">(Mar 20 2021 at 18:16)</a>:</h4>
<p>actually, let me just do it right now</p>



<a name="231163384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231163384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231163384">(Mar 20 2021 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> due to the split, the "end goal" is now <a href="https://leanprover-community.github.io/liquid/sect0005.html#hypercover-exact">https://leanprover-community.github.io/liquid/sect0005.html#hypercover-exact</a></p>



<a name="231163591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231163591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231163591">(Mar 20 2021 at 18:41)</a>:</h4>
<p>Ok so the key point is to write a hypercovers of profinite sets as a cofiltered limit of finite sets. I think the key point for that is the equivalence between <code>Pro(Fintype)</code> and <code>Profinite</code>. What's the status of that <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> <span class="user-mention" data-user-id="132603">@Calle Sönne</span> ?</p>



<a name="231163668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231163668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231163668">(Mar 20 2021 at 18:42)</a>:</h4>
<p>Do you need the full equivalence of categories or is the expression of a profinite set as a cofiltered limit of finite sets enough?</p>



<a name="231163768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231163768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231163768">(Mar 20 2021 at 18:44)</a>:</h4>
<p>I think you need a categorical equivalence (maybe a bit less, but still something close to that), since we're looking at simplicial profinite sets, meaning we certainly need some compatibility with morphisms</p>



<a name="231163981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231163981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231163981">(Mar 20 2021 at 18:47)</a>:</h4>
<p>Oh, and I guess we will also need <code>alt_face_map_complex</code> to be functorial</p>



<a name="231164057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231164057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231164057">(Mar 20 2021 at 18:49)</a>:</h4>
<p>hah! good point. Currently it isn't set up that way.</p>



<a name="231164078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231164078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231164078">(Mar 20 2021 at 18:49)</a>:</h4>
<p>Well... there's nothing for simplicial objects anyway.</p>



<a name="231164090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231164090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231164090">(Mar 20 2021 at 18:49)</a>:</h4>
<p>I grabbed stuff from <a href="https://github.com/leanprover-community/mathlib/tree/sset">branch#sset</a>, and dualized it to make it work for cosimplicial stuff</p>



<a name="231343267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231343267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231343267">(Mar 22 2021 at 16:39)</a>:</h4>
<p>Yep! this is good enough. I'm trying to add the last few bits from your code <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> regarding the adjunctions being (co)reflective when <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ι</span></span></span></span> is fully faithful</p>



<a name="231343296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231343296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231343296">(Mar 22 2021 at 16:39)</a>:</h4>
<p>I think it would be ready to PR once that's done.</p>



<a name="231343323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231343323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231343323">(Mar 22 2021 at 16:39)</a>:</h4>
<p>Cool! Let me know if there's anything I can do :)</p>



<a name="231343503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231343503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231343503">(Mar 22 2021 at 16:40)</a>:</h4>
<p>To be honest I think it's ready to PR without that extra stuff, and those bits can be another PR</p>



<a name="231343582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231343582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231343582">(Mar 22 2021 at 16:40)</a>:</h4>
<p>I'll try for a few mins, and if I get bogged down (which I probably will), I'll leave those for later.</p>



<a name="231346653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231346653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231346653">(Mar 22 2021 at 16:59)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> is there a lemma of the following form in mathlib?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_iso_π_initial</span> <span class="o">{</span><span class="n">J</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">small_category</span> <span class="n">J</span><span class="o">]</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u₁</span><span class="o">}</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">j</span> <span class="o">:</span> <span class="n">J</span><span class="o">}</span>
  <span class="o">(</span><span class="n">term</span> <span class="o">:</span> <span class="n">is_initial</span> <span class="n">j</span><span class="o">)</span> <span class="o">[</span><span class="n">has_limits_of_shape</span> <span class="n">J</span> <span class="n">C</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="bp">⥤</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_iso</span> <span class="o">(</span><span class="n">limit.π</span> <span class="n">F</span> <span class="n">j</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="231346707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231346707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231346707">(Mar 22 2021 at 17:00)</a>:</h4>
<p>Nope and there absolutely should be</p>



<a name="231346752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231346752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231346752">(Mar 22 2021 at 17:00)</a>:</h4>
<p>It's similar to your <code>thingy2</code> :)</p>



<a name="231346789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231346789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231346789">(Mar 22 2021 at 17:00)</a>:</h4>
<p>There's some related things in limits/shapes/initial</p>



<a name="231351502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231351502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231351502">(Mar 22 2021 at 17:28)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6820">#6820</a><br>
I compromised by only providing the initial/terminal defs, leaving the actual proof of (co)reflectivity to when we have lemmas  such as <code>is_iso_π_initial</code> as above (and a similar one for colimits)</p>



<a name="231355306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231355306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231355306">(Mar 22 2021 at 17:52)</a>:</h4>
<p>An idea for a nice project: Prove that the ultrafilter monad is isomorphic to the right Kan extension of the inclusion <code>Fintype -&gt; Type</code> (over itself)</p>



<a name="231377827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231377827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231377827">(Mar 22 2021 at 20:17)</a>:</h4>
<p>Once <a href="https://github.com/leanprover-community/mathlib/issues/6820">#6820</a> goes through, here's the coskeleton functor (and the adjunction with the skeleton functor) <br>
<a href="https://github.com/leanprover-community/mathlib/blob/6b69979cc2f4b136212e4f3196138e17bb735b1f/src/algebraic_topology/simplicial_object.lean#L153">https://github.com/leanprover-community/mathlib/blob/6b69979cc2f4b136212e4f3196138e17bb735b1f/src/algebraic_topology/simplicial_object.lean#L153</a></p>



<a name="231406471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231406471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231406471">(Mar 23 2021 at 00:40)</a>:</h4>
<p>Yeah codensity monads would be cool to have</p>



<a name="231768625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231768625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231768625">(Mar 25 2021 at 09:22)</a>:</h4>
<p>By the way, for the proof of 9.5, one only needs the version of 8.19 for Cech nerves of covers <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>→</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">S_0\to S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>, i.e. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>=</mo><msub><mi>S</mi><mn>0</mn></msub><msub><mo>×</mo><mi>S</mi></msub><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">S_1=S_0\times_S S_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mbin">×</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>=</mo><msub><mi>S</mi><mn>0</mn></msub><msub><mo>×</mo><mi>S</mi></msub><msub><mi>S</mi><mn>0</mn></msub><msub><mo>×</mo><mi>S</mi></msub><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">S_2=S_0\times_S S_0\times_S S_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mbin">×</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mbin">×</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> etc. Hypercovers would be great to have anyways, but they are not strictly necessary for the proof.</p>



<a name="231768798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231768798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231768798">(Mar 25 2021 at 09:24)</a>:</h4>
<p>I haven't thought hard about how much this would simplify 8.19.</p>



<a name="231768839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231768839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231768839">(Mar 25 2021 at 09:24)</a>:</h4>
<p>One reason I didn't think this through, is that I'm worried we'll end up with a hypercover that is canonically isomorphic to the Cech nerve</p>



<a name="231768856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231768856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231768856">(Mar 25 2021 at 09:24)</a>:</h4>
<p>I think quite a bit: The statement is easier, and the reduction to finite sets is a lot easier</p>



<a name="231768919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231768919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231768919">(Mar 25 2021 at 09:25)</a>:</h4>
<p>Ok, so it might be easier to transport stuff to the actual Cech nerve, instead of proving that our almost-Cech nerve is a hypercover</p>



<a name="231769028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231769028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231769028">(Mar 25 2021 at 09:26)</a>:</h4>
<p>Well, as usual one can probably formalize "is a Cech cover"</p>



<a name="231769078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231769078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231769078">(Mar 25 2021 at 09:26)</a>:</h4>
<p>and state 8.19 in that form (so the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span>'s above are just statements that natural maps are isomorphisms)</p>



<a name="231769115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231769115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231769115">(Mar 25 2021 at 09:27)</a>:</h4>
<p>Yep, I think "is a Cech cover" is a good suggestion</p>



<a name="231803404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231803404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231803404">(Mar 25 2021 at 13:51)</a>:</h4>
<p>Oh, if we only need Cech nerves that indeed simplifies a lot!</p>



<a name="231804293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231804293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231804293">(Mar 25 2021 at 13:56)</a>:</h4>
<p>Do we actually need this "is Cech nerve" prop for 8.19, or can we just state 8.19 as "for any cover, the complex built out of its Cech nerve is exact..."?</p>



<a name="231804450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231804450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231804450">(Mar 25 2021 at 13:57)</a>:</h4>
<p>Johan knows better, but my sense is that the "is Cech nerve" version would be much easier to use</p>



<a name="231804574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231804574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231804574">(Mar 25 2021 at 13:58)</a>:</h4>
<p>Basically, the simplicial diagram one writes down is not tautologically a Cech nerve</p>



<a name="231804633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231804633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231804633">(Mar 25 2021 at 13:58)</a>:</h4>
<p>Ah ok</p>



<a name="231804682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231804682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231804682">(Mar 25 2021 at 13:59)</a>:</h4>
<p>Then yes I agree with the "is Cech nerve" approach</p>



<a name="231838429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231838429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231838429">(Mar 25 2021 at 17:01)</a>:</h4>
<p>Okay, I added a little gadget that will help with constructing the Cech nerve. It's the construction that freely adds a terminal object to a category.<br>
See the <code>with_term</code> branch of lean-liquid.</p>
<p>The idea is that we can now take <code>fin n</code>as a discrete category, add a terminal object freely, then take a limit over <code>with_term (discrete (fin n))</code> to get the iterated fibered product needed for the construction.<br>
The universal property of <code>with_term</code> (which is also in this file) shows that this with_term cconstruction is functorial in the category, so it should be straaightforward to obtain the simplicial structure we need by mapping w.r.t. morphisms in <code>simplex_category</code>.</p>



<a name="231838530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231838530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231838530">(Mar 25 2021 at 17:02)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/blob/with_term/src/for_mathlib/with_term.lean">https://github.com/leanprover-community/lean-liquid/blob/with_term/src/for_mathlib/with_term.lean</a></p>



<a name="231844963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231844963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231844963">(Mar 25 2021 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> thanks! So far, I've been modeling the augmented cosimplicial complex as a functor from the simplex category + a separate augmentation map</p>



<a name="231845142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231845142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231845142">(Mar 25 2021 at 17:42)</a>:</h4>
<p>Right, so I'm envisioning constructing the Cech nerve of an arbitrary morphism in a category with finite limits</p>



<a name="231845483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231845483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231845483">(Mar 25 2021 at 17:44)</a>:</h4>
<p>For the cosimplicial lattice, I constructed it by hand, because I don't think that <code>PolyhedralLattice</code> has finite colimits.</p>



<a name="231845522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231845522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231845522">(Mar 25 2021 at 17:45)</a>:</h4>
<p>It's just that for special morphisms you can make it work</p>



<a name="231846213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231846213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231846213">(Mar 25 2021 at 17:49)</a>:</h4>
<p>Hmm ok</p>



<a name="231846262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231846262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231846262">(Mar 25 2021 at 17:49)</a>:</h4>
<p>I can make it more explicit by saying only the diagrams involved have limits</p>



<a name="231846387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231846387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231846387">(Mar 25 2021 at 17:50)</a>:</h4>
<p>Thats similar to what I did with <code>Ran</code> (as suggested by <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> )</p>



<a name="231846507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231846507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231846507">(Mar 25 2021 at 17:51)</a>:</h4>
<p>But still, there are morphisms in <code>PolyhedralLattice</code> for which you can't form the Cech conerve</p>



<a name="231847630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231847630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231847630">(Mar 25 2021 at 17:57)</a>:</h4>
<p>Hmm, actually maybe cokernels do exist... but something like multiplication by n&gt;0 on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\Z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> will have trivial cokernel, because all the objects are free.</p>



<a name="231847837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231847837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231847837">(Mar 25 2021 at 17:59)</a>:</h4>
<p>I can still make it work, by saying specific diagrams have (co)limits</p>



<a name="231848062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231848062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231848062">(Mar 25 2021 at 18:00)</a>:</h4>
<p>ooh, I misunderstood. For a moment I thought that you meant specific "shapes", but you mean only the diagrams involved in the one specific Cech nerve?</p>



<a name="231848079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231848079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231848079">(Mar 25 2021 at 18:00)</a>:</h4>
<p>Yeah, I guess that can work</p>



<a name="231848175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231848175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231848175">(Mar 25 2021 at 18:00)</a>:</h4>
<p>I was thinking of shapes, but we can still talk about specific diagrams if shapes dont work :)</p>



<a name="231848195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231848195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231848195">(Mar 25 2021 at 18:00)</a>:</h4>
<p>I'll sketch up some code now.</p>



<a name="231909561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231909561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231909561">(Mar 26 2021 at 03:25)</a>:</h4>
<p>I tried starting on the Cech nerve construction in the <code>cech</code> branch of lean-liquid.<br>
I'm running into the following error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">22</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span> <span class="n">kernel</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">type</span> <span class="n">check</span> <span class="n">declaration</span> <span class="bp">'</span><span class="n">Cech.map_cone'</span> <span class="n">this</span> <span class="n">is</span> <span class="n">usually</span> <span class="n">due</span> <span class="n">to</span> <span class="n">a</span> <span class="n">buggy</span> <span class="n">tactic</span> <span class="n">or</span> <span class="n">a</span> <span class="n">bug</span> <span class="k">in</span> <span class="n">the</span> <span class="n">builtin</span> <span class="n">elaborator</span>
<span class="n">elaborated</span> <span class="n">type</span><span class="o">:</span>
  <span class="bp">Π</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">X</span> <span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">)</span> <span class="o">{</span><span class="n">C_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category</span><span class="bp">ᵒᵖ</span><span class="o">},</span>
    <span class="o">(</span><span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="o">(</span><span class="n">opposite.unop</span> <span class="n">a</span><span class="o">))</span> <span class="bp">→</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="o">(</span><span class="n">opposite.unop</span> <span class="n">b</span><span class="o">))</span>
<span class="n">elaborated</span> <span class="n">value</span><span class="o">:</span>
  <span class="bp">λ</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">X</span> <span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">)</span> <span class="o">{</span><span class="n">C_1</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category</span><span class="bp">ᵒᵖ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span>
  <span class="o">(</span><span class="n">C_1</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="o">(</span><span class="n">opposite.unop</span> <span class="n">a</span><span class="o">))),</span> <span class="gr">sorry</span>
<span class="n">nested</span> <span class="n">exception</span> <span class="n">message</span><span class="o">:</span>
<span class="n">failed</span> <span class="n">to</span> <span class="n">add</span> <span class="n">declaration</span> <span class="n">to</span> <span class="n">environment</span><span class="o">,</span> <span class="n">it</span> <span class="n">contains</span> <span class="kn">local</span> <span class="kd">constants</span>
</code></pre></div>
<p>on the following line:<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/0590ca0c74e0cb60530da104ee75784c941d4fd4/src/for_mathlib/cech.lean#L22">https://github.com/leanprover-community/lean-liquid/blob/0590ca0c74e0cb60530da104ee75784c941d4fd4/src/for_mathlib/cech.lean#L22</a></p>
<p>I've tried diagnosing this issue with no luck. <br>
If I try to start building the definition of this cone anyway, I get errors like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">22</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span> <span class="n">unknown</span> <span class="kn">local</span> <span class="kd">constant</span><span class="o">:</span> <span class="n">_ffresh.0</span>
</code></pre></div>
<p>I did a lot of pattern matching in the file <code>for_mathlib/fan.lean</code> in this branch. Could it be some side effect of this?</p>



<a name="231916427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231916427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231916427">(Mar 26 2021 at 05:14)</a>:</h4>
<p>Is there some <em>data</em> higher up in the file that is <code>sorry</code>d?</p>



<a name="231916431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231916431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231916431">(Mar 26 2021 at 05:14)</a>:</h4>
<p>I'm just guessing...</p>



<a name="231959487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231959487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231959487">(Mar 26 2021 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Nope, no sorry'd data, as far as I can tell.</p>



<a name="231960409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231960409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231960409">(Mar 26 2021 at 13:07)</a>:</h4>
<p>Well, changing the type to </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Cech.map_cone</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">}</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">a.unop</span><span class="o">)),</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">b.unop</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">h</span> <span class="n">C</span><span class="o">,</span> <span class="bp">...</span>
</code></pre></div>



<a name="231960425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231960425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231960425">(Mar 26 2021 at 13:07)</a>:</h4>
<p>seems to fix it.... What?</p>



<a name="231961387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231961387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231961387">(Mar 26 2021 at 13:13)</a>:</h4>
<p>I was just looking at this. I totally agree it's bizarre :-)</p>



<a name="231961476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231961476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231961476">(Mar 26 2021 at 13:14)</a>:</h4>
<p>It doesn't seem to be a universe issue <em>shrug</em></p>



<a name="231961496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231961496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231961496">(Mar 26 2021 at 13:14)</a>:</h4>
<p>Yeah, I fixed all the universes last night.</p>



<a name="231961501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231961501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231961501">(Mar 26 2021 at 13:14)</a>:</h4>
<p>I think it could be an actual bug</p>



<a name="231961898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231961898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231961898">(Mar 26 2021 at 13:17)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- bad</span>
<span class="kd">def</span> <span class="n">Cech.map_cone</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">a.unop</span><span class="o">))</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">b.unop</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="c1">-- good</span>
<span class="kd">def</span> <span class="n">Cech.map_cone</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">a.unop</span><span class="o">))</span> <span class="bp">→</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech_diagram</span> <span class="n">f</span> <span class="n">b.unop</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="231963147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963147">(Mar 26 2021 at 13:25)</a>:</h4>
<p>Well, here's the Cech nerve: <br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/44ab8925dc1d44c584204941e681dd8741267743/src/for_mathlib/cech.lean#L35">https://github.com/leanprover-community/lean-liquid/blob/44ab8925dc1d44c584204941e681dd8741267743/src/for_mathlib/cech.lean#L35</a></p>



<a name="231963191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963191">(Mar 26 2021 at 13:25)</a>:</h4>
<p>Still more to do: functoriality in <code>f</code>,  relax the <code>has_limits</code> condition, etc.</p>



<a name="231963461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963461">(Mar 26 2021 at 13:27)</a>:</h4>
<p>Oh! I think it's just the repetition of the variable <code>C</code>!</p>



<a name="231963526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963526">(Mar 26 2021 at 13:27)</a>:</h4>
<p>AAH!</p>



<a name="231963641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963641">(Mar 26 2021 at 13:28)</a>:</h4>
<p>I've never seen variable name repetition result in that error though!</p>



<a name="231963642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963642">(Mar 26 2021 at 13:28)</a>:</h4>
<p>Fixed:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">abbreviation</span> <span class="n">Cech.map_cone</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">⟶</span> <span class="n">b</span><span class="o">)</span>
  <span class="o">(</span><span class="n">CC</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech.diagram</span> <span class="n">f</span> <span class="n">a.unop</span><span class="o">))</span> <span class="o">:</span> <span class="n">limits.cone</span> <span class="o">(</span><span class="n">Cech.diagram</span> <span class="n">f</span> <span class="n">b.unop</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">fan.map_cone</span> <span class="o">(</span><span class="n">ufin.map</span> <span class="n">h.unop.to_preorder_hom</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span> <span class="n">CC</span>
</code></pre></div>



<a name="231963683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231963683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231963683">(Mar 26 2021 at 13:28)</a>:</h4>
<p>Snarky bug!</p>



<a name="231966171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966171">(Mar 26 2021 at 13:43)</a>:</h4>
<p>Do we have the <del>type</del> category of augmented simplicial objects somewhere?</p>



<a name="231966415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966415">(Mar 26 2021 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Nope, I don't think so</p>



<a name="231966501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966501">(Mar 26 2021 at 13:45)</a>:</h4>
<p>I would like to state the fact that the Cech nerve, considered as an augmented simplicial object, is right adjoint to the functor sending an augmented simplicial object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mo>∙</mo></msub><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">X_\bullet \to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16111499999999998em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∙</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>0</mn></msub><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">X_0 \to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>.</p>



<a name="231966728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966728">(Mar 26 2021 at 13:46)</a>:</h4>
<p>So the other category will be an arrow category, right?</p>



<a name="231966737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966737">(Mar 26 2021 at 13:46)</a>:</h4>
<p>Okay, I'll just define it then. Everyone cool with the following defn?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">augmented_simplicial_object</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">simplicial_object</span> <span class="n">C</span><span class="o">)</span>
<span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="n">_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>



<a name="231966739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966739">(Mar 26 2021 at 13:46)</a>:</h4>
<p>Are you using <code>comma</code> for that?</p>



<a name="231966751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966751">(Mar 26 2021 at 13:46)</a>:</h4>
<p>I'm using <code>over B</code></p>



<a name="231966778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966778">(Mar 26 2021 at 13:47)</a>:</h4>
<p>Oh, but I guess I should use <code>arrow</code> or something</p>



<a name="231966779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966779">(Mar 26 2021 at 13:47)</a>:</h4>
<p>So I guess you could also use <code>comma</code> to define <code>augemented_bla</code></p>



<a name="231966812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966812">(Mar 26 2021 at 13:47)</a>:</h4>
<p>Yeah true.</p>



<a name="231966843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966843">(Mar 26 2021 at 13:47)</a>:</h4>
<p>If you have the functor that sends <code>X : simplicial_object</code> to <code>X_[0]</code></p>



<a name="231966859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231966859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231966859">(Mar 26 2021 at 13:47)</a>:</h4>
<p>Once <a href="https://github.com/leanprover-community/mathlib/issues/6830">#6830</a> goes through, we could use structured arrows :)</p>



<a name="231967050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967050">(Mar 26 2021 at 13:48)</a>:</h4>
<p>I think this is reasonable:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">simplicial_object.over</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">simplicial_object</span> <span class="n">C</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="n">_</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>



<a name="231967105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967105">(Mar 26 2021 at 13:48)</a>:</h4>
<p>But yes I should use a comma category for this.</p>



<a name="231967144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967144">(Mar 26 2021 at 13:49)</a>:</h4>
<p>Although I don't recall whether we have that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>↦</mo><msub><mi>X</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">X \mapsto X_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69433em;vertical-align:-0.011em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is a functor...</p>



<a name="231967178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967178">(Mar 26 2021 at 13:49)</a>:</h4>
<p>Shouldn't there be a condition that all induced maps <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo>→</mo><msub><mi>X</mi><mn>0</mn></msub><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">X_i\to X_0\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> agree?</p>



<a name="231967355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967355">(Mar 26 2021 at 13:50)</a>:</h4>
<p>Oh yeah that's right</p>



<a name="231967387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967387">(Mar 26 2021 at 13:50)</a>:</h4>
<p>It's really a morphism from X to the constant simplicial object</p>



<a name="231967406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967406">(Mar 26 2021 at 13:50)</a>:</h4>
<p>Right</p>



<a name="231967609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967609">(Mar 26 2021 at 13:52)</a>:</h4>
<p>There are many variants of this simplex category; for example, allowing possibly empty finite totally ordered sets, one gets augmented simplicial objects. There's a further variant relevant for split augmented simplicial objects</p>



<a name="231967658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967658">(Mar 26 2021 at 13:52)</a>:</h4>
<p>How much extra work would it be to set up such variants?</p>



<a name="231967723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231967723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231967723">(Mar 26 2021 at 13:52)</a>:</h4>
<p>Even easier: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[derive category]</span>
<span class="kd">def</span> <span class="n">simplicial_object.over</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">over</span> <span class="o">((</span><span class="n">category_theory.functor.const</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>



<a name="231968145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968145">(Mar 26 2021 at 13:55)</a>:</h4>
<p>Yeah, I'm used to thinking of these as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><msub><mi>X</mi><mrow><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">B = X_{-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></p>



<a name="231968277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968277">(Mar 26 2021 at 13:56)</a>:</h4>
<p>I guess if we could apply this <code>with_term</code> construction to <code>simplex_category\op</code> and look at functors from that as well.</p>



<a name="231968339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968339">(Mar 26 2021 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/231967658">said</a>:</p>
<blockquote>
<p>How much extra work would it be to set up such variants?</p>
</blockquote>
<p>It depends on whether there is a common abstraction</p>



<a name="231968395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968395">(Mar 26 2021 at 13:57)</a>:</h4>
<p>It's all diagram categories for certain simple combinatorial test categories</p>



<a name="231968399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968399">(Mar 26 2021 at 13:57)</a>:</h4>
<p>If there isn't then it's usually just "copy-paste the file, make some adjustments, define a compatibility functor"</p>



<a name="231968407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968407">(Mar 26 2021 at 13:57)</a>:</h4>
<p>For the <code>with_term</code>gadget, I just came up with it yesterday so it's not battle tested.</p>



<a name="231968450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968450">(Mar 26 2021 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> I've heard of test categories a long time ago. But we certainly don't have them in mathlib</p>



<a name="231968526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968526">(Mar 26 2021 at 13:58)</a>:</h4>
<p>What is a test category?</p>



<a name="231968541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968541">(Mar 26 2021 at 13:58)</a>:</h4>
<p>Test category is just a name</p>



<a name="231968588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968588">(Mar 26 2021 at 13:58)</a>:</h4>
<p>Maybe I should have said index category</p>



<a name="231968623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968623">(Mar 26 2021 at 13:58)</a>:</h4>
<p>Ah ok.</p>



<a name="231968632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968632">(Mar 26 2021 at 13:58)</a>:</h4>
<p>e.g., the simplex category, the "semisimplex category", the augmented simplex category, etc.</p>



<a name="231968664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968664">(Mar 26 2021 at 13:59)</a>:</h4>
<p><a href="https://ncatlab.org/nlab/show/test+category">https://ncatlab.org/nlab/show/test+category</a></p>



<a name="231968694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968694">(Mar 26 2021 at 13:59)</a>:</h4>
<p>I thought you meant actual test categories</p>



<a name="231968699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968699">(Mar 26 2021 at 13:59)</a>:</h4>
<p>they seem relevant</p>



<a name="231968717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968717">(Mar 26 2021 at 13:59)</a>:</h4>
<p>We're now discussing some stuff related to 2-categories and pseudofunctors. I guess working with such test categories would be easier if we could discuss pseudofunctors with values in CAT</p>



<a name="231968727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968727">(Mar 26 2021 at 13:59)</a>:</h4>
<p>generalizing simiplicial and cubical, etc...</p>



<a name="231968781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231968781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231968781">(Mar 26 2021 at 13:59)</a>:</h4>
<p>yeah sorry I didn't mean it in that technical sense</p>



<a name="231969003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969003">(Mar 26 2021 at 14:00)</a>:</h4>
<p>There's nothing 2-categorical going on here, I think; we just have a couple of interesting combinatorial categories, and are interested in the functor categories from there</p>



<a name="231969012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969012">(Mar 26 2021 at 14:00)</a>:</h4>
<p>ok, it still seems related/relevant</p>



<a name="231969035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969035">(Mar 26 2021 at 14:01)</a>:</h4>
<p>like simplicial objects, semisimplicial objects, etc.</p>



<a name="231969089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969089">(Mar 26 2021 at 14:01)</a>:</h4>
<p>it is related, but points in a direction that's really relevant right now</p>



<a name="231969185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969185">(Mar 26 2021 at 14:01)</a>:</h4>
<p>Oh, what I mean is, for example, the construction <code>a \mapsto (over a)</code> is really a pseudofunctor</p>



<a name="231969275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969275">(Mar 26 2021 at 14:02)</a>:</h4>
<p>So I just wondered whether one can set up the basics on say simplicial objects in such a way that setting up semisimplicial objects, augmented simplicial objects, split augmented simplicial objects, etc., can be done without copy-pasting everything</p>



<a name="231969315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969315">(Mar 26 2021 at 14:02)</a>:</h4>
<p>hmm OK, but I think that construction is not relevant for what I am trying to say</p>



<a name="231969334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969334">(Mar 26 2021 at 14:02)</a>:</h4>
<p>(I would formalize augmented simplicial objects differently)</p>



<a name="231969404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969404">(Mar 26 2021 at 14:03)</a>:</h4>
<p>How? Don't you want to add an initial object to simplex_category?</p>



<a name="231969601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969601">(Mar 26 2021 at 14:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/231969275">said</a>:</p>
<blockquote>
<p>So I just wondered whether one can set up the basics on say simplicial objects in such a way that setting up semisimplicial objects, augmented simplicial objects, split augmented simplicial objects, etc., can be done without copy-pasting everything</p>
</blockquote>
<p>I think that avoiding copy-pasting would certainly be useful. But how do you characterize the index categories?</p>



<a name="231969752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969752">(Mar 26 2021 at 14:04)</a>:</h4>
<p>I guess I'm envisioning taking <code>simplex_category</code>, and considering something like <code>with_initial simplex_category</code></p>



<a name="231969765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969765">(Mar 26 2021 at 14:05)</a>:</h4>
<p>I don't know! In principle one could just allow all index categories for some basic stuff?</p>



<a name="231969850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231969850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231969850">(Mar 26 2021 at 14:05)</a>:</h4>
<p>augmented simplicial objects are indexed by the category of possibly empty finite totally ordered sets</p>



<a name="231970007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970007">(Mar 26 2021 at 14:06)</a>:</h4>
<p>Right, so we could take e.g. the category of <code>fin n</code> with <code>n</code> possibly 0 and nonincreasing maps, but then we end up with more <code>n-1+1 = n</code> issues when we want to relate this to the usual simplex category <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="231970016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970016">(Mar 26 2021 at 14:06)</a>:</h4>
<p>I guess this is formally adding an initial object, yes; but I'd prefer a direct description over the one given by its relation to the simplex category (which I'd rather have as a proposition)</p>



<a name="231970084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970084">(Mar 26 2021 at 14:06)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I agree that <code>with_initial</code> might not scale.</p>



<a name="231970131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970131">(Mar 26 2021 at 14:07)</a>:</h4>
<p>Just like we switched to <code>group_with_zero</code> instead of <code>with_zero G</code> for the target of valuations</p>



<a name="231970279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970279">(Mar 26 2021 at 14:08)</a>:</h4>
<p>If we can actually characterize useful properties of these index categories, then <code>simplex_category</code> can be swapped out for <code>semisimplex_category</code> or <code>NonemptyFinLinOrd</code> or <code>FinLinOrd</code> or whatever.</p>



<a name="231970298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970298">(Mar 26 2021 at 14:08)</a>:</h4>
<p>But <code>(with_term J) \func C</code>is the category of augmented  <code>J \func C</code> for arbitrary <code>J</code></p>



<a name="231970410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970410">(Mar 26 2021 at 14:08)</a>:</h4>
<p>Maybe you want <code>F : J \functor J'</code> and <code>(hF : adds_term F)</code></p>



<a name="231970450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970450">(Mar 26 2021 at 14:09)</a>:</h4>
<p>Ah ok, maybe that's the way to go</p>



<a name="231970498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970498">(Mar 26 2021 at 14:09)</a>:</h4>
<p>Because certainly 3 months from now someone will come along with a functor from <code>FinLinOrd</code> and be very disappointed that it isn't an augmented simplicial set.</p>



<a name="231970507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970507">(Mar 26 2021 at 14:09)</a>:</h4>
<p>Hmm, true. Somehow "augmented simplicial objects" are for me slightly more primitive than "augmented" "simplicial sets", but it's a borderline case.</p>



<a name="231970612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970612">(Mar 26 2021 at 14:10)</a>:</h4>
<p>What would <code>adds_term</code> even look like?</p>



<a name="231970659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970659">(Mar 26 2021 at 14:10)</a>:</h4>
<p>Of course you could ask for an equivalence of categories with <code>with_term J</code>...</p>



<a name="231970805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970805">(Mar 26 2021 at 14:11)</a>:</h4>
<p>(<span class="user-mention" data-user-id="112680">@Johan Commelin</span> going back to the issue of augemented simplicial objects: Is this correct? <br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/6f0f94d46027dac3e916180d483f893550af6096/src/simplicial/alternating_face_map.lean#L18">https://github.com/leanprover-community/lean-liquid/blob/6f0f94d46027dac3e916180d483f893550af6096/src/simplicial/alternating_face_map.lean#L18</a></p>



<a name="231970863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231970863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231970863">(Mar 26 2021 at 14:11)</a>:</h4>
<p>That's what I was trying to model with the above structure</p>



<a name="231971003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231971003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231971003">(Mar 26 2021 at 14:12)</a>:</h4>
<p>Well, that was a very lame attempt at assuming an augmented cosimplicial gadget</p>



<a name="231971061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231971061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231971061">(Mar 26 2021 at 14:12)</a>:</h4>
<p>But there shouldn't be a maths problem? Right?</p>



<a name="231971769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231971769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231971769">(Mar 26 2021 at 14:17)</a>:</h4>
<p>Oh I see you have these <code>hf</code> conditions on lemmas everywhere.</p>



<a name="231972937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231972937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231972937">(Mar 26 2021 at 14:25)</a>:</h4>
<p>Well, the <code>over</code> approach seems to be somewhat reasonable for now:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">simplicial</span>

<span class="kd">@[derive category, simp]</span>
<span class="kn">protected</span> <span class="kd">def</span> <span class="n">over</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">over</span> <span class="o">((</span><span class="n">category_theory.functor.const</span> <span class="n">simplex_category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span><span class="bp">ᵒᵖ</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">over</span>

<span class="kd">@[simps]</span>
<span class="kd">def</span> <span class="n">forget</span> <span class="o">:</span> <span class="n">simplicial_object.over</span> <span class="n">B</span> <span class="bp">⥤</span> <span class="n">simplicial_object</span> <span class="n">C</span> <span class="o">:=</span> <span class="n">over.forget</span> <span class="n">_</span>

<span class="kd">def</span> <span class="n">to_hom</span> <span class="o">:</span> <span class="n">simplicial_object.over</span> <span class="n">B</span> <span class="bp">⥤</span> <span class="n">category_theory.over</span> <span class="n">B</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">obj</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="n">over.mk</span> <span class="o">(</span><span class="n">X.hom.app</span> <span class="o">(</span><span class="n">opposite.op</span> <span class="o">[</span><span class="mi">0</span><span class="o">])),</span>
  <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">,</span> <span class="n">over.hom_mk</span> <span class="o">(</span><span class="n">f.left.app</span> <span class="n">_</span><span class="o">)</span> <span class="o">}</span>

<span class="kd">end</span> <span class="n">over</span>
</code></pre></div>



<a name="231993188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231993188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231993188">(Mar 26 2021 at 16:23)</a>:</h4>
<p>Okay, I added a lot more stuff to the cech file, but it still requires a LOT of cleanup and it still has a few sorries. Anyone who is interested should please feel free to push to this branch!</p>



<a name="231997820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231997820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231997820">(Mar 26 2021 at 16:50)</a>:</h4>
<p>TBH, I'm not happy about this construction :-/ it feels clunky</p>



<a name="231997925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231997925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231997925">(Mar 26 2021 at 16:51)</a>:</h4>
<p>I would like to try what Peter suggested and just defining the augmented simplex category (as the category structure on nat, where n now corresponds to (fin n)), but I'm again running into issues with <code>simplex_category</code> being irreducible, etc.</p>



<a name="231999228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/231999228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#231999228">(Mar 26 2021 at 16:59)</a>:</h4>
<p>I mean, this works:</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>long</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebraic_topology.simplex_category</span>

<span class="kn">namespace</span> <span class="n">simplex_category</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="n">semireducible</span><span class="o">]</span> <span class="n">simplex_category</span> <span class="n">simplex_category.hom</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">def</span> <span class="n">augmented</span> <span class="o">:=</span> <span class="n">ulift</span> <span class="n">ℕ</span>

<span class="kn">namespace</span> <span class="n">augmented</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">small_category</span> <span class="n">augmented</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">ulift</span> <span class="o">(</span><span class="n">fin</span> <span class="n">a.down</span> <span class="bp">→ₘ</span> <span class="n">fin</span> <span class="n">b.down</span><span class="o">),</span>
  <span class="n">id</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="n">preorder_hom.id</span><span class="o">,</span>
  <span class="n">comp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="o">(</span><span class="n">g.down.comp</span> <span class="n">f.down</span><span class="o">)</span> <span class="o">}</span>

<span class="kd">def</span> <span class="n">incl</span> <span class="o">:</span> <span class="n">simplex_category</span> <span class="bp">⥤</span> <span class="n">augmented</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">obj</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span>
    <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
    <span class="bp">|</span> <span class="n">ulift.up</span> <span class="n">a</span> <span class="o">:=</span> <span class="n">ulift.up</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
    <span class="kd">end</span><span class="o">,</span>
  <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span> <span class="n">f</span><span class="o">,</span>
    <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="k">with</span>
    <span class="bp">|</span> <span class="n">ulift.up</span> <span class="n">a</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="n">b</span><span class="o">,</span> <span class="n">ulift.up</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">ulift.up</span> <span class="n">f</span>
    <span class="kd">end</span> <span class="o">}</span>

<span class="kd">end</span> <span class="n">augmented</span>

<span class="kd">end</span> <span class="n">simplex_category</span>
</code></pre></div>
</div></div>
<p>But I'm not a fan of the line</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="n">semireducible</span><span class="o">]</span> <span class="n">simplex_category</span> <span class="n">simplex_category.hom</span>
</code></pre></div>



<a name="232002608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232002608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232002608">(Mar 26 2021 at 17:21)</a>:</h4>
<p>There are other annoyances as well :-/<br>
E.g. if we want to write <code>X _[-1]</code> for the target of the augmentation, we would need to deal with int (or maybe the subtype of integers which are at least -1), and its relationship with nat.</p>



<a name="232002811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232002811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232002811">(Mar 26 2021 at 17:22)</a>:</h4>
<p>I guess the other option is to write <code>X _[0]</code> for the target of the automation.</p>



<a name="232002861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232002861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232002861">(Mar 26 2021 at 17:23)</a>:</h4>
<p>We would still need to deal with things like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>↦</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo>↦</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \mapsto n+1 \mapsto (n+1)-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65544em;vertical-align:-0.011em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p>



<a name="232002872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232002872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232002872">(Mar 26 2021 at 17:23)</a>:</h4>
<p>And so there will be an <code>n -&gt; n+1</code> shift, when moving between augmented and non-augmented</p>



<a name="232003081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003081">(Mar 26 2021 at 17:24)</a>:</h4>
<p>Where will the <code>n-1</code> show up? Maybe we will just always do <code>cases n</code>, to split into <code>0</code> and <code>n+1</code>.</p>



<a name="232003230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003230">(Mar 26 2021 at 17:25)</a>:</h4>
<p>Yeah, here's what I had in mind: say that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> is augmented, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> is the nonaugmented thing constructed by forgetting the augmentation. We would have: <code>Y _[n] = X _[n+1]</code>. I guess this is ok.</p>



<a name="232003521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003521">(Mar 26 2021 at 17:27)</a>:</h4>
<p>But what if we have a simplicial object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, an object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>, and a morphism froom <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> to the constant simplicial object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>. If we want to turn that into an augmented simplicial object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>, we would have <code>A _[n-1] = X _[n]</code> for positive <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>.</p>



<a name="232003555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003555">(Mar 26 2021 at 17:27)</a>:</h4>
<p>Vice versa, if you have <code>Y _[0] -&gt; Z</code>, then you can make an augmented thing using the equation compiler.</p>



<a name="232003632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003632">(Mar 26 2021 at 17:28)</a>:</h4>
<p>Oh yeah that should be okay.</p>



<a name="232003724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003724">(Mar 26 2021 at 17:28)</a>:</h4>
<p>So you define <code>A _[0] := B</code> and <code>A _[n+1] := X _[n]</code></p>



<a name="232003831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003831">(Mar 26 2021 at 17:29)</a>:</h4>
<p>And, by the nature of the situation, whenever you want to move between the two, you will always need to know whether <code>n = 0</code> or <code>n = _ + 1</code></p>



<a name="232003849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003849">(Mar 26 2021 at 17:29)</a>:</h4>
<p>So you can always do <code>cases n</code></p>



<a name="232003882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003882">(Mar 26 2021 at 17:29)</a>:</h4>
<p>I'm optimistic that we can get away with it here</p>



<a name="232003957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003957">(Mar 26 2021 at 17:30)</a>:</h4>
<p>But I might be naive again <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="232003974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232003974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232003974">(Mar 26 2021 at 17:30)</a>:</h4>
<p>Now another issue: We have <code>truncated n</code> in the nonaugmented case as the subtype <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>i</mi><mi mathvariant="normal">∣</mi><mi>i</mi><mo>≤</mo><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{ i | i \le n\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">i</span><span class="mord">∣</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">}</span></span></span></span></p>



<a name="232004059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004059">(Mar 26 2021 at 17:30)</a>:</h4>
<p>Now we would want to define an augmented truncated n as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>i</mi><mi mathvariant="normal">∣</mi><mi>i</mi><mo>≤</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{i | i \le n+1\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">i</span><span class="mord">∣</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>.</p>



<a name="232004116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004116">(Mar 26 2021 at 17:31)</a>:</h4>
<p>And how would we forget the augmentation?</p>



<a name="232004233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004233">(Mar 26 2021 at 17:31)</a>:</h4>
<p>I guess what I'm going for is this: If we take <code>Ran</code> with respect to the opposite of the inclusion <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{-1,0\} \to \{-1,0,1,\ldots\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mclose">}</span></span></span></span>, we get the Cech nerve "for free"</p>



<a name="232004371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004371">(Mar 26 2021 at 17:32)</a>:</h4>
<p>So I want to, in some sense, identify 0-truncated augmented simplicial objects with the arrow category</p>



<a name="232004603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004603">(Mar 26 2021 at 17:33)</a>:</h4>
<p>Can you do a characteristic predicate for the "arrow category = 0-truncated = whatever"?</p>



<a name="232004734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004734">(Mar 26 2021 at 17:34)</a>:</h4>
<p>I'm sorry, this sounds like a lot of new stuff <span aria-label="surprise" class="emoji emoji-1f62e" role="img" title="surprise">:surprise:</span></p>



<a name="232004758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232004758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232004758">(Mar 26 2021 at 17:34)</a>:</h4>
<p>Yeah :-/</p>



<a name="232005017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232005017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232005017">(Mar 26 2021 at 17:36)</a>:</h4>
<p>(and it's all definitions...)</p>



<a name="232005322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232005322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232005322">(Mar 26 2021 at 17:38)</a>:</h4>
<p>On the other hand, if we use <code>with_trunc (simplex_category.truncated n)\op</code>, and map with respect to <code>(simplex_category.truncated n)\op \func (simplex_category)\op</code>, we get <code>with_trunc (simplex_category.truncated n)\op \func with_trunc (simplex_category)\op</code>.</p>



<a name="232005460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232005460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232005460">(Mar 26 2021 at 17:39)</a>:</h4>
<p>(sorry, replace <code>with_trunc</code> with <code>with_term</code> above :) )</p>



<a name="232006412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232006412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232006412">(Mar 26 2021 at 17:46)</a>:</h4>
<p>E.g.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="bp">.</span><span class="n">with_term</span>
<span class="kn">import</span> <span class="n">algebraic_topology.simplicial_object</span>

<span class="kn">namespace</span> <span class="n">simplicial_object</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">universes</span> <span class="n">v</span> <span class="n">u</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span>

<span class="kd">@[derive category]</span>
<span class="kd">def</span> <span class="n">augmented</span> <span class="o">:=</span> <span class="o">(</span><span class="n">with_term</span> <span class="n">simplex_category</span><span class="bp">ᵒᵖ</span><span class="o">)</span> <span class="bp">⥤</span> <span class="n">C</span>

<span class="kd">@[derive category]</span>
<span class="kd">def</span> <span class="n">augmented.truncated</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="n">with_term</span> <span class="o">(</span><span class="n">simplex_category.truncated</span> <span class="n">n</span><span class="o">)</span><span class="bp">ᵒᵖ</span><span class="o">)</span> <span class="bp">⥤</span> <span class="n">C</span>

<span class="kd">noncomputable</span>
<span class="kd">def</span> <span class="n">augmented.truncated.trunc</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span> <span class="n">augmented</span> <span class="n">C</span> <span class="bp">⥤</span> <span class="n">augmented.truncated</span> <span class="n">C</span> <span class="n">n</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">whiskering_left</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">with_term.map</span> <span class="n">simplex_category.truncated.inclusion.op</span><span class="o">)</span>

<span class="kd">end</span> <span class="n">simplicial_object</span>
</code></pre></div>



<a name="232064848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Simplicial%20stuff/near/232064848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Simplicial.20stuff.html#232064848">(Mar 27 2021 at 05:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Simplicial.20stuff/near/231346653">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span> is there a lemma of the following form in mathlib?</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_iso_π_initial</span> <span class="o">{</span><span class="n">J</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">small_category</span> <span class="n">J</span><span class="o">]</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u₁</span><span class="o">}</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">C</span><span class="o">]</span> <span class="o">{</span><span class="n">j</span> <span class="o">:</span> <span class="n">J</span><span class="o">}</span>
  <span class="o">(</span><span class="n">term</span> <span class="o">:</span> <span class="n">is_initial</span> <span class="n">j</span><span class="o">)</span> <span class="o">[</span><span class="n">has_limits_of_shape</span> <span class="n">J</span> <span class="n">C</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">J</span> <span class="bp">⥤</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_iso</span> <span class="o">(</span><span class="n">limit.π</span> <span class="n">F</span> <span class="n">j</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div><br>
</p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6908">#6908</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>