---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html">complexes indexed by N</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="230021355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021355">(Mar 12 2021 at 12:34)</a>:</h4>
<p>With the new approach to complexes, we can have complexes indexed by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi></mrow><annotation encoding="application/x-tex">\N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span></span>. This is closer to the PDF, and it saves us a boatload of cruft about dealing with objects in negative degrees that are morally all the zero object.</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code> src/normed_snake.lean                            | 110 +++++++++++-----------
 src/normed_spectral.lean                         | 108 +++++++++-------------
 src/pseudo_normed_group/system_of_complexes.lean | 110 ++++++++++------------
 src/system_of_complexes/basic.lean               |  89 +++++++++---------
 src/system_of_complexes/completion.lean          |  70 +++++++-------
 src/system_of_complexes/double.lean              |  66 +++++++------
 src/system_of_complexes/soft_truncation.lean     | 447 ----------------------------------------------------------------------------------------
 src/system_of_complexes/truncate.lean            | 238 +++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 503 insertions(+), 735 deletions(-)
</code></pre></div>



<a name="230021377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021377">(Mar 12 2021 at 12:34)</a>:</h4>
<p>I refactored everything on the branch <code>refactor-Z-to-N</code></p>



<a name="230021395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021395">(Mar 12 2021 at 12:35)</a>:</h4>
<p>As you can see, we can throw away 200 lines of code</p>



<a name="230021414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021414">(Mar 12 2021 at 12:35)</a>:</h4>
<p>And I expect more savings in the future</p>



<a name="230021433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021433">(Mar 12 2021 at 12:35)</a>:</h4>
<p>The refactor was pretty straightforward.</p>



<a name="230021485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021485">(Mar 12 2021 at 12:35)</a>:</h4>
<p>Why isn't it in master then?</p>



<a name="230021493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021493">(Mar 12 2021 at 12:35)</a>:</h4>
<p>Because I just finished (-;</p>



<a name="230021540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021540">(Mar 12 2021 at 12:36)</a>:</h4>
<p>I am about to merge it into master</p>



<a name="230021582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021582">(Mar 12 2021 at 12:36)</a>:</h4>
<p>done</p>



<a name="230021625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021625">(Mar 12 2021 at 12:36)</a>:</h4>
<p>In particular, in the definition of the system of complexes attached to <code>Mbar r' S</code>, we no longer have ugly <code>int.extend_from_nat</code> etc...</p>



<a name="230021661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021661">(Mar 12 2021 at 12:37)</a>:</h4>
<p>I'm about to close my email client and switch off my phone, and try to have a Lean afternoon. Do you have a target for me?</p>



<a name="230021679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021679">(Mar 12 2021 at 12:37)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> certainly!</p>



<a name="230021705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021705">(Mar 12 2021 at 12:37)</a>:</h4>
<p>Should I  work on </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">completion</span> <span class="o">(</span><span class="n">hC</span> <span class="o">:</span> <span class="n">C.is_weak_bounded_exact</span> <span class="n">k</span> <span class="n">K</span> <span class="n">m</span> <span class="n">c₀</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">C.completion.is_weak_bounded_exact</span> <span class="o">(</span><span class="n">k</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="n">K</span> <span class="n">m</span> <span class="n">c₀</span>
</code></pre></div>



<a name="230021707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021707">(Mar 12 2021 at 12:37)</a>:</h4>
<p>There are two sorry's in <code>system_of_complexes/truncate.lean</code></p>



<a name="230021787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021787" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021787">(Mar 12 2021 at 12:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> if you want to, you can work on that completion thing, but I don't think it is very urgent.</p>



<a name="230021912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021912">(Mar 12 2021 at 12:39)</a>:</h4>
<p>You proved the <code>strong_of_complete</code> lemma, which is the important bit. I don't think we actually need those other lemmas</p>



<a name="230021941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230021941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230021941">(Mar 12 2021 at 12:39)</a>:</h4>
<p>Because in our final use case, everything is already complete. So we never have to make a completion step.</p>



<a name="230022233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230022233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230022233">(Mar 12 2021 at 12:42)</a>:</h4>
<p>Why did we discuss this lemma then?</p>



<a name="230022612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230022612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230022612">(Mar 12 2021 at 12:45)</a>:</h4>
<p>I guess it's more of a sanity check, in case we want to apply this to noncomplete systems in a theoretical other application. But we don't need it for <code>first_target</code> I think</p>



<a name="230022831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230022831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230022831">(Mar 12 2021 at 12:46)</a>:</h4>
<p>If I remember correctly Peter sketched these arguments as a possible solution to a small problem in the normed snake lemma and I put them in the blueprint. I didn't now (and I still don't) the big picture, so it's very possible that in our case everything is already complete</p>



<a name="230022886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230022886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230022886">(Mar 12 2021 at 12:47)</a>:</h4>
<p>There was also something about optimizing the constants</p>



<a name="230026050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/complexes%20indexed%20by%20N/near/230026050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/complexes.20indexed.20by.20N.html#230026050">(Mar 12 2021 at 13:12)</a>:</h4>
<p>I'll work on <code>is_weak_bounded_exact_of_truncate</code> instead.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>