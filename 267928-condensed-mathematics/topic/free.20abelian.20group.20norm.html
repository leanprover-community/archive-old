---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html">free abelian group norm</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="288641761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288641761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288641761">(Jul 06 2022 at 09:01)</a>:</h4>
<p>There is a map <code>free_abelian_group X → ℕ</code> that sends <code>∑ a_i [x_i]</code> to <code>∑ |a_i|</code>.</p>



<a name="288641842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288641842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288641842">(Jul 06 2022 at 09:02)</a>:</h4>
<p>We need a bunch of properties of this norm map. I pushed a bunch of self-contained sorries to <code>free_abelian_exact.lean</code>.</p>



<a name="288641883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288641883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288641883">(Jul 06 2022 at 09:02)</a>:</h4>
<p>Things like <code>norm_add : (a+b).norm ≤ a.norm + b.norm</code></p>



<a name="288641938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288641938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288641938">(Jul 06 2022 at 09:03)</a>:</h4>
<p>I will work on</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">norm_eq_succ_iff</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">a.norm</span> <span class="bp">=</span> <span class="n">n.succ</span> <span class="bp">↔</span> <span class="bp">∃</span> <span class="n">b</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">of</span> <span class="n">x</span> <span class="bp">∨</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">of</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">b.norm</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
</code></pre></div>



<a name="288642414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288642414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288642414">(Jul 06 2022 at 09:08)</a>:</h4>
<p>The right to left implication is not true (if <code>b = - of x</code>, for instance...)</p>



<a name="288642774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288642774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288642774">(Jul 06 2022 at 09:12)</a>:</h4>
<p>Yes, I just realized.</p>



<a name="288642781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288642781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288642781">(Jul 06 2022 at 09:12)</a>:</h4>
<p>Luckily I don't need it <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="288647000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288647000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288647000">(Jul 06 2022 at 09:57)</a>:</h4>
<p>Ok, the left-to-right implication is done</p>



<a name="288648860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288648860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288648860">(Jul 06 2022 at 10:16)</a>:</h4>
<p>I am taking on the first two <code>norm_of</code> and <code>norm_add</code></p>



<a name="288672124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672124">(Jul 06 2022 at 13:45)</a>:</h4>
<p>I wonder if this is an argument towards having an API for nat-valued norms, since <span class="user-mention" data-user-id="330967">@Wrenna Robson</span> wanted one for hamming codes too.</p>



<a name="288672295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672295">(Jul 06 2022 at 13:46)</a>:</h4>
<p>It could be, in the meanwhile for what concerns this very file I have almost killed all sorry's.</p>



<a name="288672671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672671">(Jul 06 2022 at 13:48)</a>:</h4>
<p>Either that, or the norm in question ought to be defined as a real instead</p>



<a name="288672729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672729">(Jul 06 2022 at 13:48)</a>:</h4>
<p>(I mean this as a suggestion for a follow-up for reintegration into mathlib, not something LTE needs to care about right now)</p>



<a name="288672922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672922">(Jul 06 2022 at 13:49)</a>:</h4>
<p>I need it <code>ℕ</code>-valued because I want to do induction on the norm</p>



<a name="288672960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288672960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288672960">(Jul 06 2022 at 13:49)</a>:</h4>
<p>You could prove the norm is equal to a casted nat and do induction on that</p>



<a name="288673234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288673234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288673234">(Jul 06 2022 at 13:51)</a>:</h4>
<p>But arguably it would be cleaner to just allow arbitrary-typed norms, since then the norm on <a href="https://leanprover-community.github.io/mathlib_docs/find/free_abelian_group">docs#free_abelian_group</a> would just be a special case of an L1-norm on finsupp.</p>



<a name="288674379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288674379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288674379">(Jul 06 2022 at 13:58)</a>:</h4>
<p>OK, I am done, the file is sorry-free.</p>



<a name="288681538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288681538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288681538">(Jul 06 2022 at 14:48)</a>:</h4>
<p>Yeah, nat-valued norms are useful in compsci stuff.</p>



<a name="288681783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288681783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288681783">(Jul 06 2022 at 14:50)</a>:</h4>
<p>The difficulty would be, like, presumably you'd only want to allow for one has_norm instance for a type, but then how do you signify what its value type is?</p>



<a name="288696964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288696964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288696964">(Jul 06 2022 at 16:36)</a>:</h4>
<p><code>has_norm the_return_type the_normed_type</code>?</p>



<a name="288697335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288697335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288697335">(Jul 06 2022 at 16:39)</a>:</h4>
<p>Sure, but what will the type of <code>norm x</code> be? Or do you want the return type to be an <code>out_param</code>? Or do you want to write <code>norm ℝ x</code> and <code>norm ℕ x</code>, etc?</p>



<a name="288699971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288699971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288699971">(Jul 06 2022 at 17:00)</a>:</h4>
<p>We already have this problem for <a href="https://leanprover-community.github.io/mathlib_docs/find/inner">docs#inner</a>, right? And the answer there is "localized notation".</p>



<a name="288702400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288702400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288702400">(Jul 06 2022 at 17:18)</a>:</h4>
<p>Or a global notation for the real-valued norm (which is the right norm in 99% of the cases), and specialized notation like we have for <code>nnnorm</code>.</p>



<a name="288705386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288705386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288705386">(Jul 06 2022 at 17:42)</a>:</h4>
<p>(deleted)</p>



<a name="288708737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288708737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288708737">(Jul 06 2022 at 18:08)</a>:</h4>
<p>I think <code>norm ℝ x</code> is reasonable, keeping the existing notation for the norm and nnnorm special cases</p>



<a name="288708765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288708765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288708765">(Jul 06 2022 at 18:09)</a>:</h4>
<p>I think we might end up in a nasty diamond mess if we're not careful though</p>



<a name="288708883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288708883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288708883">(Jul 06 2022 at 18:10)</a>:</h4>
<p>Every real-norm induces an nnreal-norm, but the nnreal-norm induced on the product won't end up defeq to the one induced from the real-norm on the product.</p>



<a name="288708916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288708916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288708916">(Jul 06 2022 at 18:10)</a>:</h4>
<p>Same for nat-norms inducing both other norms</p>



<a name="288783847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/free%20abelian%20group%20norm/near/288783847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/free.20abelian.20group.20norm.html#288783847">(Jul 07 2022 at 09:39)</a>:</h4>
<p>You could use something a bit like that you use for linear maps, like, ||.||[N]</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>