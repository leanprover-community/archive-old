---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html">for_mathlib/acyclic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="284243917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284243917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284243917">(May 28 2022 at 19:10)</a>:</h4>
<p>My partner's away, my kids are out, and I'm sick of marking, so I'm going to do some LTE work. The stuff in <code>for_mathlib/acyclic</code> looks pretty straightforward to knock off (hopefully) -- is anyone else working on this? I'm trying the sorrys now.</p>



<a name="284244511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244511">(May 28 2022 at 19:24)</a>:</h4>
<p>Johan and I were hacking on this yesterday</p>



<a name="284244533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244533">(May 28 2022 at 19:25)</a>:</h4>
<p>I think this will be a bit of a challlenge:<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/edc56f03a7883d9ebe76a8b31e18e0212fa7df2f/src/for_mathlib/acyclic.lean#L430">https://github.com/leanprover-community/lean-liquid/blob/edc56f03a7883d9ebe76a8b31e18e0212fa7df2f/src/for_mathlib/acyclic.lean#L430</a></p>



<a name="284244540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244540">(May 28 2022 at 19:25)</a>:</h4>
<p>And a few of the sorries in <code>Ext_compute_with_acyclic_naturality</code> will probably also be a little challenging.</p>



<a name="284244662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244662">(May 28 2022 at 19:28)</a>:</h4>
<p>This stuff is quite good fun :-)</p>



<a name="284244674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244674">(May 28 2022 at 19:28)</a>:</h4>
<p>I'll take a look at your challenge! The night is young.</p>



<a name="284244753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244753">(May 28 2022 at 19:31)</a>:</h4>
<p>Have you done anything with this file which isn't currently on <code>master</code>? I was working on the sorry in <code>cochain_complex.hom_to_single_of_hom</code></p>



<a name="284244759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244759">(May 28 2022 at 19:31)</a>:</h4>
<p>I really like these kinds of levels</p>



<a name="284244820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244820">(May 28 2022 at 19:32)</a>:</h4>
<p>Can you imagine life without widgets? I can just dive into each of these goals thinking "I haven't even read the question but I know this is some diagram in category theory and it's really easy to draw it on paper because I can just query the goal state"</p>



<a name="284244975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284244975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284244975">(May 28 2022 at 19:36)</a>:</h4>
<p>Shall I just push directly to <code>master</code>?</p>



<a name="284245148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245148">(May 28 2022 at 19:40)</a>:</h4>
<p>Yes please</p>



<a name="284245375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245375">(May 28 2022 at 19:46)</a>:</h4>
<p>Do we have this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.abelian.exact</span>

<span class="kn">open</span> <span class="n">category_theory</span> <span class="n">category_theory.limits</span>

<span class="kd">example</span> <span class="o">{</span><span class="bp">ùìê</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
  <span class="o">[</span><span class="n">category</span> <span class="bp">ùìê</span><span class="o">]</span>
  <span class="o">[</span><span class="n">abelian</span> <span class="bp">ùìê</span><span class="o">]</span>
  <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hY</span> <span class="o">:</span> <span class="n">is_zero</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">subsingleton</span> <span class="o">(</span><span class="n">X</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">admit</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="284245387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245387">(May 28 2022 at 19:47)</a>:</h4>
<p>I think I find abelian category theory much more fun than category theory :-)</p>



<a name="284245462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245462">(May 28 2022 at 19:50)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.limits.is_zero.eq_of_tgt">docs#category_theory.limits.is_zero.eq_of_tgt</a></p>



<a name="284245505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245505">(May 28 2022 at 19:50)</a>:</h4>
<p>(or something like that...)</p>



<a name="284245512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245512">(May 28 2022 at 19:50)</a>:</h4>
<p>There is also a <code>eq_of_src</code> variant</p>



<a name="284245842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245842">(May 28 2022 at 19:58)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">is_zero.subsingleton_right</span> <span class="o">{</span><span class="bp">ùìê</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="bp">ùìê</span><span class="o">]</span> <span class="o">[</span><span class="n">abelian</span> <span class="bp">ùìê</span><span class="o">]</span>
  <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">)</span> <span class="o">{</span><span class="n">Y</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">}</span> <span class="o">(</span><span class="n">hY</span> <span class="o">:</span> <span class="n">is_zero</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="n">subsingleton</span> <span class="o">(</span><span class="n">X</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">‚ü®</span><span class="bp">Œª</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="kd">begin</span>
  <span class="n">rcases</span> <span class="n">hY</span> <span class="k">with</span> <span class="o">‚ü®</span><span class="bp">-</span><span class="o">,</span> <span class="n">hY</span><span class="o">‚ü©,</span>
  <span class="n">obtain</span> <span class="o">‚ü®‚ü®</span><span class="n">_</span><span class="o">,</span> <span class="n">h</span><span class="o">‚ü©‚ü©</span> <span class="o">:=</span> <span class="n">hY</span> <span class="n">X</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">h</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">h</span> <span class="n">b</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
<span class="kd">end</span><span class="o">‚ü©</span>
</code></pre></div>



<a name="284245848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245848">(May 28 2022 at 19:58)</a>:</h4>
<p>I just took it all apart :-) I'm learning how it all works.</p>



<a name="284245859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245859">(May 28 2022 at 19:59)</a>:</h4>
<p><code>@unique.subsingleton _ (hY.unique_from X).some</code> should also work</p>



<a name="284245868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245868">(May 28 2022 at 19:59)</a>:</h4>
<p>and <code>abelian</code> is not needed <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="284245920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284245920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284245920">(May 28 2022 at 20:00)</a>:</h4>
<p>I think it would be generally easier to use <code>eq_of_src</code> and <code>eq_of_tgt</code> instead of adding various <code>subsingleton</code> instances using <code>haveI</code> or whatnot inside tactic blocks.</p>



<a name="284246185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284246185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284246185">(May 28 2022 at 20:05)</a>:</h4>
<p>I'm just experimenting with this stuff for the first time and would be very happy to hear style comments! I thought the subsingleton approach was all abstract and cool :-)</p>



<a name="284246448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284246448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284246448">(May 28 2022 at 20:12)</a>:</h4>
<p>I like that I can use</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#print</span> <span class="kd">prefix</span> <span class="n">category_theory.limits.is_zero</span>
</code></pre></div>
<p>to get the API for this concept I've not really used before</p>



<a name="284246848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284246848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284246848">(May 28 2022 at 20:23)</a>:</h4>
<p>Hey! <code>cochain_complex.hom_to_single_of_hom</code> : computer says no.<br>
Here's the first case I can't do:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">ùìê</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category</span> <span class="bp">ùìê</span><span class="o">,</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">abelian</span> <span class="bp">ùìê</span><span class="o">,</span>
<span class="n">_inst_3</span> <span class="o">:</span> <span class="n">enough_projectives</span> <span class="bp">ùìê</span><span class="o">,</span>
<span class="n">C</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="bp">ùìê</span> <span class="n">‚Ñ§</span><span class="o">,</span>
<span class="n">B</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">,</span>
<span class="n">j</span> <span class="o">:</span> <span class="n">‚Ñ§</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="n">C.X</span> <span class="o">(</span><span class="n">j.add</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">‚ü∂</span> <span class="n">B</span>
<span class="bp">‚ä¢</span> <span class="mi">0</span> <span class="bp">=</span> <span class="n">C.d</span> <span class="n">j</span> <span class="o">(</span><span class="n">j.add</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">‚â´</span> <span class="n">f</span> <span class="bp">‚â´</span> <span class="o">(</span><span class="n">homological_complex.single_iso</span> <span class="n">B</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">inv</span>
</code></pre></div>



<a name="284246921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284246921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284246921">(May 28 2022 at 20:24)</a>:</h4>
<p>This is the <code>j + 1 = i</code> branch.</p>



<a name="284246990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284246990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284246990">(May 28 2022 at 20:26)</a>:</h4>
<p>I pushed to master, I'll try and fathom out the mathematical assertion I'm making.</p>



<a name="284247062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247062">(May 28 2022 at 20:28)</a>:</h4>
<p>I'm now quite confused. I would ignore me for a while.</p>



<a name="284247139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247139">(May 28 2022 at 20:31)</a>:</h4>
<p>Yeah I think my proof has gone astray ;-)</p>



<a name="284247284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247284">(May 28 2022 at 20:35)</a>:</h4>
<p>I now understand my mistake. I had lost information about <code>f</code>. The definition looks like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">cochain_complex.hom_to_single_of_hom</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="bp">ùìê</span> <span class="n">‚Ñ§</span><span class="o">)</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">‚Ñ§</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.X</span> <span class="n">i</span> <span class="bp">‚ü∂</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">C</span> <span class="bp">‚ü∂</span> <span class="o">(</span><span class="n">homological_complex.single</span> <span class="n">_</span> <span class="n">_</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">j</span><span class="o">,</span> <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">=</span> <span class="n">i</span> <span class="k">then</span> <span class="n">eq_to_hom</span> <span class="o">(</span><span class="kd">by</span> <span class="n">rw</span> <span class="n">h</span><span class="o">)</span> <span class="bp">‚â´</span> <span class="n">f</span> <span class="bp">‚â´</span> <span class="o">(</span><span class="n">homological_complex.single_iso</span> <span class="n">_</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">inv</span>
    <span class="k">else</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">comm'</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="gr">sorry</span>
  <span class="kd">end</span> <span class="o">}</span>
</code></pre></div>
<p>but if you look at the goal state in the <code>comm'</code> proof then there's no mention of the definition of <code>f</code>!</p>



<a name="284247364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247364">(May 28 2022 at 20:37)</a>:</h4>
<p>oh this is an actual problem: I don't know how to get to the definition of <code>f</code> in that proof.</p>



<a name="284247425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247425">(May 28 2022 at 20:38)</a>:</h4>
<p><code>change ite _ _ _</code> doesn't work?</p>



<a name="284247717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247717">(May 28 2022 at 20:47)</a>:</h4>
<p>oh lol there are two <code>f</code>s</p>



<a name="284247927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247927">(May 28 2022 at 20:52)</a>:</h4>
<p>OK so here is the issue. You want to define a morphism of complexes, from a general complex C to a "skyscraper" complex with only one term B in position i. You want to magic this up from a map from a map from C[i] to B in the the obvious way. The problem: one of the squares doesn't commute.  That map from C[i] to B had better be zero on the image of C[i-1] for this construction to work, right?</p>



<a name="284247938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247938">(May 28 2022 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> do you agree that this is a false <code>sorry</code>?</p>



<a name="284247946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284247946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284247946">(May 28 2022 at 20:53)</a>:</h4>
<p>I mean, before I started messing with it on <code>master</code>.</p>



<a name="284248096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248096">(May 28 2022 at 20:56)</a>:</h4>
<p>Yeah it's false</p>



<a name="284248097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248097">(May 28 2022 at 20:56)</a>:</h4>
<p>I propose this modification:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">cochain_complex.hom_to_single_of_hom</span>
  <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="bp">ùìê</span> <span class="n">‚Ñ§</span><span class="o">)</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="bp">ùìê</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">‚Ñ§</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">C.X</span> <span class="n">i</span> <span class="bp">‚ü∂</span> <span class="n">B</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">‚àÄ</span> <span class="n">j</span> <span class="o">:</span> <span class="n">‚Ñ§</span><span class="o">,</span> <span class="n">C.d</span> <span class="n">j</span> <span class="n">i</span> <span class="bp">‚â´</span> <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">):</span>
  <span class="n">C</span> <span class="bp">‚ü∂</span> <span class="o">(</span><span class="n">homological_complex.single</span> <span class="n">_</span> <span class="n">_</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">f</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">j</span><span class="o">,</span> <span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">=</span> <span class="n">i</span> <span class="k">then</span> <span class="n">eq_to_hom</span> <span class="o">(</span><span class="kd">by</span> <span class="n">rw</span> <span class="n">h</span><span class="o">)</span> <span class="bp">‚â´</span> <span class="n">f</span> <span class="bp">‚â´</span> <span class="o">(</span><span class="n">homological_complex.single_iso</span> <span class="n">_</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">inv</span>
    <span class="k">else</span> <span class="mi">0</span><span class="o">,</span>
</code></pre></div>



<a name="284248099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248099">(May 28 2022 at 20:56)</a>:</h4>
<p>Oops!</p>



<a name="284248161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248161">(May 28 2022 at 20:58)</a>:</h4>
<p><code>Ext_compute_with_acyclic_inv_eq_aux</code> breaks -- I'm checking out the random extra goal which has now appeared :-)</p>



<a name="284248190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248190">(May 28 2022 at 20:59)</a>:</h4>
<p>Yeah that would have to be fixed as well...</p>



<a name="284248193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248193">(May 28 2022 at 20:59)</a>:</h4>
<p>Sorry we got the map in the wrong direction</p>



<a name="284248211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248211">(May 28 2022 at 20:59)</a>:</h4>
<p>A map on the ith term induces a map <strong>from</strong> <code>single.obj ...</code></p>



<a name="284248325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248325">(May 28 2022 at 21:01)</a>:</h4>
<p>So I can try to fix this: if you want to write the new defs I can fill in the proofs, on a branch or something -- I don't really just want to blunder in as I'm only just learning about this part of the code base for the first time</p>



<a name="284248386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248386">(May 28 2022 at 21:03)</a>:</h4>
<p>I won't have time to work on LTE until Monday.</p>



<a name="284248690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284248690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284248690">(May 28 2022 at 21:11)</a>:</h4>
<p>OK, I'll keep digging :-)</p>



<a name="284249242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284249242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284249242">(May 28 2022 at 21:27)</a>:</h4>
<p>Oh I think I understand. Fixing it up.</p>



<a name="284249357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284249357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284249357">(May 28 2022 at 21:30)</a>:</h4>
<p>No, this isn't true either. To make sure that the map from B to C_i induces a map from the singleton complex B[i] into C, you need that the given map is in the kernel of C_i -&gt; C_{i+1}.</p>



<a name="284249940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284249940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284249940">(May 28 2022 at 21:47)</a>:</h4>
<p>OK so after the dust has cleared: I appear to have broken the statement of <code>Ext_compute_with_acylic_inv_eq</code>. Here is a revised <code>Ext_compute_with_acyclic_inv_eq_aux</code> : </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Ext_compute_with_acyclic_inv_eq_aux</span> <span class="o">(</span><span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">AddCommGroup.of</span> <span class="o">(</span><span class="n">C</span> <span class="bp">‚ü∂</span> <span class="o">(</span><span class="n">homological_complex.single</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="bp">-</span><span class="n">i</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span><span class="o">)</span> <span class="bp">‚ü∂</span> <span class="o">((</span><span class="n">Ext</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="o">(</span><span class="n">of'</span> <span class="n">C</span><span class="o">)))</span><span class="bp">.</span><span class="n">obj</span> <span class="o">((</span><span class="n">single</span> <span class="bp">ùìê</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">f</span><span class="o">,</span> <span class="o">(</span><span class="n">of'</span> <span class="n">C</span><span class="o">)</span><span class="bp">.</span><span class="n">œÄ</span> <span class="bp">‚â´</span> <span class="kd">begin</span>
    <span class="n">dsimp</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
    <span class="n">refine</span> <span class="o">(</span><span class="n">homotopy_category.quotient</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">_</span> <span class="bp">‚â´</span> <span class="o">(</span><span class="n">homological_complex.single_shift</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">inv.app</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">f</span> <span class="bp">‚â´</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">refine</span> <span class="n">eq_to_hom</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">map_zero'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">map_add'</span> <span class="o">:=</span> <span class="gr">sorry</span> <span class="o">}</span>
</code></pre></div>
<p>The change is that the hom set we're mapping into the Ext group is now smaller; it's only the morphisms of complexes from C to B[-i] instead of the possibly larger group of morphisms <code>C.X (-i) ‚ü∂ B</code>.</p>



<a name="284250264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284250264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284250264">(May 28 2022 at 21:55)</a>:</h4>
<p>I think I can fix it. In the application we need to construct a map from a kernel and we were throwing away information, using kernel.\iota and instead constructing a map on a bigger space -- we were throwing away precisely what we needed to make the diagram commute.</p>



<a name="284251542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284251542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284251542">(May 28 2022 at 22:28)</a>:</h4>
<p>Ha ha there is a nasty sub-boss. We have some function f which is given as some fancy object in a kernel but you know when you unravel it that the <code>spec</code> of it  you'll get a group hom with a nice property. However just attempting to extract this and I ran into <code>classical.choice</code>, which was used to construct the kernel of the group homomorphism in <code>Ab</code> :-)</p>



<a name="284260563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284260563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284260563">(May 29 2022 at 02:39)</a>:</h4>
<p>I think at the end of the day we're interested in the case where <code>C</code> is a resolution by acyclic objects, and in that case, the original construction should actually be okay, except that some hypotheses were missing. I think the version of <code>hom_to_single_of_hom</code> that Kevin proposed above should work.</p>



<a name="284284759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284284759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284284759">(May 29 2022 at 12:52)</a>:</h4>
<p>OK so I have pushed my suggested change of route to <code>master</code>. <span class="user-mention" data-user-id="243562">@Adam Topaz</span> you might want to have a look at it. My changes start at line 402. I slightly weaken <code>Ext_compute_with_acyclic_inv_eq_aux</code>. I add a new definition <code>kernel_yoneda_complex_to_morphism_to_single</code> saying that if you have <code>f</code> in the kernel of <code>(C‚±º‚Çä‚ÇÅ ‚ü∂ B) ‚ü∂ (C‚±º ‚ü∂ B)</code> then you can define a map of complexes C -&gt; B[j+1] ; I seem to have made an off by one error but I'll fix it later. In particular there might still be a false sorry but I will sort it out later; I need be disciplined and to do some solid marking for a few hours now.</p>



<a name="284284772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284284772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284284772">(May 29 2022 at 12:52)</a>:</h4>
<p>Sorry -- I thought I had fixed all the false sorries; it was only when I was writing the previous message that I noticed the possible off by one error.</p>



<a name="284285250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284285250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284285250">(May 29 2022 at 13:02)</a>:</h4>
<p>Near the end of the file, a rewrite broke and I now suspect that this will be because of the off by one error I've made. Will fix later (maybe 10pm UK time tonight)</p>



<a name="284320249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284320249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284320249">(May 30 2022 at 03:26)</a>:</h4>
<p>OK I've made some progress (and fixed the off by one error). Things are a bit tidier than before but I still didn't finish one annoying <code>sorry</code>.</p>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> why are you stating such an ugly <code>Ext_compute_with_acyclic_naturality</code> ? One of the things you have in the<br>
statement is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="o">(((</span><span class="n">preadditive_yoneda.obj</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">right_op.map_homological_complex</span> <span class="n">_</span> <span class="bp">‚ãô</span>
      <span class="n">homological_complex.unop_functor.right_op</span> <span class="bp">‚ãô</span> <span class="o">(</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="bp">-</span><span class="n">i</span><span class="o">))</span><span class="bp">.</span><span class="n">op</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">unop</span>
</code></pre></div>
<p>This contains no fewer than 5 <code>op/unop</code>isms. Is this really the form you want it to be in? I've been trying to avoid Ab^{op} completely. My refactor broke your proof but I'm wondering why you want to prove it at all!</p>



<a name="284320422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284320422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284320422">(May 30 2022 at 03:30)</a>:</h4>
<p>If we had contravariant functors we wouldn't need any <code>op</code>s at all. You could have a Yoneda : B \func (B \contrafunc Ab), have a contra_map_homological_complex sending B-valued complexes with shape c to Ab-valued complexes with shape c.symm (note that c.symm.symm is definitionally c), you never see another <code>op</code> in your life. What do you think?</p>



<a name="284321843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284321843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284321843">(May 30 2022 at 04:04)</a>:</h4>
<p>Doesn't that mean duplicating the entire category library?</p>



<a name="284321853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284321853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284321853">(May 30 2022 at 04:05)</a>:</h4>
<p>It is already duplicating all the limits stuff into colimits.</p>



<a name="284347145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284347145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284347145">(May 30 2022 at 10:02)</a>:</h4>
<p>Yeah! But then no more fighting <code>op</code>s so we can delete all that stuff. Right now we have two ways of talking about contravariant functor and both of them are inconvenient. The explicit op-free definition feels more natural -- we're never thinking about <code>op c</code> in reality, we're thinking about c but with the arrows going the other way and this is just interchanging the order of the inputs to the hom functor</p>



<a name="284347722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284347722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284347722">(May 30 2022 at 10:07)</a>:</h4>
<p>For example if someone said to you "hey let's delete colimits, they're just limits in <code>op</code> so we don't need them" you'd be like "well I'm not so sure, that sounds like it would make a bunch of stuff a lot more fiddly". I'm looking at this op nonsense and thinking it would be less fiddly with contravariant functors. Maybe I'm wrong though, I'm a newcomer to this part of the library</p>



<a name="284348404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284348404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ya√´l Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284348404">(May 30 2022 at 10:14)</a>:</h4>
<p>Analogously, we added <a href="https://leanprover-community.github.io/mathlib_docs/find/antitone">docs#antitone</a> lately and it makes stuff much cleaner.</p>



<a name="284348653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284348653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284348653">(May 30 2022 at 10:17)</a>:</h4>
<p>The op-free definition of a contravariant functor has better definitional properties too; it's a genuinely simpler object</p>



<a name="284349662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284349662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284349662">(May 30 2022 at 10:29)</a>:</h4>
<p>But you will need 4 definitions of composition of functor.</p>



<a name="284349678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284349678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284349678">(May 30 2022 at 10:29)</a>:</h4>
<p>And I guess they can't share notation</p>



<a name="284350668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284350668" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284350668">(May 30 2022 at 10:41)</a>:</h4>
<p>Yup. And they'll all have better definitional properties than anything we have now, because we're already doing those four definitions in our code but we're filling our terms with op (o) and f.op instead. Adam's term has no fewer than five "no-op" applications in. If you like you could say I was proposing deleting all of them and doing it a new way</p>



<a name="284350832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284350832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284350832">(May 30 2022 at 10:43)</a>:</h4>
<p>Btw, I guess I actually wrote that last decl in the file</p>



<a name="284350977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284350977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284350977">(May 30 2022 at 10:45)</a>:</h4>
<p>Note that <code>unop_functor</code> is a different beast. It doesn't just disappear if you add contravariant functors.</p>



<a name="284351654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284351654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284351654">(May 30 2022 at 10:52)</a>:</h4>
<p>Oh great! Why did you write it like that? Is it something that's coming up later and we need it to be in that form? I am still in marking hell but I've got my eye on it</p>



<a name="284351715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284351715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284351715">(May 30 2022 at 10:53)</a>:</h4>
<p>I'm about to spend an hour hacking on this file before I start marking again</p>



<a name="284352919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284352919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284352919">(May 30 2022 at 11:03)</a>:</h4>
<p>Yeah we need it in <code>Lbar/ext.lean</code></p>



<a name="284352958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284352958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284352958">(May 30 2022 at 11:03)</a>:</h4>
<p>But I don't really care too much about where you put the <code>op</code>s.</p>



<a name="284353034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284353034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284353034">(May 30 2022 at 11:04)</a>:</h4>
<p>Because <code>f.op.unop</code> is defeq to <code>f</code>. And the same for <code>op (unop X)</code>. So in the end, all those different ways will be defeq.</p>



<a name="284353412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284353412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284353412">(May 30 2022 at 11:08)</a>:</h4>
<p>Is <code>op X \hom op Y</code> defeq to <code>Y \hom X</code>?</p>



<a name="284353492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284353492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284353492">(May 30 2022 at 11:09)</a>:</h4>
<p>Yes</p>



<a name="284361300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284361300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284361300">(May 30 2022 at 12:32)</a>:</h4>
<p>Nice! OK so I have finished the "annoying sorry" mentioned above, so a summary of my work is that the false sorry is now modified so it's true, and proved; and the consequences are that <code>Ext_compute_with_acylic_inv_eq</code> still compiles as well as it did before (i.e. there's a sorry in both the statement and the proof) and the proof of <code>Ext_compute_with_acyclic_naturality</code> is a bit more broken than it was, because a rewrite which used to work, no longer works.</p>



<a name="284376909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284376909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284376909">(May 30 2022 at 14:53)</a>:</h4>
<p>OK I got the rewrite working again. I've pushed. I now have sorried data and I don't know the maths well enough to know what the data should be. I'm unlikely to work on this file for the next 6 hours or so because I need to stop doing Lean and start doing marking. Please <span class="user-mention" data-user-id="112680">@Johan Commelin</span> or <span class="user-mention" data-user-id="243562">@Adam Topaz</span> let me know if I'm taking things backwards! I don't really know what I'm doing, I'm just blundering in really. I've learnt tons in the last two days!</p>



<a name="284385541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284385541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284385541">(May 30 2022 at 16:09)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I think there is an issue with the missing data in the proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">preadditive_yoneda.obj</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="o">(</span><span class="n">C‚ÇÅ.X</span> <span class="o">(</span><span class="bp">-</span><span class="n">i</span><span class="o">)))</span> <span class="bp">‚ü∂</span> <span class="o">((</span><span class="n">Ext</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="o">(</span><span class="n">of'</span> <span class="n">C‚ÇÅ</span><span class="o">)))</span><span class="bp">.</span><span class="n">obj</span> <span class="o">((</span><span class="n">single</span> <span class="bp">ùìê</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span><span class="o">)</span>
</code></pre></div>
<p>The natural thing here would be something simiilar to what we discussed above about <code>hom_to_single_of_hom</code> composed with <code>Ext_compute_with_acyclic_inv_eq_aux</code>, but as you noted there is a missing hypothesis which I don't think we can deduce here.</p>



<a name="284391891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284391891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284391891">(May 30 2022 at 17:32)</a>:</h4>
<p>Oh interesting! So we need to sort out the mathematics here.</p>



<a name="284391997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284391997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284391997">(May 30 2022 at 17:34)</a>:</h4>
<p>I'm working on it now.</p>



<a name="284392038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284392038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284392038">(May 30 2022 at 17:35)</a>:</h4>
<p>I'll have some time later to work on this. I'd pushed all I had by the way</p>



<a name="284394775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284394775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284394775">(May 30 2022 at 18:16)</a>:</h4>
<p>Okay, I've broken up the primary naturality proof into three smaller naturality proofs which should be doable independently.<br>
I think this makes it much clearer what's actually goiing on here...</p>



<a name="284394807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284394807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284394807">(May 30 2022 at 18:16)</a>:</h4>
<p>The three smaller naturality sorries are in <code>for_mathlib/acyclic</code>.</p>



<a name="284398163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284398163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284398163">(May 30 2022 at 19:06)</a>:</h4>
<p>I'm about to start hacking on this again</p>



<a name="284400448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284400448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284400448">(May 30 2022 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> there is one new sorry in <code>for_mathlib/derived/example.lean</code></p>



<a name="284400516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284400516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284400516">(May 30 2022 at 19:42)</a>:</h4>
<p>That takes care of the of the three sorries I mentioned above, I already solved the fiirst one, and I'm working on the last one now.</p>



<a name="284401035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284401035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284401035">(May 30 2022 at 19:51)</a>:</h4>
<p>Well, I have to do other things for a little while. I'll try to finish off the third sorry later</p>



<a name="284416541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284416541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284416541">(May 31 2022 at 00:42)</a>:</h4>
<p>I didn't get very far :-( I spent most of the evening learning about the area.</p>



<a name="284468486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284468486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284468486">(May 31 2022 at 12:39)</a>:</h4>
<p>The proof I was working on turned out to be quite difficult because at some point II have to switch from equality to homotopy.<br>
Do we have a well-establiished way to do such proofs?</p>



<a name="284468547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284468547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284468547">(May 31 2022 at 12:39)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/eq_of_homotopy">docs#eq_of_homotopy</a> (modulo some namespace)</p>



<a name="284468818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284468818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284468818">(May 31 2022 at 12:41)</a>:</h4>
<p>That's not quite what I need</p>



<a name="284468949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284468949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284468949">(May 31 2022 at 12:42)</a>:</h4>
<p>I have two maps <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo separator="true">,</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f,g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> and the goal is to show that the compositiion (approx) <code>kernel.\iota d \gg f \gg cokernel.\pi d = kernell.\iota d \gg g \gg cokernel.\pi d</code>.</p>



<a name="284469005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284469005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284469005">(May 31 2022 at 12:43)</a>:</h4>
<p>And what I can prove that is <code>f</code> and <code>g</code> are homotopic</p>



<a name="284469152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284469152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284469152">(May 31 2022 at 12:44)</a>:</h4>
<p>Hmm, I guess we need more API for that. Can you state a selfcontained lemma?</p>



<a name="284469236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284469236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284469236">(May 31 2022 at 12:45)</a>:</h4>
<p>I'm doing that now.</p>



<a name="284471508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284471508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284471508">(May 31 2022 at 13:02)</a>:</h4>
<p>Lemma added to <code>for_mathlib/homotopy_category_lemmas</code>... additional sorries incoming.</p>



<a name="284471577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284471577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284471577">(May 31 2022 at 13:02)</a>:</h4>
<p>And I suppose we already know that an additive functor preserves homotopies?</p>



<a name="284471706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284471706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284471706">(May 31 2022 at 13:03)</a>:</h4>
<p>Indeed: <a href="https://leanprover-community.github.io/mathlib_docs/find/functor.map_homotopy">docs#functor.map_homotopy</a></p>



<a name="284471719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284471719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284471719">(May 31 2022 at 13:03)</a>:</h4>
<p>(mod namespaces)</p>



<a name="284473540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284473540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284473540">(May 31 2022 at 13:18)</a>:</h4>
<p>Alright, <code>for_mathlib/acyclic</code> is sorry-free, but there are some dependent sorries in <code>for_mathliib/homotopy_category_lemmas</code> and <code>for_mathlib/derived/example</code></p>



<a name="284474596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284474596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284474596">(May 31 2022 at 13:26)</a>:</h4>
<p><code>for_mathlib/derived/example</code> is very slow for me. I think we should clean-up/reorganize that file. It's doing 10 things and some.</p>



<a name="284474641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/for_mathlib/acyclic/near/284474641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/for_mathlib.2Facyclic.html#284474641">(May 31 2022 at 13:26)</a>:</h4>
<p>But I'm very glad that the bulk of this naturality proof is now done! Merci!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>