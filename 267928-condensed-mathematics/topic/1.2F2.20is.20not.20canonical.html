---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html">1/2 is not canonical</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="280712206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280712206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280712206">(Apr 30 2022 at 02:58)</a>:</h4>
<p>Recently to abuse defeq I changed a definition in LTE and had to do quite a big refactor. I learnt how to get automation to help me, but one thing I noticed was that <code>simp</code> simps <code>1 / 2</code> to <code>2⁻¹</code> in both <code>real</code> and <code>nnreal</code>, which made it harder to use the simplifier -- stuff wasn't in simp normal form. On a whim, I just spent the last few hours changing all the <code>1/2</code>s in the project to <code>2⁻¹</code>s. I think it's better. I think <code>half</code> could refer to this constant, Most proof fixes just involved removing <code>\l one_div</code> stuff. My logic: if we were using -1 constantly in an argument we wouldn't keep writing <code>0 - 1</code> would we!</p>
<p>The refactor is on the <code>twoinv</code> branch, which I didn't merge to master. Note <span class="user-mention" data-user-id="112680">@Johan Commelin</span> I changed the "front facing" <code>challenge.lean</code>. Are there aesthetic reasons why you'd prefer mathematicians to see the horrible <code>1 / 2</code>? Does anyone have any comments about this? Should I make a PR?</p>



<a name="280713396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280713396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280713396">(Apr 30 2022 at 03:27)</a>:</h4>
<p>The diff is <a href="https://github.com/leanprover-community/lean-liquid/compare/twoinv">here</a>. Everything gets a bit shorter.</p>



<a name="280713915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280713915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280713915">(Apr 30 2022 at 03:41)</a>:</h4>
<p>I suspect that some proofs could be golfed now.</p>



<a name="280715314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280715314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280715314">(Apr 30 2022 at 04:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Thanks! I'm perfectly fine with having <code>2⁻¹</code> everywhere.</p>



<a name="280719691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280719691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280719691">(Apr 30 2022 at 06:15)</a>:</h4>
<p>I just replaced <code>(2⁻¹)</code> by <code>2⁻¹</code> everywhere, because <code>⁻¹</code> has maximal precedence.</p>



<a name="280719831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280719831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280719831">(Apr 30 2022 at 06:18)</a>:</h4>
<p>In the branch, I guess?</p>



<a name="280719843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280719843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280719843">(Apr 30 2022 at 06:19)</a>:</h4>
<p>Ok, I have now pushed a commit that merges <code>twoinv</code> into master.</p>



<a name="280719845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280719845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280719845">(Apr 30 2022 at 06:19)</a>:</h4>
<p>Thanks to both of you for this polishing.</p>



<a name="280727076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280727076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280727076">(Apr 30 2022 at 09:37)</a>:</h4>
<p>Thanks Yael!</p>



<a name="280730508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280730508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280730508">(Apr 30 2022 at 11:00)</a>:</h4>
<p>I guess <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series">docs#exp_series</a> should be redefined to use <code>inv</code> instead of <code>div</code> too?</p>



<a name="280734331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280734331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280734331">(Apr 30 2022 at 12:35)</a>:</h4>
<p>My memory was that Ashvni and I had an awful time manipulating the algebra when doing Bernouilli polynomials via power series. Maybe this would have made it easier?</p>



<a name="280735594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280735594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280735594">(Apr 30 2022 at 13:05)</a>:</h4>
<p>I take my share of responsibility for inserting <code>(1 / 2)</code>all over the places and not reverting it back as soon as I realised that many lemmas where rather stated with <code>2⁻¹</code> and that <code>simp</code>was keeping on inserting some <code>div_one_eq_inv</code> at all places. I am sorry. <span aria-label="division" class="emoji emoji-2797" role="img" title="division">:division:</span></p>



<a name="280735681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280735681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280735681">(Apr 30 2022 at 13:07)</a>:</h4>
<p>Fortunately global search and replace is not hard to use :-)</p>



<a name="280735834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/1/2%20is%20not%20canonical/near/280735834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/1.2F2.20is.20not.20canonical.html#280735834">(Apr 30 2022 at 13:11)</a>:</h4>
<p>Welp, looks like this issue doesn't divide us!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>