---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html">thm95.homotopy</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="231705559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231705559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231705559">(Mar 24 2021 at 20:46)</a>:</h4>
<p>Status update: I've been working on the last part of the proof of 9.5, where we need to construct a homotopy between two maps between the first two rows of a certain double complex.<br>
(Aside: at some point, I said that the middle part of the proof (condition <code>col_exact</code>) might be the hardest to formalize. Now I'm hoping sincerely that this third part is actually the hardest... because it's quite hard right now <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>)</p>
<p>What we have right now is a whole bunch of definitions and some <code>sorry</code>d lemmas that ultimately give us a homotopy between two maps between the first row of the double complex and another complex <code>C</code>. What is left:</p>
<ul>
<li>construct an isomorphism between <code>C</code> and the second row of the double complex</li>
<li>show that one of the homotopic maps, composed with <span aria-label="this" class="emoji emoji-1f446" role="img" title="this">:this:</span> isomorphism gives the vertical differential in the double complex</li>
<li>the actual proof of the homotopy condition</li>
</ul>



<a name="231707246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231707246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231707246">(Mar 24 2021 at 20:58)</a>:</h4>
<p>What is making this hard, is that the objects in the double complex are functorial in something like 6 different directions, and we need to move in all those 6 directions</p>



<a name="231707386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231707386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231707386">(Mar 24 2021 at 20:59)</a>:</h4>
<p>So, if we don't maneuver carefully, then we need to show that all the faces of a 6-dimensional cube commute.</p>



<a name="231764670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231764670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231764670">(Mar 25 2021 at 08:45)</a>:</h4>
<p>If we had some automation to help us...</p>



<a name="231764679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231764679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231764679">(Mar 25 2021 at 08:45)</a>:</h4>
<p>But I don't think this part can be easily automated</p>



<a name="231764693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231764693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231764693">(Mar 25 2021 at 08:45)</a>:</h4>
<p>Hmm that's bad. What are the 6 directions?</p>



<a name="231765101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765101">(Mar 25 2021 at 08:49)</a>:</h4>
<p>Let me see:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span></span></span></span>, the lattice</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>, the profinitely filtered pseudo normed group with action of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">T^{-1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></li>
<li><code>BD</code>, a package of Breen--Deligne data (ranks + formal sums of matrices)</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>c</mi><mi>i</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msubsup><msub><mo stretchy="false">)</mo><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">(c'_i)_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, some constants, which can be rescaled</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>, an independent constant</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>, some normed group, on which <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> acts</li>
</ul>



<a name="231765139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765139">(Mar 25 2021 at 08:50)</a>:</h4>
<p>Wait, aren't most of those kept constant during the proof?</p>



<a name="231765140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765140">(Mar 25 2021 at 08:50)</a>:</h4>
<p>So far, I have been able to avoid tweaking the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>c</mi><mi>i</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">c'_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>, but all the others move</p>



<a name="231765210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765210">(Mar 25 2021 at 08:50)</a>:</h4>
<p>Why are <code>BD</code> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> moving?</p>



<a name="231765272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765272">(Mar 25 2021 at 08:51)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> doesn't really move, but <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> acts on it, so you still need some sort of functoriality of several constructions.</p>



<a name="231765309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765309">(Mar 25 2021 at 08:51)</a>:</h4>
<p>Ah</p>



<a name="231765314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765314">(Mar 25 2021 at 08:51)</a>:</h4>
<p><code>BD</code> moves because the homotopy is a priori a hom <code>BD.double -&gt; BD</code></p>



<a name="231765332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765332">(Mar 25 2021 at 08:51)</a>:</h4>
<p>Ah...</p>



<a name="231765413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765413">(Mar 25 2021 at 08:52)</a>:</h4>
<p>And you need to convert that into a homotopy between <code>the system of M relative to BD</code> and <code>the system of M^2 relative to BD</code></p>



<a name="231765437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765437">(Mar 25 2021 at 08:52)</a>:</h4>
<p>But at first you get <code>the system of M relative to BD.double</code></p>



<a name="231765488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765488">(Mar 25 2021 at 08:52)</a>:</h4>
<p>And somewhere in the middle you need to rescale <code>M</code> or the <code>c'_i</code> to take into account that summation on <code>M</code> isn't strict.</p>



<a name="231765494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765494">(Mar 25 2021 at 08:53)</a>:</h4>
<p>Hmm, it isn't even just for the double, but for double <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow></mrow><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">^m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span>, right?</p>



<a name="231765517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765517">(Mar 25 2021 at 08:53)</a>:</h4>
<p>Yes, so you have to throw another induction in the mix</p>



<a name="231765567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765567">(Mar 25 2021 at 08:54)</a>:</h4>
<p>Hmm, I hoped that some of this is taken care of by those lemmas in the appendix, but I'm not sure how much they help with the question at hand</p>



<a name="231765610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765610">(Mar 25 2021 at 08:54)</a>:</h4>
<p>Currently I'm wondering whether the diagonal embedding <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo>→</mo><msup><mi mathvariant="normal">Λ</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda \to \Lambda'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> should also be an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>-fold iteration of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo>→</mo><mi mathvariant="normal">Λ</mi><mo>⊕</mo><mi mathvariant="normal">Λ</mi></mrow><annotation encoding="application/x-tex">\Lambda \to \Lambda \oplus \Lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span></span></span></span>.</p>



<a name="231765658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765658">(Mar 25 2021 at 08:54)</a>:</h4>
<p>That might be useful</p>



<a name="231765661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765661">(Mar 25 2021 at 08:54)</a>:</h4>
<p>Those two lemmas have all the maths content. All that needs to happen is composing a bunch of "canonical" isomorphisms.</p>



<a name="231765729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765729">(Mar 25 2021 at 08:55)</a>:</h4>
<p>So, here's a question about the middle part of the proof, the Dold-Kan part/condition: do we need to know anything about the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo>→</mo><msup><mi mathvariant="normal">Λ</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda \to \Lambda'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> there?</p>



<a name="231765807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765807">(Mar 25 2021 at 08:56)</a>:</h4>
<p>A first sight, it seems that we just use that we have a cosimplicial complex, and we push this through <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">H</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">m</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathrm{Hom}(\_, M)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord"><span class="mord mathrm">H</span><span class="mord mathrm">o</span><span class="mord mathrm">m</span></span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></p>



<a name="231765812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765812">(Mar 25 2021 at 08:56)</a>:</h4>
<p>Do you mean condition (2) of 9.6?</p>



<a name="231765831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765831">(Mar 25 2021 at 08:56)</a>:</h4>
<p>yes</p>



<a name="231765853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765853">(Mar 25 2021 at 08:56)</a>:</h4>
<p>Well, you need 9.8</p>



<a name="231765869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765869">(Mar 25 2021 at 08:56)</a>:</h4>
<p>Ooh, yes, of course.</p>



<a name="231765902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765902">(Mar 25 2021 at 08:57)</a>:</h4>
<p>But to get the right estimate for condition (3) in 9.6, you do need to take <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> large enough</p>



<a name="231765918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765918">(Mar 25 2021 at 08:57)</a>:</h4>
<p>I think you can't get that by some inductive argument</p>



<a name="231765924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765924">(Mar 25 2021 at 08:57)</a>:</h4>
<p>So at some point we have to move between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><msup><mo stretchy="false">)</mo><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">(\_)^N</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1513309999999999em;vertical-align:-0.31em;"></span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">((((\_)^2)^2)^2)^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1241079999999999em;vertical-align:-0.31em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>



<a name="231765936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765936">(Mar 25 2021 at 08:57)</a>:</h4>
<p>Of course the desired commutative diagram can likely be chained together by an inductive argument</p>



<a name="231765952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231765952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231765952">(Mar 25 2021 at 08:58)</a>:</h4>
<p>Currently I'm trying to figure out what is the most ergonomic place to do that</p>



<a name="231766083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766083">(Mar 25 2021 at 08:59)</a>:</h4>
<p>Maybe it's best to prove that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo>→</mo><msup><mi mathvariant="normal">Λ</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">\Lambda \to \Lambda'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord">Λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> is isomorphic to an n-fold iteration of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo>→</mo><mi mathvariant="normal">Λ</mi><mo>⊕</mo><mi mathvariant="normal">Λ</mi></mrow><annotation encoding="application/x-tex">\Lambda \to \Lambda \oplus \Lambda</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">Λ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span></span></span></span></p>



<a name="231766109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766109">(Mar 25 2021 at 08:59)</a>:</h4>
<p>Sounds reasonable</p>



<a name="231766268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766268">(Mar 25 2021 at 09:00)</a>:</h4>
<p>(Of course there is a rescale on the codomain, just to make sure this will not be too trivial <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span>)</p>



<a name="231766471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766471">(Mar 25 2021 at 09:02)</a>:</h4>
<p>Right. And I think when chaining stuff together, some more constants might move... argh.</p>



<a name="231766514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766514">(Mar 25 2021 at 09:03)</a>:</h4>
<p>Hmm, which constants do you mean?</p>



<a name="231766543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766543">(Mar 25 2021 at 09:03)</a>:</h4>
<p>One question about the 6-dimensional cubes: Mathwise it's enough that all the squares commute (in $1$-categories, as we are in). Is Lean also happy with only knowing that the squares commute?</p>



<a name="231766691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766691">(Mar 25 2021 at 09:04)</a>:</h4>
<p>Well, I'm not sure which ones I mean; probably none.</p>



<a name="231766714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766714">(Mar 25 2021 at 09:04)</a>:</h4>
<p>Not without further help, but it's certainly true that after you know the squares commute, the rest of the work is mechanical and can make use of some automation</p>



<a name="231766793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766793">(Mar 25 2021 at 09:05)</a>:</h4>
<p>I mean, once you start taking paths on the cube whose length is &gt; 2... then you can homotope them to each other along the squares.</p>



<a name="231766821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766821">(Mar 25 2021 at 09:05)</a>:</h4>
<p>right</p>



<a name="231766822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766822">(Mar 25 2021 at 09:05)</a>:</h4>
<p>But in the current setting it would take some effort to make Lean do this alone.</p>



<a name="231766864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766864">(Mar 25 2021 at 09:05)</a>:</h4>
<p>Is this something that could be proved in Lean in a very abstract setting?</p>



<a name="231766865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766865">(Mar 25 2021 at 09:05)</a>:</h4>
<p>The problem is that there isn't enough abstraction so that Lean can only do the right thing. There is too much concrete distraction, so it will probably get itself confused.</p>



<a name="231766990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231766990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231766990">(Mar 25 2021 at 09:06)</a>:</h4>
<p>But I got very confused trying to figure out what the correct abstraction would be, in a form where it is still applicable to the setting at hand</p>



<a name="231767002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767002">(Mar 25 2021 at 09:07)</a>:</h4>
<p>It's funny that Lean works like a real mathematician here: You explain general statements in the right generality, then they become self-evident</p>



<a name="231767060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767060">(Mar 25 2021 at 09:07)</a>:</h4>
<p>Yes, this point is even more important when formalising things.</p>



<a name="231767337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767337">(Mar 25 2021 at 09:10)</a>:</h4>
<p>From the quasi-categorical perspective, I would probably try to formalize the statement that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>↪</mo><msup><mi>S</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">S\hookrightarrow S'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69433em;vertical-align:-0.011em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↪</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> is an injection of simplicial sets with the same <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>-skeleton, then any map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>→</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">S\to C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> to some category <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> (i.e. its nerve) extends uniquely to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">S'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></p>



<a name="231767360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767360">(Mar 25 2021 at 09:10)</a>:</h4>
<p>But I'm not sure whether this can be translated into the question at hand</p>



<a name="231767506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767506">(Mar 25 2021 at 09:12)</a>:</h4>
<p>If we want to automate this, it's probably most effective to have some term rewriting system that we feed the commutativity assumptions of the squares, and then ask it to use some shortest path algorithm to rewrite one expression into another.</p>



<a name="231767588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767588">(Mar 25 2021 at 09:12)</a>:</h4>
<p>That machinery is already there, but I'm currently spoon-feeding it the order in which to rewrite along the cubes.</p>



<a name="231767640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767640">(Mar 25 2021 at 09:13)</a>:</h4>
<p>I see</p>



<a name="231767850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767850">(Mar 25 2021 at 09:15)</a>:</h4>
<p>The part that is the least functorial at the moment is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><msup><mo stretchy="false">)</mo><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></msup></mrow><annotation encoding="application/x-tex">(\_)^{T^{-1}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.2969199999999999em;vertical-align:-0.31em;"></span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869199999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>



<a name="231767960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767960">(Mar 25 2021 at 09:16)</a>:</h4>
<p>We could factor the construction through a category <code>NormedGroup_with_two_Tinv_actions</code>...</p>



<a name="231767981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231767981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231767981">(Mar 25 2021 at 09:16)</a>:</h4>
<p>But I'm reluctant to do that...</p>



<a name="231770449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231770449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231770449">(Mar 25 2021 at 09:38)</a>:</h4>
<p>It seems that you never need to know that the homotopy is compatible with restriction maps</p>



<a name="231770480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231770480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231770480">(Mar 25 2021 at 09:39)</a>:</h4>
<p>At least that is 1 square that we don't need to worry about (-;</p>



<a name="231770661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231770661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231770661">(Mar 25 2021 at 09:40)</a>:</h4>
<p>That's surprising!</p>



<a name="231770689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231770689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231770689">(Mar 25 2021 at 09:40)</a>:</h4>
<p>You mean even in the statement of 9.6, you don't need that?</p>



<a name="231770795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231770795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231770795">(Mar 25 2021 at 09:41)</a>:</h4>
<p>Well, I guess that's even how it's formulated it in the lecture notes</p>



<a name="231771290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231771290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231771290">(Mar 25 2021 at 09:45)</a>:</h4>
<p>yes, I only realised it now</p>



<a name="231771439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231771439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231771439">(Mar 25 2021 at 09:46)</a>:</h4>
<p>But since it's already formalized, there wasn't some unplanned "<code>h</code> commutes with <code>res</code>" either</p>



<a name="231772058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772058">(Mar 25 2021 at 09:51)</a>:</h4>
<p>Did you already fill in some of the constants?</p>



<a name="231772149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772149">(Mar 25 2021 at 09:52)</a>:</h4>
<p>In 9.6? Or in the main proof?</p>



<a name="231772194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772194">(Mar 25 2021 at 09:52)</a>:</h4>
<p>In the main proof</p>



<a name="231772229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772229">(Mar 25 2021 at 09:53)</a>:</h4>
<p>No, I haven't really fixed the constants yet.</p>



<a name="231772274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772274">(Mar 25 2021 at 09:53)</a>:</h4>
<p>I think that in the lecture notes, it's really the computations that happen in the last lines, that justify the choice of <code>b</code> and <code>N</code>.</p>



<a name="231772419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772419">(Mar 25 2021 at 09:54)</a>:</h4>
<p>To check condition (2) of 9.6, there are also some computations that are not really carried out in detail</p>



<a name="231772738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772738">(Mar 25 2021 at 09:57)</a>:</h4>
<p>I'm just asking because the only remaining possible source of error I can see is if I was screwing up something about the choice of constants</p>



<a name="231772845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231772845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231772845">(Mar 25 2021 at 09:58)</a>:</h4>
<p>I haven't spent much time thinking about how to check (2) yet. But with (3) I'm quite optimistic that it will work out (even in Lean <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span>)</p>



<a name="231774924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231774924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231774924">(Mar 25 2021 at 10:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- this is not `iso.refl` -- so close, and yet so far away</span>
<span class="c1">-- the difference is `M_{(c * c_i) * N⁻¹}` vs `M_{c * (c_i * N⁻¹)}`</span>
<span class="kd">def</span> <span class="n">complex_rescale_iso</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">BD.complex</span> <span class="o">(</span><span class="n">rescale_constants</span> <span class="n">c'</span> <span class="n">N</span><span class="o">)</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">M</span> <span class="n">c</span> <span class="bp">≅</span>
  <span class="n">BD.complex</span> <span class="n">c'</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="o">(</span><span class="n">of</span> <span class="n">r'</span> <span class="bp">$</span> <span class="n">rescale</span> <span class="n">N</span> <span class="n">M</span><span class="o">)</span> <span class="n">c</span> <span class="o">:=</span>
<span class="n">iso_of_components</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="gr">sorry</span><span class="o">)</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="231775001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775001">(Mar 25 2021 at 10:14)</a>:</h4>
<p>I really wish we could tell Lean that <code>c * c_i * N⁻¹</code> is defeq to itself, no matter how the parentheses are placed.</p>



<a name="231775032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775032">(Mar 25 2021 at 10:15)</a>:</h4>
<p>That seems annoying as hell</p>



<a name="231775058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775058">(Mar 25 2021 at 10:15)</a>:</h4>
<p>You mean you wish they were defeq? They're not, right?</p>



<a name="231775181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775181">(Mar 25 2021 at 10:16)</a>:</h4>
<p>but isn't there some <code>eq_to_iso</code> thing which sends a proof of <code>a = b</code> to an isomorphism between <code>M a</code> and <code>M b</code>?</p>



<a name="231775259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775259">(Mar 25 2021 at 10:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> certainly, but this <code>=</code> is burried beneath 5 layers of functors.</p>



<a name="231775274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775274">(Mar 25 2021 at 10:17)</a>:</h4>
<p>So it's still a hassle</p>



<a name="231775385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775385">(Mar 25 2021 at 10:18)</a>:</h4>
<p>And the top-most construction isn't a functor, but taking equalizers...</p>



<a name="231775426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775426">(Mar 25 2021 at 10:18)</a>:</h4>
<p>this is most frustrating. It's like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>f</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>g</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[1/f][1/g]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">]</span></span></span></span> not being equal to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>f</mi><mi>g</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[1/fg]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">]</span></span></span></span> -- but there I could understand Lean's point because they really were not equal if you thought about it carefully.</p>



<a name="231775432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775432">(Mar 25 2021 at 10:18)</a>:</h4>
<p>So it's also not <code>functor.map_iso</code></p>



<a name="231775472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775472">(Mar 25 2021 at 10:18)</a>:</h4>
<p>Yes, this is even more silly than the localisation issues</p>



<a name="231775482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775482">(Mar 25 2021 at 10:18)</a>:</h4>
<p>It seems to me that an algorithm could do all this.</p>



<a name="231775722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775722">(Mar 25 2021 at 10:20)</a>:</h4>
<p>Would <code>eq.subst</code> take care of all this if instead of <code>(c * c_i) * N⁻¹</code> and <code>c * (c_i * N⁻¹)</code> you had two new variables <code>x</code> and <code>y</code> and a proof that <code>x=y</code>?</p>



<a name="231775773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231775773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231775773">(Mar 25 2021 at 10:21)</a>:</h4>
<p>Or is the "motive is type incorrect" issue inevitable?</p>



<a name="231776215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231776215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231776215">(Mar 25 2021 at 10:25)</a>:</h4>
<p>I currently don't see an easy way to use <code>eq.subst</code></p>



<a name="231776268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231776268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231776268">(Mar 25 2021 at 10:26)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">(</span><span class="n">t</span> <span class="o">:</span> <span class="n">T</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span>
  <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="kt">Type</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">F</span> <span class="o">(</span><span class="n">M</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">b</span> <span class="bp">*</span> <span class="n">c</span><span class="o">)))</span> <span class="bp">=</span> <span class="n">F</span> <span class="o">(</span><span class="n">M</span> <span class="o">((</span><span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">*</span> <span class="n">c</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="c1">-- works</span>
<span class="kd">end</span>
</code></pre></div>
<p>How do I get myself into a situation where the naive approach gives me the motive is not type correct error?</p>



<a name="231776417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231776417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231776417">(Mar 25 2021 at 10:27)</a>:</h4>
<p>You need dependent arguments, where rewriting in one place will cause something somewhere else to no longer type check.</p>



<a name="231776444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231776444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231776444">(Mar 25 2021 at 10:27)</a>:</h4>
<p>(I need to sleep, I won't come up with an example now. :-)</p>



<a name="231776807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231776807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231776807">(Mar 25 2021 at 10:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> if you have any sort of magic tricks that can help us through get out of the sticky mud, that would be awesome</p>



<a name="231779587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231779587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231779587">(Mar 25 2021 at 10:53)</a>:</h4>
<p>The defeq trouble actually goes a bit deeper, because the parentheses also disturb the <code>Tinv</code> map, meaning the equalizers are now no longer defeq.</p>



<a name="231779644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231779644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231779644">(Mar 25 2021 at 10:54)</a>:</h4>
<p>In particular, the <code>hom</code> of the iso in question is not even a <code>res</code>triction map along an equality.</p>



<a name="231780094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231780094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231780094">(Mar 25 2021 at 10:56)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">aux₀</span> <span class="o">(</span><span class="n">c</span> <span class="n">c'</span> <span class="n">N</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span> <span class="bp">≤</span> <span class="n">c</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">]</span> <span class="n">using</span> <span class="n">nnreal.fact_le_refl</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">aux₀'</span> <span class="o">(</span><span class="n">c</span> <span class="n">c'</span> <span class="n">N</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="n">r'</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span><span class="o">)</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span> <span class="bp">≤</span> <span class="n">r'</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">)))</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">]</span> <span class="n">using</span> <span class="n">nnreal.fact_le_refl</span> <span class="n">_</span>

<span class="kn">local</span> <span class="kn">attribute</span> <span class="o">[</span><span class="kd">instance</span><span class="o">]</span> <span class="n">aux₀</span> <span class="n">aux₀'</span>

<span class="kd">def</span> <span class="n">rescale_hom</span> <span class="o">(</span><span class="n">c</span> <span class="n">c'</span> <span class="n">N</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">CLCFPTinv</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">M</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="n">n</span> <span class="bp">⟶</span> <span class="n">CLCFPTinv</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="o">(</span><span class="n">rescale</span> <span class="n">N</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span><span class="o">)</span> <span class="n">n</span> <span class="o">:=</span>
<span class="n">equalizer.map</span> <span class="o">(</span><span class="n">CLCFP.res</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">CLCFP.res</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span> <span class="gr">sorry</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="231780137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231780137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231780137">(Mar 25 2021 at 10:57)</a>:</h4>
<p>Now prove the <code>sorry</code>s, do the same for <code>inv</code>, show that <code>hom</code> and <code>inv</code> are inverse to each other...</p>



<a name="231780165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231780165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231780165">(Mar 25 2021 at 10:57)</a>:</h4>
<p>De Bruijn factor: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>π</mi><msup><mi>π</mi><msup><mi>π</mi><mi>π</mi></msup></msup></msup></mrow><annotation encoding="application/x-tex">\pi^{\pi^{\pi^\pi}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.08198em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.08198em;"><span style="top:-3.08198em;margin-right:0.05em;"><span class="pstrut" style="height:2.71898em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0271142857142856em;"><span style="top:-3.0271142857142856em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5961142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.83456em;"><span style="top:-2.904em;margin-right:0.1em;"><span class="pstrut" style="height:2.5em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>



<a name="231782537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231782537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231782537">(Mar 25 2021 at 11:16)</a>:</h4>
<p>It should be possible to express this using <code>eq.rec</code> as long as you can get the term to be type correct if you replace <code>c * c' * N⁻¹</code> with an arbitrary variable <code>a</code></p>



<a name="231782624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231782624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231782624">(Mar 25 2021 at 11:17)</a>:</h4>
<p>This is generally not recommended, but as long as you only rarely need to compute the action of the isomorphism it should be fine</p>



<a name="231782662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231782662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231782662">(Mar 25 2021 at 11:17)</a>:</h4>
<p>you can still prove that it commutes with other isomorphisms by casing on the equality</p>



<a name="231786462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786462">(Mar 25 2021 at 11:49)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> can you MWE this for Mario?</p>



<a name="231786570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786570">(Mar 25 2021 at 11:50)</a>:</h4>
<p>I'm wondering how far we can get by somehow generalizing to two variables <code>a</code> and <code>b</code> which are equal</p>



<a name="231786602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786602">(Mar 25 2021 at 11:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy/near/231782537">said</a>:</p>
<blockquote>
<p>It should be possible to express this using <code>eq.rec</code> as long as you can get the term to be type correct if you replace <code>c * c' * N⁻¹</code> with an arbitrary variable <code>a</code></p>
</blockquote>
<p>I'm afraid we can't do that... <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="231786637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786637">(Mar 25 2021 at 11:51)</a>:</h4>
<p>(or can I do it somehow? I am giving a talk in 1 hour for one hour but will be free to think about this afterwards)</p>



<a name="231786812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786812">(Mar 25 2021 at 11:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> let's discuss after your talk!</p>



<a name="231786870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786870">(Mar 25 2021 at 11:53)</a>:</h4>
<p>I wouldn't mind talking someone through the plan for part (3) of the proof.</p>



<a name="231786888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231786888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231786888">(Mar 25 2021 at 11:53)</a>:</h4>
<p>It will probably help me clear up some details</p>



<a name="231787304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231787304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231787304">(Mar 25 2021 at 11:56)</a>:</h4>
<p>Your aux lemmas above remind me of Reid's hack when we were doing schemes: to prove that an affine scheme was a scheme we had to pull back along the identity map, and ended up needing a map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">F</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo>→</mo><mi mathvariant="script">F</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{F}(U)\to\mathcal{F}(i(U))</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.09931em;">F</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.09931em;">F</span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span> with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> the identity map. Trying to make this map "the identity" was horrible, but then Reid pointed out that one could just make it restriction and then everything worked gloriously.</p>



<a name="231787379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231787379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231787379">(Mar 25 2021 at 11:57)</a>:</h4>
<p>Sure, it works great, but the De Bruijn factor is still ridiculous</p>



<a name="231788045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231788045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231788045">(Mar 25 2021 at 12:02)</a>:</h4>
<p>I can check out the project if you have a line and commit to point to</p>



<a name="231788663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/231788663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#231788663">(Mar 25 2021 at 12:06)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/pseudo_normed_group/homotopy.lean#L119">https://github.com/leanprover-community/lean-liquid/blob/master/src/pseudo_normed_group/homotopy.lean#L119</a></p>



<a name="232439167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/232439167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#232439167">(Mar 30 2021 at 14:53)</a>:</h4>
<p>Apart from <code>pseudo_normed_group/homotopy.lean</code> everything compiles again. So I'm commenting out <code>homotopy.lean</code> (nothing else depends on it yet.</p>



<a name="232439223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/232439223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#232439223">(Mar 30 2021 at 14:53)</a>:</h4>
<p>That means we can merge <code>rescale_iso</code> into master, so that we have "1 source of truth" again (-;</p>



<a name="232439818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/232439818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#232439818">(Mar 30 2021 at 14:56)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code> src/breen_deligne/suitable.lean                  |  16 ++--
 src/locally_constant/Vhat.lean                   |  15 ++--
 src/polyhedral_lattice/Hom.lean                  |   8 +-
 src/polyhedral_lattice/pseudo_normed_group.lean  |   5 +-
 src/pseudo_normed_group/CLC.lean                 | 244 ++++++++++++++++++++++++++++--------------------------
 src/pseudo_normed_group/FiltrationPow.lean       | 214 +++++++++++++++++++++++++++---------------------
 src/pseudo_normed_group/LC.lean                  | 390 +++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 src/pseudo_normed_group/Tinv.lean                | 396 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------
 src/pseudo_normed_group/category.lean            |  11 +++
 src/pseudo_normed_group/homotopy.lean            |  62 +++++++++++++-
 src/pseudo_normed_group/rescale.lean             |   9 +-
 src/pseudo_normed_group/system_of_complexes.lean |  84 +++++++++++--------
 src/pseudo_normed_group/with_Tinv.lean           |  69 +++++++++-------
 src/thm95/row_iso.lean                           |   4 +-
</code></pre></div>



<a name="232439830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/232439830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#232439830">(Mar 30 2021 at 14:56)</a>:</h4>
<p>merged and pushed</p>



<a name="233280660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/233280660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#233280660">(Apr 06 2021 at 08:02)</a>:</h4>
<p>After even more relentless refactoring by <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> we had another huge merge into <code>master</code> just now.</p>



<a name="233280682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/233280682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#233280682">(Apr 06 2021 at 08:02)</a>:</h4>
<p>The upshot:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- this is not `iso.refl` -- so close, and yet so far away</span>
<span class="c1">-- the difference is `M_{(c * c_i) * N⁻¹}` vs `M_{c * (c_i * N⁻¹)}`</span>
<span class="kd">theorem</span> <span class="n">complex_rescale_eq</span> <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">BD.complex</span> <span class="o">(</span><span class="n">rescale_constants</span> <span class="n">c'</span> <span class="n">N</span><span class="o">)</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">c</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">M</span><span class="o">)</span> <span class="bp">=</span>
  <span class="o">(</span><span class="n">BD.complex</span> <span class="n">c'</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">c</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="bp">$</span> <span class="n">of</span> <span class="n">r'</span> <span class="bp">$</span> <span class="n">rescale</span> <span class="n">N</span> <span class="n">M</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="o">[</span><span class="n">data.complex</span><span class="o">,</span> <span class="n">rescale_constants</span><span class="o">],</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">c</span> <span class="n">c'</span><span class="o">,</span> <span class="n">fact</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span> <span class="bp">≤</span> <span class="n">c</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:=</span>
    <span class="bp">λ</span> <span class="n">c</span> <span class="n">c'</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">]</span> <span class="n">using</span> <span class="n">nnreal.fact_le_refl</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">transitivity</span>
    <span class="o">(</span><span class="n">BD.complex₂</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">r'</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">c'</span> <span class="n">i</span><span class="o">)</span> <span class="bp">*</span> <span class="n">N</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="bp">$</span> <span class="n">of</span> <span class="n">r'</span> <span class="n">M</span><span class="o">),</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="n">ProFiltPseuNormGrpWithTinv.of_coe</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">refine</span> <span class="n">cochain_complex.ext</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="o">[</span><span class="n">data.complex₂</span><span class="o">,</span> <span class="n">rescale_constants</span><span class="o">,</span> <span class="n">data.complex₂_d</span><span class="o">,</span> <span class="n">universal_map.eval_CLCFPTinv₂</span><span class="o">,</span>
    <span class="n">_root_.id</span><span class="o">,</span> <span class="n">NormedGroup.equalizer.map_nat_app</span><span class="o">],</span>
  <span class="n">refine</span> <span class="n">NormedGroup.equalizer.map_congr</span> <span class="n">_</span> <span class="n">_</span> <span class="n">rfl</span> <span class="n">rfl</span> <span class="n">rfl</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">universal_map.eval_CLCFP_rescale</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">BD.d</span> <span class="o">(</span><span class="n">succ</span> <span class="n">i</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span> <span class="n">N</span> <span class="n">M</span><span class="o">]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">universal_map.eval_CLCFP_rescale</span> <span class="n">V</span> <span class="n">r'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">BD.d</span> <span class="o">(</span><span class="n">succ</span> <span class="n">i</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span> <span class="n">N</span> <span class="n">M</span><span class="o">]</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="233280761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/233280761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#233280761">(Apr 06 2021 at 08:03)</a>:</h4>
<p>It's clear that this proof will never be <code>iso.refl</code> bycause of the associativity issue.<br>
But on line <code>3</code> of the proof you can see a <code>mul_assoc</code> that now "just works".</p>



<a name="233281036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/233281036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#233281036">(Apr 06 2021 at 08:05)</a>:</h4>
<p>The rest of the proof is messing around with <code>eval_CLCFP</code> and friends. And that's mostly because the action of <code>f : FreeMat</code> is defined by evaluating some formal sum of matrices. And <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mo>∑</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mo>∑</mo><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi (\sum x_i) = \sum \phi(x_i)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> is not defeq, even if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi (a + b) = \phi(a) + \phi(b)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> is defeq.</p>



<a name="233281072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/233281072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#233281072">(Apr 06 2021 at 08:05)</a>:</h4>
<p>So we need to do a bit more "honest proving", and can't <code>rfl</code> all the way through.</p>



<a name="234450752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450752">(Apr 14 2021 at 07:01)</a>:</h4>
<p>After a lot of refactoring of Breen Deligne data, and many computations with kronecker products of matrices, I'm delighted to announce:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">homotopy_σπ</span> <span class="o">:=</span>
<span class="n">homotopy.</span><span class="o">{</span><span class="n">u</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">data.homotopy_mul</span> <span class="n">BD.data</span> <span class="n">BD.homotopy</span> <span class="n">N</span><span class="o">)</span>
  <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">c_</span><span class="o">)</span> <span class="o">(</span><span class="n">rescale_constants</span> <span class="n">c_</span> <span class="o">(</span><span class="mi">2</span><span class="bp">^</span><span class="n">N</span><span class="o">))</span> <span class="n">r</span> <span class="n">V</span> <span class="n">c</span> <span class="n">M</span>

<span class="k">#check</span> <span class="n">homotopy_σπ</span>

<span class="k">#print</span> <span class="kd">axioms</span> <span class="n">homotopy_σπ</span>
</code></pre></div>



<a name="234450776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450776">(Apr 14 2021 at 07:01)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- homotopy.lean:179:0</span>
<span class="n">homotopy_σπ</span> <span class="o">:</span>
  <span class="bp">Π</span> <span class="o">(</span><span class="n">BD</span> <span class="o">:</span> <span class="n">package</span><span class="o">)</span> <span class="o">(</span><span class="n">c_</span> <span class="n">c'</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">[</span><span class="n">_inst_1</span> <span class="o">:</span> <span class="n">BD.data.suitable</span> <span class="n">c_</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_2</span> <span class="o">:</span> <span class="n">package.adept</span> <span class="n">BD</span> <span class="n">c_</span> <span class="n">c'</span><span class="o">]</span>
  <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">NormedGroup</span><span class="o">)</span> <span class="o">[</span><span class="n">_inst_3</span> <span class="o">:</span> <span class="n">normed_with_aut</span> <span class="bp">↑</span><span class="n">r</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">_inst_4</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span><span class="o">)]</span> <span class="o">{</span><span class="n">r'</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">}</span>
  <span class="o">[</span><span class="n">_inst_5</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r'</span><span class="o">)]</span> <span class="o">[</span><span class="n">_inst_6</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="n">r'</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="o">(</span><span class="n">ProFiltPseuNormGrpWithTinv</span> <span class="n">r'</span><span class="o">)</span><span class="bp">ᵒᵖ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">N</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span>
    <span class="n">differential_object.complex_like.homotopy</span>
      <span class="o">((</span><span class="n">BD_map</span> <span class="o">(</span><span class="n">BD.data.sum</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">N</span><span class="o">))</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">c_</span><span class="o">)</span> <span class="o">(</span><span class="n">rescale_constants</span> <span class="n">c_</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">N</span><span class="o">))</span> <span class="n">r</span> <span class="n">V</span> <span class="n">c</span><span class="o">)</span><span class="bp">.</span><span class="n">app</span> <span class="n">M</span><span class="o">)</span>
      <span class="o">((</span><span class="n">BD_map</span> <span class="o">(</span><span class="n">BD.data.proj</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">N</span><span class="o">))</span> <span class="o">(</span><span class="n">c'</span> <span class="bp">*</span> <span class="n">c_</span><span class="o">)</span> <span class="o">(</span><span class="n">rescale_constants</span> <span class="n">c_</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">^</span> <span class="n">N</span><span class="o">))</span> <span class="n">r</span> <span class="n">V</span> <span class="n">c</span><span class="o">)</span><span class="bp">.</span><span class="n">app</span> <span class="n">M</span><span class="o">)</span>
</code></pre></div>
<p>The axioms:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- homotopy.lean:181:0</span>
<span class="n">propext</span>
<span class="n">quot.sound</span>
<span class="n">classical.choice</span>
</code></pre></div>



<a name="234450791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450791">(Apr 14 2021 at 07:02)</a>:</h4>
<p>You rescaled!</p>



<a name="234450793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450793">(Apr 14 2021 at 07:02)</a>:</h4>
<p>Most notably: this construction is now entirely <code>sorry</code>-free.</p>



<a name="234450880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450880">(Apr 14 2021 at 07:02)</a>:</h4>
<p>This is now almost in the shape that we need for the proof of 9.5.</p>



<a name="234450955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234450955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234450955">(Apr 14 2021 at 07:03)</a>:</h4>
<p>In particular, this homotopy is in terms of <code>BD.data.sum (2 ^ N)</code> instead of the <code>N</code>-fold iteration of the addition map.</p>



<a name="234451091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234451091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234451091">(Apr 14 2021 at 07:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> At this point, only the constants are being rescaled. But we will need to move that over to a rescaling of some pseudo normed group. This should now be relatively straight-forward, thanks to the massive refactor that Mario did a little while ago.</p>



<a name="234451153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234451153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234451153">(Apr 14 2021 at 07:05)</a>:</h4>
<p>To some extent, I would say that this is now a pretty solid proof of 9.12 and 9.13 from the appendix to section 9 of Analytic.pdf. Plus epsilon for pushing the homotopy through the system_of_complexes construction.</p>



<a name="234452138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234452138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234452138">(Apr 14 2021 at 07:15)</a>:</h4>
<p>This means that we can now tick of <a href="https://leanprover-community.github.io/liquid/sec-more_breen_deligne.html#basehomotopy">https://leanprover-community.github.io/liquid/sec-more_breen_deligne.html#basehomotopy</a> and the lemma after it.</p>



<a name="234453759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234453759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234453759">(Apr 14 2021 at 07:31)</a>:</h4>
<p>Hmm, actually, I need to rewrite that part of the blueprint, before ticking anything off. But I first need to prepare a talk for tomorrow.</p>



<a name="234846597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234846597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234846597">(Apr 16 2021 at 12:48)</a>:</h4>
<p>Up to an isomorphism between two complexes, and a very nasty Lean problem that I don't understand, the homotopy section is now done.<br>
I don't expect and (math or Lean) problems with the iso. But I didn't expect Lean problems, and now I still have one.<br>
If some Lean hacker wants to look at <a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/thm95/default.lean#L202">https://github.com/leanprover-community/lean-liquid/blob/master/src/thm95/default.lean#L202</a> and <a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/thm95/default.lean#L260">https://github.com/leanprover-community/lean-liquid/blob/master/src/thm95/default.lean#L260</a> that would be very kind.</p>



<a name="234846689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234846689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234846689">(Apr 16 2021 at 12:48)</a>:</h4>
<p>On L202 I define a lemma, which seems to be exactly what is needed on L260.</p>



<a name="234846719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234846719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234846719">(Apr 16 2021 at 12:48)</a>:</h4>
<p>But on L260, the proof times out.</p>



<a name="234846763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234846763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234846763">(Apr 16 2021 at 12:49)</a>:</h4>
<p>I am stretching Lean to its limits, it seems. Which probably means I'm doing something Lean-stupid.</p>



<a name="234981256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234981256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234981256">(Apr 17 2021 at 11:17)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> or some other Lean hacker. Could you please take a look at this?</p>



<a name="234981889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234981889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234981889">(Apr 17 2021 at 11:29)</a>:</h4>
<p>I have some free time if you want to do some hacking on this together</p>



<a name="234983008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983008">(Apr 17 2021 at 11:48)</a>:</h4>
<p>I don't have free time this afternoon CEST. We're having a small birthday party.</p>



<a name="234983105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983105">(Apr 17 2021 at 11:50)</a>:</h4>
<p>The problem is that there is a <code>lemma foo : X := some_proof</code> and then a declaration</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">bar</span> <span class="o">:</span> <span class="n">some_structure</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">field_of_type_X</span> <span class="o">:=</span> <span class="n">foo</span><span class="o">,</span> <span class="c1">-- times out</span>
  <span class="n">etc</span> <span class="o">}</span>
</code></pre></div>



<a name="234983135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983135">(Apr 17 2021 at 11:50)</a>:</h4>
<p>Everything is done. I just need that time out to go away (-;</p>



<a name="234983137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983137">(Apr 17 2021 at 11:50)</a>:</h4>
<p>I'm playing with it now, I'll report back if I figure anything out</p>



<a name="234983175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983175">(Apr 17 2021 at 11:51)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">NSH_aux</span> <span class="o">(</span><span class="n">M</span><span class="o">)</span> <span class="o">:</span> <span class="n">NSH_aux_type</span> <span class="n">BD</span> <span class="n">r</span> <span class="n">r'</span> <span class="n">V</span> <span class="n">c_</span> <span class="n">c'</span> <span class="n">m</span> <span class="bp">Λ</span> <span class="o">(</span><span class="n">N₂</span> <span class="n">c'</span> <span class="n">r</span> <span class="n">r'</span> <span class="n">m</span><span class="o">)</span> <span class="n">M</span> <span class="o">:=</span>
<span class="n">NSH_aux'</span> <span class="n">BD</span> <span class="n">r</span> <span class="n">r'</span> <span class="n">V</span> <span class="n">c_</span> <span class="n">c'</span> <span class="n">m</span> <span class="bp">Λ</span> <span class="n">M</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">c</span> <span class="n">hc</span> <span class="n">q</span> <span class="n">hqm</span><span class="o">,</span>
<span class="kd">by</span> <span class="n">convert</span> <span class="n">NSH_hδ</span> <span class="n">V</span> <span class="n">c'</span> <span class="n">m</span> <span class="bp">Λ</span> <span class="n">M</span> <span class="n">c</span> <span class="n">hc</span> <span class="n">q</span> <span class="n">hqm</span>
</code></pre></div>
<p>works</p>



<a name="234983273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983273">(Apr 17 2021 at 11:54)</a>:</h4>
<p>even <code>convert using 0</code> works</p>



<a name="234983317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983317">(Apr 17 2021 at 11:54)</a>:</h4>
<p>but <code>exact</code> takes way longer</p>



<a name="234983347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983347">(Apr 17 2021 at 11:55)</a>:</h4>
<p>Ooh, I hadn't tried <code>convert</code></p>



<a name="234983377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983377">(Apr 17 2021 at 11:55)</a>:</h4>
<p>Still, this is very mysterious. Maybe related to the "slow proof" discussion happening in <a class="stream" data-stream-id="113488" href="/#narrow/stream/113488-general">#general</a>  right now?</p>



<a name="234983450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983450">(Apr 17 2021 at 11:56)</a>:</h4>
<p>you can also inline that into <code>NSH_aux'</code> although that declaration is pushing 10 seconds</p>



<a name="234983651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234983651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234983651">(Apr 17 2021 at 12:00)</a>:</h4>
<p>Yeah there is more than 1 slow decl (-;</p>



<a name="234985282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234985282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234985282">(Apr 17 2021 at 12:27)</a>:</h4>
<p>I just checked, but</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">NSH_hδ</span> <span class="n">V</span> <span class="n">c'</span> <span class="n">m</span> <span class="bp">Λ</span> <span class="n">M</span> <span class="n">c</span> <span class="n">hc</span> <span class="n">q</span> <span class="n">hqm</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">this</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>does not work. So it's probably not the same as the issue that <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> is seeing.</p>



<a name="234985331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/234985331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#234985331">(Apr 17 2021 at 12:28)</a>:</h4>
<p>(<a href="#narrow/stream/113488-general/topic/slow.20proof/near/234979594">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/slow.20proof/near/234979594</a> fyi)</p>



<a name="235003670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/235003670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#235003670">(Apr 17 2021 at 17:17)</a>:</h4>
<p>I've pushed Mario's <code>by convert</code> solution.</p>



<a name="235003743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/235003743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#235003743">(Apr 17 2021 at 17:18)</a>:</h4>
<p>I feel like there is still some issue/bug that we don't really understand. But I don't know enough about Lean's internals to understand why it's being so slow here.</p>



<a name="236993229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/236993229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#236993229">(May 01 2021 at 19:37)</a>:</h4>
<p>I'm excited, exhausted and relieved to announce that all the glue that still had to be written for the homotopy argument has been filled in. It wasn't even that bad in the end. But the proofs are very slow. So I'm glad we can park these away in some separate files that we hopefully will not need to touch again in the future.</p>



<a name="236994426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/236994426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#236994426">(May 01 2021 at 19:59)</a>:</h4>
<p>Thanks for all your incredible work!!</p>



<a name="236994766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/thm95.homotopy/near/236994766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/thm95.2Ehomotopy.html#236994766">(May 01 2021 at 20:04)</a>:</h4>
<p>Amazing work, Johan!! <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>