---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html">Abelian sheaves</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252671200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252671200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252671200">(Sep 09 2021 at 18:18)</a>:</h4>
<p>We will need a way to go back and forth between abelian group objects in <code>CondensedType</code> and <code>Condensed Ab</code>.<br>
I made some initial definitions along these lines here:<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/for_mathlib/abelian_group_object.lean">https://github.com/leanprover-community/lean-liquid/blob/master/src/for_mathlib/abelian_group_object.lean</a></p>
<p>There are a few sorry's about proving certain presheaves are sheaves. <br>
I think it's important to use explicit products and terminal objects here, so we can feed them into the monoidal category constructor and not have to deal with the trouble of going back and forth between the category theoretic product in the category <code>Type*</code> and the usual type-theoretic product.</p>



<a name="252671568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252671568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252671568">(Sep 09 2021 at 18:21)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> have you made any progress in this direction? I didn't find anything in the repo, but I may have missed it.</p>



<a name="252687235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252687235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252687235">(Sep 09 2021 at 20:10)</a>:</h4>
<p>Sorry, haven't gotten around to it yet <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="252687352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252687352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252687352">(Sep 09 2021 at 20:11)</a>:</h4>
<p>No worries. Let me know what you think about the code in the linked file.</p>



<a name="252687363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252687363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252687363">(Sep 09 2021 at 20:11)</a>:</h4>
<p>I think it's a reasonable approach.</p>



<a name="252687773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252687773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252687773">(Sep 09 2021 at 20:14)</a>:</h4>
<p>I just read through it. I think it's a pretty smooth approach. LGTM</p>



<a name="252687963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252687963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252687963">(Sep 09 2021 at 20:15)</a>:</h4>
<p>Some brave soul might try to prove that for <code>F : SheafOfTypes.Ab T</code> and <code>U : C\op</code>, the type <code>F.val.obj U</code> has an abelian group structure.</p>



<a name="252688145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252688145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252688145">(Sep 09 2021 at 20:16)</a>:</h4>
<p>And for the restriction maps associated to the sheaf, I'm now a bit sad we don't have <code>is_add_monoid_hom</code>...</p>



<a name="252688393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252688393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252688393">(Sep 09 2021 at 20:18)</a>:</h4>
<p>We do have it, right? It's in <code>deprecated/</code> and it's no longer a <code>class</code>, and at some point in the future it will move back into mathlib proper.</p>



<a name="252688528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252688528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> YaÃ«l Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252688528">(Sep 09 2021 at 20:19)</a>:</h4>
<p>Will it? I understood Kevin figured out it wasn't worth it.</p>



<a name="252688608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252688608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252688608">(Sep 09 2021 at 20:19)</a>:</h4>
<p>Oh, I thought Kevin got rid of those things. I'm probably wrong.</p>



<a name="252689664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252689664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252689664">(Sep 09 2021 at 20:26)</a>:</h4>
<p>I think it's exactly "edge" cases like this why we should keep them around.</p>



<a name="252689767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252689767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252689767">(Sep 09 2021 at 20:27)</a>:</h4>
<p>But since they are now structures instead of classes, they are probably more useful, because more explicit. And it gives us dot-notation, etc...</p>



<a name="252694233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252694233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252694233">(Sep 09 2021 at 20:56)</a>:</h4>
<p>When I started on that refactor I was pretty convinced that there would be occasional cases when the structures would be useful. As time went on I became much less convinced, but I'm open to being convinced again!</p>



<a name="252694363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/252694363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#252694363">(Sep 09 2021 at 20:57)</a>:</h4>
<p>For example I'm pretty sure that we could remove all the <code>import deprecated.*</code> from mathlib, if someone could be bothered. I just got tired of it, I pushed the imports much further down the tree but couldn't quite face finishing the job.</p>



<a name="261966671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261966671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261966671">(Nov 18 2021 at 18:07)</a>:</h4>
<p>Quick status update: <em>pre</em>sheaves taking values in an abelian category are abelian<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/4095445272684705da80405a9df74060bc4bcf0f/src/for_mathlib/abelian_sheaves/functor_category.lean#L240">https://github.com/leanprover-community/lean-liquid/blob/4095445272684705da80405a9df74060bc4bcf0f/src/for_mathlib/abelian_sheaves/functor_category.lean#L240</a></p>
<p>The case of sheaves is now a little closer.</p>



<a name="261968908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261968908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261968908">(Nov 18 2021 at 18:26)</a>:</h4>
<p>The only thing you now need is the isomorphism theorem in the case of sheaves, right?</p>



<a name="261968930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261968930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261968930">(Nov 18 2021 at 18:26)</a>:</h4>
<p>All the rest is done, if I understand correctly</p>



<a name="261969085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261969085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261969085">(Nov 18 2021 at 18:27)</a>:</h4>
<p>well, the cokernels in sheaves involved sheafification, so it's a little more complicated to obtain the isomorphism theorem for sheaves.</p>



<a name="261971019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261971019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261971019">(Nov 18 2021 at 18:42)</a>:</h4>
<p>Sure. But once you have that, you would be done, right?</p>



<a name="261971095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261971095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261971095">(Nov 18 2021 at 18:43)</a>:</h4>
<p>I think so... I'm trying now.</p>



<a name="261971124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/261971124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#261971124">(Nov 18 2021 at 18:43)</a>:</h4>
<p>We'll find out whether there are other hangups soon enough</p>



<a name="262027856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262027856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262027856">(Nov 19 2021 at 05:08)</a>:</h4>
<p>Okay, so there is an actual hangup -- we need the fact that sheafification is left exact (in the sense that it preserves finite limits). This follows from the fact that finite limits commute with filtered colimits in <code>Type*</code> (and hence any of the concrete categories we have around in the context of sheafification), but it will require some more serious work to actually get this result.</p>



<a name="262028572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262028572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262028572">(Nov 19 2021 at 05:22)</a>:</h4>
<p>Aah, bummer. Good catch.</p>



<a name="262031935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262031935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262031935">(Nov 19 2021 at 06:31)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/category_theory/limits/filtered_colimit_commutes_finite_limit.html#top">https://leanprover-community.github.io/mathlib_docs/category_theory/limits/filtered_colimit_commutes_finite_limit.html#top</a></p>



<a name="262031995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262031995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262031995">(Nov 19 2021 at 06:32)</a>:</h4>
<p>(Perhaps I even had this application in mind, I forget. :-)</p>



<a name="262373852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262373852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262373852">(Nov 22 2021 at 20:33)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">presheaf_to_Sheaf_preserves_finite_limits</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="n">v</span> <span class="n">u</span><span class="o">))</span>
  <span class="o">[</span><span class="n">small_category</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">fin_category</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">has_limits_of_shape</span> <span class="n">K</span> <span class="n">D</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">preserves_limits_of_shape</span> <span class="n">K</span> <span class="o">(</span><span class="n">presheaf_to_Sheaf</span> <span class="n">J</span> <span class="n">D</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>is now sorry free... but it's a mess...</p>



<a name="262393159"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262393159" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262393159">(Nov 22 2021 at 23:40)</a>:</h4>
<p>And even more good news... the following are both sorry free as well!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">abelian</span> <span class="o">:</span> <span class="n">abelian</span> <span class="o">(</span><span class="n">Sheaf</span> <span class="n">J</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">abelian_of_coim_to_im</span> <span class="o">(</span><span class="bp">Î»</span> <span class="n">F</span> <span class="n">G</span> <span class="n">Î·</span><span class="o">,</span> <span class="n">infer_instance</span><span class="o">)</span>
</code></pre></div>
<p>and </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">abelian</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">delta</span> <span class="n">Condensed</span><span class="o">,</span>
  <span class="c1">-- I don't know why this is needed either...</span>
  <span class="n">apply</span> <span class="bp">@</span><span class="n">category_theory.Sheaf.abelian.</span><span class="o">{(</span><span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">)</span> <span class="n">u</span> <span class="o">(</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">)}</span>
    <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">_</span> <span class="n">proetale_topology</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>It's still very messy... I hope I'll have some time soon to get this in better shape for mathlib.</p>



<a name="262393922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262393922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262393922">(Nov 22 2021 at 23:48)</a>:</h4>
<p>Did you do that stuff I was working very slowly on? The finite products iff binary and 0 product thing?</p>



<a name="262394151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262394151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262394151">(Nov 22 2021 at 23:51)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> no I didn't. This abelian category instance is for sheaves on an arbitrary site taking values in any (sufficiently concrete, whatever that means) abelian category</p>



<a name="262394155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262394155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262394155">(Nov 22 2021 at 23:51)</a>:</h4>
<p>I did finite products -&gt; empty product and am about half way through finite products -&gt; binary products. I've been held up by a time-critical task :-(</p>



<a name="262394188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262394188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262394188">(Nov 22 2021 at 23:51)</a>:</h4>
<p>We will still need the finite product stuff to see that sheaves on profinite can be computed easily using exteremally dosconnecteds</p>



<a name="262411009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262411009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262411009">(Nov 23 2021 at 04:17)</a>:</h4>
<p>Awesome! Thanks a lot <span class="user-mention" data-user-id="243562">@Adam Topaz</span></p>



<a name="262411025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262411025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262411025">(Nov 23 2021 at 04:17)</a>:</h4>
<p>That's one more milestone out of the way.</p>



<a name="262750182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262750182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262750182">(Nov 26 2021 at 00:36)</a>:</h4>
<p>I worked on the adjunction between condensed sets and condensed abelian groups today.</p>
<p>I got </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Ab_to_Type_adjunction</span> <span class="o">:</span> <span class="n">Type_to_Ab</span> <span class="bp">â£</span> <span class="n">Ab_to_Type</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>
<p>with </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Type_to_Ab</span> <span class="o">:</span> <span class="n">CondensedSet</span> <span class="bp">â¥¤</span> <span class="n">Condensed</span> <span class="n">Ab</span> <span class="o">:=</span> <span class="bp">...</span>
<span class="kd">def</span> <span class="n">Ab_to_Type</span> <span class="o">:</span> <span class="n">Condensed</span> <span class="n">Ab</span> <span class="bp">â¥¤</span> <span class="n">CondensedSet</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>
<p>toward the bottom of <code>condensed/adjunctions.lean</code>.</p>
<p>The only sorrys remaining in the proof of this adjunction are in the file <code>for_mathlib/sheafify_forget.lean</code> about the compatibility of the forgetful functor and sheafification. If anyone wants to practice their lean category theory chops, please feel free to take a look at that file!</p>



<a name="262842237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262842237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262842237">(Nov 26 2021 at 23:30)</a>:</h4>
<p>The sheafification compatibility is here:  <a href="https://github.com/leanprover-community/mathlib/issues/10510">#10510</a></p>



<a name="262858729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/262858729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#262858729">(Nov 27 2021 at 07:02)</a>:</h4>
<p>Great, thanks a lot!</p>



<a name="263062062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263062062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263062062">(Nov 29 2021 at 20:14)</a>:</h4>
<p>Here is a PR for the adjunction in general:<br>
<a href="https://github.com/leanprover-community/mathlib/issues/10541">#10541</a></p>



<a name="263062228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263062228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263062228">(Nov 29 2021 at 20:15)</a>:</h4>
<p>I will review it later tonight. I'm on a call now.</p>



<a name="263062258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263062258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263062258">(Nov 29 2021 at 20:15)</a>:</h4>
<p>No rush</p>



<a name="263070861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263070861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263070861">(Nov 29 2021 at 21:34)</a>:</h4>
<p>I left a review of the PR it depends upon</p>



<a name="263428096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263428096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263428096">(Dec 02 2021 at 12:18)</a>:</h4>
<p><span aria-label="ping pong" class="emoji emoji-1f3d3" role="img" title="ping pong">:ping_pong:</span> <a href="https://github.com/leanprover-community/mathlib/issues/10541">#10541</a> <span aria-label="thank you" class="emoji emoji-1f64f" role="img" title="thank you">:thank_you:</span></p>



<a name="263429472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263429472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263429472">(Dec 02 2021 at 12:33)</a>:</h4>
<p>Thanks for the reminder. It's on the queue now <img alt=":merge:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/3121/emoji/images/18527.png" title="merge"></p>



<a name="263430156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/263430156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#263430156">(Dec 02 2021 at 12:39)</a>:</h4>
<p>Mecri!</p>



<a name="264612427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264612427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264612427">(Dec 12 2021 at 09:00)</a>:</h4>
<p>Do we / will we know that sheafification preserves finite limits?</p>



<a name="264612917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264612917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264612917">(Dec 12 2021 at 09:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">sheafification_preserves_finite_limits</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">max</span> <span class="n">v</span> <span class="n">u</span><span class="o">))</span>
  <span class="o">[</span><span class="n">small_category</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">fin_category</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">has_limits_of_shape</span> <span class="n">K</span> <span class="n">D</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">preserves_limits_of_shape</span> <span class="n">K</span> <span class="o">(</span><span class="n">sheafification</span> <span class="n">J</span> <span class="n">D</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">delta</span> <span class="n">sheafification</span><span class="o">,</span> <span class="n">apply_instance</span> <span class="o">}</span>
</code></pre></div>



<a name="264612923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264612923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264612923">(Dec 12 2021 at 09:15)</a>:</h4>
<p>In <code>src/for_mathlib/abelian_sheaves/left_exact.lean</code> of the LTE repo</p>



<a name="264612926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264612926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264612926">(Dec 12 2021 at 09:15)</a>:</h4>
<p>Kudos to Adam</p>



<a name="264613148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264613148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264613148">(Dec 12 2021 at 09:22)</a>:</h4>
<p>I now notice that this is just above <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> <br>
I guess pullbacks of sheaves aren't as far as I thought.</p>



<a name="264624180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264624180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264624180">(Dec 12 2021 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> the fact that <code>Sheaf_to_presheaf</code> creates limits is already in mathlib, and that's enough to obtain limits (in particular, pullbacks) in <code> Sheaf J A</code>. Is this what you're looking for?</p>



<a name="264624462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/264624462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#264624462">(Dec 12 2021 at 13:51)</a>:</h4>
<p>By pullback I meant the inverse image functor. Not the categorical one.<br>
I'm looking for the left-exactness of the pullback functor, of which the left-exact-ness of sheafification is the final piece missing.<br>
Not that I'll need this result right now though. There's still plenty of things to push into mathlib before I could use it to do more stuff.</p>



<a name="266937967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/266937967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#266937967">(Jan 05 2022 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="439483">Andrew Yang</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Abelian.20sheaves/near/264612427">said</a>:</p>
<blockquote>
<p>Do we / will we know that sheafification preserves finite limits?</p>
</blockquote>
<p>Thanks Johan for reviewing  <a href="https://github.com/leanprover-community/mathlib/pull/11252">#11252</a> ! <span class="user-mention" data-user-id="439483">@Andrew Yang</span> this will be in mathlib in a couple of hours ;)</p>



<a name="267455080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/267455080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#267455080">(Jan 10 2022 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Did you also do the adjunction between sheaves of types (aka sets) and sheaves of {abelian groups, R-modules, etc}, that forgets in one direction, and takes the free sheaf in the other direction?</p>



<a name="267455332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/267455332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#267455332">(Jan 10 2022 at 15:45)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/blob/185f86120c3c78e6bd276bac89dd9f977ed328c9/src/condensed/adjunctions.lean#L53">https://github.com/leanprover-community/lean-liquid/blob/185f86120c3c78e6bd276bac89dd9f977ed328c9/src/condensed/adjunctions.lean#L53</a></p>



<a name="267455641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/267455641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#267455641">(Jan 10 2022 at 15:47)</a>:</h4>
<p>Or in general <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.Sheaf.adjunction_to_types">docs#category_theory.Sheaf.adjunction_to_types</a></p>



<a name="267455896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Abelian%20sheaves/near/267455896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Abelian.20sheaves.html#267455896">(Jan 10 2022 at 15:48)</a>:</h4>
<p>If you want to consider <code>Sheaf J Type*</code> instead of <code>SheafOfTypes J</code>, you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.Sheaf.adjunction">docs#category_theory.Sheaf.adjunction</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>