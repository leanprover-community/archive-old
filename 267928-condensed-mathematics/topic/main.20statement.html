---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/main.20statement.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html">main statement</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="254016650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254016650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254016650">(Sep 20 2021 at 08:54)</a>:</h4>
<p>I just pushed a file <code>challenge.lean</code>. Here's a little snapshot:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">p'</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p'</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">&lt;</span> <span class="n">p</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">1</span><span class="o">})</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span><span class="o">)</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">ℝ</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space'</span> <span class="n">ℝ</span> <span class="n">p</span> <span class="n">V</span><span class="o">]</span> <span class="c1">-- `V` is a `p`-Banach</span>

<span class="kd">def</span> <span class="n">real_measures.condensed</span> <span class="o">:</span> <span class="n">Profinite</span> <span class="bp">⥤</span> <span class="n">Condensed</span> <span class="n">Ab</span> <span class="o">:=</span>
<span class="n">Profinite.extend</span> <span class="o">(</span><span class="n">real_measures.functor</span> <span class="n">p'</span><span class="o">)</span> <span class="bp">⋙</span> <span class="n">CompHausFiltPseuNormGrp₁.to_Condensed</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="n">ℳ</span><span class="bp">`</span> <span class="n">p'</span> <span class="o">:=</span> <span class="n">real_measures.condensed</span> <span class="n">p'</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="n">Ext</span><span class="bp">`</span> <span class="n">i</span> <span class="bp">`</span><span class="o">,</span><span class="bp">`</span> <span class="n">A</span> <span class="bp">`</span><span class="o">,</span><span class="bp">`</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">((</span><span class="n">Ext</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">A</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">,</span> <span class="o">(</span><span class="n">ℳ</span> <span class="n">p'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span> <span class="o">,</span> <span class="n">Condensed.of_top_ab</span> <span class="n">V</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="254016667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254016667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254016667">(Sep 20 2021 at 08:54)</a>:</h4>
<p>Feel free to beautify!</p>



<a name="254016735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254016735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254016735">(Sep 20 2021 at 08:55)</a>:</h4>
<p>Also, this <em>statement</em> still depends on a lot of <code>sorry</code>s. For example, that <code>Condensed Ab</code> is an abelian category with enough projectives.</p>



<a name="254035022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254035022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254035022">(Sep 20 2021 at 11:35)</a>:</h4>
<p>Do you think proving it has enough projectives is a reasonable "not too difficult" project? I have some time in the next weeks, and I would be very happy to start working with the category theory part of the library!</p>



<a name="254035987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254035987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254035987">(Sep 20 2021 at 11:44)</a>:</h4>
<p><del>The main statement is nonsense! I completely forgot to formalize <code>= 0</code> in the main statement.</del> Fixed</p>



<a name="254036033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254036033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254036033">(Sep 20 2021 at 11:44)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> There is a lot of code that Bhavik wrote for the "basic condensed API", but I don't know where that code is.</p>



<a name="254036087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254036087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254036087">(Sep 20 2021 at 11:45)</a>:</h4>
<p>It would be helpful if <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> could push his code somewhere where others can build on top of it.</p>



<a name="254047995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254047995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254047995">(Sep 20 2021 at 13:17)</a>:</h4>
<p>The key thing we need to prove that <code>Cond Ab</code> has enough projectives is the sheafification in <code>Cond Ab</code>. This lets you construct the left adjoint to the forgetful functor, and applying that to the condensed set of a projective object of CompHaus (which mathlib knows there are enough of) gives you projectives in <code>Cond Ab</code>. I think constructing the sheafification will be a nontrivial task here.</p>



<a name="254051368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254051368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254051368">(Sep 20 2021 at 13:39)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I guess we can assert the existence of sheafification and the fact that it is adjoin to the inclusion into presheaves. That way we can continue building other stuff on top of that.</p>



<a name="254053603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254053603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254053603">(Sep 20 2021 at 13:56)</a>:</h4>
<p>I added</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">is_right_adjoint</span> <span class="o">(</span><span class="n">Sheaf_to_presheaf</span> <span class="n">_</span> <span class="n">_</span> <span class="o">:</span> <span class="n">Condensed</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="bp">⥤</span> <span class="n">_</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">def</span> <span class="n">forget_to_CondensedType</span> <span class="o">:</span> <span class="n">Condensed</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="bp">⥤</span> <span class="n">CondensedSet</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">obj</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="o">⟨</span><span class="n">F.val</span> <span class="bp">⋙</span> <span class="n">forget</span> <span class="n">_</span><span class="o">,</span> <span class="kd">begin</span>
    <span class="n">cases</span> <span class="n">F</span> <span class="k">with</span> <span class="n">F</span> <span class="n">hF</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">(</span><span class="n">presheaf.is_sheaf_iff_is_sheaf_forget</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">forget</span> <span class="n">Ab</span><span class="o">))</span> <span class="n">at</span> <span class="n">hF</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">is_sheaf_iff_is_sheaf_of_type</span><span class="o">,</span>
    <span class="n">assumption</span><span class="o">,</span>
    <span class="n">apply_instance</span>
  <span class="kd">end</span> <span class="o">⟩,</span>
  <span class="n">map</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">A</span> <span class="n">B</span> <span class="n">f</span><span class="o">,</span> <span class="n">whisker_right</span> <span class="n">f</span> <span class="n">_</span> <span class="o">}</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">is_right_adjoint</span> <span class="n">forget_to_CondensedType</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="254053641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254053641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254053641">(Sep 20 2021 at 13:57)</a>:</h4>
<p>The second sorry should follow from the first</p>



<a name="254056454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254056454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254056454">(Sep 20 2021 at 14:15)</a>:</h4>
<p>Thanks, I pulled.</p>



<a name="254057460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057460">(Sep 20 2021 at 14:22)</a>:</h4>
<p>Somewhat related to this, we currently define <code>CondensedSet</code> using <code>SheafOfTypes</code> as opposed to <code>Condensed Type*</code> (the two are equivalent but not defeq). Do we want to change this?</p>



<a name="254057531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057531">(Sep 20 2021 at 14:22)</a>:</h4>
<p>I don't have a strong feeling about that.</p>



<a name="254057576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057576">(Sep 20 2021 at 14:22)</a>:</h4>
<p>So far we haven't used condensed sets yet. Only condensed abelian groups.</p>



<a name="254057581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057581">(Sep 20 2021 at 14:22)</a>:</h4>
<p>It would save one of the <code>rw</code> lines in the proof above if we do, but it's not a huge deal.</p>



<a name="254057638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057638">(Sep 20 2021 at 14:23)</a>:</h4>
<p>I guess the sticking point is sheafification. And that will be hard no matter which definition (-;</p>



<a name="254057646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254057646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254057646">(Sep 20 2021 at 14:23)</a>:</h4>
<p>Checking the sheaf condition is easier in <code>SheaOfTypes</code> which could be useful later on.</p>



<a name="254063052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254063052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254063052">(Sep 20 2021 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Don't you think we should provide the sheafification functors explicitly?</p>



<a name="254063650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/254063650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#254063650">(Sep 20 2021 at 14:59)</a>:</h4>
<p>Regarding projectives, let me point out that besides their existence, we also need to (later) know quite explicitly their structure, as in Proposition 2.1 of Analytic.pdf. That proposition might be another good intermediate target.</p>



<a name="256183008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256183008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256183008">(Oct 05 2021 at 06:07)</a>:</h4>
<p>So this file <a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/challenge.lean">https://github.com/leanprover-community/lean-liquid/blob/master/src/challenge.lean</a> has the statement of the main challenge. Are there ways to make those Ext groups look better? I want to show this off in a talk two weeks from now.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="n">ℳ</span><span class="bp">`</span> <span class="n">p'</span> <span class="o">:=</span> <span class="n">real_measures.condensed</span> <span class="n">p'</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="bp">`</span><span class="n">Ext</span><span class="bp">`</span> <span class="n">i</span> <span class="bp">`</span><span class="o">,</span><span class="bp">`</span> <span class="n">A</span> <span class="bp">`</span><span class="o">,</span><span class="bp">`</span> <span class="n">B</span> <span class="o">:=</span> <span class="o">((</span><span class="n">Ext</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">A</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_zero</span> <span class="o">(</span><span class="n">Ext</span> <span class="n">i</span> <span class="o">,</span> <span class="o">(</span><span class="n">ℳ</span> <span class="n">p'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span> <span class="o">,</span> <span class="n">Condensed.of_top_ab</span> <span class="n">V</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="256183022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256183022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256183022">(Oct 05 2021 at 06:07)</a>:</h4>
<p>Those <code>,</code>s are a very ugly hack.</p>



<a name="256183085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256183085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256183085">(Oct 05 2021 at 06:08)</a>:</h4>
<p>And without notation, you have all those <code>.obj</code> and <code>op</code> floating around.</p>



<a name="256188237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256188237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256188237">(Oct 05 2021 at 07:10)</a>:</h4>
<p>Why not just leave out the <code>,</code>s? You could just define <code>𝓔𝓧𝓣</code> or something?</p>



<a name="256188807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256188807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256188807">(Oct 05 2021 at 07:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> you mean as an <code>abbreviation</code>?</p>



<a name="256188859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256188859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256188859">(Oct 05 2021 at 07:16)</a>:</h4>
<p>Also, that looks very much like an internal Ext object, with all those curly letters.</p>



<a name="256188878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256188878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256188878">(Oct 05 2021 at 07:17)</a>:</h4>
<p>True. It would be better to just write <code>Ext</code>.</p>



<a name="256188925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256188925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256188925">(Oct 05 2021 at 07:17)</a>:</h4>
<p>Ordinary <code>notation</code> cannot deal with multiple variables in a row, right? So <code>notation</code> would need some form of delimiters.</p>



<a name="256189024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256189024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256189024">(Oct 05 2021 at 07:18)</a>:</h4>
<p>Why not just a <code>def</code>? You might even work out how to keep the usual <code>Ext</code> out of scope.</p>



<a name="256189046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256189046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256189046">(Oct 05 2021 at 07:18)</a>:</h4>
<p>I was going to have a look, but haven't compiled liquid oleans in some time. :-)</p>



<a name="256189346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256189346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256189346">(Oct 05 2021 at 07:21)</a>:</h4>
<p>Like this?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">abbreviation</span> <span class="n">Ext</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">AB</span> <span class="o">:</span> <span class="n">Condensed</span> <span class="n">Ab</span> <span class="bp">×</span> <span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">((</span><span class="n">Ext</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">AB.1</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">AB.2</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">is_zero</span> <span class="o">(</span><span class="n">Ext</span> <span class="n">i</span> <span class="o">((</span><span class="n">ℳ</span> <span class="n">p'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span><span class="o">,</span> <span class="n">Condensed.of_top_ab</span> <span class="n">V</span><span class="o">))</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="256189386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256189386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256189386">(Oct 05 2021 at 07:21)</a>:</h4>
<p>I think that is certainly an improvement (notationwise).</p>



<a name="256190197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190197">(Oct 05 2021 at 07:29)</a>:</h4>
<p>I pushed this to master</p>



<a name="256190225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190225">(Oct 05 2021 at 07:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/main.20statement/near/256189046">said</a>:</p>
<blockquote>
<p>I was going to have a look, but haven't compiled liquid oleans in some time. :-)</p>
</blockquote>
<p><code>./scripts/get-cache.sh</code></p>



<a name="256190289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190289">(Oct 05 2021 at 07:30)</a>:</h4>
<p>Ah, I was running <code>leanproject get-cache</code>, with no success.</p>



<a name="256190575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190575">(Oct 05 2021 at 07:32)</a>:</h4>
<p>Why did you make your <code>abbreviation</code> take a pair? Just to make it look slightly more like normal notation? That seems to be overdoing it. :-)</p>



<a name="256190644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190644">(Oct 05 2021 at 07:33)</a>:</h4>
<p>Next you're going to be introducing notation <code> = 0</code> for <code>is_zero</code>. :-)</p>



<a name="256190676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256190676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256190676">(Oct 05 2021 at 07:33)</a>:</h4>
<p>I guess it's not insane. Use some strange canadian syllabics unicode equality.</p>



<a name="256191665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256191665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256191665">(Oct 05 2021 at 07:43)</a>:</h4>
<p>Yeah, maybe it is overdoing it</p>



<a name="256191740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256191740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256191740">(Oct 05 2021 at 07:44)</a>:</h4>
<p>Probably, getting rid of the <code>Condensed.of_top_ab</code> is more important.</p>



<a name="256194461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256194461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256194461">(Oct 05 2021 at 08:09)</a>:</h4>
<p>Actually, why <em>do</em> you use <code>is_zero</code>? What's wrong with <code> ≅ 0</code>?</p>



<a name="256199458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199458">(Oct 05 2021 at 08:55)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> That contains data, right? So you need to write a <code>nonempty</code>.</p>



<a name="256199564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199564">(Oct 05 2021 at 08:56)</a>:</h4>
<p>What would be wrong with data here?</p>



<a name="256199585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199585">(Oct 05 2021 at 08:56)</a>:</h4>
<p>Also, with all those exact sequences, you want a smooth API for showing that objects are trivial. I'm not sure if <code>≅ 0</code> is "agile" enough for that.</p>



<a name="256199629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199629">(Oct 05 2021 at 08:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/main.20statement/near/256199564">said</a>:</p>
<blockquote>
<p>What would be wrong with data here?</p>
</blockquote>
<p>It's a theorem. But maybe we can ignore that, and define data anyway. The linter will complain (-;</p>



<a name="256199644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199644">(Oct 05 2021 at 08:56)</a>:</h4>
<p>Sure -- in the proofs. But for now you're just trying to write a readable statement.</p>



<a name="256199683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199683">(Oct 05 2021 at 08:57)</a>:</h4>
<p>I think the <code>for_twitter/</code> files are allowed to make the linter unhappy.</p>



<a name="256199690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199690">(Oct 05 2021 at 08:57)</a>:</h4>
<p>So, <code>def</code> or <code>@[nolint] theorem</code>?</p>



<a name="256199827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199827">(Oct 05 2021 at 08:58)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">abbreviation</span> <span class="n">Ext</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">((</span><span class="n">Ext</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="n">i</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">A</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">B</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">1</span><span class="o">})</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span><span class="o">)</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">ℝ</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space'</span> <span class="n">ℝ</span> <span class="n">p</span> <span class="n">V</span><span class="o">]</span> <span class="c1">-- `V` is a `p`-Banach</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">((</span><span class="n">ℳ</span> <span class="n">p'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">Condensed.of_top_ab</span> <span class="n">V</span><span class="o">)</span> <span class="bp">≅</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="256199989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256199989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256199989">(Oct 05 2021 at 08:59)</a>:</h4>
<p>I guess we could try to get <code>(V : Condensed_Banach' p)</code>?</p>



<a name="256200963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256200963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256200963">(Oct 05 2021 at 09:07)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">pBanach</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="kt">Type</span> <span class="mi">1</span><span class="o">)</span>
<span class="o">(</span><span class="n">normed_group</span> <span class="o">:</span> <span class="n">normed_group</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">module</span> <span class="o">:</span> <span class="n">module</span> <span class="n">ℝ</span> <span class="n">V</span><span class="o">)</span>
<span class="o">(</span><span class="n">normed_space'</span> <span class="o">:</span> <span class="n">normed_space'</span> <span class="n">ℝ</span> <span class="n">p</span> <span class="n">V</span><span class="o">)</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_coe_to_sort</span> <span class="o">(</span><span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">S</span> <span class="o">:=</span> <span class="kt">Type</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">coe</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="n">X.V</span> <span class="o">}</span>

<span class="kd">instance</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">normed_group</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">X.normed_group</span>
<span class="kd">instance</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">module</span> <span class="n">ℝ</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">X.module</span>
<span class="kd">instance</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">:</span> <span class="n">normed_space'</span> <span class="n">ℝ</span> <span class="n">p</span> <span class="n">X</span> <span class="o">:=</span> <span class="n">X.normed_space'</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_coe</span> <span class="o">(</span><span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">Condensed</span> <span class="n">Ab</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">coe</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">V</span><span class="o">,</span> <span class="n">Condensed.of_top_ab</span> <span class="n">V</span> <span class="o">}</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">1</span><span class="o">})</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">((</span><span class="n">ℳ</span> <span class="n">p'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span><span class="o">)</span> <span class="n">V</span> <span class="bp">≅</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="256201171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256201171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256201171">(Oct 05 2021 at 09:09)</a>:</h4>
<p>Please push that (-;</p>



<a name="256201205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256201205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256201205">(Oct 05 2021 at 09:09)</a>:</h4>
<p>I guess we can get rid of the final <code>.obj</code> as well, by making <code>ℳ</code> an abbreviation?</p>



<a name="256202322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256202322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256202322">(Oct 05 2021 at 09:20)</a>:</h4>
<p>Okay, I pushed. <code>pBanach</code> should go in a different file, however.</p>



<a name="256202350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256202350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256202350">(Oct 05 2021 at 09:20)</a>:</h4>
<p><code>ℳ</code> isn't a valid identifier.</p>



<a name="256202541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256202541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256202541">(Oct 05 2021 at 09:22)</a>:</h4>
<p>You could however write <code>Ext i (ℳ_{p'} S) V ≅ 0</code> using notations</p>



<a name="256203271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256203271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256203271">(Oct 05 2021 at 09:29)</a>:</h4>
<p>That looks good!</p>



<a name="256203309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256203309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256203309">(Oct 05 2021 at 09:29)</a>:</h4>
<p>I suggest that we go for that!</p>



<a name="256203388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256203388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256203388">(Oct 05 2021 at 09:30)</a>:</h4>
<p>Pushed.</p>



<a name="256204196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204196">(Oct 05 2021 at 09:36)</a>:</h4>
<p>Pulled.</p>



<a name="256204555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204555">(Oct 05 2021 at 09:39)</a>:</h4>
<p>I did another commit that tidies things up by adding a <code>challenge_notations.lean</code> file.</p>



<a name="256204605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204605">(Oct 05 2021 at 09:39)</a>:</h4>
<p>Only really useful for making <code>challenge.lean</code> audience friendly. Feel free to revert.</p>



<a name="256204715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204715">(Oct 05 2021 at 09:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/main.20statement/near/256204555">said</a>:</p>
<blockquote>
<p>I did another commit that tidies things up by adding a <code>challenge_notations.lean</code> file.</p>
</blockquote>
<p>Forgot to <code>git add</code></p>



<a name="256204766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204766">(Oct 05 2021 at 09:40)</a>:</h4>
<p>Got it.</p>



<a name="256204784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256204784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256204784">(Oct 05 2021 at 09:40)</a>:</h4>
<p>I am congenitally incapable of using <code>git add</code>.</p>



<a name="256205903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256205903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256205903">(Oct 05 2021 at 09:50)</a>:</h4>
<p>For those of you who aren't pulling every 5 minutes. The non-commenty part of the file now looks like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">nnreal</span> <span class="n">liquid_tensor_experiment</span>

<span class="kn">namespace</span> <span class="n">liquid_tensor_experiment</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">p'</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p'</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">&lt;</span> <span class="n">p</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">1</span><span class="o">})</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">main_challenge</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">(</span><span class="n">ℳ_</span><span class="o">{</span><span class="n">p'</span><span class="o">}</span> <span class="n">S</span><span class="o">)</span> <span class="n">V</span> <span class="bp">≅</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">end</span> <span class="n">liquid_tensor_experiment</span>
</code></pre></div>



<a name="256206007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256206007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256206007">(Oct 05 2021 at 09:51)</a>:</h4>
<p>I propose 1 more tweak:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">open_locale</span> <span class="n">nnreal</span> <span class="n">liquid_tensor_experiment</span>
<span class="kn">open</span> <span class="n">liquid_tensor_experiment</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">p'</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p'</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p'</span> <span class="bp">&lt;</span> <span class="n">p</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">1</span><span class="o">})</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">liquid_tensor_experiment</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">(</span><span class="n">ℳ_</span><span class="o">{</span><span class="n">p'</span><span class="o">}</span> <span class="n">S</span><span class="o">)</span> <span class="n">V</span> <span class="bp">≅</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="256207344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256207344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256207344">(Oct 05 2021 at 10:01)</a>:</h4>
<p>Actually, you can make the <code>open_locale</code> do the <code>open</code>, as well.</p>



<a name="256207351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256207351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256207351">(Oct 05 2021 at 10:01)</a>:</h4>
<p>Saves another line!</p>



<a name="256208863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256208863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256208863">(Oct 05 2021 at 10:13)</a>:</h4>
<p>And I guess if you want to break the <code>fact</code> rule you could make an instance for <code>[fact (p' ≤ 1)]</code>, deriving it from the others.</p>



<a name="256209143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209143">(Oct 05 2021 at 10:15)</a>:</h4>
<p>Is there a reason why your statement is not universe polymorphic?</p>



<a name="256209883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209883">(Oct 05 2021 at 10:20)</a>:</h4>
<p>The universes are a mess.</p>



<a name="256209910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209910">(Oct 05 2021 at 10:21)</a>:</h4>
<p>And this might actually Lean-bite us <span aria-label="scream" class="emoji emoji-1f631" role="img" title="scream">:scream:</span></p>



<a name="256209952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209952">(Oct 05 2021 at 10:21)</a>:</h4>
<p>After all, we want to reduce the main challenge to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">first_target</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">m</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">,</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">k</span> <span class="n">K</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">hk</span> <span class="o">:</span> <span class="n">fact</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">≤</span> <span class="n">k</span><span class="o">))</span> <span class="o">(</span><span class="n">c₀</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">),</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">S</span><span class="o">]</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">SemiNormedGroup.</span><span class="o">{</span><span class="mi">0</span><span class="o">})</span> <span class="o">[</span><span class="n">normed_with_aut</span> <span class="n">r</span> <span class="n">V</span><span class="o">],</span>
    <span class="bp">​</span><span class="o">((</span><span class="n">BD.data.system</span> <span class="n">κ</span> <span class="n">r</span> <span class="n">V</span> <span class="n">r'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">op</span> <span class="bp">$</span> <span class="n">of</span> <span class="n">r'</span> <span class="o">(</span><span class="n">Mbar</span> <span class="n">r'</span> <span class="n">S</span><span class="o">)))</span><span class="bp">.</span><span class="n">is_weak_bounded_exact</span> <span class="n">k</span> <span class="n">K</span> <span class="n">m</span> <span class="n">c₀</span> <span class="o">:=</span>
</code></pre></div>



<a name="256209972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209972">(Oct 05 2021 at 10:21)</a>:</h4>
<p>which lives in <code>Type = Type 0</code>.</p>



<a name="256209999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256209999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256209999">(Oct 05 2021 at 10:21)</a>:</h4>
<p>And the main challenge is stated in terms of stuff in <code>Type 1</code></p>



<a name="256210067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256210067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256210067">(Oct 05 2021 at 10:22)</a>:</h4>
<p>Both "for technical reasons".</p>



<a name="256210079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256210079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256210079">(Oct 05 2021 at 10:22)</a>:</h4>
<p>I'm going to have lunch first.</p>



<a name="256221982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256221982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256221982">(Oct 05 2021 at 11:16)</a>:</h4>
<p>The problem is that <code>first_target</code> specializes to the polyhedral lattice <code>ℤ : Type</code>. And all the universe variables in the statement of <code>thm95</code> have to be the same.</p>



<a name="256222140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256222140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256222140">(Oct 05 2021 at 11:17)</a>:</h4>
<p>So I guess we want to make <code>ulift ℤ</code> into a polyhedral lattice.</p>



<a name="256222255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256222255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256222255">(Oct 05 2021 at 11:17)</a>:</h4>
<p>But <code>S</code> and <code>V</code> will still need to live in the same universe.</p>



<a name="256222360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256222360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256222360">(Oct 05 2021 at 11:17)</a>:</h4>
<p>Decoupling those can be done, but will be an interesting journey.</p>



<a name="256227378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256227378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256227378">(Oct 05 2021 at 11:34)</a>:</h4>
<p>Starting with <code>Type 0</code> first looks reasonable.</p>



<a name="256230708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256230708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256230708">(Oct 05 2021 at 11:45)</a>:</h4>
<p>So the main statement lives in universe <code>u+1</code> because of technical complications with making <code>Profinite</code> a small category. Getting rid of this, probably means that we have to inject all the <code>κ</code>-bounds from the first part of Condensed.pdf into lean.</p>



<a name="256231073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256231073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256231073">(Oct 05 2021 at 11:46)</a>:</h4>
<p>(Where <code>κ</code> is some uncountable strong limit cardinal.)</p>



<a name="256258098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256258098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256258098">(Oct 05 2021 at 14:44)</a>:</h4>
<p>I might be confused (as usual) about universes... why is <code>S : Profinite.{1}</code> and not <code>S : Profinite.{0}</code>?</p>



<a name="256258204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256258204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256258204">(Oct 05 2021 at 14:45)</a>:</h4>
<p>Je ne sais pas <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> universes never fail to give me headaches.</p>



<a name="256258348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256258348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256258348">(Oct 05 2021 at 14:46)</a>:</h4>
<p>I mean, we should be worrking in <code>Condensed Ab.{1}</code>, which are sheaves on <code>as_small.{1} Profinite.{0}</code>, right?</p>



<a name="256259206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256259206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256259206">(Oct 05 2021 at 14:50)</a>:</h4>
<p>I guess so...</p>



<a name="256265148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256265148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256265148">(Oct 05 2021 at 15:20)</a>:</h4>
<p>Is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">liquid_tensor_experiment</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite</span><span class="o">)</span> <span class="o">(</span><span class="n">V</span> <span class="o">:</span> <span class="n">pBanach</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Ext</span> <span class="n">i</span> <span class="o">(</span><span class="n">ℳ_</span><span class="o">{</span><span class="n">p'</span><span class="o">}</span> <span class="n">S</span><span class="o">)</span> <span class="n">V</span> <span class="bp">≅</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>supposed to work? I'm getting an error at <code>Ext</code>.</p>



<a name="256268897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256268897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256268897">(Oct 05 2021 at 15:41)</a>:</h4>
<p>I think you need to provide the universe variable for <code>S</code>, right?</p>



<a name="256269182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256269182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256269182">(Oct 05 2021 at 15:43)</a>:</h4>
<p>Hmm, you are right, it's not working properly</p>



<a name="256269455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256269455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256269455">(Oct 05 2021 at 15:44)</a>:</h4>
<p>I think there is a universe issue with <code>real_measures.functorr</code></p>



<a name="256275437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256275437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256275437">(Oct 05 2021 at 16:21)</a>:</h4>
<p>Hmmz, is it easily fixable?</p>



<a name="256279854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256279854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256279854">(Oct 05 2021 at 16:50)</a>:</h4>
<p>I have something that typechecks...</p>



<a name="256279878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256279878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256279878">(Oct 05 2021 at 16:50)</a>:</h4>
<p>no clue whether it makes universe-sense though.</p>



<a name="256279909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256279909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256279909">(Oct 05 2021 at 16:50)</a>:</h4>
<p>I pushed it. It's <code>(S : Profinite.{1}) (V : pBanach.{1} p)</code></p>



<a name="256287297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256287297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256287297">(Oct 05 2021 at 17:39)</a>:</h4>
<p>I'm a little concerned....</p>



<a name="256315572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256315572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256315572">(Oct 05 2021 at 20:40)</a>:</h4>
<p>Me too, actually. You definitely want the profinite set <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> to live in the site defining condensed sets. A priori you might defined condensed sets using some universe of profinite sets, and then define the functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">M</mi><msup><mi>p</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub></mrow><annotation encoding="application/x-tex">\mathcal M_{p&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32798em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> on some larger class of profinite sets, but then the theorem wouldn't be true for those larger profinite sets.</p>



<a name="256315877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256315877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256315877">(Oct 05 2021 at 20:43)</a>:</h4>
<p>(Otherwise, the theorem statement looks very nice now :-)!)</p>



<a name="256316144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256316144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256316144">(Oct 05 2021 at 20:45)</a>:</h4>
<p>Even worse, I think you will have to arrange that the profinite sets <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">M</mi><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mi>r</mi></msub><msub><mo stretchy="false">)</mo><mrow><mo>≤</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{M}(S,\mathbb Z((T))_r)_{\leq c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal">M</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">Z</span><span class="mopen">((</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.295179em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"><span></span></span></span></span></span></span></span></span></span> live in the site defining condensed sets. So be careful with your universes!</p>



<a name="256316555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256316555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256316555">(Oct 05 2021 at 20:48)</a>:</h4>
<p>(Well, I can't really believe that when you try to glue stuff together you will get unresolvable universe issues. But it may not be a completely trivial task. And it is likely that the current version of the theorem is not true.)</p>



<a name="256324420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256324420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256324420">(Oct 05 2021 at 21:46)</a>:</h4>
<p>I think the key thing that needs to be changed is <br>
<code>to_Condensed : CompHausFiltPseuNormGrp₁.{u+1} ⥤ Condensed.{u} Ab.{u+1}</code> should instead be <code>to_Condensed : CompHausFiltPseuNormGrp₁.{u} ⥤ Condensed.{u} Ab.{u+1}</code></p>



<a name="256324483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256324483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256324483">(Oct 05 2021 at 21:47)</a>:</h4>
<p>Well, and we will need to have a functor <code>pBanach.{0} p</code> to <code>Condensed Ab.{1}</code>.</p>



<a name="256324834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256324834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256324834">(Oct 05 2021 at 21:50)</a>:</h4>
<p>Do we have a ulift-like functor from <code>Ab.{u}</code> to <code>Ab.{max u v}</code>?</p>



<a name="256357428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/main%20statement/near/256357428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/main.20statement.html#256357428">(Oct 06 2021 at 04:55)</a>:</h4>
<p>Nope, I don't think such a ulift-like functor exists.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>