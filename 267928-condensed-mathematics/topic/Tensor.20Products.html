---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/Tensor.20Products.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html">Tensor Products</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="286003998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/286003998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#286003998">(Jun 13 2022 at 23:53)</a>:</h4>
<p>Quick update: <br>
The file <code>condensed/tensor</code> is sorry-free. This defines the tensor product of a condensed abelian group with an abelian group, as a condensed abelian group, and shows that it can be evaluated pointwise when evaluated on extremallly disconnected sets.</p>



<a name="286434503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/286434503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#286434503">(Jun 17 2022 at 01:15)</a>:</h4>
<p>I just pushed a skeleton for the isomorphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mi>i</mi></msup><mo stretchy="false">(</mo><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>⊗</mo><mi>M</mi><mo>≅</mo><msup><mi>H</mi><mi>i</mi></msup><mo stretchy="false">(</mo><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H^i(Q&#x27;(\mathbb{Z})) \otimes M \cong H^i(Q&#x27;(M))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbb">Z</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">))</span></span></span></span>. It's in <code>condensed/bd_lemma</code> and still has various sorries to fill in (but all the data required for this isomoprhism should be there)</p>



<a name="286649403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/286649403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#286649403">(Jun 18 2022 at 12:37)</a>:</h4>
<p>Cool! You made a bunch of progress while I was away!</p>



<a name="287245286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/287245286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#287245286">(Jun 23 2022 at 20:34)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> pushed a proof of <code>instance : no_zero_smul_divisors ℤ (Lbar r' S)</code>. That will be useful once we apply the BD lemma in our concrete situation.</p>



<a name="287247017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/287247017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#287247017">(Jun 23 2022 at 20:47)</a>:</h4>
<p>Do we only need this for the case where <code>S</code> is finite?</p>



<a name="287247164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/287247164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#287247164">(Jun 23 2022 at 20:48)</a>:</h4>
<p>AFAIK no, I was planning to work on proving that if this holds for finite <code>S</code> then it passes through profinite ones.</p>



<a name="288062587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288062587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288062587">(Jun 30 2022 at 17:37)</a>:</h4>
<p>Do we already know (well: "is it true?", first of all; and then...) that for <code>S : Profinite.{u}</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">preserves_limit</span> <span class="o">(</span><span class="n">fintype_diagram</span> <span class="n">S</span> <span class="bp">⋙</span> <span class="n">Fintype_Lbar.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="o">}</span> <span class="n">r'</span><span class="o">)</span> <span class="o">(</span><span class="n">category_theory.forget.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span> <span class="n">u</span><span class="o">}(</span><span class="n">ProFiltPseuNormGrpWithTinv₁.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">r'</span><span class="o">))</span>
</code></pre></div>
<p>? As composition of two functors, it boils down to knowing if both <code>fintype_diagram</code> and <code>Fintype_Lbar</code> do: <span class="user-mention" data-user-id="243562">@Adam Topaz</span> , have you already implemented these? This should be more or less trivial for <code>Fintype_Lbar</code>, what about <code>fintype_diagram</code>?</p>



<a name="288064222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288064222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288064222">(Jun 30 2022 at 17:51)</a>:</h4>
<p>I don't think this is true as stated because the limits of <code>ProFilt...</code> are these so-called bounded limits (take a look at <code>pseudo_normed_group/bounded_limits</code>)</p>



<a name="288065696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288065696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288065696">(Jun 30 2022 at 18:02)</a>:</h4>
<p>Ah ok: but do you agree that the problem comes from <code>fintype_diagram</code>?</p>



<a name="288065947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288065947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288065947">(Jun 30 2022 at 18:04)</a>:</h4>
<p>I'm not so sure... what are you trying to use this for?</p>



<a name="288066215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288066215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288066215">(Jun 30 2022 at 18:06)</a>:</h4>
<p>I used it to prove that <code>Lbar</code> evaluated at a profinite set was torsion_free, and I finished the proof with that <code>sorry</code>, which you now tell me is false. I will try to dig tomorrow in <code>bounded_limit</code> to understand what can be adapted. Have to rush now!</p>



<a name="288066249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288066249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288066249">(Jun 30 2022 at 18:06)</a>:</h4>
<p>Thanks!</p>



<a name="288066562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288066562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288066562">(Jun 30 2022 at 18:09)</a>:</h4>
<p>I see... I think the way to go here is to use the bounded limits stuff to now that   the underlying abelian group of a limit of these <code>ProFilt...</code>s embeds in the limit of the underlying abelian groups of the <code>ProFilt...</code>s, and use the fact that the limit of abelian groups embeds in the Cartesian product. That should let you reduce from from the profinite case to the finite case.</p>



<a name="288094976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288094976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288094976">(Jun 30 2022 at 22:14)</a>:</h4>
<p>Great, thanks. I will try this tomorrow morning and will come back if I need help</p>



<a name="288196166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196166">(Jul 01 2022 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> So I went through the <code>bounded_limit</code> and I have pushed a first attempt at implementing this for PFPNG_with_Tinv in <code>Lbar.torsion_free_flat</code>.</p>



<a name="288196221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196221">(Jul 01 2022 at 16:41)</a>:</h4>
<p>My idea was to adapt most of your work done for <code>PseuNormGrp₁</code>.</p>



<a name="288196523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196523">(Jul 01 2022 at 16:43)</a>:</h4>
<p>Do you think you can have a look at the file? In particular, at the final proof of the <code>instance</code> on line 154. I think that</p>
<ul>
<li>the <code>have  lim_to_Ab</code> corresponds to what you meant by " the limit of the underlying ab. grps"</li>
<li>the <code>have h_tf</code> is the claim I am looking for but computed in <code>Ab</code></li>
<li>the <code>have iso</code> is the fact that the bounded gadget is indeed a limit and so two of them must be isomorphic.</li>
</ul>



<a name="288196533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196533">(Jul 01 2022 at 16:44)</a>:</h4>
<p>How does it sound?</p>



<a name="288196770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196770">(Jul 01 2022 at 16:45)</a>:</h4>
<p>(of course, if you do not have time now, please do not worry!)</p>



<a name="288196847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196847">(Jul 01 2022 at 16:45)</a>:</h4>
<p>Oh, sorry I should have been more detailed... there is no need to duplicate the bounded limits work because we already know that the functor which drops the Tinv action preserves limits. So you first pass to pfpng1 with no Tinv, the. You can use the bounded limit api that's already there</p>



<a name="288196996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288196996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288196996">(Jul 01 2022 at 16:46)</a>:</h4>
<p>Yes, I thought so, that's why I passed through your work and I have sorried the functor from PNPF_withTinv to pfpng1, just to have everything compile.</p>



<a name="288197026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197026">(Jul 01 2022 at 16:47)</a>:</h4>
<p>But I was indeed hoping that all the duplication would not be needed.</p>



<a name="288197037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197037">(Jul 01 2022 at 16:47)</a>:</h4>
<p>M quite sure we have that...</p>



<a name="288197213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197213">(Jul 01 2022 at 16:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Tensor.20Products/near/288197037">said</a>:</p>
<blockquote>
<p>M quite sure we have that...</p>
</blockquote>
<p>Sure, I was just lazy in looking for it. I was first checking with you if the strategy set up in the proof of the <code>instance</code> on l. 154 looked OK to you, if yes I will look more carefully.</p>



<a name="288197317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197317">(Jul 01 2022 at 16:49)</a>:</h4>
<p>I'm on mobile right now so it will be hard for me to check, but I'll look in the next couple of hours.</p>



<a name="288197364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197364">(Jul 01 2022 at 16:49)</a>:</h4>
<p>In fact we should know that the functor to pfpng1 even creates limits!</p>



<a name="288197440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197440">(Jul 01 2022 at 16:50)</a>:</h4>
<p>So you could do a grep for <code>creates_limits</code> and see what comes up</p>



<a name="288197729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288197729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288197729">(Jul 01 2022 at 16:52)</a>:</h4>
<p>No problem, sure! Let me simply emphasize that I was quite sure (having seen the <strong>amazing!</strong> work you did for the <code>bounded</code> limits in the pfpng1 setting) that we already had excellent technology. So I was not trying to redo anything, and I also do not need much input from you. When you have time, please just have a look if what I did seems completely insane or reasonable, and in the second case I will go on on my own. After all, things are starting to become much clearer with these limits...</p>



<a name="288220367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288220367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288220367">(Jul 01 2022 at 20:26)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> I pushed a commented-out skeleton for the argument I had in mind, as part of the same proof you pointed me to. <br>
I also filled in the missing functor as it was just a composition of two we already had, and I used previous work to observe that it preserves limits (which is required for the skeleton I sketched). I hope this helps! </p>
<p>In terms of what you had written, it would work in principle, of course, but the key step where you embed the bounded limit cone point into the limit of abelian groups was missing (well, hidden in the sorry labeled <code>h_tf</code>).</p>



<a name="288267320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288267320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288267320">(Jul 02 2022 at 12:26)</a>:</h4>
<p>I pushed a (sorried) condensed version of the statement that <code>Lbar</code> is torsion free.</p>



<a name="288267379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288267379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288267379">(Jul 02 2022 at 12:27)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> Would it be possible to abstract over <code>Fintype_Lbar</code>?</p>



<a name="288268141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268141">(Jul 02 2022 at 12:44)</a>:</h4>
<p>I think</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">extend_torsion_free</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Fintype.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="bp">⥤</span> <span class="n">CompHausFiltPseuNormGrp₁</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hA</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">X</span><span class="o">,</span> <span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">A.obj</span> <span class="n">X</span><span class="o">))</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="o">((</span><span class="n">Profinite.extend</span> <span class="n">A</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>should be provable, and maybe easier because you don't have to worry about <code>Lbar</code>.</p>



<a name="288268572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268572">(Jul 02 2022 at 12:54)</a>:</h4>
<p>I have a proof of</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">(</span><span class="n">T</span> <span class="o">:</span> <span class="n">ExtrDisc.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span>
  <span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="o">(((</span><span class="n">condensed.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">r'</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span><span class="o">)</span><span class="bp">.</span><span class="n">val.obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">T.val</span><span class="o">))</span> <span class="o">:=</span>
</code></pre></div>
<p>that only depends on that <code>sorry</code></p>



<a name="288268602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268602">(Jul 02 2022 at 12:54)</a>:</h4>
<p>In other words, the glue from the profinite extension to condensed abelian groups is done.</p>



<a name="288268757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268757">(Jul 02 2022 at 12:58)</a>:</h4>
<p>It's in <code>src/Lbar/torsion_free_condensed.lean</code></p>



<a name="288268883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268883">(Jul 02 2022 at 13:01)</a>:</h4>
<p>Yeah that's a better generalization.</p>



<a name="288268898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288268898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288268898">(Jul 02 2022 at 13:02)</a>:</h4>
<p>The skeleton I wrote should adapt easily to this</p>



<a name="288292524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288292524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288292524">(Jul 02 2022 at 22:14)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> Thanks Adam! I will look at both the files on Monday. I think that abstracting over <code>Fintype_Lbar</code> will not be an issue at all, I will write here if I find any problem.</p>



<a name="288559536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288559536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288559536">(Jul 05 2022 at 17:04)</a>:</h4>
<p><span class="user-mention" data-user-id="459699">@Joël Riou</span> I see that you're working on the tensor product colimit sorry -- I think the simple way to do this is to use the fact that evaluation at ExtrDiscs jointly creates colimits of condensed abelian groups, which lets you reduce to the abelian group case (using some already existing isomorphisms). Your approach would work as well, of course.</p>



<a name="288560378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288560378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288560378">(Jul 05 2022 at 17:11)</a>:</h4>
<p>if you prefer, you could also use the fact that the functor from <code>ExtrSheaf</code> to presheaves creates colimits (this is an existing instance)</p>



<a name="288564033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288564033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288564033">(Jul 05 2022 at 17:40)</a>:</h4>
<p>I pushed the argument just now</p>



<a name="288564051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288564051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288564051">(Jul 05 2022 at 17:40)</a>:</h4>
<p>(it can be used to show that tensor preserves all colimits, not just coproducts)</p>



<a name="288564086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288564086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288564086">(Jul 05 2022 at 17:41)</a>:</h4>
<p>Well, there are two small sorries:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">tensor_functor_iso_flip</span> <span class="o">:</span>
  <span class="n">tensor_functor.flip</span> <span class="bp">≅</span> <span class="n">tensor_functor</span> <span class="o">:=</span>
<span class="n">nat_iso.of_components</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">A</span><span class="o">,</span>
  <span class="n">nat_iso.of_components</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">B</span><span class="o">,</span> <span class="n">tensor_flip</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span> <span class="gr">sorry</span><span class="o">)</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="288564101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288564101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288564101">(Jul 05 2022 at 17:41)</a>:</h4>
<p>(that's for plain abelian groups)</p>



<a name="288570386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288570386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288570386">(Jul 05 2022 at 17:53)</a>:</h4>
<p>okay, the file should be sorry-free now :)</p>



<a name="288570681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288570681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288570681">(Jul 05 2022 at 17:55)</a>:</h4>
<p>Sorry, I had not seen your message. I had reached the same reduction to abelian groups (by a slightly longer path). Thanks for pushing all this. (I learnt a few things in the process!)</p>



<a name="288570839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288570839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288570839">(Jul 05 2022 at 17:56)</a>:</h4>
<p>the equivalence with sheaves on <code>ExtrDisc</code> is a really powerful trick</p>



<a name="288572541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288572541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288572541">(Jul 05 2022 at 18:09)</a>:</h4>
<p>This is even true on paper, right?</p>



<a name="288572585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288572585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288572585">(Jul 05 2022 at 18:09)</a>:</h4>
<p>I mean my understand is it's not a trick, it's a rather important part of the story.</p>



<a name="288574016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288574016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288574016">(Jul 05 2022 at 18:22)</a>:</h4>
<p>Yeah of course, trick is not the right word, it's really a key part</p>



<a name="288584661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288584661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288584661">(Jul 05 2022 at 19:57)</a>:</h4>
<p>I guess what surprises me a little is just how powerful/useful this equivalence is from the formalization perspective. I think we've used it in LTE even more than the paper proof (By which I mean the blueprint)</p>



<a name="288662122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288662122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288662122">(Jul 06 2022 at 12:27)</a>:</h4>
<p>I got the impression that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">tensor_short_exact</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="o">(</span><span class="n">Condensed.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}))</span>
  <span class="o">[</span><span class="bp">∀</span> <span class="n">S</span> <span class="o">:</span> <span class="n">ExtrDisc.</span><span class="o">{</span><span class="n">u</span><span class="o">},</span> <span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="o">(</span><span class="n">A.val.obj</span> <span class="o">(</span><span class="n">op</span> <span class="n">S.val</span><span class="o">))]</span>
  <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">Ab</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">hfg</span> <span class="o">:</span> <span class="n">short_exact</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">short_exact</span> <span class="o">((</span><span class="n">tensor_functor.obj</span> <span class="n">A</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">)</span> <span class="o">((</span><span class="n">tensor_functor.obj</span> <span class="n">A</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">g</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>is basically done. Is that true? If so, where?</p>



<a name="288662641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288662641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288662641">(Jul 06 2022 at 12:31)</a>:</h4>
<p>Maybe it's not quite done. But if you use <code>exact_iff_ExtrDisc</code> along with the isomorphism (which we have) you get by evaluating the tensor product at an <code>ExtrDisc</code> with the plain tensor product of abelian groups, then you can reduce to the usual flatness of a tf-abelian group.</p>



<a name="288662692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288662692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288662692">(Jul 06 2022 at 12:31)</a>:</h4>
<p>Maybe we should also have <code>short_exact_iff_ExtrDisc</code>?</p>



<a name="288662879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288662879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288662879">(Jul 06 2022 at 12:33)</a>:</h4>
<p>I think we have it</p>



<a name="288662900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288662900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288662900">(Jul 06 2022 at 12:33)</a>:</h4>
<p>But we should move it out of that <code>QprimeFP</code> file</p>



<a name="288666264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288666264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288666264">(Jul 06 2022 at 13:00)</a>:</h4>
<p>I moved it to a new file <code>condensed/short_exact.lean</code></p>



<a name="288697896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288697896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288697896">(Jul 06 2022 at 16:44)</a>:</h4>
<p>Do we have the statement that <code>exact f g → exact (F.map f) (F.map g)</code> is <code>F</code> preserves finite limits and colimits?</p>



<a name="288697959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288697959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288697959">(Jul 06 2022 at 16:44)</a>:</h4>
<p>yes it's somewhere</p>



<a name="288697978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288697978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288697978">(Jul 06 2022 at 16:45)</a>:</h4>
<p>don't ask me where <span aria-label="hear no evil" class="emoji emoji-1f649" role="img" title="hear no evil">:hear_no_evil:</span></p>



<a name="288698141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698141">(Jul 06 2022 at 16:46)</a>:</h4>
<p>Aha, we have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">exact</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∀</span> <span class="o">⦃</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">A</span><span class="o">⦄</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Z</span><span class="o">),</span> <span class="n">exact</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">exact</span> <span class="o">(</span><span class="n">F.map</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">F.map</span> <span class="n">g</span><span class="o">)</span>
</code></pre></div>



<a name="288698180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698180">(Jul 06 2022 at 16:46)</a>:</h4>
<p>yeah but that's not very good</p>



<a name="288698206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698206">(Jul 06 2022 at 16:46)</a>:</h4>
<p>because we really want to use functors that preserve finite (co)limits</p>



<a name="288698266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698266">(Jul 06 2022 at 16:47)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.abelian.functor.preserves_exact_of_preserves_finite_limits_of_mono">docs#category_theory.abelian.functor.preserves_exact_of_preserves_finite_limits_of_mono</a></p>



<a name="288698305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698305">(Jul 06 2022 at 16:47)</a>:</h4>
<p>oh that has a mono</p>



<a name="288698315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698315">(Jul 06 2022 at 16:47)</a>:</h4>
<p>blah!</p>



<a name="288698688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288698688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288698688">(Jul 06 2022 at 16:50)</a>:</h4>
<p>I'm proving it. give me 5 mins</p>



<a name="288699107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288699107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288699107">(Jul 06 2022 at 16:53)</a>:</h4>
<p>done at <code>for_mathlib/preserves_exact</code></p>



<a name="288699166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288699166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288699166">(Jul 06 2022 at 16:54)</a>:</h4>
<p>wow, that was fast!</p>



<a name="288699548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288699548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288699548">(Jul 06 2022 at 16:57)</a>:</h4>
<p>I got some good coffee today ;)</p>



<a name="288702701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288702701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288702701">(Jul 06 2022 at 17:20)</a>:</h4>
<p>Do we have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">tensor_functor_preserves_finite_limits</span> <span class="o">[</span><span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="n">A</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">limits.preserves_finite_limits</span> <span class="o">(</span><span class="n">tensor_functor.obj</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="288702785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288702785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288702785">(Jul 06 2022 at 17:21)</a>:</h4>
<p>Is this something <span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> proved, perhaps?</p>



<a name="288705513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288705513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288705513">(Jul 06 2022 at 17:43)</a>:</h4>
<p>If it is not already there, <code>preserves_finite_limits_of_exact</code> in <code>exact_functor.lean</code> could help, but the critical statement would be that tensoring with a torsionfree abelian group preserves monos, which is usually obtained by reducing to finitely generated subgroups, which are free, but do we have these facts?</p>



<a name="288705911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288705911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288705911">(Jul 06 2022 at 17:46)</a>:</h4>
<p>Yes we do. I'll dig up the relevant facts in a minute</p>



<a name="288706320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288706320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288706320">(Jul 06 2022 at 17:49)</a>:</h4>
<p>Okay, so first, we have that tensoring preserves colimits in <code>condensed/tensor</code> in the <code>AddcommGroup</code> section.<br>
In the file <code>for_mathlib/AddCommGroup.lean</code> we have <code>AddCommGroup.is_colimit_cocone</code> which expresses a tf-abelian group as a colimit of its f.g. subgroups, and <code>AddCommGroup.exists_sigma_iso_of_index</code> can be used to show that all such are coproducts of the tensor unit. Together those should give the result!</p>



<a name="288706480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288706480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288706480">(Jul 06 2022 at 17:51)</a>:</h4>
<p>The "tensor unit" <code>tunit</code> is constructed in a bit of an ad-hoc way, but we have a general <code>is_tensor_unit</code> in the same file (which could use some more API)</p>



<a name="288706629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288706629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288706629">(Jul 06 2022 at 17:52)</a>:</h4>
<p>I had started working on this, but then I got distracted by proving that the limit of tf things is tf. I can resume working on this, but <span class="user-mention" data-user-id="459699">@Joël Riou</span> or <span class="user-mention" data-user-id="243562">@Adam Topaz</span>  please go ahead as you seem to have a clear picture of what needs to be done.</p>



<a name="288707092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288707092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288707092">(Jul 06 2022 at 17:56)</a>:</h4>
<p>It may even be possible to use <code>is_iso_of_preserves_of_is_tensor_unit</code> directly!</p>



<a name="288707143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288707143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288707143">(Jul 06 2022 at 17:56)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> I will have no time to deal with this soon. Adam and you have a better understanding of what is already in LTE!</p>



<a name="288707167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288707167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288707167">(Jul 06 2022 at 17:56)</a>:</h4>
<p>I'll see what I can do.</p>



<a name="288730310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288730310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288730310">(Jul 06 2022 at 21:02)</a>:</h4>
<p>I proved</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">tensor_obj_map_preserves_mono</span> <span class="o">[</span><span class="n">no_zero_smul_divisors</span> <span class="n">ℤ</span> <span class="n">A</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">mono</span> <span class="o">((</span><span class="n">tensor_functor.obj</span> <span class="n">A</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>at the bottom of <code>for_mathlib/AddCommGroup/tensor</code>. I haven't yet used this to show preservation of finite limits, and I have to stop for the day. If someone wants to pick it up from there, that would be great!</p>



<a name="288763242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288763242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288763242">(Jul 07 2022 at 05:15)</a>:</h4>
<p>So we know it preserves monos and cokernels. Hence it preserves short exact sequences. But I guess we don't yet have a machine to go from there to preserving finite limits.</p>



<a name="288763433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288763433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288763433">(Jul 07 2022 at 05:19)</a>:</h4>
<p>This is proved in <a href="https://github.com/leanprover-community/mathlib/pull/14026">#14026</a></p>



<a name="288763500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288763500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288763500">(Jul 07 2022 at 05:20)</a>:</h4>
<p>Aah, since mathlib bumps is not what I want to think about right now, maybe we just copy-pasta it into LTE?</p>



<a name="288763517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288763517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288763517">(Jul 07 2022 at 05:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110789">@Jakob von Raumer</span> Is that ok with you?</p>



<a name="288766884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288766884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288766884">(Jul 07 2022 at 06:23)</a>:</h4>
<p>I pushed the statement to <code>src/for_mathlib/preserves_finite_limits.lean</code></p>



<a name="288769095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288769095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288769095">(Jul 07 2022 at 06:53)</a>:</h4>
<p>Fine with me!</p>



<a name="288769099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288769099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288769099">(Jul 07 2022 at 06:53)</a>:</h4>
<p>I had completely forgotten about that PR, it's WIP since we wanted to generalise it from abelian to preadditive categories first.</p>



<a name="288769704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288769704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288769704">(Jul 07 2022 at 07:02)</a>:</h4>
<p>Any volunteers for this backport?</p>



<a name="288771937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288771937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288771937">(Jul 07 2022 at 07:33)</a>:</h4>
<p>I'll do it today</p>



<a name="288772090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288772090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288772090">(Jul 07 2022 at 07:35)</a>:</h4>
<p>Great! Thanks a lot</p>



<a name="288796804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288796804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288796804">(Jul 07 2022 at 12:06)</a>:</h4>
<p>This is now done</p>



<a name="288796942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Tensor%20Products/near/288796942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Tensor.20Products.html#288796942">(Jul 07 2022 at 12:08)</a>:</h4>
<p>Awesome</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>