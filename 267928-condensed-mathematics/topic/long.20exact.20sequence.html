---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html">long exact sequence</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272169861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272169861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272169861">(Feb 16 2022 at 19:56)</a>:</h4>
<p>Let's recap where we are concerning homological algebra / long exact sequences. A subset of what is left to do:</p>
<ul>
<li>LES specialized to <code>Ext</code>. This will need a bit of glue, jumping through opposite categories.</li>
<li><code>Ext</code> where the first argument is a complex. It seems that <span class="user-mention" data-user-id="243562">@Adam Topaz</span> and <span class="user-mention" data-user-id="306577">@Matthew Ballard</span> started working towards this, with homological functors. <del>Lean knows that <code>Hom(_, V)</code> is a homological functor.</del></li>
<li>Projective replacements. <span class="user-mention" data-user-id="439483">@Andrew Yang</span> told me that he might start working on this tomorrow.</li>
</ul>



<a name="272169978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272169978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272169978">(Feb 16 2022 at 19:57)</a>:</h4>
<p>Correction: Lean knows that <code>Hom(X,-)</code> is homological :)</p>



<a name="272170305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272170305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272170305">(Feb 16 2022 at 19:59)</a>:</h4>
<p>Ooh! Thanks for correcting.</p>



<a name="272170427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272170427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272170427">(Feb 16 2022 at 20:00)</a>:</h4>
<p>This is an important distinction, since we will need to take projective replacements of <code>X</code> in <code>Hom(X,-)</code>.</p>



<a name="272170432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272170432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272170432">(Feb 16 2022 at 20:00)</a>:</h4>
<p>• The degree-0-part of the LES.</p>



<a name="272841240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272841240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272841240">(Feb 22 2022 at 17:53)</a>:</h4>
<p>The natural isomorphism <code>(F.left_derived 0) ≅ F</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">left_derived.zero_iso_self</span> <span class="o">[</span><span class="n">enough_projectives</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">preserves_finite_colimits</span> <span class="n">F</span><span class="o">]</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">F.left_derived</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">≅</span> <span class="n">F</span> <span class="o">:=</span>
</code></pre></div>
<p>is sorry free. Given that we have the long exact sequence for <code>F.left_derived 0</code>, the long exact sequence for involving <code>F</code> should now be really easy (and I mean Lean-easy). I will do it later today or tomorrow.</p>



<a name="272843272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272843272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272843272">(Feb 22 2022 at 18:06)</a>:</h4>
<p>Moreover this only uses Adam's recent PR, so it can go directly to mathlib, and then it will be someone else's job to maintain it .</p>



<a name="272843395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272843395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272843395">(Feb 22 2022 at 18:07)</a>:</h4>
<p>Hmm, this is not completely true</p>



<a name="272845649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272845649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272845649">(Feb 22 2022 at 18:23)</a>:</h4>
<p>I think the only other ingredient is that thing about the cokernel we did last week, right?</p>



<a name="272847773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272847773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272847773">(Feb 22 2022 at 18:38)</a>:</h4>
<p>I used some formalism about <code>exact_seq</code>, that it's not in mathlib. But translating it to only use <code>exact</code> should be trivial.</p>



<a name="272848330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272848330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272848330">(Feb 22 2022 at 18:42)</a>:</h4>
<p>I think <code>exact_seq</code> has proven to be quite useful and flexible. So maybe it's time to move it to mathlib.</p>



<a name="272858521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272858521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272858521">(Feb 22 2022 at 19:59)</a>:</h4>
<p>I just noted that I can write</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">seven_term_exact_seq</span> <span class="o">[</span><span class="n">enough_projectives</span> <span class="n">C</span><span class="o">]</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">short_exact_sequence</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exact_seq</span> <span class="n">D</span> <span class="o">[</span>
    <span class="o">(</span><span class="n">F.left_derived</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">A.f</span><span class="o">,</span> <span class="o">(</span><span class="n">F.left_derived</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">A.g</span><span class="o">,</span>
    <span class="n">δ</span> <span class="n">F</span> <span class="mi">0</span> <span class="n">A</span><span class="o">,</span>
    <span class="n">F.map</span> <span class="n">A.f</span><span class="o">,</span> <span class="n">F.map</span> <span class="n">A.g</span><span class="o">,</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">F.obj</span> <span class="n">A.3</span> <span class="bp">⟶</span> <span class="n">F.obj</span> <span class="n">A.3</span><span class="o">)]</span> <span class="o">:=</span>
</code></pre></div>
<p>and Lean does not complain. Is this intended? Note that <code>δ F 0 A : (F.left_derived (0 + 1)).obj A.3 ⟶ (F.left_derived 0).obj A.1</code> and <code>F.map A.f : F.obj A.1 ⟶ F.obj A.2</code>, so the two cannot be composed (they really cannot, not just because of some type theory thing).</p>



<a name="272859505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859505">(Feb 22 2022 at 20:06)</a>:</h4>
<p>This is an unfortunate side effect of <code>exact_seq</code>.</p>



<a name="272859518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859518">(Feb 22 2022 at 20:06)</a>:</h4>
<p>So you will not be able to prove that lemma.</p>



<a name="272859597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859597">(Feb 22 2022 at 20:07)</a>:</h4>
<p>Sure, I didn't want to prove it (I will prove the true one, with a modified <code>δ</code>). I was surprised I was able to state it.</p>



<a name="272859602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859602">(Feb 22 2022 at 20:07)</a>:</h4>
<p>The way it is defined, you can only prove <code>exact_seq L</code> for lists <code>L</code> that are "well-formed": the maps must compose correctly.</p>



<a name="272859696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859696">(Feb 22 2022 at 20:08)</a>:</h4>
<p>Well, <code>L</code> needs to have type <code>list (arrow 𝒜)</code>. So it's really just a list of morphisms, without any conditions on domains / codomains.</p>



<a name="272859847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272859847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272859847">(Feb 22 2022 at 20:09)</a>:</h4>
<p>Would something like <a href="https://leanprover-community.github.io/mathlib_docs/find/simple_graph.walk">docs#simple_graph.walk</a> avoid this weirdness?</p>



<a name="272860049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860049">(Feb 22 2022 at 20:11)</a>:</h4>
<p>I think that we would end up fighting DTT more than it would help us</p>



<a name="272860198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860198">(Feb 22 2022 at 20:12)</a>:</h4>
<p>If a proof of <code>exact_seq</code> means what I have in mind I am happy with that. <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.exact">docs#category_theory.exact</a> is already complicated enough...</p>



<a name="272860362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860362">(Feb 22 2022 at 20:14)</a>:</h4>
<p>Does anyone see a quick way to prove the following?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">_root_.category_theory.cochain_complex.exact_cone_in_cone_out</span>
  <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="n">A</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exact</span> <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">))</span>
    <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="272860446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860446">(Feb 22 2022 at 20:14)</a>:</h4>
<p>This is more-or-less the last thing left to obtain the triangular LES for homology</p>



<a name="272860726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860726">(Feb 22 2022 at 20:17)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> which file is that in? I haven't used the new homology API yet, but I'm happy to take a look</p>



<a name="272860759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272860759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272860759">(Feb 22 2022 at 20:17)</a>:</h4>
<p><code>for_mathlib/derived/K_projective</code></p>



<a name="272861027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272861027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272861027">(Feb 22 2022 at 20:19)</a>:</h4>
<p>If the following (rotated)variant is easier...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">_root_.category_theory.cochain_complex.exact_to_cone_in</span>
  <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="n">A</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exact</span> <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">f</span><span class="o">)</span>
    <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>I could make the proof work with that as well</p>



<a name="272861837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272861837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272861837">(Feb 22 2022 at 20:26)</a>:</h4>
<p>If we know that additive functors preserves split exact-ness, we have <code>cone.termwise_split</code> in <code>mapping_cone.lean</code>.</p>



<a name="272861856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272861856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272861856">(Feb 22 2022 at 20:27)</a>:</h4>
<p>We know that.</p>



<a name="272861864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272861864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272861864">(Feb 22 2022 at 20:27)</a>:</h4>
<p>It's somewhere in the project</p>



<a name="272862503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272862503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272862503">(Feb 22 2022 at 20:32)</a>:</h4>
<p>We have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">short_exact_sequence.lean</span><span class="o">:</span><span class="kd">def</span> <span class="n">map_short_exact_sequence_of_split</span>
</code></pre></div>
<p>which is for bundled SES's</p>



<a name="272865217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272865217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272865217">(Feb 22 2022 at 20:56)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">seven_term_exact_seq</span> <span class="o">[</span><span class="n">enough_projectives</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">preserves_finite_colimits</span> <span class="n">F</span><span class="o">]</span>
  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">short_exact_sequence</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exact_seq</span> <span class="n">D</span> <span class="o">[</span>
    <span class="o">(</span><span class="n">F.left_derived</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">A.f</span><span class="o">,</span> <span class="o">(</span><span class="n">F.left_derived</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="n">A.g</span><span class="o">,</span>
    <span class="n">δ₀</span> <span class="n">F</span> <span class="n">A</span><span class="o">,</span>
    <span class="n">F.map</span> <span class="n">A.f</span><span class="o">,</span> <span class="n">F.map</span> <span class="n">A.g</span><span class="o">,</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">F.obj</span> <span class="n">A.3</span> <span class="bp">⟶</span> <span class="n">F.obj</span> <span class="n">A.3</span><span class="o">)]</span>
</code></pre></div>
<p>is done.</p>



<a name="272866590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272866590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272866590">(Feb 22 2022 at 21:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="439483">Andrew Yang</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/long.20exact.20sequence/near/272861837">said</a>:</p>
<blockquote>
<p>If we know that additive functors preserves split exact-ness, we have <code>cone.termwise_split</code> in <code>mapping_cone.lean</code>.</p>
</blockquote>
<p>Do we know that exactness is something that can be checked termwise?</p>



<a name="272866712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272866712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272866712">(Feb 22 2022 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I pushed some miniwip</p>



<a name="272866747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272866747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272866747">(Feb 22 2022 at 21:05)</a>:</h4>
<p>I have to do some admin stuff for a little while <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> but I'll try to take a look later</p>



<a name="272866986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272866986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272866986">(Feb 22 2022 at 21:07)</a>:</h4>
<p>I should say that I don't know if the splitting is helpful here. This is essentially the exactness in the first three terms of the snake lemma, if it's set up properly.</p>



<a name="272868806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272868806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272868806">(Feb 22 2022 at 21:24)</a>:</h4>
<p>Yeah, I didn't think properly about the maths. I agree that this should essentially follow from the LES for homology that is done in another file</p>



<a name="272879875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272879875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272879875">(Feb 22 2022 at 23:09)</a>:</h4>
<p>I pushed a skeleton for this. <br>
The sorrys are in <code>for_mathlib/snake_lemma3</code> and the following in <code>for_mathlib/derived/K_projective</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">_root_.category_theory.cochain_complex.exact_cone_in_cone_out</span>
  <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">cochain_complex</span> <span class="n">A</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">exact</span> <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">))</span>
    <span class="o">((</span><span class="n">_root_.homology_functor</span> <span class="n">_</span> <span class="n">_</span> <span class="mi">0</span><span class="o">)</span><span class="bp">.</span><span class="n">map</span> <span class="o">(</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">exact</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">))</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">exact</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">0</span><span class="o">)</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">exact</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">epi</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">epi</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">epi</span> <span class="o">((</span><span class="n">cone.out</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">((</span><span class="n">cone.in</span> <span class="n">f</span><span class="o">)</span><span class="bp">.</span><span class="n">f</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">S</span> <span class="o">:=</span> <span class="n">snake.mk_of_homology</span> <span class="n">Y</span> <span class="o">(</span><span class="n">cone</span> <span class="n">f</span><span class="o">)</span> <span class="n">_</span> <span class="o">(</span><span class="n">cone.in</span> <span class="n">_</span><span class="o">)</span> <span class="o">(</span><span class="n">cone.out</span> <span class="n">_</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">exact_iff_exact_seq</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">S.six_term_exact_seq.extract</span> <span class="mi">3</span> <span class="mi">4</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>These should all be relatively straightforward.</p>



<a name="272899523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272899523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272899523">(Feb 23 2022 at 03:10)</a>:</h4>
<p>I will take care of this.</p>



<a name="272899534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272899534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272899534">(Feb 23 2022 at 03:10)</a>:</h4>
<p>It has basically all been done already. We just need the correct glue</p>



<a name="272899679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272899679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272899679">(Feb 23 2022 at 03:14)</a>:</h4>
<p>There is one sorry left in <code>snake_lemma3</code></p>



<a name="272900133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272900133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272900133">(Feb 23 2022 at 03:21)</a>:</h4>
<p>Hmmmm.... I may need to change some of the kernels involved.</p>



<a name="272901218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272901218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272901218">(Feb 23 2022 at 03:43)</a>:</h4>
<p>nevermind. it was fine. I just killed the last sorry in <code>snake_lemma3</code></p>



<a name="272916860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272916860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272916860">(Feb 23 2022 at 08:24)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I refactored the LES for homology so that it now applies to arbitrary homological complexes (so chain and cochain complexes) indexed by arbitrary types (endowed with a <code>complex_shape</code>).<br>
After that, proving your <code>cochain_complex.exact_cone_in_cone_out</code> was a 3-liner.</p>



<a name="272930155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272930155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272930155">(Feb 23 2022 at 10:33)</a>:</h4>
<p>Awesome! Although it seems like you suffered a bit in <code>for_mathlib/les_homology.lean</code>, judging by some of the names there <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="272930272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272930272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272930272">(Feb 23 2022 at 10:34)</a>:</h4>
<p>All the suffering was already present in the case of <code>chain_complex C ℕ</code>.</p>



<a name="272930584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272930584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272930584">(Feb 23 2022 at 10:37)</a>:</h4>
<p>Ah!</p>



<a name="272930660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/272930660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#272930660">(Feb 23 2022 at 10:38)</a>:</h4>
<p>Well, I'm all for deduplicating suffering</p>



<a name="273563260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/273563260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#273563260">(Feb 28 2022 at 22:24)</a>:</h4>
<p>If nobody has objections I will see tomorrow if it is reasonable to PR the natural iso from <code>left_derived 0 F</code> to <code>F</code>.</p>



<a name="273608494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/273608494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#273608494">(Mar 01 2022 at 09:03)</a>:</h4>
<p>Sounds good to me.</p>



<a name="273635956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/273635956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#273635956">(Mar 01 2022 at 12:59)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I think you forgot to merge your <a href="https://github.com/leanprover-community/mathlib/pull/12171">#12171</a> after Scott delegated it to you...</p>



<a name="273636290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/273636290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#273636290">(Mar 01 2022 at 13:00)</a>:</h4>
<p>Oops! I'll do it in a few hours.</p>



<a name="273816307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/long%20exact%20sequence/near/273816307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/long.20exact.20sequence.html#273816307">(Mar 02 2022 at 14:41)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/12403">#12403</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>