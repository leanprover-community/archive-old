---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/derived_cat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html">derived_cat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278384320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278384320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278384320">(Apr 09 2022 at 03:11)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/13262">#13262</a> is a PR I'd like to land in mathlib before I finish off the <code>triangulated.pretriangulated (bounded_derived_category A)</code> instance in <code>derived/derivated_cat.lean</code>. This instance is essentially done now.</p>



<a name="278386899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278386899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278386899">(Apr 09 2022 at 04:20)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>, I'd like to add the following lemmas about <code>lift</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">lift_self</span> <span class="o">{</span><span class="n">P</span> <span class="n">X</span> <span class="o">:</span> <span class="bp">ùí¶</span><span class="o">}</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">P.val</span><span class="o">]</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">‚ü∂</span> <span class="n">X</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">g</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lift</span> <span class="n">g</span> <span class="n">g</span> <span class="bp">=</span> <span class="mi">ùüô</span> <span class="n">_</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">lift_unique</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>

<span class="kd">@[simp]</span>
<span class="kd">lemma</span> <span class="n">lift_comp</span> <span class="o">{</span><span class="n">P</span> <span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="bp">ùí¶</span><span class="o">}</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">P.val</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">‚ü∂</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">g</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lift</span> <span class="o">(</span><span class="n">f</span> <span class="bp">‚â´</span> <span class="n">g</span><span class="o">)</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">lift_unique</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>

<span class="kd">@[simp, reassoc]</span>
<span class="kd">lemma</span> <span class="n">lift_comp_lift_self</span> <span class="o">{</span><span class="n">P</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="bp">ùí¶</span><span class="o">}</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">P.val</span><span class="o">]</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">X.val</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">g</span><span class="o">]</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">Z</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">k</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">‚â´</span> <span class="n">lift</span> <span class="n">g</span> <span class="n">k</span> <span class="bp">=</span> <span class="n">lift</span> <span class="n">f</span> <span class="n">k</span> <span class="o">:=</span>
<span class="n">lift_unique</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">)</span>

<span class="kd">@[simp, reassoc]</span>
<span class="kd">lemma</span> <span class="n">lift_comp_lift_comp</span> <span class="o">{</span><span class="n">P</span> <span class="n">W</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="bp">ùí¶</span><span class="o">}</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">P.val</span><span class="o">]</span> <span class="o">[</span><span class="n">is_K_projective</span> <span class="n">X.val</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">P</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">‚ü∂</span> <span class="n">Y</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">g</span><span class="o">]</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">‚ü∂</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">W</span> <span class="bp">‚ü∂</span> <span class="n">Z</span><span class="o">)</span> <span class="o">[</span><span class="n">is_quasi_iso</span> <span class="n">k</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lift</span> <span class="n">f</span> <span class="n">g</span> <span class="bp">‚â´</span> <span class="n">lift</span> <span class="o">(</span><span class="n">g</span> <span class="bp">‚â´</span> <span class="n">h</span><span class="o">)</span> <span class="n">k</span> <span class="bp">=</span> <span class="n">lift</span> <span class="o">(</span><span class="n">f</span> <span class="bp">‚â´</span> <span class="n">h</span><span class="o">)</span> <span class="n">k</span> <span class="o">:=</span>
<span class="n">lift_unique</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="kd">by</span> <span class="n">simp</span><span class="o">)</span>
</code></pre></div>
<p>Any objections?</p>



<a name="278389882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278389882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278389882">(Apr 09 2022 at 05:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I reviewed that PR, but CI is unhappy. So I gave a <code>bors d+</code></p>



<a name="278389897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278389897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278389897">(Apr 09 2022 at 05:47)</a>:</h4>
<p>It seems the linter crashed? I can't view the lint output. I'll restart CI.</p>



<a name="278393309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278393309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278393309">(Apr 09 2022 at 07:16)</a>:</h4>
<p>Those lemmas look good to me!</p>



<a name="278394657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278394657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278394657">(Apr 09 2022 at 07:49)</a>:</h4>
<p>I'm pretty unhappy with the current approach to constructing the shift on <code>bounded_derived_category</code>. It runs into lots of definitional equality problems, and suffers from the fact that people have previously abused <code>local attribute [reducible] endofunctor_monoidal_category</code> in setting up the theory of shifts....</p>
<p>I'd like to rip this out and start over, by showing that a full subcategory of a category with a shift, which is closed under the shift, has an induced shift, and then apply this to the forgetful functor from <code>bounded_derived_category</code> to <code>bounded_homotopy_category</code>.</p>



<a name="278394674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278394674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278394674">(Apr 09 2022 at 07:49)</a>:</h4>
<p>Possibly doing the same for <code>bounded_homotopy_category ‚•§ homotopy_category</code>.</p>



<a name="278398937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278398937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278398937">(Apr 09 2022 at 09:18)</a>:</h4>
<p>I guess that's fair.</p>



<a name="278401627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278401627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278401627">(Apr 09 2022 at 10:24)</a>:</h4>
<p>PR at <a href="https://github.com/leanprover-community/mathlib/pull/13265">#13265</a>. I need to actually try it out in LTE still.</p>



<a name="278404032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278404032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278404032">(Apr 09 2022 at 11:13)</a>:</h4>
<p>Thanks, lgtm</p>



<a name="278410732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278410732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278410732">(Apr 09 2022 at 13:40)</a>:</h4>
<p>It works very nicely in LTE. Once <a href="https://github.com/leanprover-community/mathlib/pull/13265">#13265</a> has hit <code>master</code>, we can merge the branch <code>shifts</code> on <code>lean-liquid</code>. After that <code>derived_cat.lean</code> is completely sorry free!</p>



<a name="278410749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278410749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278410749">(Apr 09 2022 at 13:41)</a>:</h4>
<p>I did create two sorries in an earlier file, but hopefully they are easy: the shift of a K-projective object is K-projective, and the shift of a quasi-isomorphism is a quasi-isomorphism.</p>



<a name="278411138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411138">(Apr 09 2022 at 13:49)</a>:</h4>
<p>I'm fairly sure I proved those two things somewhere.</p>



<a name="278411205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411205">(Apr 09 2022 at 13:50)</a>:</h4>
<p>I couldn't find <code>is_K_projective.*shift</code> with <code>grep</code> <del>(similarly for <code>is_quasi_iso.*shift</code>)</del></p>



<a name="278411226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411226">(Apr 09 2022 at 13:51)</a>:</h4>
<p>I think it's in <code>derived/lemmas</code> with some strange auto-generated instance name</p>



<a name="278411310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411310">(Apr 09 2022 at 13:54)</a>:</h4>
<p>yup, found it</p>



<a name="278411352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411352">(Apr 09 2022 at 13:54)</a>:</h4>
<p>didn't find one for <code>is_K_projective</code>, however</p>



<a name="278411451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411451">(Apr 09 2022 at 13:57)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/blob/e40a6c1646b82a99a5cc1bf0d1e86601128e4f29/src/for_mathlib/derived/lemmas.lean#L389">https://github.com/leanprover-community/lean-liquid/blob/e40a6c1646b82a99a5cc1bf0d1e86601128e4f29/src/for_mathlib/derived/lemmas.lean#L389</a></p>



<a name="278411652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411652">(Apr 09 2022 at 14:01)</a>:</h4>
<p>These funny [[ ]] brackets foiled my search. :-)</p>



<a name="278411741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411741">(Apr 09 2022 at 14:03)</a>:</h4>
<p>I'm curious... What's the auto-generated name for that?</p>



<a name="278411789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411789">(Apr 09 2022 at 14:04)</a>:</h4>
<p>I manually named it :-)</p>



<a name="278411864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278411864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278411864">(Apr 09 2022 at 14:06)</a>:</h4>
<p>BTW, I think the pretriangulated constructor for a subcat is the way to go. The stuff in the <code>for_mathlib/derived</code> folder should be considered as mostly experimental.</p>



<a name="278412526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278412526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278412526">(Apr 09 2022 at 14:24)</a>:</h4>
<p>I guess we could use the same constructor to obtain the pretriangulated structure on the bounded homotopy category as well.</p>



<a name="278570691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278570691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278570691">(Apr 11 2022 at 15:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/derived_cat/near/278394657">said</a>:</p>
<blockquote>
<p>I'd like to rip this out and start over, by showing that a full subcategory of a category with a shift, which is closed under the shift, has an induced shift, and then apply this to the forgetful functor from <code>bounded_derived_category</code> to <code>bounded_homotopy_category</code>.</p>
</blockquote>
<p>The version of this for (pre)triangulated categories was the most used Lemma from my derived categories course.</p>



<a name="278620558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/derived_cat/near/278620558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/derived_cat.html#278620558">(Apr 11 2022 at 21:37)</a>:</h4>
<p>Yes, it sounds a good idea to have. It's on my intentions list, but I may have run out of significant mathlib time for a while.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>