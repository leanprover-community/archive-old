---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html">The elephant in the room</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="289825875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289825875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289825875">(Jul 16 2022 at 12:28)</a>:</h4>
<p>When (and HOW) should we attempt a mathlib bump?</p>



<a name="289826026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826026">(Jul 16 2022 at 12:32)</a>:</h4>
<p>Is there anything smarter than creating a branch and start working on it?</p>



<a name="289826027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826027">(Jul 16 2022 at 12:32)</a>:</h4>
<p>A related question: let's say someone does actually do this. Then you have the same question next month, the month after, the month after that,... . When I realised we were in the analogous situation with perfectoid I just told Patrick that I was not going to spend the rest of my life bumping because as far as I was concerned we'd done what we'd set out to do. IIRC we were in exactly the same situation with perfectoid -- started on par, got behind, never caught up.</p>



<a name="289826052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826052">(Jul 16 2022 at 12:33)</a>:</h4>
<p>I think once the project is stable, keeping up with the mathlib bumps would be much easier</p>



<a name="289826062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826062">(Jul 16 2022 at 12:33)</a>:</h4>
<p>We got it working on 3.4.1 and then just left it. However Patrick still managed to port all the stuff he'd written to mathlib</p>



<a name="289826105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826105">(Jul 16 2022 at 12:34)</a>:</h4>
<p>One option is to do it in stages. I.e. bump to a certain past mathlib commit, and repeat until we reach mathlib master</p>



<a name="289826106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826106">(Jul 16 2022 at 12:34)</a>:</h4>
<p>But let's be honest: we will not keep LTE updated with mathlib <em>forever</em>, no?</p>



<a name="289826110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826110">(Jul 16 2022 at 12:34)</a>:</h4>
<p>Right that was my position with perfectoid</p>



<a name="289826114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826114">(Jul 16 2022 at 12:34)</a>:</h4>
<p>I didn't want it to become an albatross.</p>



<a name="289826116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826116">(Jul 16 2022 at 12:34)</a>:</h4>
<p>We should be serious with <code>for_mathlib</code> but a certain point it  will stabilise to some mathlib commit and that will be it.</p>



<a name="289826122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826122">(Jul 16 2022 at 12:35)</a>:</h4>
<p>No of course not, but it might make sense to bump before we seriously start emptying the for_mathlib folder</p>



<a name="289826129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826129">(Jul 16 2022 at 12:35)</a>:</h4>
<p>Oh, sure, this I certainly agree 100% with.</p>



<a name="289826135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826135">(Jul 16 2022 at 12:35)</a>:</h4>
<p>I was about to suggest to do it in several steps, this is maybe the easiest thing to to.</p>



<a name="289826142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826142">(Jul 16 2022 at 12:36)</a>:</h4>
<p>We are at commit <code>4977fd9da637b6e0a805c1cf460c3a6b8df3f556</code>, how old is it?</p>



<a name="289826193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826193">(Jul 16 2022 at 12:36)</a>:</h4>
<p>Pretty old</p>



<a name="289826203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826203">(Jul 16 2022 at 12:37)</a>:</h4>
<p>In mathlib terms at least</p>



<a name="289826220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826220">(Jul 16 2022 at 12:37)</a>:</h4>
<p>But what about the big homological algebra issue? That was the reason we stopped bumping, I think.</p>



<a name="289826271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826271">(Jul 16 2022 at 12:38)</a>:</h4>
<p>There were a few changes in category theory in mathlib that would take a lot of work to integrate in lte. We should probably try to isolate those commits</p>



<a name="289826275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826275">(Jul 16 2022 at 12:38)</a>:</h4>
<p>May 12th, not that old</p>



<a name="289826911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289826911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289826911">(Jul 16 2022 at 12:54)</a>:</h4>
<p>I am trying to bump to <code>a74298d8e95f8e203ebb906d35f89dd7ce464d74</code>, three days later, to see what happens.</p>



<a name="289827089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289827089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289827089">(Jul 16 2022 at 12:59)</a>:</h4>
<p>Here's the diff between those two commits<br>
<a href="https://github.com/leanprover-community/mathlib/compare/4977fd9da637b6e0a805c1cf460c3a6b8df3f556...a74298d8e95f8e203ebb906d35f89dd7ce464d74">https://github.com/leanprover-community/mathlib/compare/4977fd9da637b6e0a805c1cf460c3a6b8df3f556...a74298d8e95f8e203ebb906d35f89dd7ce464d74</a></p>



<a name="289827090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289827090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289827090">(Jul 16 2022 at 12:59)</a>:</h4>
<p>in case it helps!</p>



<a name="289827819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289827819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289827819">(Jul 16 2022 at 13:17)</a>:</h4>
<p>I've created a branch <code>minibump</code>, but I am already stuck with errors related to ordinals in <code>for_mathlib/pid.lean</code>. They are caused by <a href="https://github.com/leanprover-community/mathlib/pull/14074">#14074</a>, I will ask for some help to the author of that PR.</p>



<a name="289829186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289829186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289829186">(Jul 16 2022 at 13:50)</a>:</h4>
<p>Maybe also <span class="user-mention" data-user-id="210057">@Fabian Glöckle</span> can have a look? Everything is caused by the new <code>ordinal.enum_iso</code>, that replaced <code>ordinal.typein_iso</code>: it's in the reverse direction, so adding <code>symm</code> solves certain problems, but not all of them.</p>



<a name="289834411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289834411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289834411">(Jul 16 2022 at 15:55)</a>:</h4>
<p>The only problems left in the minibump are those related to <code>ordinal.enum_iso</code>. I don't know anything about ordinals in mathlib, so I didn't spend too much time on it, but it shouldn't be very hard.</p>



<a name="289834747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289834747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289834747">(Jul 16 2022 at 16:02)</a>:</h4>
<p>Is that on the branch? I can fix the ordinal stuff.</p>



<a name="289834755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289834755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289834755">(Jul 16 2022 at 16:02)</a>:</h4>
<p>Yes, in the <code>minibump</code> branch</p>



<a name="289834766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289834766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289834766">(Jul 16 2022 at 16:03)</a>:</h4>
<p>The file <code>for_mathlib/pid.lean</code> has now three sorry.</p>



<a name="289834868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289834868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289834868">(Jul 16 2022 at 16:05)</a>:</h4>
<p>Note that I modified line 661 from</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">let</span> <span class="n">B</span> <span class="o">:</span> <span class="n">basis</span> <span class="n">ords</span> <span class="n">R</span> <span class="n">M</span> <span class="o">:=</span> <span class="n">basis.reindex</span> <span class="n">b</span> <span class="o">(</span><span class="n">ordinal.typein_iso</span> <span class="n">r</span><span class="o">)</span><span class="bp">.</span><span class="n">to_equiv</span><span class="o">,</span>
</code></pre></div>
<p>to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">let</span> <span class="n">B</span> <span class="o">:</span> <span class="n">basis</span> <span class="n">ords</span> <span class="n">R</span> <span class="n">M</span> <span class="o">:=</span> <span class="n">basis.reindex</span> <span class="n">b</span> <span class="o">(</span><span class="n">ordinal.enum_iso</span> <span class="n">r</span><span class="o">)</span><span class="bp">.</span><span class="n">symm.to_equiv</span><span class="o">,</span>
</code></pre></div>
<p>since <code>ordinal.typein_iso</code> was removed in <a href="https://github.com/leanprover-community/mathlib/pull/14074">#14074</a>, but maybe there is a better modification. In any case thanks!</p>



<a name="289835333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289835333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289835333">(Jul 16 2022 at 16:16)</a>:</h4>
<p><span class="user-mention" data-user-id="459227">@Violeta Hernández</span>  I have subscribed you to this stream so you can see if Yael needs help, but feel free to unsubscribe if you want.</p>



<a name="289835650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289835650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289835650">(Jul 16 2022 at 16:25)</a>:</h4>
<p>Alright. I doubt that this change will cause much trouble - flipping equivalences isn't particularly destructive. Do tell me if anything goes awry.</p>



<a name="289840687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robert Brijder <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840687">(Jul 16 2022 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289826106">said</a>:</p>
<blockquote>
<p>But let's be honest: we will not keep LTE updated with mathlib <em>forever</em>, no?</p>
</blockquote>
<p>Is there any reason why not the whole of LTE is merged into mathlib, but only the <code>for_mathlib</code> folder? If the whole is merged, then it <em>is</em> forever maintained. I mean, if later someone wants to formalize a result that depends on LTE, then that person is stuck with an old version of lean and mathlib?</p>



<a name="289840754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840754">(Jul 16 2022 at 18:26)</a>:</h4>
<p>how big is LTE?</p>



<a name="289840766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840766">(Jul 16 2022 at 18:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="392126">Ben Toner</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/blogpost/near/289827430">said</a>:</p>
<blockquote>
<p>Number of lines: 90967<br>
Number of nonblank lines: 78702<br>
Number of nonblank lines excluding comments and docstrings: 72661</p>
</blockquote>



<a name="289840777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840777">(Jul 16 2022 at 18:26)</a>:</h4>
<p>that is quite  a number of lines</p>



<a name="289840795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robert Brijder <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840795">(Jul 16 2022 at 18:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289840777">said</a>:</p>
<blockquote>
<p>that is quite  a number of lines</p>
</blockquote>
<p>So, mathlib is not supposed to grow so much?</p>



<a name="289840798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840798">(Jul 16 2022 at 18:27)</a>:</h4>
<p>Robert, I have been working on PRing my last summer internship for the past year. It was 5k lines. Now there are 2k lines left to be PRed.</p>



<a name="289840809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840809">(Jul 16 2022 at 18:27)</a>:</h4>
<p>my contributions to mathlib are only (+24,882 lines, -7,737 lines) in comparison <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="289840916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840916">(Jul 16 2022 at 18:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="269768">Robert Brijder</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289840687">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289826106">said</a>:</p>
<blockquote>
<p>But let's be honest: we will not keep LTE updated with mathlib <em>forever</em>, no?</p>
</blockquote>
<p>Is there any reason why not the whole of LTE is merged into mathlib, but only the <code>for_mathlib</code> folder? If the whole is merged, then it <em>is</em> forever maintained. I mean, if later someone wants to formalize a result that depends on LTE, then that person is stuck with an old version of lean and mathlib?</p>
</blockquote>
<p>Well, you raise a good point. I was saying this thinking that LTE was not supposed to land in mathlib, and keeping a <em>separate</em> project alive, hence bumping mathlib twice a week or so, seems unfeasable.</p>



<a name="289840929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840929">(Jul 16 2022 at 18:28)</a>:</h4>
<p>I think the larger issue is that LTE has some objects that may or may not be interesting for most mathematicians but were needed for the formalization. I'm thinking of things like profinitely-filtered pseudo-normed groups</p>



<a name="289840935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840935">(Jul 16 2022 at 18:28)</a>:</h4>
<p>mathlib is highly curated, so the PRing process is excruciatingly slow.</p>



<a name="289840969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840969">(Jul 16 2022 at 18:29)</a>:</h4>
<p>The review process is <em>very</em> thorough, and justly so.  Moreover, very likely the statement of many PRed lemmas would change and it would take effort to make them re-match their corresponding place.  It takes time.</p>



<a name="289840971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840971">(Jul 16 2022 at 18:29)</a>:</h4>
<p>On the other hand, I was discussing today with a colleague who was suggesting that if the <em>whole point</em> of mathlib is to allow to build new math in Lean, then LTE needs to be in mathlib.</p>



<a name="289840988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289840988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Robert Brijder <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289840988">(Jul 16 2022 at 18:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289840935">said</a>:</p>
<blockquote>
<p>mathlib is highly curated, so the PRing process is excruciatingly slow.</p>
</blockquote>
<p>I see, now I understand the reason. PRing to mathlib is just too much work. Thanks!</p>



<a name="289841042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841042">(Jul 16 2022 at 18:30)</a>:</h4>
<p>I think that something like identifying "basic" folders where the review process discussed by <span class="user-mention" data-user-id="321459">@Damiano Testa</span> be very strict; and other folders where we can be more sloppy could give us some flexibility.</p>



<a name="289841048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841048">(Jul 16 2022 at 18:30)</a>:</h4>
<p>One point though is that we don't need LTE in mathlib before that happens. And as far as I'm aware nobody, even in maths land, is using Scholze's result <em>yet</em>, right?</p>



<a name="289841064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841064">(Jul 16 2022 at 18:30)</a>:</h4>
<p>Clausen and Scholze are using it in their new lectures on complex analytic geometry</p>



<a name="289841089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841089">(Jul 16 2022 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Well, nobody is using Scholze's result <em>yet</em>. But I think that a full proof of some form of more general duality will develop out of their theory, and this we do not want to miss.</p>



<a name="289841092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841092">(Jul 16 2022 at 18:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289841064">said</a>:</p>
<blockquote>
<p>Clausen and Scholze are using it in their new lectures on complex analytic geometry</p>
</blockquote>
<p>But they aren't using the liquid stuff, right?</p>



<a name="289841105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841105">(Jul 16 2022 at 18:31)</a>:</h4>
<p>Yes, to compare algebraic and analytic geometry, I think. That <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span> is an analytic ring turns out to be crucial.</p>



<a name="289841167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841167">(Jul 16 2022 at 18:32)</a>:</h4>
<p>To be clear, I am absolutely for having all projects reaching mathlib eventually! I just want to clear up priorities.</p>



<a name="289841194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841194">(Jul 16 2022 at 18:33)</a>:</h4>
<p>Right. I think the general framework of analytic rings is certainly something that should be in mathlib at some point (= probably the far future). And having examples is also important ;)</p>



<a name="289841218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841218">(Jul 16 2022 at 18:33)</a>:</h4>
<p>I confess that after the discussion had this morning with that colleague, I do not have a position any more. On a one side,</p>
<ul>
<li>
<p>If we want to follow-up with the new results by Clausen and Scholze, we need LTE in mathlib.<br>
But</p>
</li>
<li>
<p>It will make mathlib much longer to compile; and</p>
</li>
<li>We can't ask maintainers to check all the 96k lines (even if we golf them to 50k, say)</li>
</ul>



<a name="289841263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841263">(Jul 16 2022 at 18:34)</a>:</h4>
<p>We also need to keep in mind that the transition to lean 4 will take time and effort</p>



<a name="289841280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841280">(Jul 16 2022 at 18:34)</a>:</h4>
<p>So, I'd rather go sailing on holiday for a while... <span aria-label="sailboat" class="emoji emoji-26f5" role="img" title="sailboat">:sailboat:</span> <span aria-label="lol" class="emoji emoji-1f606" role="img" title="lol">:lol:</span></p>



<a name="289841374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841374">(Jul 16 2022 at 18:36)</a>:</h4>
<p>My opinion is that we should slowly send bits to mathlib, with the hope that the most reusable ones will get priority. That will slowly erode the LTE mount.</p>



<a name="289841397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841397">(Jul 16 2022 at 18:37)</a>:</h4>
<p>yeah probably 20 PR's would be good</p>



<a name="289841500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841500">(Jul 16 2022 at 18:39)</a>:</h4>
<p>There could be periodic mathlib spriltze...</p>



<a name="289841502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841502">(Jul 16 2022 at 18:39)</a>:</h4>
<p>I would imagine 200, rather...</p>



<a name="289841512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841512">(Jul 16 2022 at 18:39)</a>:</h4>
<p>Yeah I already got 4 PRs out of what I did for LTE and I did close to nothing, so...</p>



<a name="289841575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841575">(Jul 16 2022 at 18:41)</a>:</h4>
<p>If we consider a "normal" mathlib PR to contain an average of 100 lines of code (correct me if I am wrong); and if we consider that LTE will have 50k lines after all the golfing process; well, my math tells me we can expect 500 of them.</p>



<a name="289841591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841591">(Jul 16 2022 at 18:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="300245">Filippo A. E. Nuccio</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289841218">said</a>:</p>
<blockquote>
<ul>
<li>We can't ask maintainers to check all the 96k lines (even if we golf them to 50k, say)</li>
</ul>
</blockquote>
<p>One of the point of having stuff in mathlib is that it is the person that opens a PR that is supposed to make everything OK. And when you exactly which modifications you did is much easier than doing a bump.</p>



<a name="289841647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841647">(Jul 16 2022 at 18:42)</a>:</h4>
<p>Also, a lot of the material in the LTE is not "mathlib-ready", and my hope is that it will be easier to maintain once it will be in mathlib.</p>



<a name="289841648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841648">(Jul 16 2022 at 18:42)</a>:</h4>
<p>But it is really a lot of work, I agree.</p>



<a name="289841704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841704">(Jul 16 2022 at 18:44)</a>:</h4>
<p>Again I should stress that I think the most challenging part of porting LTE (even some of the for_mathlib stuff) into mathlib will be finding the right level of generality for the various intermediate constructions and hacks that we have all over the place.</p>



<a name="289841705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841705">(Jul 16 2022 at 18:44)</a>:</h4>
<p>What I was trying to suggest is that as mathlib grows we might decide that the definition of  "mathlib ready" will only apply to a specific part of "foundational" stuff, but that we will be more free-style on other stuff.</p>



<a name="289841744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841744">(Jul 16 2022 at 18:45)</a>:</h4>
<p>After all, not every math-paper undergoes the same excruciating review process of a Bourbaki volume; and, probably, rightly so.</p>



<a name="289841893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289841893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289841893">(Jul 16 2022 at 18:49)</a>:</h4>
<p>We can start with something hopefully easy: do we really need all the files? We did something like 3 versions of the snake lemma and long exact sequences. If some of them are not used we can move them somewhere else.</p>



<a name="289842144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289842144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289842144">(Jul 16 2022 at 18:53)</a>:</h4>
<p>In any case branch <code>minibump</code> is now at <code>cfedf1d5b51096eccff25b7dd9ea8c86f4c402c8</code> from May 18th (and not May 15th as the commit says). There are three sorry, but we it's 6 days more recent than <code>master</code>.</p>



<a name="289843030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289843030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289843030">(Jul 16 2022 at 19:10)</a>:</h4>
<blockquote>
<p>What I was trying to suggest is that as mathlib grows we might decide that the definition of  "mathlib ready" will only apply to a specific part of "foundational" stuff, but that we will be more free-style on other stuff.</p>
</blockquote>
<p>mathlib already has an archive/ directory, and we could also add files to nolint.txt. But I think stuff in archive/ are not supposed to be used, and they also add to CI time. I think we do want things in archive/ to compile with latest mathlib; does LTE really takes much longer time to compile (per line) than mathlib? If we decide to place LTE in archive/, another main concern is whether it will add much maintenance work (to fix breakage from refactoring etc.).</p>



<a name="289843539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289843539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289843539">(Jul 16 2022 at 19:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253861">Thomas Browning</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289841092">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289841064">said</a>:</p>
<blockquote>
<p>Clausen and Scholze are using it in their new lectures on complex analytic geometry</p>
</blockquote>
<p>But they aren't using the liquid stuff, right?</p>
</blockquote>
<p>Oh, we absolutely are using the liquid stuff, everywhere! A better title for the course would have been "how to use liquid vector spaces to do complex geometry".</p>



<a name="289845811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289845811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289845811">(Jul 16 2022 at 20:18)</a>:</h4>
<p>If we want to keep on doing the bump step by step, the next problematic PR is probably <a href="https://github.com/leanprover-community/mathlib/pull/13762">#13762</a>, included in commit <code>c9c9fa15fec7ca18e9ec97306fb8764bfe988a7e</code>.  I've started in branch <code>bump_may_19</code> if someone wants to contribute.</p>



<a name="289846555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289846555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289846555">(Jul 16 2022 at 20:36)</a>:</h4>
<p>I fixed one file</p>



<a name="289846561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289846561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289846561">(Jul 16 2022 at 20:37)</a>:</h4>
<p>Is there a way to make <code>lean build</code> stop when it hits the first error?</p>



<a name="289846708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289846708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289846708">(Jul 16 2022 at 20:40)</a>:</h4>
<p>I don't know, but it would be nice. My current strategy is quite dumb, I do <code>leanproject build</code>, start doing something else checking every 5 minutes or so, and if I see an error a kill the process and rerun it, to see where the first error is.</p>



<a name="289848014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289848014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289848014">(Jul 16 2022 at 21:14)</a>:</h4>
<p>I'm really curious, <span class="user-mention" data-user-id="369530">@Peter Scholze</span> , why the reals are said to <em>not</em> be an analytic ring in Lecture 1 of Complex.pdf. I thought the point of the LTE was  essentially to prove this!</p>



<a name="289848224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289848224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289848224">(Jul 16 2022 at 21:20)</a>:</h4>
<p>I think they mean that it's not an analytic ring with respect to the spaces of signed Radon measures (the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">M</mi><mi mathvariant="double-struck">R</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{M}_{\mathbb{R}}(S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3322em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbb mtight">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>).</p>



<a name="289849370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289849370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289849370">(Jul 16 2022 at 21:53)</a>:</h4>
<p>Yeah, I know that it's not just the data of the underlying topological ring that is important, but it really surprised me to see such a claim with no foreshadowing that maybe one can choose other structure that does make it work.</p>



<a name="289849581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289849581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289849581">(Jul 16 2022 at 21:59)</a>:</h4>
<p>For instance, a forward pointer to Thm 3.11, where the family of p-liquid structures are given. Far be it for me to criticise, it was just felt odd. </p>
<p>Apologies for the OT noise!</p>



<a name="289850498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289850498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289850498">(Jul 16 2022 at 22:22)</a>:</h4>
<p>The next file for the bump is <code>src/for_mathlib/triangle_shift.lean</code>. The first missing instances are fixed by</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">add_group</span> <span class="o">(</span><span class="n">discrete</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">discrete_equiv.add_group</span>
</code></pre></div>
<p>Then there is a bunch of errors, but I am done for today.</p>



<a name="289866372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289866372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289866372">(Jul 17 2022 at 05:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130272">David Michael Roberts</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289848014">said</a>:</p>
<blockquote>
<p>I'm really curious, <span class="user-mention silent" data-user-id="369530">Peter Scholze</span> , why the reals are said to <em>not</em> be an analytic ring in Lecture 1 of Complex.pdf. I thought the point of the LTE was  essentially to prove this!</p>
</blockquote>
<p>Ah, thanks for pointing out that the presentation is weird here! We certainly did the foreshadowing live, but somehow it got lost when writing the notes. I will add something to the first lecture.</p>
<p>(By the way, that the naive guess for an analytic ring structure didn't work, but only a weird patch, is one reason I was worried about this liquid stuff...)</p>



<a name="289876298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289876298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289876298">(Jul 17 2022 at 10:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289866372">said</a>:</p>
<blockquote>
<p>(By the way, that the naive guess for an analytic ring structure didn't work, but only a weird patch, is one reason I was worried about this liquid stuff...)</p>
</blockquote>
<p>Oh, that's a cool bit of insight!</p>



<a name="289876614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289876614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289876614">(Jul 17 2022 at 10:19)</a>:</h4>
<p>Wait, <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span>, do you still need help on <code>minibump</code>?</p>



<a name="289876618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289876618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289876618">(Jul 17 2022 at 10:19)</a>:</h4>
<p>I was having cache troubles yesterday so couldn't actually do anything.</p>



<a name="289877143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289877143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289877143">(Jul 17 2022 at 10:32)</a>:</h4>
<p>I didn't touch the <code>pid.lean</code> file. You can work on it in <code>bump_may_19</code>, you need mathlib cache of course, but you can ignore the rest of LTE.</p>



<a name="289898799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289898799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289898799">(Jul 17 2022 at 18:52)</a>:</h4>
<p>Is it just the <code>enum_iso</code> thing? If so, I can do the bump</p>



<a name="289900459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289900459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289900459">(Jul 17 2022 at 19:32)</a>:</h4>
<p>If pid.lean compiles it is enough</p>



<a name="289907730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289907730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289907730">(Jul 17 2022 at 22:25)</a>:</h4>
<p>I think I see an issue</p>



<a name="289907808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289907808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289907808">(Jul 17 2022 at 22:27)</a>:</h4>
<p><a href="/user_uploads/3121/IoqiJMP5w9VCXVosw7VcIQxy/image.png">image.png</a> The way I wrote <code>to_fun</code> on <code>enum_iso</code> causes def-eq problems</p>
<div class="message_inline_image"><a href="/user_uploads/3121/IoqiJMP5w9VCXVosw7VcIQxy/image.png" title="image.png"><img src="/user_uploads/3121/IoqiJMP5w9VCXVosw7VcIQxy/image.png"></a></div>



<a name="289907869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289907869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289907869">(Jul 17 2022 at 22:29)</a>:</h4>
<p>Replacing it with the fix on <a href="https://github.com/leanprover-community/mathlib/pull/15454">#15454</a> seems to help unbreak things</p>



<a name="289908188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908188">(Jul 17 2022 at 22:38)</a>:</h4>
<p>A temporary solution, for the LTE, is to redefine the old <code>typein_iso</code> or whatever it was, and use it until we get to current mathlib (not so soon I am afraid)</p>



<a name="289908190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908190">(Jul 17 2022 at 22:38)</a>:</h4>
<p>At least CI will be happy</p>



<a name="289908363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908363">(Jul 17 2022 at 22:44)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/pull/89">https://github.com/leanprover-community/lean-liquid/pull/89</a></p>



<a name="289908394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908394">(Jul 17 2022 at 22:44)</a>:</h4>
<p>I just added the new <code>enum_iso</code> to the file</p>



<a name="289908426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908426">(Jul 17 2022 at 22:45)</a>:</h4>
<p>It's almost identical to the old one except it doesn't use pattern matching</p>



<a name="289908495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908495">(Jul 17 2022 at 22:46)</a>:</h4>
<p>I hope my ordinal code doesn't cause further trouble</p>



<a name="289908694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289908694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289908694">(Jul 17 2022 at 22:51)</a>:</h4>
<p>Oh, I didn't realize you're not allowed to push, I sent you an invitation. Can you push directly to the <code>minibump</code> branch? (<em>not</em> to master). Thanks!</p>



<a name="289928143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289928143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289928143">(Jul 18 2022 at 06:43)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> <span class="user-mention" data-user-id="459227">@Violeta Hernández</span> Thanks for working on this mathlib bump!</p>



<a name="289936987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289936987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289936987">(Jul 18 2022 at 08:36)</a>:</h4>
<p>I don't understand why the linter is failing <a href="https://github.com/leanprover-community/lean-liquid/runs/7385363324?check_suite_focus=true">here</a>. The error is just</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">runner</span><span class="bp">/</span><span class="n">work</span><span class="bp">/</span><span class="n">_temp</span><span class="bp">/</span><span class="n">e3ecbc93</span><span class="bp">-</span><span class="n">eeba</span><span class="bp">-</span><span class="mi">4</span><span class="n">fcc</span><span class="bp">-</span><span class="mi">8917</span><span class="bp">-</span><span class="n">c5dda939d11c.sh</span><span class="o">:</span> <span class="n">line</span> <span class="mi">2</span><span class="o">:</span>  <span class="mi">1881</span> <span class="n">Killed</span>                  <span class="n">lean</span> <span class="c1">--run scripts/lint_project.lean</span>
</code></pre></div>



<a name="289938567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289938567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289938567">(Jul 18 2022 at 08:54)</a>:</h4>
<p>Hmm, no idea either. <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> you are our linter expert. Do you think you could help us?</p>



<a name="289939311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289939311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289939311">(Jul 18 2022 at 09:02)</a>:</h4>
<p>I haven't seen that error before, but googling <code>exit code 137</code> suggest that it is an out-of-memory issue.</p>



<a name="289939738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289939738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289939738">(Jul 18 2022 at 09:07)</a>:</h4>
<p>I think that can sometimes be caused by a simp or instance loop</p>



<a name="289940960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289940960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289940960">(Jul 18 2022 at 09:23)</a>:</h4>
<p>In any case at least it compiles. Concerning the next bump, in branch <code>bump_may_19</code>, there is <code>src/for_mathlib/triangle_shift.lean</code> that I am not able to fix if someone is interested. All the changes come from <a href="https://github.com/leanprover-community/mathlib/pull/13762">#13762</a></p>



<a name="289941139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289941139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289941139">(Jul 18 2022 at 09:25)</a>:</h4>
<p>I think that might be the hardest bump. Once we figure out how we want to fix the shift stuff, the rest is "certainly doable".</p>



<a name="289946260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946260">(Jul 18 2022 at 10:22)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> Is one of the two bump-branches now in a mergeable state?</p>



<a name="289946268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946268">(Jul 18 2022 at 10:22)</a>:</h4>
<p>I lost track...</p>



<a name="289946314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946314">(Jul 18 2022 at 10:23)</a>:</h4>
<p><code>minibump</code> compiles. I've opened <a href="https://github.com/leanprover-community/lean-liquid/pull/90">https://github.com/leanprover-community/lean-liquid/pull/90</a> to check if CI is working, but there the linter problem we don't understand.</p>



<a name="289946343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946343">(Jul 18 2022 at 10:23)</a>:</h4>
<p>Aah, gotcha</p>



<a name="289946370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946370">(Jul 18 2022 at 10:24)</a>:</h4>
<p>It also says <code>thm95</code> is not sorry free, let me check</p>



<a name="289946490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946490">(Jul 18 2022 at 10:25)</a>:</h4>
<p>I don't think the shift stuff would be that hard to fix; we just need to explicitly write it out when coercing <code>Z</code> to <code>discrete Z</code>?</p>



<a name="289946598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946598">(Jul 18 2022 at 10:26)</a>:</h4>
<p>I think I can attempt on it if nobody is trying now.</p>



<a name="289946656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289946656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289946656">(Jul 18 2022 at 10:27)</a>:</h4>
<p>I am not working on it.</p>



<a name="289951091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289951091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289951091">(Jul 18 2022 at 11:19)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> If you want to help there, that would be great!</p>



<a name="289965107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289965107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289965107">(Jul 18 2022 at 13:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289946370">said</a>:</p>
<blockquote>
<p>It also says <code>thm95</code> is not sorry free, let me check</p>
</blockquote>
<p>Sorry, that's meant to be <code>liquid_tensor_experiment</code> not <code>thm95</code> (I missed one substitution; pull request submitted) and in any case it seems to have crashed rather than concluding there are sorries.</p>



<a name="289967646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289967646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289967646">(Jul 18 2022 at 13:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289946314">said</a>:</p>
<blockquote>
<p><code>minibump</code> compiles. I've opened <a href="https://github.com/leanprover-community/lean-liquid/pull/90">https://github.com/leanprover-community/lean-liquid/pull/90</a> to check if CI is working, but there the linter problem we don't understand.</p>
</blockquote>
<p><del>In this run, the linter failed to download the oleans built in the previous step. If the linter and sorry-checker have to do their checking without oleans, they're more likely to run of memory, which looks like what happened.</del></p>
<p><del>I'll figure out why it sometimes fails to download the build.</del></p>
<p>(This comment was wrong.)</p>



<a name="289968661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289968661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289968661">(Jul 18 2022 at 13:58)</a>:</h4>
<p><code>bump_may_19</code> should now compile.</p>



<a name="289968701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289968701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289968701">(Jul 18 2022 at 13:58)</a>:</h4>
<p>Wow! That's really helpful!</p>



<a name="289968731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289968731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289968731">(Jul 18 2022 at 13:58)</a>:</h4>
<p>I was really scared of the shift-bump.</p>



<a name="289968812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289968812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289968812">(Jul 18 2022 at 13:59)</a>:</h4>
<p>Please make a PR. And let's hope that CI plays along nicely.</p>



<a name="289969082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289969082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289969082">(Jul 18 2022 at 14:01)</a>:</h4>
<p>This is great!</p>



<a name="289969098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289969098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289969098">(Jul 18 2022 at 14:01)</a>:</h4>
<p>I was wrong above about the CI not downloading the oleans. Something else is going wrong in linting and sorry-checking.</p>



<a name="289969195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289969195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289969195">(Jul 18 2022 at 14:02)</a>:</h4>
<p>I think the next big hurdle in bumping is the recent changes to universe parameters in finite limits and colimits.</p>



<a name="289972054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289972054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289972054">(Jul 18 2022 at 14:21)</a>:</h4>
<p>I've created <a href="https://github.com/leanprover-community/lean-liquid/pull/94">https://github.com/leanprover-community/lean-liquid/pull/94</a></p>



<a name="289979096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979096">(Jul 18 2022 at 15:10)</a>:</h4>
<p>I've cleaned up <code>for_mathlib.pid</code> on my way to bumping it. Where should such a cleanup go? Should I open a PR to master?</p>



<a name="289979229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979229">(Jul 18 2022 at 15:11)</a>:</h4>
<p>Yes please!</p>



<a name="289979314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979314">(Jul 18 2022 at 15:12)</a>:</h4>
<p>It is already compiling in <a href="https://github.com/leanprover-community/lean-liquid/pull/94">https://github.com/leanprover-community/lean-liquid/pull/94</a></p>



<a name="289979393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979393">(Jul 18 2022 at 15:13)</a>:</h4>
<p>You can maybe check to see which modification looks better, but I guess it not so important</p>



<a name="289979491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979491">(Jul 18 2022 at 15:13)</a>:</h4>
<p>I am fixing some other files in that PR, so it will not compile, but hopefully it will soon do</p>



<a name="289979962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289979962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289979962">(Jul 18 2022 at 15:17)</a>:</h4>
<p>I mean that I did stuff for the bump, but it's actually orthogonal to the bump.</p>



<a name="289980098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289980098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289980098">(Jul 18 2022 at 15:18)</a>:</h4>
<p>Ah sorry, then yes!</p>



<a name="289990582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/289990582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#289990582">(Jul 18 2022 at 16:34)</a>:</h4>
<p>I am done for today, but the next error in <a href="https://github.com/leanprover-community/lean-liquid/pull/94">https://github.com/leanprover-community/lean-liquid/pull/94</a> is in <code>for_mathlib/derived/ext_coproducts.lean</code>.</p>



<a name="290004785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290004785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290004785">(Jul 18 2022 at 18:26)</a>:</h4>
<p>Thanks for all your help</p>



<a name="290018315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290018315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290018315">(Jul 18 2022 at 20:25)</a>:</h4>
<p>Re. the CI issues, I'm out of lean-time for today but here's what I learnt.</p>
<p>I've been building the <code>minibump</code> branch (commit <code>ba555ce</code>).</p>
<p>On a machine with 32 cores and 64 GB, everything builds fine and then linting works fine too.</p>
<p>We're clearly under memory pressure on CI as some builds crash at random times.</p>
<p>So building on beefier machines would probably fix things.</p>
<p>The confusing thing is that sometimes the build appears to work but the <code>olean</code>s that come out don't match the ones built on the high-memory machine. Some of them match those I get on the machine with 64 GB, some of them are unchanged from the cache we started with (from <code>master</code>) and some are different from both. Maybe we're going out-of-memory half-way through the build (silently; the build appears to be successful) and we're left with <code>olean</code>s from wherever we got up to?? Then the linting starts with the wrong <code>oleans</code> and eventually goes out-of-memory itself.</p>
<p>Anyway, the problem is with the building, not the linting, whatever it looks like in CI.</p>
<p>I didn't investigate what is causing the build to need more memory.</p>



<a name="290018546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290018546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290018546">(Jul 18 2022 at 20:26)</a>:</h4>
<p>Note that in mathlib we sometimes have to run lean twice to get accurate oleans</p>



<a name="290018767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290018767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290018767">(Jul 18 2022 at 20:28)</a>:</h4>
<p>Yeah, the first thing I tried was to run lean three times! Anyway, I checked and the build on the 64 GB machine of <code>ba555ce</code> is stable after running lean once.</p>



<a name="290036136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290036136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290036136">(Jul 18 2022 at 23:26)</a>:</h4>
<p>More on the CI failure: The project has been getting bigger over the last two months but, because we cache builds, we haven't had to build it from scratch since the time you stopped bumping mathlib.</p>
<p>Usually the cache from a version of the project with an older mathlib is not helpful, so when you did try to bump mathlib, that was the first time in two months that we've built the project without the benefit of a cache.</p>
<p>If I try to build <code>master</code> in CI without the benefit of a cache, the build fails in a similar way to how it fails on the <code>minibump</code> branch. This suggests that it's building from scratch that's the problem, rather than some issue in the newer version of mathlib.</p>
<p>So maybe something specific was added in the last two months that is causing memory problems, but maybe it's just that the project's grown and there's not actually a problem that's easily identifiable. Do the experts have opinions on how much memory the build should be using?</p>
<p>As a temporary fix, I've bumped swap on the build machines from 4 GB to 10 GB (which is about as high as it can reasonably go, since the disk is 14 GB; this commit is currently only on the <code>minibump</code> branch), which might get things going again. It's <a href="https://github.com/leanprover-community/lean-liquid/actions/runs/2693643931">running now</a>, but I have to go to bed before it'll finish (or time out).</p>



<a name="290044536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290044536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290044536">(Jul 19 2022 at 01:48)</a>:</h4>
<p>My understanding is that this build has succeeded?</p>



<a name="290062434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290062434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290062434">(Jul 19 2022 at 07:20)</a>:</h4>
<p><span class="user-mention" data-user-id="392126">@Ben Toner</span> Thanks so much for debugging this. Your analysis makes a lot of sense!</p>



<a name="290062649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290062649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290062649">(Jul 19 2022 at 07:23)</a>:</h4>
<p>I think we should merge your change into <code>bump_may_19</code>. That's the mathlib bump that has a PR attached to it.</p>



<a name="290078666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290078666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290078666">(Jul 19 2022 at 10:21)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> did you cherry-pick Ben's commit onto your branch?</p>



<a name="290080158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290080158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290080158">(Jul 19 2022 at 10:37)</a>:</h4>
<p>I've added my changes to <code>bump_may_19</code> (cc. <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span>).</p>



<a name="290080508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290080508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290080508">(Jul 19 2022 at 10:41)</a>:</h4>
<p>I made a separate <a href="https://github.com/leanprover-community/lean-liquid/pull/99">pull request</a> to get the CI improvements on master.  Alternatively you'll get them when you merge <code>bump_may_19</code>.</p>



<a name="290080648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290080648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290080648">(Jul 19 2022 at 10:43)</a>:</h4>
<p>Thanks! The failure in <code>bump_may_19</code> is genuine, and I am not sure I understand how to fix it.</p>



<a name="290080881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290080881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290080881">(Jul 19 2022 at 10:46)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> You are now talking about the error in <code>ext_coproducts</code>? Not some random CI error, right?</p>



<a name="290081276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290081276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290081276">(Jul 19 2022 at 10:51)</a>:</h4>
<p>I'm building this branch now</p>



<a name="290084044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290084044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290084044">(Jul 19 2022 at 11:19)</a>:</h4>
<p>Yep</p>



<a name="290084200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290084200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290084200">(Jul 19 2022 at 11:20)</a>:</h4>
<p>Ok, my compile got there. So I'll work on them now.</p>



<a name="290085728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290085728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290085728">(Jul 19 2022 at 11:36)</a>:</h4>
<p><code>ext_coproducts</code> builds again</p>



<a name="290086409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290086409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290086409">(Jul 19 2022 at 11:42)</a>:</h4>
<p><code>single_coproducts</code> done</p>



<a name="290089978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290089978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290089978">(Jul 19 2022 at 12:20)</a>:</h4>
<p>Fixed a whole bunch of other files. Still going.</p>



<a name="290100243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290100243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290100243">(Jul 19 2022 at 13:42)</a>:</h4>
<p>I pushed wip on <code>QprimeFP</code>. It's almost done.</p>



<a name="290100503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290100503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290100503">(Jul 19 2022 at 13:44)</a>:</h4>
<p>Let me know when it builds. I'll merge that PR in a heartbeat</p>



<a name="290103627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290103627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290103627">(Jul 19 2022 at 14:08)</a>:</h4>
<p>I have to do something else for ~ 1hr</p>



<a name="290103730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290103730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290103730">(Jul 19 2022 at 14:08)</a>:</h4>
<p>What's the next file that needs fixing?</p>



<a name="290103795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290103795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290103795">(Jul 19 2022 at 14:09)</a>:</h4>
<p><code>QprimeFP</code> is done</p>



<a name="290103808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290103808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290103808">(Jul 19 2022 at 14:09)</a>:</h4>
<p>Let me see what happens next</p>



<a name="290107564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290107564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290107564">(Jul 19 2022 at 14:34)</a>:</h4>
<p>I'm back</p>



<a name="290108813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290108813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290108813">(Jul 19 2022 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> How's it looking?</p>



<a name="290109388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290109388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290109388">(Jul 19 2022 at 14:46)</a>:</h4>
<p>I am waiting, for some reason my computer is very slow</p>



<a name="290109451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290109451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290109451">(Jul 19 2022 at 14:46)</a>:</h4>
<p>Heat wave?</p>



<a name="290109458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290109458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290109458">(Jul 19 2022 at 14:46)</a>:</h4>
<p>I am also trying to do something but my pc is very slow.</p>



<a name="290109494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290109494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290109494">(Jul 19 2022 at 14:47)</a>:</h4>
<p>On which branch are you working, <span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> ?</p>



<a name="290110489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290110489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290110489">(Jul 19 2022 at 14:53)</a>:</h4>
<p>OK, the next one is <code>src/Lbar/ext_aux4.lean</code>, it should be easy.</p>



<a name="290110514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290110514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290110514">(Jul 19 2022 at 14:53)</a>:</h4>
<p>The branch is <code>bump_may_19</code></p>



<a name="290110626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290110626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290110626">(Jul 19 2022 at 14:54)</a>:</h4>
<p>Oh boy, we're at the <code>Lbar/ext_foo</code> files! The end is in sight!</p>



<a name="290111288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290111288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290111288">(Jul 19 2022 at 14:58)</a>:</h4>
<p>Its <code>projective_resolution.lean: is_zero_iff_forall_zero</code> that it is super slow</p>



<a name="290111961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290111961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290111961">(Jul 19 2022 at 15:02)</a>:</h4>
<p>That doesn't sound like it ought to be slow.</p>



<a name="290112644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290112644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290112644">(Jul 19 2022 at 15:07)</a>:</h4>
<p>Ah, maybe it's literally taking forever...</p>



<a name="290113514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113514">(Jul 19 2022 at 15:12)</a>:</h4>
<p>Are there <code>{ tidy }</code> proofs in there?</p>



<a name="290113536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113536">(Jul 19 2022 at 15:13)</a>:</h4>
<p>I had to replace those in <code>projective_resolution_module.lean</code></p>



<a name="290113683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113683">(Jul 19 2022 at 15:14)</a>:</h4>
<p>yes, it's their fault</p>



<a name="290113758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113758">(Jul 19 2022 at 15:14)</a>:</h4>
<p>You can probably copy-pasta what I did in that other file</p>



<a name="290113854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113854">(Jul 19 2022 at 15:15)</a>:</h4>
<p>If <code>tidy</code> has to try <code>rcases</code>, it usually ends up being too slow. You could use clever <code>rintros</code>, <code>rcases</code> or <code>ext</code> with rcases paterns to help it along.</p>



<a name="290113900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113900">(Jul 19 2022 at 15:15)</a>:</h4>
<p>And with how <code>discrete</code> was  changed, I can imagine that there is some <code>rcases</code> step missing.</p>



<a name="290113907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113907">(Jul 19 2022 at 15:15)</a>:</h4>
<p>I think we need to teach <code>tidy</code> to do cases on <code>foo : discrete X</code></p>



<a name="290113957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290113957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290113957">(Jul 19 2022 at 15:16)</a>:</h4>
<p>you can do <code>local attribute [tidy] tactic.case_bash</code> but that slows things WAY down</p>



<a name="290114087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114087">(Jul 19 2022 at 15:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290110514">said</a>:</p>
<blockquote>
<p>The branch is <code>bump_may_19</code></p>
</blockquote>
<p>Is it normal that if I work on <code>minibump</code> then after 2/3 minutes I can work, but <code>master</code> takes forever to open any file?</p>



<a name="290114090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114090">(Jul 19 2022 at 15:16)</a>:</h4>
<p>it's done</p>



<a name="290114154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114154">(Jul 19 2022 at 15:17)</a>:</h4>
<p>Note that <code>minibump</code> is completely superseded by the other branch</p>



<a name="290114348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114348">(Jul 19 2022 at 15:18)</a>:</h4>
<p>But I ended up triying some out of dispair...</p>



<a name="290114478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114478">(Jul 19 2022 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> Those branches use different mathlibs, so you'll need to fetch mathlib caches</p>



<a name="290114496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114496">(Jul 19 2022 at 15:19)</a>:</h4>
<p>And your LTE oleans will also change</p>



<a name="290114513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114513">(Jul 19 2022 at 15:19)</a>:</h4>
<p>So I'm not surprised that this causes headaches</p>



<a name="290114621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114621">(Jul 19 2022 at 15:20)</a>:</h4>
<p>Oh right. I did not think at the different mathlib's. Let me try to get all straight.</p>



<a name="290114765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114765">(Jul 19 2022 at 15:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290114090">said</a>:</p>
<blockquote>
<p>it's done</p>
</blockquote>
<p>Do you mean the entire bump? Or just that file?</p>



<a name="290114805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114805">(Jul 19 2022 at 15:21)</a>:</h4>
<p>The file</p>



<a name="290114845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290114845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290114845">(Jul 19 2022 at 15:21)</a>:</h4>
<p>Looking for the next error</p>



<a name="290115816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290115816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290115816">(Jul 19 2022 at 15:27)</a>:</h4>
<p>I suppose that running <code>leanproject get-mathlib-cache</code> would update mathlib to the latest mathlib, and this I do not want, right? And that the script <code>fetch_olean_cahce</code> only updates LTE's ones...</p>



<a name="290116140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116140">(Jul 19 2022 at 15:29)</a>:</h4>
<p><code>leanproject get-mathlib-cache</code> should do the right thing, it takes mathlib as indicated in <code>leanpkg.toml</code></p>



<a name="290116311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116311">(Jul 19 2022 at 15:30)</a>:</h4>
<p>but then you have to recompile all the project, there is no cache for nonmaster branch</p>



<a name="290116330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116330">(Jul 19 2022 at 15:30)</a>:</h4>
<p>at least not yet</p>



<a name="290116370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116370">(Jul 19 2022 at 15:30)</a>:</h4>
<p>but if I work in master I should have no problems, then.</p>



<a name="290116504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116504">(Jul 19 2022 at 15:31)</a>:</h4>
<p>Yep, in master you can use <code>script/get_cache.sh</code></p>



<a name="290116751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290116751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290116751">(Jul 19 2022 at 15:33)</a>:</h4>
<p>Let me try again, I suspect that the 42 degrees we have today in Italy don't help my laptop... <span aria-label="sweat" class="emoji emoji-1f613" role="img" title="sweat">:sweat:</span></p>



<a name="290117280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290117280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290117280">(Jul 19 2022 at 15:36)</a>:</h4>
<p>The bump compiles for me.</p>



<a name="290128446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290128446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290128446">(Jul 19 2022 at 16:50)</a>:</h4>
<p>Nice!</p>



<a name="290128529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290128529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290128529">(Jul 19 2022 at 16:51)</a>:</h4>
<p>Let's hope it passes CI!</p>



<a name="290143761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290143761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290143761">(Jul 19 2022 at 18:49)</a>:</h4>
<p>Mmm, CI failed</p>



<a name="290143826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290143826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290143826">(Jul 19 2022 at 18:49)</a>:</h4>
<p>With a mysterious error</p>



<a name="290143848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290143848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290143848">(Jul 19 2022 at 18:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/runs/7412687246?check_suite_focus=true">https://github.com/leanprover-community/lean-liquid/runs/7412687246?check_suite_focus=true</a></p>



<a name="290143988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290143988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290143988">(Jul 19 2022 at 18:50)</a>:</h4>
<p>I've relaunched it</p>



<a name="290149232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149232">(Jul 19 2022 at 19:30)</a>:</h4>
<p>Hmm, it got an error again</p>



<a name="290149285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149285">(Jul 19 2022 at 19:30)</a>:</h4>
<p>It looks like it's still building?</p>



<a name="290149331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149331">(Jul 19 2022 at 19:31)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/runs/7412687246?check_suite_focus=true#step:10:27">https://github.com/leanprover-community/lean-liquid/runs/7412687246?check_suite_focus=true#step:10:27</a></p>



<a name="290149332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149332">(Jul 19 2022 at 19:31)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/runs/7415897270?check_suite_focus=true">https://github.com/leanprover-community/lean-liquid/runs/7415897270?check_suite_focus=true</a></p>



<a name="290149397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149397">(Jul 19 2022 at 19:31)</a>:</h4>
<p>Ooh, that's a different run</p>



<a name="290149413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149413">(Jul 19 2022 at 19:31)</a>:</h4>
<p>Ooh wait... lol</p>



<a name="290149472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290149472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290149472">(Jul 19 2022 at 19:32)</a>:</h4>
<p>I should learn to read messages in order.</p>



<a name="290156771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290156771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290156771">(Jul 19 2022 at 20:34)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">date</span><span class="o">:</span> <span class="n">extra</span> <span class="n">operand</span> <span class="bp">‘%</span><span class="n">T</span><span class="bp">’</span>
<span class="n">Starting</span> <span class="n">build</span> <span class="n">at</span>
<span class="n">Try</span> <span class="bp">'</span><span class="n">date</span> <span class="c1">--help' for more information.</span>
</code></pre></div>
<p>That's my typo, sorry - <a href="https://github.com/leanprover-community/lean-liquid/pull/100">https://github.com/leanprover-community/lean-liquid/pull/100</a>. Doesn't affect anything.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">runner</span><span class="bp">/</span><span class="n">work</span><span class="bp">/</span><span class="n">_temp</span><span class="bp">/</span><span class="mi">9430</span><span class="n">b2ea</span><span class="bp">-</span><span class="mi">94</span><span class="n">d9</span><span class="bp">-</span><span class="mi">4500</span><span class="bp">-</span><span class="n">b5f7</span><span class="bp">-</span><span class="n">bc4ab48a1515.sh</span><span class="o">:</span> <span class="n">line</span> <span class="mi">6</span><span class="o">:</span>  <span class="mi">2229</span> <span class="n">Killed</span>                  <span class="n">lean</span> <span class="c1">--json --make src</span>
      <span class="mi">2230</span> <span class="n">Done</span>                    <span class="bp">|</span> <span class="n">python</span> <span class="n">scripts</span><span class="bp">/</span><span class="n">detect_errors.py</span>
</code></pre></div>
<p>That's the OOM killer. Guess the extra swap isn't enough.</p>



<a name="290157392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290157392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290157392">(Jul 19 2022 at 20:39)</a>:</h4>
<p>So lean goes out of memory on a machine with 7 GB RAM and 10 GB swap. Can you please ask the experts if that is reasonable for a project of this size?</p>



<a name="290162243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290162243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290162243">(Jul 19 2022 at 21:19)</a>:</h4>
<p>To add more colour to that question, I'm asking for help because it's unclear to me if the next step should be</p>
<ol>
<li>try to figure out if we're doing something wrong that causes memory usage to be high; or</li>
<li>figure out how to deal with the fact that the project now needs more memory to build.</li>
</ol>



<a name="290162544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290162544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290162544">(Jul 19 2022 at 21:21)</a>:</h4>
<p>Mathlib compiles with <code>-T150000</code> to cause a timeout in case of too many allocations. Would that be useful for debugging here?</p>



<a name="290162862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290162862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290162862">(Jul 19 2022 at 21:24)</a>:</h4>
<p>I definitely get timeouts compiling with <code>-T150000</code> locally. A higher number might be better, as long as the OOM killer doesn't kick in.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">collares</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">liquid</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">AddCommGroup</span><span class="bp">/</span><span class="n">explicit_limits.lean</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">9</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">collares</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">liquid</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">AddCommGroup</span><span class="bp">/</span><span class="n">explicit_limits.lean</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">11</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">collares</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">liquid</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">pullbacks.lean</span><span class="o">:</span><span class="mi">123</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span>
<span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">collares</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">liquid</span><span class="bp">/</span><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">pullbacks.lean</span><span class="o">:</span><span class="mi">62</span><span class="o">:</span><span class="mi">41</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="o">(</span><span class="n">deterministic</span><span class="o">)</span> <span class="n">timeout</span>
<span class="bp">...</span>
</code></pre></div>



<a name="290163126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163126">(Jul 19 2022 at 21:26)</a>:</h4>
<p>FWIW, my settings in VScode are 16G memory and 400000 time limit, and I'm quite sure that can handle anything in the repo.</p>



<a name="290163211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163211">(Jul 19 2022 at 21:27)</a>:</h4>
<p>Where does that python script come from?</p>



<a name="290163223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163223">(Jul 19 2022 at 21:27)</a>:</h4>
<p>BTW Adam: do you manage to have these VSCode settings not to be uploaded in git? Did you manually add json to gitignore?</p>



<a name="290163369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163369">(Jul 19 2022 at 21:28)</a>:</h4>
<p>Honestly I have no clue where vscode stores these settings. I suppose I changed them globally so it shouldn't be in the repo itself.</p>



<a name="290163475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163475">(Jul 19 2022 at 21:29)</a>:</h4>
<p>The problem is that AFAIU workshop settings overwrite user settings, and the workshop ones are shared on a git repo.</p>



<a name="290163568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163568">(Jul 19 2022 at 21:30)</a>:</h4>
<p>But if you tell me you managed to, I will try to do the same myself.</p>



<a name="290163627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163627">(Jul 19 2022 at 21:30)</a>:</h4>
<p>Oh I see. I only use vscode for Lean (and emacs for everything else), so I don't mind setting all of my settings globally :)</p>



<a name="290163835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290163835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290163835">(Jul 19 2022 at 21:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="325367">Mauricio Collares</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290162544">said</a>:</p>
<blockquote>
<p>Mathlib compiles with <code>-T150000</code> to cause a timeout in case of too many allocations. Would that be useful for debugging here?</p>
</blockquote>
<p>Thanks!! I've started two builds in CI with <code>-T200000</code> (since you already tested <code>-T150000</code> locally) and <code>-T400000</code>.</p>



<a name="290164072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290164072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290164072">(Jul 19 2022 at 21:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290163211">said</a>:</p>
<blockquote>
<p>Where does that python script come from?</p>
</blockquote>
<p>Which Python script? <a href="https://github.com/leanprover-community/lean-liquid/blob/master/scripts/detect_errors.py">This</a> one?</p>



<a name="290164166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290164166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290164166">(Jul 19 2022 at 21:35)</a>:</h4>
<p>Oh yes, that's the one. I'm just trying to understand the CI script</p>



<a name="290164447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290164447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290164447">(Jul 19 2022 at 21:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="392126">Ben Toner</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290163835">said</a>:</p>
<blockquote>
<p>Thanks!! I've started two builds in CI with -T200000 (since you already tested -T150000 locally) and -T400000.</p>
</blockquote>
<p>Then perhaps I should mention that I tested <code>-T150000</code> only on the <code>bump_may_19</code> branch, because Lean decides to rebuild a lot of mathlib when I test lean-liquid master here (yes, even after <code>leanproject get-m</code>).</p>



<a name="290165243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290165243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290165243">(Jul 19 2022 at 21:44)</a>:</h4>
<p>(deleted)</p>



<a name="290165353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290165353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290165353">(Jul 19 2022 at 21:45)</a>:</h4>
<p><span class="user-mention" data-user-id="392126">@Ben Toner</span> what are the problematic declarations? Maybe I can try to speed them up (if that helps)? (sorry, I pinged the wrong person, I meant to ping <span class="user-mention" data-user-id="325367">@Mauricio Collares</span> !)</p>



<a name="290165517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290165517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290165517">(Jul 19 2022 at 21:47)</a>:</h4>
<p>For now, the ones <span class="user-mention" data-user-id="325367">@Mauricio Collares</span> mentions above. Then whatever turns up <a href="https://github.com/leanprover-community/lean-liquid/actions">here</a> in a couple of hours, if those builds do fail with deterministic timeouts.</p>



<a name="290165664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290165664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290165664">(Jul 19 2022 at 21:48)</a>:</h4>
<p>Well... I'm still trying to build the branch, so don't hold your breath!</p>



<a name="290171145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290171145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290171145">(Jul 19 2022 at 22:46)</a>:</h4>
<p>The branch built successfully on my machine with the same command that's used in the CI script. I merged master (which includes Ben's typo fix) to the bump branch. Let's hope that CI is <em>finally</em> happy!</p>



<a name="290171510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290171510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mauricio Collares <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290171510">(Jul 19 2022 at 22:50)</a>:</h4>
<p>The problem, as I understand it, is that the CI machine runs out of memory but doesn't give a detailed error message, so fixing the OOM is hard. If your machine has a lot of memory, that might not be a problem locally. Adding <code>-T200000</code> provides clues of what things need to be optimized to make it fit into the CI memory budget (the CI run triggered by Ben shows at least one timeout with this flag). But I'm hoping it works!</p>



<a name="290175036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290175036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ben Toner <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290175036">(Jul 19 2022 at 23:38)</a>:</h4>
<p>Okay, progress! (Thanks <span class="user-mention" data-user-id="325367">@Mauricio Collares</span>!) There are deterministic timeouts <a href="https://github.com/leanprover-community/lean-liquid/runs/7418215358?check_suite_focus=true">in CI</a> even with <code>-T400000</code>.</p>



<a name="290184632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290184632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290184632">(Jul 20 2022 at 01:27)</a>:</h4>
<p>I tried speeding up some of the proofs that were causing timeouts. I hope this helps!</p>



<a name="290197622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290197622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290197622">(Jul 20 2022 at 06:16)</a>:</h4>
<p>I can confirm that the branch also builds on my machine. How do we get it past CI?</p>



<a name="290201009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290201009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290201009">(Jul 20 2022 at 07:10)</a>:</h4>
<p>Can we bundle up our locally built oleans and push those to the shared storage (I know this is a pretty ugly hack).</p>



<a name="290202539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290202539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290202539">(Jul 20 2022 at 07:32)</a>:</h4>
<p>I pushed a commit bumping the swap size to 14. Let's see if that helps.</p>



<a name="290202587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290202587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290202587">(Jul 20 2022 at 07:33)</a>:</h4>
<p>Answer: nope<br>
<a href="https://github.com/leanprover-community/lean-liquid/runs/7424346509?check_suite_focus=true#step:15:38">https://github.com/leanprover-community/lean-liquid/runs/7424346509?check_suite_focus=true#step:15:38</a></p>



<a name="290208599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290208599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290208599">(Jul 20 2022 at 08:48)</a>:</h4>
<p>Scott helped us use the Hoskinson runners, which have a lot more juice. Things are looking good now!</p>



<a name="290208894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290208894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290208894">(Jul 20 2022 at 08:52)</a>:</h4>
<p>It looks like everything worked except pushing to Azure: <a href="https://github.com/leanprover-community/lean-liquid/runs/7424647087?check_suite_focus=true">https://github.com/leanprover-community/lean-liquid/runs/7424647087?check_suite_focus=true</a></p>



<a name="290208965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290208965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290208965">(Jul 20 2022 at 08:53)</a>:</h4>
<p>It seems to be hanging on that step?</p>



<a name="290209054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290209054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290209054">(Jul 20 2022 at 08:54)</a>:</h4>
<p>I'm too impatient. It worked</p>



<a name="290214440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290214440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290214440">(Jul 20 2022 at 09:59)</a>:</h4>
<p>Do we know why it is so slower?</p>



<a name="290215218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290215218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290215218">(Jul 20 2022 at 10:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/pull/94">https://github.com/leanprover-community/lean-liquid/pull/94</a> is green!</p>



<a name="290218079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290218079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290218079">(Jul 20 2022 at 10:41)</a>:</h4>
<p>Quick, merge it!</p>



<a name="290230077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290230077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290230077">(Jul 20 2022 at 12:51)</a>:</h4>
<p>It's merged.</p>



<a name="290230399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290230399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290230399">(Jul 20 2022 at 12:54)</a>:</h4>
<p>Let's try one week later.</p>



<a name="290232520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290232520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290232520">(Jul 20 2022 at 13:14)</a>:</h4>
<p>Maybe we should take slightly bigger steps now?</p>



<a name="290232540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290232540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290232540">(Jul 20 2022 at 13:14)</a>:</h4>
<p>I think we can take 2 or 3 weeks in one go.</p>



<a name="290245041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290245041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290245041">(Jul 20 2022 at 14:46)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> Did you already start a new branch?</p>



<a name="290245088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290245088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290245088">(Jul 20 2022 at 14:47)</a>:</h4>
<p>Yes, I can publish it if you want. Nothing special at the moment.</p>



<a name="290245148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290245148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290245148">(Jul 20 2022 at 14:47)</a>:</h4>
<p>Yes, please post the branch name, if only to prevent people from starting a competing branch</p>



<a name="290245395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290245395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290245395">(Jul 20 2022 at 14:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/pull/103">https://github.com/leanprover-community/lean-liquid/pull/103</a><br>
the branch is <code>bump_june_10</code></p>



<a name="290256942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290256942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290256942">(Jul 20 2022 at 16:05)</a>:</h4>
<p>I am stopping to work at the bump. The first error is now in <code>condensed/exact</code> .</p>



<a name="290268951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290268951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290268951">(Jul 20 2022 at 17:30)</a>:</h4>
<p>Oww, that one seems pretty nasty.</p>



<a name="290269106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290269106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290269106">(Jul 20 2022 at 17:31)</a>:</h4>
<p>What's the mathlib change that makes this bad?</p>



<a name="290269165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290269165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290269165">(Jul 20 2022 at 17:32)</a>:</h4>
<p>Je ne sais pas</p>



<a name="290269423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290269423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290269423">(Jul 20 2022 at 17:33)</a>:</h4>
<p>It doesn't look like <code>cospan_ext</code> ever changed: <a href="https://mathlib-changelog.org/def/category_theory.limits.cospan_ext">https://mathlib-changelog.org/def/category_theory.limits.cospan_ext</a></p>



<a name="290270226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290270226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290270226">(Jul 20 2022 at 17:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/289969195">said</a>:</p>
<blockquote>
<p>I think the next big hurdle in bumping is the recent changes to universe parameters in finite limits and colimits.</p>
</blockquote>
<p>This is later, isn't it?</p>



<a name="290270494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290270494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290270494">(Jul 20 2022 at 17:41)</a>:</h4>
<p>I'm trying to look into the error for this bump, but I have to build first.</p>



<a name="290270785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290270785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290270785">(Jul 20 2022 at 17:43)</a>:</h4>
<p>I think <code>fetch_olean_cache</code> should now work!</p>



<a name="290270885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290270885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290270885">(Jul 20 2022 at 17:44)</a>:</h4>
<p>it's doing something!</p>



<a name="290274427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290274427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290274427">(Jul 20 2022 at 18:08)</a>:</h4>
<p>The issue is in <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.limits.cospan_comp_iso">docs#category_theory.limits.cospan_comp_iso</a> and the issue is here: <a href="https://github.com/leanprover-community/mathlib/pull/14351">https://github.com/leanprover-community/mathlib/pull/14351</a></p>



<a name="290274550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290274550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290274550">(Jul 20 2022 at 18:09)</a>:</h4>
<p>The composition with with <code>walking_cospan_functor</code> was removed in a later PR <a href="https://github.com/leanprover-community/mathlib/pull/15067">#15067</a> but that is the one that generalizes a bunch of universes</p>



<a name="290274752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290274752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290274752">(Jul 20 2022 at 18:10)</a>:</h4>
<p>A temporary fix is to use <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.limits.diagram_iso_cospan">docs#category_theory.limits.diagram_iso_cospan</a> as well, but we will have to modify this again when we go to the next bump</p>



<a name="290275403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290275403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290275403">(Jul 20 2022 at 18:14)</a>:</h4>
<p>I'll push the temporary fix. I hope this doesn't cause build issues in other places, but I guess we'll see!</p>



<a name="290275850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290275850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290275850">(Jul 20 2022 at 18:17)</a>:</h4>
<p>BTW, it's possible that the <code>diagram_iso_cospan</code> will be harmless later on... I guess we shall see :)</p>



<a name="290276049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290276049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290276049">(Jul 20 2022 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Can you leave a comment near the code describing this diagnosis?</p>



<a name="290276071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290276071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290276071">(Jul 20 2022 at 18:18)</a>:</h4>
<p>And thanks for debugging!</p>



<a name="290276147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290276147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290276147">(Jul 20 2022 at 18:19)</a>:</h4>
<p>I wrote this in the code itself</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="c1">-- This next line can be removed later if/when we generalize universe parameters in finite (co)limits</span>
  <span class="n">refine</span> <span class="n">_</span> <span class="bp">≪≫</span> <span class="o">(</span><span class="n">diagram_iso_cospan</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
</code></pre></div>



<a name="290276469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290276469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290276469">(Jul 20 2022 at 18:21)</a>:</h4>
<p>Honestly, I'm a little scared of bumping past <a href="https://github.com/leanprover-community/mathlib/pull/15067">#15067</a> <span aria-label="scared" class="emoji emoji-1f628" role="img" title="scared">:scared:</span></p>



<a name="290276609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290276609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290276609">(Jul 20 2022 at 18:22)</a>:</h4>
<p>I think that on a system with enough RAM to have two clones open at the same time, it should be doable.</p>



<a name="290279450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290279450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290279450">(Jul 20 2022 at 18:41)</a>:</h4>
<p>After this bump is done we can maybe try the PR immediately before <a href="https://github.com/leanprover-community/mathlib/pull/15067">#15067</a>, so later we can concentrate on it.</p>



<a name="290284811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290284811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290284811">(Jul 20 2022 at 19:17)</a>:</h4>
<p>It should compile now</p>



<a name="290285595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290285595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290285595">(Jul 20 2022 at 19:23)</a>:</h4>
<p>Ooh, that went fast! Cool!</p>



<a name="290338509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290338509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290338509">(Jul 21 2022 at 06:33)</a>:</h4>
<p>I'm starting on <code>bump_jul_03</code></p>



<a name="290356772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290356772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290356772">(Jul 21 2022 at 10:09)</a>:</h4>
<p>Are you working on it? I have some time now.</p>



<a name="290362652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290362652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290362652">(Jul 21 2022 at 11:24)</a>:</h4>
<p>Sorry, I was gone for lunch</p>



<a name="290362675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290362675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290362675">(Jul 21 2022 at 11:25)</a>:</h4>
<p>Now I'm back. How about you?</p>



<a name="290362718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290362718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290362718">(Jul 21 2022 at 11:25)</a>:</h4>
<p>Let me push what I've done.</p>



<a name="290363283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290363283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290363283">(Jul 21 2022 at 11:31)</a>:</h4>
<p>I am fixing <code>col_exact</code>, hopefully the errors are easy to fix since it's a pain to work with that file.</p>



<a name="290364441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290364441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290364441">(Jul 21 2022 at 11:42)</a>:</h4>
<p>OK, it should be done and pushed.</p>



<a name="290364485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290364485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290364485">(Jul 21 2022 at 11:42)</a>:</h4>
<p>I am stopping for at least half an hour</p>



<a name="290364990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290364990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290364990">(Jul 21 2022 at 11:47)</a>:</h4>
<p>Okido, I'll take over</p>



<a name="290369115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290369115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290369115">(Jul 21 2022 at 12:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290363283">said</a>:</p>
<blockquote>
<p>I am fixing <code>col_exact</code>, hopefully the errors are easy to fix since it's a pain to work with that file.</p>
</blockquote>
<p>Yes, this might be the most painful file in the entire project.</p>



<a name="290371633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290371633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290371633">(Jul 21 2022 at 12:56)</a>:</h4>
<p>I fixed two more files. We're converging towards the end of this bump <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="290373238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290373238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290373238">(Jul 21 2022 at 13:11)</a>:</h4>
<p><code>Qprime_isoms.lean</code> is done</p>



<a name="290376395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290376395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290376395">(Jul 21 2022 at 13:39)</a>:</h4>
<p>It's done!</p>



<a name="290376664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290376664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290376664">(Jul 21 2022 at 13:41)</a>:</h4>
<p>Shall we start the universe-bump on top of this one?</p>



<a name="290377004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290377004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290377004">(Jul 21 2022 at 13:44)</a>:</h4>
<p>I'm starting on <code>bump-universes</code></p>



<a name="290386669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290386669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290386669">(Jul 21 2022 at 14:57)</a>:</h4>
<p>Can someone reproduce the following?</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>leanproject get lean-liquid:bump-universes
<span class="nb">cd</span> lean-liquid_bump-universes
leanproject build
</code></pre></div>
<p>And lean starts compiling mathlib.</p>



<a name="290389613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290389613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290389613">(Jul 21 2022 at 15:19)</a>:</h4>
<p>is it <a href="#narrow/stream/113488-general/topic/.22saving.20olean.22.3F">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/.22saving.20olean.22.3F</a>?</p>



<a name="290392253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290392253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290392253">(Jul 21 2022 at 15:37)</a>:</h4>
<p>Yeah, that might be the issue. In any case, it looks like only a few files had to be compiled in mathlib, so it's not all that bad</p>



<a name="290399094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290399094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290399094">(Jul 21 2022 at 16:25)</a>:</h4>
<p>I must say that I am quite unhappy now with the decision to make the universe parameters in diagrams for all finite (co)limits be 0.<br>
What happens, for example, when you have a category <code>C : Type u</code> and <code>category.{v} C</code> which has all products (which means all limits indexed by <code>discrete X</code> where <code>X : Type v</code>), and now you want to identify the binary product with a product over a two-element type?</p>



<a name="290404461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290404461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290404461">(Jul 21 2022 at 17:04)</a>:</h4>
<p>Another one: Suppose I know that a functor <code>F</code> from <code>C</code> to <code>D</code> preserves limits of shape <code>J</code> whenever <code>C</code> has all limits of shape <code>J</code>. How can I deduce that <code>F</code> preserves finite limits if <code>C</code> has all finite limits?</p>



<a name="290404620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290404620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290404620">(Jul 21 2022 at 17:05)</a>:</h4>
<p>Do I now have to prove that <code>F</code> preserves limits of shape <code>J</code> for both <code>J : Type v</code> and <code>J : Type 0</code>?</p>
<p>I'm frustrated</p>



<a name="290405713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290405713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290405713">(Jul 21 2022 at 17:12)</a>:</h4>
<p>Hmmz, shouldn't there be generic instances for that?</p>



<a name="290405749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290405749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290405749">(Jul 21 2022 at 17:13)</a>:</h4>
<p>I understand your frustration.</p>



<a name="290405794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290405794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290405794">(Jul 21 2022 at 17:13)</a>:</h4>
<p>I really wonder whether Lean should have extra support for quantifying over universes less than a fixed universe <code>u</code>.</p>



<a name="290405938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290405938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290405938">(Jul 21 2022 at 17:14)</a>:</h4>
<p>We can already model this using <code>max u v</code>, so it wouldn't increase the strength (or even the amount of computations) of the kernel. But <code>max u v</code> doesn't scale from a UI point of view.</p>



<a name="290406188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290406188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290406188">(Jul 21 2022 at 17:16)</a>:</h4>
<p>yeah I found  <code>preserves_finite_limits_of_preserves_finite_limits_of_size</code></p>



<a name="290406207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290406207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290406207">(Jul 21 2022 at 17:16)</a>:</h4>
<p>Still, it feels like this change didn't really make anything easier!</p>



<a name="290407921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290407921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290407921">(Jul 21 2022 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Do you think we should forgo this bump, and "fix" mathlib first?</p>



<a name="290408435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290408435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290408435">(Jul 21 2022 at 17:35)</a>:</h4>
<p>I don't know. But here is another issue: The stuff in <code>category_theory/limits/concrete.lean</code> was never generalized.</p>



<a name="290409072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290409072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290409072">(Jul 21 2022 at 17:41)</a>:</h4>
<p>Ouch! That's annoying.</p>



<a name="290409338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290409338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290409338">(Jul 21 2022 at 17:43)</a>:</h4>
<p>actually, maybe that file is okay (I got it to work in LTE), but it involved introducing new instances</p>



<a name="290411139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290411139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290411139">(Jul 21 2022 at 17:58)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.Sheaf.is_sheaf_of_is_limit">docs#category_theory.Sheaf.is_sheaf_of_is_limit</a> needs to be generalized as well</p>



<a name="290420579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290420579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290420579">(Jul 21 2022 at 19:09)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span>  We have <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.limits.is_limit.cone_points_iso_of_equivalence">docs#category_theory.limits.is_limit.cone_points_iso_of_equivalence</a> which should be useful.</p>



<a name="290420979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290420979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290420979">(Jul 21 2022 at 19:13)</a>:</h4>
<p>I could try and bump it myself as well. Since I reviewed that refactor, some responsibility of the frustration might be on me. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="290422748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290422748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290422748">(Jul 21 2022 at 19:27)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> if you want to take a look at <code>for_mathlib/abelian_sheaves/main</code> in the <code>bump-universes</code> branch, that would be helpful! It's just a silly proof (essentially just that limits commute with limits at the end of the day) that doesn't quite generalize with what's in mathlib</p>



<a name="290428018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290428018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290428018">(Jul 21 2022 at 20:13)</a>:</h4>
<p>The building is slower than I thought, and it is late in my timezone. I'll have a thorough look at it tomorrow.</p>



<a name="290453207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290453207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290453207">(Jul 22 2022 at 01:02)</a>:</h4>
<p>I fixed all the files up to (and including) the ExtrDisc equivalence, which I think is the most challenging part of this mathlib bump. There is still more work to do though, but I think we will get there soon.</p>



<a name="290471919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290471919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290471919">(Jul 22 2022 at 06:58)</a>:</h4>
<p>I fixed one more file</p>



<a name="290471932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290471932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290471932">(Jul 22 2022 at 06:59)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> if you want to hack on this, go ahead! I'll keep my hands off my keyboard (-;</p>



<a name="290472836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290472836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290472836">(Jul 22 2022 at 07:13)</a>:</h4>
<p>I pushed what I did. There's a <code>sorry</code> in <code>thm95/col_exact.lean</code></p>



<a name="290477035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290477035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290477035">(Jul 22 2022 at 08:10)</a>:</h4>
<p>I pushed whatever I did. I'm gone for ~3 hrs</p>



<a name="290478636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290478636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290478636">(Jul 22 2022 at 08:30)</a>:</h4>
<p>I am having a look</p>



<a name="290481548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290481548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290481548">(Jul 22 2022 at 09:03)</a>:</h4>
<p>I also have to stop (without having fixed one single error <span aria-label="unamused" class="emoji emoji-1f612" role="img" title="unamused">:unamused:</span> )</p>



<a name="290481656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290481656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290481656">(Jul 22 2022 at 09:05)</a>:</h4>
<p>I'll try to fix some stuff in <code>for_mathlib</code> now.</p>



<a name="290498356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290498356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290498356">(Jul 22 2022 at 12:20)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> did you already fix <code>ab4.lean</code>?</p>



<a name="290498415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290498415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290498415">(Jul 22 2022 at 12:20)</a>:</h4>
<p>Yes. I can push what I have now.</p>



<a name="290498447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290498447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290498447">(Jul 22 2022 at 12:21)</a>:</h4>
<p>Thanks. Then I'll start looking at <code>breen_deligne/</code>.</p>



<a name="290498475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290498475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290498475">(Jul 22 2022 at 12:21)</a>:</h4>
<p>Which was completely broken and didn't even know what<code>AB4</code> meant.</p>



<a name="290498583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290498583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290498583">(Jul 22 2022 at 12:22)</a>:</h4>
<p>Pushed. I'm working on <code>for_mathlib/AddCommGroup/tensor</code> now.</p>



<a name="290502043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290502043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290502043">(Jul 22 2022 at 12:54)</a>:</h4>
<p>Do we have a "resize" instance for</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">reflects_colimit.</span><span class="o">{</span><span class="mi">0</span> <span class="mi">0</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="o">(</span><span class="n">functor.empty.</span><span class="o">{</span><span class="mi">0</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="o">(</span><span class="n">Condensed.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}))</span> <span class="n">FF</span>
</code></pre></div>



<a name="290502079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290502079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290502079">(Jul 22 2022 at 12:54)</a>:</h4>
<p>I want to deduce this <code>.{0 0}</code> case from the <code>.{u+1 u+1}</code> case.</p>



<a name="290504016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290504016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290504016">(Jul 22 2022 at 13:12)</a>:</h4>
<p>It should be <code>reflects_colimits_of_size_shrink.{0 u+1 0 u+1} FF</code>, I think.</p>



<a name="290504132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290504132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290504132">(Jul 22 2022 at 13:13)</a>:</h4>
<p>Thanks, I'll try.</p>



<a name="290506313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290506313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290506313">(Jul 22 2022 at 13:34)</a>:</h4>
<p>That worked. I fixed 3 files and pushed.</p>



<a name="290508747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290508747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290508747">(Jul 22 2022 at 13:55)</a>:</h4>
<p><code>condensed/filtered_colimits</code> seems to be quite a nightmare.</p>



<a name="290508761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290508761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290508761">(Jul 22 2022 at 13:55)</a>:</h4>
<p><span class="user-mention" data-user-id="439483">@Andrew Yang</span> how is the tensor file going?</p>



<a name="290508967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290508967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290508967">(Jul 22 2022 at 13:57)</a>:</h4>
<p>It should (hopefully) be almost done. I had to generalize the universe of <code>for_mathlib/AddCommGroup.lean</code> and we are missing a universe polymorphic <code>has_biproducts_of_shape_of_has_finite_biproducts</code>.</p>



<a name="290523174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290523174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290523174">(Jul 22 2022 at 15:10)</a>:</h4>
<p>for_mathlib should be all fixed if lean didn't lie to me</p>



<a name="290527604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290527604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290527604">(Jul 22 2022 at 15:41)</a>:</h4>
<p>I'm working on <code>condensed/acyclic</code></p>



<a name="290531213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290531213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290531213">(Jul 22 2022 at 16:05)</a>:</h4>
<p>done, and now I need to go</p>



<a name="290561428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290561428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290561428">(Jul 22 2022 at 20:20)</a>:</h4>
<p>I fixed <code>condesed/filtered_colimits</code>.</p>



<a name="290561438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290561438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290561438">(Jul 22 2022 at 20:21)</a>:</h4>
<p>What a mess!</p>



<a name="290563063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290563063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290563063">(Jul 22 2022 at 20:27)</a>:</h4>
<p>Wow! I had 3 attempts that all failed</p>



<a name="290577686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290577686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290577686">(Jul 22 2022 at 23:12)</a>:</h4>
<p>It looks like <code>pseudo_normed_group/Qprime</code> is the next pain in the ***.</p>
<p>I wonder whether it would be easier to revert <code>Pow</code> to how it was before this attempted bump (i.e. defined as biproducts over ulifts of <code>fin n</code> as opposed to <code>fin n</code> itself). There is an instance missing, but I think this would make <code>Qprime</code> easier to handle.</p>



<a name="290582037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290582037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290582037">(Jul 23 2022 at 00:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/290577686">said</a>:</p>
<blockquote>
<p>It looks like <code>pseudo_normed_group/Qprime</code> is the next pain in the ***.</p>
<p>I wonder whether it would be easier to revert <code>Pow</code> to how it was before this attempted bump (i.e. defined as biproducts over ulifts of <code>fin n</code> as opposed to <code>fin n</code> itself). There is an instance missing, but I think this would make <code>Qprime</code> easier to handle.</p>
</blockquote>
<p>Scratch that... <code>pseudo_normed_group/Qprime.lean</code> is now fixed.</p>



<a name="290585748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290585748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290585748">(Jul 23 2022 at 01:55)</a>:</h4>
<p>I <em>think</em> the branch will actually build with my latest commit. There may still be some linting remaining though</p>



<a name="290586000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290586000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290586000">(Jul 23 2022 at 02:01)</a>:</h4>
<p>There was one slightly concerning thing that came up that I will mention here, just so that we (maybe) remember it in the future.<br>
One of the last errors that came up in this branch was a maximum TC depth error in <code>Lbra/ext</code> in the decl <code>condensify_iso_extend</code>. <br>
Adding the following instance fixed the issue, but there is probably some TC loop. What I don't know is whether the loop comes from mathlib, or from mathlib together will all of the hacky instances we have all over the place in LTE (I suppose the latter is more likely). </p>
<p>I mentioned a brief comment in the following:<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/615ffdbfee74760114a2c98b92287ccf7eb9ae1d/src/Lbar/ext.lean#L44">https://github.com/leanprover-community/lean-liquid/blob/615ffdbfee74760114a2c98b92287ccf7eb9ae1d/src/Lbar/ext.lean#L44</a><br>
In case anyone has time to help diagnose, if the <code>:= {}</code> on line 47 of the file in the link above is replaced with <code>:= by apply_instance</code>, the same error should show up.</p>



<a name="290743940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290743940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290743940">(Jul 25 2022 at 10:52)</a>:</h4>
<p>I'm starting the mathlib bump to mathlib master.</p>



<a name="290745586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290745586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290745586">(Jul 25 2022 at 11:10)</a>:</h4>
<p>I'm not going to rename <code>pseudo_normed_group</code> to <code>pseudo_normed_add_comm_group</code> for now.</p>



<a name="290746552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290746552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290746552">(Jul 25 2022 at 11:22)</a>:</h4>
<p>Is <code>pseudo_normed_group</code> pseudo in the same sense as <code>pseudo_metric_space</code>?</p>



<a name="290746980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290746980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290746980">(Jul 25 2022 at 11:27)</a>:</h4>
<p>It is an algebraic version of a semi-norm, which is semi in the same sense as pseudometric space is pseudo.</p>



<a name="290764416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290764416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290764416">(Jul 25 2022 at 14:19)</a>:</h4>
<p>I pushed to <code>mathlib-bump-25-jul-22</code>.</p>



<a name="290764520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290764520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290764520">(Jul 25 2022 at 14:20)</a>:</h4>
<p>Modulo</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">pullbacks.lean</span><span class="o">:</span><span class="mi">117</span><span class="o">:</span><span class="mi">6</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">rewrite</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">did</span> <span class="n">not</span> <span class="n">find</span> <span class="kd">instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pattern</span> <span class="k">in</span> <span class="n">the</span> <span class="n">target</span> <span class="n">expression</span>
  <span class="n">pullback_cone.fst</span> <span class="n">S</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">D</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">_inst_1</span> <span class="o">:</span> <span class="n">category</span> <span class="n">C</span><span class="o">,</span>
<span class="n">_inst_2</span> <span class="o">:</span> <span class="n">category</span> <span class="n">D</span><span class="o">,</span>
<span class="n">e</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">≌</span> <span class="n">D</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">B</span> <span class="o">:</span> <span class="n">D</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">B</span><span class="o">,</span>
<span class="n">_inst_3</span> <span class="o">:</span> <span class="n">has_pullback</span> <span class="o">(</span><span class="n">e.inverse.map</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">e.inverse.map</span> <span class="n">g</span><span class="o">),</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">cone</span> <span class="o">(</span><span class="n">cospan</span> <span class="n">f</span> <span class="n">g</span><span class="o">),</span>
<span class="n">m</span> <span class="o">:</span> <span class="n">S.X</span> <span class="bp">⟶</span> <span class="o">(</span><span class="n">e.pullback_cone</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">X</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">m</span> <span class="bp">≫</span> <span class="n">e.functor.map</span> <span class="n">pullback.fst</span> <span class="bp">≫</span> <span class="n">e.counit.app</span> <span class="n">X</span> <span class="bp">=</span> <span class="n">pullback_cone.fst</span> <span class="n">S</span>
<span class="bp">⊢</span> <span class="n">e.inverse.map</span> <span class="o">(</span><span class="n">S.π.app</span> <span class="n">walking_cospan.left</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">e.unit_iso.hom.app</span> <span class="o">(</span><span class="n">e.inverse.obj</span> <span class="n">S.X</span><span class="o">)</span> <span class="bp">≫</span>
      <span class="n">e.inverse.map</span> <span class="o">(</span><span class="n">e.counit_iso.hom.app</span> <span class="n">S.X</span><span class="o">)</span> <span class="bp">≫</span>
        <span class="n">e.inverse.map</span> <span class="n">m</span> <span class="bp">≫</span> <span class="n">e.unit_iso.inv.app</span> <span class="o">(</span><span class="n">pullback</span> <span class="o">(</span><span class="n">e.inverse.map</span> <span class="n">f</span><span class="o">)</span> <span class="o">(</span><span class="n">e.inverse.map</span> <span class="n">g</span><span class="o">))</span> <span class="bp">≫</span> <span class="n">pullback.fst</span>
</code></pre></div>
<p>I think that <code>for_mathlib</code> is error-free.</p>



<a name="290765903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290765903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290765903">(Jul 25 2022 at 14:30)</a>:</h4>
<p>I'm working on making <code>thm95</code> error-free.</p>



<a name="290769443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290769443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290769443">(Jul 25 2022 at 14:55)</a>:</h4>
<p>That seems to be done. Looking at <code>condensed/</code> next.</p>



<a name="290786638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290786638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290786638">(Jul 25 2022 at 16:44)</a>:</h4>
<p>I've been pushing a bunch of fixes. Unfortunately I find it hard to say how much of the project compiles, and how much still needs to be fixed. Does Lean have a way of reporting this?</p>



<a name="290788604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290788604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290788604">(Jul 25 2022 at 16:59)</a>:</h4>
<p><code>condensed/</code> seems to be error-free</p>



<a name="290792766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290792766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290792766">(Jul 25 2022 at 17:33)</a>:</h4>
<p>Is the error in for_mathlib fixed yet? I could try if it is not.</p>



<a name="290792791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290792791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290792791">(Jul 25 2022 at 17:33)</a>:</h4>
<p>I just did</p>



<a name="290793652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290793652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290793652">(Jul 25 2022 at 17:41)</a>:</h4>
<p>Things are tentatively looking good. I'm compiling <code>ext_aux1.lean</code> locally.</p>



<a name="290795198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290795198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290795198">(Jul 25 2022 at 17:54)</a>:</h4>
<p>Locally, it builds. But CI might complain at the linting step.</p>



<a name="290798368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290798368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290798368">(Jul 25 2022 at 18:19)</a>:</h4>
<p>One linting error. I pushed a fix.</p>



<a name="290800689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290800689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290800689">(Jul 25 2022 at 18:36)</a>:</h4>
<p>It's merged! The elephant is no longer in the room!</p>



<a name="290800899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290800899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290800899">(Jul 25 2022 at 18:38)</a>:</h4>
<p>I'll believe it when the table at the bottom of <br>
<a href="https://leanprover-community.github.io/lean_projects.html">https://leanprover-community.github.io/lean_projects.html</a><br>
is updated ;)</p>



<a name="290800934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290800934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290800934">(Jul 25 2022 at 18:38)</a>:</h4>
<p>Amazing! That means I can more easily work on <code>nnrat</code> and Gordan.</p>



<a name="290853494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/290853494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#290853494">(Jul 26 2022 at 06:21)</a>:</h4>
<p>That table is apparently broken and possibly at the end of it's life due to a low ROI on maintaining it</p>



<a name="292483647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292483647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292483647">(Aug 08 2022 at 19:11)</a>:</h4>
<p>I wanted to do a bump, but I very quickly got stuck with <a href="https://github.com/leanprover-community/mathlib/pull/15690">#15690</a>. The definition of <a href="https://leanprover-community.github.io/mathlib_docs/find/homological_complex.hom.prev">docs#homological_complex.hom.prev</a> changed, and the docstring is now false, right? If there is no <code>i</code> such that <code>r i j</code>, then <code>c.prev j = j</code> and I think <code>f.prev j</code> is <code>f.f j</code>.</p>



<a name="292483775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292483775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292483775">(Aug 08 2022 at 19:12)</a>:</h4>
<p>yeah that docstring is wrong</p>



<a name="292483784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292483784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292483784">(Aug 08 2022 at 19:13)</a>:</h4>
<p>(also, the name of <a href="https://leanprover-community.github.io/mathlib_docs/find/X_prev_iso_zero">docs#X_prev_iso_zero</a> and friends is now wrong)</p>



<a name="292483927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292483927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292483927">(Aug 08 2022 at 19:14)</a>:</h4>
<p>So</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">homological_complex.prev_eq_zero'</span> <span class="o">[</span><span class="n">has_zero_morphisms</span> <span class="n">C</span><span class="o">]</span>
  <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">homological_complex</span> <span class="n">C</span> <span class="n">c</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">M</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">c.prev</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">none</span><span class="o">)</span> <span class="o">:</span> <span class="n">f.prev</span> <span class="n">i</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>
<p>in <code>for_mathlib/homological_complex_map_d_to_d_from</code> is now false, and should be stated using the isomorphism above. Do you think it is going to affect a lot of stuff in other files?</p>



<a name="292484015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484015">(Aug 08 2022 at 19:15)</a>:</h4>
<p>no I think the correct thing to do now is to use the fact that <code>X.d j j = 0</code></p>



<a name="292484134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484134">(Aug 08 2022 at 19:16)</a>:</h4>
<p>I guess the hope is that lemmas such as this will no longer be necessary. <span class="user-mention" data-user-id="112680">@Johan Commelin</span> thoughts?</p>



<a name="292484202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484202">(Aug 08 2022 at 19:17)</a>:</h4>
<p>where is this <code>prev_eq_zero'</code> used?</p>



<a name="292484496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484496">(Aug 08 2022 at 19:20)</a>:</h4>
<p>For example, <a href="https://github.com/leanprover-community/lean-liquid/blob/9701fc4a29514852b599e9732c2409f34153ce2a/src/for_mathlib/homological_complex_map_d_to_d_from.lean#L31">https://github.com/leanprover-community/lean-liquid/blob/9701fc4a29514852b599e9732c2409f34153ce2a/src/for_mathlib/homological_complex_map_d_to_d_from.lean#L31</a> should now be true just by definition!</p>



<a name="292484592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484592">(Aug 08 2022 at 19:21)</a>:</h4>
<p>I just returned from a week of holidays. I should probably do this bump, because I also made that mathlib PR.</p>



<a name="292484792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292484792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292484792">(Aug 08 2022 at 19:22)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15940">#15940</a> for the modifications not done in the previous PR</p>



<a name="292531298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292531298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292531298">(Aug 09 2022 at 06:31)</a>:</h4>
<p>I just started working on the bump. 1 file done:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="n">leanpkg.toml</span>                                             <span class="bp">|</span>   <span class="mi">2</span> <span class="bp">+-</span>
 <span class="n">src</span><span class="bp">/</span><span class="n">for_mathlib</span><span class="bp">/</span><span class="n">homological_complex_map_d_to_d_from.lean</span> <span class="bp">|</span> <span class="mi">147</span> <span class="bp">+++++++++++++++++++++</span><span class="c1">------------------------------------------------------------------------------------------------------------------------------</span>
 <span class="mi">2</span> <span class="n">files</span> <span class="n">changed</span><span class="o">,</span> <span class="mi">22</span> <span class="n">insertions</span><span class="o">(</span><span class="bp">+</span><span class="o">),</span> <span class="mi">127</span> <span class="n">deletions</span><span class="o">(</span><span class="bp">-</span><span class="o">)</span>
</code></pre></div>



<a name="292599235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292599235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292599235">(Aug 09 2022 at 15:22)</a>:</h4>
<p>I pushed what I have so far to <code>mathlib-bump-aug-09</code></p>



<a name="292599307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292599307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292599307">(Aug 09 2022 at 15:23)</a>:</h4>
<p>The proof strategy for</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">homology_embed_nat_iso</span> <span class="o">(</span><span class="bp">𝓐</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">category</span> <span class="bp">𝓐</span><span class="o">]</span> <span class="o">[</span><span class="n">abelian</span> <span class="bp">𝓐</span><span class="o">]</span>
<span class="o">{</span><span class="n">c₁</span> <span class="o">:</span> <span class="n">complex_shape</span> <span class="n">ι₁</span><span class="o">}</span> <span class="o">{</span><span class="n">c₂</span> <span class="o">:</span> <span class="n">complex_shape</span> <span class="n">ι₂</span><span class="o">}</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">c₁.embedding</span> <span class="n">c₂</span><span class="o">)</span> <span class="o">(</span><span class="n">he</span> <span class="o">:</span> <span class="n">e.c_iff</span><span class="o">)</span>
  <span class="o">(</span><span class="n">i₁</span> <span class="o">:</span> <span class="n">ι₁</span><span class="o">)</span> <span class="o">(</span><span class="n">i₂</span> <span class="o">:</span> <span class="n">ι₂</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁₂</span> <span class="o">:</span> <span class="n">e.f</span> <span class="n">i₁</span> <span class="bp">=</span> <span class="n">i₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">embed</span> <span class="n">e</span> <span class="bp">⋙</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span> <span class="bp">≅</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₁</span> <span class="n">i₁</span> <span class="o">:=</span>
</code></pre></div>
<p>is now broken...</p>



<a name="292599349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292599349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292599349">(Aug 09 2022 at 15:23)</a>:</h4>
<p>But that isom is still true. We just need a new way to fill it in.</p>



<a name="292605524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292605524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292605524">(Aug 09 2022 at 15:55)</a>:</h4>
<p>I don't know if this compiles for you; my version of the branch is all broken.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">homology_embed_nat_iso</span> <span class="o">(</span><span class="bp">𝓐</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">category</span> <span class="bp">𝓐</span><span class="o">]</span> <span class="o">[</span><span class="n">abelian</span> <span class="bp">𝓐</span><span class="o">]</span>
<span class="o">{</span><span class="n">c₁</span> <span class="o">:</span> <span class="n">complex_shape</span> <span class="n">ι₁</span><span class="o">}</span> <span class="o">{</span><span class="n">c₂</span> <span class="o">:</span> <span class="n">complex_shape</span> <span class="n">ι₂</span><span class="o">}</span> <span class="o">(</span><span class="n">e</span> <span class="o">:</span> <span class="n">c₁.embedding</span> <span class="n">c₂</span><span class="o">)</span> <span class="o">(</span><span class="n">he</span> <span class="o">:</span> <span class="n">e.c_iff</span><span class="o">)</span>
  <span class="o">(</span><span class="n">i₁</span> <span class="o">:</span> <span class="n">ι₁</span><span class="o">)</span> <span class="o">(</span><span class="n">i₂</span> <span class="o">:</span> <span class="n">ι₂</span><span class="o">)</span> <span class="o">(</span><span class="n">h₁₂</span> <span class="o">:</span> <span class="n">e.f</span> <span class="n">i₁</span> <span class="bp">=</span> <span class="n">i₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">embed</span> <span class="n">e</span> <span class="bp">⋙</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span> <span class="bp">≅</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₁</span> <span class="n">i₁</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">calc</span> <span class="n">embed</span> <span class="n">e</span> <span class="bp">⋙</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span> <span class="bp">≅</span>
    <span class="n">embed</span> <span class="n">e</span> <span class="bp">⋙</span> <span class="o">(</span><span class="n">short_complex.functor_homological_complex</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span> <span class="bp">⋙</span>
      <span class="n">short_complex.homology_functor</span><span class="o">)</span> <span class="o">:</span> <span class="n">_</span>
  <span class="bp">...</span> <span class="bp">≅</span> <span class="o">(</span><span class="n">embed</span> <span class="n">e</span> <span class="bp">⋙</span> <span class="n">short_complex.functor_homological_complex</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span><span class="o">)</span> <span class="bp">⋙</span>
      <span class="n">short_complex.homology_functor</span> <span class="o">:</span> <span class="n">_</span>
  <span class="bp">...</span> <span class="bp">≅</span> <span class="n">short_complex.functor_homological_complex</span> <span class="bp">𝓐</span> <span class="n">c₁</span> <span class="n">i₁</span> <span class="bp">⋙</span>
    <span class="n">short_complex.homology_functor</span> <span class="o">:</span> <span class="n">_</span>
  <span class="bp">...</span> <span class="bp">≅</span> <span class="n">homology_functor</span> <span class="bp">𝓐</span> <span class="n">c₁</span> <span class="n">i₁</span> <span class="o">:</span> <span class="n">_</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">iso_whisker_left</span> <span class="n">_</span> <span class="o">(</span><span class="n">short_complex.homology_functor_iso</span> <span class="bp">𝓐</span> <span class="n">c₂</span> <span class="n">i₂</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="o">(</span><span class="n">functor.associator</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">subst</span> <span class="n">h₁₂</span><span class="o">,</span>
    <span class="n">congr'</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="o">(</span><span class="n">short_complex.homology_functor_iso</span> <span class="bp">𝓐</span> <span class="n">c₁</span> <span class="n">i₁</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span> <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>



<a name="292605711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292605711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292605711">(Aug 09 2022 at 15:56)</a>:</h4>
<p>I just took the line which didn't work, tried <code>subst</code> and then apparently <code>congr'</code> works, but honestly I have errors before this in the file, I have errors in imports, this might be nonsense.</p>



<a name="292605859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292605859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292605859">(Aug 09 2022 at 15:57)</a>:</h4>
<p><code>  { subst h₁₂, refl, },</code> works for me too.</p>



<a name="292606843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292606843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292606843">(Aug 09 2022 at 16:01)</a>:</h4>
<p>Ooh, maybe oleans did something weird. Let me try to compile.</p>



<a name="292608254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292608254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292608254">(Aug 09 2022 at 16:09)</a>:</h4>
<p>Does the proof not work at your end?</p>



<a name="292611542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292611542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292611542">(Aug 09 2022 at 16:26)</a>:</h4>
<p>Sorry, I'm a bit flooded by bureaucracy. Back at this problem. I don't see errors in imports at the moment.</p>



<a name="292611769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292611769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292611769">(Aug 09 2022 at 16:27)</a>:</h4>
<p><code>subst h₁₂, congr'</code> doesn't work for me.</p>



<a name="292611868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292611868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292611868">(Aug 09 2022 at 16:27)</a>:</h4>
<p>It would also be very surprising. Because afaict that line is just false, with current mathlib.</p>



<a name="292612178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292612178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292612178">(Aug 09 2022 at 16:29)</a>:</h4>
<p>Ooh, that's not actually true. The line is still fine. But the proof can not start with <code>refine iso_whisker_right _</code>. After that you would end up with something that isn't true.</p>



<a name="292612313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292612313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292612313">(Aug 09 2022 at 16:30)</a>:</h4>
<p>I do not have time now to fix this immediately, but I think one may remove the <code>e.c_iff</code> assumption which I introduced only as a convenience.</p>



<a name="292612947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292612947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292612947">(Aug 09 2022 at 16:33)</a>:</h4>
<p>I think you need <code>e.c_iff</code>. What happens if you have a discrete <code>complex_shape</code> that doesn't have any <code>rel i j</code> and you embed it into a "normal" complex shape?</p>



<a name="292613038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292613038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292613038">(Aug 09 2022 at 16:34)</a>:</h4>
<p>Oh, I had the correct lean-liquid oleans but probably incorrect mathlib oleans. Sorry for the noise!</p>



<a name="292613070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292613070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292613070">(Aug 09 2022 at 16:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292612947">said</a>:</p>
<blockquote>
<p>I think you need <code>e.c_iff</code>. What happens if you have a discrete <code>complex_shape</code> that doesn't have any <code>rel i j</code> and you embed it into a "normal" complex shape?</p>
</blockquote>
<p>Ooh never mind, I guess it actually still works out.</p>



<a name="292613919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292613919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292613919">(Aug 09 2022 at 16:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292613070">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292612947">said</a>:</p>
<blockquote>
<p>I think you need <code>e.c_iff</code>. What happens if you have a discrete <code>complex_shape</code> that doesn't have any <code>rel i j</code> and you embed it into a "normal" complex shape?<br>
</p>
</blockquote>
</blockquote>
<p>Ah, I do not remember the details, but in your example, the <code>d_to</code> and <code>d_from</code> are all zeros, so that homologies are trivially the same.<br>
Instead of constructing an isomorphism between two functors to <code>short_complex</code> as I initially did, a possible approach would be to define a natural transformation between two functors with values in <code>short_complex</code>, and then show it is an isomorphism object by object, which may require dealing with many cases...</p>



<a name="292617739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292617739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292617739">(Aug 09 2022 at 16:59)</a>:</h4>
<p>I have some time now to play with this... what branch is this on?</p>



<a name="292617748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292617748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292617748">(Aug 09 2022 at 16:59)</a>:</h4>
<p>and what file?</p>



<a name="292617907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292617907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292617907">(Aug 09 2022 at 17:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292599235">said</a>:</p>
<blockquote>
<p>I pushed what I have so far to <code>mathlib-bump-aug-09</code></p>
</blockquote>
<p>It's in the file <code>for_mathlib/complex_extend</code></p>



<a name="292622225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292622225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292622225">(Aug 09 2022 at 17:23)</a>:</h4>
<p>Bah, we have <code>embed_iso</code>, but not <code>embed_prev_iso</code> or <code>embed_next_iso</code>.</p>



<a name="292626464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292626464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292626464">(Aug 09 2022 at 17:48)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ leanproject get-mathlib-cache
SHA b<span class="s1">'ec818836889c031d4035c928bcbc638af5fbd736'</span> could not be resolved, git returned: b<span class="s1">'ec818836889c031d4035c928bcbc638af5fbd736 missing'</span>
</code></pre></div>



<a name="292626477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292626477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292626477">(Aug 09 2022 at 17:48)</a>:</h4>
<p>on this branch....</p>



<a name="292629800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292629800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292629800">(Aug 09 2022 at 18:06)</a>:</h4>
<p>The file <code>for_mathlib/homological_complex_map_d_from_d</code> seems broken on my end as well... can someone reproduce?</p>



<a name="292631567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292631567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292631567">(Aug 09 2022 at 18:17)</a>:</h4>
<p>Is there a way to tell <code>leanproject</code> to pull the correct commit based on the hash in the <code>toml</code> file of a non-mathlib project?</p>



<a name="292631611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292631611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292631611">(Aug 09 2022 at 18:17)</a>:</h4>
<p>I had to do things manually with git in the <code>_target</code> folder.</p>



<a name="292637941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292637941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292637941">(Aug 09 2022 at 18:56)</a>:</h4>
<p>Unforunately... </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">embed_prev_iso</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">embed</span> <span class="n">e</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span><span class="bp">.</span><span class="n">X_prev</span> <span class="o">(</span><span class="n">e.f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≅</span> <span class="n">X.X_prev</span> <span class="n">i</span> <span class="o">:=</span>
</code></pre></div>
<p>isn't just <code>embed_iso</code>, so all the nice stuff we gained by redefining <code>prev</code> and <code>next</code> no longer applies when we have to deal with embedings :(</p>



<a name="292638149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292638149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292638149">(Aug 09 2022 at 18:57)</a>:</h4>
<p>here <code>embed_iso</code> is </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">embed_iso</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="o">((</span><span class="n">embed</span> <span class="n">e</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span><span class="bp">.</span><span class="n">X</span> <span class="o">(</span><span class="n">e.f</span> <span class="n">i</span><span class="o">)</span> <span class="bp">≅</span> <span class="n">X.X</span> <span class="n">i</span> <span class="o">:=</span>
</code></pre></div>



<a name="292638932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292638932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292638932">(Aug 09 2022 at 19:01)</a>:</h4>
<p>Can we redefine the stuff around embeddings so that we get better defeqs? Is it worth it?</p>



<a name="292644301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292644301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292644301">(Aug 09 2022 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292638932">said</a>:</p>
<blockquote>
<p>Can we redefine the stuff around embeddings so that we get better defeqs? Is it worth it?</p>
</blockquote>
<p>I do not think so. When we embed <code>ℕ</code> in <code>ℤ</code> (with the <code>chain_complex</code> convention) and start with a complex <code>K</code> indexed by <code>ℕ</code>, the homology comparison in degree <code>0</code> will be between the homology of the short complex <code>K.X 1 ⟶ K.X 0 ⟶ K.X 0</code> (the right map is zero) and the homology of <code>K.X 1 ⟶ K.X 0 ⟶ 0</code>. With the homology refactor,  <code>embed_next_iso</code> no longer exists.<br>
What I suggested above is that one may still define a (natural) map of <code>short_complex</code> (take the identities when there are available, and <code>0</code> in the "irrelevant" cases), and it should be an isomorphism on homology.</p>



<a name="292644864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292644864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292644864">(Aug 09 2022 at 19:40)</a>:</h4>
<p>And I guess that checking that it is an isom involves 4 cases?</p>



<a name="292644939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292644939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292644939">(Aug 09 2022 at 19:41)</a>:</h4>
<p>Depending on whether <code>prev</code>/<code>next</code> exists or not.</p>



<a name="292647251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292647251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292647251">(Aug 09 2022 at 19:56)</a>:</h4>
<p>Yes, that is the idea. Actually, in order to have better definitional properties for the homology iso, instead of a natural transformation which turns out to be an iso, it should be possible to define natural transformations with values in <code>short_complex</code> in both directions, and then in homology, they would induce inverse isomorphisms.</p>



<a name="292647428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292647428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292647428">(Aug 09 2022 at 19:57)</a>:</h4>
<p>So can someone explain again why we shouldn't just change the definition of complexes to be a bunch of short complexes glued with isomorphisms?</p>



<a name="292648753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292648753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292648753">(Aug 09 2022 at 20:05)</a>:</h4>
<p>Maybe we should do that refactor of mathlib before bothering with this bump?</p>



<a name="292648860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292648860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292648860">(Aug 09 2022 at 20:06)</a>:</h4>
<p>Well I though  we're not all in agreement that this was the way to go.</p>



<a name="292649118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292649118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292649118">(Aug 09 2022 at 20:07)</a>:</h4>
<p>I'll mull over it again in my sleep tonight (-;</p>



<a name="292654646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292654646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292654646">(Aug 09 2022 at 20:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292647428">said</a>:</p>
<blockquote>
<p>So can someone explain again why we shouldn't just change the definition of complexes to be a bunch of short complexes glued with isomorphisms?</p>
</blockquote>
<p>The "bunch of short complexes" approach has several problems. One was the definition of morphisms of complexes, which was not straightforward. (I have some concerns also about the definition of homotopies.) Another problem I see with the draft definition you outlined is that I am not sure that the map which sends a complex <code>K</code> to the short complex "around a certain degree <code>n</code>" would be a functor, because if <code>n</code> has no prev, you only required that the left map of the short complex be zero, not that the left object is zero (which we cannot do if we want to allow complexes in categories with no zero object). Then, with this definition, there is no reason that two isomorphic complexes have isomorphic associated short complexes.</p>
<p>I think that the strategy I suggested above should work to get back <code>embed_homology_nat_iso</code>. Once the natural transformations are defined in both direction, the verification we have inverse isomorphims should follow mostly from statements like <code>of_g_are_zeros</code>, etc. at the end of <code>homology_map_datum.lean</code>.</p>



<a name="292655295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292655295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292655295">(Aug 09 2022 at 20:49)</a>:</h4>
<p>The functoriality issue is easy to solve: ensure <code>is_zero</code> instead of just the morphism being zero. Yes, keeping track of the various isomorphisms would be tedious at first, but I think we just have to do this once then forget about all the coherences because they would be part of the data! With the current approach, it seems that we have to chase these isomorphisms whenever we pass to short complexes and/or homology. I would rather have slightly more pain at the start instead of constant mild pain every time we deal with homology.</p>



<a name="292693314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292693314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292693314">(Aug 10 2022 at 04:52)</a>:</h4>
<p>Ensuring <code>is_zero</code> doesn't address Joël's point that we would rule out complexes in categories without a zero object. Note that we use those in LTE: stuff like <code>breen_deligne.data</code>.</p>
<p>Also, I don't think this approach would make it easier to define <code>embed</code>. (Also not much harder, to be fair.)<br>
You will have to construct the short complex in degree <code>-1</code> will be. And this involves two zero-objects, and the non-trivial <code>X_next</code> coming from the object in degree <code>0</code>.</p>
<p>So for the issue at hand, I don't think this refactor will save us any work.</p>



<a name="292704987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292704987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292704987">(Aug 10 2022 at 07:22)</a>:</h4>
<p>I have implemented part of ideas I suggested for <code>homology_embed_nat_iso</code> in the following commit <a href="https://github.com/leanprover-community/lean-liquid/commit/88a880feb20226290b5d2f153fb4aa2c01494e10">https://github.com/leanprover-community/lean-liquid/commit/88a880feb20226290b5d2f153fb4aa2c01494e10</a></p>



<a name="292714417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292714417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292714417">(Aug 10 2022 at 08:39)</a>:</h4>
<p>I have fixed one sorry about the commutativity of some square (the proof is not very elegant, but at least it works). The others sorries should be similar.</p>



<a name="292736597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292736597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292736597">(Aug 10 2022 at 11:30)</a>:</h4>
<p>If we have a category with zero morphisms, then I think you can formally adjoin a zero object in a "free" way. In an ideal world it would be seamless to go back and forth between the original category and such a gadget. Unfortunately, I don't think we live in such an ideal world :(</p>
<p>Anyway, I was already convinced before that we need to allow complexes for categories with no zero object (even though you had to remind me!) and now I'm convinced that just assuming a morphism is zero on the extremes is not good because of funcotriality issues, as Joel pointed out. So I think the idea of gluing short complexes might be dead in the water. </p>
<p>But that doesn't change the fact that I think the current approach to complexes and homology isn't great. We want Lean to be a tool that regular mathematicians can use, so we should build out theories to match mathematicians' intuition as closely as possible, and I think the current definitions here are very far from doing that. </p>
<p>So what else can we do? I have another (completely different) idea that I'll try to sketch.</p>



<a name="292740199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292740199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292740199">(Aug 10 2022 at 11:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292736597">said</a>:</p>
<blockquote>
<p>But that doesn't change the fact that I think the current approach to complexes and homology isn't great. We want Lean to be a tool that regular mathematicians can use, so we should build out theories to match methematicians' intuition as closely as possible, and I think the current definitions here are very far from doing that. </p>
</blockquote>
<p>Completely agreed.</p>



<a name="292749942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292749942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joël Riou <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292749942">(Aug 10 2022 at 12:59)</a>:</h4>
<p><code>homology_embed_nat_iso</code> is almost done now. There are only three sorries (which are essentially isomorphic to the first ugly proof in <code>embed_short_complex_ι</code>in <code>complex_extend.lean</code>. If anyone wants to tidy this proof and duplicate it (changing prev/next, etc), feel free to do so, as I will not have time to do it today (India/Chennai time). (As I suggested above, I have removed the unnecessary <code>iff</code> assumption, so that a little fix should be necessary in the files which refer to <code>homology_embed_nat_iso</code>.)</p>



<a name="292755190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292755190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292755190">(Aug 10 2022 at 13:30)</a>:</h4>
<p>Thanks!</p>



<a name="292767184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292767184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292767184">(Aug 10 2022 at 14:36)</a>:</h4>
<p>Are the problems with cohomology really because of the definitions, or are we actually just missing good API? Why should the definitions matter? In Isabelle they don't!</p>



<a name="292768429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292768429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292768429">(Aug 10 2022 at 14:43)</a>:</h4>
<p>Kevin when is the last time you considered the differential from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mn>37</mn></msup><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C^{37}(G,A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">37</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C^2(G,A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C^*(G,A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> is the complex of inhomogeneous cochains of a group <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>?</p>



<a name="292792002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292792002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292792002">(Aug 10 2022 at 16:46)</a>:</h4>
<p>You just don't like the fact that it makes sense? Yeah I didn't like that 1/0 made sense for a while. But do you think we can do spectral sequences with what we have?</p>



<a name="292793998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292793998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292793998">(Aug 10 2022 at 16:57)</a>:</h4>
<p>I think it's an important point to keep spectral sequences in mind!</p>



<a name="292794245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794245">(Aug 10 2022 at 16:58)</a>:</h4>
<p>Or have they all been replaced with derived functors nowadays? Or even the derived infinity category?</p>



<a name="292794347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794347">(Aug 10 2022 at 16:59)</a>:</h4>
<p>Do we really want differentials going all over the place on the <code>E_2</code> instead of just somehow restricting to <code>E i j -&gt; E (i+2) (j-1)</code>? I don't know.</p>



<a name="292794543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794543">(Aug 10 2022 at 17:00)</a>:</h4>
<p>Sure, derived functors are the right level of generality, but things like the Serre spectral sequence are still important for explicit calculations which we should be able to do!</p>



<a name="292794649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794649">(Aug 10 2022 at 17:00)</a>:</h4>
<p>We have to have the differentials everywhere for the same reason we ended up having them everywhere on the E1 page</p>



<a name="292794725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794725">(Aug 10 2022 at 17:01)</a>:</h4>
<p>Actually we only had arbitrary horizontal ones I guess</p>



<a name="292794772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794772">(Aug 10 2022 at 17:01)</a>:</h4>
<p>Aside: should we make a separate homology stream to discuss this stuff?</p>



<a name="292794880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794880">(Aug 10 2022 at 17:02)</a>:</h4>
<p>Hmm, maybe 3 or 4 topics in <a class="stream" data-stream-id="116395" href="/#narrow/stream/116395-maths">#maths</a> also works? But ey, streams are cheap. I don't care (-;</p>



<a name="292794985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292794985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292794985">(Aug 10 2022 at 17:02)</a>:</h4>
<p>The maths stream is fine, but it's easy for things to get lost in there.</p>



<a name="292795113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292795113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292795113">(Aug 10 2022 at 17:03)</a>:</h4>
<p>I can do it when I get back to my computer, if <span class="user-mention" data-user-id="112680">@Johan Commelin</span> doesn't beat me to it <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="292795367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/292795367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#292795367">(Aug 10 2022 at 17:05)</a>:</h4>
<p>See <a class="stream" data-stream-id="335062" href="/#narrow/stream/335062-homological-algebra">#homological algebra</a></p>



<a name="293059820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/293059820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#293059820">(Aug 12 2022 at 07:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459699">Joël Riou</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/292749942">said</a>:</p>
<blockquote>
<p><code>homology_embed_nat_iso</code> is almost done now. There are only three sorries (which are essentially isomorphic to the first ugly proof in <code>embed_short_complex_ι</code>in <code>complex_extend.lean</code>. If anyone wants to tidy this proof and duplicate it (changing prev/next, etc), feel free to do so, as I will not have time to do it today (India/Chennai time). (As I suggested above, I have removed the unnecessary <code>iff</code> assumption, so that a little fix should be necessary in the files which refer to <code>homology_embed_nat_iso</code>.)</p>
</blockquote>
<p>Fixed the remaining sorries.</p>



<a name="293317492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/293317492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#293317492">(Aug 13 2022 at 20:08)</a>:</h4>
<p>Bah, this bump is quite annoying.</p>



<a name="293955268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/293955268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#293955268">(Aug 17 2022 at 18:47)</a>:</h4>
<p>I made it to 50% of mapping_cone.lean</p>



<a name="295803792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/295803792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#295803792">(Aug 29 2022 at 08:47)</a>:</h4>
<p>I was hoping to continue today, after a bunch of travelling/holidays. But Deutsche Bahn has decided that I'll have to do it without the computational power of the beast in my office.</p>



<a name="296069682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296069682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296069682">(Aug 30 2022 at 09:57)</a>:</h4>
<p>DB allowed me to travel to my office today. <code>mapping_cone.lean</code> has been fixed.</p>
<p><a href="/user_uploads/3121/tGW5i2ix8wJwyOSKVUK3ptL6/db_logo.jpg">db_logo.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/tGW5i2ix8wJwyOSKVUK3ptL6/db_logo.jpg" title="db_logo.jpg"><img src="/user_uploads/3121/tGW5i2ix8wJwyOSKVUK3ptL6/db_logo.jpg"></a></div>



<a name="296169969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296169969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296169969">(Aug 30 2022 at 16:55)</a>:</h4>
<p>Should compile now: <a href="https://github.com/leanprover-community/lean-liquid/pull/122">https://github.com/leanprover-community/lean-liquid/pull/122</a></p>



<a name="296170131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296170131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296170131">(Aug 30 2022 at 16:56)</a>:</h4>
<p>Nice work!</p>



<a name="296170586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296170586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296170586">(Aug 30 2022 at 16:58)</a>:</h4>
<p>I particularly like <a href="https://github.com/leanprover-community/lean-liquid/pull/122/files#diff-ef25eff2213ff3cc983adabc2279c500d329f4eecf29f20ba80262ff44aa5a67R330">https://github.com/leanprover-community/lean-liquid/pull/122/files#diff-ef25eff2213ff3cc983adabc2279c500d329f4eecf29f20ba80262ff44aa5a67R330</a></p>



<a name="296171006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296171006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296171006">(Aug 30 2022 at 17:00)</a>:</h4>
<p>I will be absolutely honest and say that I was looking at the diff and it was precisely that line which motivated my previous post!</p>
<p>I also looked at the recent diff for the mathlib bump to new Lean. That's coming your way...(fortunately most of the changes seem trivial, it's just that there might be many many changes...)</p>



<a name="296171752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296171752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296171752">(Aug 30 2022 at 17:04)</a>:</h4>
<p>Oh does that mean we can now bump to <code>nnrat</code>?</p>



<a name="296172245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296172245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296172245">(Aug 30 2022 at 17:07)</a>:</h4>
<p>Almost! Still need to have CI give the green flag on this PR.</p>



<a name="296221395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296221395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296221395">(Aug 30 2022 at 21:07)</a>:</h4>
<p>It builds, but the linter complains: <a href="https://github.com/leanprover-community/lean-liquid/runs/8101380577?check_suite_focus=true">https://github.com/leanprover-community/lean-liquid/runs/8101380577?check_suite_focus=true</a></p>



<a name="296221410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296221410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296221410">(Aug 30 2022 at 21:07)</a>:</h4>
<p>I'm done for the day though</p>



<a name="296229380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296229380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296229380">(Aug 30 2022 at 22:12)</a>:</h4>
<p>I am fixing the linter.</p>



<a name="296250661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296250661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296250661">(Aug 31 2022 at 03:14)</a>:</h4>
<p>It's merged!</p>



<a name="296257060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296257060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296257060">(Aug 31 2022 at 05:13)</a>:</h4>
<p><span class="user-mention" data-user-id="130384">@Riccardo Brasca</span> thanks so much</p>



<a name="296262869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296262869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296262869">(Aug 31 2022 at 06:22)</a>:</h4>
<p>Let me start a new bump then!</p>



<a name="296263210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296263210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296263210">(Aug 31 2022 at 06:26)</a>:</h4>
<p>I can join you in ~ 20 mins.</p>



<a name="296271498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296271498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296271498">(Aug 31 2022 at 07:41)</a>:</h4>
<p>Somehow <code>mapping_cone.lean</code> is now in the deps of <code>liquid.lean</code>.</p>



<a name="296274326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296274326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296274326">(Aug 31 2022 at 08:01)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> fixed Gordan.lean.</p>



<a name="296274346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296274346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296274346">(Aug 31 2022 at 08:01)</a>:</h4>
<p>Now <code>liquid.lean</code> compiles. I'll work on the rest of the bump.</p>



<a name="296282459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296282459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296282459">(Aug 31 2022 at 08:57)</a>:</h4>
<p>It compiles locally. This bump was easy-peasy-lemon-squeezy. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="296300755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296300755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296300755">(Aug 31 2022 at 11:02)</a>:</h4>
<p>And it is merged!</p>



<a name="296360338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/296360338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#296360338">(Aug 31 2022 at 15:38)</a>:</h4>
<p>That is awesome! You're on today's mathlib. I seriously thought that it would go like the perfectoid project -- beyond some point it would just prove too hard to bump. That's amazing that it's all compiling and also all up to date. Congratulations.</p>



<a name="300605564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300605564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300605564">(Sep 25 2022 at 04:03)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> can you have a look at branch <code>bump-24-sep</code>? There is an error in <code>src/free_pfpng/epi.lean</code> related to <a href="https://leanprover-community.github.io/mathlib_docs/find/exists_signed_sum">docs#exists_signed_sum</a> univ, that you PRed to mathlib with a slightly different statement. I am catching a plane and I won't probably have time to fix it today, but it shouldn't be too hard. Thanks!</p>
<p>In any case if someone else wants to keep on doing the bump feel free to do so, it seems rather easy.</p>



<a name="300687291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300687291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300687291">(Sep 25 2022 at 20:16)</a>:</h4>
<p>It's not completely trivial to go from the version I PRed to the version we need, so it might take a week until I have time to fix this properly.</p>



<a name="300693460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300693460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300693460">(Sep 25 2022 at 21:44)</a>:</h4>
<p>If it's complicated we can just change the name of the LTE version</p>



<a name="300719339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300719339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300719339">(Sep 26 2022 at 05:18)</a>:</h4>
<p>I think that's maybe the easy fix that we should go for in this mathlib bump.</p>



<a name="300719357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300719357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300719357">(Sep 26 2022 at 05:18)</a>:</h4>
<p>Then Yaël can refactor whenever they want/have time.</p>



<a name="300723471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300723471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300723471">(Sep 26 2022 at 06:10)</a>:</h4>
<p>We're being bitten by</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="w">1c1</span>
<span class="w">&lt; has type</span>
<span class="gd">---</span><span class="w"></span>
<span class="w">&gt; but is expected to have type</span>
<span class="w">22,24c22,23</span>
<span class="w">&lt;        (@category_theory.abelian.to_preadditive.{u+1 u+2} Ab.{u+1} AddCommGroup.large_category.{u+1}</span>
<span class="w">&lt;           AddCommGroup.category_theory.abelian.{u+1}))</span>
<span class="w">&lt;     (@category_theory.Sheaf.category_theory.preadditive.{u+2 u u+1} ExtrDisc.{u} ExtrDisc.category_theory.category.{u}</span>
<span class="gd">---</span><span class="w"></span>
<span class="w">&gt;        AddCommGroup.category_theory.preadditive.{u+1})</span>
<span class="w">&gt;     (@category_theory.Sheaf.preadditive.{u u+1 u+1 u+2} ExtrDisc.{u} ExtrDisc.category_theory.category.{u}</span>
<span class="w">28,29c27</span>
<span class="w">&lt;        (@category_theory.abelian.to_preadditive.{u+1 u+2} Ab.{u+1} AddCommGroup.large_category.{u+1}</span>
<span class="w">&lt;           AddCommGroup.category_theory.abelian.{u+1}))</span>
<span class="gd">---</span><span class="w"></span>
<span class="w">&gt;        AddCommGroup.category_theory.preadditive.{u+1})</span>
</code></pre></div>



<a name="300725001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300725001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300725001">(Sep 26 2022 at 06:25)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <span class="user-mention" data-user-id="459699">@Joël Riou</span> <span class="user-mention" data-user-id="439483">@Andrew Yang</span> do you recognize a change in category theory that might have caused this?</p>



<a name="300860067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300860067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300860067">(Sep 26 2022 at 17:00)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">free_Cech'_iso_ExtrDisc</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">arrow</span> <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span>
  <span class="o">((</span><span class="n">Condensed_ExtrSheaf_equiv</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">inverse.map_homological_complex</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">free_Cech'</span> <span class="n">F</span><span class="o">)</span> <span class="bp">≅</span>
  <span class="n">free_ExtrDisc_Cech'</span> <span class="n">F</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">e</span> <span class="o">:=</span> <span class="n">ExtrDisc_sheafification_iso</span> <span class="k">in</span>
<span class="o">(</span><span class="n">whiskering_Cech_comp_iso</span> <span class="n">F</span>
  <span class="o">(</span><span class="n">Profinite_to_Condensed.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="bp">⋙</span> <span class="n">CondensedSet_to_Condensed_Ab.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span>
  <span class="o">((</span><span class="n">Condensed_ExtrSheaf_equiv.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span><span class="bp">.</span><span class="n">inverse</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Profinite_to_ExtrDisc_presheaf_Ab.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="bp">⋙</span> <span class="n">presheaf_to_Sheaf.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">ExtrDisc.proetale_topology.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span> <span class="bp">$</span>
<span class="n">nat_iso.of_components</span>
<span class="o">(</span><span class="bp">λ</span> <span class="n">S</span><span class="o">,</span> <span class="n">e.symm.app</span> <span class="n">_</span><span class="o">)</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">S</span> <span class="n">T</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="o">[</span><span class="n">nat_iso.app_hom</span><span class="o">],</span>
  <span class="n">erw</span> <span class="n">e.symm.hom.naturality</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span><span class="o">)</span> <span class="bp">≪≫</span>
<span class="kd">begin</span>
  <span class="n">dsimp</span> <span class="o">[</span><span class="n">free_ExtrDisc_Cech'</span><span class="o">],</span>
  <span class="n">convert</span> <span class="n">iso.refl</span> <span class="n">_</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>
<p>yields</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">F</span><span class="o">:</span> <span class="n">arrow.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span>
<span class="n">e</span><span class="o">:</span> <span class="o">(</span><span class="n">whiskering_left.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">ExtrDisc.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span><span class="bp">ᵒᵖ</span> <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span><span class="bp">ᵒᵖ</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span><span class="bp">.</span><span class="n">obj</span> <span class="n">ExtrDisc_to_Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span><span class="bp">.</span><span class="n">op</span> <span class="bp">⋙</span> <span class="n">presheaf_to_Sheaf.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">ExtrDisc.proetale_topology.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="bp">≅</span> <span class="n">presheaf_to_Sheaf.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">proetale_topology.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="bp">⋙</span> <span class="o">(</span><span class="n">Condensed_ExtrSheaf_equiv.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span><span class="bp">.</span><span class="n">inverse</span> <span class="o">:=</span> <span class="n">ExtrDisc_sheafification_iso.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span>
<span class="bp">⊢</span> <span class="n">Sheaf.preadditive.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="bp">=</span> <span class="n">abelian.to_preadditive.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span>
</code></pre></div>
<p>Did someone change anything about preadditive instances?</p>



<a name="300860502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300860502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300860502">(Sep 26 2022 at 17:02)</a>:</h4>
<p>BTW, <code>abelian C</code> is a subsingleton. Does someone want to prove this?</p>



<a name="300861249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300861249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300861249">(Sep 26 2022 at 17:06)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/16403">#16403</a> just got merged, so it cannot be the guilty, but maybe it is worth to upgrade mathlib to it to avoid duplicating the work</p>



<a name="300861452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300861452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300861452">(Sep 26 2022 at 17:07)</a>:</h4>
<p>it will take quite a lot of work to bump to <a href="https://github.com/leanprover-community/mathlib/pull/16403">#16403</a></p>



<a name="300861484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300861484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300861484">(Sep 26 2022 at 17:07)</a>:</h4>
<p>but of course we should do it.</p>



<a name="300861695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300861695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300861695">(Sep 26 2022 at 17:08)</a>:</h4>
<p>I'm SO confused:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">free_Cech'_iso_ExtrDisc</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">arrow</span> <span class="n">Profinite.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span> <span class="o">:</span>
  <span class="o">((</span><span class="n">Condensed_ExtrSheaf_equiv</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">inverse.map_homological_complex</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="o">(</span><span class="n">free_Cech'</span> <span class="n">F</span><span class="o">)</span> <span class="bp">≅</span>
  <span class="n">free_ExtrDisc_Cech'</span> <span class="n">F</span> <span class="o">:=</span>
<span class="k">let</span> <span class="n">e</span> <span class="o">:=</span> <span class="n">ExtrDisc_sheafification_iso</span> <span class="k">in</span>
<span class="o">(</span><span class="n">whiskering_Cech_comp_iso</span> <span class="n">F</span>
  <span class="o">(</span><span class="n">Profinite_to_Condensed.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="bp">⋙</span> <span class="n">CondensedSet_to_Condensed_Ab.</span><span class="o">{</span><span class="n">u</span><span class="o">})</span>
  <span class="o">((</span><span class="n">Condensed_ExtrSheaf_equiv.</span><span class="o">{</span><span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">2</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span><span class="bp">.</span><span class="n">inverse</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Profinite_to_ExtrDisc_presheaf_Ab.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="bp">⋙</span> <span class="n">presheaf_to_Sheaf.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">2</span> <span class="n">u</span> <span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">}</span> <span class="n">ExtrDisc.proetale_topology.</span><span class="o">{</span><span class="n">u</span><span class="o">}</span> <span class="n">Ab.</span><span class="o">{</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">})</span> <span class="bp">$</span>
<span class="n">nat_iso.of_components</span>
<span class="o">(</span><span class="bp">λ</span> <span class="n">S</span><span class="o">,</span> <span class="n">e.symm.app</span> <span class="n">_</span><span class="o">)</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">S</span> <span class="n">T</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="o">[</span><span class="n">nat_iso.app_hom</span><span class="o">],</span>
  <span class="n">erw</span> <span class="n">e.symm.hom.naturality</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span><span class="o">)</span> <span class="bp">≪≫</span>
<span class="kd">begin</span>
  <span class="n">dsimp</span> <span class="o">[</span><span class="n">free_ExtrDisc_Cech'</span><span class="o">],</span>
  <span class="n">convert</span> <span class="n">iso.refl</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">preadditive.ext</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">funext</span><span class="o">,</span> <span class="n">intros</span> <span class="n">P</span><span class="o">,</span> <span class="n">apply</span> <span class="n">funext</span><span class="o">,</span> <span class="n">intros</span> <span class="n">Q</span><span class="o">,</span>
  <span class="n">dsimp</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">add_comm_group.ext</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">funext</span><span class="o">,</span> <span class="n">intros</span> <span class="n">f</span><span class="o">,</span> <span class="n">apply</span> <span class="n">funext</span><span class="o">,</span> <span class="n">intros</span> <span class="n">g</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Are these defeq? If so, why can't lean figure it out!?</p>



<a name="300886081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300886081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300886081">(Sep 26 2022 at 19:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room/near/300860502">said</a>:</p>
<blockquote>
<p>BTW, <code>abelian C</code> is a subsingleton. Does someone want to prove this?</p>
</blockquote>
<p>We have it (well, essentially)! <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.subsingleton_preadditive_of_has_binary_biproducts">docs#category_theory.subsingleton_preadditive_of_has_binary_biproducts</a></p>



<a name="300906909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300906909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300906909">(Sep 26 2022 at 22:02)</a>:</h4>
<p>I fixed <code>condensed/acyclic.lean</code> in this branch.</p>



<a name="300907161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300907161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300907161">(Sep 26 2022 at 22:05)</a>:</h4>
<p>The issue was the <code>nsmul</code> and <code>zsmul</code> from the preadditive instance on <code>Sheaf _</code> was not defeq to what we had in LTE.<br>
The source of the issue was that mathlib now knows that sheaves of abelian groups form a preadditive category, but the preadditive instance is obtained via <a href="https://leanprover-community.github.io/mathlib_docs/find/function.injective.add_comm_group">docs#function.injective.add_comm_group</a> which doesn't give the expected defeq behavior for nsmul and zsmul</p>



<a name="300907314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300907314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300907314">(Sep 26 2022 at 22:06)</a>:</h4>
<p>Anyway, once we bump past <a href="https://github.com/leanprover-community/mathlib/pull/16403">#16403</a> then the abelian category instance on sheaves of abelian groups will come from mathlib and will end up having the mathlib preadditive instance, so all should be fine again.</p>



<a name="300907329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300907329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300907329">(Sep 26 2022 at 22:06)</a>:</h4>
<p>The fix for now was to use the preadditive instance from mathlib in LTE.</p>



<a name="300907353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300907353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300907353">(Sep 26 2022 at 22:06)</a>:</h4>
<p>(plus some minor error that was fixed with an explicit universe annotation)</p>



<a name="300929857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300929857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300929857">(Sep 27 2022 at 02:51)</a>:</h4>
<p>Ooh wow, ugly nasty bug. Thanks for fixing it!</p>



<a name="300970015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/The%20elephant%20in%20the%20room/near/300970015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/The.20elephant.20in.20the.20room.html#300970015">(Sep 27 2022 at 09:43)</a>:</h4>
<p>Thanks for finishing the bump!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>