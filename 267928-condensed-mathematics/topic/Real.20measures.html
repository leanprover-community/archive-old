---
layout: archive
title: Zulip Chat Archive
permalink: /stream/267928-condensed-mathematics/topic/Real.20measures.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/index.html">condensed mathematics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html">Real measures</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="292773369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292773369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292773369">(Aug 10 2022 at 15:09)</a>:</h4>
<p>The branch <code>Radon_wip</code> now has the following isomorphism</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">Radon_iso_real_measures</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">0</span><span class="o">})</span> <span class="o">(</span><span class="n">p</span> <span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span>
  <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span> <span class="o">:</span>
  <span class="n">CompHaus.of</span> <span class="o">(</span><span class="n">X.Radon</span> <span class="n">p</span> <span class="n">c</span><span class="o">)</span> <span class="bp">≅</span>
  <span class="o">(</span><span class="n">CompHausFiltPseuNormGrp₁.level.obj</span> <span class="n">c</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span>
  <span class="o">((</span><span class="n">Profinite.extend</span> <span class="o">(</span><span class="n">real_measures.functor</span> <span class="n">p</span><span class="o">))</span><span class="bp">.</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>in the file <code>src/examples/Radon/main.lean</code>, but it depends on a bunch of relatively small sorries.</p>
<p>If anyone wants to help fill in these sorries, that would be greatly appreciated!</p>



<a name="292773647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292773647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292773647">(Aug 10 2022 at 15:11)</a>:</h4>
<p>Here <code>X.Radon p c</code> is defined as the space of all continuous linear maps <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi><mo>:</mo><mi>C</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo><mo>→</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mu : C(X,\mathbb{R}) \to \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbb">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span> such that for any clopen partition <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><msub><mo>∪</mo><mi>i</mi></msub><msub><mi>U</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X = \cup_i U_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mbin">∪</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, one has <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>μ</mi><mo stretchy="false">(</mo><msub><mn mathvariant="double-struck">1</mn><msub><mi>U</mi><mi>i</mi></msub></msub><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mo>≤</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">\sum_i |\mu(\mathbb{1}_{U_i}) | \le c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord mathnormal">μ</span><span class="mopen">(</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></p>



<a name="292774752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292774752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292774752">(Aug 10 2022 at 15:16)</a>:</h4>
<p>(Well, rather I have used discrete quotients of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> instead of clopen partitions.)</p>



<a name="292775605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292775605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292775605">(Aug 10 2022 at 15:20)</a>:</h4>
<p>If needed, we could use this to put a comphaus filtered pseudo normed group structure on the space of Radon measures, and show that it's condensification is isomorphic to what we call <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">M</mi></mrow><annotation encoding="application/x-tex">\mathcal{M}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal">M</span></span></span></span> in <code>challenge.lean</code> -- this should be fairly straightforward with what we have now.</p>



<a name="292777709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292777709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292777709">(Aug 10 2022 at 15:32)</a>:</h4>
<p>I'm going through <code>src/examples/Radon/setup.lean</code>, if that is helpful!</p>



<a name="292777987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292777987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292777987">(Aug 10 2022 at 15:33)</a>:</h4>
<p>I should also mention that the file <code>example/radon_aux</code> (which is completely commented out) has a few proofs that would be useful for some of these sorries!</p>



<a name="292778155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292778155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292778155">(Aug 10 2022 at 15:34)</a>:</h4>
<p>For example, I think most of the sorries in <code>Radon/setup</code> are some minor variants of proofs in <code>radon_aux.lean</code>.</p>



<a name="292789394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292789394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292789394">(Aug 10 2022 at 16:31)</a>:</h4>
<p>Turns out that I did not have as much time as I hoped: I pushed one proof in <code>Radon/setup</code>, copied over from <code>radon_aux</code> on <a href="https://github.com/leanprover-community/mathlib/tree/adomani_radon">branch#adomani_radon</a>.</p>
<p>(The link does not work, but the branch name is indeed <code>adomani_radon</code>.)</p>



<a name="292796239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292796239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292796239">(Aug 10 2022 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> please feel free to push directly to the <code>Radon_wip</code> branch!</p>



<a name="292806353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292806353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292806353">(Aug 10 2022 at 18:11)</a>:</h4>
<p>I just did!</p>



<a name="292941583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292941583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292941583">(Aug 11 2022 at 14:34)</a>:</h4>
<p>I added the following to the file <code>examples/radon_measures</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℝ</span><span class="bp">≥</span><span class="mi">0</span><span class="o">)</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p</span><span class="o">)]</span> <span class="o">[</span><span class="n">fact</span> <span class="o">(</span><span class="n">p</span> <span class="bp">≤</span> <span class="mi">1</span><span class="o">)]</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">Profinite.</span><span class="o">{</span><span class="mi">0</span><span class="o">})</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">real_measures.condensed</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">obj</span> <span class="n">S</span> <span class="bp">≅</span>
  <span class="n">CompHausFiltPseuNormGrp.to_Condensed.obj</span>
  <span class="o">(</span><span class="n">CHFPNG₁_to_CHFPNGₑₗ.obj</span> <span class="bp">$</span> <span class="n">S.Radon_png</span> <span class="n">p</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">CompHausFiltPseuNormGrp.to_Condensed.map_iso</span> <span class="bp">$</span>
<span class="n">CHFPNG₁_to_CHFPNGₑₗ.map_iso</span> <span class="bp">$</span> <span class="o">(</span><span class="n">S.Radon_png_iso</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
</code></pre></div>
<p>But again, it depends on a whole lot of small sorries (all of which should be props!).</p>
<p>All of this is in the <code>Radon_wip</code> branch, in case anyone wants to help fill in some sorries.</p>



<a name="292942147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292942147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292942147">(Aug 11 2022 at 14:37)</a>:</h4>
<p>Once this and the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>l</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">l^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span> example file that Heather and Filippo are working on are done, then I think we have essentially all of the examples we would want for our project!</p>



<a name="292990241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/292990241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#292990241">(Aug 11 2022 at 19:06)</a>:</h4>
<p>I hope it shouldn't get too much larger ;)</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>find lean-liquid/src/examples/Radon -name <span class="s1">'*.lean'</span> <span class="p">|</span> xargs wc -l
  <span class="m">505</span> lean-liquid/src/examples/Radon/png_reflects_limits.lean
  <span class="m">244</span> lean-liquid/src/examples/Radon/LC_limit.lean
  <span class="m">176</span> lean-liquid/src/examples/Radon/LC_comparison.lean
  <span class="m">173</span> lean-liquid/src/examples/Radon/png.lean
  <span class="m">331</span> lean-liquid/src/examples/Radon/setup.lean
   <span class="m">81</span> lean-liquid/src/examples/Radon/defs.lean
  <span class="m">311</span> lean-liquid/src/examples/Radon/main.lean
 <span class="m">1821</span> total
</code></pre></div>



<a name="293086464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293086464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293086464">(Aug 12 2022 at 11:10)</a>:</h4>
<p>I killed most of the sorries in the <code>examples/Radon</code> folder, but my laptop is about to run out of battery and I won't have time to work on this for the rest of the day. Anyone want to finish off the last few?</p>



<a name="293086556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293086556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293086556">(Aug 12 2022 at 11:11)</a>:</h4>
<p>I'll look at them after I finish the mathlib bump, if nobody beats me.</p>



<a name="293086768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293086768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293086768">(Aug 12 2022 at 11:12)</a>:</h4>
<p>You would need to merge master into this branch as well once the mathlib bump is done, but that should be fairly easy since this folder is essentially completely isolated.</p>



<a name="293087075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293087075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293087075">(Aug 12 2022 at 11:14)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>find lean-liquid/src/examples/Radon -name <span class="s1">'*.lean'</span> <span class="p">|</span> xargs wc -l
  <span class="m">505</span> lean-liquid/src/examples/Radon/png_reflects_limits.lean
  <span class="m">254</span> lean-liquid/src/examples/Radon/LC_limit.lean
  <span class="m">213</span> lean-liquid/src/examples/Radon/LC_comparison.lean
  <span class="m">253</span> lean-liquid/src/examples/Radon/png.lean
  <span class="m">331</span> lean-liquid/src/examples/Radon/setup.lean
   <span class="m">81</span> lean-liquid/src/examples/Radon/defs.lean
  <span class="m">337</span> lean-liquid/src/examples/Radon/main.lean
 <span class="m">1974</span> total
</code></pre></div>
<p>Can you keep it under, say, 2400?</p>



<a name="293087502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293087502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293087502">(Aug 12 2022 at 11:17)</a>:</h4>
<p>Let's find out!</p>



<a name="293336760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293336760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293336760">(Aug 14 2022 at 02:15)</a>:</h4>
<p>Okay, I killed all the remaining sorries:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>find lean-liquid/src/examples/Radon -name <span class="s1">'*.lean'</span> <span class="p">|</span> xargs wc -l
  <span class="m">505</span> lean-liquid/src/examples/Radon/png_reflects_limits.lean
  <span class="m">254</span> lean-liquid/src/examples/Radon/LC_limit.lean
  <span class="m">352</span> lean-liquid/src/examples/Radon/LC_comparison.lean
  <span class="m">253</span> lean-liquid/src/examples/Radon/png.lean
  <span class="m">421</span> lean-liquid/src/examples/Radon/setup.lean
  <span class="m">169</span> lean-liquid/src/examples/Radon/defs.lean
  <span class="m">337</span> lean-liquid/src/examples/Radon/main.lean
 <span class="m">2291</span> total
</code></pre></div>
<p>I haven't done any linting and this stuff includes a lot of new defs.</p>



<a name="293343885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293343885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293343885">(Aug 14 2022 at 05:18)</a>:</h4>
<p>I am removing some unused arguments, but I broke some proof now.  I am trying to fix it, but in 10 minutes I will have to go.  Should I revert the changes to a working version?</p>



<a name="293344100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293344100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293344100">(Aug 14 2022 at 05:24)</a>:</h4>
<p>Actually, all the <code>Radon</code> folder builds on my machine now, so maybe this is good!</p>



<a name="293344184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293344184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293344184">(Aug 14 2022 at 05:26)</a>:</h4>
<p>Ok, CI is linting now!  It turns out that a lot of <code>compact, t2</code> assumptions were not needed.</p>



<a name="293372479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293372479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293372479">(Aug 14 2022 at 11:41)</a>:</h4>
<p>Branch <code>adomani_lint_universe</code> should pass CI on GitHub but seems to have universe issues on my local machine.  This is the reason for not pushing directly to <code>Radon_wip</code>.  I do not really know what to do with universe issues, though.</p>
<p>Linting locally <code>examples/Radon/png_reflects_limits.lean</code> gives:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c">/-</span><span class="cm"> The `check_univs` linter reports: -/</span>
<span class="c">/-</span><span class="cm"> THE STATEMENTS OF THE FOLLOWING DECLARATIONS HAVE BAD UNIVERSE LEVELS. This usually means that there is a `max u v` in the type where neither `u` nor `v` occur by themselves. Solution: Find the type (or type bundled with data) that has this universe argument and provide the universe level explicitly. If this happens in an implicit argument of the declaration, a better solution is to move this argument to a `variables` command (then it's not necessary to provide the universe level).</span>
<span class="cm">It is possible that this linter gives a false positive on definitions where the value of the definition has the universes occur separately, and the definition will usually be used with explicit universe arguments. In this case, feel free to add `@[nolint check_univs]`. -/</span>
<span class="k">#check</span> <span class="bp">@</span><span class="n">CompHausFiltPseuNormGrp₁.create_iso_from_level</span> <span class="c">/-</span><span class="cm"> universes [u_1, u_2] only occur together. -/</span>
</code></pre></div>
<p>and some doc-blames.</p>
<p>These issues arose when I removed some "unused" hypotheses.</p>



<a name="293372683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293372683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293372683">(Aug 14 2022 at 11:43)</a>:</h4>
<p>Hmmm... I'll try to take a look later today</p>



<a name="293372847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293372847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293372847">(Aug 14 2022 at 11:45)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> if you explicitly specify that both X and Y are in CompHausFilt...Grp_1.{u} (i.e. explicitly add the u), in that declaration, does that fix the issue?</p>



<a name="293372934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293372934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293372934">(Aug 14 2022 at 11:46)</a>:</h4>
<p>Sorry, I left my computer: I will try to look at it in a couple of hours.</p>



<a name="293373165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293373165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293373165">(Aug 14 2022 at 11:48)</a>:</h4>
<p>Well, in any case, everything in the file where that problematic declaration is made should be in the same universe level u. I would guess that adding the universe parameter explicitly everywhere would fix the issue</p>



<a name="293399992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293399992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293399992">(Aug 14 2022 at 13:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293372847">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> if you explicitly specify that both X and Y are in CompHausFilt...Grp_1.{u} (i.e. explicitly add the u), in that declaration, does that fix the issue?</p>
</blockquote>
<p>Adam, fixing the universe worked!  Locally, I only see doc-blames.  I pushed my branch to GitHub: if it again compiles with no errors, I will merge <code>Random_wip</code> with it.</p>
<p>Btw, even without the universe fix, CI was happy and green.</p>



<a name="293400333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293400333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293400333">(Aug 14 2022 at 13:31)</a>:</h4>
<p>Great! And many MANY thanks for your help Damiano!</p>



<a name="293400785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293400785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293400785">(Aug 14 2022 at 13:36)</a>:</h4>
<p>Ok, I have pushed the version that compiled and added 2 (or maybe 3) doc-strings.</p>



<a name="293400852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293400852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293400852">(Aug 14 2022 at 13:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293400333">said</a>:</p>
<blockquote>
<p>Great! And many MANY thanks for your help Damiano!</p>
</blockquote>
<p>No worries!  It was really all very easy: Lean was guiding me through unused assumptions and most of them were typeclass assumptions, so nothing else to fix!</p>



<a name="293405093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293405093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293405093">(Aug 14 2022 at 14:19)</a>:</h4>
<p>I also just pushed over doc-strings for <code>Radon.setup</code>.  I will probably not have any more time today to add more doc-strings, though.</p>



<a name="293407617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293407617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293407617">(Aug 14 2022 at 14:45)</a>:</h4>
<p>I thought that I had only added doc-string, but the build failed.  I have to leave now: feel free to revert to the previous successful build: I do not know what went wrong with the doc-strings...</p>



<a name="293561441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293561441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293561441">(Aug 15 2022 at 15:47)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/pull/113">https://github.com/leanprover-community/lean-liquid/pull/113</a></p>



<a name="293562550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293562550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293562550">(Aug 15 2022 at 15:53)</a>:</h4>
<p>So here's a thing we should discuss: I think I would like <em>all</em> of <code>examples/*</code> to be as readable as possible.<br>
So what do you think of moving 90% of the Radon stuff to a new (top-level?) directory. And then only have some demo stuff in the <code>examples/</code> dir?</p>



<a name="293562819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293562819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293562819">(Aug 15 2022 at 15:55)</a>:</h4>
<p>Fine with me!</p>



<a name="293562845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293562845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293562845">(Aug 15 2022 at 15:55)</a>:</h4>
<p>Let me do it now</p>



<a name="293564350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293564350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293564350">(Aug 15 2022 at 16:03)</a>:</h4>
<p>Ok I moved it. I think I fixed all the imports, but let's see if CI agrees</p>



<a name="293564748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293564748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293564748">(Aug 15 2022 at 16:05)</a>:</h4>
<p>The <code>examples/radon_measures</code> file is self contained as far as I'm concerned.</p>



<a name="293565968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293565968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293565968">(Aug 15 2022 at 16:12)</a>:</h4>
<p>I'm going to push some typos in doc-strings, if that's alright with you.<br>
(Although I might wait for CI to finish anyway!)</p>



<a name="293566577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293566577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293566577">(Aug 15 2022 at 16:15)</a>:</h4>
<p>I was a little haphazard with some docstrings, please go ahead!</p>



<a name="293566974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293566974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293566974">(Aug 15 2022 at 16:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293566577">said</a>:</p>
<blockquote>
<p>I was a little haphazard with some docstrings, please go ahead!</p>
</blockquote>
<p>Some of the "copy-pasted" ones, were not even copy-pasted!  <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="293567298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293567298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293567298">(Aug 15 2022 at 16:20)</a>:</h4>
<p>Jokes aside, the doc-strings look great!  I am always grateful when I can read some words, before parsing Lean code.</p>



<a name="293574044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293574044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293574044">(Aug 15 2022 at 16:57)</a>:</h4>
<p>Hmm after <span class="user-mention" data-user-id="321459">@Damiano Testa</span> 's comment about docstrings vs comments in the examples folder, I looked more closely at some of the other files, and we seem to have a mix of <code>/-</code>, <code>/--</code> and <code>/-!</code>. We should probably come up with something consistent. What do you think we should do?</p>



<a name="293574335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293574335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293574335">(Aug 15 2022 at 16:58)</a>:</h4>
<p>I guess we're intending for these files to be "literate lean" (analogous to literate haskell, literate agda, etc.). I guess we have a standard way to do this, but I never thought about such issues.</p>



<a name="293575633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293575633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293575633">(Aug 15 2022 at 17:06)</a>:</h4>
<p>My impression is that the examples folder is likely one that will get the attention of the large number of mathematicians.  For this reason, I think that it will probably not be a "typical" literate file.  I tend to use <code>/-</code> comments for remarks that are either helpful to maintain a proof or inside an actual tactic block, to guide what is going on.  In the case of the examples folder, I think that the code should not need any such comments, but it would probably be beneficial if it were <em>much</em> more verbose than usual mathlib (or even lean-liquid) files.</p>
<p>For this reason, Adam, I thought that your comments would have fit well as doc-strings.</p>



<a name="293575778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293575778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293575778">(Aug 15 2022 at 17:07)</a>:</h4>
<p>In fact, I wonder whether the examples folder should also contain some counter-/non-examples, since, for me at least, they are also very useful.</p>



<a name="293575780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293575780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293575780">(Aug 15 2022 at 17:07)</a>:</h4>
<p>As I see it, the only benefit of docstrings over comments is that they are used by docgen to generate documentation.</p>



<a name="293585782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293585782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293585782">(Aug 15 2022 at 17:08)</a>:</h4>
<p>Well, that and by the vscode/emacs extensions to display the docstring of a given declaration. </p>
<p>In this respect, I don't really see any reason to add docstrings to examples</p>



<a name="293586211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293586211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293586211">(Aug 15 2022 at 17:12)</a>:</h4>
<p>I think that in my mind, docgens for lean-liquid were a reality and I was following the conventions that I would use for mathlib, in this respect.</p>
<p>Still, even if there will never be automatically generated documentation for the whole of lean-liquid, maybe the examples folder could be an exception and still have some form of (possibly rudimentary) exposed web-page.</p>



<a name="293587521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293587521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293587521">(Aug 15 2022 at 17:21)</a>:</h4>
<p>The correct thing to do is probably just use <code>/-!</code> for everything</p>



<a name="293587536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293587536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293587536">(Aug 15 2022 at 17:21)</a>:</h4>
<p>(or almost everything)</p>



<a name="293589442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293589442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293589442">(Aug 15 2022 at 17:33)</a>:</h4>
<p>Well, in any case, since this affects all the example files, we should probably just make whatever change we need to once the rest of the files are done.</p>



<a name="293590404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293590404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293590404">(Aug 15 2022 at 17:39)</a>:</h4>
<p>Yeah, I think using <code>/-!</code> everywhere makes sense.</p>



<a name="293590957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293590957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293590957">(Aug 15 2022 at 17:43)</a>:</h4>
<p>But in the end it doesn't matter too much I guess.</p>



<a name="293591202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591202">(Aug 15 2022 at 17:44)</a>:</h4>
<p>The nice thing about something like this</p>
<blockquote>
<h1>A test of literate lean programming</h1>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.limits.has_limit</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">def</span> <span class="n">test</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span> <span class="mi">0</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="293591223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591223">(Aug 15 2022 at 17:44)</a>:</h4>
<p>is that it displays nicely in github</p>



<a name="293591335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591335">(Aug 15 2022 at 17:44)</a>:</h4>
<blockquote>
<h1>A test of literate lean programming</h1>
<p>Here is a lean code block:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.limits.has_limit</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">def</span> <span class="n">test</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span> <span class="mi">0</span>
</code></pre></div>
<p>And some more plain markdown.</p>
</blockquote>



<a name="293591424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591424">(Aug 15 2022 at 17:45)</a>:</h4>
<p>We could easily write some script to scrape the lean blocks into a separate file to ensure it compiles.</p>



<a name="293591574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591574">(Aug 15 2022 at 17:46)</a>:</h4>
<p>maybe this can even be part of <code>leanproject</code>?</p>



<a name="293591921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293591921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293591921">(Aug 15 2022 at 17:48)</a>:</h4>
<p>Since github renders latex now, this could be a really nice feature</p>



<a name="293606314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293606314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293606314">(Aug 15 2022 at 19:21)</a>:</h4>
<p>I think we can look into that. But it's future work.</p>



<a name="293606343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293606343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293606343">(Aug 15 2022 at 19:21)</a>:</h4>
<p>I would suggest merging the Radon PR now. I'm happy with the examples file.</p>



<a name="293606364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293606364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293606364">(Aug 15 2022 at 19:21)</a>:</h4>
<p>We can then standardise docstrings etc in future PRs.</p>



<a name="293606421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293606421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293606421">(Aug 15 2022 at 19:22)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> <span class="user-mention" data-user-id="321459">@Damiano Testa</span> do you agree?</p>



<a name="293606840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293606840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293606840">(Aug 15 2022 at 19:24)</a>:</h4>
<p>I also agree!</p>



<a name="293608953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293608953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293608953">(Aug 15 2022 at 19:38)</a>:</h4>
<p>I clicked "merge"</p>



<a name="293609274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293609274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293609274">(Aug 15 2022 at 19:40)</a>:</h4>
<p><span class="user-mention" data-user-id="492774">@Sky Wilshaw</span> recently set up <a href="https://leanprover-community.github.io/con-nf/docs">docgen for Con(NF)</a> and I love it. I highly encourage you to do the same.</p>



<a name="293609373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293609373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293609373">(Aug 15 2022 at 19:41)</a>:</h4>
<p>But that will reveal how messy we've been!</p>



<a name="293609530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293609530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293609530">(Aug 15 2022 at 19:42)</a>:</h4>
<p>The first step towards redemption! <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="293609693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293609693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293609693">(Aug 15 2022 at 19:43)</a>:</h4>
<p>I already took a stab at fixing the type of comments in some files a while back. I could finish that up quickly if you want me to.</p>



<a name="293615709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293615709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293615709">(Aug 15 2022 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> I think <code>examples/</code> now contains a nice set of "demos" to illustrate the ingredients of the main statement. Only an example of a p-Banach is missing, but that's WIP. Are there other things you would like to see?<br>
Or do you have questions about what is currently there?</p>



<a name="293659809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293659809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293659809">(Aug 16 2022 at 06:03)</a>:</h4>
<p>Thanks, that looks quite convincing!</p>
<p>Someone just told me the following psychological effect (basically confirmation bias, but I found it striking nonetheless). Person A makes up a rule of which sequences of three numbers are "good" (the others are "bad"). The job of Person B is to figure out the rule. To get started, A gives an example of a good sequence. For example, they might say "1,2,4" is good. Then B asks "is 1,3,6 good?". A: Yes. B: Is 1,4,8 good? A: Yes. B: Is 1,5,10 good? A: Yes. B: Is the rule that 1,n,2n is good? A: No. B: Is 1,6,12 good? A: Yes. B: Is 1,7,14 good? A: Yes B: But you see, the rule is that 1,n,2n is good! A: No, that is not the rule.</p>
<p>Apparently people are much rather trying to confirm their idea of what the rule is, then trying to prove it false by finding counterexamples. (In the experiment, A chose the rule "any increasing sequence is good", but virtually no person B ever chose any sequence violating that...)</p>
<p>In the case at hand, I am psychologically predisposed to think that the computer is accurately capturing the mathematics, and your examples are confirming this; sometimes you've added lots of syntactic sugar to make it look seamless. But somehow these are all "positive" examples. I'm not exactly sure what I'm asking for; I guess I'm just currently feeling that mathematics remains a human activity, because if I were to truly check that the computer did the right thing, I would have to unravel the whole proof in my head and convince myself that it all adds up. (You might argue that I only need to check your examples file, but I'm not sure; for one, there's too much syntax I don't really understand and where something sneaky might hide; for the other, the examples files don't actually contain the definitions (because those need a lot of background...), so the above tale on confirmation bias becomes relevant, I think.)</p>
<p>PS: In line 32 of Ext.lean, you say that the example gives the isomorphism of Ext-groups <em>functorially in X</em> (but not Y?). Why is functoriality in X built in? To me the statement reads like a non-functorial isomorphism. (Which probably just confirms that I don't actually understand what the Lean code means...)</p>



<a name="293662562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293662562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293662562">(Aug 16 2022 at 06:40)</a>:</h4>
<p>Thanks for your input! I very much agree that mathematics is a human activity. But I also think that using a computer is a human activity (-;<br>
I guess your 3-number-sequence tale is saying that we should somehow look for counter-counter-examples? Not sure what that means...</p>



<a name="293662842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293662842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293662842">(Aug 16 2022 at 06:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293659809">said</a>:</p>
<blockquote>
<p>PS: In line 32 of Ext.lean, you say that the example gives the isomorphism of Ext-groups <em>functorially in X</em> (but not Y?). Why is functoriality in X built in? To me the statement reads like a non-functorial isomorphism. (Which probably just confirms that I don't actually understand what the Lean code means...)</p>
</blockquote>
<p>Good point. It is actually functorial on both objects. But as you rightly observe the statement as written only gives an isomorphism on objects and doesn't treat morphisms at all. So the documentation on the line above is not exactly in sync with the Lean code.</p>



<a name="293669092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293669092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293669092">(Aug 16 2022 at 07:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293662842">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293659809">said</a>:</p>
<blockquote>
<p>PS: In line 32 of Ext.lean, you say that the example gives the isomorphism of Ext-groups <em>functorially in X</em> (but not Y?). Why is functoriality in X built in? To me the statement reads like a non-functorial isomorphism. (Which probably just confirms that I don't actually understand what the Lean code means...)</p>
</blockquote>
<p>Good point. It is actually functorial on both objects. But as you rightly observe the statement as written only gives an isomorphism on objects and doesn't treat morphisms at all. So the documentation on the line above is not exactly in sync with the Lean code.</p>
</blockquote>
<p>Well, please make sure the comments and the Lean code <em>are</em> in sync. In that example, I could "feel" that something is not quite right. For some of the claims about Radon measures, there's too much syntax for me to understand what's really going on, and I simply have to trust you that the Lean code means what you write in the comments.</p>



<a name="293669296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293669296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293669296">(Aug 16 2022 at 07:49)</a>:</h4>
<p><span class="user-mention" data-user-id="369530">@Peter Scholze</span> If there is Lean code in <code>examples/*</code> that you cannot read, that means we didn't do our homework well. Please flag such lines, so that we can try to improve them.</p>



<a name="293670017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293670017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293670017">(Aug 16 2022 at 07:54)</a>:</h4>
<p>Let me flag two things: </p>
<p>"(f + g).down.val s = f.down.val s + g.down.val s" -- I have no idea what .down.val means.</p>
<p>"inducing (λ μ : filtration (S.Radon_png p) c, embedding_into_the_weak_dual p S μ) := ⟨rfl⟩" -- Here I think I'm confused why you have to write some \lambda code (which I kind of understand, but is very far from mathematical notation); can you not simply use the map embedding_into_the_weak_dual ? Or is the code just about restricting to a filtration step?</p>



<a name="293670088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293670088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293670088">(Aug 16 2022 at 07:55)</a>:</h4>
<p>Also, what you call "embedding" is only a map in the Lean code.</p>



<a name="293670300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293670300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293670300">(Aug 16 2022 at 07:56)</a>:</h4>
<p>I guess strictly speaking with your examples, everything could be zero. You would have to argue that the elements constructed via the example on line 96 give the expected linear functionals on continuous functions, otherwise those example elements might just be zero.</p>



<a name="293670452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293670452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293670452">(Aug 16 2022 at 07:58)</a>:</h4>
<p>Maybe another required example file would be for profinite sets, actually. Maybe all your profinite sets in universe level 0 are just finite sets?</p>



<a name="293670652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293670652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293670652">(Aug 16 2022 at 07:59)</a>:</h4>
<p>Regarding the \lambda code: I must admit that it took me a long time to realize that this is not about two elements \lambda and \mu of filtration (S.Radon_png p) c!</p>



<a name="293671011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293671011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293671011">(Aug 16 2022 at 08:02)</a>:</h4>
<p>Also, in this \lambda-code line: Why is the rfl in angle brackets?</p>



<a name="293671867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293671867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293671867">(Aug 16 2022 at 08:09)</a>:</h4>
<p>Also, in Ext.lean, you can't seriously imagine I can read a line like</p>
<p>"example (n : ℕ) (X Y : 𝓐) : ((Ext' n).obj (op X)).obj Y =<br>
  ((Ext n).obj (op ((single _ 0).obj X))).obj ((single _ 0).obj Y)"</p>
<p><span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="293672122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293672122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293672122">(Aug 16 2022 at 08:11)</a>:</h4>
<p>Ok, that's useful feedback! We'll try to improve things!</p>



<a name="293672231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293672231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293672231">(Aug 16 2022 at 08:12)</a>:</h4>
<p>Sorry for playing devil's advocate here!</p>



<a name="293672482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293672482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293672482">(Aug 16 2022 at 08:14)</a>:</h4>
<p>Actually, can you explain what the ".obj" is doing?</p>



<a name="293672566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293672566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293672566">(Aug 16 2022 at 08:15)</a>:</h4>
<p>Is it that a functor is some bundled information, and in particular it's a map on objects, and one has to say that explicitly?</p>



<a name="293672797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293672797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293672797">(Aug 16 2022 at 08:17)</a>:</h4>
<p>I'm sure you've already tried to make the API for functors nicer, but it would really be good if Lean could figure out itself that if you apply a functor to something whose type is that of an object of the source category, it's supposed to apply the map on objects (while if the type is that of morphism between objects, it applies the map on morphisms)</p>



<a name="293675567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293675567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293675567">(Aug 16 2022 at 08:41)</a>:</h4>
<p>Yes, unfortunately we have to write <code>F.obj X</code> and <code>F.map f</code> at the moment. We tried to have better notation, so that you could just write <code>F X</code> and <code>F f</code>, but it was too brittle. However, we have good hopes that in Lean 4 we can actually make this work.</p>



<a name="293675726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293675726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293675726">(Aug 16 2022 at 08:43)</a>:</h4>
<p>In fact I was discussing this just yesterday (making Lean understand that for <code>F : C ⥤ D</code>, <code>X Y : C</code>, <code>f : X ⟶ Y</code>, <code>F X</code> means <code>F.obj X</code> and <code>F f</code> means <code>F.map f</code>) and the <code>.obj</code> bit is fine. What's not is the <code>.map</code> one because it's a function dependent in <code>X</code> and <code>Y</code> in a way that subtly exceeds the limits of our current system.</p>



<a name="293676385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293676385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293676385">(Aug 16 2022 at 08:49)</a>:</h4>
<p>The way to do this currently is using <a href="https://leanprover-community.github.io/mathlib_docs/find/has_coe_to_fun">docs#has_coe_to_fun</a>. <code>has_coe_to_fun α β</code> (<code>α : Type*</code>, <code>β : α → Sort*</code>) means that <code>a : α</code> can be thought of as a map of type <code>β a</code>. So what we would want is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">:</span> <span class="n">has_coe_to_fun</span> <span class="o">(</span><span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="o">(</span><span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">F.obj</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">F.obj</span> <span class="n">Y</span><span class="o">))</span> <span class="o">:=</span>
</code></pre></div>
<p>but <code>λ F, (X ⟶ Y) → (F.obj X ⟶ F.obj Y)</code> depends on <code>X</code> and <code>Y</code>, which do not appear in the <code>C ⥤ D</code> argument. Mathematically, this is because a functor is not actually two maps, but a map on objects and many maps on homs.</p>



<a name="293676939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293676939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293676939">(Aug 16 2022 at 08:53)</a>:</h4>
<p>Wait, it <em>is</em> actually two maps, if you quantify over <code>X</code> and <code>Y</code>. So the following works:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.functor.basic</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">category</span> <span class="n">D</span><span class="o">]</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_coe_to_fun</span> <span class="o">(</span><span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">},</span> <span class="o">(</span><span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">F.obj</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">F.obj</span> <span class="n">Y</span><span class="o">))</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">F</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">,</span> <span class="n">F.map</span> <span class="n">f</span><span class="o">⟩</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="n">F</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">F.map</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



<a name="293677167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293677167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293677167">(Aug 16 2022 at 08:55)</a>:</h4>
<p>But now you want a map on the objects as well, so you need a second <code>has_coe_to_fun</code>. And this is where things go haywire</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.functor.basic</span>

<span class="kn">open</span> <span class="n">category_theory</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">category</span> <span class="n">D</span><span class="o">]</span>

<span class="kd">instance</span> <span class="n">obj_coe</span> <span class="o">:</span> <span class="n">has_coe_to_fun</span> <span class="o">(</span><span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="n">C</span> <span class="bp">→</span> <span class="n">D</span><span class="o">)</span> <span class="o">:=</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="n">F.obj</span><span class="o">⟩</span>

<span class="kd">instance</span> <span class="n">hom_coe</span> <span class="o">:</span> <span class="n">has_coe_to_fun</span> <span class="o">(</span><span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">F</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">},</span> <span class="o">(</span><span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">F</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">F</span> <span class="n">Y</span><span class="o">))</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="bp">λ</span> <span class="n">F</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">f</span><span class="o">,</span> <span class="n">F.map</span> <span class="n">f</span><span class="o">⟩</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">⥤</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="n">F</span> <span class="n">X</span> <span class="bp">⟶</span> <span class="n">F</span> <span class="n">Y</span> <span class="o">:=</span> <span class="n">F</span> <span class="n">f</span> <span class="c1">-- Lean confused</span>
</code></pre></div>



<a name="293677385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293677385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293677385">(Aug 16 2022 at 08:57)</a>:</h4>
<p>If you want to understand what's going on, you need to know what <a href="https://leanprover-community.github.io/mathlib_docs/find/out_param">docs#out_param</a> does and I highly encourage you read <span class="user-mention" data-user-id="238446">@Anne Baanen</span>'s recent <a href="https://arxiv.org/abs/2202.01629">paper on bundled hom typeclasses</a>.</p>



<a name="293677676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293677676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293677676">(Aug 16 2022 at 08:59)</a>:</h4>
<p>In short, Lean doesn't try to guess whether you mean to use <code>F : C ⥤ D</code> as a <code>C → D</code> or as a <code>∀ {X Y : C}, (X ⟶ Y) → (F X ⟶ F Y)</code> for performance reasons. So it picks whichever it finds first, which is doomed to fail half of the time.</p>



<a name="293701861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293701861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293701861">(Aug 16 2022 at 12:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293672122">said</a>:</p>
<blockquote>
<p>Ok, that's useful feedback! We'll try to improve things!</p>
</blockquote>
<p>Agreed! That's very useful! It's easy for us to forget that Lean3 is still a different language.</p>



<a name="293704316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293704316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293704316">(Aug 16 2022 at 12:19)</a>:</h4>
<p>Here's a start on the profinite example file<br>
<a href="https://github.com/leanprover-community/lean-liquid/pull/115">https://github.com/leanprover-community/lean-liquid/pull/115</a></p>
<p>Two additional things that could potentially be added, if you think it's worthwhile:</p>
<ol>
<li>Explain how to view a profinite set as a limit of finite sets.</li>
<li>Explain how the proetale topology is defined</li>
</ol>



<a name="293705735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293705735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293705735">(Aug 16 2022 at 12:29)</a>:</h4>
<p>More generally, I would say the example files are not about fully checking the defs all the way down to the axioms, but rather all the way down to mathlib.</p>



<a name="293706149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293706149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293706149">(Aug 16 2022 at 12:32)</a>:</h4>
<p>We didn't do that in some cases (e.g. mathlib doesn't have delta functors), but I think that's what we should aim for (within reason)</p>



<a name="293711868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293711868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293711868">(Aug 16 2022 at 13:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369530">Peter Scholze</span> <a href="#narrow/stream/267928-condensed-mathematics/topic/Real.20measures/near/293671867">said</a>:</p>
<blockquote>
<p>Also, in Ext.lean, you can't seriously imagine I can read a line like</p>
<p>"example (n : ℕ) (X Y : 𝓐) : ((Ext' n).obj (op X)).obj Y =<br>
  ((Ext n).obj (op ((single _ 0).obj X))).obj ((single _ 0).obj Y)"</p>
<p><span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>I'm going to introduce a coe to fun for functors just on the object level. Also, I'm introducing a coercion from an abelian category to the bounded homotopy category <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>↦</mo><mi>X</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">X \mapsto X[0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6943em;vertical-align:-0.011em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span>. With those tricks, we have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/--</span>
<span class="sd">`Ext' n (X,B)` is definitionally equal to `Ext n (X, B)`.</span>
<span class="sd">We have to manually tell Lean that a coercion is involved in this case using `↑`.</span>
<span class="sd">-/</span>
<span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="bp">𝓐</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">Ext'</span> <span class="n">n</span> <span class="o">(</span><span class="n">op</span> <span class="n">X</span><span class="o">))</span> <span class="n">Y</span> <span class="bp">=</span>
  <span class="o">(</span><span class="n">Ext</span> <span class="n">n</span> <span class="o">(</span><span class="n">op</span> <span class="bp">↑</span><span class="n">X</span><span class="o">))</span> <span class="bp">↑</span><span class="n">Y</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>
<p>I hope that looks a bit more reasonable?</p>



<a name="293718699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293718699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293718699">(Aug 16 2022 at 13:30)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean-liquid/pull/116">https://github.com/leanprover-community/lean-liquid/pull/116</a><br>
I addressed most of Peter's comments above. Please feel free to push to this branch with further fixes!</p>



<a name="293767998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293767998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293767998">(Aug 16 2022 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Could you summarize this functor map issue and post it as an MWE on <a class="stream" data-stream-id="270676" href="/#narrow/stream/270676-lean4">#lean4</a> ? We might need to do something special to make it work.</p>



<a name="293768033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293768033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293768033">(Aug 16 2022 at 17:40)</a>:</h4>
<p>Sure!</p>



<a name="293768506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293768506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293768506">(Aug 16 2022 at 17:43)</a>:</h4>
<p>Can this be accomplished in lean4 with unification hints?</p>



<a name="293768618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293768618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293768618">(Aug 16 2022 at 17:44)</a>:</h4>
<p>Really just having <code>F X</code> for <code>F.obj X</code> would already be nice. I know this was discussed in the olden days of lean-category-theory. I can't remember what the specific reason for not supporting it was.</p>



<a name="293770389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293770389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293770389">(Aug 16 2022 at 17:55)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="110087">@Scott Morrison</span> knows? It could well be something that no longer makes sense in the context of current mathlib</p>



<a name="293780269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293780269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293780269">(Aug 16 2022 at 18:54)</a>:</h4>
<p>I got this to work in Lean4.... but it feels hacky and it probably won't scale</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">Quiver</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">)</span> <span class="n">where</span>
  <span class="n">hom</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">v</span>

<span class="kd">structure</span> <span class="n">PreFunctor</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">)</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">B</span><span class="o">]</span> <span class="n">where</span>
  <span class="n">obj</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span>
  <span class="n">map</span> <span class="o">:</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="bp">→</span> <span class="n">Quiver.hom</span> <span class="n">X</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">Quiver.hom</span> <span class="o">(</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">obj</span> <span class="n">Y</span><span class="o">)</span>

<span class="kd">instance</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">B</span><span class="o">]</span> <span class="o">:</span> <span class="n">CoeFun</span> <span class="o">(</span><span class="n">PreFunctor</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">F</span> <span class="bp">=&gt;</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span><span class="o">)</span> <span class="n">where</span>
  <span class="n">coe</span> <span class="o">:=</span> <span class="n">PreFunctor.obj</span>

<span class="kd">notation</span> <span class="n">F</span> <span class="n">O</span> <span class="bp">=&gt;</span> <span class="n">PreFunctor.map</span> <span class="n">F</span> <span class="n">O</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">B</span><span class="o">]</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">PreFunctor</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">F</span> <span class="n">X</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">_</span><span class="o">}</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">Quiver</span> <span class="n">B</span><span class="o">]</span>
  <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">PreFunctor</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">Quiver.hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="n">Quiver.hom</span> <span class="o">(</span><span class="n">F</span> <span class="n">X</span> <span class="o">:</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F</span> <span class="n">f</span>
</code></pre></div>



<a name="293780385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293780385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293780385">(Aug 16 2022 at 18:54)</a>:</h4>
<p>Removing the <code>: B</code> in the last line breaks the last example</p>



<a name="293783766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/293783766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#293783766">(Aug 16 2022 at 19:16)</a>:</h4>
<p>Another option</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">Quiver</span> <span class="n">where</span>
  <span class="n">carrier</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
  <span class="n">hom</span> <span class="o">:</span> <span class="n">carrier</span> <span class="bp">→</span> <span class="n">carrier</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">v</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">CoeSort</span> <span class="n">Quiver</span> <span class="o">(</span><span class="kt">Type</span> <span class="n">_</span><span class="o">)</span> <span class="n">where</span> <span class="n">coe</span> <span class="o">:=</span> <span class="n">Quiver.carrier</span>

<span class="kd">structure</span> <span class="n">PreFunctor</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">Quiver</span><span class="o">)</span> <span class="n">where</span>
  <span class="n">obj</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span>
  <span class="n">map</span> <span class="o">:</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="bp">→</span> <span class="n">A.hom</span> <span class="n">X</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">B.hom</span> <span class="o">(</span><span class="n">obj</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">obj</span> <span class="n">Y</span><span class="o">)</span>

<span class="kd">notation</span> <span class="n">F</span> <span class="n">O</span> <span class="bp">=&gt;</span> <span class="n">PreFunctor.obj</span> <span class="n">F</span> <span class="n">O</span>
<span class="kd">notation</span> <span class="n">F</span> <span class="n">O</span> <span class="bp">=&gt;</span> <span class="n">PreFunctor.map</span> <span class="n">F</span> <span class="n">O</span>

<span class="kd">example</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">Quiver</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">PreFunctor</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">F</span> <span class="n">X</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">Quiver</span><span class="o">}</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="n">PreFunctor</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A.hom</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="n">B.hom</span> <span class="o">(</span><span class="n">F</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">F</span> <span class="n">f</span>
</code></pre></div>



<a name="295042062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295042062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295042062">(Aug 24 2022 at 13:04)</a>:</h4>
<p>Harris wrote</p>
<blockquote>
<p>Thus formalization inevitably requires a human decision to read a proposed formalization as a translation of the human proof: in other words an act of faith, like the acts of faith that sustain human mathematics in this first half of the 21st century — in the refereeing process, in the published documents, and in the seminar room.  Formalization can only eliminate the epistemological antinomies if humans are excluded from the process entirely, and the machines are left to sort it out among themselves.  </p>
</blockquote>
<p>over at <a href="https://siliconreckoner.substack.com/p/game-over-for-mathematicians">https://siliconreckoner.substack.com/p/game-over-for-mathematicians</a> .<br>
I guess that it's the same kind of thing that Peter was also talking about when he said that mathematics remains a human activity.</p>



<a name="295058844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295058844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295058844">(Aug 24 2022 at 14:30)</a>:</h4>
<p>I realize that Harris is talking about the translation here, and I agree with the sentiment that mathematics remains a human activity, but I think Harris has missed a key distinction. In mathematics as practiced today, the act of faith is in the <em>proofs</em> of the proposed results. Definitions are (and have been) frequently taken for granted. In fact, we often conflate multiple definitions for convenience by appealing to some notion of equivalence between the two. If I go to a conference on C⋆-algebras and start talking about them, no one will wonder whether or not I'm talking about a different definition than the one they are used to; in this sense, definitions (frequently) are an <em>implicit</em> act of faith.</p>
<p>In contrast, when formalizing, it is <em>only</em> the definitions that one must take on faith, assuming one can adequately parse the statements of the theorems. In so doing, we have completely eliminated the previously required act of faith, and only now do we (i.e., your everyday mathematicians) realize that the implicit act of faith for definitions really should have been explicit all along. </p>
<p>Moreover, by formalizing enough theorems, one can verify the usual behavior of a given object, thereby minimizing the possibility that they are defined in a way sufficiently different to cause problems. That is, if it looks like a duck and quacks like a duck, it is generally (although admittedly not always) a duck.</p>
<p>So, does formalization completely eliminate all acts of faith for a human to "verify" for themselves the correctness of a certain theorem? No, but it greatly shifts where our faith rests.</p>



<a name="295066469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295066469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295066469">(Aug 24 2022 at 15:12)</a>:</h4>
<p>Also, when formalizing, you know that someone talking about X is necessarily using the same definition of X as everyone else using the same system.</p>



<a name="295083924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295083924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295083924">(Aug 24 2022 at 16:40)</a>:</h4>
<p>... when formalizing <em>in mathlib</em>, at least.</p>



<a name="295085850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295085850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295085850">(Aug 24 2022 at 16:51)</a>:</h4>
<p>at least, if both people are using the same version of mathlib <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="295092212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295092212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295092212">(Aug 24 2022 at 17:22)</a>:</h4>
<blockquote>
<p>“We are very good at figuring out things that computers can’t do. If we were to imagine a future in which all the theorems we currently know about could be proven on a computer, we would just figure out other things that a computer can’t solve, and that would become ‘mathematics.’ ”</p>
</blockquote>



<a name="295092346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295092346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295092346">(Aug 24 2022 at 17:23)</a>:</h4>
<p>Ellenberg's quote <a href="https://www.quantamagazine.org/in-computers-we-trust-20130222/">here</a> has stayed with me</p>



<a name="295358650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295358650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295358650">(Aug 26 2022 at 05:58)</a>:</h4>
<p>I guess my perspective here was that for this project, it's unfeasible to check the definitions. To a human it's easier to convince themselves that there are enough ideas in there to get a proof, than to say with absolute certainty that all the definitions entering the theorem statement are correct.</p>
<p>Even after your example files, it could be that a lot of things are secretly zero, and it's an absolute impossibility for me to read enough of the Lean code to check all your definitions -- it's just way too much buildup! (And this checking would require me to have a much better understanding of Lean's syntax.)</p>
<p>Arguably, this issue becomes less pressing once a lot of stuff is in a trusted library like mathlib. So if somebody proves a theorem and formalizes it, then the referee has an easy job if all the definitions entering their main theorem are in that library. But much of the development of mathematics lies in finding good definitions! So in a paper with new definitions and theorems <em>about those new definitions</em>, the refereeing process will be almost as tedious as before, if not more (as now one has to be make sure the definitions are absolutely correct before they can be allowed to enter the library).</p>
<p>What happened in the first half of LTE is that I could really see how you were following the manuscript line-by-line and, in the process of carefully translating it into Lean, catching a number of small slips. This type of process is certainly something where formal proof verification is doing an excellent job, and it really radically changed my confidence in the argument. However, the second half of LTE has not added anything to my confidence (but it was already at 100% ;-) , so maybe that's not saying much). But of course it's a really impressive achievement to get all this mathematical machinery done in Lean!</p>



<a name="295365240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295365240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295365240">(Aug 26 2022 at 07:01)</a>:</h4>
<p>That's actually an interesting observation, I think. Because initially, I think part of the reasoning for making 9.1 the final goal of the challenge as opposed to 9.4/9.5 was that it is easy to check the statement of 9.1 whereas checking that we got all the definition entering into 9.4/9.5 right would be a lot nastier.<br>
And probably this is still true for an outsider. What I mean is that Peter is probably one of the few people (Dustin being another)</p>
<blockquote>
<p>[I]n the first half of LTE is that I could really see how you were following the manuscript line-by-line and, in the process of carefully translating it into Lean, catching a number of small slips. This type of process is certainly something where formal proof verification is doing an excellent job, and it really radically changed my confidence in the argument.</p>
</blockquote>
<p>could be true. And for the rest of the world, it is a lot easier to be convinced by a formal verification of 9.1 then by the results of the first half that led up to 9.4/9.5.</p>



<a name="295369133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295369133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295369133">(Aug 26 2022 at 07:36)</a>:</h4>
<p>Yes, that's right. I think for an outsider, it's definitely easier to be convinced by reading some of the definitions and examples that you give, in order to trust that you probably have the definitions right, and to read the final statement (which certainly is very clean!). But I'd argue that this process will not get up to 100% confidence, and I feel that in this specific situation for me, the confidence level I can get via this procedure is below the one I have via other means.</p>



<a name="295369577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295369577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295369577">(Aug 26 2022 at 07:40)</a>:</h4>
<p>I do think that these observations have never really showed up before.</p>



<a name="295369662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295369662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295369662">(Aug 26 2022 at 07:41)</a>:</h4>
<p>In other big projects, like 4CT, Odd-Order, Kepler, etc... checking the statement is feasible for most people after they spend a little amount of time learning some syntax.</p>



<a name="295375255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295375255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295375255">(Aug 26 2022 at 08:24)</a>:</h4>
<p>This feels a little like the P vs NP distinction, possibly in reverse: some statements are easy to parse, but their proofs are hard.  With the P vs NP analogy, parsing the statement is P, while proving it is NP.</p>
<p>This is probably what happens in the (most) of the examples of formalization so far.</p>
<p>In the case of LTE, even the statement is diffcult to parse, regardless of whether it is the formalized statement or the "informal" one.</p>



<a name="295376309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295376309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295376309">(Aug 26 2022 at 08:32)</a>:</h4>
<p>I agree.</p>
<p>I guess something I've said a while ago (incidentally in an e-mail to Michael Harris...) is relevant here again: To me, the main obstacle in writing papers is often not finding the proofs, but finding the "right" definitions, and stating the "relevant" theorems. If this is done right, the proofs almost come for free. But for such papers, formalization is of little use -- they could only ever check the proofs (and catch the occasional slip), but those were always the part that was relatively straightforward.</p>



<a name="295376823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295376823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295376823">(Aug 26 2022 at 08:37)</a>:</h4>
<p>The proof in LTE really is one of the few examples where I thought we had the right definitions and stated the relevant theorem, but the proof was still hard and unintuitive.</p>



<a name="295377455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377455">(Aug 26 2022 at 08:42)</a>:</h4>
<p>Do you think the situation for this particular proof has changed compared to 2 years ago?</p>



<a name="295377519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377519">(Aug 26 2022 at 08:43)</a>:</h4>
<p>E.g. by the insight that Gordan's lemma plays a non-trivial key role.</p>



<a name="295377526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377526">(Aug 26 2022 at 08:43)</a>:</h4>
<p>What do you mean by "the situation"? If you mean that I find it hard and unintuitive, that's gotten slightly better, but is still true.</p>



<a name="295377544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377544">(Aug 26 2022 at 08:43)</a>:</h4>
<p>Yeah, that's what I meant.</p>



<a name="295377614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377614">(Aug 26 2022 at 08:44)</a>:</h4>
<p>It's still the case that I have not been able to convey the idea of the proof in speaking to any other mathematician...</p>



<a name="295377721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377721">(Aug 26 2022 at 08:44)</a>:</h4>
<p>i.e., of the kind that even if they did not fully understand all the details, they could not go home and reconstruct the argument from the hints I gave</p>



<a name="295377767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377767">(Aug 26 2022 at 08:45)</a>:</h4>
<p>Maybe some definitions are still missing? But they would probably not be used outside this proof.</p>



<a name="295377888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377888">(Aug 26 2022 at 08:46)</a>:</h4>
<p>LTE builds a lot more theory around pseudo-normed groups. But I understand that this doesn't really pay off on paper.</p>



<a name="295377968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295377968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295377968">(Aug 26 2022 at 08:46)</a>:</h4>
<p>Well, that's certainly a relevant notion, and I've certainly toyed around with making a bit more theory there. But it doesn't really get to the heart of the matter...</p>



<a name="295378007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378007">(Aug 26 2022 at 08:47)</a>:</h4>
<p>I think the hardest bit is maybe the "normed homological algebra". You would like to say "assume that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> is a <em>splittable</em> pseudo-normed group, then it is <em>just</em> a spectral sequence argument".</p>



<a name="295378064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378064">(Aug 26 2022 at 08:47)</a>:</h4>
<p>Proving that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="script">M</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{\mathcal{M}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathcal">M</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span> is splittable boils down to Gordan's lemma. That part is quite intuitive, I think.</p>



<a name="295378180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378180">(Aug 26 2022 at 08:48)</a>:</h4>
<p>But even the statement of 9.5 is pretty gnarly, because of all the norms and inequalities.</p>



<a name="295378183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378183">(Aug 26 2022 at 08:48)</a>:</h4>
<p>Hmm yes. The problem is that all these notions come with their own <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span></span></span></span>, etc.</p>



<a name="295378245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378245">(Aug 26 2022 at 08:49)</a>:</h4>
<p>Right, if that could somehow be packaged up in a convenient way, then there might be a chance that 9.6 + 9.6=&gt;9.5 becomes "just a spectral sequence" argument.</p>



<a name="295378268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378268">(Aug 26 2022 at 08:49)</a>:</h4>
<p>For the pseudonormed stuff, there was some really nice discussion also here on the chat about possible formalizations (as some monoidal functors from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">R</mi><mrow><mo>≥</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbb R_{\geq 0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9341em;vertical-align:-0.2452em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">≥</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2452em;"><span></span></span></span></span></span></span></span></span></span> or something), but nothing really gives a nice abelian category or anything</p>



<a name="295378721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378721">(Aug 26 2022 at 08:53)</a>:</h4>
<p>I think one example of such "convenient packaging" is big-O notation. Of course that doesn't help us here. But maybe a suitable analogue could be made.</p>



<a name="295378772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295378772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295378772">(Aug 26 2022 at 08:54)</a>:</h4>
<p>So that once that notation is in place, you can run an "algebraic" argument.</p>



<a name="295383193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/295383193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Peter Scholze <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#295383193">(Aug 26 2022 at 09:24)</a>:</h4>
<p>I very much would want to have such a repackaging of the proof!</p>



<a name="296051085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/267928-condensed%20mathematics/topic/Real%20measures/near/296051085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/267928-condensed-mathematics/topic/Real.20measures.html#296051085">(Aug 30 2022 at 07:42)</a>:</h4>
<p>I spent the last week or so, trying to see where there is movement in the proof. But (unsurprisingly) there is very little flexibility. There are two ideas that I feel I haven't exhausted yet:</p>
<ol>
<li>The original proof has to deal with the very inexplicit nature of Breen--Deligne resolutions. Can we get some juice out of working with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">Q&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>?</li>
<li>The original proof uses in one very particular place that deep restrictions have a small operator norm. Can we use this to our advantage in more places?</li>
</ol>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>