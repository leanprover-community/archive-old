---
layout: archive
title: Zulip Chat Archive
permalink: /stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/index.html">Machine Learning for Theorem Proving</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html">IMO Grand Challenge</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="210271867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210271867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210271867">(Sep 16 2020 at 14:42)</a>:</h4>
<p>(creating a new topic here since AITP participants might not be subscribed to the IMO-gc channel)</p>
<p>(<a href="https://jesse-michael-han.github.io/blog/imo-gc-geo/">blog post</a> about building IMO geometry solvers for reference)</p>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/AITP.202020/near/210270846">said</a>:</p>
<blockquote>
<p>I have a question about geometry in the IMO challenge that neither watching the talk nor skimming through the blog post answers. Do you actually have Lean code formalizing geometry problem? Did you formalize Euclidean geometry in Lean 4?</p>
</blockquote>
<p>our current solvers are written in Haskell, and operate in a fragment of Tarski's elementary geometry (conservatively expanded with definable function symbols). they are proof producing, but do not target Lean4 proof terms.</p>
<p>in principle, everything we have done could be implemented in Lean4, but Haskell was a convenient choice for rapid prototyping</p>



<a name="210272598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210272598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210272598">(Sep 16 2020 at 14:47)</a>:</h4>
<p>I see. Let's hope your last sentence will soon sound very strange <span aria-label="four leaf clover" class="emoji emoji-1f340" role="img" title="four leaf clover">:four_leaf_clover:</span> .</p>



<a name="210273147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210273147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210273147">(Sep 16 2020 at 14:51)</a>:</h4>
<blockquote>
<p>our current solvers are written in Haskell, and operate in a fragment of Tarski's elementary geometry (conservatively expanded with definable function symbols). they are proof producing, but do not target Lean4 proof terms.</p>
</blockquote>
<p>I'll add that we used many high-level lemmas without proof, and relied on numerical diagrams for NDGs such as distinctness of points and non-collinearity. The goal was to experiment with different solver architectures efficiently.</p>



<a name="210273309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210273309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210273309">(Sep 16 2020 at 14:52)</a>:</h4>
<p>What does NDGs means?</p>



<a name="210273546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210273546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210273546">(Sep 16 2020 at 14:53)</a>:</h4>
<p>It stands for "non-degeneracy conditions".</p>



<a name="210274331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210274331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210274331">(Sep 16 2020 at 14:58)</a>:</h4>
<p>Ok, thanks.</p>



<a name="210274660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210274660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210274660">(Sep 16 2020 at 15:00)</a>:</h4>
<p>to elaborate a little: often, NDGs like exactly which points are distinct, what circles are not trivial, etc. are not explicit in the official problem statements, and are sometimes not even provable from the rest of the problem; we approximated human intuition for these kinds of assumptions by synthesizing a diagram for the problem and reading NDGs off of them</p>



<a name="210286216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210286216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210286216">(Sep 16 2020 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116045">@Jesse Michael Han</span> </p>
<blockquote>
<p>(it took a team of mathematicians months to formally construct a single perfectoid space in Lean)<br>
well... we actually only have the empty perfectoid space. And I think that it took Kevin &lt; 3hrs (but of course it took us months to <em>define</em> its type).</p>
</blockquote>



<a name="210287592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210287592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210287592">(Sep 16 2020 at 16:34)</a>:</h4>
<p>I was expecting it to be <code>rfl</code></p>



<a name="210287664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210287664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210287664">(Sep 16 2020 at 16:35)</a>:</h4>
<p>but it turned out I had to prove that an arbitrary projective limit of zero topological rings was bi-continuously isomorphic to the zero topological ring</p>



<a name="210312236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210312236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210312236">(Sep 16 2020 at 19:56)</a>:</h4>
<p>In an IMO problem, "triangle" implies nondegenerate (and the mathlib definition also requires that); "circle" implies positive radius (but I'm less sure whether that should be included in a bundled <code>euclidean_geometry.sphere</code> definition, as more lemmas may well work without that condition and it may also be useful to construct such a bundled object from centre plus radius without proving the radius positive at that point).</p>



<a name="210312593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210312593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210312593">(Sep 16 2020 at 19:59)</a>:</h4>
<p>Some nondegeneracy conditions are the appropriate formal interpretation of words such as "between" or "again" in the problem statement. Other conditions that don't come from such explicit words in the problem statement aren't generally safe to assume. For example, IMO 2019 problem 2 has some solutions that involve looking that the point of intersection of two lines that might be parallel, and the mark scheme deducted marks if you did that without handling the special case where those lines were parallel.</p>



<a name="210313179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210313179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210313179">(Sep 16 2020 at 20:03)</a>:</h4>
<p>It wouldn't surprise me if some older problems (from before leaders could readily play with moving points around in geometry software to see what configurations can occur), especially older shortlist problems, do fail to mention such conditions at all, however. (Cf. IMO 1994 shortlist problem G2, which was false.)</p>



<a name="210356844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210356844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210356844">(Sep 17 2020 at 07:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116045">@Jesse Michael Han</span> You should build a web interface for that diagram generator! It looks awesome. (Could it run in WASM on a modern laptop, or is that asking too much?) Bonus points if you can add the <code>tikz</code> code next to the output.</p>



<a name="210356880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210356880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210356880">(Sep 17 2020 at 07:41)</a>:</h4>
<p>Your blogpost is very interesting, btw</p>



<a name="210376974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210376974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joseph Myers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210376974">(Sep 17 2020 at 11:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="230999">Daniel Selsam</span> <a href="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/IMO.20Grand.20Challenge/near/210273147">said</a>:</p>
<blockquote>
<blockquote>
<p>our current solvers are written in Haskell, and operate in a fragment of Tarski's elementary geometry (conservatively expanded with definable function symbols). they are proof producing, but do not target Lean4 proof terms.</p>
</blockquote>
<p>I'll add that we used many high-level lemmas without proof, and relied on numerical diagrams for NDGs such as distinctness of points and non-collinearity. The goal was to experiment with different solver architectures efficiently.</p>
</blockquote>
<p>It sounds like you have a long list of geometrical definitions and lemmas found to be useful for formal synthetic geometry proofs. It would be good for that list to be available somewhere as a checklist for anyone expanding mathlib's support for Euclidean geometry. (Of course definitions and lemmas going in mathlib should be in suitably general form, possibly more general than you needed for your purposes. For example, results in <code>geometry.euclidean</code> are proved in general dimensions, for <code>simplex</code> not <code>triangle</code>, where applicable (even two-dimensional results take place in a two-dimensional subspace of a possibly larger space), and anything true more generally for affine spaces (or affine spaces over an ordered field, etc., but not depending on anything Euclidean) should go in <code>linear_algebra.affine_space</code>.)</p>



<a name="210414240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/IMO%20Grand%20Challenge/near/210414240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/IMO.20Grand.20Challenge.html#210414240">(Sep 17 2020 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="266253">@Joseph Myers</span> Responded here: <a href="#narrow/stream/208328-IMO-grand-challenge/topic/Geometry/near/210413765">https://leanprover.zulipchat.com/#narrow/stream/208328-IMO-grand-challenge/topic/Geometry/near/210413765</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>