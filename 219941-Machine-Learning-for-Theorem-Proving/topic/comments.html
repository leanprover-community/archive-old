---
layout: archive
title: Zulip Chat Archive
permalink: /stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/index.html">Machine Learning for Theorem Proving</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html">comments</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="210252489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210252489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210252489">(Sep 16 2020 at 12:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="249373">Stanislas Polu</span> <a href="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/AITP.202020/near/210139173">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> hi hi! To follow-up on your question. Anybody who has applied State of the Art technology to code generation knows how useful are comments in code to train models to translate from informal prompts to usable code. If I was to make one recommendation for the Lean community, that would be to comment Lean code as much as conceivably possible. Future ML experts will thank you for that :)</p>
</blockquote>
<p>I hadn't heard about anything like this before and I'm curious: are there particular kinds of comments that are especially useful?</p>



<a name="210253003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253003">(Sep 16 2020 at 12:22)</a>:</h4>
<p>There is quite a variety of sorts of comments in mathlib, for example:</p>
<ul>
<li>technical comments about local choices made to work around a bug or limitation in Lean</li>
<li>comments within tactic blocks that give the reader a sense of the structure of the argument, without having to load the proof in an IDE</li>
<li>declaration-level "docstring" comments, mainly on definitions, or on particularly complicated or well-known lemmas</li>
<li>module-level docstrings which give an overview of the contents of a module, any relevant implementation decisions, local notations, etc.</li>
<li>"library notes" which explain the reason for some pattern (usually a technical one related to the workings of Lean in particular) which can be referenced throughout mathlib</li>
</ul>



<a name="210253067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253067">(Sep 16 2020 at 12:23)</a>:</h4>
<p>I would like to use this as an excuse to fill my forthcoming mathlib PRs with comments so hopefully the answer is going to be "everything is useful" ;-)</p>



<a name="210253116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253116">(Sep 16 2020 at 12:23)</a>:</h4>
<p>I was imagining commenting long proofs</p>



<a name="210253138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253138">(Sep 16 2020 at 12:23)</a>:</h4>
<p>One line comments saying where we're going</p>



<a name="210253380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253380">(Sep 16 2020 at 12:25)</a>:</h4>
<p>I always wondered whether there was anything to be gained from (hypothetical) docstrings like</p>
<div class="codehilite"><pre><span></span><code><span class="c">/-</span><span class="cm">- The canonical &quot;swap&quot; isomorphism between `α × β` and `β × α`. -/</span>
<span class="n">def</span> <span class="n">prod_comm</span> <span class="o">(</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">β</span> <span class="err">≃</span> <span class="n">β</span> <span class="bp">×</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">[</span><span class="bp">...</span><span class="o">]</span>
</code></pre></div>


<p>that wasn't already obvious from the type, but now I can see that it might teach a machine reader something about the meaning of the English words "canonical" and "swap"!</p>



<a name="210253605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210253605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210253605">(Sep 16 2020 at 12:27)</a>:</h4>
<p>Well if the AI can do something useful with copyright and author information comments then we're all set on that front.</p>



<a name="210255682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210255682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210255682">(Sep 16 2020 at 12:45)</a>:</h4>
<p>Kevin you asked about Stacks project crossreferences--I guess any time one of your lemmas overlaps in content with a Stacks project item (but isn't contained in a more specific item) then you should link the lemma to the item.</p>



<a name="210266352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210266352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210266352">(Sep 16 2020 at 14:07)</a>:</h4>
<p><strong>Everything is useful</strong></p>



<a name="210267200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210267200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210267200">(Sep 16 2020 at 14:12)</a>:</h4>
<p>More precisely, </p>
<ul>
<li>Comments inlined in proofs would help alignment between local informal hints and actual proof code.</li>
<li>Declaration-level comments even if trivial would provide precious alignement between informal and formal definitions or theorem statements.</li>
<li>Module level docstrings that provide an overview are very probably useful as well</li>
</ul>
<p>I think intuitively, any comment that relate to some mathematical knowledge, even if trivial has a good chance to be leverageable in a useful way.</p>
<p>I have less to say about "technical comments" about Lean or specific work-arounds but you shouldn't feel like they would hurt anything.</p>



<a name="210267902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210267902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210267902">(Sep 16 2020 at 14:17)</a>:</h4>
<p>I think a very useful type of comment that does not really exists that much in Lean today would be a high-level summary of the proof strategy as part of the declaration-level docstring. But I also appreciate the fact that this may not be very natural for mathlib contributors to provide those.</p>



<a name="210273913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210273913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210273913">(Sep 16 2020 at 14:56)</a>:</h4>
<p>You say this but I suspect that when mathematicians write lean they very much know the high level summary of the proof strategy. These are not like the "heavy refl" or crush tactics of program verification</p>



<a name="210274435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210274435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Stanislas Polu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210274435">(Sep 16 2020 at 14:59)</a>:</h4>
<p>Yeah, I mostly meant it might generally feel repetitive or useless to them to state it in plain english, as it does not seem to happen a lot.</p>



<a name="210287828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/comments/near/210287828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/comments.html#210287828">(Sep 16 2020 at 16:36)</a>:</h4>
<p>People don't see it done, so they don't do it. The teaching materials I write are full of comments.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>