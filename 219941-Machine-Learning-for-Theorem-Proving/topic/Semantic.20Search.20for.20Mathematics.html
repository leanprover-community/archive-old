---
layout: archive
title: Zulip Chat Archive
permalink: /stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/index.html">Machine Learning for Theorem Proving</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html">Semantic Search for Mathematics</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="313724940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313724940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313724940">(Dec 03 2022 at 19:10)</a>:</h4>
<p>I was talking to someone recently and I mentioned how Terry Tao has been asking for some sort of "semantic search" for mathematics for over a decade now.  I'm trying to dig up some old posts of his on the topic.  The idea is that ideally you should be able to ask a mathematical search engine for a formula or a statement and it should be able to tell you if it is already in the literature.  Obviously, you don't just want something which is an exact word for word (or symbol for symbol) match, but also you don't want something which looks similar but is totally not semantically related.  I wonder what progress has been made on this over the last decade.  Is Google and Google Scholar still about as good as you can get?  (Of course Google has also improved over the last decade, but I still think this aspect is lacking.)  (Of course the best you can get is still talking to a human expert, which is what MathOverflow and other social networks excel at.)</p>



<a name="313724996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313724996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313724996">(Dec 03 2022 at 19:11)</a>:</h4>
<p>And of course Terry Tao isn't the only one who has talked about this.</p>



<a name="313726153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313726153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313726153">(Dec 03 2022 at 19:25)</a>:</h4>
<p>There was an interesting book written about a decade ago on the topic of this and generally building a mathematical digital library <a href="https://arxiv.org/pdf/1404.1905.pdf">Developing a 21st Century Global Library for Mathematics Research</a>.  I was asked to be one of the (open) reviewers (because of some comments I left on Tao's blog on the subject).  Also, I didn't know who he was at the time, but Yann LeCun (a bigshot in neural networks) was one of the authors.  I'd be curious how the ideas have aged over the past decade.  It seemed like a hard problem then, and frankly it still seems hard, but maybe slightly more trackable.</p>



<a name="313726312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313726312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313726312">(Dec 03 2022 at 19:27)</a>:</h4>
<p>Some searching brought up <a href="https://approach0.xyz/search/">https://approach0.xyz/search/</a>.  I've never heard of it before, I wonder if it is any good?</p>



<a name="313766976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313766976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313766976">(Dec 04 2022 at 05:39)</a>:</h4>
<p>It's impressive that it comes up with many non-exact matches when I <a href="https://approach0.xyz/search/?q=OR%20content%3A%24%7B%5Cfrac%20%7B1%7D%7B%5Cpi%20%7D%7D%3D%7B%5Cfrac%20%7B2%7B%5Csqrt%20%7B2%7D%7D%7D%7B99%5E%7B2%7D%7D%7D%5Csum%20_%7Bk%3D0%7D%5E%7B%5Cinfty%20%7D%7B%5Cfrac%20%7B(4k)!%7D%7Bk!%5E%7B4%7D%7D%7D%7B%5Cfrac%20%7B26390k%2B1103%7D%7B396%5E%7B4k%7D%7D%7D%24&amp;p=1">searched for Ramanujan's formula for pi</a>.</p>



<a name="313767188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313767188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tom Chen <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313767188">(Dec 04 2022 at 05:43)</a>:</h4>
<p>Looks like many are (1) change variable name (e.g. n vs k) (2) constant computation (e.g. 26390 vs 58*455), so looks like the engine understands LaTeX and maybe somehow parse it</p>



<a name="313767274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313767274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313767274">(Dec 04 2022 at 05:44)</a>:</h4>
<p>There are some discussion under <a href="https://terrytao.wordpress.com/2009/10/29/displaying-mathematics-on-the-web/#comment-42086">Tao's blogpost</a> in 2009 but Tao didn't participate. There's <a href="https://terrytao.wordpress.com/2009/08/27/mathematical-research-and-the-internet/">this talk</a> but not exactly relevant.</p>



<a name="313767480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313767480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313767480">(Dec 04 2022 at 05:48)</a>:</h4>
<p>Approach Zero's <a href="https://github.com/approach0/search-engine">codebase</a> has been inactive for two years, but in <a href="https://github.com/approach0/math-dense-retrievers">another repo</a> I found a <a href="https://arxiv.org/pdf/2203.11163v2.pdf">fairly recent paper</a>.</p>



<a name="313768938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313768938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313768938">(Dec 04 2022 at 06:11)</a>:</h4>
<p>Some other services that comes to mind, though many are not for math specifically:<br>
<a href="https://wayback.cecm.sfu.ca/projects/ISC/ISCmain.html">Inverse symbolic calculator</a> (<a href="https://oeis.org/wiki/Plouffe%27s_Inverter">fuzzy numerical search for mathematical constants</a>)<br>
<a href="https://behemoth.cl.cam.ac.uk/search/">SErAPIS</a> for Isabelle from the ALEXANDRIA project<br>
<a href="https://arxiv-sanity-lite.com/about">arxiv-sanity</a> (recommends new (machine learning) papers for each tag based on SVMs over tfidf features of paper abstracts)<br>
<a href="https://www.semanticscholar.org/about">Semantic Scholar</a> (I use it sparingly and only today learned it's backed by the Allen Institute for AI; another website I consider to be similar, <a href="https://www.researchgate.net/about">ResearchGate</a>, doesn't brag about use of AI)<br>
Of course there is also the recent <a href="https://galactica.org/mission/">Galactica</a> which aims to <a href="https://galactica.org/explore/">provide accurate citations</a> but only survived three days; apparently its hallucinations aren't controlled as well as ChatGPT.</p>



<a name="313806126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/313806126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tyler Josephson ⚛️ <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#313806126">(Dec 04 2022 at 13:04)</a>:</h4>
<p>Here’s a paper I came across: <a href="https://dl.acm.org/doi/abs/10.1145/3394486.3403056">https://dl.acm.org/doi/abs/10.1145/3394486.3403056</a></p>



<a name="314387171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/314387171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#314387171">(Dec 07 2022 at 06:49)</a>:</h4>
<p>I was the one who was talking to Jason, by the way :) I'm new to this stuff and it really impressed me how the daily working process in a mathematician's life lacks some basic tooling that someone should be able to do. As an NLP Engineer, e. g. someone directly in the profession for making that sort of stuff, I had no idea that there is a need to semantic search in math papers. And given how Terry friggin Tao has been talking about that for a decade, there must be a crying need for it. Given the amazing recent breakthroughs in NLP with large pretrained LMs, there must be some new approaches that haven't been tried yet for this task. Would anyone be up for a big of messing around with LMs for math semantic search?</p>



<a name="314428951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/314428951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#314428951">(Dec 07 2022 at 11:02)</a>:</h4>
<p>btw, I just talked with an NLP guy who does semantic search and who'd be very interested in building semantic search for math - only we're not sure where to get the data. he also did code search, so maybe we can start with building better semantic search for mathlib? would you folks be interested?</p>



<a name="314773490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/314773490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#314773490">(Dec 08 2022 at 21:17)</a>:</h4>
<p>Here are some of my quick thoughts.</p>
<p>A nice stepping stone on the way to a search engine for all mathematical knowledge might be a search engine for mathib only. This makes challenges of scale more manageable, and also makes UI/UX easier since we know the goal is always to find the user a formal statement. </p>
<p>My immediate thought would be to train CLIP-style query-value embeddings. At inference time, we'd embed the user's query (which can be natural language, formal, or a mixture of the two), then use a fast nearest neighbors search to match the query embedding against pre-computed value embeddings of mathlib formal statements. Where would we get data? Well one thing we know is that Codex is really good at informalization, and when Codex fails, the prediction is still semantically similar to the correct answer. So we could informalize every theorem in mathlib with Codex, and those pairs give us 100k training examples. Similarly, we could prompt Codex to do other tasks than informalization, for example "Use natural language connectives but mathlib names" or "copy the theorem statement but leave out some hypotheses". This could get us millions of training examples. </p>
<p>I don't know very much about deploying neural nets in synchronous applications, but I expect we'd be using a pretty small neural network and mathlib search volume is pretty low, so we might be able to serve this on a single cloud GPU. </p>
<p>This neural net based approach might not scale to the entire internet, but if we want truly semantic search I don't think we can avoid somehow computing dense vector representations. But perhaps this approach could scale to arXiv + math overflow + stack exchange + journals + ebooks, which is maybe all that matters. </p>
<p>Any thoughts <span class="user-mention" data-user-id="240875">@Yuhuai Tony Wu</span>? This modelling approach is somewhat similar to your team's work on premise selection.</p>



<a name="314837509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/314837509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#314837509">(Dec 09 2022 at 08:05)</a>:</h4>
<p>I think both a) code search over entire mathlib and b) semantic search over arXiv + math overflow + stack exchange + journals + ebooks would be something worth exploring! Let me ping the guy who does semantic search and code search and who was interested in exploring semantic search for math, and see what he thinks</p>



<a name="315444815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/315444815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#315444815">(Dec 12 2022 at 19:36)</a>:</h4>
<p>Maybe you should first ask in the <a class="stream" data-stream-id="113488" href="/#narrow/stream/113488-general">#general</a> or <a class="stream" data-stream-id="116395" href="/#narrow/stream/116395-maths">#maths</a> stream to gather a requirement document or something. From my own experience, I find the mathlib docs search box easy enough to use, and I never use <code>library_search</code>.</p>



<a name="316108511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316108511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316108511">(Dec 15 2022 at 18:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284997">Zhangir Azerbayev</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/314773490">said</a>:</p>
<blockquote>
<p>My immediate thought would be to train CLIP-style query-value embeddings.</p>
</blockquote>
<p>consider trying <a href="https://openai.com/blog/new-and-improved-embedding-model/">https://openai.com/blog/new-and-improved-embedding-model/</a> before training your own</p>



<a name="316186280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316186280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316186280">(Dec 16 2022 at 04:23)</a>:</h4>
<p>Just found this: <a href="https://lablab.ai/event/semantic-search-hackathon">https://lablab.ai/event/semantic-search-hackathon</a> . Starting tomorrow!</p>



<a name="316224001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316224001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316224001">(Dec 16 2022 at 09:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/316186280">said</a>:</p>
<blockquote>
<p>Just found this: <a href="https://lablab.ai/event/semantic-search-hackathon">https://lablab.ai/event/semantic-search-hackathon</a> . Starting tomorrow!</p>
</blockquote>
<p>Any indication there will be people focused on Lean?</p>



<a name="316235544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316235544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316235544">(Dec 16 2022 at 10:53)</a>:</h4>
<p>Hey guys, sorry for disappearing. I was actually thinking I pull you in a call with the semantic search guy? You'd probably help us clarify the use cases for the math semantic search, and we could think together which way to attack the problem, and what can be done? Would you guys be up for a call?</p>



<a name="316250551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316250551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316250551">(Dec 16 2022 at 12:14)</a>:</h4>
<p>Why doesn't the semantic search guy join the discussion here on zulip?</p>



<a name="316257596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316257596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316257596">(Dec 16 2022 at 12:49)</a>:</h4>
<p><span class="user-mention" data-user-id="573272">@Vladimir Orshulevich</span> hey man, this is the Zulip community of the Lean theorem prover, these folks are also interested in semantic search for math. We had a little chat about that, you can see it above. Wanna train a model or something?</p>



<a name="316258251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316258251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316258251">(Dec 16 2022 at 12:52)</a>:</h4>
<p>The conference at IPAM in Feb on machines and mathematics organised by Terry Tao, Tim Gowers and various people from this Zulip will have a fair bit of lean representation and that very conference is happening because Tao is interested in semantic search in mahematics</p>



<a name="316270342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316270342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316270342">(Dec 16 2022 at 13:47)</a>:</h4>
<p>Btw, can you share use cases for the semantic search, maybe with example queries and responses?</p>
<p>We wanna have an understanding of the goal, and to decide which data to use. (arxiv papers? code search over mathlib?)</p>



<a name="316273190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316273190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vladimir Orshulevich <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316273190">(Dec 16 2022 at 13:58)</a>:</h4>
<p>Hey guys,</p>
<p>Great to be here and have a chance to help with semantic search engine for math!</p>
<p>Following the conversation: <br>
"ada-002" from openAI is cool, but it is paid api. So mb it is reasonable to try it for testing proof-of-concept. But for search service like that I suggest to fine-tune some Salesforce/codegen-{350M, 2B, 6B, 16B}-multi on some pairs . It is pre-trained in similar way. So the problem here is data, everything else I probably know how to implement.</p>
<p>"single cloud GPU"<br>
I've made text-visual and text-audio search services with HNSW index. It's 4-5K qps (inference + search) for single RTX3090 (probably twice with A100). I hope its enough to test. Even though its horizontally scalable.</p>



<a name="316286128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316286128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316286128">(Dec 16 2022 at 14:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="568200">Vadim Fomin</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/316270342">said</a>:</p>
<blockquote>
<p>Btw, can you share use cases for the semantic search, maybe with example queries and responses?</p>
<p>We wanna have an understanding of the goal, and to decide which data to use. (arxiv papers? code search over mathlib?)</p>
</blockquote>
<p>Here is an example of a question I asked chatGPT which it answered incorrectly:</p>
<ul>
<li>Is it true that every smooth, closed manifold of dimension at least 3 admits a metric with negative Ricci curvature?</li>
</ul>



<a name="316286186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316286186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316286186">(Dec 16 2022 at 14:55)</a>:</h4>
<p>This is a deep theorem. Semantic search should find it.</p>



<a name="316286541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316286541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316286541">(Dec 16 2022 at 14:57)</a>:</h4>
<p>Another that I asked chatGPT and it answered incorrectly (answered the wrong question and justified with incorrect logic).</p>
<ul>
<li>What are examples of knots that are known not to be <em>ribbon</em> but which may be <em>slice</em>?</li>
</ul>
<p>For this discussion it does not matter what these mean - they are some properties of knots.</p>



<a name="316286909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316286909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316286909">(Dec 16 2022 at 14:59)</a>:</h4>
<p>chatGPT answered giving examples of knots that are known not to be <em>slice</em> instead. Then claimed it is not known whether they are <em>ribbon</em>.</p>



<a name="316287241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316287241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316287241">(Dec 16 2022 at 15:00)</a>:</h4>
<p>By the result that all <em>ribbon</em> knots are <em>slice</em>, those that are not <em>slice</em> are not <em>ribbon</em>. This is not only a well-known result, but one which <em>chatGPT had stated as background material when answering</em>.</p>



<a name="316299850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316299850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316299850">(Dec 16 2022 at 15:55)</a>:</h4>
<blockquote>
<p>Is it true that every smooth, closed manifold of dimension at least 3 admits a metric with negative Ricci curvature?</p>
</blockquote>
<p>Googling "admit negative ricci curvature" returns the paper of Lohkamp as the first result, which states the result for three-manifolds in the introduction (due to Gao--Yau and Brooks), and the result for dimension &gt;=3 (proven in the paper) is on the second page, but the article is behind JSTOR paywall beyond the first page. I wonder whether Galactica has been trained on sci-hub database ... May need to OCR as well. This info is also avaiable in a <a href="https://math.stackexchange.com/a/2903036/12932">math.SE answer</a> though.</p>
<blockquote>
<p>What are examples of knots that are known not to be ribbon but which may be slice?</p>
</blockquote>
<p>I looked up Knot Atlas and KnotInfo but ribbon-ness seems not to be a field in their databases, so you have to get the information elsewhere (papers and online discussions?).</p>



<a name="316405493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316405493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316405493">(Dec 17 2022 at 05:45)</a>:</h4>
<p>It is in <a href="https://en.wikipedia.org/wiki/Ribbon_knot">wikipedia</a> including the slice-ribbon conjecture.</p>



<a name="316405579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316405579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316405579">(Dec 17 2022 at 05:47)</a>:</h4>
<p>Another example of a question:  what is known about the traces of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2 \times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> matrices with integer coefficients with determinant 1</p>



<a name="316419581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316419581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316419581">(Dec 17 2022 at 08:53)</a>:</h4>
<p>What is known? Presumably the trace can be any integer? Yeah [n,1;-1,0]</p>



<a name="316419686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316419686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316419686">(Dec 17 2022 at 08:54)</a>:</h4>
<p>Isn't this a calculation/construction rather than something that you can find on the internet? Should one expect an AI to be able to solve this?</p>



<a name="316423110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316423110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316423110">(Dec 17 2022 at 09:27)</a>:</h4>
<p>I asked too simple a question. I believe what I meant to ask was the relation between the traces of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> and the commutator <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">ABA^{-1}B^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> having determinant 1.</p>



<a name="316428117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316428117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316428117">(Dec 17 2022 at 10:09)</a>:</h4>
<p>And an AI is supposed to be able to answer this?</p>



<a name="316428210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316428210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316428210">(Dec 17 2022 at 10:10)</a>:</h4>
<p>I don't really know what's in scope</p>



<a name="316466045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316466045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316466045">(Dec 17 2022 at 14:25)</a>:</h4>
<p>An AI is supposed to find papers/books that address this question, and even the statements of theorems within them. That is essentially the definition of "semantic search"</p>



<a name="316507597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316507597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316507597">(Dec 17 2022 at 20:31)</a>:</h4>
<p>AI is not there yet afaik.</p>



<a name="316832421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316832421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Lacker <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316832421">(Dec 19 2022 at 21:14)</a>:</h4>
<p>here's an example for semantic search: "what theorems can tell me when a bunch of lines from the vertices of a triangle to the opposite side intersect?" this is basically an elementary geometry question. it's a bit too advanced for chatgpt, which answers:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">There</span> <span class="n">are</span> <span class="n">several</span> <span class="n">theorems</span> <span class="n">that</span> <span class="n">pertain</span> <span class="n">to</span> <span class="n">the</span> <span class="n">intersection</span> <span class="n">of</span> <span class="n">lines</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">the</span> <span class="n">vertices</span> <span class="n">of</span> <span class="n">a</span> <span class="n">triangle</span> <span class="n">to</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side.</span> <span class="n">Here</span> <span class="n">are</span> <span class="n">three</span> <span class="n">such</span> <span class="n">theorems</span><span class="o">:</span>

<span class="n">The</span> <span class="n">Angle</span> <span class="n">Bisector</span> <span class="n">Theorem</span> <span class="n">states</span> <span class="n">that</span> <span class="k">in</span> <span class="n">any</span> <span class="n">triangle</span><span class="o">,</span> <span class="n">the</span> <span class="n">line</span> <span class="n">segment</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">a</span> <span class="n">vertex</span> <span class="n">to</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">is</span> <span class="n">bisected</span> <span class="kd">by</span> <span class="n">the</span> <span class="n">angle</span> <span class="n">bisector</span> <span class="n">of</span> <span class="n">the</span> <span class="n">angle</span> <span class="n">at</span> <span class="n">that</span> <span class="n">vertex.</span> <span class="n">This</span> <span class="n">means</span> <span class="n">that</span> <span class="n">the</span> <span class="n">line</span> <span class="n">segment</span> <span class="n">is</span> <span class="n">divided</span> <span class="n">into</span> <span class="n">two</span> <span class="n">equal</span> <span class="n">parts</span> <span class="kd">by</span> <span class="n">the</span> <span class="n">angle</span> <span class="n">bisector.</span>

<span class="n">The</span> <span class="n">Median</span> <span class="n">Theorem</span> <span class="n">states</span> <span class="n">that</span> <span class="k">in</span> <span class="n">any</span> <span class="n">triangle</span><span class="o">,</span> <span class="n">the</span> <span class="n">line</span> <span class="n">segment</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">a</span> <span class="n">vertex</span> <span class="n">to</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">is</span> <span class="n">twice</span> <span class="n">as</span> <span class="n">long</span> <span class="n">as</span> <span class="n">the</span> <span class="n">line</span> <span class="n">segment</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">to</span> <span class="n">the</span> <span class="n">midpoint</span> <span class="n">of</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">of</span> <span class="n">the</span> <span class="n">triangle.</span>

<span class="n">The</span> <span class="n">Altitude</span> <span class="n">Theorem</span> <span class="n">states</span> <span class="n">that</span> <span class="k">in</span> <span class="n">any</span> <span class="n">triangle</span><span class="o">,</span> <span class="n">the</span> <span class="n">line</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">a</span> <span class="n">vertex</span> <span class="n">to</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">is</span> <span class="n">perpendicular</span> <span class="n">to</span> <span class="n">that</span> <span class="n">side.</span> <span class="n">This</span> <span class="n">means</span> <span class="n">that</span> <span class="n">the</span> <span class="n">line</span> <span class="n">forms</span> <span class="n">a</span> <span class="n">right</span> <span class="n">angle</span> <span class="k">with</span> <span class="n">the</span> <span class="n">side.</span>

<span class="n">These</span> <span class="n">theorems</span> <span class="n">can</span> <span class="n">help</span> <span class="n">you</span> <span class="n">understand</span> <span class="n">the</span> <span class="n">relationship</span> <span class="n">between</span> <span class="n">the</span> <span class="n">lines</span> <span class="n">drawn</span> <span class="k">from</span> <span class="n">the</span> <span class="n">vertices</span> <span class="n">of</span> <span class="n">a</span> <span class="n">triangle</span> <span class="n">to</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">side</span> <span class="n">and</span> <span class="n">how</span> <span class="n">they</span> <span class="n">intersect.</span>
</code></pre></div>
<p>none of those are really a direct answer to the question, a better answer i think would be Ceva's theorem - <a href="https://en.wikipedia.org/wiki/Ceva%27s_theorem">https://en.wikipedia.org/wiki/Ceva%27s_theorem</a> . I bet you could come up with a corpus of questions like this, that could be answered by wikipedia pages. the goal of the semantic search system isn't to directly solve the problem, but just to correctly figure out which pages are the relevant ones, in a way that's better than just googling can do.</p>



<a name="316854782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/316854782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#316854782">(Dec 20 2022 at 00:09)</a>:</h4>
<p>Thanks for these explanations: I have a much better understanding of what this phrase means now!</p>



<a name="317079264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/317079264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sid <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#317079264">(Dec 21 2022 at 03:44)</a>:</h4>
<p><span class="user-mention" data-user-id="238605">@Kevin Lacker</span> Interestingly, if you pose this question to <a href="http://perplexity.ai">perplexity.ai</a>, it is able to retrieve Ceva's theorem (<a href="https://www.perplexity.ai/?uuid=94ccba12-5e6a-4f3f-b587-e5877fae8bf7">https://www.perplexity.ai/?uuid=94ccba12-5e6a-4f3f-b587-e5877fae8bf7</a>). Though its reference of SSS doesn't make sense in context</p>



<a name="318956775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/318956775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#318956775">(Jan 02 2023 at 09:15)</a>:</h4>
<p>Hey folks,<br>
We have A LOT of arxiv data, but we'd also like to include some math books in the dataset, it would probably make the search more relevant. Do you have any idea where we could scrape some?</p>



<a name="318958520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/318958520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#318958520">(Jan 02 2023 at 09:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="568200">Vadim Fomin</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/318956775">said</a>:</p>
<blockquote>
<p>Hey folks,<br>
We have A LOT of arxiv data, but we'd also like to include some math books in the dataset, it would probably make the search more relevant. Do you have any idea where we could scrape some?</p>
</blockquote>
<p>Library Genesis and SciHub.</p>



<a name="318963120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/318963120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#318963120">(Jan 02 2023 at 10:05)</a>:</h4>
<p>A nice suggestion! Is there any chance there is anything open-source (with older books perhaps?)</p>



<a name="318964205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/318964205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#318964205">(Jan 02 2023 at 10:13)</a>:</h4>
<p>Stacks Project and Kerodon are open source.</p>



<a name="318966086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/318966086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vadim Fomin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#318966086">(Jan 02 2023 at 10:26)</a>:</h4>
<p>Both look like exactly the kind of thing we're looking for. You see, arxiv papers are nice because there is markup like "Theorem 1", "Lemma 2", and before them, there's some kind of a less formal explanation what's going on ("Let's introduce this idea", "This theorem connects this to that" etc.) - this is likely to be very useful for the semantic search engine. We'd like to find books that are also in this format, there's probably more fundamental stuff that would be good to be able to look up. And both Stacks Project and Kerodon look good for this, only we'd need rather <em>a lot</em>...</p>



<a name="319036181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/319036181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kaiyu Yang <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#319036181">(Jan 02 2023 at 18:16)</a>:</h4>
<p><a href="https://github.com/rfitzp/Elements">https://github.com/rfitzp/Elements</a></p>



<a name="319109080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/319109080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#319109080">(Jan 03 2023 at 00:14)</a>:</h4>
<p>Project Gutenberg has some math books, e.g. <a href="https://www.gutenberg.org/ebooks/search/?query=number+theory&amp;submit_search=Go%21">in number theory</a>; not in nice format though</p>
<p>EGA/SGA (algebraic geometry, French): <a href="https://github.com/zmwangx/Typeset-EGA-SGA">typeset version</a> (<a href="https://github.com/dkmiller">Dan Miller</a> should have the SGA TeX source) / <a href="https://wstein.org/sga/">scanned version</a> (may be partially superseded by the Stacks project)</p>
<p><a href="https://www.jmilne.org/math/">J.S. Milne's books and notes</a> in PDF but I guess you can ask him for TeX source</p>
<p>Terry Tao's blogposts were made into several <a href="https://terrytao.wordpress.com/books/">books</a>, so you might as well scrape his blog</p>
<p><a href="https://math.uchicago.edu/~dannyc/books/">Danny Calegari</a> (low-dimensional topology)</p>
<p><a href="https://web.archive.org/web/20221202172146/https://math.jhu.edu/~eriehl/">Emily Riehl</a> (site down at the moment)</p>
<p><a href="https://www.math.ias.edu/~lurie/">Jacob Lurie's books</a> (are they subsumed by Kerodon?)</p>



<a name="319153036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/319153036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#319153036">(Jan 03 2023 at 09:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224323">Junyan Xu</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/319109080">said</a>:</p>
<blockquote>
<p><a href="https://www.math.ias.edu/~lurie/">Jacob Lurie's books</a> (are they subsumed by Kerodon?)</p>
</blockquote>
<p>They are not (yet).</p>



<a name="319598614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/319598614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#319598614">(Jan 05 2023 at 14:34)</a>:</h4>
<p>I whipped up a quick demo of mathlib search using the openai embeddings + fast kNN search using Faiss. </p>
<p><a href="https://github.com/zhangir-azerbayev/mathlib-semantic-search">https://github.com/zhangir-azerbayev/mathlib-semantic-search</a></p>
<p>Right now the demo requires you to download ~800mb of pre-computed mathlib embeddings and pay $0.0004 per 1K query tokens. </p>
<p><span class="user-mention" data-user-id="121918">@Edward Ayers</span> is working on a website with a nice UI that hosts this on the cloud and collects feedback about search results. If the openai embeddings work really well, we could think about integrating them into the mathlib docs and embedding other databases. Even if they don't, we could use the user feedback to create a challenging evaluation set for mathlib semantic search, hopefully with many examples like the one <span class="user-mention" data-user-id="238605">@Kevin Lacker</span> gave.</p>



<a name="320896814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/320896814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#320896814">(Jan 12 2023 at 10:03)</a>:</h4>
<p><a href="https://twitter.com/tomtumiel/status/1611729847700570118">https://twitter.com/tomtumiel/status/1611729847700570118</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/tomtumiel/status/1611729847700570118"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/03a427970dfb51fa008b09390b93689c5d3c0b8c/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534343336303532343034393137303433332f5a4b583042426b4e5f6e6f726d616c2e6a7067"></a><p>Just built a new website called <a href="https://t.co/BqTBR6VsJH">https://arxivxplorer.com</a>
It's a semantic search engine for arXiv papers, and it uses <a href="https://twitter.com/OpenAI">@OpenAI</a>'s latest embedding model to find the most relevant papers for your search queries.</p><span>- Tom Tumiel (@tomtumiel)</span></div></div>



<a name="320918916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/320918916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#320918916">(Jan 12 2023 at 11:55)</a>:</h4>
<p>Can you show an example prompt that finds a relevant paper but keyword search fails?</p>



<a name="321267865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321267865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321267865">(Jan 13 2023 at 22:14)</a>:</h4>
<p>I'm a bit confused as to what this actually does... Anyway, I can't seem to find any search query where the results are meaningful.<br>
For example, searching "prismatic cohomology" doesn't even return <a href="https://arxiv.org/abs/1905.08229">arxiv#1905.08229</a></p>



<a name="321269015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321269015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321269015">(Jan 13 2023 at 22:22)</a>:</h4>
<p>(which is the first google result)</p>



<a name="321271783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321271783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321271783">(Jan 13 2023 at 22:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/321267865">said</a>:</p>
<blockquote>
<p>I'm a bit confused as to what this actually does... Anyway, I can't seem to find any search query where the results are meaningful.<br>
For example, searching "prismatic cohomology" doesn't even return <a href="https://arxiv.org/abs/1905.08229">arxiv#1905.08229</a></p>
</blockquote>
<p>The author doesn't seem to say that explicitly but it <a href="https://twitter.com/tomtumiel/status/1612203835325403141">possibly</a> only embeds papers in the <code>cs.xyz</code> categories. In a search for "cohomology", all results are tagged with <code>cs.something</code>.</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/tomtumiel/status/1612203835325403141"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/03a427970dfb51fa008b09390b93689c5d3c0b8c/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534343336303532343034393137303433332f5a4b583042426b4e5f6e6f726d616c2e6a7067"></a><p><a href="https://twitter.com/IntuitMachine">@IntuitMachine</a> <a href="https://twitter.com/OpenAI">@OpenAI</a> It was $40 to embed all the papers in the CS category (about 500k papers)</p><span>- Tom Tumiel (@tomtumiel)</span></div></div>



<a name="321274635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321274635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321274635">(Jan 13 2023 at 23:04)</a>:</h4>
<p>Yeah, if I put <a href="https://arxiv.org/abs/1905.08229">https://arxiv.org/abs/1905.08229</a> into the search box it says it isn't indexed. Sorry for the noise!</p>



<a name="321277032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321277032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321277032">(Jan 13 2023 at 23:22)</a>:</h4>
<p>How many papers are in <code>math</code>? I assume more than 500k?</p>



<a name="321338821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Semantic%20Search%20for%20Mathematics/near/321338821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics.html#321338821">(Jan 14 2023 at 11:22)</a>:</h4>
<p>Initially I was happy because when I asked it for curvature on graphs it gave very good answers. But then I asked it Riemannian Geometry stuff and it still kept giving curvature on graphs. Looks like CS related stuff overwhelms it.</p>
<p>Seems that filtering by subject area should improve it a lot.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>