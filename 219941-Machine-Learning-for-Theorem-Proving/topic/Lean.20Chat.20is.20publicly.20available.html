---
layout: archive
title: Zulip Chat Archive
permalink: /stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/index.html">Machine Learning for Theorem Proving</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html">Lean Chat is publicly available</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="291736823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291736823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291736823">(Aug 02 2022 at 16:52)</a>:</h4>
<p>The Lean Chat app developed by myself and <span class="user-mention" data-user-id="121918">@Edward Ayers</span>  is now publicly available as <a href="https://marketplace.visualstudio.com/items?itemName=hoskinson-ml.lean-chat-vscode">VS-code extension</a>. Users no longer need to provide their own OpenAI API key. </p>
<p>The interface is similar to previous demos. To open the app, hit <code>cmd+shift+p</code> in VS code and run the command <code>Open chat</code>. Type the statement of a theorem in LaTeX, and the app will try to formalize the statement. If the returned declaration is incorrect, you can give the system instructions for what to fix in a natural, dialogue-like way. </p>
<p>Additionally, you can now give feedback to the system on whether each formalization attempt is correct or not. We will use this feedback to further improve the quality of outputs.  </p>
<p>Under the hood, the user's inputs are wrapped in a few-shot prompt and completed by the Codex language model, accessed through the OpenAI API. </p>
<p>I'm excited to see what the community does with this app! I'd love to hear about any striking examples of successes or failures, any interesting patterns you discover, and of course reports of any bugs. </p>
<p><a href="/user_uploads/3121/YlWwr4Xk7mSdE7DGBvVfeYc7/Screenshot-from-2022-08-02-12-43-27.png">example with groups, </a> <a href="/user_uploads/3121/PRmn9--_nCoiEfP6w5YwezrI/Screenshot-from-2022-08-02-12-24-57.png">example with topology</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/YlWwr4Xk7mSdE7DGBvVfeYc7/Screenshot-from-2022-08-02-12-43-27.png" title="example with groups, "><img src="/user_uploads/3121/YlWwr4Xk7mSdE7DGBvVfeYc7/Screenshot-from-2022-08-02-12-43-27.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/PRmn9--_nCoiEfP6w5YwezrI/Screenshot-from-2022-08-02-12-24-57.png" title="example with topology"><img src="/user_uploads/3121/PRmn9--_nCoiEfP6w5YwezrI/Screenshot-from-2022-08-02-12-24-57.png"></a></div>



<a name="291760098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291760098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291760098">(Aug 02 2022 at 19:55)</a>:</h4>
<p>Holy crap, this is pretty amazing.</p>



<a name="291760100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291760100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291760100">(Aug 02 2022 at 19:55)</a>:</h4>
<p><a href="/user_uploads/3121/eDRfBnNDGNcPiNA9ogNhv1Pr/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/eDRfBnNDGNcPiNA9ogNhv1Pr/image.png" title="image.png"><img src="/user_uploads/3121/eDRfBnNDGNcPiNA9ogNhv1Pr/image.png"></a></div>



<a name="291764325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291764325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291764325">(Aug 02 2022 at 20:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available/near/291760098">said</a>:</p>
<blockquote>
<p>Holy crap, this is pretty amazing.</p>
</blockquote>
<p>My (anecdotal) experience so far is that the app has rather good knowledge of advanced mathematics. The error rate for theorems about abelian categories isn't much, if at all, higher than the error rate for elementary number theory.</p>



<a name="291765383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291765383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291765383">(Aug 02 2022 at 20:36)</a>:</h4>
<p>I think that might depend heavily on what one means by "advanced": certainly Mathlib contains hardly any (if any) mathematics that a mainstream mathematician would call advanced. Still, I'm very impressed and curious to see more.</p>



<a name="291779403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291779403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291779403">(Aug 02 2022 at 22:51)</a>:</h4>
<p>It seems to have trouble with olympiad-type puzzles like those in <a href="https://github.com/dwrensha/mathematical-puzzles-in-lean">https://github.com/dwrensha/mathematical-puzzles-in-lean</a>. <br>
<a href="/user_uploads/3121/Rgn4aggIsSSjpjUJZxedRpgz/chat.png">chat.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Rgn4aggIsSSjpjUJZxedRpgz/chat.png" title="chat.png"><img src="/user_uploads/3121/Rgn4aggIsSSjpjUJZxedRpgz/chat.png"></a></div>



<a name="291790093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291790093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291790093">(Aug 03 2022 at 01:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243791">David Renshaw</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available/near/291779403">said</a>:</p>
<blockquote>
<p>It seems to have trouble with olympiad-type puzzles like those in <a href="https://github.com/dwrensha/mathematical-puzzles-in-lean">https://github.com/dwrensha/mathematical-puzzles-in-lean</a>. <br>
<a href="/user_uploads/3121/Rgn4aggIsSSjpjUJZxedRpgz/chat.png">chat.png</a></p>
</blockquote>
<p>Interesting. I tried rephrasing the prompt and reply in a few different ways, but could never get the model to include both the divisibility condition and the digits condition. </p>
<p>Although in general, writing all mathematical symbols with latex, even when it seems unnecessary to do so (in this example, $n$ rather than n) gives better results. For the language model, the dollar signs are a cue that it should be doing mathematical reasoning.</p>



<a name="291790793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/291790793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#291790793">(Aug 03 2022 at 01:47)</a>:</h4>
<p>You need a post to Zulip button so we can more easily share our findings. :)</p>



<a name="292111086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292111086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292111086">(Aug 05 2022 at 05:57)</a>:</h4>
<p><span class="user-mention" data-user-id="284997">@Zhangir Azerbayev</span> <span class="user-mention" data-user-id="121918">@Edward Ayers</span> Really cool! Minor feature request: <code>Ctrl</code>-<code>Enter</code> as keyboard shortcut for "Send".</p>



<a name="292111153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292111153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292111153">(Aug 05 2022 at 05:58)</a>:</h4>
<p>I'm currently trying to coach it through</p>
<blockquote>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> be a Lie group. Then the tangent space at the identity element is a Lie algebra.</p>
</blockquote>
<p>But it's not cooperating about getting the conclusion right, and the assumptions are missing the fact that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> is a <em>Lie</em> group.</p>



<a name="292111164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292111164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292111164">(Aug 05 2022 at 05:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">tangent_space_at_identity_is_lie_algebra</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_space</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">topological_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">charted_space</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">smooth_manifold</span> <span class="n">G</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lie_algebra</span> <span class="o">(</span><span class="n">tangent_space_at_identity</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="292115857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292115857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292115857">(Aug 05 2022 at 07:07)</a>:</h4>
<blockquote>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> be a Lie group over a non-trivially normed field <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝕜</mi></mrow><annotation encoding="application/x-tex">𝕜</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">k</span></span></span></span>. Then the tangent space at the identity element of  is a Lie algebra over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝕜</mi></mrow><annotation encoding="application/x-tex">𝕜</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">k</span></span></span></span>.</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">tangent_space_at_identity_is_lie_algebra</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">lie_group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_field</span> <span class="bp">𝕜</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="bp">𝕜</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">lie_algebra</span> <span class="bp">𝕜</span> <span class="o">(</span><span class="n">tangent_space_at_identity</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>



<a name="292117419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292117419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292117419">(Aug 05 2022 at 07:28)</a>:</h4>
<p>Can I ask how the not-needing-a-key works? Is there a key "hidden" in the built extension? Or is OpenAPI just configured to allow public access now to this model? (Specifically, should I expect to be able to get this working in neovim now?)</p>



<a name="292139031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292139031" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292139031">(Aug 05 2022 at 11:13)</a>:</h4>
<p>I suspect that you needing to be signed into GitHub via vs code matters, but I’m also curious about Julian’s question.</p>



<a name="292139226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292139226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292139226">(Aug 05 2022 at 11:15)</a>:</h4>
<p>I want to know if it is possible to add settings to play with the examples in  the prompt (and maybe even the other parts of the prompt so I could see how it works in Coq) or if this violates the Codex TOS.</p>



<a name="292139754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292139754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292139754">(Aug 05 2022 at 11:20)</a>:</h4>
<p>In order to satisfy the Codex TOS, OpenAI require us to make each user of the API log in or be identifiable in some way. We implemented this by having users sign in to github via the vscode extension, and we use the github ids as the identifier. </p>
<p>If you do want to experiment with the codex api, you can find our sourcecode (including prompts) <a href="https://github.com/edayers/lean-chat-server">here</a>, and then you need to <a href="https://openai.com/blog/openai-codex/">apply to Codex for an API key</a>.</p>
<p>We also welcome contributions <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="292140198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292140198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292140198">(Aug 05 2022 at 11:25)</a>:</h4>
<p>Other minor change suggestions:</p>
<ul>
<li>“Open Chat” doesn’t see very plugin specific.  “Lean: Open Chat” or “Open Lean Chat” maybe would be better.</li>
<li>The app is easy to use, but still having a better description and set of instructions on  plugin page would go along way to user friendliness.</li>
<li>the navy blue message bubbles on black background in dark mode is readable, but maybe could be better.</li>
<li>going backwards is unintuitive.  I don’t see the reason to go backwards twice (hit clear twice) to undo my last prompt.  Also often I just want to edit my last prompt so it is annoying to have it completely deleted from the text box.</li>
</ul>
<p>But these are just nitpicks.  It is very cool.</p>



<a name="292140408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292140408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292140408">(Aug 05 2022 at 11:27)</a>:</h4>
<p>I'm not sure whether OpenAI will permit us to let users play with adding custom prompts and so on. But that can also be a feature to add.</p>



<a name="292140946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292140946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Edward Ayers <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292140946">(Aug 05 2022 at 11:32)</a>:</h4>
<p><a href="https://github.com/zhangir-azerbayev/lean-chat-vscode/issues">I've opened some issues</a> feel free to add more bugs and requests!</p>



<a name="292247904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/292247904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Berman <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#292247904">(Aug 06 2022 at 10:51)</a>:</h4>
<p><span class="user-mention" data-user-id="121918">@Edward Ayers</span> is hitting <a href="https://lean-chat-server.deno.dev/">https://lean-chat-server.deno.dev/</a> with additional traffic also OK with you? Or you're saying you prefer stuff other than the VSCode extension run its own proxy?</p>



<a name="293505888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293505888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293505888">(Aug 15 2022 at 11:45)</a>:</h4>
<p>Another little success story: I copied the statement of Burnside's theorem from wiki</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>if G is a finite group of order p a q b {\displaystyle p^{a}q^{b}} {\displaystyle p^{a}q^{b}} where p and q are prime numbers, and a and b are non-negative integers, then G is solvable
</code></pre></div>
<p>and fed it to the chat without cleaning up at all. So <code>p a q b {\displaystyle p^{a}q^{b}} {\displaystyle p^{a}q^{b}}</code> was literally in the input.</p>
<p>The first output was</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">solvable_finite_group_of_prime_power_order</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">fintype</span> <span class="n">G</span><span class="o">]</span>
  <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">hq</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">q</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">fintype.card</span> <span class="n">G</span> <span class="bp">=</span> <span class="n">p</span> <span class="bp">^</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">^</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">solvable</span> <span class="n">G</span> <span class="o">:=</span>
</code></pre></div>
<p>And then I told it</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>The predicate for solvability of groups is called `is_solvable` instead of `solvable`.
</code></pre></div>
<p>After that it game me a statement that Lean was happy with.</p>



<a name="293505923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293505923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293505923">(Aug 15 2022 at 11:45)</a>:</h4>
<p>As far as I know, this result is not yet in mathlib.</p>



<a name="293601298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293601298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Zhangir Azerbayev <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293601298">(Aug 15 2022 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available/near/293505923">said</a>:</p>
<blockquote>
<p>As far as I know, this result is not yet in mathlib.</p>
</blockquote>
<p>Interestingly, prompting the app with proper latex gives a worse result. Although the model partially redeems itself by understanding the quite high level instruction "no need for the existential". </p>
<p><a href="/user_uploads/3121/Nax240Iig1mSj7RzNAXvqZfY/burnside.png">burnside.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Nax240Iig1mSj7RzNAXvqZfY/burnside.png" title="burnside.png"><img src="/user_uploads/3121/Nax240Iig1mSj7RzNAXvqZfY/burnside.png"></a></div>



<a name="293852258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293852258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293852258">(Aug 17 2022 at 08:07)</a>:</h4>
<blockquote>
<p>There are infinitely many prime numbers.</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">infinite_primes</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">prime</span> <span class="n">p</span> <span class="o">:=</span>
</code></pre></div>
<p><span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="293852421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293852421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293852421">(Aug 17 2022 at 08:08)</a>:</h4>
<blockquote>
<p>This only says that a prime exists. I'm asking for the existence of <em>infinitely</em> many primes.</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">infinite_primes</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">prime</span> <span class="n">q</span> <span class="bp">∧</span> <span class="n">q</span> <span class="bp">&gt;</span> <span class="n">p</span> <span class="o">:=</span>
</code></pre></div>
<p><span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="293854504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293854504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Albert Jiang <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293854504">(Aug 17 2022 at 08:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available/near/293852421">said</a>:</p>
<blockquote>
<blockquote>
<p>This only says that a prime exists. I'm asking for the existence of <em>infinitely</em> many primes.</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span>  <span class="n">infinite_primes</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">q</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span> <span class="n">prime</span> <span class="n">q</span> <span class="bp">∧</span> <span class="n">q</span> <span class="bp">&gt;</span> <span class="n">p</span> <span class="o">:=</span>
</code></pre></div>
<p><span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>
</blockquote>
<p>Wow such a cool example!</p>



<a name="293913157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/293913157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#293913157">(Aug 17 2022 at 14:52)</a>:</h4>
<p>The funny part is that it is probably just an alignment problem -- the model knows how to formalize the original statement, but doesn't know it is _supposed_ to formalize it correctly since there is so much data on the internet where things are wrong the first time.</p>



<a name="298881561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/298881561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#298881561">(Sep 14 2022 at 23:36)</a>:</h4>
<p><span class="user-mention" data-user-id="230999">@Daniel Selsam</span>, I'm really curious about this alignment issue. How does one even begin to diagnose whether this is actually the case?</p>



<a name="299582825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/219941-Machine%20Learning%20for%20Theorem%20Proving/topic/Lean%20Chat%20is%20publicly%20available/near/299582825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Daniel Selsam <a href="https://leanprover-community.github.io/archive/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available.html#299582825">(Sep 19 2022 at 15:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Lean.20Chat.20is.20publicly.20available/near/298881561">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="230999">Daniel Selsam</span>, I'm really curious about this alignment issue. How does one even begin to diagnose whether this is actually the case?</p>
</blockquote>
<p>by tweaking the prompt and seeing if the error rate goes down :) a sufficiently good model perhaps spends most of its energy just trying to guess the quality of the page it is on and what kind of errors it expects to see, and indeed additional context in the prompt that correlates with higher quality web pages can often help a lot. I don't know the prompt that is being used now but one could try prepending something that sounds official.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>