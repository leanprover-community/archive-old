---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Second-to-Leading.20Coefficient.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html">Second-to-Leading Coefficient</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203747880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203747880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203747880">(Jul 13 2020 at 17:59)</a>:</h4>
<p>In the branch mathlib:characteristic_polynomial_trace, <span class="user-mention" data-user-id="252300">@Jalex Stark</span>  and I have shown, among other things, that the trace of a matrix is the second-highest coefficient of the characteristic polynomial. While that exact statement is phrased in terms of the dimension of the matrix, the proof involves a function I call <code>next_coeff</code>.</p>



<a name="203748193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203748193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203748193">(Jul 13 2020 at 18:01)</a>:</h4>
<p><code>p.next_coeff</code> is basically defined as <code>p.coeff (p.nat_degree - 1)</code>, except I use <code>ite</code> to make it return 0 on constant polynomials.</p>



<a name="203748369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203748369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203748369">(Jul 13 2020 at 18:02)</a>:</h4>
<p>The whole thing seems like a reasonably common construction when doing elementary algebra with polynomials, but it's awkward to describe. Does anybody have any recommendations on how to make it more elegant?</p>



<a name="203748503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203748503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203748503">(Jul 13 2020 at 18:03)</a>:</h4>
<p>Perhaps it should all be done by embedding polynomials in <code>add_monoid k Z</code> and then using integer-indexed coefficients?</p>



<a name="203754088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203754088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203754088">(Jul 13 2020 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> I don't think that such a generalisation will make it easier to use.</p>



<a name="203754505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203754505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203754505">(Jul 13 2020 at 18:48)</a>:</h4>
<p>In fact, I'm not yet convinced that we need this definition at all. The example that you've proven is a very clear use case. But apart from that, I don't know how often it will be used. Do you have other use cases in mind? (You mention "elementary algebra with polynomials" but are you thinking of something more specific?)</p>



<a name="203755264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203755264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203755264">(Jul 13 2020 at 18:54)</a>:</h4>
<p>I think it comes up reasonably frequently. For example, if you multiply monic polynomials, the next leading coefficients add. Sort of like a first derivative at infinity.</p>



<a name="203755694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203755694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203755694">(Jul 13 2020 at 18:57)</a>:</h4>
<p>Ok, that's another example. Thanks!</p>



<a name="203756048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756048">(Jul 13 2020 at 19:00)</a>:</h4>
<p>I thought <code>next_coeff</code> was silly when Aaron showed it to me; the content of Reid's comment is what convinced me otherwise</p>



<a name="203756101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756101">(Jul 13 2020 at 19:00)</a>:</h4>
<p>how do I link to code on a branch of mathlib that is not a PR?</p>



<a name="203756146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756146">(Jul 13 2020 at 19:00)</a>:</h4>
<p>From the main page, you can select a branch in some dropdown menu</p>



<a name="203756222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756222">(Jul 13 2020 at 19:01)</a>:</h4>
<p><a href="/user_uploads/3121/JJM_Jlbn7hiQa-zhuea5Mlfr/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/JJM_Jlbn7hiQa-zhuea5Mlfr/image.png" title="image.png"><img src="/user_uploads/3121/JJM_Jlbn7hiQa-zhuea5Mlfr/image.png"></a></div>



<a name="203756251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756251">(Jul 13 2020 at 19:01)</a>:</h4>
<p>In the top left of that screen shot</p>



<a name="203756689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756689">(Jul 13 2020 at 19:04)</a>:</h4>
<p>we prove the lemma reid talks about <a href="https://github.com/leanprover-community/mathlib/blob/polynomial_lemmas_for_freek_83/src/algebra/polynomial/monic.lean#L49">here</a> as <code>monic.next_coeff_mul</code></p>



<a name="203756756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203756756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203756756">(Jul 13 2020 at 19:05)</a>:</h4>
<p>(the proof right now is pretty terrible, this is I think the biggest reason this is not a PR yet)</p>



<a name="203857215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203857215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203857215">(Jul 14 2020 at 16:48)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/3402">#3402</a></p>



<a name="203865634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203865634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203865634">(Jul 14 2020 at 17:56)</a>:</h4>
<p><span class="user-mention" data-user-id="252300">@Jalex Stark</span> <span class="user-mention" data-user-id="302826">@Aaron Anderson</span> I think it's a good idea to start a <code>polynomial/</code> directory, and split the large file into pieces. You are kind of starting the new files already, without having done the split yet.<br>
Could I ask you to also work on that refactor?<br>
It would actually be best to do the refactor first. That way it becomes really easy to review. It should not add <em>any</em> new things. Only split the file into pieces, and start a bunch of new files. (It's still not completely trivial, you still need to move things around, probably.)</p>



<a name="203865707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203865707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203865707">(Jul 14 2020 at 17:57)</a>:</h4>
<p>splitting the file data/polynomial.lean?</p>



<a name="203865930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203865930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203865930">(Jul 14 2020 at 17:59)</a>:</h4>
<p>Starting the new files before the refactor will make the split a lot harder</p>



<a name="203865978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203865978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203865978">(Jul 14 2020 at 18:00)</a>:</h4>
<p>Because then you need to combine the old and the new stuff. It will work, but as a reviewer it will be less trivial to see what's happening</p>



<a name="203866049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203866049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203866049">(Jul 14 2020 at 18:00)</a>:</h4>
<p>okay, i will switch over to that</p>



<a name="203866088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203866088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203866088">(Jul 14 2020 at 18:00)</a>:</h4>
<p>I know that it is a lot less exciting than new stuff...</p>



<a name="203905664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203905664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203905664">(Jul 15 2020 at 00:39)</a>:</h4>
<p>I also have plans for improvements to <code>data/polynomial.lean</code>--- but I'm certainly not going to start until next week at least.</p>



<a name="203905669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203905669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203905669">(Jul 15 2020 at 00:40)</a>:</h4>
<p>And I agree that splitting the file first, then making changes, will be easier overall.</p>



<a name="203905714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Second-to-Leading%20Coefficient/near/203905714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Second-to-Leading.20Coefficient.html#203905714">(Jul 15 2020 at 00:40)</a>:</h4>
<p>So I love the idea of someone trying to do that. :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>