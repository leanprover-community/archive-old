---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/pseudoelements.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html">pseudoelements</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278025347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278025347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278025347">(Apr 06 2022 at 13:45)</a>:</h4>
<p>It seems to me that pseudoelements of an object <code>X</code> in an abelian category form a group. Is this true? Is it in mathlib? Can we endow homsets with an <code>add_monoid_hom_class</code> instance?</p>
<p>Is the following provable?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.abelian.pseudoelements</span>

<span class="kn">open</span> <span class="n">category_theory</span> <span class="n">category_theory.limits</span>
<span class="n">open_locale</span> <span class="n">pseudoelement</span>

 <span class="kd">lemma</span> <span class="n">pseudoelement.biprod_ext</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="o">(</span><span class="n">X</span> <span class="bp">⊞</span> <span class="n">Y</span><span class="o">))</span>
   <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="n">biprod.fst</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⊞</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">X</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="o">(</span><span class="n">biprod.fst</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⊞</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">X</span><span class="o">)</span> <span class="n">q</span><span class="o">)</span>
   <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="o">(</span><span class="n">biprod.snd</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⊞</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="n">p</span> <span class="bp">=</span> <span class="o">(</span><span class="n">biprod.snd</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⊞</span> <span class="n">Y</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="n">q</span><span class="o">)</span> <span class="o">:</span>
   <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="278025788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278025788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278025788">(Apr 06 2022 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="260921">@Markus Himmel</span> I guess you have thought about such issues. I read a comment that doing pullbacks is hairy...</p>



<a name="278025931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278025931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278025931">(Apr 06 2022 at 13:49)</a>:</h4>
<p>The proper way to do what I'm guessing you want is to prove the Freyd embedding theorem.</p>



<a name="278026043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278026043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278026043">(Apr 06 2022 at 13:50)</a>:</h4>
<p>But maybe there is a more direct way with pseudoelements.... I don't know.</p>



<a name="278026127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278026127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278026127">(Apr 06 2022 at 13:51)</a>:</h4>
<p>You can often use <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.abelian.pseudoelement.sub_of_eq_image">docs#category_theory.abelian.pseudoelement.sub_of_eq_image</a> to "mimic" the difference of two pseudoelements.</p>



<a name="278026274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278026274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278026274">(Apr 06 2022 at 13:52)</a>:</h4>
<p>It was enough to prove the snake lemma, where on paper one would take the difference (at least in <code>R-mod</code>).</p>



<a name="278026815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278026815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278026815">(Apr 06 2022 at 13:56)</a>:</h4>
<p>The equivalence relation on the homs with codomain <code>P</code> is not compatible with addition-after-taking-pullbacks, so you cannot make the pseudoelements into an abelian group.</p>
<p>One way to fix this is by not quotienting out the equivalence relation, but then you have to do all the bookkeeping manually. This technique is described in <a href="https://math.berkeley.edu/~gbergman/papers/unpub/elem-chase.pdf">https://math.berkeley.edu/~gbergman/papers/unpub/elem-chase.pdf</a></p>



<a name="278028204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278028204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278028204">(Apr 06 2022 at 14:05)</a>:</h4>
<p>Hmm, I will try to work out what goes wrong, because I don't see it yet.</p>



<a name="278028576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278028576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278028576">(Apr 06 2022 at 14:08)</a>:</h4>
<p>The relation involves some epi assumptions. Does that throw a wrench in things?</p>



<a name="278030019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030019">(Apr 06 2022 at 14:18)</a>:</h4>
<p>I guess the problem is with negation? Becuase <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⊕</mo><mo stretchy="false">(</mo><mo>−</mo><mi>f</mi><mo stretchy="false">)</mo><mspace></mspace><mspace width="0.1111em"/><mo lspace="0em" rspace="0.17em"></mo><mtext> ⁣</mtext><mo lspace="0em" rspace="0em">:</mo><mspace width="0.3333em"/><mi>X</mi><mo>⊕</mo><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">f \oplus (-f) \colon X \oplus X \to Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace nobreak"></span><span class="mspace" style="margin-right:0.1111em;"></span><span class="mpunct"></span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mrel">:</span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> is not equivalent to the zero map?</p>



<a name="278030080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030080">(Apr 06 2022 at 14:18)</a>:</h4>
<p>I haven't written lean code yet, but getting a monoid seems to be ok</p>



<a name="278030133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030133">(Apr 06 2022 at 14:19)</a>:</h4>
<p>What about associativity of addition?</p>



<a name="278030290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030290">(Apr 06 2022 at 14:20)</a>:</h4>
<p>I think that should be fine, since <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo>⊕</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>⊕</mo><mi>Z</mi><mo>≅</mo><mi>X</mi><mo>⊕</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>⊕</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X \oplus Y) \oplus Z \cong X \oplus (Y \oplus Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≅</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span></span></span></span>. The problem is axioms that reduce arity. Afaict.</p>



<a name="278030456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030456">(Apr 06 2022 at 14:21)</a>:</h4>
<p>Yeah that's right.</p>



<a name="278030480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278030480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278030480">(Apr 06 2022 at 14:21)</a>:</h4>
<p>You would take that isomorphism as your epi</p>



<a name="278035308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278035308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Markus Himmel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278035308">(Apr 06 2022 at 14:53)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⊕</mo><mo stretchy="false">(</mo><mo>−</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f \oplus (-f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span> cannot be equivalent to the zero map unless <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> since the only things that are equivalent to zero maps are zero maps. See <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.abelian.pseudoelement.pseudo_zero_aux">docs#category_theory.abelian.pseudoelement.pseudo_zero_aux</a></p>



<a name="278039491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278039491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278039491">(Apr 06 2022 at 15:18)</a>:</h4>
<p>Aah so maybe it's a monoid :-)</p>



<a name="278122957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/pseudoelements/near/278122957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/pseudoelements.html#278122957">(Apr 07 2022 at 06:43)</a>:</h4>
<p>So here's a lemma that I've been trying to prove using pseudoelements, but I failed so far:<br>
<a href="https://github.com/leanprover-community/lean-liquid/blob/master/src/for_mathlib/derived/les.lean#L128">https://github.com/leanprover-community/lean-liquid/blob/master/src/for_mathlib/derived/les.lean#L128</a></p>
<p>I would be interested in seeing a proof that works. Because I think that a proof without pseudoelements will quickly be ugly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>