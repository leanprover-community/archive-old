---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/applicative.20ultrapower.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html">applicative ultrapower</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195827647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195827647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195827647">(Apr 30 2020 at 11:47)</a>:</h4>
<p>Currently if you want to lift a function / relation from the reals to the hyperreals, then there are separate functions for this depending on the arity of your function (1 or 2) and whether or not it is a relation -- see <a href="https://github.com/leanprover-community/mathlib/blob/master/src/order/filter/filter_product.lean#L40" title="https://github.com/leanprover-community/mathlib/blob/master/src/order/filter/filter_product.lean#L40">https://github.com/leanprover-community/mathlib/blob/master/src/order/filter/filter_product.lean#L40</a> .</p>
<p>We can do this more uniformly by noting that 'taking ultrapowers' is an <code>applicative</code> functor: <a href="https://gist.github.com/dwarn/35d168349a298d3312534fe622c7f56e" title="https://gist.github.com/dwarn/35d168349a298d3312534fe622c7f56e">https://gist.github.com/dwarn/35d168349a298d3312534fe622c7f56e</a> .</p>
<p>Can we 'lift theorems' in a similar way? <code>applicative</code> provides very nice language for turning say a <code>monoid</code> structure on <code>M</code> into a monoid structure on <code>upower M</code>, but how do we prove the monoid axioms? It seems like we need more than just the <code>applicative</code> laws here. We have internal function types, but can we define 'internal dependent products'?</p>
<p>If Lean were a  first-order theory like ZFC, you could say "pick a universe V, and consider the elementary embedding V -&gt; *V" -- I'm trying to do something analogous to this, but it seems hard as the "theory of Lean" is fairly complicated.</p>



<a name="195912045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195912045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195912045">(Apr 30 2020 at 22:50)</a>:</h4>
<p>i think your setup looks closer to the filterquotient construction for toposes than the ultrapower construction for first-order models; the category of types in Lean is not quite a topos, but there is a version of the transfer principle for filterquotients</p>



<a name="195912800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195912800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195912800">(Apr 30 2020 at 23:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116045">Jesse Michael Han</span> <a href="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195912045" title="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195912045">said</a>:</p>
<blockquote>
<p>category of types in Lean is not quite a topos</p>
</blockquote>
<p>Could you justify this? I'm pretty sure it is, even if the proof needs some form of choice</p>



<a name="195914812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195914812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195914812">(Apr 30 2020 at 23:24)</a>:</h4>
<p>oh, i think i meant not quite a Grothendieck topos; seems like filterquotients indeed make sense for just elementary toposes.</p>
<blockquote>
<p>even if the proof needs some form of choice</p>
</blockquote>
<p>i think you can do it with just unique choice (for inverting injections)</p>



<a name="195914937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195914937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195914937">(Apr 30 2020 at 23:26)</a>:</h4>
<p>Isn't it great when mathematicians use the same word to mean two different things</p>



<a name="195914972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195914972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195914972">(Apr 30 2020 at 23:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116045">Jesse Michael Han</span> <a href="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195914812" title="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195914812">said</a>:</p>
<blockquote>
<p>oh, i think i meant not quite a Grothendieck topos; seems like filterquotients indeed make sense for just elementary toposes.</p>
<blockquote>
<p>even if the proof needs some form of choice</p>
</blockquote>
<p>i think you can do it with just unique choice (for inverting injections)</p>
</blockquote>
<p>Yeah, I did it with unique choice</p>



<a name="195944486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195944486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195944486">(May 01 2020 at 09:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116045">Jesse Michael Han</span> <a href="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195912045" title="#narrow/stream/116395-maths/topic/applicative.20ultrapower/near/195912045">said</a>:</p>
<blockquote>
<p>i think your setup looks closer to the filterquotient construction for toposes than the ultrapower construction for first-order models; the category of types in Lean is not quite a topos, but there is a version of the transfer principle for filterquotients</p>
</blockquote>
<p>Ah, I don't know anything about toposes but it sounds like the right language for this construction</p>



<a name="195966803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195966803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195966803">(May 01 2020 at 14:35)</a>:</h4>
<p>Actually out of interest, why is Type not a grothendieck topos?</p>



<a name="195967663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195967663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195967663">(May 01 2020 at 14:44)</a>:</h4>
<p>It is, right?</p>



<a name="195967677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195967677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195967677">(May 01 2020 at 14:44)</a>:</h4>
<p>It's sheaves on <code>unit</code></p>



<a name="195967756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195967756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195967756">(May 01 2020 at 14:45)</a>:</h4>
<p>Maybe I didn't understand the question.</p>



<a name="195968483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/195968483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#195968483">(May 01 2020 at 14:53)</a>:</h4>
<p>Yeah that would be my guess as well...</p>



<a name="196012173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/196012173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#196012173">(May 01 2020 at 21:28)</a>:</h4>
<p><code>Type</code> thinks it's a Grothendieck topos, but externally it isn't (it lacks <code>Type 1</code>-indexed colimits)</p>



<a name="196012246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/196012246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#196012246">(May 01 2020 at 21:29)</a>:</h4>
<p>(this is yet another case of mathematicians using the same words to mean two different things)</p>



<a name="196034453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/196034453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#196034453">(May 02 2020 at 05:17)</a>:</h4>
<p>Are there examples of external Grothendieck topoi, apart from singletons?</p>



<a name="196047085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/applicative%20ultrapower/near/196047085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/applicative.20ultrapower.html#196047085">(May 02 2020 at 11:18)</a>:</h4>
<p>Right, this again comes down to whether or not the "implicit universe convention" is in effect, or to how one identifies the universe-based concepts with the non-universe-based concepts.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>