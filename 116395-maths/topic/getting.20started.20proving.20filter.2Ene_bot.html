---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html">getting started proving filter.ne_bot</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267760003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267760003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267760003">(Jan 12 2022 at 17:43)</a>:</h4>
<p>I want to prove this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">ℬ</span> <span class="o">:</span> <span class="n">filter_basis</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="bp">∅</span> <span class="bp">∉</span> <span class="n">ℬ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℬ.filter.ne_bot</span> <span class="o">:=</span> <span class="kd">begin</span>

<span class="kd">end</span>
</code></pre></div>
<p>I don't see anything remotely like this in mathlib, which surprises me. How do I get started with this proof? I don't even see a theorem about ne_bot iff empty set is not a member of the filter.</p>



<a name="267762573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267762573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267762573">(Jan 12 2022 at 18:02)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/has_basis.eq_bot_iff">docs#has_basis.eq_bot_iff</a></p>



<a name="267762598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267762598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267762598">(Jan 12 2022 at 18:02)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/has_basis.ne_bot_iff">docs#has_basis.ne_bot_iff</a></p>



<a name="267762645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267762645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267762645">(Jan 12 2022 at 18:02)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/filter_basis.has_basis">docs#filter_basis.has_basis</a></p>



<a name="267762696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267762696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267762696">(Jan 12 2022 at 18:03)</a>:</h4>
<p>Those should get you most of the way there.</p>



<a name="267770434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267770434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267770434">(Jan 12 2022 at 19:00)</a>:</h4>
<p>The first two links are 404.</p>



<a name="267770529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267770529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267770529">(Jan 12 2022 at 19:00)</a>:</h4>
<p>fixed</p>



<a name="267770729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267770729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267770729">(Jan 12 2022 at 19:02)</a>:</h4>
<p>I don't get the has_basis stuff because it involves some kind of indexing set. What's that about?</p>



<a name="267770836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267770836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267770836">(Jan 12 2022 at 19:02)</a>:</h4>
<p>you don't need to worry about that, just use filter_basis.has_basis to know that the filter associated to the basis satisfies <code>has_basis</code> for the given basis.</p>



<a name="267771106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771106">(Jan 12 2022 at 19:05)</a>:</h4>
<p>OK. I'll give it a shot. Thanks.</p>



<a name="267771292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771292">(Jan 12 2022 at 19:06)</a>:</h4>
<p>Here's a proof that can probably be golfed to a single line:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">order.filter.bases</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">ℬ</span> <span class="o">:</span> <span class="n">filter_basis</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∉</span> <span class="n">ℬ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℬ.filter.ne_bot</span> <span class="o">:=</span> <span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">ℬ.has_basis.ne_bot_iff</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">i</span> <span class="n">hh</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">←</span> <span class="n">set.ne_empty_iff_nonempty</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">c</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">at</span> <span class="n">c</span><span class="o">,</span>
  <span class="n">rwa</span> <span class="n">c</span> <span class="n">at</span> <span class="n">hh</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="267771412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771412">(Jan 12 2022 at 19:07)</a>:</h4>
<p>It's going to take me a long time to be able code golf tactics.</p>



<a name="267771488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771488">(Jan 12 2022 at 19:07)</a>:</h4>
<p>You might want to replace your assumption that <code>B</code> doesn't contain empty with something like the assumption in <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.has_basis.ne_bot_iff">docs#filter.has_basis.ne_bot_iff</a></p>



<a name="267771575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771575" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771575">(Jan 12 2022 at 19:08)</a>:</h4>
<p>That would probably make it smoother to use your lemma in practice.</p>



<a name="267771791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771791">(Jan 12 2022 at 19:10)</a>:</h4>
<p>OK. The indexing stuff was confusing me, so I was avoiding it.</p>



<a name="267771848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771848">(Jan 12 2022 at 19:10)</a>:</h4>
<p>The indexing stuff is because the definition of <code>has_basis</code> prefers the collection of sets defining the basis for the filter to be indexed by some auxiliary type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ι</span></span></span></span>.</p>



<a name="267771975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267771975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267771975">(Jan 12 2022 at 19:11)</a>:</h4>
<p>Do you know why they made it that way?</p>



<a name="267772212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267772212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267772212">(Jan 12 2022 at 19:13)</a>:</h4>
<p>Bernd, a lot of bases are naturally indexed. For instance neighborhoods in metric spaces have a basis of balls indexed by positive radii.</p>



<a name="267772800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267772800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267772800">(Jan 12 2022 at 19:18)</a>:</h4>
<p>And because Adam wanted it:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">ℬ</span> <span class="o">:</span> <span class="n">filter_basis</span> <span class="n">X</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∅</span> <span class="bp">∉</span> <span class="n">ℬ</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℬ.filter.ne_bot</span> <span class="o">:=</span>
<span class="n">ℬ.has_basis.ne_bot_iff.mpr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">u</span> <span class="n">hu</span><span class="o">,</span> <span class="n">ne_empty_iff_nonempty.mp</span> <span class="bp">$</span> <span class="bp">λ</span> <span class="n">H</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">=</span> <span class="bp">∅</span><span class="o">,</span> <span class="n">h</span> <span class="bp">$</span> <span class="n">H</span> <span class="bp">▸</span> <span class="n">hu</span><span class="o">)</span>
</code></pre></div>



<a name="267774249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/getting%20started%20proving%20filter.ne_bot/near/267774249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bernd Losert <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/getting.20started.20proving.20filter.2Ene_bot.html#267774249">(Jan 12 2022 at 19:31)</a>:</h4>
<p>Alright. Thanks guys.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>