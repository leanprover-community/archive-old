---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/bundling.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html">bundling</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200765042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200765042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200765042">(Jun 13 2020 at 12:55)</a>:</h4>
<p>I don't know what's going on, but I feel like I prefer unbundled objects, whereas we seem to be moving towards bundled "morphisms"...</p>



<a name="200765048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200765048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200765048">(Jun 13 2020 at 12:55)</a>:</h4>
<p>Does anyone have some sort of explanation for this?</p>



<a name="200765920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200765920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200765920">(Jun 13 2020 at 13:15)</a>:</h4>
<p>The instance for composition of unbundled homs doesn't work.</p>



<a name="200766459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766459">(Jun 13 2020 at 13:25)</a>:</h4>
<p>You haven't fully embraced the wonder of bundled objects.</p>



<a name="200766531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766531">(Jun 13 2020 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> If the errors in the DVR thread are examples of the "wonder of bundled objects", then...</p>



<a name="200766539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766539">(Jun 13 2020 at 13:26)</a>:</h4>
<p>There are no bundled objects there though...?</p>



<a name="200766546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766546">(Jun 13 2020 at 13:27)</a>:</h4>
<p>I guess there are multiple levels of bundling</p>



<a name="200766551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766551">(Jun 13 2020 at 13:27)</a>:</h4>
<p>I agree that they are less bundled than <code>R : Ring</code></p>



<a name="200766559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766559">(Jun 13 2020 at 13:27)</a>:</h4>
<p>I mean bundling a type with its operations</p>



<a name="200766561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766561">(Jun 13 2020 at 13:27)</a>:</h4>
<p>Maybe I'm using the wrong term</p>



<a name="200766923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766923">(Jun 13 2020 at 13:34)</a>:</h4>
<p><code>R : Ring</code> is kind of great. It's succinct and easy to work with, and you don't seem to give much up: there's still a coercion to Type, and a typeclass on that coercion, so you can still write <code>x  y : R</code>, and <code>x + x * y</code>.</p>



<a name="200766941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766941">(Jun 13 2020 at 13:35)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> But what do you do if you want a PID?</p>



<a name="200766946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766946">(Jun 13 2020 at 13:35)</a>:</h4>
<p>Or a field, or a DVR?</p>



<a name="200766997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766997">(Jun 13 2020 at 13:36)</a>:</h4>
<p>You mean the opposite --- if you have a <code>R : PID</code>, and you just want a <code>Ring</code>?</p>



<a name="200766998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200766998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200766998">(Jun 13 2020 at 13:36)</a>:</h4>
<p>Maybe I want a PID that is an algebra over a field.</p>



<a name="200767021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767021">(Jun 13 2020 at 13:36)</a>:</h4>
<p>How would you wish to write a <code>variables</code> line that says: let <code>R</code> be a PID that is an algebra over the field <code>K</code>?</p>



<a name="200767033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767033">(Jun 13 2020 at 13:37)</a>:</h4>
<p>Probably something like <code>R : Alg K</code> <code>h : is_PID R</code></p>



<a name="200767040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767040">(Jun 13 2020 at 13:37)</a>:</h4>
<p>What kind of parens around the thing on the right?</p>



<a name="200767086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767086">(Jun 13 2020 at 13:38)</a>:</h4>
<p>After which you can probably write <code>PID.of R</code> to obtain a bundled <code>PID</code>?</p>



<a name="200767116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767116">(Jun 13 2020 at 13:39)</a>:</h4>
<p>You would never get rid of the unbundled typeclasses. They are still there to mediate notation, and all the bundled types are just a pair consisting of a carrier type and a typeclass (perhaps several).</p>



<a name="200767118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767118">(Jun 13 2020 at 13:39)</a>:</h4>
<p>I don't like <code>PID.of R</code>. It's ok if we need it occasionally. But if we go full bundled objects... I guess this sort of repackaging will be all over the place.</p>



<a name="200767163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767163">(Jun 13 2020 at 13:40)</a>:</h4>
<p>So you can still do mixins when you want to talk about several interacting structures, and use <code>X.of</code> to recover the different bundled objects as needed.</p>



<a name="200767169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767169">(Jun 13 2020 at 13:40)</a>:</h4>
<p>You could get rid of unbundled typeclasses, and just keep only the notation classes, right?</p>



<a name="200767180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767180">(Jun 13 2020 at 13:40)</a>:</h4>
<p>Well -- I think Reid's answer above says no.</p>



<a name="200767190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767190">(Jun 13 2020 at 13:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/bundling/near/200767040">said</a>:</p>
<blockquote>
<p>What kind of parens around the thing on the right?</p>
</blockquote>
<p><code>()</code></p>



<a name="200767204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767204">(Jun 13 2020 at 13:41)</a>:</h4>
<p>Reid doesn't like typeclasses. :-)</p>



<a name="200767256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767256">(Jun 13 2020 at 13:42)</a>:</h4>
<p>I had been thinking <code>[]</code>, without which <code>PID.of R</code> wouldn't work.</p>



<a name="200767260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767260">(Jun 13 2020 at 13:42)</a>:</h4>
<p>I wish we could write</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">[</span><span class="n">principal_ideal_domain</span> <span class="n">R</span><span class="o">]</span>
</code></pre></div>


<p>and that it would be syntactic sugar for</p>
<div class="codehilite"><pre><span></span><code><span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_principal_ideal_domain</span> <span class="n">R</span><span class="o">]</span>
</code></pre></div>



<a name="200767280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767280">(Jun 13 2020 at 13:43)</a>:</h4>
<p>Being a PID is a theorem, and the one thing Lean is really good at is proving theorems</p>



<a name="200767287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767287">(Jun 13 2020 at 13:43)</a>:</h4>
<p>It's a good point. There's "nothing" to bundle.</p>



<a name="200767288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767288">(Jun 13 2020 at 13:43)</a>:</h4>
<p>And if you do</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">:</span> <span class="n">principal_ideal_domain</span> <span class="n">R</span> <span class="o">:=</span> <span class="bp">_</span>
</code></pre></div>


<p>it should really add instances of <code>ring R</code> (unless it exists already??) and <code>is_principal_ideal_domain R</code>...</p>



<a name="200767339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767339">(Jun 13 2020 at 13:44)</a>:</h4>
<p>But maybe the latter idea isn't even needed...</p>



<a name="200767349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767349">(Jun 13 2020 at 13:45)</a>:</h4>
<p>Just the syntactic sugar for introducing hypotheses would already help a lot to improve readability while keeping a flexible system.</p>



<a name="200767355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767355">(Jun 13 2020 at 13:45)</a>:</h4>
<p>Oh, you just reminded me of a bug in my <code>R-Alg</code> PR. I made separate <code>semimodule</code> and <code>algebra</code> instances, which then result in non-defeq <code>semimodule</code>s via <code>algebra.to_semimodule</code>... Oops. I've done this several times already. :-(</p>



<a name="200767429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundling/near/200767429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundling.html#200767429">(Jun 13 2020 at 13:47)</a>:</h4>
<p>Oh, scratch that, of course the <code>semimodule</code> instance was there all along. Hrm. Oh well, a problem for tomorrow.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>