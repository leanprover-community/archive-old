---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html">interval integral: do we need `α ≠ real`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269961000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269961000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269961000">(Jan 30 2022 at 22:14)</a>:</h4>
<p>Currently <code>∫ x in a..b, f x ∂μ</code> works for <code>x : α</code> with <code>[linear_order α]</code>. Do we ever need <code>α ≠ real</code>?</p>



<a name="269962067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269962067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269962067">(Jan 30 2022 at 22:35)</a>:</h4>
<p>We could need a subtype of reals  I guess (but I never did)</p>



<a name="269962540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269962540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269962540">(Jan 30 2022 at 22:45)</a>:</h4>
<p>I tried to use subtype once and decided to extend the function to all reals instead</p>



<a name="269962628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269962628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269962628">(Jan 30 2022 at 22:47)</a>:</h4>
<p>Lots of important theorems (at least FTC and its reverse dependencies) only work for reals.</p>



<a name="269963177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269963177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269963177">(Jan 30 2022 at 22:58)</a>:</h4>
<p>I know plenty of exotic  integrals on profinite spaces but none of the base objects ever have a total order</p>



<a name="269980887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269980887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269980887">(Jan 31 2022 at 05:11)</a>:</h4>
<p>/poll Should we restrict the definition of interval integral to functions from reals?<br>
Yes<br>
No</p>



<a name="269980977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269980977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269980977">(Jan 31 2022 at 05:12)</a>:</h4>
<p>My reasons: (a) I never used interval integrals over other types; (b) it's easier to assume the domain to be <code>real</code> than to add appropriate typeclass assumptions here and there.</p>



<a name="269981947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269981947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269981947">(Jan 31 2022 at 05:31)</a>:</h4>
<p>Personally, I would be hesitant to restrict it because then it wouldn't apply to nnreal. But my opinion probably shouldn't matter that much; I don't have tons of experience.</p>



<a name="269984684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/269984684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#269984684">(Jan 31 2022 at 06:18)</a>:</h4>
<p>Do you suggest to simply use manifolds for all other use cases? Jireh just mentioned <code>nnreal</code>. I could also imagine putting a linear order on <code>{ (x,c) | x ∈ ℝ}</code> or <code>{(x,x) | x ∈ ℝ}</code>. Things like that. But in the end, whatever is said about these integrals must probably be converted to an honest integral on honest <code>ℝ</code>. So that conversion could also be done upfront.</p>



<a name="270034430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270034430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270034430">(Jan 31 2022 at 13:56)</a>:</h4>
<p>I suggest to use <code>∫ x in Ioc a b, f x ∂μ</code> in other cases.</p>



<a name="270037186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270037186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270037186">(Jan 31 2022 at 14:14)</a>:</h4>
<p>So basically the question is about when you need <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∫</mo><mi>b</mi><mi>a</mi></msubsup><mo>=</mo><mo>−</mo><msubsup><mo>∫</mo><mi>a</mi><mi>b</mi></msubsup></mrow><annotation encoding="application/x-tex">\int_b^a = - \int_a^b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2151em;vertical-align:-0.3558em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8593em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span><span style="top:-3.2579em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3558em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3998em;vertical-align:-0.3558em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.044em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span><span style="top:-3.2579em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3558em;"><span></span></span></span></span></span></span></span></span></span>?</p>



<a name="270040976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270040976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270040976">(Jan 31 2022 at 14:39)</a>:</h4>
<p>Yes</p>



<a name="270331962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270331962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270331962">(Feb 02 2022 at 04:23)</a>:</h4>
<p>It would be nice to have more votes here.</p>



<a name="270497769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270497769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270497769">(Feb 03 2022 at 04:04)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Do I understand correctly that you abstain? If yes, could you please do it explicitly? Thanks!</p>



<a name="270498128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270498128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270498128">(Feb 03 2022 at 04:09)</a>:</h4>
<p>I have two reasons to migrate to <code>α = ℝ</code>: the first one is written above (we can stop worrying about typeclass assumptions on <code>α</code>); the second is that now Lean can't correctly parse <code>∫ x in 0..π, complex.exp x</code></p>



<a name="270498183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270498183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270498183">(Feb 03 2022 at 04:10)</a>:</h4>
<p>And it's even worse with <code>∫ x in 0..1, x</code> because if we introduce a volume on <code>ℕ</code>, then it will parse as <code>∫ n : ℕ in 0..1, n</code>.</p>



<a name="270498418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270498418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270498418">(Feb 03 2022 at 04:14)</a>:</h4>
<p>Done. Although you just listed some good reasons why to specialize to <code>ℝ</code>.</p>



<a name="270538768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/interval%20integral%3A%20do%20we%20need%20%60%CE%B1%20%E2%89%A0%20real%60%3F/near/270538768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/interval.20integral.3A.20do.20we.20need.20.60.CE.B1.20.E2.89.A0.20real.60.3F.html#270538768">(Feb 03 2022 at 12:12)</a>:</h4>
<p>I'm a little worried about restricting the definition and realizing later that the interval integral would be nice on some other type. But changing it does make it more convenient to use, so I vote a tentative "yes".</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>