---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/mv_polynomial.20questions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html">mv_polynomial questions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="192123342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192123342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192123342">(Mar 28 2020 at 13:34)</a>:</h4>
<p><span class="user-mention" data-user-id="266440">@Shing Tak Lam</span> has been thinking about multivariate polynomials and gave me these three puzzles:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">single_eq_C_mul_X</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">single</span> <span class="n">s</span> <span class="n">n</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">C</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">lemma</span> <span class="n">erase_single</span> <span class="o">(</span><span class="n">var</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="o">(</span><span class="n">erase</span> <span class="n">var</span> <span class="o">(</span><span class="n">single</span> <span class="n">var</span> <span class="n">n</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">sorry</span>
<span class="kn">lemma</span> <span class="n">erase_single_ne</span> <span class="o">(</span><span class="n">v1</span> <span class="n">v2</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hv</span> <span class="o">:</span> <span class="n">v1</span> <span class="bp">≠</span> <span class="n">v2</span><span class="o">):</span> <span class="o">(</span><span class="n">erase</span> <span class="n">v1</span> <span class="o">(</span><span class="n">single</span> <span class="n">v2</span> <span class="n">n</span><span class="o">))</span> <span class="bp">=</span> <span class="n">single</span> <span class="n">v2</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>Independently, I was wondering whether we have the multivariable polynomial analogue of the statement that a polynomial <code>p</code> equals the sum of <code>coeff p m * X ^m</code>.</p>



<a name="192123803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192123803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192123803">(Mar 28 2020 at 13:46)</a>:</h4>
<p>Re the independent question: I think we only have if for single variable polynomials: <a href="https://github.com/leanprover-community/mathlib/search?q=as_sum&amp;unscoped_q=as_sum" title="https://github.com/leanprover-community/mathlib/search?q=as_sum&amp;unscoped_q=as_sum">https://github.com/leanprover-community/mathlib/search?q=as_sum&amp;unscoped_q=as_sum</a></p>



<a name="192123878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192123878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192123878">(Mar 28 2020 at 13:48)</a>:</h4>
<p>wait... how do you search on github??</p>



<a name="192123884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192123884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192123884">(Mar 28 2020 at 13:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">eq_zero_iff</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">has_zero</span> <span class="n">β</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span><span class="err">₀</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">f</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">hf</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">hf</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">refl</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">ext</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">h</span> <span class="n">x</span>
  <span class="o">}</span>
<span class="kn">end</span>

<span class="n">open_locale</span> <span class="n">classical</span>

<span class="kn">lemma</span> <span class="n">erase_single</span> <span class="o">(</span><span class="n">var</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="o">(</span><span class="n">erase</span> <span class="n">var</span> <span class="o">(</span><span class="n">single</span> <span class="n">var</span> <span class="n">n</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="n">finsupp</span><span class="bp">.</span><span class="n">eq_zero_iff</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">var</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">hx</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">erase_same</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">erase_ne</span> <span class="n">hx</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">single_eq_of_ne</span><span class="o">,</span>
    <span class="n">symmetry</span><span class="o">,</span> <span class="n">assumption</span>
  <span class="o">}</span>
<span class="kn">end</span>
</pre></div>


<p>I don't know my way around <code>finsupp</code>. Am I making a mountain out of a molehill?</p>



<a name="192124385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192124385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason KY. <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192124385">(Mar 28 2020 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/mv_polynomial.20questions/near/192123878" title="#narrow/stream/116395-maths/topic/mv_polynomial.20questions/near/192123878">said</a>:</p>
<blockquote>
<p>wait... how do you search on github??</p>
</blockquote>
<p><a href="https://help.github.com/en/github/searching-for-information-on-github/about-searching-on-github" title="https://help.github.com/en/github/searching-for-information-on-github/about-searching-on-github">https://help.github.com/en/github/searching-for-information-on-github/about-searching-on-github</a></p>



<a name="192124690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192124690" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192124690">(Mar 28 2020 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/mv_polynomial.20questions/near/192123878" title="#narrow/stream/116395-maths/topic/mv_polynomial.20questions/near/192123878">said</a>:</p>
<blockquote>
<p>wait... how do you search on github??</p>
</blockquote>
<p>often with plenty of pain because there's still no way to do exact string searches (it's in the beta for some repos, though)</p>



<a name="192124764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192124764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192124764">(Mar 28 2020 at 14:03)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">mv_polynomial</span>

<span class="kn">open</span> <span class="n">finsupp</span> <span class="n">mv_polynomial</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">single_eq_C_mul_X</span> <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="n">monomial</span> <span class="o">(</span><span class="n">single</span> <span class="n">s</span> <span class="n">n</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">C</span> <span class="n">a</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="n">s</span><span class="o">)</span><span class="err">^</span><span class="n">n</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">zero_add</span> <span class="o">(</span><span class="n">single</span> <span class="n">s</span> <span class="n">n</span><span class="o">),</span> <span class="n">monomial_add_single</span><span class="o">,</span> <span class="n">C</span><span class="o">]</span>

<span class="kn">lemma</span> <span class="n">erase_single</span> <span class="o">(</span><span class="n">var</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">):</span> <span class="o">(</span><span class="n">erase</span> <span class="n">var</span> <span class="o">(</span><span class="n">single</span> <span class="n">var</span> <span class="n">n</span><span class="o">))</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">ext</span> <span class="n">s</span><span class="o">,</span> <span class="n">classical</span><span class="o">,</span> <span class="n">by_cases</span> <span class="n">hs</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">var</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">hs</span><span class="o">,</span> <span class="n">erase_same</span><span class="o">],</span> <span class="n">refl</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">erase_ne</span> <span class="n">hs</span><span class="o">],</span> <span class="n">exact</span> <span class="n">single_eq_of_ne</span> <span class="o">(</span><span class="n">ne</span><span class="bp">.</span><span class="n">symm</span> <span class="n">hs</span><span class="o">)</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">erase_single_ne</span> <span class="o">(</span><span class="n">v1</span> <span class="n">v2</span> <span class="o">:</span> <span class="n">S</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">hv</span> <span class="o">:</span> <span class="n">v1</span> <span class="bp">≠</span> <span class="n">v2</span><span class="o">):</span> <span class="o">(</span><span class="n">erase</span> <span class="n">v1</span> <span class="o">(</span><span class="n">single</span> <span class="n">v2</span> <span class="n">n</span><span class="o">))</span> <span class="bp">=</span> <span class="n">single</span> <span class="n">v2</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">ext</span> <span class="n">s</span><span class="o">,</span> <span class="n">classical</span><span class="o">,</span> <span class="n">by_cases</span> <span class="n">hs</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">=</span> <span class="n">v1</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">hs</span><span class="o">,</span> <span class="n">erase_same</span><span class="o">,</span> <span class="n">single_eq_of_ne</span> <span class="o">(</span><span class="n">hv</span><span class="bp">.</span><span class="n">symm</span><span class="o">)]</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">erase_ne</span> <span class="n">hs</span><span class="o">]</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>



<a name="192124887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192124887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192124887">(Mar 28 2020 at 14:05)</a>:</h4>
<p>Nice, thanks Kenny. I thought it was a bit annoying that <code>by_cases</code> gave as a case <code>¬s = var</code>. Would we rather have <code>s ≠ var</code>? Then you can do <code>hs.symm</code> instead of <code>ne.symm hs</code></p>



<a name="192144435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192144435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192144435">(Mar 28 2020 at 22:25)</a>:</h4>
<p><code>eq_zero_iff</code> looks like a version of extensionality</p>



<a name="192144476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192144476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192144476">(Mar 28 2020 at 22:26)</a>:</h4>
<p>it should just be a rewrite with <code>ext_iff</code></p>



<a name="192148820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192148820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192148820">(Mar 29 2020 at 00:32)</a>:</h4>
<p>I would love to change the behaviour of <code>by_cases</code> to produce <code>≠</code>.</p>



<a name="192148821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192148821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192148821">(Mar 29 2020 at 00:32)</a>:</h4>
<p>I would also love to remove <code>ne.def</code> from the simp set.</p>



<a name="192148885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192148885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192148885">(Mar 29 2020 at 00:34)</a>:</h4>
<p>removing <code>ne.def</code> would cause similar problems as noted with <code>gt</code> <a href="#narrow/stream/113489-new-members/topic/exists.2Eintro.20with.20two.20'arguments'/near/191974183" title="#narrow/stream/113489-new-members/topic/exists.2Eintro.20with.20two.20'arguments'/near/191974183">here</a></p>



<a name="192149345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192149345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192149345">(Mar 29 2020 at 00:50)</a>:</h4>
<p>hmm, okay, I guess I don't understand.</p>



<a name="192149352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192149352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192149352">(Mar 29 2020 at 00:51)</a>:</h4>
<p>(what about reversing the direction of <code>ne.def</code>, and keeping it as a simp lemma?)</p>



<a name="192149396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/mv_polynomial%20questions/near/192149396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/mv_polynomial.20questions.html#192149396">(Mar 29 2020 at 00:52)</a>:</h4>
<p>I'd like to make <code>ne</code> notation. I think the only lemma about ne is <code>ne.symm</code>, so it's no great loss.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>