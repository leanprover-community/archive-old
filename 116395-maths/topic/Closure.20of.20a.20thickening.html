---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Closure.20of.20a.20thickening.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html">Closure of a thickening</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="279387187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279387187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279387187">(Apr 19 2022 at 09:55)</a>:</h4>
<p>Is this true?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>
<span class="kn">import</span> <span class="n">topology.metric_space.hausdorff_distance</span>

<span class="kn">open</span> <span class="n">metric</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">E</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">ℝ</span> <span class="n">E</span><span class="o">]</span> <span class="o">{</span><span class="n">δ</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">E</span><span class="o">}</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">closure_thickening</span> <span class="o">:</span> <span class="n">closure</span> <span class="o">(</span><span class="n">thickening</span> <span class="n">δ</span> <span class="n">s</span><span class="o">)</span> <span class="bp">=</span> <span class="n">cthickening</span> <span class="n">δ</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">closure_thickening_subset_cthickening</span> <span class="n">_</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">antisymm</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span> <span class="n">_</span><span class="o">),</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="279387397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279387397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279387397">(Apr 19 2022 at 09:57)</a>:</h4>
<p>You may have to take the closure of <code>s</code> as well.</p>



<a name="279387495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279387495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279387495">(Apr 19 2022 at 09:58)</a>:</h4>
<p>No that can't be, because of <a href="https://leanprover-community.github.io/mathlib_docs/find/emetric.inf_edist_closure">docs#emetric.inf_edist_closure</a></p>



<a name="279388021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388021">(Apr 19 2022 at 10:02)</a>:</h4>
<p>To be clear,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">thickening_closure</span> <span class="o">:</span> <span class="n">thickening</span> <span class="n">δ</span> <span class="o">(</span><span class="n">closure</span> <span class="n">s</span><span class="o">)</span> <span class="bp">=</span> <span class="n">thickening</span> <span class="n">δ</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp_rw</span> <span class="o">[</span><span class="n">thickening</span><span class="o">,</span> <span class="n">inf_edist_closure</span><span class="o">]</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">cthickening_closure</span> <span class="o">:</span> <span class="n">cthickening</span> <span class="n">δ</span> <span class="o">(</span><span class="n">closure</span> <span class="n">s</span><span class="o">)</span> <span class="bp">=</span> <span class="n">cthickening</span> <span class="n">δ</span> <span class="n">s</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simp_rw</span> <span class="o">[</span><span class="n">cthickening</span><span class="o">,</span> <span class="n">inf_edist_closure</span><span class="o">]</span>
</code></pre></div>



<a name="279388636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388636">(Apr 19 2022 at 10:08)</a>:</h4>
<p>Surely this isn't true in general. What if the metric space is discrete? e.g. if d(a,b)=1 for a!=b isn't the 1-thickening of a set equal to the set and the 1-cthickening of a set is equal to everything.</p>



<a name="279388680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388680">(Apr 19 2022 at 10:08)</a>:</h4>
<p>I would have to look at the definitions, but is <code>E</code> allowed to be something pathological, like <code>zmod 2</code>?</p>



<a name="279388689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388689">(Apr 19 2022 at 10:08)</a>:</h4>
<p>This is why I'm working in a real normed space, Kevin <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="279388692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388692">(Apr 19 2022 at 10:08)</a>:</h4>
<p>Oh, Kevin said the same!</p>



<a name="279388710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388710">(Apr 19 2022 at 10:09)</a>:</h4>
<p>Oh I see -- the point is that you want a real normed space -- yeah :-)</p>



<a name="279388756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388756">(Apr 19 2022 at 10:09)</a>:</h4>
<p>The idea being that spheres in a normed space are thin.</p>



<a name="279388884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388884">(Apr 19 2022 at 10:11)</a>:</h4>
<p>Presumably you need much less, just something like if d(x,y)=1 then there's y_n with d(x,y_n)&lt;1 and d(y_n,y)&lt;1/n.</p>



<a name="279388930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388930">(Apr 19 2022 at 10:11)</a>:</h4>
<p>Absolutely, but I don't know how to ask Lean for that.</p>



<a name="279388988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279388988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279388988">(Apr 19 2022 at 10:12)</a>:</h4>
<p>Is there a math name for this? Do we care about this?</p>



<a name="279389036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389036">(Apr 19 2022 at 10:12)</a>:</h4>
<p>Would <code>separable and no isolated points</code> be what Kevin describes?</p>



<a name="279389043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389043">(Apr 19 2022 at 10:12)</a>:</h4>
<p>I guess in the normed space case you just take your point in s which is &lt;= 1 from x and just draw a line through these two points and stick to this line.</p>



<a name="279389061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389061">(Apr 19 2022 at 10:13)</a>:</h4>
<p>Through a long series of yak shaving PRs, this is useful for Hahn-Banach and Krein-Milman. The context is <a href="https://github.com/leanprover-community/mathlib/pull/13380">#13380</a>.</p>



<a name="279389169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389169">(Apr 19 2022 at 10:14)</a>:</h4>
<p>aha, so it's worth thinking about. Is the concept of a <a href="https://en.wikipedia.org/wiki/Perfect_set">perfect set</a> relevant?</p>



<a name="279389212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389212">(Apr 19 2022 at 10:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/Closure.20of.20a.20thickening/near/279388930">said</a>:</p>
<blockquote>
<p>Absolutely, but I don't know how to ask Lean for that.</p>
</blockquote>
<p>I guess you don't just need it for 1, you need it for all positive reals.</p>



<a name="279389237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389237">(Apr 19 2022 at 10:15)</a>:</h4>
<p>It seems that <code>perfect</code> assumes also closed, though maybe it is not such a bad idea to have <code>closed</code> around anyway!</p>



<a name="279389387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389387">(Apr 19 2022 at 10:16)</a>:</h4>
<p>I'm not sure <code>perfect</code> is exactly the right thing, but it certainly goes it the right direction.</p>



<a name="279389425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389425">(Apr 19 2022 at 10:17)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/topological_space.separable_space">docs#topological_space.separable_space</a> seems to exist already.</p>



<a name="279389469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389469">(Apr 19 2022 at 10:17)</a>:</h4>
<p>Every countable space will be separable I guess, so Q with the discrete metric still causes problems.</p>



<a name="279389526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389526">(Apr 19 2022 at 10:18)</a>:</h4>
<p>You then only need the non-existence of isolated points, to avoid a single point being the only point in one of its neighbourhoods.</p>



<a name="279389630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389630">(Apr 19 2022 at 10:19)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/real.punctured_nhds_module_ne_bot">docs#real.punctured_nhds_module_ne_bot</a> ?</p>



<a name="279389633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389633">(Apr 19 2022 at 10:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/Closure.20of.20a.20thickening/near/279389036">said</a>:</p>
<blockquote>
<p>Would <code>separable and no isolated points</code> be what Kevin describes?</p>
</blockquote>
<p>No, since I think <code>Iic 0 ∪ Ici 1</code> (or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">]</mo><mo>∪</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-\infty, 0]\cup[1,\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∞</span><span class="mclose">)</span></span></span></span>) satisfies your property, but not Kevin's, and Yael's requested lemma is false.</p>



<a name="279389793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389793">(Apr 19 2022 at 10:20)</a>:</h4>
<p>Your link is broken, Damiano.</p>



<a name="279389815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389815">(Apr 19 2022 at 10:21)</a>:</h4>
<p>Yes, I am trying to fix it, but I am failing...</p>



<a name="279389943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279389943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279389943">(Apr 19 2022 at 10:22)</a>:</h4>
<p>Updated to <a href="https://leanprover-community.github.io/mathlib_docs/find/real.punctured_nhds_module_ne_bot">docs#real.punctured_nhds_module_ne_bot</a> .</p>



<a name="279390013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279390013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279390013">(Apr 19 2022 at 10:23)</a>:</h4>
<p>Floris, you are right: this should be assumed of <code>s</code>, not of <code>E</code>.  And even so, I am not sure that your example will not get in the way.</p>



<a name="279390208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279390208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279390208">(Apr 19 2022 at 10:25)</a>:</h4>
<p>I'm not quite sure how to turn that into a statement about distances <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="279390318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279390318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279390318">(Apr 19 2022 at 10:26)</a>:</h4>
<p>Anyway, I think that Kevin's statement is the way to go.</p>



<a name="279390362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279390362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279390362">(Apr 19 2022 at 10:26)</a>:</h4>
<p>You can then try to leverage the existing API around <code>separable_space</code> and the <code>punctured</code> stuff.</p>



<a name="279390676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279390676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279390676">(Apr 19 2022 at 10:30)</a>:</h4>
<p>With perfect sets, you mean? Seems like we don't even have the definition, so this gonna be even more yak shaving <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="279391151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279391151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279391151">(Apr 19 2022 at 10:36)</a>:</h4>
<p>I meant <code>separable</code> plus the condition that Kevin mentions.</p>



<a name="279391185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279391185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279391185">(Apr 19 2022 at 10:36)</a>:</h4>
<p>(which you should assume on <code>s</code>, of course, since on <code>E</code> it might already exist, one way or another)</p>



<a name="279391277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279391277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279391277">(Apr 19 2022 at 10:37)</a>:</h4>
<p>If you are going to use it for a separable space anyway, then fine.  Otherwise, you may not need the implicit <code>countable</code> assumption on your dense subset.</p>



<a name="279391382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279391382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279391382">(Apr 19 2022 at 10:38)</a>:</h4>
<p>So, just the existence of a dense set, which can approximately "slightly badly" every point!</p>



<a name="279392481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279392481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279392481">(Apr 19 2022 at 10:51)</a>:</h4>
<p>How close is the assertion "if x != y and D=d(x.y) then for all n&gt;=1 there's z with d(x,z)&lt;D and d(z,y)&lt;D/n" to the assertion "<code>univ</code> is a perfect subset of this metric space"?</p>



<a name="279392497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279392497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279392497">(Apr 19 2022 at 10:51)</a>:</h4>
<p>Isn't that all you need?</p>



<a name="279393559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279393559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279393559">(Apr 19 2022 at 11:02)</a>:</h4>
<p>It seems that you can replace <code>s</code> by <code>closure s</code>, so that would take care of the closure condition on perfect.  Then you would need to verify that having no isolated points is preserved under taking closures (something that I have not actually thought about in weird contexts).</p>



<a name="279393874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/279393874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#279393874">(Apr 19 2022 at 11:05)</a>:</h4>
<p>I don't think "perfect" is the right concept. Floris already gave a counterexample above. It should be something more in the spirit of a geodesic space. But really, just do the proof for normed spaces.</p>



<a name="280186421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Closure%20of%20a%20thickening/near/280186421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Closure.20of.20a.20thickening.html#280186421">(Apr 26 2022 at 09:58)</a>:</h4>
<p>The proof turns out to be a one-liner using <a href="https://github.com/leanprover-community/mathlib/pull/13380">#13380</a> <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> <br>
See <a href="https://github.com/leanprover-community/mathlib/pull/13708">#13708</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>