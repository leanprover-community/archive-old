---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Arithmetic.20Functions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html">Arithmetic Functions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209950828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209950828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209950828">(Sep 13 2020 at 21:43)</a>:</h4>
<p>I've shelved my PR on perfect numbers for now, but I'm going to try to PR at least some easy parts of it soon.</p>



<a name="209950875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209950875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209950875">(Sep 13 2020 at 21:44)</a>:</h4>
<p>It seems like it should be simple enough to define and prove some basic facts about some arithmetic functions, like the number-of-divisors or sum-of-divisors functions, but I'm fretting once again over what type to define them in.</p>



<a name="209950898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209950898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209950898">(Sep 13 2020 at 21:45)</a>:</h4>
<p>Standardly arithmetic functions are defined with domain <code>pnat</code>, but the only important nontrivial one we have in <code>mathlib</code> is <code>nat.totient</code>, which is defined on <code>nat</code>s.</p>



<a name="209950959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209950959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209950959">(Sep 13 2020 at 21:47)</a>:</h4>
<p>I'd also like to define the Dirichlet ring structure, and that's probably going to have to require a type synonym somewhere.</p>



<a name="209951025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951025">(Sep 13 2020 at 21:48)</a>:</h4>
<p>Is the sensible thing to just define <code>arithmetic_function := N+ -&gt; ?</code>, and then put a ring structure on that where multiplication is Dirichlet convolution, and make an API for coercion of functions with domain N or N+?</p>



<a name="209951361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951361">(Sep 13 2020 at 21:58)</a>:</h4>
<p>What's <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\varphi(0)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span>?</p>



<a name="209951372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951372">(Sep 13 2020 at 21:59)</a>:</h4>
<p>0</p>



<a name="209951378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951378">(Sep 13 2020 at 21:59)</a>:</h4>
<p>But <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mo>×</mo></msup></mrow><annotation encoding="application/x-tex">(\mathbb{Z}/(0))^\times</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">×</span></span></span></span></span></span></span></span></span></span></span> has two elements ;)</p>



<a name="209951388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951388">(Sep 13 2020 at 21:59)</a>:</h4>
<p>Yeah, but it's defined as counting a subset of <code>finset.range n</code></p>



<a name="209951414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951414">(Sep 13 2020 at 22:00)</a>:</h4>
<p>All jokes aside, having <code>aruthmetic_function</code> (with the ring structure) would be great!</p>



<a name="209951517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951517">(Sep 13 2020 at 22:02)</a>:</h4>
<p>Isn't there also a ring structure on multiplicative functions where convolution becomes addition?</p>



<a name="209951693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951693">(Sep 13 2020 at 22:06)</a>:</h4>
<p>What's multiplication in that case, pointwise multiplication? does that work?</p>



<a name="209951825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951825">(Sep 13 2020 at 22:10)</a>:</h4>
<p>Maybe?</p>



<a name="209951838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951838">(Sep 13 2020 at 22:10)</a>:</h4>
<p>I was thinking of the Big Witt vectors, but that's not quite the multiplicative functions in the sense of elementary NT</p>



<a name="209951861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951861">(Sep 13 2020 at 22:11)</a>:</h4>
<p>Anyway, I should probably clarify that the stumbling block here will be the fact that defining these functions at 0 doesn't really make any sense, and then the map to Dirichlet series isn't injective, etc., but if I don't define them at 0, then the entire API for gcd and factorization breaks, because the standard versions have "except 0" baked into everything</p>



<a name="209951943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951943">(Sep 13 2020 at 22:13)</a>:</h4>
<p>I found this paper: <a href="https://www.sciencedirect.com/science/article/pii/S0022314X07001886">https://www.sciencedirect.com/science/article/pii/S0022314X07001886</a></p>



<a name="209951952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209951952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209951952">(Sep 13 2020 at 22:14)</a>:</h4>
<p>My vote is to use pnat, fwiw</p>



<a name="209952001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952001">(Sep 13 2020 at 22:14)</a>:</h4>
<p>I think the pnat api could use some attention anyway</p>



<a name="209952018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952018">(Sep 13 2020 at 22:15)</a>:</h4>
<p>Yeah, I think after my next PR on unique factorization (with 0, sigh) I'll have to go back to <code>normalization_monoid</code> and de-0-ify that</p>



<a name="209952060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952060">(Sep 13 2020 at 22:16)</a>:</h4>
<p>and then <code>gcd</code></p>



<a name="209952071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952071">(Sep 13 2020 at 22:16)</a>:</h4>
<p>But it probably won’t have a good solution</p>



<a name="209952170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952170">(Sep 13 2020 at 22:19)</a>:</h4>
<p>At some point I tried starting to formalize the big Witt vector ring, and I quit early on because I got frustrated with the missing pnat api</p>



<a name="209952363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952363">(Sep 13 2020 at 22:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> might have a different opinion.</p>



<a name="209952965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209952965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209952965">(Sep 13 2020 at 22:41)</a>:</h4>
<p>In pari, phi(0)=2, for exactly the reason Adam suggests. But who cares what phi(0) is in Lean. I would define it on nat and just not worry too much about the junk values. If you start using pnat then you might have trouble later on because e.g. <code>ring</code> probably won't work</p>



<a name="209953089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953089">(Sep 13 2020 at 22:44)</a>:</h4>
<p>I guess one advantage of using a type synonym <code>arithmetic_function</code> is that we can change the exact implementation later on</p>



<a name="209953091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953091">(Sep 13 2020 at 22:44)</a>:</h4>
<p>This is just like the argument about whether 1/0 should be defined. Just define it but never use it. Or alternatively try using pnat and let's find out how painful it really it. When I started using lean there was no square root function on the reals and I defined it on the nonnegative reals and it drove me nuts. Does <code>3 : pnat</code> work?</p>



<a name="209953157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953157">(Sep 13 2020 at 22:46)</a>:</h4>
<p>The problem with big Witt vectors is that gcd is used when you define the ring operations, and it gets really annoying if you have to insert a million proofs that something is nonzero</p>



<a name="209953220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953220">(Sep 13 2020 at 22:48)</a>:</h4>
<p>In the theory of modular forms, the L-function of the normalised eigenform sum_{n&gt;=0} a_n q^n is sum_{n&gt;=1} a_n n^s. Here the constant term a_0 can be nonzero, however it is determined uniquely by the a_n for n&gt;=1 in positive weight.</p>



<a name="209953221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953221">(Sep 13 2020 at 22:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Arithmetic.20Functions/near/209953091">said</a>:</p>
<blockquote>
<p>This is just like the argument about whether 1/0 should be defined. Just define it but never use it. Or alternatively try using pnat and let's find out how painful it really it. When I started using lean there was no square root function on the reals and I defined it on the nonnegative reals and it drove me nuts. Does <code>3 : pnat</code> work?</p>
</blockquote>
<p>Yeah, <code>3 : pnat</code> is fine. It's just that putting a <code>gcd_monoid</code> or <code>unique_factorization_monoid</code> instance on pnats is a pain, and IIRC there's not even a class for commutative monoids with cancellation (and no zero)</p>



<a name="209953281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953281">(Sep 13 2020 at 22:50)</a>:</h4>
<p>Just prove that pnat is a free monoid on the primes, everything follows from that, right?</p>



<a name="209953308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953308">(Sep 13 2020 at 22:52)</a>:</h4>
<p>Why is it a pain to put a UFM structure on pnat? If you're going to use pnat despite essentially no API then you're going to have to make the API and indeed doing a project like this will actually be a good way of finding out what API we need.</p>



<a name="209953357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953357">(Sep 13 2020 at 22:52)</a>:</h4>
<p>Just the fact that if you come up with a definition of UFM that doesn't mention 0, then it stops working for monoids that do have 0.</p>



<a name="209953473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953473">(Sep 13 2020 at 22:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Arithmetic.20Functions/near/209953281">said</a>:</p>
<blockquote>
<p>Just prove that pnat is a free monoid on the primes, everything follows from that, right?</p>
</blockquote>
<p>I know what you mean mathematically, but what do you mean in Lean? Prove that pnat is isomorphic to a <code>free_comm_monoid</code>? If so, we don't have that definition.</p>



<a name="209953563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953563">(Sep 13 2020 at 22:59)</a>:</h4>
<p>Could you do something like define all the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi mathvariant="normal">ord</mi><mo>⁡</mo></mo><mi>p</mi></msub><mo>:</mo><mrow><mi mathvariant="normal">p</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi></mrow><mo>→</mo><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi></mrow></mrow><annotation encoding="application/x-tex">\operatorname{ord}_p : \mathrm{pnat} \to \mathrm{nat}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mop"><span class="mop"><span class="mord mathrm">o</span><span class="mord mathrm">r</span><span class="mord mathrm">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">p</span><span class="mord mathrm">n</span><span class="mord mathrm">a</span><span class="mord mathrm">t</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">a</span><span class="mord mathrm">t</span></span></span></span></span> functions, show they're homomorphisms, then use these to define a homomorphism to the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span>-indexed coproduct of copies of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi></mrow><annotation encoding="application/x-tex">\mathrm{nat}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">a</span><span class="mord mathrm">t</span></span></span></span></span>? (and if this latter doesn't exist, define it?) Then, finally, show this is an isomorphism?</p>



<a name="209953893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953893">(Sep 13 2020 at 23:08)</a>:</h4>
<p>There's already a function that sends a <code>pnat</code> to a multiset of prime factors, which is basically what you're talking about. It's just that everything that gets proven about this notion of factorization is totally parallel from other notions of factorization</p>



<a name="209953897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209953897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209953897">(Sep 13 2020 at 23:08)</a>:</h4>
<p>My experience was that this was annoying for proving API lemmas</p>



<a name="209954021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209954021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209954021">(Sep 13 2020 at 23:13)</a>:</h4>
<p>I guess that's basically the same thing, and multisets form a free commutative monoid under unions.  I haven't spent any time with any of this, so I don't know about practice, but in principle it seems nice pulling this structure back.</p>



<a name="209954128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209954128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209954128">(Sep 13 2020 at 23:16)</a>:</h4>
<p>I'm mostly thinking about how things seemed sleek in Ireland and Rosen's "A classical introduction to modern number theory" by implicitly using the free monoid structure that the ords give you.  (These do go backwards from the correct universal property, though, and it relies on the fact that only finitely many of the ords are non-zero.)</p>



<a name="209954247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209954247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209954247">(Sep 13 2020 at 23:21)</a>:</h4>
<p>Is there something like finitely supported functions for <code>has_one</code>?</p>



<a name="209955081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955081">(Sep 13 2020 at 23:51)</a>:</h4>
<p>Not as far as I know</p>



<a name="209955083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955083">(Sep 13 2020 at 23:51)</a>:</h4>
<p>I have run into this issue before</p>



<a name="209955125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955125">(Sep 13 2020 at 23:52)</a>:</h4>
<p>But the free abelian monoid on S is just finitely supported functions to nat, right?</p>



<a name="209955133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955133">(Sep 13 2020 at 23:53)</a>:</h4>
<p>Yeah but you would need to make it multiplicative at some point</p>



<a name="209955136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955136">(Sep 13 2020 at 23:53)</a>:</h4>
<p>I guess after taking finsupp will work too</p>



<a name="209955328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955328">(Sep 13 2020 at 23:59)</a>:</h4>
<p>Can to_additive be used to redefine finsupp with <code>has_zero</code> from finsupp with <code>has_one</code>?</p>



<a name="209955380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209955380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209955380">(Sep 14 2020 at 00:01)</a>:</h4>
<p>Or is there a <code>to_multiplicative</code>?</p>



<a name="209968081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209968081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209968081">(Sep 14 2020 at 06:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/Arithmetic.20Functions/near/209955380">said</a>:</p>
<blockquote>
<p>Or is there a <code>to_multiplicative</code>?</p>
</blockquote>
<p>Nope <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="209968082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209968082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209968082">(Sep 14 2020 at 06:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/Arithmetic.20Functions/near/209955328">said</a>:</p>
<blockquote>
<p>Can to_additive be used to redefine finsupp with <code>has_zero</code> from finsupp with <code>has_one</code>?</p>
</blockquote>
<p>Maybe, but it would be a <em>massive</em> refactor of the library.</p>



<a name="209968109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/209968109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#209968109">(Sep 14 2020 at 06:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/Arithmetic.20Functions/near/209953157">said</a>:</p>
<blockquote>
<p>The problem with big Witt vectors is that gcd is used when you define the ring operations, and it gets really annoying if you have to insert a million proofs that something is nonzero</p>
</blockquote>
<p>I guess there is also the approach via symmetric functions... but we don't have anything on symmetric polynomials atm.</p>



<a name="210489635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/210489635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#210489635">(Sep 18 2020 at 08:09)</a>:</h4>
<p>I'm working on it at <a href="https://github.com/leanprover-community/mathlib/tree/arithmetic_functions">branch#arithmetic_functions</a></p>



<a name="210553107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/210553107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#210553107">(Sep 18 2020 at 17:47)</a>:</h4>
<p>(in short, arithmetic functions are a structure consisting of a function from N, where 0 is fixed to go to 0.)</p>



<a name="210651808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/210651808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#210651808">(Sep 20 2020 at 06:13)</a>:</h4>
<p>I've now gotten up to using Dirichlet convolution to show that the sum of (kth powers of) divisors function is multiplicative</p>



<a name="210651850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/210651850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#210651850">(Sep 20 2020 at 06:14)</a>:</h4>
<p>So probably time to spend a day or two cleaning it up before starting to PR some things</p>



<a name="210651853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Arithmetic%20Functions/near/210651853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Arithmetic.20Functions.html#210651853">(Sep 20 2020 at 06:14)</a>:</h4>
<p>So I'm open to any suggestions people have</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>