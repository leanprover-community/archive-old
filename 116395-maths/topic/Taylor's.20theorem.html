---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Taylor's.20theorem.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html">Taylor's theorem</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267844566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/267844566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#267844566">(Jan 13 2022 at 09:40)</a>:</h4>
<p>How far are we from <a href="https://en.wikipedia.org/wiki/Taylor%27s_theorem#Statement_of_the_theorem">https://en.wikipedia.org/wiki/Taylor%27s_theorem#Statement_of_the_theorem</a> ?<br>
It looks to me like we have everything to do this efficiently, right?</p>



<a name="267846485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/267846485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#267846485">(Jan 13 2022 at 09:59)</a>:</h4>
<p>Yes, that's why it's in the trivial targets list</p>



<a name="287835943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/287835943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#287835943">(Jun 29 2022 at 10:58)</a>:</h4>
<p>Since there seems to be no one actively working on this, I will do it (hopefully this week).</p>



<a name="288227661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288227661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288227661">(Jul 01 2022 at 21:50)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15087">#15087</a> this is not pretty.</p>



<a name="288229665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288229665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288229665">(Jul 01 2022 at 22:17)</a>:</h4>
<p>Is it any better if you use eval on <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.taylor">docs#polynomial.taylor</a>?</p>



<a name="288229797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288229797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288229797">(Jul 01 2022 at 22:19)</a>:</h4>
<p>That is, make a function that gives the first n coeffs and feed that to a polynomial, then use the polynomial api?</p>



<a name="288230126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288230126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288230126">(Jul 01 2022 at 22:23)</a>:</h4>
<p>I don't use anything related to polynomials, but for the API it might be better to use that.</p>



<a name="288231764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288231764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288231764">(Jul 01 2022 at 22:48)</a>:</h4>
<p>It feels to me that the Taylor sum should be define in terms of polynomials.</p>



<a name="288275064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288275064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288275064">(Jul 02 2022 at 15:10)</a>:</h4>
<p><a href="https://math.stackexchange.com/a/758239">https://math.stackexchange.com/a/758239</a></p>



<a name="288275085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288275085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288275085">(Jul 02 2022 at 15:10)</a>:</h4>
<p>There is a deep link between the Taylor sum and its error, and the theory of polynomial interpolants.</p>



<a name="288275113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288275113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288275113">(Jul 02 2022 at 15:11)</a>:</h4>
<p>We don't, I think, have Newton interpolation (and it might be a slight pain to do because it implies an ordering on your nodes).</p>



<a name="288275260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288275260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288275260">(Jul 02 2022 at 15:14)</a>:</h4>
<p>Indeed I'm not sure we have any analytic content to do with interpolants. But it should ideally unify with the Taylor approach...</p>



<a name="288275729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288275729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288275729">(Jul 02 2022 at 15:25)</a>:</h4>
<p>Maybe we should define <a href="https://leanprover-community.github.io/mathlib_docs/find/iterated_deriv">docs#iterated_deriv</a> to be a <a href="https://leanprover-community.github.io/mathlib_docs/find/power_series">docs#power_series</a>?  I think <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> has thought about this.</p>



<a name="288278999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288278999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hern√°ndez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288278999">(Jul 02 2022 at 16:44)</a>:</h4>
<p>It's quite odd that the Taylor polynomial isn't a polynomial</p>



<a name="288279696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288279696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288279696">(Jul 02 2022 at 17:01)</a>:</h4>
<p>This has now been fixed, I have also added the Cauchy form of the remainder.</p>



<a name="288301409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288301409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288301409">(Jul 03 2022 at 02:10)</a>:</h4>
<p>I think the polynomial form should include the point about which you're taking the Taylor form</p>



<a name="288301415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288301415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288301415">(Jul 03 2022 at 02:10)</a>:</h4>
<p>Currently you include that in the evaluation</p>



<a name="288301424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288301424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288301424">(Jul 03 2022 at 02:11)</a>:</h4>
<p>and that doesn't make me happy I'm afraid</p>



<a name="288320718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288320718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288320718">(Jul 03 2022 at 10:43)</a>:</h4>
<p>To be honest I am more bothered with getting the <code>cont_diff</code> assumption to be as sharp as possible, rewriting definition for the Taylor series is very easy.</p>



<a name="288362914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288362914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yao Liu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288362914">(Jul 04 2022 at 03:31)</a>:</h4>
<p>The most general assumption (for Lagrange remainder) must be that the (n+1)st derivative exists in the interior, and the n-th derivative (hence all lower derivatives) is continuous on the closed interval [a,b]. That's the Mean Value Theorem when n=0.</p>



<a name="288363119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288363119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yao Liu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288363119">(Jul 04 2022 at 03:35)</a>:</h4>
<p>The definition of Taylor polynomial only assumes n derivatives at that single point, which is ok for Peano remainder?</p>



<a name="288365080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288365080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yao Liu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288365080">(Jul 04 2022 at 04:18)</a>:</h4>
<p>How far is Complex Analysis coming along? I think Taylor <em>series</em> should be part of complex function theory, where you get something about the radius of convergence.</p>



<a name="288371456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288371456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288371456">(Jul 04 2022 at 06:34)</a>:</h4>
<p>We do have analyticity of holomorphic functions (e.g. <a href="https://leanprover-community.github.io/mathlib_docs/find/differentiable_on.has_fpower_series_on_ball">docs#differentiable_on.has_fpower_series_on_ball</a>) but the coefficients are given by Cauchy integrals rather than derivatives (<a href="https://leanprover-community.github.io/mathlib_docs/find/has_sum_cauchy_power_series_integral">docs#has_sum_cauchy_power_series_integral</a>). Connecting the two is a matter of differentiation of parametric integrals, which have been meaning to do for a few weeks, but then it could also be done instead by showing that the Taylor polynomial can be obtained by truncation of the series and identifying the coefficients.</p>



<a name="288371717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288371717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288371717">(Jul 04 2022 at 06:39)</a>:</h4>
<p>BTW might it be more in the spirit of mathlib to first define the Taylor series at a point (as a term of type <code>formal_multilinear_series</code>) and to state Taylor's theorem as "under such and such differentiability assumptions, the truncation of the series matches the function up to this error term"? (Treating the higher order terms in the series as junk values.)</p>



<a name="288393894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288393894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288393894">(Jul 04 2022 at 10:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224933">Yao Liu</span> <a href="#narrow/stream/116395-maths/topic/Taylor's.20theorem/near/288363119">said</a>:</p>
<blockquote>
<p>The definition of Taylor polynomial only assumes n derivatives at that single point, which is ok for Peano remainder?</p>
<p>On the other end, the integral form of the remainder requires that the (n+1)st derivative be Lebesgue-integrable, or equivalently that the nth derivative is <em>absolutely continuous</em> (iirc). That's closer to being "n-times continuously differentiable" while in some sense is as sharp as possible.</p>
</blockquote>
<p>I leave these two version for later PRs (and maybe to someone else).</p>



<a name="288394596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288394596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288394596">(Jul 04 2022 at 10:55)</a>:</h4>
<p><span class="user-mention" data-user-id="242586">@Vincent Beffara</span> There is <a href="https://leanprover-community.github.io/mathlib_docs/find/has_ftaylor_series_up_to_on">docs#has_ftaylor_series_up_to_on</a> but the continuity of the highest derivative has to be in the interior only, so that is no good.</p>



<a name="288396006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288396006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288396006">(Jul 04 2022 at 11:11)</a>:</h4>
<p>One could make the assumption <code>has_ftaylor_series_up_to_on n f (set.Icc x0 x1)</code> and <code>has_ftaylor_series_up_to_on (n+1) f (set.Ioo x0 x1)</code>,<br>
but that also feels not satisfactory.</p>



<a name="288396280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288396280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288396280">(Jul 04 2022 at 11:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> what are your thoughts on this?</p>



<a name="288555552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288555552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288555552">(Jul 05 2022 at 16:33)</a>:</h4>
<p>maybe we need two separate definitions: one using <code>iterated_deriv</code> and one using <code>iterated_deriv_within</code>? Then it would be easy to prove everything for <code>taylor_sum_within</code> and under the assumptions of the theorems one also has that <code>taylor_sum_within = taylor_sum</code> (because <code>iterated_deriv_within = iterated_deriv</code> at every point)</p>



<a name="288868858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288868858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288868858">(Jul 07 2022 at 21:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/Taylor's.20theorem/near/288301409">said</a>:</p>
<blockquote>
<p>I think the polynomial form should include the point about which you're taking the Taylor form</p>
</blockquote>
<p>fixed that</p>



<a name="288869148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288869148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288869148">(Jul 07 2022 at 21:36)</a>:</h4>
<p>the definition of the sum is now a bit useless, but before removing it, we should settle on a good name for <code>taylor_polynomial</code>. I was thinking that it should be something like <code>taylor_poly_within</code> or  <code>taylor_within</code> and similarly rename <code>taylor_coeff</code> to <code>taylor_coeff_within</code>.</p>



<a name="288880962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288880962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288880962">(Jul 07 2022 at 23:50)</a>:</h4>
<p>What does the <code>within</code> signify?</p>



<a name="288881096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288881096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288881096">(Jul 07 2022 at 23:53)</a>:</h4>
<p>that it is using <code>deriv_within</code> and not <code>deriv</code></p>



<a name="288881355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Taylor%27s%20theorem/near/288881355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Taylor's.20theorem.html#288881355">(Jul 07 2022 at 23:56)</a>:</h4>
<p>I suspect that one needs both variants in the end, but I have no good understanding how the calculus library works, so I might be very wrong.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>