---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html">succ_order and pred_order design</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="290635004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635004">(Jul 23 2022 at 21:42)</a>:</h4>
<p>So, <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> and I have been discussing about the design of the <a href="https://leanprover-community.github.io/mathlib_docs/find/succ_order">docs#succ_order</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/pred_order">docs#pred_order</a> typeclasses</p>



<a name="290635109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635109">(Jul 23 2022 at 21:45)</a>:</h4>
<p>Currently, <code>succ_order</code> is defined so that <code>succ a</code> covers <code>a</code> unless <code>a</code> is maximal, in which case <code>succ a</code> is some other order-indistinguishable maximal element</p>



<a name="290635209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635209">(Jul 23 2022 at 21:47)</a>:</h4>
<p>Of course the mental model is that we're working within a partial order, so that for a maximal element, <code>succ a = a</code>.</p>



<a name="290635303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635303">(Jul 23 2022 at 21:49)</a>:</h4>
<p>We have the notion of an <a href="https://leanprover-community.github.io/mathlib_docs/find/is_succ_limit">docs#is_succ_limit</a>, which is a value that isn't the successor of any value other than possibly itself</p>



<a name="290635348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635348">(Jul 23 2022 at 21:50)</a>:</h4>
<p>Think omega on ordinals, or the top in <code>with_top nat</code></p>



<a name="290635384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635384">(Jul 23 2022 at 21:51)</a>:</h4>
<p>Now here's the thing</p>



<a name="290635461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635461">(Jul 23 2022 at 21:53)</a>:</h4>
<p>As I proved in <a href="https://github.com/leanprover-community/mathlib/pull/15614">#15614</a>, any <code>succ_order</code> has a certain predecessor-like function that I'm calling <code>pred'</code>, defined such that <code>pred' a = a</code> on successor limits <code>a</code>, and <code>pred' (succ a) = a</code> for non-maximal <code>a</code>.</p>



<a name="290635467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635467">(Jul 23 2022 at 21:53)</a>:</h4>
<p>In a partial order that's also <code>is_succ_archimedean</code>, this function can be used to build a <code>pred_order</code> that satisfies <code>is_pred_archimedean</code></p>



<a name="290635521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635521">(Jul 23 2022 at 21:54)</a>:</h4>
<p>Which means that right off the bat, in the cases we care about, these two classes are actually equivalent</p>



<a name="290635594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635594">(Jul 23 2022 at 21:56)</a>:</h4>
<p>Now, Yaël raised the concern that <code>succ_order</code> and <code>pred_order</code> might actually be too strict, if <code>pred'</code> is only a valid predecessor function in the Archimedean case.</p>



<a name="290635621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635621">(Jul 23 2022 at 21:57)</a>:</h4>
<p>After all, we do use a predecessor function like this in a non-archimedean order at least once: <a href="https://leanprover-community.github.io/mathlib_docs/find/ordinal.pred">docs#ordinal.pred</a></p>



<a name="290635676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635676">(Jul 23 2022 at 21:58)</a>:</h4>
<p>Of course, if <code>pred'</code> can be built from any partial <code>succ_order</code> and is a valid predecessor function, then we need to question whether it's even worth having <code>succ_order</code> and <code>pred_order</code> be separate classes.</p>



<a name="290635806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635806">(Jul 23 2022 at 22:01)</a>:</h4>
<p>So the first question I'd like to answer is: do we <em>want</em> every <code>succ_order</code> to also be a <code>pred_order</code> and viceversa?</p>



<a name="290635858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635858">(Jul 23 2022 at 22:02)</a>:</h4>
<p>These typeclasses don't really correspond to anything in the math library, even though they're undeniably useful to have in mathlib, so we get to make up our own answers here.</p>



<a name="290635896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635896">(Jul 23 2022 at 22:03)</a>:</h4>
<p>At the same time, I don't think there's a need to fix what isn't broken. We can have both these typeclasses, and define the functions <code>order.succ'</code> and <code>order.pred'</code> when you want a weaker notion of a successor or predecessor given the other.</p>



<a name="290635962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635962">(Jul 23 2022 at 22:04)</a>:</h4>
<p>If we do want to unify these typeclasses, then the next question would be what the new assumptions would become.</p>



<a name="290635981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290635981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290635981">(Jul 23 2022 at 22:05)</a>:</h4>
<p>So yeah, opinions welcome.</p>



<a name="290636126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636126">(Jul 23 2022 at 22:09)</a>:</h4>
<p>we definitely want definitional control of both</p>



<a name="290636136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636136">(Jul 23 2022 at 22:09)</a>:</h4>
<p>I think we could pretty much set them to the obvious things</p>



<a name="290636141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636141">(Jul 23 2022 at 22:09)</a>:</h4>
<p>like just merge it into one class</p>



<a name="290636371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636371">(Jul 23 2022 at 22:15)</a>:</h4>
<p>That much is true</p>



<a name="290636381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636381">(Jul 23 2022 at 22:15)</a>:</h4>
<p>We could have a single <code>succ_pred_order</code> class with two data fields <code>succ</code> and <code>pred</code> and constructors for one given the other when you don't care about the def-eq</p>



<a name="290636437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636437">(Jul 23 2022 at 22:16)</a>:</h4>
<p>But of course we do have reasonable ways to fill out both in most cases, e.g. <code>nat.succ</code> and <code>nat.pred</code>, or <code>int.succ</code> and <code>int.pred</code></p>



<a name="290636445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636445">(Jul 23 2022 at 22:17)</a>:</h4>
<p>The exceptions here would be ordinals and cardinals where there's not a "nice" way to define the predecessor</p>



<a name="290636451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636451">(Jul 23 2022 at 22:17)</a>:</h4>
<p>Not that we don't care about it</p>



<a name="290636509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636509">(Jul 23 2022 at 22:18)</a>:</h4>
<p>Something else that I just realized regarding <code>succ'</code> and <code>pred'</code>: I imagine that these functions would still satisfy many of the properties of <code>succ</code> and <code>pred</code>, leading to a lot of API duplication</p>



<a name="290636524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636524">(Jul 23 2022 at 22:19)</a>:</h4>
<p>So that's another point towards merging</p>



<a name="290636671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636671">(Jul 23 2022 at 22:23)</a>:</h4>
<p>If we were to merge <code>succ_order</code> and <code>pred_order</code>, what would the new <code>Prop</code> fields be? I imagine they could be like the current ones but with <code>is_max</code> replaced with <code>is_pred_limit</code></p>



<a name="290636798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290636798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290636798">(Jul 23 2022 at 22:27)</a>:</h4>
<p>Yeah actually that sounds like a really elegant approach</p>



<a name="290637142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290637142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290637142">(Jul 23 2022 at 22:37)</a>:</h4>
<p>And the nice thing is that <code>is_succ_archimedean</code> implies that all predecessor limits are maximums</p>



<a name="290639343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639343">(Jul 23 2022 at 23:28)</a>:</h4>
<p>Here's a small but noteworthy issue with this new approach</p>



<a name="290639350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639350">(Jul 23 2022 at 23:28)</a>:</h4>
<p>We can't state <code>is_succ_limit</code> without <code>succ</code></p>



<a name="290639365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639365">(Jul 23 2022 at 23:29)</a>:</h4>
<p>Which means we'd need to spell it out in full in the definition, which means no dot notation</p>



<a name="290639385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639385">(Jul 23 2022 at 23:29)</a>:</h4>
<p>Unless we were to make separate <code>has_succ</code> and <code>has_pred</code> typeclasses used for the sole purpose of defining <code>is_succ_limit</code> and <code>is_pred_limit</code>, and being extended by <code>succ_pred_order</code></p>



<a name="290639746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639746">(Jul 23 2022 at 23:39)</a>:</h4>
<p>Actually there's another problem, it's not trivial that you can build a <code>pred_order</code> from a <code>succ_order</code>, you need a bunch of extra results</p>



<a name="290639797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639797">(Jul 23 2022 at 23:40)</a>:</h4>
<p>Maybe we could keep <code>succ_order</code> and <code>pred_order</code>, just changing <code>is_max</code> to <code>is_pred_limit</code>, and making <code>succ_pred_order</code> extend both?</p>



<a name="290639800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639800">(Jul 23 2022 at 23:40)</a>:</h4>
<p>Then in practice, most results would be stated in terms of this latter typeclass</p>



<a name="290639809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639809">(Jul 23 2022 at 23:40)</a>:</h4>
<p>That seems like shoddy design though, since <code>succ_order</code> and <code>pred_order</code> wouldn't be meant to be used</p>



<a name="290639813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639813">(Jul 23 2022 at 23:40)</a>:</h4>
<p>It is actually very easy to define <code>is_succ_limit</code> without <code>succ</code>.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">is_succ_limit</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="o">⦃</span><span class="n">b</span><span class="o">⦄,</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">c</span><span class="o">,</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">c</span> <span class="bp">&lt;</span> <span class="n">a</span>
</code></pre></div>



<a name="290639828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639828">(Jul 23 2022 at 23:41)</a>:</h4>
<p>Or, even,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">is_succ_limit</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">b</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">b</span> <span class="bp">⋖</span> <span class="n">a</span>
</code></pre></div>



<a name="290639860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639860">(Jul 23 2022 at 23:42)</a>:</h4>
<p>Oh wow</p>



<a name="290639879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639879">(Jul 23 2022 at 23:42)</a>:</h4>
<p>Btw, I just realized that maybe we do still want to keep <code>succ_order</code> and <code>pred_order</code> even if we make a new class that combines them</p>



<a name="290639890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639890">(Jul 23 2022 at 23:43)</a>:</h4>
<p>Since that way we'd still have <code>succ_order.of_succ_le_iff_of_le_lt_succ</code> and such to help build the successor function without having to build the predecessor one</p>



<a name="290639978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639978">(Jul 23 2022 at 23:45)</a>:</h4>
<p>If we switch to this new definition of `is<br>
<span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/succ_order.20and.20pred_order.20design/near/290639828">said</a>:</p>
<blockquote>
<p>Or, even,</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">is_succ_limit</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">b</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">b</span> <span class="bp">⋖</span> <span class="n">a</span>
</code></pre></div><br>
</p>
</blockquote>
<p>This approach seems clearly better than the current one. But we'd have to rename <code>is_succ_limit</code> to something else, since we're no longer making explicit reference to the successor.</p>



<a name="290639987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290639987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290639987">(Jul 23 2022 at 23:45)</a>:</h4>
<p>Darn it, a PR is merged and two days later I already need to refactor it <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="290640244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640244">(Jul 23 2022 at 23:51)</a>:</h4>
<p>Maybe <code>is_left_dense</code> and <code>is_right_dense</code>?</p>



<a name="290640381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640381">(Jul 23 2022 at 23:55)</a>:</h4>
<p>This seems simple enough to have a name in the literature but I can't find anything by googling</p>



<a name="290640496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640496">(Jul 23 2022 at 23:58)</a>:</h4>
<p>I think the names still make sense, because the generalisation I was talking about means that <code>succ</code> and <code>pred</code> could be defined in any linear order (at least).</p>



<a name="290640588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640588">(Jul 24 2022 at 00:00)</a>:</h4>
<p>Are you talking about the same generalization as me? i.e. changing <code>is_max</code> to <code>is_pred_limit</code> and viceversa</p>



<a name="290640708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640708">(Jul 24 2022 at 00:03)</a>:</h4>
<p>Yes, because then either an element is a pred limit, or there's an element that covers it.</p>



<a name="290640711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640711">(Jul 24 2022 at 00:03)</a>:</h4>
<p>Yeah, I can see how every linear order would have a successor and predecessor. They'd essentially boil down to "the next element if it exists, itself otherwise"</p>



<a name="290640758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640758">(Jul 24 2022 at 00:04)</a>:</h4>
<p>Well, I support this refactor</p>



<a name="290640769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640769">(Jul 24 2022 at 00:04)</a>:</h4>
<p>The only problem is that I don't know how to do this refactor without changing 1k lines of code at once</p>



<a name="290640773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290640773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290640773">(Jul 24 2022 at 00:04)</a>:</h4>
<p>I guess I could start by generalizing <code>is_succ_limit</code>, then what?</p>



<a name="290641223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641223">(Jul 24 2022 at 00:16)</a>:</h4>
<p>Oh btw this still makes <code>succ</code> monotone.</p>



<a name="290641596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641596">(Jul 24 2022 at 00:27)</a>:</h4>
<p>Ah by the way, your new definition of <code>is_succ_limit</code> isn't equivalent to the old one</p>



<a name="290641598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641598">(Jul 24 2022 at 00:27)</a>:</h4>
<p>...in preorders, so who cares <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="290641663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641663">(Jul 24 2022 at 00:29)</a>:</h4>
<p>You could have <code>a &lt; b ⋚ c</code> with <code>succ a = b</code>, <code>succ b = c</code>, <code>succ c = c</code>, so that <code>c</code> is a successor order under the old definition, but not under the new definition</p>



<a name="290641664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641664">(Jul 24 2022 at 00:29)</a>:</h4>
<p>Honestly it seems better this new way</p>



<a name="290641819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641819">(Jul 24 2022 at 00:33)</a>:</h4>
<p>Namespace stuff</p>



<a name="290641824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641824">(Jul 24 2022 at 00:33)</a>:</h4>
<p>I want to move <code>is_succ_limit</code> to the <code>order/cover.lean</code> file, but that file isn't contained in the <code>order</code> namespace</p>



<a name="290641827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641827">(Jul 24 2022 at 00:33)</a>:</h4>
<p>Which means <code>is_succ_limit</code> will no longer be in the <code>order</code> namespace by default</p>



<a name="290641831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641831">(Jul 24 2022 at 00:33)</a>:</h4>
<p>Should I do something about it?</p>



<a name="290641874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290641874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290641874">(Jul 24 2022 at 00:34)</a>:</h4>
<p>I think this is fine. The reason for <code>succ</code> and <code>pred</code> being in the order namespace is to avoid conflicting with <code>nat.succ</code>.</p>



<a name="290642008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642008">(Jul 24 2022 at 00:39)</a>:</h4>
<p>I should note, basically everything about <code>is_succ_limit</code> no longer works on preorders, since we don't have <code>covby.succ_eq</code></p>



<a name="290642012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642012">(Jul 24 2022 at 00:39)</a>:</h4>
<p>Again, not a problem, just noteworthy</p>



<a name="290642105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642105">(Jul 24 2022 at 00:41)</a>:</h4>
<p>That's surprising. You don't get <code>succ a = b</code>, but you still have <code>antisymm_rel (≤) (succ a) b</code> so most results should still be true.</p>



<a name="290642168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642168">(Jul 24 2022 at 00:43)</a>:</h4>
<p>The problem is that the old <code>is_succ_limit</code> had <code>succ a = b</code> in the definition itself</p>



<a name="290642177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642177">(Jul 24 2022 at 00:43)</a>:</h4>
<p>Sure. But your results should still be true if you replace <code>=</code> by <code>antisymm_rel (≤)</code>.</p>



<a name="290642233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642233">(Jul 24 2022 at 00:44)</a>:</h4>
<p>Oh sure, but then they're no longer very useful</p>



<a name="290642975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642975">(Jul 24 2022 at 01:06)</a>:</h4>
<p>Ah, there is another inconvenience with the <code>is_succ_limit</code> refactor</p>



<a name="290642976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642976">(Jul 24 2022 at 01:06)</a>:</h4>
<p>Our def-eq abuse no longer works</p>



<a name="290642982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642982">(Jul 24 2022 at 01:06)</a>:</h4>
<p><code>is_succ_limit a</code> is no longer def-eq to <code>is_pred_limit (to_dual a)</code></p>



<a name="290642995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290642995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290642995">(Jul 24 2022 at 01:07)</a>:</h4>
<p>I guess we could remedy this by defining <code>to_pred_limit</code> as the order-dual of <code>is_succ_limit</code>, though</p>



<a name="290643002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643002">(Jul 24 2022 at 01:07)</a>:</h4>
<p>The definition would look weird when unfolded, but just don't do that I guess</p>



<a name="290643189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643189">(Jul 24 2022 at 01:08)</a>:</h4>
<p>Simply prove <code>is_succ_order.dual</code>.</p>



<a name="290643267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643267">(Jul 24 2022 at 01:10)</a>:</h4>
<p>I did prove it, but since the entire <code>is_pred_limit</code> API consists entirely of def-eq conversions, it means that I now have to change all of that to be done "properly"</p>



<a name="290643274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643274">(Jul 24 2022 at 01:11)</a>:</h4>
<p>Or, I could just do this</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">is_pred_limit</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">is_succ_limit</span> <span class="o">(</span><span class="n">to_dual</span> <span class="n">a</span><span class="o">)</span>
</code></pre></div>



<a name="290643279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643279">(Jul 24 2022 at 01:11)</a>:</h4>
<p>Yeah, this is not proper.</p>



<a name="290643434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643434">(Jul 24 2022 at 01:12)</a>:</h4>
<p>Well, time to do things the right way then</p>



<a name="290643536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643536">(Jul 24 2022 at 01:15)</a>:</h4>
<p>Oh wait, I see what you mean</p>



<a name="290643540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290643540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290643540">(Jul 24 2022 at 01:15)</a>:</h4>
<p>I don't need to do that much extra work, just use <code>h.dual</code> instead of <code>h</code> for my <code>is_pred_limit</code> hypotheses throughout</p>



<a name="290644619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290644619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290644619">(Jul 24 2022 at 01:47)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/15655">#15655</a></p>



<a name="290644620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290644620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290644620">(Jul 24 2022 at 01:47)</a>:</h4>
<p>Here's the PR redefining <code>is_succ_limit</code></p>



<a name="290644877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290644877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290644877">(Jul 24 2022 at 01:55)</a>:</h4>
<p>As for <code>succ_order</code> and <code>pred_order</code>, here's what I think should be done:</p>
<ul>
<li>Redefine <code>succ_order</code> by changing <code>max_of_succ_le</code> to <code>is_pred_limit_of_succ_le</code>.</li>
<li>Create a new typeclass <code>succ_pred_order</code> extending <code>succ_order</code> and <code>pred_order</code>.</li>
<li>Make constructors from this new typeclass from either <code>succ_order</code> or <code>pred_order</code> on a <code>partial_order</code>.</li>
<li>Use <code>succ_order</code> and <code>pred_order</code> only to prove the results necessary to create this constructor, and for auxiliary constructors such as <code>succ_order.of_succ_le_iff_of_le_lt_succ</code>. Use <code>succ_pred_order</code> for everything else.</li>
</ul>



<a name="290644921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290644921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290644921">(Jul 24 2022 at 01:56)</a>:</h4>
<p>Regarding <code>is_succ_archimedean</code> and <code>is_pred_archimedean</code>, we could either merge them into a single typeclass, or use this same approach of having both structures to prove auxiliary results, and only use the combined structure after that.</p>



<a name="290644935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290644935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290644935">(Jul 24 2022 at 01:57)</a>:</h4>
<p><del>Though actually, I don't know if the auxiliary constructors for <code>succ_order</code> will be all that useful now that any linear order is a successor order period.</del> nvm they can still be used to give better def-eqs</p>



<a name="290646072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290646072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290646072">(Jul 24 2022 at 02:25)</a>:</h4>
<p>By the way, this reminds me of our situation with <a href="https://leanprover-community.github.io/mathlib_docs/find/complete_semilattice_Sup">docs#complete_semilattice_Sup</a></p>



<a name="290646152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290646152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290646152">(Jul 24 2022 at 02:26)</a>:</h4>
<p>I guess the difference is that in that case, that typeclass is <strong>exactly</strong> mathematically identical to <a href="https://leanprover-community.github.io/mathlib_docs/find/complete_lattice">docs#complete_lattice</a>, and it's not hard to prove so, while in our case <code>succ_order</code> and <code>succ_pred_order</code> are only <strong>almost always</strong> mathematically identical, and it takes some API development to prove it</p>



<a name="290646282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290646282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290646282">(Jul 24 2022 at 02:29)</a>:</h4>
<p>And also there's shortcuts to building <code>succ_order</code> while there's not really any shortcuts for <code>complete_semilattice_Sup</code> - it IS the shortcut.</p>



<a name="290649341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290649341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290649341">(Jul 24 2022 at 03:36)</a>:</h4>
<p>I started working on the first part, changing <code>is_max</code> to <code>is_pred_limit</code></p>



<a name="290649343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290649343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290649343">(Jul 24 2022 at 03:36)</a>:</h4>
<p>I can proudly say, when you change <code>is_max</code> into <code>is_pred_limit</code>, every result about succ-preorders remains true</p>



<a name="290649352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290649352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290649352">(Jul 24 2022 at 03:37)</a>:</h4>
<p>Of course, the results on <code>no_max_order</code> no longer work, period</p>



<a name="290649435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290649435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290649435">(Jul 24 2022 at 03:39)</a>:</h4>
<p>But that's where <code>is_succ_archimedean</code> comes in: in a succ-archimedean order, every predecessor limit is minimal, which means that we can still recover some form of these results</p>



<a name="290649829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290649829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290649829">(Jul 24 2022 at 03:47)</a>:</h4>
<p>This is honestly amazing, for most results you can just replace <code>is_max</code> by <code>is_pred_limit</code> and it just immediately works</p>



<a name="290650824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290650824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290650824">(Jul 24 2022 at 04:08)</a>:</h4>
<p>I'm thinking</p>



<a name="290650858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290650858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290650858">(Jul 24 2022 at 04:09)</a>:</h4>
<p><code>succ_order</code> isn't really badly behaved on preorders</p>



<a name="290650919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290650919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290650919">(Jul 24 2022 at 04:10)</a>:</h4>
<p>And neither is <code>is_pred_limit</code></p>



<a name="290650929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290650929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290650929">(Jul 24 2022 at 04:11)</a>:</h4>
<p>For the latter, you can prove a congruence lemma of the form <code>antisymm_rel (≤) a b → (is_pred_limit a ↔ is_pred_limit b)</code></p>



<a name="290650996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290650996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290650996">(Jul 24 2022 at 04:12)</a>:</h4>
<p>So maybe it's not even worth it to merge <code>succ_order</code> and <code>pred_order</code></p>



<a name="290651096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290651096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290651096">(Jul 24 2022 at 04:14)</a>:</h4>
<p>Even though we should totally document that on a partial order either instance gives you the other</p>



<a name="290651592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290651592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290651592">(Jul 24 2022 at 04:25)</a>:</h4>
<p>Idea</p>



<a name="290651657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290651657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290651657">(Jul 24 2022 at 04:26)</a>:</h4>
<p>Now that <code>is_pred_limit</code> is part of the definition of a <code>succ_order</code>, surely there's no reason for <code>order/succ_pred/limit.lean</code> to be a separate file?</p>



<a name="290651683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290651683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290651683">(Jul 24 2022 at 04:26)</a>:</h4>
<p>On the other hand, all the stuff about archimedean orders is going to grow a lot in size now that the results that were previously stated for <code>no_max_order</code> and such are moved there, so maybe that should get its own file?</p>



<a name="290654058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654058">(Jul 24 2022 at 05:25)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/tree/succ_pred_refactor_REAL">https://github.com/leanprover-community/mathlib/tree/succ_pred_refactor_REAL</a></p>



<a name="290654060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654060">(Jul 24 2022 at 05:25)</a>:</h4>
<p>Here's the start of the <code>is_max → is_pred_limit</code> refactor</p>



<a name="290654084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654084">(Jul 24 2022 at 05:26)</a>:</h4>
<p>I commented out everything that was nontrivial to fix</p>



<a name="290654182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654182">(Jul 24 2022 at 05:29)</a>:</h4>
<p>Wait, I just realized something</p>



<a name="290654240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654240">(Jul 24 2022 at 05:31)</a>:</h4>
<p>From the module docstring:</p>
<blockquote>
<p>The stricter condition of every element having a sensible successor can be obtained through the combination of <code>succ_order α</code> and <code>no_max_order α</code>.</p>
</blockquote>
<p>If we do this refactor, we will no longer have a spelling for this exactly. Is that a problem?</p>



<a name="290654441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654441">(Jul 24 2022 at 05:36)</a>:</h4>
<p>Also, now that <code>is_succ_limit</code> has a much simpler and natural definition, maybe we do want a <code>no_succ_limit</code> typeclass? It would be niche, but it would be by far the easiest way to patch up the API</p>



<a name="290654450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654450">(Jul 24 2022 at 05:37)</a>:</h4>
<p>That way, we will actually have a spelling for "has a sensible successor function" that doesn't just work on naturals and integers</p>



<a name="290654509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654509">(Jul 24 2022 at 05:39)</a>:</h4>
<p>Yeah you know, it would be weird not to automatically have that e.g. the successor function on ordinals is strictly monotone</p>



<a name="290654522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654522">(Jul 24 2022 at 05:39)</a>:</h4>
<p>Potential dealbreaker</p>



<a name="290654952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290654952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290654952">(Jul 24 2022 at 05:53)</a>:</h4>
<p>Alright, before I go to sleep, I'll summarize my current plan with this refactor. All comments apply to the respective order duals.</p>
<ol>
<li>Redefine <code>is_succ_limit</code> in terms of the covering relation.</li>
<li>Introduce a <code>no_succ_limit</code> typeclass.</li>
<li>Generalize <code>succ_order</code> by changing <code>max_of_succ_le</code> to <code>is_pred_order_of_succ_le</code></li>
<li>Prove that a partial <code>succ_order</code> is also a <code>pred_order</code>.</li>
<li>Prove that a partial <code>is_succ_archimedean</code> order is also <code>is_pred_archimedean</code>.</li>
</ol>



<a name="290674784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290674784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290674784">(Jul 24 2022 at 12:43)</a>:</h4>
<p>I just realized</p>



<a name="290674837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290674837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290674837">(Jul 24 2022 at 12:44)</a>:</h4>
<p>With this redefinition, you can actually define a predecessor order from <strong>any</strong> successor order</p>



<a name="290674863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290674863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290674863">(Jul 24 2022 at 12:45)</a>:</h4>
<p>For a successor limit you define the predecessor as itself, otherwise you define it as some element covered by it</p>



<a name="290674918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290674918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290674918">(Jul 24 2022 at 12:46)</a>:</h4>
<p>It's just that this element is not generally unique in a preorder</p>



<a name="290682210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290682210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290682210">(Jul 24 2022 at 14:09)</a>:</h4>
<p>Yeah you know, I think I'm against merging <code>succ_order</code> + <code>pred_order</code> and <code>is_succ_archimedean</code> + <code>is_pred_archimedean</code></p>



<a name="290682269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/succ_order%20and%20pred_order%20design/near/290682269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/succ_order.20and.20pred_order.20design.html#290682269">(Jul 24 2022 at 14:10)</a>:</h4>
<p>There's little cost in just using the constructors for one from the other</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>