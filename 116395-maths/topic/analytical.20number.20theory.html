---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/analytical.20number.20theory.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html">analytical number theory</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="310932894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310932894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310932894">(Nov 18 2022 at 22:23)</a>:</h4>
<p>This is a question for <a class="stream" data-stream-id="116395" href="/#narrow/stream/116395-maths">#maths</a></p>



<a name="310933643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310933643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310933643">(Nov 18 2022 at 22:28)</a>:</h4>
<p>2 messages were moved here from <a class="stream-topic" data-stream-id="270676" href="/#narrow/stream/270676-lean4/topic/mathlib4">#lean4 &gt; mathlib4</a> by <span class="user-mention silent" data-user-id="110049">Mario Carneiro</span>.</p>



<a name="310933935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310933935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310933935">(Nov 18 2022 at 22:30)</a>:</h4>
<p>There has been some offline talk about finding a good analytic number theory project but a good project needs a leader. Without good projects progress is eratic because it just happens when someone feels like doing something. Bhavik Mehta and Thomas Bloom formalised Bloom's theorem that any set of naturals with positive density contains a finite subset such that the sum of the reciprocals is 1, but we don't have the Riemann zeta function yet.</p>



<a name="310934034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310934034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310934034">(Nov 18 2022 at 22:30)</a>:</h4>
<p>On the p-adic branch we have the p-adic zeta function though ;-) (although it will be factored out into its own project at some point)</p>



<a name="310995659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310995659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310995659">(Nov 19 2022 at 10:59)</a>:</h4>
<p>Thanks, I'm writing some Lean code towards Riemann zeta function.</p>



<a name="310996343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/310996343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#310996343">(Nov 19 2022 at 11:02)</a>:</h4>
<p>The project by Bhavik and Thomas is really famous and I knew it already. It's the first math result that was verified by machine before the paper was published in a peer-reviewed journal.</p>



<a name="311136348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311136348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311136348">(Nov 20 2022 at 12:56)</a>:</h4>
<p><a href="https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean">https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean</a></p>



<a name="311136394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311136394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311136394">(Nov 20 2022 at 12:57)</a>:</h4>
<p>Defined theta function, proved its convergence but not its functional equation.</p>



<a name="311137427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311137427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311137427">(Nov 20 2022 at 13:05)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="481963">@David Loeffler</span> might be thinking about related issues</p>



<a name="311143466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311143466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311143466">(Nov 20 2022 at 13:58)</a>:</h4>
<p>Where is the GitHub repository of p-adic zeta function in Lean?</p>



<a name="311143488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311143488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311143488">(Nov 20 2022 at 13:58)</a>:</h4>
<p>I googled it but not given result.</p>



<a name="311149100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311149100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311149100">(Nov 20 2022 at 14:49)</a>:</h4>
<p>Right now Ashvni's work is on the <code>p-adic</code> branch of mathlib, but she's going to move it to a separate repository at some point. She has the definition and is currently proving that its values at negative integers are related to Bernoulli numbers (in fact she is proving a more general result for p-adic L-functions attached to Dirichlet characters).</p>



<a name="311170203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311170203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311170203">(Nov 20 2022 at 18:20)</a>:</h4>
<p>Hi guys! As Kevin says, I've been working towards formalising some properties of Riemann zeta in Lean. I have a complete proof of the formula for zeta(2k), k &gt;= 1, in terms of Bernoulli numbers; see PR <a href="https://github.com/leanprover-community/mathlib/pull/14701">#14701</a> for a complete working draft. I'm working on getting this cleaned up for inclusion into mathlib (it's waiting on some modifications to the Fourier series code, see <a href="https://github.com/leanprover-community/mathlib/pull/17598">#17598</a>). </p>
<p>My longer-term goal is to prove the functional equation for zeta. There are proofs via contour integration, but that seems a bit tricky to formalise (because we don't have things like winding numbers in mathlib yet); so I'm hoping to prove it the way Riemann did, by taking the Mellin transform on both sides of the identity theta(i / (4x) ) = sqrt(x) theta(ix). </p>
<p>To get the modularity law for the theta function there are two steps:</p>
<ul>
<li>(1) prove Poisson summation for smooth rapidly-decaying functions on the real line;</li>
<li>(2) show that exp(-x^2) is its own Fourier transform.<br>
I'm vaguely working towards (1) at the moment. If anyone wants to take on (2) then please be my guest :-)</li>
</ul>



<a name="311194865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311194865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311194865">(Nov 20 2022 at 23:21)</a>:</h4>
<p><span class="user-mention" data-user-id="252920">@Alex Kontorovich</span> you were asking about analytic number theory recently, here is evidence of some progress :-)</p>



<a name="311206898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311206898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311206898">(Nov 21 2022 at 02:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/311170203">said</a>:</p>
<blockquote>
<p>Hi guys! As Kevin says, I've been working towards formalising some properties of Riemann zeta in Lean. I have a complete proof of the formula for zeta(2k), k &gt;= 1, in terms of Bernoulli numbers; see PR <a href="https://github.com/leanprover-community/mathlib/pull/14701">#14701</a> for a complete working draft. I'm working on getting this cleaned up for inclusion into mathlib (it's waiting on some modifications to the Fourier series code, see <a href="https://github.com/leanprover-community/mathlib/pull/17598">#17598</a>). </p>
<p>My longer-term goal is to prove the functional equation for zeta. There are proofs via contour integration, but that seems a bit tricky to formalise (because we don't have things like winding numbers in mathlib yet); so I'm hoping to prove it the way Riemann did, by taking the Mellin transform on both sides of the identity theta(i / (4x) ) = sqrt(x) theta(ix). </p>
<p>To get the modularity law for the theta function there are two steps:</p>
<ul>
<li>(1) prove Poisson summation for smooth rapidly-decaying functions on the real line;</li>
<li>(2) show that exp(-x^2) is its own Fourier transform.<br>
I'm vaguely working towards (1) at the moment. If anyone wants to take on (2) then please be my guest :-)</li>
</ul>
</blockquote>
<p>Actually, I did think a bit about (1) as well, but haven't made any real progress - mainly because it is a bit more of a side goal for <a href="https://github.com/leanprover-community/mathlib/pull/16386">#16386</a> and more importantly I am spending too much time on the mathlib4 port.<br>
I think I was trying to prove some trivial identities for the Fourier transform, which are needed to show that the Fourier transform is a continuous map on Schwartz space, but I haven't finished it yet</p>



<a name="311207361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311207361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311207361">(Nov 21 2022 at 02:48)</a>:</h4>
<p>As for (2) I have put that on hold, because the proof of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mi mathvariant="normal">∣</mi><mi>x</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">e^{-|x|^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9869em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">x</span><span class="mord mtight"><span class="mord mtight">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> being Schwartz is nicer if you have the Hermite polynomials</p>



<a name="311223962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311223962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311223962">(Nov 21 2022 at 06:46)</a>:</h4>
<p>If you just want to get to the theta transformation law, then I think you don't need a full theory of Schwartz functions. I'm no analyst, but it looks to me as if it is probably quite technical to show that "f Schwartz" implies "f-hat Schwartz". However that statement is automatic for the Gaussian because f-hat <em>is</em> f. I had envisaged proving a version of Poisson summation in which rapid decay of both f and f-hat were hypotheses.</p>



<a name="311224813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311224813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311224813">(Nov 21 2022 at 06:55)</a>:</h4>
<p>ah that makes sense. I was going for the full distribution theory version (i.e., using the Dirac comb), as I am mainly interested in developing the Fourier theory and getting nice results about the zeta function would just be a cool bonus.<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>f</mi><mo>^</mo></mover><mo>∈</mo><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\hat{f} \in \mathcal{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1523em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.0833em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> provided that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>∈</mo><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">f \in \mathcal{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> is mathematically trivial since <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>ξ</mi></msub><mover accent="true"><mi>f</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="script">F</mi><mrow><mi>x</mi><mo>→</mo><mi>ξ</mi></mrow></msub><mo stretchy="false">{</mo><mi>x</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">D_\xi \hat{f}(\xi) = \mathcal{F}_{x \to \xi} \{xf(x)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.244em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04601em;">ξ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.0833em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.09931em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0993em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">→</span><span class="mord mathnormal mtight" style="margin-right:0.04601em;">ξ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)}</span></span></span></span> and vice-versa (modulo constants). But since we are not using partial derivatives it is more annoying in mathlib. Then it reduces to commuting derivatives and multiplication by polynomials which is easy for humans, but hell for machines..</p>



<a name="311249051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311249051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311249051">(Nov 21 2022 at 09:59)</a>:</h4>
<p>I'm working in almost same route ...</p>



<a name="311249116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311249116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311249116">(Nov 21 2022 at 09:59)</a>:</h4>
<p>trying proof Poisson summation and Fourier transform for exp(-x^2)</p>



<a name="311249182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311249182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311249182">(Nov 21 2022 at 10:00)</a>:</h4>
<p>-_-</p>



<a name="311276921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311276921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311276921">(Nov 21 2022 at 12:58)</a>:</h4>
<p>Calculating the Fourier transform of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mo stretchy="false">⟨</mo><mi>Q</mi><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">⟩</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">e^{-⟨Q x, x⟩/2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">⟨</span><span class="mord mathnormal mtight">Q</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">⟩</span><span class="mord mtight">/2</span></span></span></span></span></span></span></span></span></span></span></span> for a symmetric positive definite matrix <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> should be rather easy in Lean. The correct formulation would be of course in terms of an continuous linear map on an inner product  space not a matrix. This just needs the diagonalization from <a href="https://leanprover-community.github.io/mathlib_docs/find/analysis.inner_product_space.spectrum">docs#analysis.inner_product_space.spectrum</a> and of course <a href="https://leanprover-community.github.io/mathlib_docs/find/integral_gaussian">docs#integral_gaussian</a></p>



<a name="311444665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311444665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311444665">(Nov 21 2022 at 18:43)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> and I have been making slow but steady progress towards Poisson summation. You don't need step (2) to do zeta the "proper" way (with Mellin transforms of theta functions) - just do it a la Tate with test functions. You'll get Mellin transforms of those test functions instead of Gamma functions, and get meromorphic continuation that way. (Of course if you want to derive particular properties, it'll certainly help to take your test function to be the Gaussian...)</p>



<a name="311444889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311444889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311444889">(Nov 21 2022 at 18:44)</a>:</h4>
<p>PS perhaps our progress is particularly slow because we want to do is as a "baby" trace formula; there are much slicker proofs of Poisson summation. But of course our goal is a "warmup" to Selberg...</p>



<a name="311445076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311445076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311445076">(Nov 21 2022 at 18:45)</a>:</h4>
<p>PPS the mathematics of this is covered in lectures 2 and 3 in my grad course from last spring: <a href="https://sites.math.rutgers.edu/~alexk/2022S572/index.html">https://sites.math.rutgers.edu/~alexk/2022S572/index.html</a></p>



<a name="311445247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311445247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex Kontorovich <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311445247">(Nov 21 2022 at 18:46)</a>:</h4>
<p>PPPS The Selberg trace formula is of course itself a warmup for Jacquet-Langlands, which is a rather important stepping stone on the path to Fermat/Wiles-Taylor...</p>



<a name="311529373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311529373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311529373">(Nov 22 2022 at 06:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz Doll</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/311276921">said</a>:</p>
<blockquote>
<p>Calculating the Fourier transform of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mo stretchy="false">⟨</mo><mi>Q</mi><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">⟩</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">e^{-⟨Q x, x⟩/2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">⟨</span><span class="mord mathnormal mtight">Q</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">⟩</span><span class="mord mtight">/2</span></span></span></span></span></span></span></span></span></span></span></span> for a symmetric positive definite matrix <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> should be rather easy in Lean. The correct formulation would be of course in terms of an continuous linear map on an inner product  space not a matrix. This just needs the diagonalization from <a href="https://leanprover-community.github.io/mathlib_docs/find/analysis.inner_product_space.spectrum">docs#analysis.inner_product_space.spectrum</a> and of course <a href="https://leanprover-community.github.io/mathlib_docs/find/integral_gaussian">docs#integral_gaussian</a></p>
</blockquote>
<p>It seems to me that arguing with diagonalizations and linear maps will help you reduce from general Q to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Q = 1 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> identity matrix; but to prove that, some work needs to happen on the analytic side, to show that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∫</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mo>−</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>t</mi><mi>i</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo><mtext> </mtext><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\int exp(-(x + t i)^2)\, dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">−</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span> is independent of t. Probably this is not so hard though (we don't have integration over general contours, but we do have rectangular ones and that is all that's needed here).</p>



<a name="311532364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311532364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311532364">(Nov 22 2022 at 07:24)</a>:</h4>
<p>I think that works only if all eigenvalues of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> have non-negative real part. You cannot Fourier transform <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><msup><mi>x</mi><mn>2</mn></msup></msup></mrow><annotation encoding="application/x-tex">e^{x^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9869em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="311532519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311532519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311532519">(Nov 22 2022 at 07:25)</a>:</h4>
<p>It is not a tempered distribution, so you would need to come up with some regularization to make sense of the Fourier transform (that might exist, but I am not aware of it).</p>



<a name="311532796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311532796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311532796">(Nov 22 2022 at 07:27)</a>:</h4>
<p>but for instance for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mo stretchy="false">⟨</mo><mi>Q</mi><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">⟩</mo></mrow></msup></mrow><annotation encoding="application/x-tex">e^{i⟨Q x, x⟩}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mopen mtight">⟨</span><span class="mord mathnormal mtight">Q</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">⟩</span></span></span></span></span></span></span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> symmetric and real the contour argument works</p>



<a name="311532966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311532966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311532966">(Nov 22 2022 at 07:29)</a>:</h4>
<p>There is the crucial point however is that we still lack some undergrad analysis both for real and complex variables.</p>



<a name="311533633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/311533633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#311533633">(Nov 22 2022 at 07:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252920">Alex Kontorovich</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/311444889">said</a>:</p>
<blockquote>
<p>PS perhaps our progress is particularly slow because we want to do is as a "baby" trace formula; there are much slicker proofs of Poisson summation. But of course our goal is a "warmup" to Selberg...</p>
</blockquote>
<p>It would be really great to have Selberg's trace formula formalized, but that probably will take a while</p>



<a name="312320120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312320120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312320120">(Nov 26 2022 at 10:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252920">Alex Kontorovich</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/311444889">said</a>:</p>
<blockquote>
<p>PS perhaps our progress is particularly slow because we want to do it as a "baby" trace formula; there are much slicker proofs of Poisson summation. But of course our goal is a "warmup" to Selberg...</p>
</blockquote>
<p>In details, which version of trace formula do you want to implement in Lean?</p>



<a name="312320462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312320462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312320462">(Nov 26 2022 at 10:31)</a>:</h4>
<p>A Selberg trace formula for non-commutative discrete subgroup $\Gamma \subseteq G$, or a simpler version for commutative groups?</p>



<a name="312320685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312320685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312320685">(Nov 26 2022 at 10:33)</a>:</h4>
<p>There are lots of technical details towards a formalized trace formula. For example, when we are considering Poisson summation, we need $f$ to be rapidly decreasing, a condition such as $|f(x)| \le C(1+|x|^{-1-\delta})$. What is the similar condition in general trace formula case?</p>



<a name="312495660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312495660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312495660">(Nov 27 2022 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="481963">@David Loeffler</span> I proved<br>
lemma integral_exp_neg_sq : (∫ (x : ℝ), ℝexp (-x^2) = √π)<br>
now.</p>



<a name="312495704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312495704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312495704">(Nov 27 2022 at 17:09)</a>:</h4>
<p>The code are in github repository <a href="https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean">https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean</a></p>



<a name="312495740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312495740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312495740">(Nov 27 2022 at 17:09)</a>:</h4>
<p>So it's really not far to prove (2).</p>



<a name="312496188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312496188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312496188">(Nov 27 2022 at 17:14)</a>:</h4>
<p>Oh that's already done in mathlib -_-</p>



<a name="312496382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312496382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312496382">(Nov 27 2022 at 17:15)</a>:</h4>
<p>I found it right now.</p>



<a name="312500524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312500524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312500524">(Nov 27 2022 at 17:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="566171">Meow</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312495740">said</a>:</p>
<blockquote>
<p>So it's really not far to prove (2).</p>
</blockquote>
<p>I think this takes some nontrivial work, evaluating $\int e^{itx} e^{-x^2}$ for general $t$ is not a straightforward generalisation of the $t = 0$ case.</p>



<a name="312555550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312555550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312555550">(Nov 28 2022 at 05:01)</a>:</h4>
<p>if we can do linear changes of coordinates, then it should be rather easy.</p>



<a name="312567066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312567066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312567066">(Nov 28 2022 at 07:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="412682">Moritz Doll</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312555550">said</a>:</p>
<blockquote>
<p>if we can do linear changes of coordinates, then it should be rather easy.</p>
</blockquote>
<p>You want to just substitute x + it for x? Not as easy as it sounds. The substitution changes the path of integration in the complex plane, so it isn't just a case of linear variable change but you also need some argument about Cauchy's integral formula.</p>



<a name="312575525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312575525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312575525">(Nov 28 2022 at 08:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312567066">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="412682">Moritz Doll</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312555550">said</a>:</p>
<blockquote>
<p>if we can do linear changes of coordinates, then it should be rather easy.</p>
</blockquote>
<p>You want to just substitute x + it for x? Not as easy as it sounds. The substitution changes the path of integration in the complex plane, so it isn't just a case of linear variable change but you also need some argument about Cauchy's integral formula.</p>
</blockquote>
<p>Yes, I'm doing such computation about Cauchy's integral formula -_-</p>



<a name="312575586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312575586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312575586">(Nov 28 2022 at 08:22)</a>:</h4>
<p>It needs estimation of exp(-z^2) when |Re z| is large</p>



<a name="312630728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312630728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312630728">(Nov 28 2022 at 13:45)</a>:</h4>
<p>Perhaps looking first at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∫</mo><msup><mi>e</mi><mrow><mi>t</mi><mi>x</mi><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">\int e^{tx-x^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.293em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> (which can be obtained by a change of variable) and then using analytic continuation would be quicker?</p>



<a name="312681222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312681222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312681222">(Nov 28 2022 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="481963">@David Loeffler</span> Now I finished proving it.<br>
lemma fourier_exp_negsq (n : ℂ) : ∫ (x : ℝ), exp (I<em>n</em>x) * exp (-x^2) = exp (-n^2/4) * √π</p>



<a name="312681254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312681254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312681254">(Nov 28 2022 at 17:33)</a>:</h4>
<p><a href="https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean">https://github.com/mmew-2022/Riemann_zeta/blob/main/theta_function.lean</a></p>



<a name="312682354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312682354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312682354">(Nov 28 2022 at 17:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="242586">Vincent Beffara</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312630728">said</a>:</p>
<blockquote>
<p>Perhaps looking first at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∫</mo><msup><mi>e</mi><mrow><mi>t</mi><mi>x</mi><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">\int e^{tx-x^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.293em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> (which can be obtained by a change of variable) and then using analytic continuation would be quicker?</p>
</blockquote>
<p>Yes, that's a good method. But I've finished it before I seen the message <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="312682864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312682864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312682864">(Nov 28 2022 at 17:41)</a>:</h4>
<p>How can you proof <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∫</mo><msup><mi>e</mi><mrow><mi>t</mi><mi>x</mi><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">\int e^{tx-x^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.293em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> is analytic in variable t? It may be non-trivial in Lean.</p>



<a name="312690343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312690343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312690343">(Nov 28 2022 at 18:12)</a>:</h4>
<p>We need a lemma that asserts <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∫</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\int_{x \in X} f(t, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1882em;vertical-align:-0.3832em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1225em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3832em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> is analytical in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(t, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> is a multi-variable analytic function, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> is a set with some good properties.</p>



<a name="312718901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312718901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312718901">(Nov 28 2022 at 20:52)</a>:</h4>
<p>There is <a href="https://leanprover-community.github.io/mathlib_docs/find/has_deriv_at_integral_of_dominated_loc_of_lip">docs#has_deriv_at_integral_of_dominated_loc_of_lip</a> which gives you complex differentiable, and then <a href="https://leanprover-community.github.io/mathlib_docs/find/differentiable_on.analytic_on">docs#differentiable_on.analytic_on</a> gives you analytic, and then <a href="https://leanprover-community.github.io/mathlib_docs/find/analytic_on.eq_on_of_preconnected_of_frequently_eq">docs#analytic_on.eq_on_of_preconnected_of_frequently_eq</a> extends the formula from the reals to the complex plane.</p>



<a name="312719120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312719120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Vincent Beffara <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312719120">(Nov 28 2022 at 20:54)</a>:</h4>
<p>Although, one important thing that is missing is contour integrals - but that will take a while ...</p>



<a name="312761829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312761829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312761829">(Nov 29 2022 at 03:45)</a>:</h4>
<p><span class="user-mention" data-user-id="242586">@Vincent Beffara</span>  Thanks!</p>



<a name="312785308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312785308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312785308">(Nov 29 2022 at 07:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="566171">Meow</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312681222">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> Now I finished proving it.<br>
lemma fourier_exp_negsq (n : ℂ) : ∫ (x : ℝ), exp (I<em>n</em>x) * exp (-x^2) = exp (-n^2/4) * √π</p>
</blockquote>
<p>Can you make a mathlib pull request for this? It would be good to have it in the library soon (maybe you could add it into <code>analysis.special_functions.gaussian</code>) rather than waiting for the conclusion of your whole theta-functions project.</p>



<a name="312809130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/312809130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#312809130">(Nov 29 2022 at 10:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312785308">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="566171">Meow</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/312681222">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> Now I finished proving it.<br>
lemma fourier_exp_negsq (n : ℂ) : ∫ (x : ℝ), exp (I<em>n</em>x) * exp (-x^2) = exp (-n^2/4) * √π</p>
</blockquote>
<p>Can you make a mathlib pull request for this? It would be good to have it in the library soon (maybe you could add it into <code>analysis.special_functions.gaussian</code>) rather than waiting for the conclusion of your whole theta-functions project.</p>
</blockquote>
<p>Yes. It's my first time for making a pull request.</p>



<a name="313964357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/313964357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#313964357">(Dec 05 2022 at 13:35)</a>:</h4>
<p><span class="user-mention" data-user-id="566171">@Meow</span> Did you make a pull request for your Gaussian Fourier transform code?</p>



<a name="314513802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/314513802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#314513802">(Dec 07 2022 at 17:21)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17845">https://github.com/leanprover-community/mathlib/pull/17845</a></p>



<a name="320707414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320707414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320707414">(Jan 11 2023 at 13:52)</a>:</h4>
<p><span class="user-mention" data-user-id="481963">@David Loeffler</span> What is the counterexample for <code>integral_prod_mul</code>can't be generalized to arbitrary Banach algebra?</p>



<a name="320708370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320708370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320708370">(Jan 11 2023 at 13:56)</a>:</h4>
<p>Also, is there some relation between an integral and a summation in Lean? For example, in Lean we have Stieltjes measures, and the Stieltjes measure of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> when <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(x)=[x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span> is just the number of integral points of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>. Then, summation can be viewed as a special type of integral, and swapping two $\sum$ symbols should be an application of Fubini's theorem.</p>



<a name="320718734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320718734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320718734">(Jan 11 2023 at 14:40)</a>:</h4>
<blockquote>
<p>What is the counterexample for <code>integral_prod_mul</code> can't be generalized to arbitrary Banach algebra?</p>
</blockquote>
<p>The point is that the underlying lemma <code>integral_mul_left</code> is carefully formulated so it's valid <em>without assuming the function is integrable</em>, with mathlib's convention that the integral of a non-integrable function is 0. If <code>c = 0</code> then the assertion is just <code>0 = 0</code>; and if <code>c ≠ 0</code>, then <code>c * f</code> is integrable iff <code>f</code> is, and <code>c * 0 = 0</code>, so we are safe. However, this breaks down in a more general ring: if <code>c</code> is neither zero nor a unit, it can occur that <code>f</code> is non-integrable, but <code>c * f</code> is integrable and has non-zero integral, in which case we're stuck. If you assume <code>f</code> is integrable then there is no problem, but adding this extra assumption would be annoying and would require adjusting every single place in the library where this lemma is used.</p>



<a name="320719155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320719155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320719155">(Jan 11 2023 at 14:41)</a>:</h4>
<p>Why can't we have both lemmas? Seems like neither subsumes the other.</p>



<a name="320719742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320719742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320719742">(Jan 11 2023 at 14:44)</a>:</h4>
<p>Sure, it would be worthwhile to have <code>integral_mul_left_of_integrable</code> (or <code>integral_mul_left_of_unit</code>, or both) with coefficients in an arbitrary Banach algebra, but I wanted to make the least invasive change to the library consistent with getting <a href="https://github.com/leanprover-community/mathlib/pull/18090">#18090</a> working.</p>



<a name="320722489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320722489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Loeffler <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320722489">(Jan 11 2023 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="566171">@Meow</span> Regarding the rest of your message, I have no idea -- I suggest you might want to re-ask the question in a new zulip thread, since  you want some input from measure theory / analysis people rather than number theorists.</p>



<a name="320722948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320722948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320722948">(Jan 11 2023 at 14:59)</a>:</h4>
<p>Yes, for example in ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi><mo>×</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb R \times \mathbb R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7722em;vertical-align:-0.0833em;"></span><span class="mord mathbb">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span>, consider <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi mathvariant="double-struck">R</mi><mo>↦</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x : \mathbb R \mapsto (f(x),g(x))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6999em;vertical-align:-0.011em;"></span><span class="mord mathbb">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> has non-zero integration and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> is non-integrable, and multiplier <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c=(1,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>.</p>



<a name="320723372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320723372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320723372">(Jan 11 2023 at 15:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/320718734">said</a>:</p>
<blockquote>
<blockquote>
<p>What is the counterexample for <code>integral_prod_mul</code> can't be generalized to arbitrary Banach algebra?</p>
</blockquote>
<p>The point is that the underlying lemma <code>integral_mul_left</code> is carefully formulated so it's valid <em>without assuming the function is integrable</em>, with mathlib's convention that the integral of a non-integrable function is 0. If <code>c = 0</code> then the assertion is just <code>0 = 0</code>; and if <code>c ≠ 0</code>, then <code>c * f</code> is integrable iff <code>f</code> is, and <code>c * 0 = 0</code>, so we are safe. However, this breaks down in a more general ring: if <code>c</code> is neither zero nor a unit, it can occur that <code>f</code> is non-integrable, but <code>c * f</code> is integrable and has non-zero integral, in which case we're stuck. If you assume <code>f</code> is integrable then there is no problem, but adding this extra assumption would be annoying and would require adjusting every single place in the library where this lemma is used.</p>
</blockquote>
<p>so that is not true for such tricky reason.</p>



<a name="320725073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analytical%20number%20theory/near/320725073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Meow <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analytical.20number.20theory.html#320725073">(Jan 11 2023 at 15:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="481963">David Loeffler</span> <a href="#narrow/stream/116395-maths/topic/analytical.20number.20theory/near/320722489">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="566171">Meow</span> Regarding the rest of your message, I have no idea -- I suggest you might want to re-ask the question in a new zulip thread, since  you want some input from measure theory / analysis people rather than number theorists.</p>
</blockquote>
<p>Analytical number theory relies a lot on some basic methods such as Abel's summation and Euler-Maclaurin summation, so I have to decide whether to work on a more general framework of Stieltjes measure, or only the special case of Abel's summation over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">R</span></span></span></span>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>