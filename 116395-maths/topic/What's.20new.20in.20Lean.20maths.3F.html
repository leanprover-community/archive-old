---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html">What's new in Lean maths?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="133605485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133605485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133605485">(Sep 09 2018 at 11:31)</a>:</h4>
<p>This thread is for people to occasionally announce or flag code which they or others have written, which is publically available, finished / usable, and which might be of general use or interest to the lean community. I'm starting it because I find looking through mathlib commits confusing and time-consuming, and because there are things which are happening other than mathlib commits.</p>



<a name="133605676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133605676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133605676">(Sep 09 2018 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> has proved quadratic reciprocity! This is a bit of a milestone because all proofs have some sort of a combinatorial / counting nature to them, and manipulating finite sets, whilst second nature to mathematicians, can be quite tough in Lean. The PR is still open; it's <a href="https://github.com/leanprover/mathlib/pull/327" target="_blank" title="https://github.com/leanprover/mathlib/pull/327">https://github.com/leanprover/mathlib/pull/327</a> . There's a bunch of other stuff too -- Fermat's Little Theorem, Wilson's Theorem, the Legendre symbol of course, multiplicative group of a finite field is cyclic and so on. This PR covers a serious chunk of the third year basic number theory course at Imperial College London.</p>



<a name="133605778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133605778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133605778">(Sep 09 2018 at 11:43)</a>:</h4>
<p>On a rather more mundane note, work of several people at <a href="https://github.com/leanprover/mathlib/commit/4421f46dc2e0ec818344bcd897c1ee75ff82cbad" target="_blank" title="https://github.com/leanprover/mathlib/commit/4421f46dc2e0ec818344bcd897c1ee75ff82cbad">https://github.com/leanprover/mathlib/commit/4421f46dc2e0ec818344bcd897c1ee75ff82cbad</a> and <a href="https://github.com/leanprover/mathlib/commit/085c0125015c29058ce5a418e88a791cb232ee4b" target="_blank" title="https://github.com/leanprover/mathlib/commit/085c0125015c29058ce5a418e88a791cb232ee4b">https://github.com/leanprover/mathlib/commit/085c0125015c29058ce5a418e88a791cb232ee4b</a> has given us the fact that submodules of the quotient module <code>M/N</code>biject with submodules of <code>M</code> containing <code>N</code> and we now also have basic definitions of Noetherian modules plus proofs that submodules and quotient modules of Noetherian modules are Noetherian.</p>



<a name="133606251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133606251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133606251">(Sep 09 2018 at 11:56)</a>:</h4>
<ul>
<li><code>rcases</code> (and hence <code>rintros</code>) supports now also quotient types. This allows one to write <code>by rintro ⟨a⟩ ⟨b⟩; exact ...</code> instead of a sequence of <code>quotient.induction_on</code></li>
<li>(small change) more uniform naming <code>filter.vmap</code> is now <code>filter.comap</code></li>
<li>we have our first concrete categories in Lean: <code>CommRing</code>, <code>Top</code>, and <code>Meas</code>! Due to <span class="user-mention" data-user-id="110524">@Scott Morrison</span> and <span class="user-mention" data-user-id="110032">@Reid Barton</span></li>
</ul>



<a name="133620485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133620485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133620485">(Sep 09 2018 at 18:34)</a>:</h4>
<p>I think this thread is a very good idea. But we shouldn't forget to update documentation as well. Do we have an example of <code>rcases</code> using quotients in the tactic doc? I guess the quadratic reciprocity stuff should be mentioned in the theories folder of documentation</p>



<a name="133620495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133620495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133620495">(Sep 09 2018 at 18:35)</a>:</h4>
<p>It seems <a href="https://github.com/leanprover/mathlib/blob/master/docs/tactics.md" target="_blank" title="https://github.com/leanprover/mathlib/blob/master/docs/tactics.md">https://github.com/leanprover/mathlib/blob/master/docs/tactics.md</a> mentions quotients but there are not so many examples there</p>



<a name="133625180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133625180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133625180">(Sep 09 2018 at 21:17)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm">- `filter [t1, ⋯, tn]` replaces a goal of the form `s ∈ f.sets`</span>
<span class="cm">and terms `h1 : t1 ∈ f.sets, ⋯, tn ∈ f.sets` with `∀x, x ∈ t1 → ⋯ → x ∈ tn → x ∈ s`.</span>

<span class="cm">`filter [t1, ⋯, tn] e` is a short form for `{ filter [t1, ⋯, tn], exact e }`.</span>
<span class="cm">-/</span>
<span class="n">meta</span> <span class="n">def</span> <span class="n">filter_upwards</span>
  <span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">parse</span> <span class="n">types</span><span class="bp">.</span><span class="n">pexpr_list</span><span class="o">)</span>
  <span class="o">(</span><span class="n">e&#39;</span> <span class="o">:</span> <span class="n">parse</span> <span class="err">$</span> <span class="n">optional</span> <span class="n">types</span><span class="bp">.</span><span class="n">texpr</span><span class="o">)</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span>
</pre></div>


<p>Since when did we have the <code>near</code> tactic?</p>



<a name="133625225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133625225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133625225">(Sep 09 2018 at 21:18)</a>:</h4>
<p>I was about to try to find this</p>



<a name="133625233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133625233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133625233">(Sep 09 2018 at 21:18)</a>:</h4>
<p>But I was never able to use it :(</p>



<a name="133625255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133625255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133625255">(Sep 09 2018 at 21:19)</a>:</h4>
<p>I recall Cyril showing a very nice version of this tactic in Coq</p>



<a name="133632944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133632944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133632944">(Sep 10 2018 at 01:54)</a>:</h4>
<p>I added this 6 month ago. It's just a cheap version of Cyril's near tactic. Its more a reimplementation of Isabelle's <code>eventually</code> tactic</p>



<a name="133643643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133643643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133643643">(Sep 10 2018 at 07:36)</a>:</h4>
<p>Cross reference: <a href="#narrow/stream/113488-general/subject/abel.20tactic/near/133643278" title="#narrow/stream/113488-general/subject/abel.20tactic/near/133643278">abel tactic</a></p>



<a name="133648808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/133648808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#133648808">(Sep 10 2018 at 09:25)</a>:</h4>
<p>Oh this is great news. Summary: the situation before this tactic was that we could prove things like <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>x</mi><mo>+</mo><mi>y</mi><msup><mo>)</mo><mn>2</mn></msup><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>x</mi><mi>y</mi><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">(x+y)^2=x^2+2xy+y^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathit">x</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span><span class="mbin">+</span><span class="mord mathrm">2</span><span class="mord mathit">x</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span></span></span></span></span></span></span></span> if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span> were elements of a commutative ring (or even a commutative semiring) using the <code>ring</code> tactic, but for analogous questions about abelian groups the <code>ring</code> tactic did not work, and until now, if <code>simp</code> did not solve the goal, then one had to get one's hands dirty.</p>



<a name="134103969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/134103969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#134103969">(Sep 17 2018 at 14:27)</a>:</h4>
<p>We have <code>linarith</code>, a new tactic that <span class="user-mention" data-user-id="110596">@Rob Lewis</span> has written, which should definitely be mentioned here. It proves a bunch of things which hitherto were quite annoying / fiddly to prove. See it in action here: <a href="#narrow/stream/113489-new-members/subject/Feedback.20(Heine.20Borel.20in.20progress)/near/134050573" title="#narrow/stream/113489-new-members/subject/Feedback.20(Heine.20Borel.20in.20progress)/near/134050573">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/subject/Feedback.20(Heine.20Borel.20in.20progress)/near/134050573</a> (e.g. proving that if <code>0 &lt;= x</code> then <code>x/2 &lt;= x</code>).</p>



<a name="134356908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/134356908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#134356908">(Sep 21 2018 at 05:10)</a>:</h4>
<p>Today Kevin Buzzard is turning 50 <span class="emoji emoji-1f382" title="birthday">:birthday:</span>. <a href="#narrow/stream/113488-general/subject/Happy.20birthday.2C.20Kevin!" title="#narrow/stream/113488-general/subject/Happy.20birthday.2C.20Kevin!">Congratulate him here</a>!<br>
With a group of people we have been hacking like crazy to give him some birthday presents:</p>
<ul>
<li><span class="user-mention" data-user-id="110044">@Chris Hughes</span> Made immense (really immense!) progress on his <code>exp</code> branch in the community fork. We now have <code>exp</code>, <code>cos</code>, <code>sin</code> (all both complex and real), basic identities like <code>sin_add</code>, a proof that these functions are continuous, the intermediate value theorem, and finally <code>pi</code>. Yeah! <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span> <span class="emoji emoji-1f942" title="clink">:clink:</span> </li>
<li>Other people have worked hard in a secret repository that is now public: <a href="https://github.com/semorrison/kbb" target="_blank" title="https://github.com/semorrison/kbb">https://github.com/semorrison/kbb</a> (I sincerely apologize if you would have liked to participate but didn't know about this. I tried to contact as many people as I thought would be interested out of band, but of course I couldn't start a thread about this in the <code>#general</code> stream.)</li>
<li>This repository contains a definition of <code>det</code> (determinant of matrices) and a proof that it is a monoid morphism. Thanks <span class="user-mention" data-user-id="110064">@Kenny Lau</span> </li>
<li><span class="user-mention" data-user-id="120536">@Jack Crawford</span> has a bunch of stuff on a different implementation of matrices. Well done! (There seems to be a trade-off, the current implementation of matrices is nice to prove things with, his could well be better for computations.)</li>
<li>A way to extract a matrix from a linear map between finite-dimensional vector spaces with bases.</li>
<li>Characteristic polynomials of square matrices. (But no properties at all.)</li>
<li>A proof that PID's are UFD's. Thanks <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> (This result might be helpful for constructing splitting fields, because you want to know that an arbitrary (nonzero) polynomial factors into a product of irreducibles.)</li>
<li>A (admittedly ad-hoc) definition of the modular group, plus a boatload of facts about it (e.g., we have a finite set of representatives of the action of <code>SL2Z</code> on matrices (over <code>int</code>) with determinant <code>m &gt; 0</code>).</li>
<li>A definition of complex derivatives, holomorphic function, modular forms.</li>
<li>A proof that holomorphic functions form a subring of the ring of functions (on an arbitrary open domain in the complex numbers).</li>
<li>A proof that modular forms form a submodule of functions on the upper half plane.</li>
<li>An almost definition of Hecke operators. (Sorry Kevin, Lean was fighting back hard.)<br>
Congratulations (and disucssions of about the maths!) can go <a href="#narrow/stream/113488-general/subject/Happy.20birthday.2C.20Kevin!" title="#narrow/stream/113488-general/subject/Happy.20birthday.2C.20Kevin!">here</a></li>
</ul>



<a name="135037903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135037903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135037903">(Oct 02 2018 at 14:03)</a>:</h4>
<p>It's time for an update in this thread. And someone should also start the corresponding thread in <code>#general</code>.</p>



<a name="135037915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135037915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135037915">(Oct 02 2018 at 14:03)</a>:</h4>
<p>We now have Hensel's Lemma, thanks to <span class="user-mention" data-user-id="110596">@Rob Lewis</span></p>



<a name="135038009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135038009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135038009">(Oct 02 2018 at 14:04)</a>:</h4>
<p>We also have <code>holor</code>. A <code>holor</code> is a generalisation of vectors and matrices. It is what the physicists would call a "tensor".</p>



<a name="135038047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135038047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135038047">(Oct 02 2018 at 14:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> Did a bunch of topology. Stuff on locally compact spaced. He also contributed groupoids.</p>



<a name="135038119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135038119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135038119">(Oct 02 2018 at 14:06)</a>:</h4>
<p>Quadratic reciprocity has been merged. Once again: thanks <span class="user-mention" data-user-id="110044">@Chris Hughes</span></p>



<a name="135038132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135038132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135038132">(Oct 02 2018 at 14:06)</a>:</h4>
<p>For the sake of completeness, the <code>holor</code> library is from <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span> based on his work in Isabelle: <a href="https://link.springer.com/chapter/10.1007/978-3-319-66107-0_4" target="_blank" title="https://link.springer.com/chapter/10.1007/978-3-319-66107-0_4">https://link.springer.com/chapter/10.1007/978-3-319-66107-0_4</a></p>



<a name="135039245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135039245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135039245">(Oct 02 2018 at 14:24)</a>:</h4>
<p>I don't see holors, locally compact spaces and quadratic reciprocity in <a href="https://github.com/leanprover/mathlib/tree/master/docs/theories" target="_blank" title="https://github.com/leanprover/mathlib/tree/master/docs/theories">https://github.com/leanprover/mathlib/tree/master/docs/theories</a> <span class="emoji emoji-2639" title="sad">:sad:</span></p>



<a name="135415885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135415885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135415885">(Oct 08 2018 at 16:56)</a>:</h4>
<p>Thanks to Chris and Kenny, and inspired by work of my UROP students over the summer (especially <span class="user-mention" data-user-id="120276">@Morenikeji Neri</span> ) we now have determinants! <a href="https://github.com/leanprover/mathlib/issues/404" target="_blank" title="https://github.com/leanprover/mathlib/issues/404">#404</a></p>



<a name="135415959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135415959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135415959">(Oct 08 2018 at 16:58)</a>:</h4>
<p>next stop characteristic polynomials?</p>



<a name="135415986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135415986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135415986">(Oct 08 2018 at 16:59)</a>:</h4>
<p>Done in <code>kbb</code></p>



<a name="135416119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135416119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135416119">(Oct 08 2018 at 17:01)</a>:</h4>
<p>My birthday present just keeps on giving</p>



<a name="135416125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135416125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135416125">(Oct 08 2018 at 17:01)</a>:</h4>
<p>You only turn 50 once...</p>



<a name="135843390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135843390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135843390">(Oct 15 2018 at 16:45)</a>:</h4>
<p>Thanks to the hard work Johannes we now have a nice start on Lebesgue integration: <a href="https://github.com/leanprover/mathlib/commit/0fe284916a73ce92227f77826ad9655b1329eb83" target="_blank" title="https://github.com/leanprover/mathlib/commit/0fe284916a73ce92227f77826ad9655b1329eb83">https://github.com/leanprover/mathlib/commit/0fe284916a73ce92227f77826ad9655b1329eb83</a></p>



<a name="135843426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135843426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135843426">(Oct 15 2018 at 16:45)</a>:</h4>
<p>Patrick and Johannes have worked very hard on quotient topologies on algebraic structures: <a href="https://github.com/leanprover/mathlib/commit/2395183b5b424371d5170f6c7bca691a654ae5bb" target="_blank" title="https://github.com/leanprover/mathlib/commit/2395183b5b424371d5170f6c7bca691a654ae5bb">https://github.com/leanprover/mathlib/commit/2395183b5b424371d5170f6c7bca691a654ae5bb</a></p>



<a name="135843497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135843497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135843497">(Oct 15 2018 at 16:46)</a>:</h4>
<p>Chris proved that subgroups of cyclic groups are cyclic: <a href="https://github.com/leanprover/mathlib/commit/c5930f574c54e3fd157b1ef8b93da8b1f50c8ed4" target="_blank" title="https://github.com/leanprover/mathlib/commit/c5930f574c54e3fd157b1ef8b93da8b1f50c8ed4">https://github.com/leanprover/mathlib/commit/c5930f574c54e3fd157b1ef8b93da8b1f50c8ed4</a></p>



<a name="135846567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135846567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135846567">(Oct 15 2018 at 17:43)</a>:</h4>
<p>Uniform spaces have Hausdorff completions <a href="https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/completion.lean#L535" target="_blank" title="https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/completion.lean#L535">https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/completion.lean#L535</a>. More precisely, there is a completion functor which is left-adjoint to the inclusion of complete Hausdorff spaces into all uniform spaces.</p>



<a name="135846763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135846763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135846763">(Oct 15 2018 at 17:46)</a>:</h4>
<p>Abelian topological groups have a uniform space structure <a href="https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/topological_groups.lean#L27" target="_blank" title="https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/topological_groups.lean#L27">https://github.com/leanprover/mathlib/blob/80d688e3ae2a721ab61f4cd000ea3e336158b04f/analysis/topology/topological_groups.lean#L27</a> characterized by uniform continuity of substraction. The completion of such a topological group is a topological group with its canonical uniform structure (in particular the later is complete). Separated topological ring also have completions with the expected properties</p>



<a name="135954996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135954996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135954996">(Oct 17 2018 at 07:25)</a>:</h4>
<p>I merged <a href="https://github.com/leanprover/mathlib/issues/386" target="_blank" title="https://github.com/leanprover/mathlib/issues/386">#386</a> Chris' PR about trigonometric functions. So we have pi, exp, etc now</p>



<a name="135955257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135955257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135955257">(Oct 17 2018 at 07:32)</a>:</h4>
<p>looks like I messed up something. Could someone help reset <code>leanprover-community/mathlib</code>?</p>



<a name="135955276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135955276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135955276">(Oct 17 2018 at 07:33)</a>:</h4>
<p>fixed</p>



<a name="135955325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/135955325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#135955325">(Oct 17 2018 at 07:35)</a>:</h4>
<p>thanks</p>



<a name="136026140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/136026140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#136026140">(Oct 18 2018 at 07:44)</a>:</h4>
<p>each PID is a UFD is now in mathlib</p>



<a name="146817351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817351">(Nov 05 2018 at 19:24)</a>:</h4>
<p>Ok, who is up for a summary of today?</p>



<a name="146817362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817362">(Nov 05 2018 at 19:24)</a>:</h4>
<p>First of all: the module refactor landed!</p>



<a name="146817368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817368">(Nov 05 2018 at 19:24)</a>:</h4>
<p>Second: Perfect closure has been merged.</p>



<a name="146817388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817388">(Nov 05 2018 at 19:25)</a>:</h4>
<p>This is a green light for algebraic closure and Galois theory</p>



<a name="146817519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817519">(Nov 05 2018 at 19:26)</a>:</h4>
<p>We now have all facts about <code>irrational</code> numbers that you would ever want to know.</p>



<a name="146817550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817550">(Nov 05 2018 at 19:27)</a>:</h4>
<p>(Ok, ok, we don't yet have irrationality op <code>pi</code>.)</p>



<a name="146817557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/146817557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#146817557">(Nov 05 2018 at 19:27)</a>:</h4>
<p>We have Stone-Cech compactification.</p>



<a name="147997742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/147997742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#147997742">(Nov 19 2018 at 21:42)</a>:</h4>
<p>Simon's monotonicity tactic has been merged in mathlib.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">monotonicity</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">k</span> <span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₀</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">≤</span> <span class="mi">0</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">x</span><span class="o">)</span>
<span class="o">:</span> <span class="o">(</span><span class="n">m</span> <span class="bp">+</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">+</span> <span class="n">k</span> <span class="bp">≤</span> <span class="n">z</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">m</span><span class="o">)</span> <span class="bp">+</span> <span class="n">k</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">ac_mono</span><span class="bp">*</span>
</pre></div>



<a name="147998023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/147998023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#147998023">(Nov 19 2018 at 21:47)</a>:</h4>
<p>We can combine with norm_num too:</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">linear_ordered_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">k</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">≤</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">+</span> <span class="n">x</span><span class="o">)</span> <span class="bp">-</span> <span class="n">y</span> <span class="bp">≤</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">+</span> <span class="n">x</span><span class="o">)</span> <span class="bp">-</span> <span class="n">z</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">mono</span><span class="bp">*</span> <span class="bp">;</span> <span class="n">norm_num</span>
</pre></div>



<a name="148016023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/148016023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#148016023">(Nov 20 2018 at 04:27)</a>:</h4>
<p>Great news! Thanks <span class="user-mention" data-user-id="110026">@Simon Hudon</span>! This is going to be very helpful. I really want to go back to the simplicial project now. Monotone functions are all over the place there.</p>



<a name="148016136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/148016136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#148016136">(Nov 20 2018 at 04:30)</a>:</h4>
<p>Please keep me posted of ups and downs of using the tactic :)</p>



<a name="150739441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/150739441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#150739441">(Dec 02 2018 at 22:40)</a>:</h4>
<p>(co)limits, and (co)limits in the category of Types!</p>



<a name="150739443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/150739443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#150739443">(Dec 02 2018 at 22:40)</a>:</h4>
<p>There's still more to come (support for all the special shapes, products, equalizers, etc).</p>



<a name="150739492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/150739492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#150739492">(Dec 02 2018 at 22:42)</a>:</h4>
<p>Also recently: equivalences of categories, along with a new tactic <code>slice</code>, for <code>conv</code>ing your way into long compositions, without having to use <code>rw category.assoc</code> by hand.</p>



<a name="154468807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/154468807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#154468807">(Jan 05 2019 at 10:46)</a>:</h4>
<p>Sébastien's bounded continuous function has been merged <span class="emoji emoji-1f389" title="tada">:tada:</span> Thank you so much Sébastien and Mario! This was a large PR, adding more than 600 lines to mathlib, even after getting Mario-compressed. </p>
<blockquote>
<p>The type of bounded continuous functions from a topological space to a metric space, with the corresponding uniform distance. We prove basic statements such as the completeness of the space when the target is complete, and the Arzela-Ascoli theorem saying that a set of functions with a common modulus of continuity is compact. When the target space is a normed space, we also put the canonical normed space structure on the space of bounded continuous functions, working pointwise and checking that everything is compatible with the distance.</p>
</blockquote>



<a name="154469138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/154469138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#154469138">(Jan 05 2019 at 10:59)</a>:</h4>
<p>Thanks a lot Mario, this is awesome!</p>



<a name="156374379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156374379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156374379">(Jan 18 2019 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> could you tell us something about this Giry monad?</p>



<a name="156375691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156375691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156375691">(Jan 18 2019 at 15:24)</a>:</h4>
<p>Yep, with the newest commits the Giry monad is in mathlib In category speak, its the monad for the <code>measure</code> functor in the category of <code>measurable</code> spaces and functions. With this we get a straight forward way to construct product: <code>prod M1 M2 := do { x &lt;- M1, y &lt;- M2, return (x, y) }</code> <br>
Also I added measurable equivalences, which are helpful to adopt measurability proofs to different (but isomorphic) spaces</p>



<a name="156375770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156375770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156375770">(Jan 18 2019 at 15:25)</a>:</h4>
<p>the Giry monad will be also important to write down probabilistic programs or constructions. Especially in the theorem of Ionescu-Tulcea it provides a construction mechanism for discrete-time stochastic processes out of Markov kernels</p>



<a name="156396464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156396464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156396464">(Jan 18 2019 at 20:17)</a>:</h4>
<p>Can you use it in the category <code>types</code>?</p>



<a name="156408538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156408538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156408538">(Jan 18 2019 at 23:34)</a>:</h4>
<p><span class="user-mention" data-user-id="120726">@Luca Gerolla</span> do you understand a word of this? Luca formalised some stochastic stuff in Lean</p>



<a name="156432294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156432294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Gerolla <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156432294">(Jan 19 2019 at 10:42)</a>:</h4>
<p>I can understand the probability notions (after googling) - in class we just focused on Kolmogorov extension theorem since we only studied discrete time-homogeneous Markov processes. <br>
Fascinating to see this general approach to formalise discrete-time stochastic processes :-)</p>



<a name="156443607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156443607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156443607">(Jan 19 2019 at 16:48)</a>:</h4>
<p>the next step is to work on projective families, then Ionescu-Tulcea isn't far.</p>



<a name="156443615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156443615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156443615">(Jan 19 2019 at 16:49)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> no, we need the category of measurable spaces</p>



<a name="156446651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156446651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156446651">(Jan 19 2019 at 18:25)</a>:</h4>
<p>Doesn't that limit the applicability to writing programs?</p>



<a name="156458525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156458525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156458525">(Jan 20 2019 at 00:38)</a>:</h4>
<p>Yes, the need to have a probability measure limits the program. Measurability is a very wide and adaptible concept. If you really want your program to be outside of measurability the Giry monad can't help you</p>



<a name="156489827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156489827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156489827">(Jan 20 2019 at 17:22)</a>:</h4>
<p>I was wondering if you could embed it in type with a trick like:</p>
<div class="codehilite"><pre><span></span><span class="kn">structure</span> <span class="n">M</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">s</span> <span class="o">:</span> <span class="n">measurable_space</span><span class="o">)</span>
<span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Giry</span> <span class="n">s</span><span class="o">)</span>
<span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">s</span> <span class="bp">-&gt;</span> <span class="n">a</span><span class="o">)</span>
</pre></div>



<a name="156490029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156490029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156490029">(Jan 20 2019 at 17:27)</a>:</h4>
<p>That allows you to implement <code>pure</code>, <code>map</code> and (i believe) <code>bind</code></p>



<a name="156491890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156491890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156491890">(Jan 20 2019 at 18:19)</a>:</h4>
<p>A scheme is a topological space equipped with some structure and satisfying some axioms. It makes sense to talk about morphisms of schemes (which are continuous maps on the topological spaces plus some other data involving the extra structure plus some axioms), and schemes form a category.</p>
<p>The category of schemes has finite products. In short, if <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.05764em;">S</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span> are schemes, then there's a product scheme <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo>×</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">S\times T</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mbin">×</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span>, defined up to unique isomorphism, and satisfying the usual universal property. However the underlying topological space of a product of schemes is <em>not</em> the product of the underlying topological spaces (and the underlying type of a product is not the product of the underlying types).</p>
<p>I have no idea what monads have got to do with measure theory, but it occurred to me last week when talking to Ramon that with our <code>scheme X</code> idea (this is "unbundled", right?) where <code>X</code> is the underlying type, one can't use instances like <code>scheme X -&gt; scheme Y -&gt; scheme X \times Y</code> because that's the wrong product. Can I use monads in some crazy way to help here? <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span>  seems to think that monads can help with products in this measurable situation...</p>
<p>What do products look like when everything gets bundled? Oh -- it's just a map <code>scheme \times scheme -&gt; scheme</code>, right?</p>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Why are you having trouble extending a sheaf on a basis to a sheaf on the space, when I managed to do it without using categories? Is this anything to do with bundling or is this just universe issues?</p>



<a name="156502444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156502444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156502444">(Jan 20 2019 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> What is <code>Giry s</code> in your case? Is <code>x</code> a measure on <code>s</code>? And what is the measurable space on<code>a</code>?</p>



<a name="156502565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156502565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156502565">(Jan 20 2019 at 23:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I want to construct the usual product of the shape <code>measure A -&gt; measure B -&gt; measure (A x B)</code>. This would be the expected product from measure theory (assuming sigma finite measures). Here the Giry monad allows a factored proof.<br>
I don't see how monads will help with your problem...</p>



<a name="156542773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156542773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156542773">(Jan 21 2019 at 15:19)</a>:</h4>
<p>(deleted)</p>



<a name="156618466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156618466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156618466">(Jan 22 2019 at 16:37)</a>:</h4>
<p>Johannes and Sander defined the <a href="https://github.com/leanprover/mathlib/commit/edfa2061547510a41db4d0d471130badcb92ef20" target="_blank" title="https://github.com/leanprover/mathlib/commit/edfa2061547510a41db4d0d471130badcb92ef20">rank of a linear map</a>!</p>



<a name="156682401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156682401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156682401">(Jan 23 2019 at 11:43)</a>:</h4>
<p>PR <a href="https://github.com/leanprover/mathlib/issues/553" target="_blank" title="https://github.com/leanprover/mathlib/issues/553">#553</a> was merged, we have now Lipschitz continuous functions, the Banach fixed-point theorem</p>



<a name="156682413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156682413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156682413">(Jan 23 2019 at 11:43)</a>:</h4>
<p>We also have the point wise order on products as the canonical order structure</p>



<a name="156688372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156688372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156688372">(Jan 23 2019 at 13:25)</a>:</h4>
<p>seqeuence spaces (PR <a href="https://github.com/leanprover/mathlib/issues/440" target="_blank" title="https://github.com/leanprover/mathlib/issues/440">#440</a>) is merged</p>



<a name="156778780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/156778780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#156778780">(Jan 24 2019 at 15:07)</a>:</h4>
<p>Measures form a complete lattice now</p>



<a name="157051157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157051157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157051157">(Jan 28 2019 at 19:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> 's module refactoring is in mathlib now. A type can now have multiple modules over different base rings.</p>



<a name="157100526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157100526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157100526">(Jan 29 2019 at 12:21)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> splitting polynomials and <code>clear_aux_decl</code> are in mathlib now</p>



<a name="157128654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157128654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157128654">(Jan 29 2019 at 19:01)</a>:</h4>
<p>This is great news! Thanks <span class="user-mention" data-user-id="110044">@Chris Hughes</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <br>
This means that we can now define all sorts of interesting extensions of  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="double-struck">Q</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.85556em;vertical-align:-0.16667em;"></span><span class="base"><span class="mord"><span class="mord mathbb">Q</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="double-struck">Q</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{Q}_p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.974998em;vertical-align:-0.286108em;"></span><span class="base"><span class="mord"><span class="mord"><span class="mord mathbb">Q</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"></span></span></span></span></span></span></span></span>. Number theory is getting closer and closer!</p>



<a name="157129032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157129032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157129032">(Jan 29 2019 at 19:06)</a>:</h4>
<p>no its not splitting fields, just the splitting polynomials. The splitting field PR is still a PR...</p>



<a name="157129051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157129051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157129051">(Jan 29 2019 at 19:06)</a>:</h4>
<p>Aaah, too bad.</p>



<a name="157134402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157134402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157134402">(Jan 29 2019 at 20:16)</a>:</h4>
<p>Number theory is still getting closer. I don't want to take on a new project right now but I feel like Dedekind domains might be accessible now, and probably would be an excellent test for the new module refactor.</p>



<a name="157134499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157134499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157134499">(Jan 29 2019 at 20:17)</a>:</h4>
<p>That can happen independently of the Galois theory stuff happening at Imperial and of any number fields stuff, it's pure commutative algebra.</p>



<a name="157171442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157171442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157171442">(Jan 30 2019 at 08:50)</a>:</h4>
<p>Congratulations to <span class="user-mention" data-user-id="110064">@Kenny Lau</span>: his proof of the Hilbert basis theorem is now in mathlib!</p>



<a name="157171453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157171453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157171453">(Jan 30 2019 at 08:51)</a>:</h4>
<p>Thanks!</p>



<a name="157182521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157182521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157182521">(Jan 30 2019 at 12:14)</a>:</h4>
<p>I tried to prove Hilbert basis in September with the old version of modules and it was basically "impossible" -- I know that's a silly word, but what I mean is that the natural proof needed more from modules than mathlib could give me. Since then I've been regarding the proof of this theorem as a good benchmark for the theory of rings and modules, and think it's great that this now works. Commutative algebra is a bit like finite group theory -- there are a bunch of basic techniques, and once you have them all, there is a whole world of theorems which are accessible. It is also the correct generality for proofs of results which number theorists, algebraic geometers etc are interested in. As people might know, at Imperial we are working on Galois theory (mostly the students, not me) and if we can prove the <a href="https://en.wikipedia.org/wiki/Fundamental_theorem_of_Galois_theory" target="_blank" title="https://en.wikipedia.org/wiki/Fundamental_theorem_of_Galois_theory">fundamental theorem of Galois theory</a> (FTG) then this will be an even more powerful indication that things are going in the right direction. I can do Hilbert basis in 30 minutes in a lecture and it only relies on the definition of a Noetherian ring, but FTG takes several lectures in total and also relies on a bunch of definitions like normal and separable field extensions.</p>



<a name="157678977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157678977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157678977">(Feb 06 2019 at 10:13)</a>:</h4>
<p>We have now <span class="user-mention" data-user-id="130980">@Jan-David Salchow</span>'s opeartor name, and <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span>'s premetric spaces and fancy completion criteria. Also <span class="user-mention" data-user-id="110026">@Simon Hudon</span>'s <code>fold</code> theory is finally merged</p>



<a name="157684720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157684720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157684720">(Feb 06 2019 at 12:09)</a>:</h4>
<p>Congrats to all of you. Especially <span class="user-mention" data-user-id="110026">@Simon Hudon</span> that was quite a long delivery (-; <span aria-label="baby" class="emoji emoji-1f476" role="img" title="baby">:baby:</span></p>



<a name="157688313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157688313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157688313">(Feb 06 2019 at 13:12)</a>:</h4>
<p>Thanks! :D</p>



<a name="157773101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157773101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johannes Hölzl <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157773101">(Feb 07 2019 at 12:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span>'s isometries and isometric isomorphisms are in mathlib!</p>



<a name="157776914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157776914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157776914">(Feb 07 2019 at 13:40)</a>:</h4>
<p>So now how do we prove that if X and Y are isometric metric spaces, and if for all epsilon &gt; 0 there's a covering of X by open discs of radius epsilon such that given any ten distinct discs in this covering, the intersection of these ten discs is empty, then the same is true for Y?</p>



<a name="157778182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/157778182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#157778182">(Feb 07 2019 at 13:59)</a>:</h4>
<p>Well, by hand, unfolding everything, business as usual. No transfer tactic yet. But now the question makes sense :)</p>



<a name="158713061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/158713061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#158713061">(Feb 16 2019 at 21:28)</a>:</h4>
<p>Following the merge of <a href="https://github.com/leanprover/mathlib/issues/481" target="_blank" title="https://github.com/leanprover/mathlib/issues/481">#481</a> we now have a cleaner equivalence relation for localization, universal property of localization, and basic facts about ideals of localization.</p>



<a name="158713618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/158713618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#158713618">(Feb 16 2019 at 21:43)</a>:</h4>
<p>But we don't have Neil's predicate. Will you PR it?</p>



<a name="158713624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/158713624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#158713624">(Feb 16 2019 at 21:43)</a>:</h4>
<p>Then we'll have cleaner proofs that A[1/fg]=A[1/f][1/g]</p>



<a name="159724743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/159724743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#159724743">(Mar 01 2019 at 15:51)</a>:</h4>
<p>Jeremy's derivatives PR <a href="https://github.com/leanprover/mathlib/issues/748" target="_blank" title="https://github.com/leanprover/mathlib/issues/748">#748</a> is merged. I believe this means that mathlib now has strictly more math than the Lean 2 library <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="162080882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162080882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162080882">(Mar 29 2019 at 20:22)</a>:</h4>
<p>We missed a couple of highlights in this thread. I can see at least:</p>
<ul>
<li>Sébastien proved <a href="https://github.com/leanprover-community/mathlib/pull/816" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/816">Baire's theorem</a></li>
<li>Kenny proved <a href="https://github.com/leanprover-community/mathlib/pull/778" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/778">Nakayma's lemma</a></li>
<li>Alexander introduced <a href="https://github.com/leanprover-community/mathlib/pull/834" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/834">convex sets and functions</a></li>
</ul>



<a name="162081370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162081370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162081370">(Mar 29 2019 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="130500">@Abhimanyu Pallavi Sudhir</span> defined the <a href="https://github.com/leanprover-community/mathlib/commit/e8bdc7fc14c6d56d4040892d16929f310e9d03d5" target="_blank" title="https://github.com/leanprover-community/mathlib/commit/e8bdc7fc14c6d56d4040892d16929f310e9d03d5">hyperreals</a></p>



<a name="162795336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162795336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162795336">(Apr 08 2019 at 07:27)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/851" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/851">#851</a> Fundamental theorem of algebra has been merged. Kudos to <span class="user-mention" data-user-id="110044">@Chris Hughes</span></p>



<a name="162808476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162808476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162808476">(Apr 08 2019 at 11:31)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/881" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/881">#881</a> We now have dual vector spaces and a proof that <code>V</code> and <code>dual K V</code> are isomorphic for fin.dim <code>V</code>. Kudos to <span class="user-mention" data-user-id="210057">@Fabian Glöckle</span></p>



<a name="162809347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162809347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162809347">(Apr 08 2019 at 11:46)</a>:</h4>
<p>I showed Chris' proof to Chris' second year analysis lecturer (who taught him this theorem this term). He replied "it's quite difficult to understand -- what is the benefit of writing it in this way instead of LaTeX?"</p>



<a name="162809451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/162809451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#162809451">(Apr 08 2019 at 11:48)</a>:</h4>
<p>I agree. And I hope that this proof becomes more readable if we have more theory.</p>



<a name="163039673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163039673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ramon Fernandez Mir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163039673">(Apr 10 2019 at 19:54)</a>:</h4>
<p>Hi there! I'm a final year Maths and Computing student at Imperial and I'm doing my Master's project with Kevin. For the last few months, I've been working on redefining schemes in Lean. I've completely refactored the <code>lean-stacks-project</code> repository and, even though it's still a work in progress, I'm glad to announce that it's in a good enough state to be shared. You can find it here: <a href="https://github.com/ramonfmir/lean-scheme" target="_blank" title="https://github.com/ramonfmir/lean-scheme">https://github.com/ramonfmir/lean-scheme</a>. :-)</p>
<p>The main novelties are:</p>
<ul>
<li>Locally ringed spaces.</li>
<li>Using the <code>is_localization</code> predicate to simplify the proof of the sheaf condition for the structure sheaf, avoiding all of the "canonical isomorphism nonsense".</li>
<li>Having no files named <code>tagXXXX.lean</code>.</li>
</ul>
<p>In this time I've found quite a few definitions and lemmas that I believe should be in mathlib so I'll get them mathlib-ready and I'll start PR-ing them.</p>
<p>Also, especially since I know that there are things here which overlap with stuff that some of you are working on, I'd really appreciate your feedback.</p>



<a name="163039721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163039721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163039721">(Apr 10 2019 at 19:55)</a>:</h4>
<p>Are you in some way suggesting that calling 20 files <code>tagABCD.lean</code> was in some way a bad idea? ;-)</p>



<a name="163048841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163048841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163048841">(Apr 10 2019 at 21:41)</a>:</h4>
<blockquote>
<p>In this time I've found quite a few definitions and lemmas that I believe should be in mathlib </p>
</blockquote>
<p>This includes the definition of scheme, right?</p>



<a name="163049087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163049087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163049087">(Apr 10 2019 at 21:45)</a>:</h4>
<p>Quite seriously, "good enough to be shared" is in my experience at most half the work of "usable by other people because it's in mathlib".</p>



<a name="163049097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163049097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163049097">(Apr 10 2019 at 21:45)</a>:</h4>
<p>This isn't meant to be discouraging --- I would really really like to see actual maths in mathlib, and with schemes we're finally breaking into the 2nd half of last century. :-)</p>



<a name="163064523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163064523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163064523">(Apr 11 2019 at 02:34)</a>:</h4>
<p><span class="user-mention" data-user-id="132858">@Ramon Fernandez Mir</span>, could we talk about refactoring this to use the category theory library? I would start at the file <code>presheaf.lean</code>, merging it with my PR <a href="https://github.com/leanprover-community/mathlib/issues/886" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/886">#886</a>.</p>



<a name="163064532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163064532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163064532">(Apr 11 2019 at 02:34)</a>:</h4>
<p>Hopefully it is not actually that much work.</p>



<a name="163065092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163065092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163065092">(Apr 11 2019 at 02:46)</a>:</h4>
<p>yo people, this is an announce thread, take it somewhere else</p>



<a name="163544044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163544044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163544044">(Apr 17 2019 at 09:12)</a>:</h4>
<p>We now have <code>omega</code>! Kudos to <span class="user-mention" data-user-id="116585">@Seul Baek</span>!</p>



<a name="163548525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163548525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moses Schönfinkel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163548525">(Apr 17 2019 at 10:27)</a>:</h4>
<p>This should also be in #general! :)</p>



<a name="163556566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/163556566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Seul Baek <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#163556566">(Apr 17 2019 at 12:45)</a>:</h4>
<p>Thanks! :)</p>



<a name="169640897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/169640897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#169640897">(Jul 04 2019 at 11:38)</a>:</h4>
<p>Some catching up for this thread:</p>
<ul>
<li>Michael Howes defined <a href="https://github.com/leanprover-community/mathlib/pull/1118" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1118">group presentations</a></li>
<li>Kenny defined <a href="https://github.com/leanprover-community/mathlib/pull/754" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/754">direct limit of modules, abelian groups, rings, and fields</a> and constructed <a href="https://github.com/leanprover-community/mathlib/pull/1087" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1087">integral closures</a> in commutative rings</li>
<li>Sébastien proved the <a href="https://github.com/leanprover-community/mathlib/pull/900" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/900">open mapping theorem</a></li>
<li>Paul-Nicolas made a <a href="https://github.com/leanprover-community/mathlib/pull/988" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/988">normalize cast tactic</a></li>
<li>Scott defined <a href="https://github.com/leanprover-community/mathlib/pull/1002" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1002">monoidal categories</a></li>
<li>Joe defined the <a href="https://github.com/leanprover-community/mathlib/pull/1149" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1149">Bochner integral</a></li>
<li>Alexander refactored <a href="https://github.com/leanprover-community/mathlib/pull/943" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/943">linear combinations</a></li>
</ul>
<p>Don't hesitate to add things I missed!</p>



<a name="176803545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/176803545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#176803545">(Sep 28 2019 at 02:46)</a>:</h4>
<p>There is certainly a ton of stuff that has been flowing into mathlib, but most importantly: Sébastien's manifold PR just got merged!</p>



<a name="176803560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/176803560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#176803560">(Sep 28 2019 at 02:47)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> (Now you can update your blogpost from January or something <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span>)</p>



<a name="176814825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/176814825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#176814825">(Sep 28 2019 at 07:44)</a>:</h4>
<p>It's a bit early to update this blogpost, we still don't have smooth manifold and the tangent functor.</p>



<a name="176825019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/176825019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#176825019">(Sep 28 2019 at 12:48)</a>:</h4>
<p>I was looking at that blog post only yesterday, and realised I was looking forward to updating it.</p>



<a name="203481636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/203481636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#203481636">(Jul 10 2020 at 08:27)</a>:</h4>
<p>I know we are very inconsistent in using this thread, but we now have a very nice opportunity: mathlib knows about Cayley-Hamilton! <a href="https://github.com/leanprover-community/mathlib/issues/3276">#3276</a></p>



<a name="206550769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206550769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206550769">(Aug 11 2020 at 08:22)</a>:</h4>
<p>I see the Haar measure PR has been merged! This is a really nice addition to mathlib, and I wonder whether this has been formalized in any other proof assistant. Together with Yury's impressive work on integral refactoring and the fundamental theorem of calculus, it means measure theory and integration is turning into a really good shape.</p>



<a name="206551306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206551306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206551306">(Aug 11 2020 at 08:29)</a>:</h4>
<p>Yeah this is awesome. It means we can state <a href="https://en.wikipedia.org/wiki/Pontryagin_duality">Pontryagin duality</a>. But what are we going to do about the fact that the textbook proof is 50 pages of functional analysis but that I need it to state the generalized Riemann Hypothesis?</p>



<a name="206558254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558254">(Aug 11 2020 at 10:02)</a>:</h4>
<p>Surely we could state it already? Just talking about the dual group, or the evaluation map from the double dual to the original group, doesn't require knowing about Haar measure.</p>



<a name="206558550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558550">(Aug 11 2020 at 10:07)</a>:</h4>
<p>Kevin probably meant he wants Fourier transform.</p>



<a name="206558656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558656">(Aug 11 2020 at 10:08)</a>:</h4>
<p>How far are we from having Fubini's theorem? With FTC+Fubini we could say that we have integration in mathlib (maybe we would need completeness of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">L^p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span> spaces to be honest).</p>



<a name="206558689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558689">(Aug 11 2020 at 10:09)</a>:</h4>
<p>But we should definitely do all the functional analysis in the vicinity of Pontryagin duality! My guess is that most of this material is going to be fairly pleasant to formalise.</p>



<a name="206558794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558794">(Aug 11 2020 at 10:10)</a>:</h4>
<p>I just PR'd a "Fubini" theorem that you will not appreciate. :-) <a href="https://github.com/leanprover-community/mathlib/issues/3732">#3732</a></p>



<a name="206558941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206558941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206558941">(Aug 11 2020 at 10:12)</a>:</h4>
<p>Yes, I saw that PR yesterday and clicking on the link broke my heart. But keep up the good work on categories, we really need sheaves with values in a category!</p>



<a name="206573023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206573023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206573023">(Aug 11 2020 at 13:17)</a>:</h4>
<p>Yes sorry, I want L^2(G)=L^2(Ghat) etc</p>



<a name="206733087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206733087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206733087">(Aug 12 2020 at 18:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/206718085">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/eb4b2a05384b2c8e096c8c2d61f6e949a031493f">feat(field_theory/algebraic_closure): algebraic closure (#3733)</a></strong><br>
feat(field_theory/algebraic_closure): algebraic closure (<a href="https://github.com/leanprover-community/mathlib/issues/3733">#3733</a>)</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">:</span> <span class="n">is_alg_closed</span> <span class="o">(</span><span class="n">algebraic_closure</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>


<p>TODO: Show that any algebraic extension embeds into any algebraically closed extension (via Zorn's lemma).</p>
<p>Co-authored-by: Patrick Massot &lt;<a href="mailto:patrickmassot@free.fr">patrickmassot@free.fr</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/eb4b2a05384b2c8e096c8c2d61f6e949a031493f">https://github.com/leanprover-community/mathlib/commit/eb4b2a05384b2c8e096c8c2d61f6e949a031493f</a></p>
</blockquote>



<a name="206737332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206737332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206737332">(Aug 12 2020 at 19:09)</a>:</h4>
<p>Reid would point out that you shouldn't have chosen an algebraic closure. It's not even unique up to unique isomorphism! You should have defined the category of algebraic closures of k and proved it's nonempty.</p>



<a name="206772626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206772626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206772626">(Aug 13 2020 at 01:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/206558656">said</a>:</p>
<blockquote>
<p>How far are we from having Fubini's theorem? With FTC+Fubini we could say that we have integration in mathlib (maybe we would need completeness of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">L^p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span> spaces to be honest).</p>
</blockquote>
<p>I'm working towards Fubini's theorem. It will still be some work, I'm currently at the stage "define finitary products of measures".</p>



<a name="206772630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206772630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206772630">(Aug 13 2020 at 01:35)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/compare/measure-prod">https://github.com/leanprover-community/mathlib/compare/measure-prod</a></p>



<a name="206772689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206772689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206772689">(Aug 13 2020 at 01:36)</a>:</h4>
<p>See also <a href="#narrow/stream/116395-maths/topic/product.20measures">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/product.20measures</a></p>



<a name="206786744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206786744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206786744">(Aug 13 2020 at 07:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/206737332">said</a>:</p>
<blockquote>
<p>Reid would point out that you shouldn't have chosen an algebraic closure. It's not even unique up to unique isomorphism! You should have defined the category of algebraic closures of k and proved it's nonempty.</p>
</blockquote>
<p>that's <code>is_alg_closed</code> right; and inhabited implies nonempty?</p>



<a name="206874133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206874133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206874133">(Aug 13 2020 at 21:28)</a>:</h4>
<p>I'm really thrilled to see that algebraic closure merged, for several reasons. The whole algebraic closure thing has become very embarrassing. And I'm also very happy to see a new very significant contribution by Kenny, after we failed to push through a number of attempts (collectively, the maintainer team and Kenny). Could we get a layman summary of what happened. Is this a new approach? Is this building on Chris's earlier work? Were there issues that Chris faced and were solved in the meantime?</p>



<a name="206881768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206881768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206881768">(Aug 13 2020 at 23:02)</a>:</h4>
<p>Did you see that Larry Paulson wrote alg  closures in Isabelle and wrote a paper about it, just a few months ago, crowing about how Isabelle was the first prover with alg closures?</p>



<a name="206881942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206881942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206881942">(Aug 13 2020 at 23:04)</a>:</h4>
<p>Hey, it would be nice to do real closed fields. I'm sure the model theorists and the people working on o-minimality would be happy.</p>



<a name="206881970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206881970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206881970">(Aug 13 2020 at 23:05)</a>:</h4>
<p>And sounds like isabelle doesn't have it :)</p>



<a name="206883206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206883206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206883206">(Aug 13 2020 at 23:21)</a>:</h4>
<p>You mean to construct the real closure?</p>



<a name="206883290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206883290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206883290">(Aug 13 2020 at 23:22)</a>:</h4>
<p>Now that algebraic closures exist, proving Artin-Schreier would be a lot easier, because you can build your real closure in the default algebraic closure</p>



<a name="206883785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206883785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206883785">(Aug 13 2020 at 23:30)</a>:</h4>
<p>I'm thinking of the fact that any ordered field embeds in a RCF.</p>



<a name="206883796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206883796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206883796">(Aug 13 2020 at 23:30)</a>:</h4>
<p>Artin-Schreier would be great!</p>



<a name="206908420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206908420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206908420">(Aug 14 2020 at 08:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> That looks like a password.</p>



<a name="206908501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206908501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206908501">(Aug 14 2020 at 08:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> Can you delete Chris' post?</p>



<a name="206912696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206912696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206912696">(Aug 14 2020 at 09:39)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Congrats with the Haar measure! <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="206912714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206912714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206912714">(Aug 14 2020 at 09:39)</a>:</h4>
<p>I'm quite excited returning from my holidays and seeing that we now have Haar measures and algebraic closures.</p>



<a name="206912788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206912788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206912788">(Aug 14 2020 at 09:40)</a>:</h4>
<p>Welcome back Johan! By the way there about 20 things we need you to look at ;-)</p>



<a name="206912830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206912830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206912830">(Aug 14 2020 at 09:41)</a>:</h4>
<p>Here's some stuff you can look at for fun (given that we're in the what's new thread): My MSc student Jujian Zhang got transcendence of e sorry-free!  <a href="https://jjaassoonn.github.io/transcendental/">https://jjaassoonn.github.io/transcendental/</a></p>



<a name="206912937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206912937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206912937">(Aug 14 2020 at 09:42)</a>:</h4>
<p>Euxodus reals (a construction of R from Z not going via Q) is at <a href="https://github.com/Lix0120/eudoxus/">https://github.com/Lix0120/eudoxus/</a></p>



<a name="206913636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206913636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206913636">(Aug 14 2020 at 09:52)</a>:</h4>
<p>Thanks, I hope <code>transcendental</code> will be PR'd?</p>



<a name="206913658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206913658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206913658">(Aug 14 2020 at 09:53)</a>:</h4>
<p>About the 20 things, I would be happy if people would ping or PM me, and I'll try to look at everything over the next couple of days.</p>



<a name="206913945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206913945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206913945">(Aug 14 2020 at 09:57)</a>:</h4>
<p>Oh I just meant the PR queue :-)</p>



<a name="206914050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206914050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206914050">(Aug 14 2020 at 09:58)</a>:</h4>
<p>Shenyang Wu got group cohomology working: <a href="https://github.com/Shenyang1995/M4R">https://github.com/Shenyang1995/M4R</a> although we had a shock at the last minute when he realised he hadn't defined H^0 :-) (because there are no -1-cochains in his set-up)</p>



<a name="206914071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206914071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206914071">(Aug 14 2020 at 09:59)</a>:</h4>
<p>I can't guarantee any of this stuff will end up in mathlib. Students do projects and then they leave to do other things. I'll work on Jujian :-)</p>



<a name="206947647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206947647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206947647">(Aug 14 2020 at 16:21)</a>:</h4>
<p>Can they at least open PRs and label them <code>please-adopt</code>?</p>



<a name="206948105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/206948105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#206948105">(Aug 14 2020 at 16:25)</a>:</h4>
<p>Yes, please. That would be great.</p>



<a name="207022410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207022410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207022410">(Aug 15 2020 at 13:39)</a>:</h4>
<p>With all these recent additions, someone should update the <a href="https://github.com/leanprover-community/leanprover-community.github.io/blob/newsite/data/overview.yaml">mathlib overview</a> and probably the <a href="https://github.com/leanprover-community/leanprover-community.github.io/blob/newsite/data/undergrad.yaml">undergrad topics</a>!</p>



<a name="207028813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207028813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207028813">(Aug 15 2020 at 16:34)</a>:</h4>
<p>I added the Haar measure already. I'll add algebraic closures. For FTC I'm waiting for what Yury calls FTC-2 (in particular this is the version that allows to actually compute integrals).</p>



<a name="207091759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207091759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207091759">(Aug 16 2020 at 21:52)</a>:</h4>
<p>I can easily add a weaker version assuming continuity of the derivative</p>



<a name="207091769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207091769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207091769">(Aug 16 2020 at 21:53)</a>:</h4>
<p>The proof of the most general version for Lebesgue integral is far less trivial.</p>



<a name="207374421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207374421" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207374421">(Aug 19 2020 at 06:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/207346742">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/5d2256da224ed7dfc5c20eb64cffb417d19377c5">feat(miu_language): a formalisation of the MIU language described by …</a></strong><br>
feat(miu_language): a formalisation of the MIU language described by D. Hofstadter in "Gödel, Escher, Bach". (<a href="https://github.com/leanprover-community/mathlib/issues/3739">#3739</a>)</p>
<p>We define an inductive type <code>derivable</code> so that <code>derivable x</code>  represents the notion that the MIU string <code>x</code> is derivable in the MIU language. We show <code>derivable x</code> is equivalent to <code>decstr x</code>, viz. the condition that <code>x</code> begins with an <code>M</code>, has no <code>M</code> in its tail, and for which <code>count I</code> is congruent to 1 or 2 modulo 3.</p>
<p>By showing <code>decidable_pred decstr</code>, we deduce that <code>derivable</code> is decidable.<br>
<a href="https://github.com/leanprover-community/mathlib/commit/5d2256da224ed7dfc5c20eb64cffb417d19377c5">https://github.com/leanprover-community/mathlib/commit/5d2256da224ed7dfc5c20eb64cffb417d19377c5</a></p>
</blockquote>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/207350756">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/425aee91dfe8d542ecc39e354228f3f661af4b26">feat(analysis/calculus) : L'Hôpital's rule, 0/0 case (#3740)</a></strong><br>
feat(analysis/calculus) : L'Hôpital's rule, 0/0 case (<a href="https://github.com/leanprover-community/mathlib/issues/3740">#3740</a>)</p>
<p>This proves several forms of L'Hôpital's rule for computing 0/0 indeterminate forms, based on the proof given here : <a href="https://en.wikibooks.org/wiki/Calculus/L%27H%C3%B4pital%27s_Rule">Wikibooks</a>. See module docstring for more details.<br>
<a href="https://github.com/leanprover-community/mathlib/commit/425aee91dfe8d542ecc39e354228f3f661af4b26">https://github.com/leanprover-community/mathlib/commit/425aee91dfe8d542ecc39e354228f3f661af4b26</a></p>
</blockquote>



<a name="207402370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207402370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207402370">(Aug 19 2020 at 12:47)</a>:</h4>
<p><span class="user-mention" data-user-id="268315">@Anatole Dedecker</span> Can we now fill this in? Or is there another variant that should be done first?<br>
<a href="https://github.com/leanprover-community/leanprover-community.github.io/blob/newsite/data/100.yaml#L193">https://github.com/leanprover-community/leanprover-community.github.io/blob/newsite/data/100.yaml#L193</a></p>



<a name="207405562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207405562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207405562">(Aug 19 2020 at 13:15)</a>:</h4>
<p>Well there's only the 0/0 case for now, but I don't know if we should wait for the anything/infinity case. As I said in the PR I started working on it but I'm not focusing on it right now. Maybe we should have a look at which variations have been proven in other theorem provers to see if we should wait or not.</p>



<a name="207405699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207405699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207405699">(Aug 19 2020 at 13:16)</a>:</h4>
<p>There is no hurry with adding things to that list</p>



<a name="207405730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207405730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207405730">(Aug 19 2020 at 13:17)</a>:</h4>
<p>So let's wait for the infty version</p>



<a name="207457980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207457980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207457980">(Aug 19 2020 at 20:28)</a>:</h4>
<p>I just checked and all entries on Freek's website are proving what Anatole proved. Given that we have no application in mind other than adding an item to this list, I don't see the point of waiting (and of working on other cases, but that's more debatable).</p>



<a name="207459209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207459209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207459209">(Aug 19 2020 at 20:41)</a>:</h4>
<p>I would say to report it as soon as you have something that can plausibly be given the name</p>



<a name="207459313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207459313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207459313">(Aug 19 2020 at 20:42)</a>:</h4>
<p>don't wait until you have the most general thing that can plausibly be given the name because mathematicians are ridiculously liberal about applying old names to vast generalizations</p>



<a name="207484273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207484273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207484273">(Aug 20 2020 at 02:57)</a>:</h4>
<p><a href="https://github.com/leanprover-community/leanprover-community.github.io/pull/117">https://github.com/leanprover-community/leanprover-community.github.io/pull/117</a></p>



<a name="207922328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207922328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207922328">(Aug 25 2020 at 03:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/207911384">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/d4d33deaa14500c982022408ad94b4979b7e337f">feat(combinatorics): define simple graphs (#3458)</a></strong><br>
feat(combinatorics): define simple graphs (<a href="https://github.com/leanprover-community/mathlib/issues/3458">#3458</a>)</p>
<p>adds basic definition of <code>simple_graph</code>s</p>
<p>Co-authored-by: Aaron Anderson &lt;<a href="mailto:awainverse@gmail.com">awainverse@gmail.com</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/d4d33deaa14500c982022408ad94b4979b7e337f">https://github.com/leanprover-community/mathlib/commit/d4d33deaa14500c982022408ad94b4979b7e337f</a></p>
</blockquote>



<a name="207922331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207922331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207922331">(Aug 25 2020 at 03:47)</a>:</h4>
<p>We finally have graphs!</p>



<a name="207922373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/207922373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#207922373">(Aug 25 2020 at 03:48)</a>:</h4>
<p>Thanks a lot <span class="user-mention" data-user-id="302826">@Aaron Anderson</span> <span class="user-mention" data-user-id="252300">@Jalex Stark</span> <span class="user-mention" data-user-id="306601">@Kyle Miller</span> and other contributors, for your perseverance</p>



<a name="208524791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208524791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208524791">(Aug 31 2020 at 06:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/208524767">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/b79fc0379ae786153fc22ce5ee6751505e36a3d9">feature(algebraic_geometry/Scheme): the category of schemes (#3961)</a></strong><br>
feature(algebraic_geometry/Scheme): the category of schemes (<a href="https://github.com/leanprover-community/mathlib/issues/3961">#3961</a>)</p>
<p>The definition of a <code>Scheme</code>, and the category of schemes as the full subcategory of locally ringed spaces.</p>
<p>Co-authored-by: Johan Commelin &lt;<a href="mailto:johan@commelin.net">johan@commelin.net</a>&gt;</p>
<p>Co-authored-by: Kevin Buzzard &lt;<a href="mailto:k.buzzard@imperial.ac.uk">k.buzzard@imperial.ac.uk</a>&gt;<br>
Co-authored-by: Scott Morrison &lt;<a href="mailto:scott.morrison@gmail.com">scott.morrison@gmail.com</a>&gt;<br>
Co-authored-by: Ashvni &lt;<a href="mailto:ashvni.n@gmail.com">ashvni.n@gmail.com</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/b79fc0379ae786153fc22ce5ee6751505e36a3d9">https://github.com/leanprover-community/mathlib/commit/b79fc0379ae786153fc22ce5ee6751505e36a3d9</a></p>
</blockquote>



<a name="208758609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208758609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208758609">(Sep 01 2020 at 22:46)</a>:</h4>
<p>This is a tactic, not maths, but I hope mathematicians will enjoy <span class="user-mention" data-user-id="110026">@Simon Hudon</span>'s recently landed tactic:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">slim_check</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">nat</span><span class="bp">.</span><span class="n">prime</span>

<span class="kn">open</span> <span class="n">nat</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">1</span> <span class="err">%</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">slim_check</span> <span class="c1">-- found problems, n := 2</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">1</span> <span class="err">%</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">slim_check</span> <span class="c1">-- found problems, n := 3</span>
<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">prime</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="err">%</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">slim_check</span> <span class="c1">-- gave up</span>
</code></pre></div>



<a name="208776205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208776205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208776205">(Sep 02 2020 at 03:36)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> You're a boss!</p>



<a name="208776369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208776369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208776369">(Sep 02 2020 at 03:41)</a>:</h4>
<p><span aria-label="bow" class="emoji emoji-1f647" role="img" title="bow">:bow:</span></p>



<a name="208776414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208776414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208776414">(Sep 02 2020 at 03:42)</a>:</h4>
<p>I'm glad it's already popular :) I hope to see the generators that you guys come up with</p>



<a name="208784453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208784453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208784453">(Sep 02 2020 at 06:27)</a>:</h4>
<p>That's a great showcase example Scott :-)</p>



<a name="208786198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/208786198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#208786198">(Sep 02 2020 at 06:57)</a>:</h4>
<p>I'm embarrassed to say it's more realistic than it should have been --- In the second line I suspected <code>slim_check</code> before I suspected my parentheses. :-)</p>



<a name="209286671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209286671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209286671">(Sep 07 2020 at 11:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/209261041">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/94b96cff7665a86d9ea806ecb62eb60849d798a9">feat(algebraic_geometry/structure_sheaf): stalk_iso (#4047)</a></strong><br>
feat(algebraic_geometry/structure_sheaf): stalk_iso (<a href="https://github.com/leanprover-community/mathlib/issues/4047">#4047</a>)</p>
<p>Given a ring <code>R</code> and a prime ideal <code>p</code>, construct an isomorphism of rings between the stalk of the structure sheaf of <code>R</code> at <code>p</code> and the localization of <code>R</code> at <code>p</code>.</p>
<p>Co-authored-by: Scott Morrison &lt;<a href="mailto:scott.morrison@gmail.com">scott.morrison@gmail.com</a>&gt;<br>
Co-authored-by: Johan Commelin &lt;<a href="mailto:johan@commelin.net">johan@commelin.net</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/94b96cff7665a86d9ea806ecb62eb60849d798a9">https://github.com/leanprover-community/mathlib/commit/94b96cff7665a86d9ea806ecb62eb60849d798a9</a></p>
</blockquote>



<a name="209286769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209286769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209286769">(Sep 07 2020 at 11:48)</a>:</h4>
<p>In symbols: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">O</mi><mrow><mi mathvariant="normal">Spec</mi><mo>⁡</mo><mi>R</mi><mo separator="true">,</mo><mi mathvariant="fraktur">p</mi></mrow></msub><mo>=</mo><msub><mi>R</mi><mi mathvariant="fraktur">p</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal O_{\operatorname{Spec} R, \mathfrak p} = R_{\mathfrak p}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mord mathrm mtight">S</span><span class="mord mathrm mtight">p</span><span class="mord mathrm mtight">e</span><span class="mord mathrm mtight">c</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mpunct mtight">,</span><span class="mord mathfrak mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.965672em;vertical-align:-0.282342em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.21677199999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathfrak mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.282342em;"><span></span></span></span></span></span></span></span></span></span></p>



<a name="209287414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209287414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209287414">(Sep 07 2020 at 11:57)</a>:</h4>
<p>Thanks a lot <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>



<a name="209288857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209288857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209288857">(Sep 07 2020 at 12:15)</a>:</h4>
<p>Presumably we can state Gamma Spec Adjointness in the language of category theory already? Can we prove it?</p>



<a name="209288909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209288909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209288909">(Sep 07 2020 at 12:15)</a>:</h4>
<p>I would not expect <code>tidy</code> to do it but it's worth a try :-)</p>



<a name="209288936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209288936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209288936">(Sep 07 2020 at 12:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> is it accessible?</p>



<a name="209291933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209291933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209291933">(Sep 07 2020 at 12:49)</a>:</h4>
<p>There's still a bit to do. <code>Spec</code> isn't even a functor yet.</p>



<a name="209293697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209293697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209293697">(Sep 07 2020 at 13:08)</a>:</h4>
<p>well, one way to make it a functor is to first prove it's adjoint to something <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="209295799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295799">(Sep 07 2020 at 13:31)</a>:</h4>
<p>Is global sections a functor?</p>



<a name="209295827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295827">(Sep 07 2020 at 13:31)</a>:</h4>
<p>Spec being a functor doesn't sound hard</p>



<a name="209295830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295830">(Sep 07 2020 at 13:31)</a>:</h4>
<p>do we have morphisms yet?</p>



<a name="209295841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295841">(Sep 07 2020 at 13:31)</a>:</h4>
<p>In which category?</p>



<a name="209295910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295910">(Sep 07 2020 at 13:32)</a>:</h4>
<p>The category of locally ringed spaces I guess</p>



<a name="209295911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295911">(Sep 07 2020 at 13:32)</a>:</h4>
<p>Morphisms of schemes are there.</p>



<a name="209295924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295924">(Sep 07 2020 at 13:32)</a>:</h4>
<p>As a full subcat of locally ringed spaces</p>



<a name="209295991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209295991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209295991">(Sep 07 2020 at 13:33)</a>:</h4>
<p>I see, so the content is getting the morphism of presheaves from the morphism of rings</p>



<a name="209296026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296026">(Sep 07 2020 at 13:33)</a>:</h4>
<p>I think what Reid was saying is that it would be just as easy to prove that Spec is a functor as it would be to prove the universal property of Spec, which is already the adjointness property :)</p>



<a name="209296048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296048">(Sep 07 2020 at 13:33)</a>:</h4>
<p>One should prove that it's a morphism of the underlying function type sheaf first and then verify that it preserves the predicate</p>



<a name="209296114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296114">(Sep 07 2020 at 13:34)</a>:</h4>
<p>If you want to state the adjunction for LRS, then it's easy. Because we have <code>Spec</code> as funtor to LRS</p>



<a name="209296128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296128">(Sep 07 2020 at 13:34)</a>:</h4>
<p>Uuh, maybe only on objects</p>



<a name="209296151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296151">(Sep 07 2020 at 13:34)</a>:</h4>
<p>But <code>Spec</code> as functor to schemes isn't done yet. We don't know that affine schemes are schemes.</p>



<a name="209296163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296163">(Sep 07 2020 at 13:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/209296151">said</a>:</p>
<blockquote>
<p>But <code>Spec</code> as functor to schemes isn't done yet. We don't know that affine schemes are schemes.</p>
</blockquote>
<p>Oh?</p>



<a name="209296166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296166">(Sep 07 2020 at 13:35)</a>:</h4>
<p>Oh I see!</p>



<a name="209296175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296175">(Sep 07 2020 at 13:35)</a>:</h4>
<p>Wait</p>



<a name="209296200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296200">(Sep 07 2020 at 13:35)</a>:</h4>
<p>I'm not sure i believe you</p>



<a name="209296229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296229">(Sep 07 2020 at 13:35)</a>:</h4>
<p>Well, after Kenny's PR, I guess we can now do that as well</p>



<a name="209296279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296279">(Sep 07 2020 at 13:36)</a>:</h4>
<p>The point was that we didn't know the stalks were local</p>



<a name="209296317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296317">(Sep 07 2020 at 13:36)</a>:</h4>
<p>Huh, now I'm confused</p>



<a name="209296326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296326">(Sep 07 2020 at 13:36)</a>:</h4>
<p>How did we define Spec as LRS before this PR?</p>



<a name="209296368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296368">(Sep 07 2020 at 13:37)</a>:</h4>
<p>LRS should be RS</p>



<a name="209296386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296386">(Sep 07 2020 at 13:37)</a>:</h4>
<p>That's how it was done before.</p>



<a name="209296479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296479">(Sep 07 2020 at 13:38)</a>:</h4>
<p>Yup, you're right</p>



<a name="209296723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209296723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209296723">(Sep 07 2020 at 13:40)</a>:</h4>
<p>Aah got it</p>



<a name="209297175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297175">(Sep 07 2020 at 13:45)</a>:</h4>
<p>I have no idea how hard <code>Spec</code> as functor will be</p>



<a name="209297202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297202">(Sep 07 2020 at 13:45)</a>:</h4>
<p>Showing that you get local morphisms on the stalks... might be painful</p>



<a name="209297246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297246">(Sep 07 2020 at 13:45)</a>:</h4>
<p>As in... another PR of 200 lines?</p>



<a name="209297776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297776">(Sep 07 2020 at 13:50)</a>:</h4>
<p>Here's the proof in stacks: <a href="https://stacks.math.columbia.edu/tag/01I1">https://stacks.math.columbia.edu/tag/01I1</a></p>



<a name="209297857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297857">(Sep 07 2020 at 13:51)</a>:</h4>
<p>It looks like given a morphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><msub><mi mathvariant="script">O</mi><mi>X</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A \to \Gamma(X,\mathcal{O}_X)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, where X is a LRS, it shouldn't be too hard to construct the associated morphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>S</mi><mi>p</mi><mi>e</mi><mi>c</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">X \to Spec A </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mord mathnormal">c</span><span class="mord mathnormal">A</span></span></span></span>.</p>



<a name="209297873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209297873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209297873">(Sep 07 2020 at 13:51)</a>:</h4>
<p>as ringed spaces, that is.</p>



<a name="209924957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209924957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209924957">(Sep 13 2020 at 10:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/209921649">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/5d35e626086c4e1639e49cd7cf574bc48592f554">feat(algebraic_geometry/*): Gamma the global sections functor (#4126)</a></strong><br>
feat(algebraic_geometry/*): Gamma the global sections functor (<a href="https://github.com/leanprover-community/mathlib/issues/4126">#4126</a>)<br>
<a href="https://github.com/leanprover-community/mathlib/commit/5d35e626086c4e1639e49cd7cf574bc48592f554">https://github.com/leanprover-community/mathlib/commit/5d35e626086c4e1639e49cd7cf574bc48592f554</a></p>
</blockquote>



<a name="209983447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209983447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209983447">(Sep 14 2020 at 09:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/209983105">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/1c2ddbcf800b070afddf1886e6329e400073b764">feat(field_theory/fixed): dimension over fixed field is order of grou…</a></strong><br>
feat(field_theory/fixed): dimension over fixed field is order of group (<a href="https://github.com/leanprover-community/mathlib/issues/4125">#4125</a>)</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">dim_fixed_points</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">F</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">field</span> <span class="n">F</span><span class="o">]</span>
  <span class="o">[</span><span class="n">fintype</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">faithful_mul_semiring_action</span> <span class="n">G</span> <span class="n">F</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">findim</span> <span class="o">(</span><span class="n">fixed_points</span> <span class="n">G</span> <span class="n">F</span><span class="o">)</span> <span class="n">F</span> <span class="bp">=</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">G</span>
</code></pre></div>


<p><a href="https://github.com/leanprover-community/mathlib/commit/1c2ddbcf800b070afddf1886e6329e400073b764">https://github.com/leanprover-community/mathlib/commit/1c2ddbcf800b070afddf1886e6329e400073b764</a></p>
</blockquote>



<a name="209983710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209983710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209983710">(Sep 14 2020 at 09:51)</a>:</h4>
<p>Galois theory is looming around the corner</p>



<a name="209984002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209984002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209984002">(Sep 14 2020 at 09:54)</a>:</h4>
<p>Chapeau <span class="user-mention" data-user-id="110064">@Kenny Lau</span> <span aria-label="clink" class="emoji emoji-1f942" role="img" title="clink">:clink:</span></p>



<a name="209984032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209984032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209984032">(Sep 14 2020 at 09:55)</a>:</h4>
<p>I didn't even notice that PR going by. This is lovely!</p>



<a name="209984218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209984218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209984218">(Sep 14 2020 at 09:57)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> Can you sketch what's left in your opinion? I guess</p>
<ul>
<li>Define Galois group</li>
<li>Add an instance of <code>faithful_mul_semiring_action (Gal L K) L</code> under the assumption that the extension is <code>normal</code> and <code>separable</code></li>
<li>An isomorphism between <code>K</code> and <code>fixed_points (Gal L K) L</code></li>
<li>...?</li>
</ul>



<a name="209985687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209985687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209985687">(Sep 14 2020 at 10:14)</a>:</h4>
<p>Tentative plan:</p>
<ol>
<li>Show the equivalence between "L/K is normal and separable" and "|Aut(L/K)| = [L:K]", and call one of those conditions "L/K is Galois".</li>
<li>Show that if L/E/K is Galois then L/E is Galois (via normal and separable).</li>
<li>Define <code>Gal(L/E) : subgroup (Aut(L/K))</code> for <code>E : subalgebra K L</code>.</li>
<li>Define <code>fixed H : subalgebra K L</code> for <code>H : subgroup (Aut(L/K))</code>.</li>
<li>Then <code>|Gal(L/fixed H)| = [L : fixed H] = |H|</code> (2, <a href="https://github.com/leanprover-community/mathlib/issues/4125">#4125</a>) so <code>Gal(L/fixed H) = H</code>.</li>
<li>Then <code>[L : fixed (Gal(L/E))] = |Gal(L/E)| = [L:E]</code> (<a href="https://github.com/leanprover-community/mathlib/issues/4125">#4125</a>, 2) so <code>fixed (Gal(L/E)) = E</code>.</li>
<li>Show that the splitting field of a separable polynomial is Galois.</li>
</ol>



<a name="209985947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/209985947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#209985947">(Sep 14 2020 at 10:17)</a>:</h4>
<p><span class="user-mention" data-user-id="253861">@Thomas Browning</span> <span class="user-mention" data-user-id="298851">@Patrick Lutz</span> and the other Berkeley people -- are you working on some of this stuff independently or are you all in sync and aware of each other's work?</p>



<a name="210036734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/210036734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#210036734">(Sep 14 2020 at 17:24)</a>:</h4>
<p>Right now, we're temporarily paused on the Galois theory as we try to get the primitive element theorem into mathlib (which might make the forward direction of part 1 a bit easier). I'll make sure to keep track of what Kenny's doing.</p>



<a name="210037104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/210037104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#210037104">(Sep 14 2020 at 17:28)</a>:</h4>
<p>I learnt the primitive element theorem in my Galois theory course :-)</p>



<a name="211395779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211395779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211395779">(Sep 27 2020 at 03:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211381962">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/253b120d59045b6eaec35781711be1d756f02fb3">feat(field_theory): prove primitive element theorem (#4153)</a></strong><br>
feat(field_theory): prove primitive element theorem (<a href="https://github.com/leanprover-community/mathlib/issues/4153">#4153</a>)</p>
<p>Proof of the primitive element theorem. The main proof is in <code>field_theory/primitive_element.lean</code>. Some lemmas we used have been added to other files. We have also changed the notation for adjoining an element to a field to be easier to use.</p>
<p>Co-authored-by: Patrick Lutz &lt;<a href="mailto:pglutz@berkeley.edu">pglutz@berkeley.edu</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/253b120d59045b6eaec35781711be1d756f02fb3">https://github.com/leanprover-community/mathlib/commit/253b120d59045b6eaec35781711be1d756f02fb3</a></p>
</blockquote>



<a name="211395836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211395836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211395836">(Sep 27 2020 at 03:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211381963">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/d0b594766906c0e3ca9082228fffd8c9e0ff5435">feat(algebra/universal_enveloping_algebra): construction of universal…</a></strong><br>
feat(algebra/universal_enveloping_algebra): construction of universal enveloping algebra and its universal property (<a href="https://github.com/leanprover-community/mathlib/issues/4041">#4041</a>)</p>
<h2>Main definitions</h2>
<p>* <code>universal_enveloping_algebra</code><br>
  * <code>universal_enveloping_algebra.algebra</code><br>
  * <code>universal_enveloping_algebra.lift</code><br>
  * <code>universal_enveloping_algebra.ι_comp_lift</code><br>
  * <code>universal_enveloping_algebra.lift_unique</code><br>
  * <code>universal_enveloping_algebra.hom_ext</code></p>
<p>Co-authored-by: Eric Wieser &lt;<a href="mailto:wieser.eric@gmail.com">wieser.eric@gmail.com</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/d0b594766906c0e3ca9082228fffd8c9e0ff5435">https://github.com/leanprover-community/mathlib/commit/d0b594766906c0e3ca9082228fffd8c9e0ff5435</a></p>
</blockquote>



<a name="211395841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211395841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211395841">(Sep 27 2020 at 03:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211391915">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/5c957ec8b74ec01bad07c0f0455c31aa1795bc9f">feat(analysis/convex/integral): Jensen's inequality for integrals (#4…</a></strong><br>
feat(analysis/convex/integral): Jensen's inequality for integrals (<a href="https://github.com/leanprover-community/mathlib/issues/4225">#4225</a>)<br>
<a href="https://github.com/leanprover-community/mathlib/commit/5c957ec8b74ec01bad07c0f0455c31aa1795bc9f">https://github.com/leanprover-community/mathlib/commit/5c957ec8b74ec01bad07c0f0455c31aa1795bc9f</a></p>
</blockquote>



<a name="211395851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211395851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211395851">(Sep 27 2020 at 03:28)</a>:</h4>
<p>That was a good day for mathlib (-;</p>



<a name="211987312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211987312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211987312">(Oct 01 2020 at 23:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211885879">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/9ceb1141fab68a2cd3ec27621018539bf1139d87">feat(analysis/normed_space/inner_product): Define the inner product b…</a></strong><br>
feat(analysis/normed_space/inner_product): Define the inner product based on <code>is_R_or_C</code> (<a href="https://github.com/leanprover-community/mathlib/issues/4057">#4057</a>)<br>
<a href="https://github.com/leanprover-community/mathlib/commit/9ceb1141fab68a2cd3ec27621018539bf1139d87">https://github.com/leanprover-community/mathlib/commit/9ceb1141fab68a2cd3ec27621018539bf1139d87</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="311453">@Frédéric Dupuis</span> Congratulations on this!  I guess it's safe to formalize anything in Hilbert / Banach space theory now without worrying about duplication -- what will you do next?</p>



<a name="211990210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990210">(Oct 01 2020 at 23:54)</a>:</h4>
<p>This is really great! Let's make Banach/C-star/von Neumann algebras. :-)</p>



<a name="211990233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990233">(Oct 01 2020 at 23:54)</a>:</h4>
<p>I think the next step should be the Hilbert projection theorem!</p>



<a name="211990259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990259">(Oct 01 2020 at 23:55)</a>:</h4>
<p>Oops, I didn't mean that.  We already have it.</p>



<a name="211990275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990275">(Oct 01 2020 at 23:55)</a>:</h4>
<p>I meant its corollary, that the dual of a Hilbert space is isomorphic to itself!</p>



<a name="211990354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990354">(Oct 01 2020 at 23:56)</a>:</h4>
<p>I really don't know what we have in mathlib in this direction at the moment, but wish I did. Perhaps I should try to add something to learn. Any pointers or requests welcome. :-)</p>



<a name="211990411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990411">(Oct 01 2020 at 23:58)</a>:</h4>
<p>Could you define the dual of a Hilbert space?  We have the dual of a Banach space: <br>
<a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/dual.html">https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/dual.html</a><br>
and probably need to do some terrible trick like the product-of-metric-spaces trick to make the dual of a Hilbert space defeq</p>



<a name="211990492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990492">(Oct 01 2020 at 23:59)</a>:</h4>
<p>But maybe I am speaking too soon, I feel like <span class="user-mention" data-user-id="311453">@Frédéric Dupuis</span> should have first pick among all the new goodies available.</p>



<a name="211990858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990858">(Oct 02 2020 at 00:04)</a>:</h4>
<p>By the way, <span class="user-mention" data-user-id="110087">@Scott Morrison</span>, mathlib does have Banach algebras.<br>
<a href="https://leanprover-community.github.io/mathlib_docs/find/normed_algebra">docs#normed_algebra</a><br>
(plus <code>complete_space</code>).  What do you want to do with them?</p>



<a name="211990873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990873">(Oct 02 2020 at 00:04)</a>:</h4>
<p>Oh! :-)</p>



<a name="211990978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211990978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211990978">(Oct 02 2020 at 00:05)</a>:</h4>
<p>I didn't realise we'd already made it that far! In a former life I worked on von Neumann algebras (well, the entirely non-analytic story of the representation theory of subfactors, but anyway...) so it's just a direction I'd love to see in mathlib.</p>



<a name="211991052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211991052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211991052">(Oct 02 2020 at 00:06)</a>:</h4>
<p>No particular concrete plans. I do have a branch where I prove Bell's inequality and Tsirelson's inequality, but I jump through some hoops to do them purely algebraically, rather than giving the natural C-star algebra proof.</p>



<a name="211991302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211991302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211991302">(Oct 02 2020 at 00:10)</a>:</h4>
<p>I don't know anything about this!  But one could probably define a C-star algebra now, if that's the first step.</p>



<a name="211993723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211993723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211993723">(Oct 02 2020 at 00:53)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> ! I agree that this dual business would be a natural next step. Working towards the spectral theorem would be nice also -- the finite dimensional case should be doable fairly soon now. <span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span>  was hoping to work on this also, I believe?</p>



<a name="211993970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211993970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211993970">(Oct 02 2020 at 00:58)</a>:</h4>
<p>Another question is whether/how to rewrite<br>
<a href="https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/hahn_banach.html">https://leanprover-community.github.io/mathlib_docs/analysis/normed_space/hahn_banach.html</a><br>
using the new class.  Maybe this can be done by identifying a core set of lemmas for the real case only, like you and Sébastien implemented with orthogonal projection.</p>



<a name="211994063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/211994063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#211994063">(Oct 02 2020 at 01:00)</a>:</h4>
<p>Right, with some luck this might turn out to be pretty easy.</p>



<a name="212040332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212040332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212040332">(Oct 02 2020 at 07:24)</a>:</h4>
<p><span class="user-mention" data-user-id="311453">@Frédéric Dupuis</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/211993723">said</a>:</p>
<blockquote>
<p>Thanks <span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> ! I agree that this dual business would be a natural next step. Working towards the spectral theorem would be nice also -- the finite dimensional case should be doable fairly soon now. <span class="user-mention silent" data-user-id="129120">Alexander Bentkamp</span>  was hoping to work on this also, I believe?</p>
</blockquote>
<p>Great work on the <code>is_R_or_C</code> front! Don't expect too much from me in the coming months, though. I need to focus on my PhD thesis.</p>



<a name="212075276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212075276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212075276">(Oct 02 2020 at 13:39)</a>:</h4>
<p>BTW, <span class="user-mention" data-user-id="110087">@Scott Morrison</span> I wouldn't mind having a look at that branch with the Bell and Tsirelson inequalities, I actually have no idea how to do this without at least C*-algebras!</p>



<a name="212143968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212143968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212143968">(Oct 03 2020 at 00:31)</a>:</h4>
<p>There's nothing much to it. We define a star_ordered_ring as an ordered ring with a star structure, and a guarantee that <code>star X * X</code> is nonnegative. Then both the CHSH and Tsirelson inequalities can be proved by appropriate sums-of-squares decompositions. I actually can't remember for Tsirelson whether I found the relevant SOS decomposition somewhere, or found it myself in mathematica.</p>



<a name="212143976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212143976" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212143976">(Oct 03 2020 at 00:31)</a>:</h4>
<p>It's on the <code>bell</code> branch.</p>



<a name="212143983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212143983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212143983">(Oct 03 2020 at 00:31)</a>:</h4>
<p>I'll PR soon.</p>



<a name="212146203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212146203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212146203">(Oct 03 2020 at 01:22)</a>:</h4>
<p>Ah I see! Is this star ordered ring something that's in common use somewhere, or did you come up with it for the occasion?</p>



<a name="212146395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212146395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212146395">(Oct 03 2020 at 01:29)</a>:</h4>
<p>I don't recall seeing it used. It seemed a reasonable intermediate step on the way to Cstar algebras.</p>



<a name="212146407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212146407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212146407">(Oct 03 2020 at 01:30)</a>:</h4>
<p>When you see people talking about the interaction of *-structures and orderings, sometimes instead people say that only the self-adjoint elements are  ordered. I'm not sure why, however; it's still only a partial order.</p>



<a name="212146951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212146951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212146951">(Oct 03 2020 at 01:44)</a>:</h4>
<p>Yeah, I don't think I've ever seen anyone extend the ordering to non-self-adjoint elements.</p>



<a name="212146961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/212146961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#212146961">(Oct 03 2020 at 01:45)</a>:</h4>
<p>(Until today I guess!)</p>



<a name="221499824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221499824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221499824">(Jan 04 2021 at 08:39)</a>:</h4>
<p>Since <a href="https://github.com/leanprover-community/mathlib/issues/4945">#4945</a>, we have:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.interval_integral</span>

<span class="kn">open</span> <span class="n">interval_integral</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="mi">1</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span><span class="bp">/</span><span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">x</span><span class="bp">^</span><span class="mi">2</span><span class="bp">/</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">x</span><span class="o">,</span>
    <span class="n">simp</span><span class="o">,</span> <span class="n">field_simp</span><span class="o">,</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">continuous_id.continuous_on</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221499918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221499918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221499918">(Jan 04 2021 at 08:40)</a>:</h4>
<p>We are still far away from the target proof (which would be <code>by compute</code>), but this is still a huge relief.</p>



<a name="221501698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221501698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221501698">(Jan 04 2021 at 09:03)</a>:</h4>
<p>Can we integrate x^n from 0 to 1 yet? x^2?</p>



<a name="221502547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221502547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221502547">(Jan 04 2021 at 09:14)</a>:</h4>
<p>(Almost) the same proof works:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.interval_integral</span>

<span class="kn">open</span> <span class="n">interval_integral</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="mi">1</span><span class="o">,</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">ext</span> <span class="n">x</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">norm_cast</span><span class="o">,</span> <span class="n">linarith</span> <span class="o">},</span>
    <span class="n">simp</span><span class="o">,</span> <span class="n">field_simp</span> <span class="o">[</span><span class="n">this</span><span class="o">],</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">continuous_pow</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">continuous_on</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221507362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221507362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221507362">(Jan 04 2021 at 10:15)</a>:</h4>
<p>How about sin(x)?</p>



<a name="221508041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221508041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221508041">(Jan 04 2021 at 10:24)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.interval_integral</span>
<span class="kn">import</span> <span class="n">analysis.special_functions.trigonometric</span>

<span class="kn">open</span> <span class="n">interval_integral</span> <span class="n">real</span>
<span class="n">open_locale</span> <span class="n">real</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="n">deriv</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="bp">-</span><span class="n">cos</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">sin</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">],</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span><span class="o">,</span> <span class="n">ring</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">continuous_sin.continuous_on</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221508201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221508201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221508201">(Jan 04 2021 at 10:26)</a>:</h4>
<p>For concrete computations like this, we clearly need a version of the lemma where we don't need to oscillate with rewriting using the derivative computation.</p>



<a name="221508847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221508847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221508847">(Jan 04 2021 at 10:34)</a>:</h4>
<p>This is exactly the scenario where something like the Mathematica link is useful. You don't need to trust whatever computes the derivative, so you can farm it out to whatever system can manage.</p>



<a name="221508928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221508928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221508928">(Jan 04 2021 at 10:36)</a>:</h4>
<p>It would be really nice to make this link actually usable for end users.</p>



<a name="221509432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221509432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221509432">(Jan 04 2021 at 10:42)</a>:</h4>
<p>A way to have a simple usable tactic would be for the user to provide the primitive. Then the tactic would try to close as many goals as possible using <code>simp</code> or <code>continuity</code> (which should be much faster once a new Lean release is made), and leave the remaining goals to the user.</p>



<a name="221509490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221509490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221509490">(Jan 04 2021 at 10:43)</a>:</h4>
<p>I think Rob is saying that Mathematica or Sage or whatever could replace the user in your plan.</p>



<a name="221509986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221509986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221509986">(Jan 04 2021 at 10:48)</a>:</h4>
<p>Indeed. It is usable if you have Mathematica installed and there's an example of it doing exactly this (with sorries of course).</p>



<a name="221510223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221510223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221510223">(Jan 04 2021 at 10:51)</a>:</h4>
<p>Sure, but it needs mathematica, so it should not stay like that in the final files. I imagine a tactic <code>compute_integral [-sin]</code>, and a version <code>compute_integral?</code> that would call mathematica and output <code>Try this: compute_integral [-sin]</code>.</p>



<a name="221510636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221510636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221510636">(Jan 04 2021 at 10:56)</a>:</h4>
<p>Already a reformulation of <code>integral_deriv_eq_sub</code> goes a long way towards making this more readable:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">measure_theory.interval_integral</span>
<span class="kn">import</span> <span class="n">analysis.special_functions.trigonometric</span>

<span class="kn">open</span> <span class="n">interval_integral</span> <span class="n">real</span> <span class="n">set</span>
<span class="n">open_locale</span> <span class="n">real</span>

<span class="kd">theorem</span> <span class="n">integral_deriv_eq_sub'</span>
  <span class="o">{</span><span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">f'</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">[</span><span class="n">measurable_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">[</span><span class="n">topological_space.second_countable_topology</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">[</span><span class="n">complete_space</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_space</span> <span class="n">ℝ</span> <span class="n">E</span><span class="o">]</span> <span class="o">[</span><span class="n">borel_space</span> <span class="n">E</span><span class="o">]</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">E</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hf'</span> <span class="o">:</span> <span class="n">deriv</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">f'</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hderiv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">interval</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">differentiable_at</span> <span class="n">ℝ</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hcont'</span> <span class="o">:</span> <span class="n">continuous_on</span> <span class="n">f'</span> <span class="o">(</span><span class="n">interval</span> <span class="n">a</span> <span class="n">b</span><span class="o">))</span> <span class="o">:</span>
  <span class="bp">∫</span> <span class="n">y</span> <span class="k">in</span> <span class="n">a..b</span><span class="o">,</span> <span class="n">f'</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">hf'</span><span class="o">,</span> <span class="n">integral_deriv_eq_sub</span> <span class="n">hderiv</span><span class="o">]</span><span class="bp">;</span> <span class="n">cc</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub'</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span><span class="n">cos</span> <span class="n">x</span><span class="o">)</span><span class="bp">;</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">continuous_sin.continuous_on</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>If now simp could do norm_num, and we had automation for continuity..</p>



<a name="221510865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221510865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221510865">(Jan 04 2021 at 10:58)</a>:</h4>
<p><code>simp</code> doesn't do <code>norm_num</code> but <code>norm_num</code> does <code>simp</code>!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub'</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span><span class="n">cos</span> <span class="n">x</span><span class="o">)</span><span class="bp">;</span> <span class="n">norm_num</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">continuous_sin.continuous_on</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221510885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221510885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221510885">(Jan 04 2021 at 10:59)</a>:</h4>
<p>We do have <code>continuity</code> but it doesn't solve this, a missing attribute?</p>



<a name="221510981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221510981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221510981">(Jan 04 2021 at 11:00)</a>:</h4>
<p>Wow, we have come a long way. This was certainly unimaginable when I first joined Gitter Lean.</p>



<a name="221511067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221511067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221511067">(Jan 04 2021 at 11:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/221510636">said</a>:</p>
<blockquote>
<p>Already a reformulation of <code>integral_deriv_eq_sub</code> goes a long way towards making this more readable:</p>
</blockquote>
<p>Yes, this is exactly what I meant by "we clearly need a version of the lemma where we don't need to oscillate with rewriting using the derivative computation".</p>



<a name="221511248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221511248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221511248">(Jan 04 2021 at 11:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/221510981">said</a>:</p>
<blockquote>
<p>Wow, we have come a long way. This was certainly unimaginable when I first joined Gitter Lean.</p>
</blockquote>
<p>That was three years ago. We're learning slower than a human student :-)</p>



<a name="221511451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221511451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221511451">(Jan 04 2021 at 11:04)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">continuous_sin</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">sin</span>
</code></pre></div>
<p>is missing a <code>continuity</code> attribute, indeed.</p>



<a name="221511791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221511791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221511791">(Jan 04 2021 at 11:08)</a>:</h4>
<p>I wonder why</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">attribute</span> <span class="o">[</span><span class="n">continuity</span><span class="o">]</span> <span class="n">continuous_sin</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub'</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span><span class="n">cos</span> <span class="n">x</span><span class="o">)</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">continuous.continuous_on</span><span class="o">]</span> <span class="o">{</span><span class="n">discharger</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">norm_num1</span> <span class="bp">&lt;|&gt;</span> <span class="n">continuity</span><span class="o">]},</span>
<span class="kd">end</span>
</code></pre></div>
<p>fails. We are left with the goal <code>1 + 1 = 2</code>, that <code>norm_num1</code> should have closed.</p>



<a name="221512287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221512287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221512287">(Jan 04 2021 at 11:14)</a>:</h4>
<p>It's because the discharger only works on side conditions, but not on the main goal.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">attribute</span> <span class="o">[</span><span class="n">continuity</span><span class="o">]</span> <span class="n">continuous_sin</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">integral_deriv_eq_sub'</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="bp">-</span><span class="n">cos</span> <span class="n">x</span><span class="o">)</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">continuous.continuous_on</span><span class="o">]</span> <span class="o">{</span><span class="n">discharger</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">continuity</span><span class="o">]}</span><span class="bp">;</span> <span class="n">try</span> <span class="o">{</span><span class="n">norm_num1</span><span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>works fine.</p>



<a name="221513898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221513898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221513898">(Jan 04 2021 at 11:37)</a>:</h4>
<p>Well this is a really great development. I know Isabelle and Coq can do all this but I wonder how long it took them and I wonder how much of the multivariable stuff they have</p>



<a name="221862204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221862204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221862204">(Jan 07 2021 at 06:49)</a>:</h4>
<p>I'm just seeing this conversation now, so I suppose I'm a bit late to the party, but I've actually been working on a few of these integration lemmas as a follow-up to <a href="https://github.com/leanprover-community/mathlib/issues/4945">#4945</a>. I hadn't yet opened a PR since I was waiting to finish some on which I am stuck, but I would be glad to open a PR with the ones that are done. I had anyway been hoping that this could serve as part of a larger push to add more integration theorems to mathlib, and this way people could just add to the PR as they please. There is already some overlap with the lemmas discussed here.</p>



<a name="221865461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221865461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221865461">(Jan 07 2021 at 07:57)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/5647">#5647</a> drops some measurability assumptions in FTC-2</p>



<a name="221865719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221865719" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221865719">(Jan 07 2021 at 08:01)</a>:</h4>
<p>At some point in the future we (also) need to drop some continuity assumptions in FTC-2, right?</p>



<a name="221865804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/221865804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#221865804">(Jan 07 2021 at 08:02)</a>:</h4>
<p>Yes</p>



<a name="222041823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222041823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222041823">(Jan 08 2021 at 06:18)</a>:</h4>
<p>With <a href="https://github.com/leanprover-community/mathlib/issues/5300">#5300</a>, we have the derivative of arcsin.  Therefore by <a href="https://github.com/leanprover-community/mathlib/issues/4945">#4945</a> we have the integral of <code>1 / sqrt (1 - x ^ 2)</code>.  So it should be possible to get the area of a circle (Freek prob 9) without much trouble.</p>
<p>I suppose one needs a few measure theory facts also -- eg, that the integral of the characteristic function of a set is the measure of the set (is this in mathlib?).</p>



<a name="222041900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222041900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222041900">(Jan 08 2021 at 06:20)</a>:</h4>
<p>exercise for <span class="user-mention" data-user-id="268315">@Anatole Dedecker</span> <span class="user-mention" data-user-id="366882">@Andrew  Souther</span> <span class="user-mention" data-user-id="314430">@Benjamin Davidson</span> <span class="user-mention" data-user-id="304228">@James Arthur</span> ...?</p>



<a name="222041901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222041901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222041901">(Jan 08 2021 at 06:20)</a>:</h4>
<p>For the Lebesgue integral, it's <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.lintegral_indicator">docs#measure_theory.lintegral_indicator</a> combined with <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.set_lintegral_one">docs#measure_theory.set_lintegral_one</a></p>



<a name="222041936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222041936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222041936">(Jan 08 2021 at 06:21)</a>:</h4>
<p>For the Bochner integral, also use <a href="https://leanprover-community.github.io/mathlib_docs/find/measure_theory.lintegral_coe_eq_integral">docs#measure_theory.lintegral_coe_eq_integral</a> or a nearby lemma</p>



<a name="222042138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222042138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222042138">(Jan 08 2021 at 06:26)</a>:</h4>
<p>One wants to apply this to a subset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> (the disc), so Floris' work on product measures should be involved somehow too.</p>



<a name="222042294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222042294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222042294">(Jan 08 2021 at 06:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/222041900">said</a>:</p>
<blockquote>
<p>exercise for <span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span> <span class="user-mention silent" data-user-id="366882">Andrew  Souther</span> <span class="user-mention silent" data-user-id="314430">Benjamin Davidson</span> <span class="user-mention silent" data-user-id="304228">James Arthur</span> ...?</p>
</blockquote>
<p>(or someone on Kevin's discord server?)</p>



<a name="222042424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222042424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew  Souther <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222042424">(Jan 08 2021 at 06:34)</a>:</h4>
<p>I'd be happy to try helping with this <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222057096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222057096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222057096">(Jan 08 2021 at 10:31)</a>:</h4>
<p>I think someone on the discord might be trying too -- just to let you know.</p>



<a name="222058431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222058431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Arthur <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222058431">(Jan 08 2021 at 10:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/222041900">said</a>:</p>
<blockquote>
<p>exercise for <span class="user-mention silent" data-user-id="268315">Anatole Dedecker</span> <span class="user-mention silent" data-user-id="366882">Andrew  Souther</span> <span class="user-mention silent" data-user-id="314430">Benjamin Davidson</span> <span class="user-mention silent" data-user-id="304228">James Arthur</span> ...?</p>
</blockquote>
<p>working on it...</p>



<a name="222142185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222142185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222142185">(Jan 09 2021 at 00:15)</a>:</h4>
<p><span class="user-mention" data-user-id="304228">@James Arthur</span>  Great!  Looks like you are working on the fact that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mn>1</mn></mrow><mn>1</mn></msubsup><mn>2</mn><msqrt><mrow><mn>1</mn><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msqrt><mi>d</mi><mi>x</mi><mo>=</mo><mi>π</mi></mrow><annotation encoding="application/x-tex">\int_{-1}^12\sqrt{1-x^2}dx=\pi</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.423159em;vertical-align:-0.41415100000000005em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0090080000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.41415100000000005em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.913389em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.873389em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12661100000000003em;"><span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span>, maybe <span class="user-mention" data-user-id="366882">@Andrew  Souther</span> can work on the other part (that the measure of the unit disc is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mn>1</mn></mrow><mn>1</mn></msubsup><mn>2</mn><msqrt><mrow><mn>1</mn><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msqrt><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\int_{-1}^12\sqrt{1-x^2}dx</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.423159em;vertical-align:-0.41415100000000005em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0090080000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.41415100000000005em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.913389em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.873389em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12661100000000003em;"><span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span>)?</p>



<a name="222193155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222193155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222193155">(Jan 09 2021 at 22:36)</a>:</h4>
<p>I'd be happy to try working on this as well</p>



<a name="222597447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222597447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Masdeu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222597447">(Jan 13 2021 at 15:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="314430">Benjamin Davidson</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/221862204">said</a>:</p>
<blockquote>
<p>I'm just seeing this conversation now, so I suppose I'm a bit late to the party, but I've actually been working on a few of these integration lemmas as a follow-up to <a href="https://github.com/leanprover-community/mathlib/issues/4945">#4945</a>. I hadn't yet opened a PR since I was waiting to finish some on which I am stuck, but I would be glad to open a PR with the ones that are done. I had anyway been hoping that this could serve as part of a larger push to add more integration theorems to mathlib, and this way people could just add to the PR as they please. There is already some overlap with the lemmas discussed here.</p>
</blockquote>
<p>I have just opened my first PR (<a href="https://github.com/leanprover-community/mathlib/pull/5724">https://github.com/leanprover-community/mathlib/pull/5724</a>), which proves integration by parts. It needs a lot of work probably to be accepted...is anyone interested in looking at it?</p>



<a name="222598326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/222598326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#222598326">(Jan 13 2021 at 15:34)</a>:</h4>
<p>Thanks, this is very welcome!  I will look later today, and someone else may well get there first :)</p>



<a name="227392980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227392980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227392980">(Feb 23 2021 at 07:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/222041823">said</a>:</p>
<blockquote>
<p>With <a href="https://github.com/leanprover-community/mathlib/issues/5300">#5300</a>, we have the derivative of arcsin.  Therefore by <a href="https://github.com/leanprover-community/mathlib/issues/4945">#4945</a> we have the integral of <code>sqrt (1 - x ^ 2)</code> (which is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mrow><mo fence="true">(</mo><mi>x</mi><msqrt><mrow><mn>1</mn><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msqrt><mo>+</mo><mi>arcsin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\tfrac{1}{2}\left(x\sqrt{1-x^2}+\arcsin(x)\right)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.263399em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord mathnormal">x</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.913389em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.873389em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12661100000000003em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop">arcsin</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>.  So it should be possible to get the area of a circle (Freek prob 9) without much trouble.</p>
<p>I suppose one needs a few measure theory facts also -- eg, that the integral of the characteristic function of a set is the measure of the set (is this in mathlib?).</p>
</blockquote>
<p>This is finally here! <a href="https://github.com/leanprover-community/mathlib/issues/6374">#6374</a></p>



<a name="227393187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227393187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227393187">(Feb 23 2021 at 07:53)</a>:</h4>
<p><span class="user-mention" data-user-id="314430">@Benjamin Davidson</span> should this be in <code>archive/</code>? I imagine this should just go somewhere in <code>src/</code></p>



<a name="227393402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227393402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227393402">(Feb 23 2021 at 07:56)</a>:</h4>
<p>We thought it shouldn't be in <code>src/</code> because our definition of a disc is not optimal. There's a paragraph in the module docstring of the file which elaborates on that.</p>



<a name="227393803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227393803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227393803">(Feb 23 2021 at 08:01)</a>:</h4>
<p>Ok, I'm not expert enough on this part of the library, but I would think that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi><mo>×</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\R \times \R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.77222em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbb">R</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> is a common enough ambient space that your work can go in the main library.</p>



<a name="227396079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227396079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227396079">(Feb 23 2021 at 08:26)</a>:</h4>
<p>This doesn't necessarily need to block the PR, but do you know how much API is missing to use the <code>euclidean_space</code> definition / how hard it would be to add?</p>



<a name="227398807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227398807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227398807">(Feb 23 2021 at 08:54)</a>:</h4>
<p>I believe <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> is working on it.</p>



<a name="227398929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/227398929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#227398929">(Feb 23 2021 at 08:55)</a>:</h4>
<p>Let me link <a href="#narrow/stream/116395-maths/topic/Fubini's.20for.20fin.202.20-.3E.20R/near/222194513">this discussion</a> for reference.</p>



<a name="228351477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/228351477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Benjamin Davidson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#228351477">(Mar 02 2021 at 04:26)</a>:</h4>
<p>Pertaining to the <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/221499824">earlier discussion</a> in this topic about integration...<br>
<span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/228351040">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/5c016137dd39d63112646c04432491130c6f5713">feat(analysis/special_functions/integrals): some simple integration l…</a></strong><br>
feat(analysis/special_functions/integrals): some simple integration lemmas (<a href="https://github.com/leanprover-community/mathlib/issues/6216">#6216</a>)</p>
<p>Integration of some simple functions, including <code>sin</code>, <code>cos</code>, <code>pow</code>, and <code>inv</code>. @ADedecker and I are working on the integrals of some more intricate functions, which we hope to add in a subsequent (series of) PR(s).</p>
<p>With this PR, simple integrals are now computable by <code>norm_num</code>. Here are some examples:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.special_functions.integrals</span>
<span class="kn">open</span> <span class="n">real</span> <span class="n">interval_integral</span>
<span class="n">open_locale</span> <span class="n">real</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="o">,</span> <span class="n">sin</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="n">π</span><span class="bp">/</span><span class="mi">4</span><span class="o">,</span> <span class="n">cos</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">sqrt</span> <span class="mi">2</span> <span class="bp">/</span> <span class="mi">2</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span><span class="o">:</span><span class="n">ℝ</span> <span class="k">in</span> <span class="mi">2</span><span class="bp">..</span><span class="mi">4</span><span class="o">,</span> <span class="n">x</span><span class="bp">^</span><span class="o">(</span><span class="mi">3</span><span class="o">:</span><span class="n">ℕ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">60</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="mi">2</span><span class="o">,</span> <span class="bp">-</span><span class="n">exp</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">-</span> <span class="n">exp</span> <span class="mi">2</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span><span class="o">:</span><span class="n">ℝ</span> <span class="k">in</span> <span class="o">(</span><span class="bp">-</span><span class="mi">1</span><span class="o">)</span><span class="bp">..</span><span class="mi">4</span><span class="o">,</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">15</span><span class="bp">/</span><span class="mi">2</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span><span class="o">:</span><span class="n">ℝ</span> <span class="k">in</span> <span class="mi">8</span><span class="bp">..</span><span class="mi">11</span><span class="o">,</span> <span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">ℝ</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">3</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span><span class="o">:</span><span class="n">ℝ</span> <span class="k">in</span> <span class="mi">2</span><span class="bp">..</span><span class="mi">3</span><span class="o">,</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">log</span> <span class="o">(</span><span class="mi">3</span><span class="bp">/</span><span class="mi">2</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">norm_num</span>
<span class="kd">example</span> <span class="o">:</span> <span class="bp">∫</span> <span class="n">x</span><span class="o">:</span><span class="n">ℝ</span> <span class="k">in</span> <span class="mi">0</span><span class="bp">..</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="n">x</span><span class="bp">^</span><span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="n">π</span><span class="bp">/</span><span class="mi">4</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span>
</code></pre></div>
<p><code>integral_deriv_eq_sub'</code> courtesy of @gebner.<br>
<a href="https://github.com/leanprover-community/mathlib/commit/5c016137dd39d63112646c04432491130c6f5713">https://github.com/leanprover-community/mathlib/commit/5c016137dd39d63112646c04432491130c6f5713</a></p>
</blockquote>



<a name="229526550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/229526550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#229526550">(Mar 09 2021 at 18:19)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6395">#6395</a> <a href="https://leanprover-community.github.io/mathlib_docs/find/paracompact_space">docs#paracompact_space</a> merged, <a href="https://github.com/leanprover-community/mathlib/issues/6478">#6478</a> shrinking lemma is <code>ready-to-merge</code></p>



<a name="231002059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231002059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231002059">(Mar 19 2021 at 10:30)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6631">#6631</a>: <em>feat(field_theory/abel_ruffini): solvable by radicals implies solvable Galois group</em></p>



<a name="231002176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231002176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231002176">(Mar 19 2021 at 10:31)</a>:</h4>
<p>Was this added to our mathlib overview?</p>



<a name="231003096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231003096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231003096">(Mar 19 2021 at 10:39)</a>:</h4>
<p>It was not</p>



<a name="231003446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231003446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231003446">(Mar 19 2021 at 10:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Good point, sorry that I forgot to check this before merging.<br>
<span class="user-mention" data-user-id="253861">@Thomas Browning</span> would you please PR an extra entry to the overview?</p>



<a name="231092643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231092643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231092643">(Mar 19 2021 at 21:31)</a>:</h4>
<p>Do we have unsolvability of the quintic yet? I assume this was the main missing piece</p>



<a name="231092777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231092777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231092777">(Mar 19 2021 at 21:32)</a>:</h4>
<p>I'm pretty sure there was a mammoth effort to prove that x^5-x-1 had Galois group S_5 :-) (although they did go for a rather roundabout proof...). So perhaps all that's left is that S_5 is not solvable?</p>



<a name="231103075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231103075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231103075">(Mar 19 2021 at 23:20)</a>:</h4>
<p>Two things left: S_5 is not solvable (practically done, just needs to be cleaned up &amp; PRed), and constructing a polynomial with Galois group S_5.<br>
For the latter there are two choices: x^5-4x+2 (we've done a fair amount of work in this direction, but there's more left), or x^n-x-1 (irreducibility is done and in the PR process, but getting Galois group S_n is harder and will require more algebraic number theory). We'll probably go with the former, but I would like to do the latter at some point.</p>



<a name="231103309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231103309" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231103309">(Mar 19 2021 at 23:22)</a>:</h4>
<p>The painful thing about x^5-4x+2 is that you have to work hands-on with its roots. In particular you have to show that it has 3 real roots, so that complex conjugation gives a transposition.</p>



<a name="231103721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231103721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231103721">(Mar 19 2021 at 23:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253861">Thomas Browning</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231103309">said</a>:</p>
<blockquote>
<p>The painful thing about x^5-4x+2 is that you have to work hands-on with its roots. In particular you have to show that it has 3 real roots, so that complex conjugation gives a transposition.</p>
</blockquote>
<p>This is an intermediate value theorem argument, right?</p>



<a name="231103753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231103753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231103753">(Mar 19 2021 at 23:27)</a>:</h4>
<p>Or is there a better, "purely algebraic" way?</p>



<a name="231104513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231104513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231104513">(Mar 19 2021 at 23:36)</a>:</h4>
<p>It's an intermediate value theorem argument, but you also have to argue that those are the only 3 real roots</p>



<a name="231104623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231104623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231104623">(Mar 19 2021 at 23:38)</a>:</h4>
<p>And even then, it's painful to state and show that complex conjugation is a transposition</p>



<a name="231105604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231105604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231105604">(Mar 19 2021 at 23:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253861">Thomas Browning</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231104513">said</a>:</p>
<blockquote>
<p>It's an intermediate value theorem argument, but you also have to argue that those are the only 3 real roots</p>
</blockquote>
<p>For this part, I guess we need an existence-and-uniqueness version of the intermediate value theorem, which applies when the function is monotone.</p>



<a name="231105743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231105743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231105743">(Mar 19 2021 at 23:53)</a>:</h4>
<p>The transposition argument sounds unpleasant :)</p>



<a name="231109695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231109695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231109695">(Mar 20 2021 at 00:53)</a>:</h4>
<p>We have calculus now right? Isn't there even some old method of Newton for counting real roots of polynomials?</p>



<a name="231113167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231113167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231113167">(Mar 20 2021 at 01:55)</a>:</h4>
<p>There's also an <a href="https://en.wikipedia.org/wiki/Sturm%27s_theorem">algorithm</a> that takes the coefficients and tells the <em>number</em> of real roots on a given interval.</p>



<a name="231113208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231113208" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231113208">(Mar 20 2021 at 01:56)</a>:</h4>
<p>(on a given interval of <code>ereal</code>)</p>



<a name="231113346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231113346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231113346">(Mar 20 2021 at 01:59)</a>:</h4>
<p>Probably formalizing it (as a theorem + tactic) is a good project on its own (but not required to deal with 1 specific polynomial).</p>



<a name="231120131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231120131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231120131">(Mar 20 2021 at 04:13)</a>:</h4>
<p>Note that this is essentially nr.100 from Freek's list <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="231120404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231120404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231120404">(Mar 20 2021 at 04:19)</a>:</h4>
<p>To prove x^5-4x+2 has 3 real roots, it has at least 3 by the intermediate value theorem (evaluate at  -large, 0, 1, large), and its derivative is 5x^4-4, which is convex, so it has at most 2 roots (rolle's theorem implies that if it has &gt;3 roots then the derivative has &gt;2 roots).</p>



<a name="231120481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231120481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231120481">(Mar 20 2021 at 04:20)</a>:</h4>
<p>Yup, that's the proof that I had in mind</p>



<a name="231121914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231121914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231121914">(Mar 20 2021 at 04:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231120131">said</a>:</p>
<blockquote>
<p>Note that this is essentially nr.100 from Freek's list <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>
</blockquote>
<p>A while ago I had a go at this, not sure I got very far and right now I can't continue this. But this is definitely a good project if someone wants to continue, or just start afresh <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span>. No idea what state this is in or even what proof I was following,  so caveat emptor</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">data.polynomial.field_division</span>
<span class="kn">import</span> <span class="n">ring_theory.polynomial.basic</span>
<span class="kn">import</span> <span class="n">init.algebra.order</span>
<span class="kn">import</span> <span class="n">data.nat.parity</span>
<span class="kn">import</span> <span class="n">tactic</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kd">noncomputable theory</span>

<span class="kn">namespace</span> <span class="n">polynomial</span>
<span class="sd">/-- pairs up consecutive elements of a list applies f and returns a list of length one less -/</span>
<span class="kd">def</span> <span class="n">map_adjacent</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">list</span> <span class="n">β</span> <span class="o">:=</span>
<span class="n">l.zip_with</span> <span class="n">f</span> <span class="n">l.tail</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">+</span><span class="o">)</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">+</span><span class="o">)</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="bp">&lt;</span> <span class="n">y</span> <span class="o">:</span> <span class="n">bool</span><span class="o">))</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">),</span> <span class="o">(</span><span class="n">xor</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="n">bool</span><span class="o">))</span> <span class="o">([</span><span class="bp">-</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">:</span> <span class="n">list</span> <span class="n">ℚ</span><span class="o">)</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">linear_ordered_field</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span>
<span class="sd">/-- the (multi)-set of positive roots of a polynomial -/</span>
<span class="kd">def</span> <span class="n">positive_roots</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">R</span> <span class="o">:=</span> <span class="n">p.roots.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">mem_positive_roots</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">p.positive_roots</span> <span class="bp">↔</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">p.roots</span> <span class="bp">∧</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">multiset.mem_filter</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="o">{</span><span class="n">x</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_X_sub_C</span><span class="o">,</span> <span class="n">multiset.filter_cons_of_pos</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">multiset.filter_zero</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_normalize_eq_positive_roots</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">normalize</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="n">p.positive_roots</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_normalize</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_mul</span> <span class="o">{</span><span class="n">q</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">):</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="n">p.positive_roots</span> <span class="bp">+</span> <span class="n">q.positive_roots</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_mul</span> <span class="n">hpq</span><span class="o">,</span> <span class="n">multiset.filter_add</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_empty_of_positive_coeffs</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">∈</span> <span class="n">p.support</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p.coeff</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.positive_roots</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_contra</span> <span class="n">he</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">he</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">hp</span><span class="o">,</span> <span class="n">roots_zero</span><span class="o">,</span> <span class="n">multiset.empty_eq_zero</span><span class="o">,</span> <span class="n">multiset.filter_zero</span><span class="o">],</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">multiset.exists_mem_of_ne_zero</span> <span class="n">he</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">mem_positive_roots.mp</span> <span class="n">hx</span> <span class="k">with</span> <span class="n">hxr</span> <span class="n">hxp</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">,</span> <span class="n">is_root.def</span><span class="o">,</span> <span class="n">eval_eq_sum</span><span class="o">]</span> <span class="n">at</span> <span class="n">hxr</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">lt_irrefl</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">R</span><span class="o">),</span>
  <span class="n">nth_rewrite_rhs</span> <span class="mi">0</span> <span class="bp">←</span> <span class="n">hxr</span><span class="o">,</span>
  <span class="n">convert</span> <span class="n">finset.sum_lt_sum_of_nonempty</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">swap</span><span class="o">,</span>
  <span class="n">exact</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">pi.zero_apply</span><span class="o">,</span> <span class="n">finset.sum_const_zero</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">nonempty_support_iff.mpr</span> <span class="n">hp</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="n">specialize</span> <span class="n">h</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">pi.zero_apply</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">mul_pos</span> <span class="n">h</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hxp</span> <span class="n">n</span><span class="o">),</span>
<span class="kd">end</span>

<span class="sd">/-- The sign changes of the non-zero coefficients of a polynomial-/</span>
<span class="kd">def</span> <span class="n">sign_changes</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">list</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">j</span><span class="o">)</span> <span class="o">(</span><span class="n">p.support.sort</span> <span class="o">(</span><span class="bp">≤</span><span class="o">))</span>
<span class="sd">/-- The number of sign changes of the non-zero coefficients of a polynomial-/</span>
<span class="kd">def</span> <span class="n">card_sign_changes</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">(</span><span class="n">sign_changes</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">count</span> <span class="n">false</span>
<span class="k">#print</span> <span class="n">card_sign_changes</span>
<span class="c1">--lemma card_sign_changes_mul_X_sub_C_of_zero_lt (p : polynomial R) (x : R) (hx : 0 &lt; x) :</span>
<span class="c1">--   :=sorry</span>
<span class="k">#check</span> <span class="n">coeff_mul_X_sub_C</span>

<span class="kd">lemma</span> <span class="n">support_C_mul_of_ne_zero</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span> <span class="bp">=</span> <span class="n">p.support</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">mem_support_iff_coeff_ne_zero</span><span class="o">,</span> <span class="n">h</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">card_sign_changes_normalize_eq_card_sign_changes</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">normalize</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="bp">=</span> <span class="n">p.card_sign_changes</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">card_sign_changes</span><span class="o">,</span> <span class="n">sign_changes</span><span class="o">],</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">coe_norm_unit</span><span class="o">,</span> <span class="n">coeff_mul_C</span><span class="o">,</span> <span class="n">normalize_apply</span><span class="o">],</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">↔</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">(</span><span class="kd">by</span> <span class="n">ring</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">),</span>
    <span class="k">have</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span> <span class="o">:=</span> <span class="n">pow_two_pos_of_ne_zero</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span> <span class="c1">-- TODO why does nlinarith need this</span>
    <span class="n">rw</span> <span class="o">(</span><span class="kd">by</span> <span class="o">{</span><span class="n">intro</span> <span class="n">t</span><span class="bp">;</span> <span class="n">split</span><span class="bp">;</span> <span class="n">intro</span> <span class="n">h</span><span class="bp">;</span> <span class="n">nlinarith</span><span class="o">,</span> <span class="o">}</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">↔</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">t</span><span class="o">),</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">this</span> <span class="o">(</span><span class="n">norm_unit</span> <span class="n">p.leading_coeff</span><span class="o">)</span><span class="bp">.</span><span class="n">ne_zero</span><span class="o">],</span>
  <span class="n">congr'</span> <span class="mi">3</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">support_C_mul_of_ne_zero</span> <span class="o">((</span><span class="n">norm_unit</span> <span class="o">(</span><span class="n">leading_coeff</span> <span class="n">p</span><span class="o">))</span><span class="bp">.</span><span class="n">ne_zero</span><span class="o">),</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">coeff_mul_X_sub_C'</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">coeff</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">r</span><span class="o">))</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="k">if</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="k">then</span> <span class="n">coeff</span> <span class="n">p</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="k">else</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">-</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">r</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split_ifs</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">coeff_mul_X_sub_C</span><span class="o">],</span>
    <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">this</span><span class="o">],</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">card_sign_changes_X_sub_C_mul</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">coeff</span> <span class="n">p</span> <span class="mi">0</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.card_sign_changes</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="o">((</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="bp">*</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">card_sign_changes</span><span class="o">,</span> <span class="n">sign_changes</span><span class="o">,</span> <span class="n">coeff_mul_X_sub_C'</span><span class="o">],</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="c1">--simp only [finset.mem_sort],</span>
    <span class="n">rw</span> <span class="n">mem_support_iff_coeff_ne_zero</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_coeff_zero</span><span class="o">,</span> <span class="n">zero_sub</span><span class="o">,</span> <span class="n">coeff_X_zero</span><span class="o">,</span> <span class="n">ne.def</span><span class="o">,</span> <span class="n">neg_eq_zero</span><span class="o">,</span> <span class="n">coeff_C_zero</span><span class="o">,</span> <span class="n">coeff_sub</span><span class="o">,</span>
      <span class="n">mul_eq_zero</span><span class="o">],</span>
    <span class="n">push_neg</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="n">hp</span><span class="o">,</span> <span class="n">ne_of_gt</span> <span class="n">hx</span><span class="o">⟩,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">finset.sort</span> <span class="n">has_le.le</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span><span class="o">)</span><span class="bp">.</span><span class="n">head</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">list.nth_le_zero</span><span class="o">,</span> <span class="n">finset.sorted_zero_eq_min'</span><span class="o">],</span>
    <span class="n">apply</span> <span class="n">nat.eq_zero_of_le_zero</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">finset.min'_le</span> <span class="n">_</span> <span class="n">_</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">finset.length_sort</span><span class="o">,</span> <span class="n">finset.card_pos</span><span class="o">],</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">this</span><span class="o">⟩,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">finset.sort</span> <span class="n">has_le.le</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span> <span class="k">with</span> <span class="n">hd</span> <span class="n">tl</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">subst</span> <span class="n">this</span><span class="o">,</span>
  <span class="c1">--simp_rw ← list.eq_ this,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">descartes_sign_rule'</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">p.positive_roots.card</span> <span class="bp">≤</span> <span class="n">card_sign_changes</span> <span class="n">p</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">h</span> <span class="o">:</span> <span class="n">p.positive_roots.card</span> <span class="n">generalizing</span> <span class="n">p</span> <span class="n">hp</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">zero_le</span> <span class="o">(</span><span class="n">card_sign_changes</span> <span class="n">p</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">multiset.card_pos_iff_exists_mem.mp</span> <span class="o">(</span><span class="kd">by</span> <span class="n">rw</span> <span class="n">h</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">nat.succ_pos</span> <span class="n">n</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">mem_positive_roots</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:=</span> <span class="n">mul_div_eq_iff_is_root.mpr</span> <span class="o">((</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">hx.1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">,</span> <span class="n">positive_roots_mul</span><span class="o">,</span> <span class="n">multiset.card_add</span><span class="o">],</span>
    <span class="k">calc</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="o">:</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="n">hx.2</span><span class="o">]</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:</span> <span class="n">nat.add_le_add_left</span> <span class="n">_</span> <span class="mi">1</span>
      <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">add_comm</span> <span class="n">_</span> <span class="n">_</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="o">((</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:</span> <span class="n">card_sign_changes_X_sub_C_mul</span> <span class="n">hx.2</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span> <span class="n">this</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
      <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
      <span class="kd">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">,</span> <span class="n">positive_roots_mul</span> <span class="n">hp</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">multiset.card_add</span><span class="o">,</span> <span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="n">hx.2</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">nat.succ.inj</span> <span class="n">h</span><span class="o">,</span>
      <span class="kd">end</span><span class="o">,</span>
      <span class="n">convert</span> <span class="n">ih</span> <span class="o">(</span><span class="n">right_ne_zero_of_mul</span> <span class="n">hp</span><span class="o">)</span> <span class="n">this</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_div_eq_iff_is_root.mpr</span> <span class="o">((</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">hx.1</span><span class="o">),</span>
      <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">descartes_sign_rule</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">d</span><span class="o">,</span> <span class="n">card_sign_changes</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">p.positive_roots.card</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hm</span> <span class="o">:</span> <span class="n">g.monic</span><span class="o">),</span>
    <span class="bp">∃</span> <span class="n">d</span><span class="o">,</span> <span class="n">card_sign_changes</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">g.positive_roots.card</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">,</span>
  <span class="kd">begin</span>
    <span class="n">specialize</span> <span class="n">this</span> <span class="o">(</span><span class="n">polynomial.monic_normalize</span> <span class="n">hp</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">card_sign_changes_normalize_eq_card_sign_changes</span><span class="o">,</span>
      <span class="n">positive_roots_normalize_eq_positive_roots</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">this</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">clear_dependent</span> <span class="n">p</span><span class="o">,</span>
  <span class="n">intros</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
<span class="kd">end</span> <span class="n">polynomial</span>

<span class="bp">#</span><span class="n">lint</span>
</code></pre></div>



<a name="231122129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231122129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231122129">(Mar 20 2021 at 04:52)</a>:</h4>
<p>Maybe I was following <a href="http://sepwww.stanford.edu/data/media/public/oldsep/stew_save/descartes.pdf">http://sepwww.stanford.edu/data/media/public/oldsep/stew_save/descartes.pdf</a> ?</p>



<a name="231122132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231122132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231122132">(Mar 20 2021 at 04:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231120404">said</a>:</p>
<blockquote>
<p>To prove x^5-4x+2 has 3 real roots, it has at least 3 by the intermediate value theorem (evaluate at  -large, 0, 1, large), and its derivative is 5x^4-4, which is convex, so it has at most 2 roots (rolle's theorem implies that if it has &gt;3 roots then the derivative has &gt;2 roots).</p>
</blockquote>
<p>To rephrase this slightly:  consider the three intervals <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>−</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(-\infty, -\sqrt{2}/\sqrt[4]{5}]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">−</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">]</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo separator="true">,</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\sqrt{2}/\sqrt[4]{5}, \sqrt{2}/\sqrt[4]{5}]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">]</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo stretchy="false">]</mo><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[\sqrt{2}/\sqrt[4]{5}], \infty)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">5</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">)</span></span></span></span>.  The function is monotone on each of these intervals and on each of the intervals the function when evaluated at the two endpoints has different signs.  So there are three roots.</p>



<a name="231122166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231122166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231122166">(Mar 20 2021 at 04:53)</a>:</h4>
<p>Do we really need convexity, Rolle, etc?  (Of course we do have these things if needed.)</p>



<a name="231141199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231141199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231141199">(Mar 20 2021 at 11:39)</a>:</h4>
<p>evaluating <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><mo>=</mo><msup><mi>x</mi><mn>5</mn></msup><mo>−</mo><mn>4</mn><mi>x</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">f(x):=x^5-4x+2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt 2/\sqrt[4]5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">2</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">5</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span></span></span></span> and checking the sign sounds painful. Still, I think this works if you instead use monotonicity in the middle interval to prove <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mo>−</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo stretchy="false">)</mo><mo>≥</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(-\sqrt 2/\sqrt[4]5)\ge f(0)&gt;0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">−</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">2</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">5</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> and monotonicity in the last interval to show <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msqrt><mn>2</mn></msqrt><mi mathvariant="normal">/</mi><mroot><mn>5</mn><mn>4</mn></mroot><mo stretchy="false">)</mo><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(\sqrt 2/\sqrt[4]5)\le f(1)&lt;0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">2</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;">5</span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg height="1.08em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 1080" width="400em"><path d="M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></p>



<a name="231143815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231143815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231143815">(Mar 20 2021 at 12:33)</a>:</h4>
<p>Checking the sign shouldn't be painful. Let x be sqrt(2)/5^{1/4}. It's easy enough to prove x^4=4/5 so now all you need is the sign of 2-3.2x which means you have to figure out which is bigger, 2 or 3.2x, but these are both positive so you can raise to the 4th power again.</p>



<a name="231143890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/231143890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#231143890">(Mar 20 2021 at 12:34)</a>:</h4>
<p>Oh but I've just reread Mario's post and saw that he has a way around this :-)</p>



<a name="232041452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232041452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232041452">(Mar 26 2021 at 22:40)</a>:</h4>
<p>Poincaré recurrence theorem <a href="https://github.com/leanprover-community/mathlib/issues/2311">#2311</a> is now merged to master</p>



<a name="232193602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232193602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232193602">(Mar 28 2021 at 21:12)</a>:</h4>
<p>I see <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> has <a href="https://github.com/leanprover-community/mathlib/blob/4487e73950b76716e953bedea3e2b8f1b5d1c80b/src/geometry/manifold/instances/circle.lean#L79-L80">made the unit circle into a Lie group</a>. I love work like this, because it shows that the general machinery we are creating can actually be used in practice. As many people will be aware, this is not automatic: for example we have a definition of complexes of objects in a category in mathlib and are just beginning to discover that actually it needs to be modified a little if we want to get a theory of cohomology of complexes which we can work with. One reason that it is so important to aim for the stars is that when you have grandiose goals in mind it forces you to get foundational stuff into mathlib and to get it working. If you look at e.g. the odd order theorem in Coq you see that this lofty goal ended up driving the development of mathcomp, for example. </p>
<p>Another lofty goal I always have at the back of my mind is the theory of automorphic forms and automorphic representations. The pre-adelic definition of these things involves <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mi mathvariant="normal">∞</mi></msup></mrow><annotation encoding="application/x-tex">C^\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span></span></span></span></span></span></span></span> functions on quotients of Lie groups like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\R)/GL_n(\Z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mclose">)</span></span></span></span> (or equivalently functions on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\R)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> which are <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\Z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">Z</span></span><span class="mclose">)</span></span></span></span>-invariant) and which satisfy some differential equations coming from the universal enveloping algebra of the Lie algebra. With work of <span class="user-mention" data-user-id="240862">@Oliver Nash</span> and others on Lie algebras, and now this, one can see these ideas becoming a bit closer to reality. How far are we from having groups like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\R)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> as Lie groups? Do we know that the tangent space at the origin of a Lie group is naturally a Lie algebra? </p>
<p>One of the big problems with Hales' dream to start formalising abstracts is that we still don't have so many of the words that research mathematicians use. I don't really have a good feeling as to what is missing in subjects like geometry, analysis etc, but in number theory there are a lot of fundamental definitions which are slowly moving from "crazy dream" to "actually might be possible if someone sits down and does it". Definitions are hard, and we don't always get them right first time. But our approach of "give it a go and see if it works" is I think paying big dividends. Congratulations to Heather, Yury, Sebastien, Nicolo and the others involved for making Lie groups and, importantly, giving a non-trivial example!</p>



<a name="232194328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232194328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232194328">(Mar 28 2021 at 21:25)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\mathbb{k})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">k</span></span><span class="mclose">)</span></span></span></span> is completely doable!  See<br>
<a href="#narrow/stream/116395-maths/topic/GL(n)">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/GL(n)</a><br>
I think that <span class="user-mention" data-user-id="267205">@Nicolò Cavalleri</span> may even have made a start on it.  If not, it'd be a great exercise for someone looking to cut her teeth on the manifolds library.</p>



<a name="232199584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232199584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232199584">(Mar 28 2021 at 23:04)</a>:</h4>
<p>Oh also, if someone wants to prove that the unit quaternions are a Lie group, I think it would follow by very much the same argument as for the circle.</p>



<a name="232199910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232199910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232199910">(Mar 28 2021 at 23:09)</a>:</h4>
<p>someone could do the unit reals as well, just to check there are no off-by-one errors :-)</p>



<a name="232199962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232199962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232199962">(Mar 28 2021 at 23:10)</a>:</h4>
<p>My MSc student Shenyang Wu defined group cohomology as cocycles over coboundaries, and it was only when he was checking some examples about a week before the project deadline he discovered that his <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">H^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> was actually <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">H^{n+1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> :-) Luckily he had time to fix it!</p>



<a name="232200013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232200013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232200013">(Mar 28 2021 at 23:11)</a>:</h4>
<p>Unit octonions form a Lie loop? :-)</p>



<a name="232200014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232200014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232200014">(Mar 28 2021 at 23:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232199910">said</a>:</p>
<blockquote>
<p>someone could do the unit reals as well, just to check there are no off-by-one errors :-)</p>
</blockquote>
<p>Do we have an instance stating that all finite groups are Lie groups?</p>



<a name="232200730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232200730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232200730">(Mar 28 2021 at 23:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123965">Bryan Gin-ge Chen</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232200014">said</a>:</p>
<blockquote>
<p>Do we have an instance stating that all finite groups are Lie groups?</p>
</blockquote>
<p>No, I don't think so, another good exercise for "someone" ... maybe the first step is to show that a set equipped with the discrete topology is a 0-dimensional smooth manifold.</p>



<a name="232202686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232202686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Michael Roberts <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232202686">(Mar 29 2021 at 00:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232200013">said</a>:</p>
<blockquote>
<p>Unit octonions form a Lie loop? :-)</p>
</blockquote>
<p>A nice small project, if not already done, is that the three Moufang identities all imply each other, and that octonions form a Moufang loop.</p>



<a name="232204005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232204005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232204005">(Mar 29 2021 at 00:26)</a>:</h4>
<p>Do we have the octonions in the first place? I know some students in the past did the Cayley-Dickson construction, but as far as I know it wasn't PR'd.</p>



<a name="232204039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232204039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232204039">(Mar 29 2021 at 00:27)</a>:</h4>
<p>I don't think we have the octonions yet, but we do have quaternions.</p>



<a name="232204282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232204282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232204282">(Mar 29 2021 at 00:32)</a>:</h4>
<p>It'd be good to open mathlib issues for all these project ideas that are "within reach".</p>



<a name="232204975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232204975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232204975">(Mar 29 2021 at 00:46)</a>:</h4>
<p>Hmm... I think there would be too many.</p>



<a name="232204985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232204985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232204985">(Mar 29 2021 at 00:46)</a>:</h4>
<p>I agree we should have some mechanism!</p>



<a name="232243865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232243865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232243865">(Mar 29 2021 at 10:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232193602">said</a>:</p>
<blockquote>
<p>Do we know that the tangent space at the origin of a Lie group is naturally a Lie algebra? </p>
</blockquote>
<p>We do not yet know this but it is on one of my TODO lists. See also this old conversation: <a href="#narrow/stream/116395-maths/topic/Lie.20groups.20and.20Lie.20algebras/near/198654172">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lie.20groups.20and.20Lie.20algebras/near/198654172</a></p>
<blockquote>
<p>Congratulations to Heather, Yury, Sebastien, Nicolo and the others involved for making Lie groups and, importantly, giving a non-trivial example!</p>
</blockquote>
<p>Yes indeed. Congratulations and thank you to all of you. Seeing Lie groups come to life is really exciting!</p>



<a name="232413688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232413688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232413688">(Mar 30 2021 at 12:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232194328">said</a>:</p>
<blockquote>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL_n(\mathbb{k})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">k</span></span><span class="mclose">)</span></span></span></span> is completely doable!  See<br>
<a href="#narrow/stream/116395-maths/topic/GL(n)">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/GL(n)</a><br>
I think that <span class="user-mention silent" data-user-id="267205">Nicolò Cavalleri</span> may even have made a start on it.  If not, it'd be a great exercise for someone looking to cut her teeth on the manifolds library.</p>
</blockquote>
<p>Hey yes I did most of the work and I will publish it if someone wants to go on from what I've done. It is just very old code (I think from august) and I am having problems merging it, but I will write here when I'll be done</p>



<a name="232497704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232497704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232497704">(Mar 30 2021 at 21:03)</a>:</h4>
<p>I formalized Urysohn's lemma in <a href="https://github.com/leanprover-community/mathlib/issues/6967">#6967</a>. After a few attempts to formalize the proof from <a href="https://ncatlab.org/nlab/show/Urysohn%27s+lemma#Proof">ncatlab</a> I found a way to do it without "<code>C x → C y → C ((x + y) / 2)</code> recursion on dyadic rationals" (probably reinvented another wheel).</p>



<a name="232497809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232497809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232497809">(Mar 30 2021 at 21:03)</a>:</h4>
<p>The "dyadic recursion" is much easier on paper than in Lean.</p>



<a name="232497951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232497951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232497951">(Mar 30 2021 at 21:04)</a>:</h4>
<p>(especially if you want to construct a monotone family of open sets and use some properties of this family)</p>



<a name="232498501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232498501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232498501">(Mar 30 2021 at 21:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232497809">said</a>:</p>
<blockquote>
<p>The "dyadic recursion" is much easier on paper than in Lean.</p>
</blockquote>
<p>Could you say a bit more about why it's easier on paper than in Lean? I'm interested in arguments which are tricky in Lean when they don't feel tricky in maths</p>



<a name="232498802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232498802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232498802">(Mar 30 2021 at 21:11)</a>:</h4>
<p>Have a look at the proof (see link above) and try to imagine how you will formalize it.</p>



<a name="232499600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232499600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232499600">(Mar 30 2021 at 21:16)</a>:</h4>
<p>In one of the approaches, you have <code>step : Π a b : α, a &lt; b → {c // a &lt; c ∧ c &lt; b}</code> (here <code>α = opens X</code>, <code>a &lt; b</code> means <code>closure a ⊆ b</code>), <code>a0</code>, <code>a1</code>, and <code>h01 : a0 &lt; a1</code>; then you need to construct a monotone function on dyadic rationals by using <code>f ((x + y) / 2) = h (f x) (f y) _</code>, where <code>_</code> is a recursive proof of <code>f x &lt; f y</code>.</p>



<a name="232499610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232499610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232499610">(Mar 30 2021 at 21:16)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>, this is great, I was going to try to resurrect Reid's proof of Urysohn (mentioned <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Urysohn's.20Lemma.3F">here</a>) or re-prove it myself in the coming weeks.  Can I ask what you need it for?  I would like to know that continuous functions approximate in L^p the characteristic function of a measurable set (wrt a Radon measure) -- maybe this is something you are working on?</p>



<a name="232499686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232499686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232499686">(Mar 30 2021 at 21:17)</a>:</h4>
<p>Or, more generally (what I really want), that continuous functions are dense in L^p.</p>



<a name="232499735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232499735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232499735">(Mar 30 2021 at 21:17)</a>:</h4>
<p>I'm working on smooth partitions of unity and it seems strange to formalize smooth partitions of unity without formalizing continuous version first.</p>



<a name="232500005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500005">(Mar 30 2021 at 21:19)</a>:</h4>
<p>So, I'm going to PR continuous partitions of unity and Tietze extension theorem.</p>



<a name="232500197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500197">(Mar 30 2021 at 21:21)</a>:</h4>
<p>OK, I will work on consequences for L^p I mentioned, if that won't step on your toes.</p>



<a name="232500311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500311">(Mar 30 2021 at 21:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232499600">said</a>:</p>
<blockquote>
<p>In one of the approaches, you have <code>step : Π a b : α, a &lt; b → {c // a &lt; c ∧ c &lt; b}</code> (here <code>α = opens X</code>, <code>a &lt; b</code> means <code>closure a ⊆ b</code>), <code>a0</code>, <code>a1</code>, and <code>h01 : a0 &lt; a1</code>; then you need to construct a monotone function on dyadic rationals by using <code>f ((x + y) / 2) = h (f x) (f y) _</code>, where <code>_</code> is a recursive proof of <code>f x &lt; f y</code>.</p>
</blockquote>
<p>Right - does this not work?</p>



<a name="232500385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500385">(Mar 30 2021 at 21:22)</a>:</h4>
<p>This probably works but I failed to do it in a couple of evenings.</p>



<a name="232500406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500406">(Mar 30 2021 at 21:23)</a>:</h4>
<p>And I did the other proof in 1 morning.</p>



<a name="232500444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500444">(Mar 30 2021 at 21:23)</a>:</h4>
<p>And in less than 500 LOC including comments.</p>



<a name="232500556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500556">(Mar 30 2021 at 21:24)</a>:</h4>
<p>I see, so the standard proof is just harder to formalise than the one you found?</p>



<a name="232500685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232500685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232500685">(Mar 30 2021 at 21:25)</a>:</h4>
<p>Yes (or I missed some nice way to formalize it).</p>



<a name="232502023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232502023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232502023">(Mar 30 2021 at 21:37)</a>:</h4>
<p>I don't know this argument very well, so maybe this is nonsense / not helpful, but <a href="https://leanprover-community.github.io/mathlib_docs/find/order.ideal_of_cofinals">docs#order.ideal_of_cofinals</a> is meant to help with some abstraction for this kind of countable recursion (if you want to use something like the dyadic argument). Here you would define a poset <code>P</code> of 'finite approximations', let's say a term consists of a finite subset of [0,1] together with appropriate open sets U(r), V(r) (following Wikipedia) for every r in this finite subset. Then you would show that for any x in [0, 1], any finite approximation can be extended so as to include x (this corresponds to defining a cofinal set in <code>P</code>). Then you take your favourite countable dense subset of [0, 1], and <a href="https://leanprover-community.github.io/mathlib_docs/find/order.ideal_of_cofinals">docs#order.ideal_of_cofinals</a> on the corresponding countable family of cofinals should give you what you need</p>



<a name="232504608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232504608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232504608">(Mar 30 2021 at 22:00)</a>:</h4>
<p>I'll have a look at this later (we can have two proofs, one in examples).</p>



<a name="232647376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/232647376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#232647376">(Mar 31 2021 at 19:07)</a>:</h4>
<p>Smooth bump functions <a href="https://leanprover-community.github.io/mathlib_docs/find/smooth_bump_function">docs#smooth_bump_function</a> and a baby version of Whitney's weak embedding theorem <a href="https://leanprover-community.github.io/mathlib_docs/find/exists_embedding_findim_of_compact">docs#exists_embedding_findim_of_compact</a> are now in master.</p>



<a name="237868809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/237868809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gihan Marasingha <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#237868809">(May 07 2021 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/232193602">said</a>:</p>
<blockquote>
<p>...<br>
Another lofty goal I always have at the back of my mind is the theory of automorphic forms and automorphic representations<br>
...</p>
</blockquote>
<p>Is there anything even on classical modular forms in mathlib or is the idea first to develop the more general theory? Is there any value in working on special cases?</p>



<a name="237876821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/237876821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#237876821">(May 07 2021 at 19:22)</a>:</h4>
<p>There are several people who might be working on modular forms and I have a student who will be working on them with me this summer. I'm not 100% sure if these people want to go public yet so I'm not entirely sure what else to say, but as far as I know we don't even have a definition yet in mathlib. Things like Hecke operators should be easy, boundedness conditions at cusps can be done with a hack (you don't need to develop a theory of holomorphic functions on an open disc, although of course this is also something that desperately needs doing) and the big problem will be proving that the spaces are finite-dimensional because this basically is finiteness of coherent cohomology of a compact Riemann surface and it will also take a lot of work to reduce it to this case. Riemann-Roch is another approach but again this will be tons of work. Without finite-dimensionality you're rather limited in what you can do in the general theory, however there are tons of examples one could do which don't need this, for example Eisenstein series, theta series, Delta and so on</p>



<a name="245213024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/245213024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taylor Belcher <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#245213024">(Jul 07 2021 at 17:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231121914">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/231120131">said</a>:</p>
<blockquote>
<p>Note that this is essentially nr.100 from Freek's list <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>
</blockquote>
<p>A while ago I had a go at this, not sure I got very far and right now I can't continue this. But this is definitely a good project if someone wants to continue, or just start afresh ;). No idea what state this is in or even what proof I was following,  so caveat emptor</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kn">import</span> <span class="n">data.polynomial.field_division</span>
<span class="kn">import</span> <span class="n">ring_theory.polynomial.basic</span>
<span class="kn">import</span> <span class="n">init.algebra.order</span>
<span class="kn">import</span> <span class="n">data.nat.parity</span>
<span class="kn">import</span> <span class="n">tactic</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="kd">noncomputable theory</span>

<span class="kn">namespace</span> <span class="n">polynomial</span>
<span class="sd">/-- pairs up consecutive elements of a list applies f and returns a list of length one less -/</span>
<span class="kd">def</span> <span class="n">map_adjacent</span> <span class="o">{</span><span class="n">α</span> <span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">β</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">list</span> <span class="n">β</span> <span class="o">:=</span>
<span class="n">l.zip_with</span> <span class="n">f</span> <span class="n">l.tail</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">+</span><span class="o">)</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">+</span><span class="o">)</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span> <span class="n">y</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="bp">&lt;</span> <span class="n">y</span> <span class="o">:</span> <span class="n">bool</span><span class="o">))</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span>
<span class="k">#eval</span> <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">),</span> <span class="o">(</span><span class="n">xor</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">y</span><span class="o">)</span> <span class="o">:</span> <span class="n">bool</span><span class="o">))</span> <span class="o">([</span><span class="bp">-</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">]</span> <span class="o">:</span> <span class="n">list</span> <span class="n">ℚ</span><span class="o">)</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">linear_ordered_field</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span>
<span class="sd">/-- the (multi)-set of positive roots of a polynomial -/</span>
<span class="kd">def</span> <span class="n">positive_roots</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">multiset</span> <span class="n">R</span> <span class="o">:=</span> <span class="n">p.roots.filter</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">r</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">mem_positive_roots</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">p.positive_roots</span> <span class="bp">↔</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">p.roots</span> <span class="bp">∧</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">multiset.mem_filter</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="o">{</span><span class="n">x</span><span class="o">}</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_X_sub_C</span><span class="o">,</span> <span class="n">multiset.filter_cons_of_pos</span> <span class="n">_</span> <span class="n">h</span><span class="o">,</span> <span class="n">multiset.filter_zero</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_normalize_eq_positive_roots</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">normalize</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="n">p.positive_roots</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_normalize</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_mul</span> <span class="o">{</span><span class="n">q</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hpq</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">q</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">):</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots</span> <span class="bp">=</span> <span class="n">p.positive_roots</span> <span class="bp">+</span> <span class="n">q.positive_roots</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">roots_mul</span> <span class="n">hpq</span><span class="o">,</span> <span class="n">multiset.filter_add</span><span class="o">],</span>
  <span class="n">refl</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">positive_roots_empty_of_positive_coeffs</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">∈</span> <span class="n">p.support</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">p.coeff</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.positive_roots</span> <span class="bp">=</span> <span class="bp">∅</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">by_contra</span> <span class="n">he</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">intro</span> <span class="n">hp</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">he</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">positive_roots</span><span class="o">,</span> <span class="n">hp</span><span class="o">,</span> <span class="n">roots_zero</span><span class="o">,</span> <span class="n">multiset.empty_eq_zero</span><span class="o">,</span> <span class="n">multiset.filter_zero</span><span class="o">],</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">obtain</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">multiset.exists_mem_of_ne_zero</span> <span class="n">he</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">mem_positive_roots.mp</span> <span class="n">hx</span> <span class="k">with</span> <span class="n">hxr</span> <span class="n">hxp</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">,</span> <span class="n">is_root.def</span><span class="o">,</span> <span class="n">eval_eq_sum</span><span class="o">]</span> <span class="n">at</span> <span class="n">hxr</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">lt_irrefl</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">R</span><span class="o">),</span>
  <span class="n">nth_rewrite_rhs</span> <span class="mi">0</span> <span class="bp">←</span> <span class="n">hxr</span><span class="o">,</span>
  <span class="n">convert</span> <span class="n">finset.sum_lt_sum_of_nonempty</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">swap</span><span class="o">,</span>
  <span class="n">exact</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">pi.zero_apply</span><span class="o">,</span> <span class="n">finset.sum_const_zero</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">nonempty_support_iff.mpr</span> <span class="n">hp</span><span class="o">,</span>
  <span class="n">intros</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="n">specialize</span> <span class="n">h</span> <span class="n">n</span> <span class="n">hn</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">pi.zero_apply</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">mul_pos</span> <span class="n">h</span> <span class="o">(</span><span class="n">pow_pos</span> <span class="n">hxp</span> <span class="n">n</span><span class="o">),</span>
<span class="kd">end</span>

<span class="sd">/-- The sign changes of the non-zero coefficients of a polynomial-/</span>
<span class="kd">def</span> <span class="n">sign_changes</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">list</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="n">map_adjacent</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">i</span> <span class="bp">*</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">j</span><span class="o">)</span> <span class="o">(</span><span class="n">p.support.sort</span> <span class="o">(</span><span class="bp">≤</span><span class="o">))</span>
<span class="sd">/-- The number of sign changes of the non-zero coefficients of a polynomial-/</span>
<span class="kd">def</span> <span class="n">card_sign_changes</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="o">:=</span> <span class="o">(</span><span class="n">sign_changes</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">count</span> <span class="n">false</span>
<span class="k">#print</span> <span class="n">card_sign_changes</span>
<span class="c1">--lemma card_sign_changes_mul_X_sub_C_of_zero_lt (p : polynomial R) (x : R) (hx : 0 &lt; x) :</span>
<span class="c1">--   :=sorry</span>
<span class="k">#check</span> <span class="n">coeff_mul_X_sub_C</span>

<span class="kd">lemma</span> <span class="n">support_C_mul_of_ne_zero</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">support</span> <span class="bp">=</span> <span class="n">p.support</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">mem_support_iff_coeff_ne_zero</span><span class="o">,</span> <span class="n">h</span><span class="o">],</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">card_sign_changes_normalize_eq_card_sign_changes</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">normalize</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="bp">=</span> <span class="n">p.card_sign_changes</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">card_sign_changes</span><span class="o">,</span> <span class="n">sign_changes</span><span class="o">],</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">coe_norm_unit</span><span class="o">,</span> <span class="n">coeff_mul_C</span><span class="o">,</span> <span class="n">normalize_apply</span><span class="o">],</span>
  <span class="k">have</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">),</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">↔</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">intros</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">(</span><span class="kd">by</span> <span class="n">ring</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span><span class="o">),</span>
    <span class="k">have</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span> <span class="o">:=</span> <span class="n">pow_two_pos_of_ne_zero</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span> <span class="c1">-- TODO why does nlinarith need this</span>
    <span class="n">rw</span> <span class="o">(</span><span class="kd">by</span> <span class="o">{</span><span class="n">intro</span> <span class="n">t</span><span class="bp">;</span> <span class="n">split</span><span class="bp">;</span> <span class="n">intro</span> <span class="n">h</span><span class="bp">;</span> <span class="n">nlinarith</span><span class="o">,</span> <span class="o">}</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">t</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">t</span> <span class="bp">*</span> <span class="n">b</span><span class="bp">^</span><span class="mi">2</span> <span class="bp">↔</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">t</span><span class="o">),</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">this</span> <span class="o">(</span><span class="n">norm_unit</span> <span class="n">p.leading_coeff</span><span class="o">)</span><span class="bp">.</span><span class="n">ne_zero</span><span class="o">],</span>
  <span class="n">congr'</span> <span class="mi">3</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">support_C_mul_of_ne_zero</span> <span class="o">((</span><span class="n">norm_unit</span> <span class="o">(</span><span class="n">leading_coeff</span> <span class="n">p</span><span class="o">))</span><span class="bp">.</span><span class="n">ne_zero</span><span class="o">),</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">coeff_mul_X_sub_C'</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">coeff</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">r</span><span class="o">))</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="k">if</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="k">then</span> <span class="n">coeff</span> <span class="n">p</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="k">else</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">-</span> <span class="n">coeff</span> <span class="n">p</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">r</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">split_ifs</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">this</span><span class="o">,</span> <span class="n">coeff_mul_X_sub_C</span><span class="o">],</span>
    <span class="n">simp</span><span class="o">,</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">omega</span><span class="o">,</span> <span class="n">simp</span> <span class="o">[</span><span class="n">this</span><span class="o">],</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">card_sign_changes_X_sub_C_mul</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">coeff</span> <span class="n">p</span> <span class="mi">0</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">p.card_sign_changes</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="o">((</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span> <span class="bp">*</span> <span class="n">p</span><span class="o">)</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">card_sign_changes</span><span class="o">,</span> <span class="n">sign_changes</span><span class="o">,</span> <span class="n">coeff_mul_X_sub_C'</span><span class="o">],</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="c1">--simp only [finset.mem_sort],</span>
    <span class="n">rw</span> <span class="n">mem_support_iff_coeff_ne_zero</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_coeff_zero</span><span class="o">,</span> <span class="n">zero_sub</span><span class="o">,</span> <span class="n">coeff_X_zero</span><span class="o">,</span> <span class="n">ne.def</span><span class="o">,</span> <span class="n">neg_eq_zero</span><span class="o">,</span> <span class="n">coeff_C_zero</span><span class="o">,</span> <span class="n">coeff_sub</span><span class="o">,</span>
      <span class="n">mul_eq_zero</span><span class="o">],</span>
    <span class="n">push_neg</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="n">hp</span><span class="o">,</span> <span class="n">ne_of_gt</span> <span class="n">hx</span><span class="o">⟩,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">finset.sort</span> <span class="n">has_le.le</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span><span class="o">)</span><span class="bp">.</span><span class="n">head</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">list.nth_le_zero</span><span class="o">,</span> <span class="n">finset.sorted_zero_eq_min'</span><span class="o">],</span>
    <span class="n">apply</span> <span class="n">nat.eq_zero_of_le_zero</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">finset.min'_le</span> <span class="n">_</span> <span class="n">_</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">finset.length_sort</span><span class="o">,</span> <span class="n">finset.card_pos</span><span class="o">],</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="n">this</span><span class="o">⟩,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">h</span> <span class="o">:</span> <span class="n">finset.sort</span> <span class="n">has_le.le</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">support</span> <span class="k">with</span> <span class="n">hd</span> <span class="n">tl</span><span class="bp">;</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">h</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
  <span class="n">subst</span> <span class="n">this</span><span class="o">,</span>
  <span class="c1">--simp_rw ← list.eq_ this,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">descartes_sign_rule'</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="n">p.positive_roots.card</span> <span class="bp">≤</span> <span class="n">card_sign_changes</span> <span class="n">p</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">induction</span> <span class="n">h</span> <span class="o">:</span> <span class="n">p.positive_roots.card</span> <span class="n">generalizing</span> <span class="n">p</span> <span class="n">hp</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">zero_le</span> <span class="o">(</span><span class="n">card_sign_changes</span> <span class="n">p</span><span class="o">),</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">obtain</span> <span class="o">⟨</span><span class="n">x</span><span class="o">,</span> <span class="n">hx</span><span class="o">⟩</span> <span class="o">:=</span> <span class="n">multiset.card_pos_iff_exists_mem.mp</span> <span class="o">(</span><span class="kd">by</span> <span class="n">rw</span> <span class="n">h</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">nat.succ_pos</span> <span class="n">n</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">mem_positive_roots</span> <span class="n">at</span> <span class="n">hx</span><span class="o">,</span>
    <span class="n">rw</span> <span class="bp">←</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">have</span> <span class="o">:=</span> <span class="n">mul_div_eq_iff_is_root.mpr</span> <span class="o">((</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">hx.1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">,</span> <span class="n">positive_roots_mul</span><span class="o">,</span> <span class="n">multiset.card_add</span><span class="o">],</span>
    <span class="k">calc</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="o">:</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="n">hx.2</span><span class="o">]</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="mi">1</span> <span class="bp">+</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:</span> <span class="n">nat.add_le_add_left</span> <span class="n">_</span> <span class="mi">1</span>
      <span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="bp">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">add_comm</span> <span class="n">_</span> <span class="n">_</span>
      <span class="bp">...</span> <span class="bp">≤</span> <span class="o">((</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">)))</span><span class="bp">.</span><span class="n">card_sign_changes</span> <span class="o">:</span> <span class="n">card_sign_changes_X_sub_C_mul</span> <span class="n">hx.2</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="bp">←</span> <span class="n">this</span> <span class="n">at</span> <span class="n">hp</span><span class="o">,</span>
      <span class="k">have</span> <span class="o">:</span> <span class="o">(</span><span class="n">p</span> <span class="bp">/</span> <span class="o">(</span><span class="n">X</span> <span class="bp">-</span> <span class="n">C</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">positive_roots.card</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
      <span class="kd">begin</span>
        <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">this</span><span class="o">,</span> <span class="n">positive_roots_mul</span> <span class="n">hp</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">simp</span> <span class="o">[</span><span class="n">multiset.card_add</span><span class="o">,</span> <span class="n">positive_roots_X_sub_C_of_zero_lt</span> <span class="n">hx.2</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">nat.succ.inj</span> <span class="n">h</span><span class="o">,</span>
      <span class="kd">end</span><span class="o">,</span>
      <span class="n">convert</span> <span class="n">ih</span> <span class="o">(</span><span class="n">right_ne_zero_of_mul</span> <span class="n">hp</span><span class="o">)</span> <span class="n">this</span><span class="o">,</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_div_eq_iff_is_root.mpr</span> <span class="o">((</span><span class="n">mem_roots</span> <span class="n">hp</span><span class="o">)</span><span class="bp">.</span><span class="n">mp</span> <span class="n">hx.1</span><span class="o">),</span>
      <span class="n">exact</span> <span class="n">hp</span><span class="o">,</span> <span class="o">},</span> <span class="o">},</span>
<span class="kd">end</span>

<span class="kd">theorem</span> <span class="n">descartes_sign_rule</span> <span class="o">(</span><span class="n">hp</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="n">d</span><span class="o">,</span> <span class="n">card_sign_changes</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">p.positive_roots.card</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">suffices</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">hm</span> <span class="o">:</span> <span class="n">g.monic</span><span class="o">),</span>
    <span class="bp">∃</span> <span class="n">d</span><span class="o">,</span> <span class="n">card_sign_changes</span> <span class="n">g</span> <span class="bp">=</span> <span class="n">g.positive_roots.card</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">d</span><span class="o">,</span>
  <span class="kd">begin</span>
    <span class="n">specialize</span> <span class="n">this</span> <span class="o">(</span><span class="n">polynomial.monic_normalize</span> <span class="n">hp</span><span class="o">),</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">card_sign_changes_normalize_eq_card_sign_changes</span><span class="o">,</span>
      <span class="n">positive_roots_normalize_eq_positive_roots</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">this</span><span class="o">,</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">clear_dependent</span> <span class="n">p</span><span class="o">,</span>
  <span class="n">intros</span><span class="o">,</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
<span class="kd">end</span> <span class="n">polynomial</span>

<span class="bp">#</span><span class="n">lint</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I've got some first year undergrads and we are looking at trying to work on this. Do you know if anyone has picked it up?</p>



<a name="245217135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/245217135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#245217135">(Jul 07 2021 at 17:46)</a>:</h4>
<p>I'm not aware of anyone. But maybe <span class="user-mention" data-user-id="127136">@Alex J. Best</span> heard from someone. I don't think it has been discussed on Zulip at least.</p>



<a name="245217263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/245217263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#245217263">(Jul 07 2021 at 17:47)</a>:</h4>
<p>(just dropping a link to <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Descartes.20Rule.20of.20Signs">Taylor's earlier thread on Descartes Rule of Signs</a>)</p>



<a name="245223000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/245223000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Taylor Belcher <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#245223000">(Jul 07 2021 at 18:31)</a>:</h4>
<p>Thanks!</p>



<a name="245228530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/245228530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#245228530">(Jul 07 2021 at 19:13)</a>:</h4>
<p>Yeah I haven't seen anyone take this up, so by all means go for it! I'm more than happy to discuss what I was trying to do there in that attempt if its helpful <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>.</p>



<a name="246238461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246238461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246238461">(Jul 16 2021 at 15:29)</a>:</h4>
<p>It recently became possible to _state_ the classification of semisimple Lie algebras in Mathlib.</p>
<p>For a MWE, create a new file and paste the following gross blob of setup at the top:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.lie.classical</span>
<span class="kn">import</span> <span class="n">algebra.lie.cartan_matrix</span>
<span class="kn">import</span> <span class="n">algebra.lie.semisimple</span>
<span class="kn">import</span> <span class="n">algebra.lie.direct_sum</span>
<span class="kn">import</span> <span class="n">field_theory.algebraic_closure</span>
<span class="kn">open</span> <span class="n">lie_algebra</span>
<span class="n">open_locale</span> <span class="n">direct_sum</span>
<span class="kd">notation</span> <span class="n">L₁</span> <span class="bp">`</span> <span class="bp">≅ₗ⁅`</span> <span class="n">K</span> <span class="bp">`⁆</span> <span class="bp">`</span><span class="n">L₂</span> <span class="o">:=</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">L₁</span> <span class="bp">≃ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">L₂</span><span class="o">)</span>
<span class="kd">abbreviation</span> <span class="n">sl</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">:=</span> <span class="n">special_linear.sl</span> <span class="o">(</span><span class="n">fin</span> <span class="n">l</span><span class="o">)</span> <span class="n">K</span>
<span class="kd">abbreviation</span> <span class="n">sp</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">:=</span> <span class="n">symplectic.sp</span> <span class="o">(</span><span class="n">fin</span> <span class="n">l</span><span class="o">)</span> <span class="n">K</span>
<span class="kd">abbreviation</span> <span class="n">so</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">:=</span> <span class="n">orthogonal.so</span> <span class="o">(</span><span class="n">fin</span> <span class="n">l</span><span class="o">)</span> <span class="n">K</span>

<span class="kn">section</span> <span class="n">delme</span> <span class="c1">-- Get rid of this section with fixes elsewhere, should not be necessary.</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">ι</span> <span class="n">R</span> <span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">lie_ring</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">lie_algebra</span> <span class="n">R</span> <span class="n">L</span><span class="o">]</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">lie_ideal</span> <span class="n">R</span> <span class="n">L</span><span class="o">)</span>

<span class="kd">instance</span> <span class="n">foo</span> <span class="o">:</span> <span class="n">lie_ring</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">I</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">direct_sum.lie_ring</span> <span class="n">ι</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">I</span> <span class="n">i</span><span class="o">)</span> <span class="n">_</span>
<span class="kd">instance</span> <span class="n">bar</span> <span class="o">:</span> <span class="n">lie_algebra</span> <span class="n">R</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">I</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">direct_sum.lie_algebra</span> <span class="n">R</span> <span class="n">ι</span> <span class="n">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span><span class="o">,</span> <span class="n">I</span> <span class="n">i</span><span class="o">)</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">end</span> <span class="n">delme</span>
</code></pre></div>



<a name="246238550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246238550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246238550">(Jul 16 2021 at 15:30)</a>:</h4>
<p>Then immediately below that the actual good stuff:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- Let `K` be an algebraically closed field of characteristic zero. -/</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">is_alg_closed</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">char_zero</span> <span class="n">K</span><span class="o">]</span>

<span class="sd">/-- Let `L` be a finite-dimensional Lie algebra over `K`. -/</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">lie_ring</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">lie_algebra</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span> <span class="o">[</span><span class="n">finite_dimensional</span> <span class="n">K</span> <span class="n">L</span><span class="o">]</span>

<span class="kd">theorem</span> <span class="n">simple_classification</span> <span class="o">:</span>
  <span class="n">is_simple</span> <span class="n">K</span> <span class="n">L</span> <span class="bp">↔</span>
  <span class="o">((</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">g₂</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">f₄</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">e₆</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">e₇</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">e₈</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="bp">∃</span> <span class="n">l</span><span class="o">,</span> <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">sl</span> <span class="n">l</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∧</span> <span class="mi">1</span> <span class="bp">&lt;</span> <span class="n">l</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="bp">∃</span> <span class="n">l</span><span class="o">,</span> <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">sp</span> <span class="n">l</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∧</span> <span class="mi">2</span> <span class="bp">&lt;</span> <span class="n">l</span><span class="o">)</span> <span class="bp">∨</span>
   <span class="o">(</span><span class="bp">∃</span> <span class="n">l</span><span class="o">,</span> <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="n">so</span> <span class="n">l</span> <span class="n">K</span><span class="o">)</span> <span class="bp">∧</span> <span class="mi">4</span> <span class="bp">&lt;</span> <span class="n">l</span> <span class="bp">∧</span> <span class="n">l</span> <span class="bp">≠</span> <span class="mi">6</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="c1">-- TODO (probably) state in terms of Lie-algebra version of `direct_sum.submodule_is_internal`.</span>
<span class="kd">theorem</span> <span class="n">semisimple_classification</span> <span class="o">:</span>
  <span class="n">is_semisimple</span> <span class="n">K</span> <span class="n">L</span> <span class="bp">↔</span>
  <span class="bp">∃</span> <span class="n">n</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">lie_ideal</span> <span class="n">K</span> <span class="n">L</span><span class="o">),</span> <span class="o">(</span><span class="n">L</span> <span class="bp">≅ₗ⁅</span><span class="n">K</span><span class="bp">⁆</span> <span class="o">(</span><span class="bp">⨁</span> <span class="n">i</span><span class="o">,</span> <span class="n">I</span> <span class="n">i</span><span class="o">))</span> <span class="bp">∧</span> <span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">is_simple</span> <span class="n">K</span> <span class="o">(</span><span class="n">I</span> <span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="246238591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246238591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246238591">(Jul 16 2021 at 15:30)</a>:</h4>
<p>cf <a href="https://gist.github.com/ocfnash/f3e3ca8eb24689dc3cb7b48de70439e6">https://gist.github.com/ocfnash/f3e3ca8eb24689dc3cb7b48de70439e6</a></p>



<a name="246241653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246241653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246241653">(Jul 16 2021 at 15:53)</a>:</h4>
<p>Awesome! A very nice milestone!</p>



<a name="246244621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246244621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246244621">(Jul 16 2021 at 16:15)</a>:</h4>
<p>Huh, I didn't see <a href="https://leanprover-community.github.io/mathlib_docs/find/direct_sum.lie_ring">docs#direct_sum.lie_ring</a> slip in!</p>



<a name="246244810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246244810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246244810">(Jul 16 2021 at 16:17)</a>:</h4>
<p>I think it might have been before your time!</p>



<a name="246244916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246244916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246244916">(Jul 16 2021 at 16:18)</a>:</h4>
<p>Oof, my mobile zulip is angry with about 95% of the Unicode in this code block...</p>



<a name="246244983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246244983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246244983">(Jul 16 2021 at 16:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/246244916">said</a>:</p>
<blockquote>
<p>Oof, my mobile zulip is angry with about 95% of the Unicode in this code block...</p>
</blockquote>
<p><a href="/user_uploads/3121/zm8YaXWh7a_aHrp3APi7ezlZ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/zm8YaXWh7a_aHrp3APi7ezlZ/image.png" title="image.png"><img src="/user_uploads/3121/zm8YaXWh7a_aHrp3APi7ezlZ/image.png"></a></div>



<a name="246245999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246245999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246245999">(Jul 16 2021 at 16:26)</a>:</h4>
<p>And we aren't even using 𝔣𝔯𝔞𝔨𝔱𝔲𝔯 for the lie algebras!</p>



<a name="246246075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246246075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246246075">(Jul 16 2021 at 16:27)</a>:</h4>
<p>Good question!</p>



<a name="246246273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246246273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246246273">(Jul 16 2021 at 16:28)</a>:</h4>
<p>Does vscode allow you to write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="fraktur">s</mi><mi mathvariant="fraktur">l</mi></mrow><annotation encoding="application/x-tex">\mathfrak{sl}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69141em;vertical-align:0em;"></span><span class="mord"><span class="mord mathfrak">sl</span></span></span></span></span>?</p>



<a name="246246353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246246353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246246353">(Jul 16 2021 at 16:29)</a>:</h4>
<p>Paste it in a lean file and hover over it.  Then vscode will tell you how to type it.  If it can't, then you can add a setting (abbreviations I think it is called), and post a PR.</p>



<a name="246246745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246246745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246246745">(Jul 16 2021 at 16:32)</a>:</h4>
<p>It looks like <code>\Mfa</code> in VS Code gives 𝔞, <code>\Mfb</code> gives 𝔟 etc.</p>



<a name="246249340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246249340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246249340">(Jul 16 2021 at 16:53)</a>:</h4>
<p>Clearly we need abbreviations <code>\sl</code>, <code>\so</code>, <code>\sp</code> <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="246255301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246255301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246255301">(Jul 16 2021 at 17:39)</a>:</h4>
<p>It is very nice to be at a point where we need these abbreviations!</p>



<a name="246272605"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246272605" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246272605">(Jul 16 2021 at 20:11)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> recently someone from Zulip got in touch with me and basically said "hi, we love that you love Zulip, do you have any comments about how we could work better for you?" and I told them that I loved them back but wished I could see Lean code on my Android phone, and they seem to be now actively discussing how to fix this.</p>



<a name="246272945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246272945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246272945">(Jul 16 2021 at 20:15)</a>:</h4>
<p>When this came up in <a class="stream" data-stream-id="236604" href="/#narrow/stream/236604-Zulip-meta">#Zulip meta</a> we concluded it was an OS-wide problem on Android, right? I have the same problem with github in Android chrome.</p>



<a name="246273391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246273391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246273391">(Jul 16 2021 at 20:19)</a>:</h4>
<p>Yes, but they seemed to be talking about shipping a font for the Zulip app which might fix the problem for that at least. I also have problems with github but for me this is less of an issue because I tend not to use github on my phone.</p>



<a name="246273522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246273522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246273522">(Jul 16 2021 at 20:20)</a>:</h4>
<p>Isn’t Android the Wild West of mobile where you can ssh in to your phone and just install some fonts manually system-wide?</p>



<a name="246273576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246273576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246273576">(Jul 16 2021 at 20:21)</a>:</h4>
<p>My current phone isn't rooted and I suspect that to root it I'd have to factory reset it, which I just can't be bothered to deal with.</p>



<a name="246273609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246273609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246273609">(Jul 16 2021 at 20:21)</a>:</h4>
<p>Fair enough</p>



<a name="246280534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246280534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246280534">(Jul 16 2021 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/246273522">said</a>:</p>
<blockquote>
<p>Isn’t Android the Wild West of mobile where you can ssh in to your phone and just install some fonts manually system-wide?</p>
</blockquote>
<p>If only things likke <a href="https://puri.sm/products/librem-5/">https://puri.sm/products/librem-5/</a> were useable...</p>



<a name="246282963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20new%20in%20Lean%20maths%3F/near/246282963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F.html#246282963">(Jul 16 2021 at 21:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/What's.20new.20in.20Lean.20maths.3F/near/246272945">said</a>:</p>
<blockquote>
<p>When this came up in <a class="stream" data-stream-id="236604" href="/#narrow/stream/236604-Zulip-meta">#Zulip meta</a> we concluded it was an OS-wide problem on Android, right? I have the same problem with github in Android chrome.</p>
</blockquote>
<p>The fonts work perfectly fine for me on firefox on android. In fact, if I copy Oliver's link to the gist, and open it in firefox, it works just fine.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>