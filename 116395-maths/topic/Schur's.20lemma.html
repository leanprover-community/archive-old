---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Schur's.20lemma.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html">Schur's lemma</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270960805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270960805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270960805">(Feb 07 2022 at 10:53)</a>:</h4>
<p>I'm wanting to formalise Schur's lemma (<a href="https://en.wikipedia.org/wiki/Schur%27s_lemma">https://en.wikipedia.org/wiki/Schur%27s_lemma</a>) in mathlib but I'm not sure at what level of generalisation I should do it.</p>
<ol>
<li>
<p>Proving just the lemma about group representations</p>
</li>
<li>
<p>Proving the lemma that every non-zero morphism between simple modules is an isomorphism (and then view group representations as modules over the group ring)</p>
</li>
<li>
<p>Generalise even further by viewing it as a category theory lemma (that would encompass for example both the case of simple modules and the case of simple groups - I'm not 100% sure how to do it)</p>
</li>
</ol>



<a name="270960941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270960941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270960941">(Feb 07 2022 at 10:54)</a>:</h4>
<p><span class="user-mention" data-user-id="475844">@Pierre-Alexandre Bazin</span> I think (3) has been done.</p>



<a name="270960994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270960994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270960994">(Feb 07 2022 at 10:55)</a>:</h4>
<p>But the specialization to (1) isn't completely trivial. One would need to show that the categorical assumptions apply.</p>



<a name="270961051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270961051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270961051">(Feb 07 2022 at 10:55)</a>:</h4>
<p>Here's a dump:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ rg Schur
docs/undergrad.yaml
<span class="m">70</span>:    Schur<span class="s1">'s lemma: '</span>https://en.wikipedia.org/wiki/Schur%27s_lemma<span class="s1">'</span>
<span class="s1">115:    orthogonality of irreducible characters: '</span>https://en.wikipedia.org/wiki/Schur_orthogonality_relations<span class="s1">'</span>

<span class="s1">src/group_theory/schur_zassenhaus.lean</span>
<span class="s1">12:# The Schur-Zassenhaus Theorem</span>
<span class="s1">14:In this file we prove the Schur-Zassenhaus theorem.</span>
<span class="s1">18:- `exists_right_complement'</span>_of_coprime<span class="sb">`</span> : The **Schur-Zassenhaus** theorem:
<span class="m">21</span>:- <span class="sb">`</span>exists_left_complement<span class="s1">'_of_coprime`  The **Schur-Zassenhaus** theorem:</span>
<span class="s1">183:/-! ## Proof of the Schur-Zassenhaus theorem</span>
<span class="s1">185:In this section, we prove the Schur-Zassenhaus theorem.</span>
<span class="s1">331:/-- **Schur-Zassenhaus** for normal subgroups:</span>
<span class="s1">339:/-- **Schur-Zassenhaus** for normal subgroups:</span>
<span class="s1">364:/-- **Schur-Zassenhaus** for normal subgroups:</span>
<span class="s1">372:/-- **Schur-Zassenhaus** for normal subgroups:</span>

<span class="s1">src/ring_theory/simple_module.lean</span>
<span class="s1">21:  * Schur'</span>s Lemma: <span class="sb">`</span>bijective_or_eq_zero<span class="sb">`</span> shows that a linear map between simple modules
<span class="m">26</span>:  * Unify with the work on Schur<span class="s1">'s Lemma in a category theory context</span>
<span class="s1">118:/-- **Schur'</span>s Lemma** <span class="k">for</span> linear maps between <span class="o">(</span>possibly distinct<span class="o">)</span> simple modules -/
<span class="m">134</span>:/-- Schur<span class="s1">'s Lemma makes the endomorphism ring of a simple module a division ring. -/</span>

<span class="s1">src/algebra/algebra/spectrum.lean</span>
<span class="s1">317:-- We will use this both to show eigenvalues exist, and to prove Schur'</span>s lemma.

src/category_theory/preadditive/schur.lean
<span class="m">13</span>:# Schur<span class="s1">'s lemma</span>
<span class="s1">14:We first prove the part of Schur'</span>s Lemma that holds <span class="k">in</span> any preadditive category with kernels,
<span class="m">18</span>:Second, we prove Schur<span class="s1">'s lemma for `ùïú`-linear categories with finite dimensional hom spaces,</span>
<span class="s1">38:The part of **Schur'</span>s lemma** that holds <span class="k">in</span> any preadditive category with kernels:
<span class="m">49</span>:As a corollary of Schur<span class="s1">'s lemma for preadditive categories,</span>
<span class="s1">67:Part of **Schur'</span>s lemma** <span class="k">for</span> <span class="sb">`</span>ùïú<span class="sb">`</span>-linear categories:
<span class="m">94</span>:An auxiliary lemma <span class="k">for</span> Schur<span class="s1">'s lemma.</span>
<span class="s1">123:**Schur'</span>s lemma** <span class="k">for</span> endomorphisms <span class="k">in</span> <span class="sb">`</span>ùïú<span class="sb">`</span>-linear categories.
<span class="m">136</span>:**Schur<span class="err">'</span>s lemma** <span class="k">for</span> <span class="sb">`</span>ùïú<span class="sb">`</span>-linear categories:
</code></pre></div>



<a name="270961775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270961775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270961775">(Feb 07 2022 at 11:02)</a>:</h4>
<p>Oh, I'll look at this</p>



<a name="270963493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270963493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270963493">(Feb 07 2022 at 11:18)</a>:</h4>
<p>Also how do you do this term search over all the mathlib ?</p>



<a name="270963580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270963580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270963580">(Feb 07 2022 at 11:19)</a>:</h4>
<p>In VSCode you can click the magnifying class in the top-left of the screen (or press <code>ctrl+shift+F</code>) to search all files in your current project.</p>



<a name="270963660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270963660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270963660">(Feb 07 2022 at 11:20)</a>:</h4>
<p><code>rg</code> is ripgrep (<a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a>) which just searches for text in files in a sensible way, it works pretty well in mathlib</p>



<a name="270963750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270963750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270963750">(Feb 07 2022 at 11:21)</a>:</h4>
<p>But it relies a bit on theorems being labelled with their common names in doc-strings which isn't always the case, adding more docstrings with human recognizable names is very welcome <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="270965355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270965355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270965355">(Feb 07 2022 at 11:39)</a>:</h4>
<p>I would like to make progress here. This is on the UG list and it's also related to group cohomology. We have the category of R-modules for R a ring IIRC. Do we have the category of G-modules for G a group or are we supposed to use monoid_algebra ulift int G or some nonsense like this?</p>
<p>Here is a concrete question. If 3 is done then can we cross Schur's lemma off the UG list? If not, what is the precise Lean form of the lemma which needs to be proved before we can? <span class="user-mention" data-user-id="110031">@Patrick Massot</span> do you have an opinion about this? I think it's time we finished the algebra and group theory parts of the UG curriculum</p>



<a name="270968960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270968960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270968960">(Feb 07 2022 at 12:14)</a>:</h4>
<p>We want something like <a href="https://en.wikipedia.org/wiki/Schur%27s_lemma#Statement_and_Proof_of_the_Lemma">https://en.wikipedia.org/wiki/Schur%27s_lemma#Statement_and_Proof_of_the_Lemma</a></p>



<a name="270973123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270973123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270973123">(Feb 07 2022 at 12:52)</a>:</h4>
<p>I'm trying to write a Lean sketch of the statement</p>



<a name="270973614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270973614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270973614">(Feb 07 2022 at 12:56)</a>:</h4>
<p>Actually, it seems a group representation is never defined explicitly in mathlib - maybe we should define it as a k-linear action of G over a k-vector space and then prove it's in fact a module over the group ring of k ?</p>



<a name="270973674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270973674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270973674">(Feb 07 2022 at 12:56)</a>:</h4>
<p>Or we could directly define it as a module over the group ring</p>



<a name="270974256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270974256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian K√ºlshammer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270974256">(Feb 07 2022 at 13:01)</a>:</h4>
<p>There was some previous discussion about this in the following thread: <a href="#narrow/stream/116395-maths/topic/Representation.20Theory/near/265624695">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Representation.20Theory/near/265624695</a></p>



<a name="270975776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270975776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270975776">(Feb 07 2022 at 13:15)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/simple_module.lean#L118L158">https://github.com/leanprover-community/mathlib/blob/master/src/ring_theory/simple_module.lean#L118L158</a> looks very much like what we want.</p>



<a name="270976143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270976143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270976143">(Feb 07 2022 at 13:18)</a>:</h4>
<p>Missing stuff:</p>
<ul>
<li>connection between <a href="https://leanprover-community.github.io/mathlib_docs/find/is_simple_module">docs#is_simple_module</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.simple">docs#category_theory.simple</a></li>
<li>for reasons of definitional equality, I think it's good if representations are modeled with a lot of redundancy. Something like</li>
</ul>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="n">K</span><span class="bp">`</span><span class="o">[</span><span class="bp">`</span><span class="n">G</span><span class="bp">`</span><span class="o">]</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">monoid_algebra</span> <span class="n">K</span> <span class="n">G</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="n">K</span> <span class="n">V</span> <span class="n">V‚ÇÅ</span> <span class="n">V‚ÇÇ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">monoid</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">K</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">K</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">G</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">K</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
</code></pre></div>
<p>What we need is easy ways to deduce half of this information from the other half.</p>



<a name="270976241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270976241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270976241">(Feb 07 2022 at 13:19)</a>:</h4>
<p>For example, if we know <code>module (K[G]) V</code> then maybe a tactic can add <code>[distrib_mul_action G V]</code> and <code>[is_scalar_tower G (K[G]) V]</code>.</p>



<a name="270976404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270976404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270976404">(Feb 07 2022 at 13:20)</a>:</h4>
<p>Vice versa, if <code>[distrib_mul_action G V] [module K V]</code> are known, then</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">G</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">K</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
</code></pre></div>
<p>can be added provided there is a suitable linearity condition satisfied.</p>



<a name="270976476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270976476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270976476">(Feb 07 2022 at 13:20)</a>:</h4>
<p>Also missing, afaik:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">monoid_algebra.monoid_action</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">smul</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">g</span> <span class="n">x</span><span class="o">,</span> <span class="n">monoid_algebra.of</span> <span class="n">K</span> <span class="n">G</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">one_smul</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">map_one</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
  <span class="n">mul_smul</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">smul_add</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_add</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">smul_zero</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">g</span><span class="o">,</span> <span class="n">mul_zero</span> <span class="n">_</span> <span class="o">}</span>
</code></pre></div>



<a name="270976586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270976586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270976586">(Feb 07 2022 at 13:21)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> If you have some time to figure out the best way to set up all the scalar actions involved here, that would be really great. Getting the basic definition right has basically been blocking all progress in representation theory in mathlib for &gt; 2 years.</p>



<a name="270977968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270977968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270977968">(Feb 07 2022 at 13:32)</a>:</h4>
<p><del>I think that second action is <a href="https://leanprover-community.github.io/mathlib_docs/find/finsupp.comap_mul_action">docs#finsupp.comap_mul_action</a>, which cannot be an instance as it causes diamonds</del></p>



<a name="270978770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270978770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270978770">(Feb 07 2022 at 13:38)</a>:</h4>
<p><del>Hmm, actually <code>finsupp.comap_mul_action</code> is the action by <code>g‚Åª¬π</code> instead of <code>g</code>, just to make things more confusing</del></p>



<a name="270979631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270979631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270979631">(Feb 07 2022 at 13:45)</a>:</h4>
<p>Sorry, it's me that's confused after all. <a href="https://leanprover-community.github.io/mathlib_docs/find/finsupp.comap_mul_action">docs#finsupp.comap_mul_action</a> is indeed a different generalization of that instance, and the two really coincide when <code>group G</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.monoid_algebra.basic</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kd">noncomputable</span> <span class="kd">instance</span> <span class="n">monoid_algebra.monoid_action</span> <span class="o">[</span><span class="n">monoid</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">K</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="o">(</span><span class="n">monoid_algebra</span> <span class="n">K</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">smul</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">g</span> <span class="n">x</span><span class="o">,</span> <span class="n">monoid_algebra.of</span> <span class="n">K</span> <span class="n">G</span> <span class="n">g</span> <span class="bp">*</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">one_smul</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">map_one</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
  <span class="n">mul_smul</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">smul_add</span> <span class="o">:=</span> <span class="kd">by</span> <span class="o">{</span> <span class="n">intros</span><span class="o">,</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">mul_add</span><span class="o">]</span> <span class="o">},</span>
  <span class="n">smul_zero</span> <span class="o">:=</span> <span class="bp">Œª</span> <span class="n">g</span><span class="o">,</span> <span class="n">mul_zero</span> <span class="n">_</span> <span class="o">}</span>

<span class="kn">attribute</span> <span class="o">[</span><span class="n">ext</span><span class="o">]</span> <span class="n">distrib_mul_action</span> <span class="n">mul_action</span> <span class="n">has_scalar</span>

<span class="kd">lemma</span> <span class="n">monoid_algebra.monoid_action_eq_comap</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">K</span><span class="o">]:</span>
  <span class="o">(</span><span class="n">finsupp.comap_distrib_mul_action</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="o">(</span><span class="n">G</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">K</span><span class="o">))</span> <span class="bp">=</span> <span class="n">monoid_algebra.monoid_action</span> <span class="o">:=</span>
  <span class="kd">begin</span>
    <span class="n">ext</span><span class="o">,</span>
    <span class="n">dsimp</span> <span class="o">[(</span><span class="bp">‚Ä¢</span><span class="o">)],</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">monoid_algebra.single_mul_apply</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
  <span class="kd">end</span>
</code></pre></div>



<a name="270979987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270979987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian K√ºlshammer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270979987">(Feb 07 2022 at 13:48)</a>:</h4>
<p>This (the action of the inverse) comes from the fact that if G acts (on the left) on M, then normally G would act on the right on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><msub><mi>m</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>M</mi><mo separator="true">,</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Hom_k(M,N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Ho</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>. But since <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mi>G</mi></mrow><annotation encoding="application/x-tex">kG</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">G</span></span></span></span> is a Hopf algebra, you can convert the right action into a left action using the antipode, which in the case of group algebras is the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>‚Ü¶</mo><msup><mi>g</mi><mrow><mo>‚àí</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">g\mapsto g^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7054em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚Ü¶</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚àí</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="270979999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270979999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270979999">(Feb 07 2022 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> So what would you suggest as the Lean way to talk about representations?</p>



<a name="270980133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980133">(Feb 07 2022 at 13:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_algebra.comap_distrib_mul_action_self">docs#monoid_algebra.comap_distrib_mul_action_self</a> is a slightly clearer version</p>



<a name="270980272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980272">(Feb 07 2022 at 13:50)</a>:</h4>
<p>I don't really know what representations are right now so am not sure I can help without doing some background reading.</p>



<a name="270980293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980293">(Feb 07 2022 at 13:51)</a>:</h4>
<p>In case others haven't seen it, <a href="https://github.com/leanprover-community/mathlib/pull/11574">#11574</a> seem relevant here</p>



<a name="270980681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980681">(Feb 07 2022 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> A <code>K</code>-linear representation of a group <code>G</code> is a <code>K</code>-module <code>V</code>, together with a <code>distrib_mul_action G V</code> such that <code>Œª v, g ‚Ä¢ v</code> is <code>K</code>-linear for all <code>g : G</code>.</p>



<a name="270980733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980733">(Feb 07 2022 at 13:54)</a>:</h4>
<p>A different way to say exactly the same thing, is to say that <code>V</code> is a <code>monoid_algebra K G</code>-module.</p>



<a name="270980827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980827">(Feb 07 2022 at 13:55)</a>:</h4>
<p>Of course "a different way to say the same thing" is nice in pen-and-paper maths, but can cause some headaches in Lean.</p>



<a name="270980927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270980927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270980927">(Feb 07 2022 at 13:56)</a>:</h4>
<p>The first message is <a href="https://leanprover-community.github.io/mathlib_docs/find/distrib_mul_action.to_linear_map">docs#distrib_mul_action.to_linear_map</a> <code>K V g</code>, right?</p>



<a name="270981234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270981234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270981234">(Feb 07 2022 at 13:58)</a>:</h4>
<p>Right, I think it is <code>smul_comm_class K G V</code></p>



<a name="270981414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270981414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270981414">(Feb 07 2022 at 13:59)</a>:</h4>
<p>So here's a better version of my list of <code>variables</code> upstairs:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">local</span> <span class="kd">notation</span> <span class="n">K</span><span class="bp">`</span><span class="o">[</span><span class="bp">`</span><span class="n">G</span><span class="bp">`</span><span class="o">]</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">monoid_algebra</span> <span class="n">K</span> <span class="n">G</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">G</span> <span class="n">K</span> <span class="n">V</span> <span class="n">V‚ÇÅ</span> <span class="n">V‚ÇÇ</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">monoid</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">ring</span> <span class="n">K</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">V</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">K</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">smul_comm_class</span> <span class="n">K</span> <span class="n">G</span> <span class="n">V</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">G</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">K</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
</code></pre></div>



<a name="270981656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270981656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270981656">(Feb 07 2022 at 14:00)</a>:</h4>
<p>The claim is that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">[</span><span class="n">distrib_mul_action</span> <span class="n">G</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">K</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">smul_comm_class</span> <span class="n">K</span> <span class="n">G</span> <span class="n">V</span><span class="o">]</span>
<span class="c1">-- this line ‚Üì is the same mathematical content as this line ‚Üë</span>
<span class="kd">variables</span> <span class="o">[</span><span class="n">module</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
</code></pre></div>



<a name="270981836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270981836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270981836">(Feb 07 2022 at 14:01)</a>:</h4>
<p>Propositionally asserting that the two lines are compatible is done on the last line, by</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">G</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span> <span class="o">[</span><span class="n">is_scalar_tower</span> <span class="n">K</span> <span class="o">(</span><span class="n">K</span><span class="o">[</span><span class="n">G</span><span class="o">])</span> <span class="n">V</span><span class="o">]</span>
</code></pre></div>



<a name="270981941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270981941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270981941">(Feb 07 2022 at 14:02)</a>:</h4>
<p>The forward direction of your <code>‚Üì</code> is precisely <code>action_to_module</code> from <a href="https://github.com/leanprover-community/mathlib/pull/11574">#11574</a></p>



<a name="270982819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270982819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270982819">(Feb 07 2022 at 14:08)</a>:</h4>
<p>My question that I don't have an answer to - what happens when <code>V = K[G]</code>? Does the action agree with left-multiplication?</p>



<a name="270983149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270983149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270983149">(Feb 07 2022 at 14:10)</a>:</h4>
<p>Yes, it looks like it to me.</p>



<a name="270983418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270983418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270983418">(Feb 07 2022 at 14:12)</a>:</h4>
<p>In that case we ought to be able to remove the diamond</p>



<a name="270983473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270983473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270983473">(Feb 07 2022 at 14:12)</a>:</h4>
<p>even if we can't, a non-defeq diamond is a lot less bad than a non-equal diamond</p>



<a name="270988854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270988854" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270988854">(Feb 07 2022 at 14:52)</a>:</h4>
<p>I've opened <a href="https://github.com/leanprover-community/mathlib/pull/11900">#11900</a> to remove the <code>group G</code> requirement from <code>finsupp.comap_distrib_mul_action</code></p>



<a name="270990004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270990004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270990004">(Feb 07 2022 at 15:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/270980133">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_algebra.comap_distrib_mul_action_self">docs#monoid_algebra.comap_distrib_mul_action_self</a> is a slightly clearer version</p>
</blockquote>
<p>I'm pretty sure this instance forms a non-equal diamond when <code>G = kÀ£</code></p>



<a name="270990762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270990762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270990762">(Feb 07 2022 at 15:04)</a>:</h4>
<p>That's exactly a common example in maths. So we better get that one right (-;</p>



<a name="270990896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270990896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270990896">(Feb 07 2022 at 15:04)</a>:</h4>
<p>What exactly is the diamond you are thinking of? (In this common example, <code>k</code> will be a field, hence commutative).</p>



<a name="270991381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270991381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270991381">(Feb 07 2022 at 15:08)</a>:</h4>
<p>I'm trying to prove it now</p>



<a name="270993437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270993437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270993437">(Feb 07 2022 at 15:21)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- The actions by `monoid_algebra.comap_distrib_mul_action_self` and</span>
<span class="sd">`monoid_algebra.distrib_mul_action` are incompatible in the case when `G = kÀ£` and</span>
<span class="sd">`kÀ£` is nontrivial -/</span>
<span class="kd">example</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">k</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">k</span><span class="bp">À£</span><span class="o">]:</span>
  <span class="o">(</span><span class="n">monoid_algebra.comap_distrib_mul_action_self</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">k</span><span class="bp">À£</span> <span class="o">(</span><span class="n">monoid_algebra</span> <span class="n">k</span> <span class="n">k</span><span class="bp">À£</span><span class="o">))</span> <span class="bp">‚â†</span>
    <span class="n">monoid_algebra.distrib_mul_action</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">u</span> <span class="o">:</span> <span class="n">k</span><span class="bp">À£</span><span class="o">,</span> <span class="n">hu</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">exists_ne</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">k</span><span class="bp">À£</span><span class="o">),</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="n">k</span> <span class="o">:=</span> <span class="o">‚ü®‚ü®</span><span class="n">u</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">units.ext.ne</span> <span class="n">hu</span><span class="o">‚ü©‚ü©,</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span> <span class="n">x.to_mul_action.to_has_scalar.smul</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">finsupp.congr_fun</span> <span class="o">(</span><span class="n">congr_fun</span> <span class="o">(</span><span class="n">congr_fun</span> <span class="n">h</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">single</span> <span class="n">u</span> <span class="mi">1</span><span class="o">))</span> <span class="n">u</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">comap_smul_single</span><span class="o">,</span> <span class="n">smul_apply</span><span class="o">,</span> <span class="n">single_eq_same</span><span class="o">,</span> <span class="n">smul_eq_mul</span><span class="o">,</span> <span class="n">units.smul_def</span><span class="o">,</span> <span class="n">smul_eq_mul</span><span class="o">,</span>
    <span class="n">mul_one</span><span class="o">,</span> <span class="n">single_eq_pi_single</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">hu</span><span class="o">,</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">‚Üê</span><span class="n">h</span><span class="o">,</span>
  <span class="n">dsimp</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">huu</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">=</span> <span class="n">u</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">huu</span><span class="o">,</span> <span class="n">pi.single_eq_same</span><span class="o">],</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">pi.single_eq_of_ne'</span> <span class="n">huu</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">u.ne_zero</span> <span class="n">h.symm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="270993913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/270993913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#270993913">(Feb 07 2022 at 15:24)</a>:</h4>
<p>Should I add the <code>finsupp</code> version of that <code>example</code> next to <code>finsupp.comap_mul_action</code> to warn of the dangers?</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">k</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">k</span><span class="bp">À£</span><span class="o">]:</span>
  <span class="o">(</span><span class="n">finsupp.comap_distrib_mul_action</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">k</span><span class="bp">À£</span> <span class="o">(</span><span class="n">k</span><span class="bp">À£</span> <span class="bp">‚Üí‚ÇÄ</span> <span class="n">k</span> <span class="o">))</span> <span class="bp">‚â†</span>
    <span class="n">finsupp.distrib_mul_action</span> <span class="n">_</span> <span class="n">_</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">obtain</span> <span class="o">‚ü®</span><span class="n">u</span> <span class="o">:</span> <span class="n">k</span><span class="bp">À£</span><span class="o">,</span> <span class="n">hu</span><span class="o">‚ü©</span> <span class="o">:=</span> <span class="n">exists_ne</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">k</span><span class="bp">À£</span><span class="o">),</span>
  <span class="n">haveI</span> <span class="o">:</span> <span class="n">nontrivial</span> <span class="n">k</span> <span class="o">:=</span> <span class="o">‚ü®‚ü®</span><span class="n">u</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">units.ext.ne</span> <span class="n">hu</span><span class="o">‚ü©‚ü©,</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">congr_arg</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span> <span class="o">:</span> <span class="n">distrib_mul_action</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span> <span class="n">x.to_mul_action.to_has_scalar.smul</span><span class="o">)</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">replace</span> <span class="n">h</span> <span class="o">:=</span> <span class="n">finsupp.congr_fun</span> <span class="o">(</span><span class="n">congr_fun</span> <span class="o">(</span><span class="n">congr_fun</span> <span class="n">h</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">single</span> <span class="n">u</span> <span class="mi">1</span><span class="o">))</span> <span class="n">u</span><span class="o">,</span>
  <span class="n">dsimp</span> <span class="n">only</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">comap_smul_single</span><span class="o">,</span> <span class="n">smul_apply</span><span class="o">,</span> <span class="n">single_eq_same</span><span class="o">,</span> <span class="n">smul_eq_mul</span><span class="o">,</span> <span class="n">units.smul_def</span><span class="o">,</span> <span class="n">smul_eq_mul</span><span class="o">,</span>
    <span class="n">mul_one</span><span class="o">,</span> <span class="n">single_eq_pi_single</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">hu</span><span class="o">,</span>
  <span class="n">ext</span><span class="o">,</span>
  <span class="n">rw</span> <span class="bp">‚Üê</span><span class="n">h</span><span class="o">,</span>
  <span class="n">dsimp</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">huu</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">=</span> <span class="n">u</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">huu</span><span class="o">,</span> <span class="n">pi.single_eq_same</span><span class="o">],</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">pi.single_eq_of_ne'</span> <span class="n">huu</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">(</span><span class="n">u.ne_zero</span> <span class="n">h.symm</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span><span class="o">,</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>
</div></div>



<a name="271000339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271000339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271000339">(Feb 07 2022 at 16:05)</a>:</h4>
<blockquote>
<p>connection between <a href="https://leanprover-community.github.io/mathlib_docs/find/is_simple_module">docs#is_simple_module</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.simple">docs#category_theory.simple</a></p>
</blockquote>
<p>I'm working on this</p>



<a name="271001627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271001627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271001627">(Feb 07 2022 at 16:12)</a>:</h4>
<p>Yes, that's a part of the story we're sure about :-)</p>



<a name="271096897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271096897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271096897">(Feb 08 2022 at 08:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/270990004">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/270980133">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_algebra.comap_distrib_mul_action_self">docs#monoid_algebra.comap_distrib_mul_action_self</a> is a slightly clearer version</p>
</blockquote>
<p>I'm pretty sure this instance forms a non-equal diamond when <code>G = kÀ£</code></p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/pull/11918">#11918</a> proves that this forms a diamond and as a result changes <code>monoid_algebra.comap_distrib_mul_action_self</code> to a <code>def</code>.</p>



<a name="271117266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271117266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271117266">(Feb 08 2022 at 12:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/270983418">said</a>:</p>
<blockquote>
<p>In that case we ought to be able to remove the diamond</p>
</blockquote>
<p>We can make _this_ diamond defeq by changing</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="o">(</span><span class="n">monoid_algebra</span> <span class="n">k</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">‚ü®</span><span class="bp">Œª</span><span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">f.sum</span> <span class="bp">$</span> <span class="bp">Œª</span><span class="n">a‚ÇÅ</span> <span class="n">b‚ÇÅ</span><span class="o">,</span> <span class="n">g.sum</span> <span class="bp">$</span> <span class="bp">Œª</span><span class="n">a‚ÇÇ</span> <span class="n">b‚ÇÇ</span><span class="o">,</span> <span class="n">single</span> <span class="o">(</span><span class="n">a‚ÇÅ</span> <span class="bp">*</span> <span class="n">a‚ÇÇ</span><span class="o">)</span> <span class="o">(</span><span class="n">b‚ÇÅ</span> <span class="bp">*</span> <span class="n">b‚ÇÇ</span><span class="o">)‚ü©</span>
</code></pre></div>
<p>to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="o">(</span><span class="n">monoid_algebra</span> <span class="n">k</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">‚ü®</span><span class="bp">Œª</span><span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">f.sum</span> <span class="bp">$</span> <span class="bp">Œª</span><span class="n">a‚ÇÅ</span> <span class="n">b‚ÇÅ</span><span class="o">,</span> <span class="n">b‚ÇÅ</span> <span class="bp">‚Ä¢</span> <span class="n">g.sum</span> <span class="bp">$</span> <span class="bp">Œª</span><span class="n">a‚ÇÇ</span> <span class="n">b‚ÇÇ</span><span class="o">,</span> <span class="n">single</span> <span class="o">(</span><span class="n">a‚ÇÅ</span> <span class="bp">*</span> <span class="n">a‚ÇÇ</span><span class="o">)</span> <span class="n">b‚ÇÇ</span><span class="o">‚ü©</span>
</code></pre></div>
<p>Note that this diamond only occurs at all though if we allow the instance that I mention above as forming an unsolvable diamond...</p>



<a name="271148387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271148387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271148387">(Feb 08 2022 at 15:56)</a>:</h4>
<p>Pull request <a href="https://github.com/leanprover-community/mathlib/pull/11927">#11927</a> makes the link between simple modules and the Module category.</p>



<a name="271239307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271239307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271239307">(Feb 09 2022 at 07:23)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> Can we make <code>G</code> act on <code>k[G]</code> from the right?</p>



<a name="271239527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271239527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271239527">(Feb 09 2022 at 07:27)</a>:</h4>
<p><span class="user-mention" data-user-id="475844">@Pierre-Alexandre Bazin</span> Thanks for your PR! I left two comments.</p>



<a name="271239553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271239553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271239553">(Feb 09 2022 at 07:27)</a>:</h4>
<p>One further remark, do you think the subproofs are useful as stand-alone lemmas for possible future work? If so, please extract them into their own <code>lemma</code>s.</p>



<a name="271247067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271247067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271247067">(Feb 09 2022 at 09:03)</a>:</h4>
<p>I don't think acting from the right vs left makes any difference to the potential for diamonds</p>



<a name="271248256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271248256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271248256">(Feb 09 2022 at 09:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="475844">Pierre-Alexandre Bazin</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/270973674">said</a>:</p>
<blockquote>
<p>Or we could directly define it as a module over the group ring</p>
</blockquote>
<p>I vote for not doing this. I think we should define a group representation as a linear action on a module. We already have <a href="https://leanprover-community.github.io/mathlib_docs/find/lie_module">docs#lie_module</a> and this has worked well so far. We did not define Lie algebra representations as representations of their universal enveloping algebra (though we do have this equivalence).</p>



<a name="271266012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271266012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271266012">(Feb 09 2022 at 11:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/271247067">said</a>:</p>
<blockquote>
<p>I don't think acting from the right vs left makes any difference to the potential for diamonds</p>
</blockquote>
<p>Why not? Because then there will be two different actions: one on the left, one on the right. So the diamond vanishes because it doesn't even typecheck.</p>



<a name="271270514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271270514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271270514">(Feb 09 2022 at 12:43)</a>:</h4>
<p>The same diamond should exist on both sides</p>



<a name="271270586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271270586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271270586">(Feb 09 2022 at 12:44)</a>:</h4>
<p>The only reason it doesn't right now is that we're missing the right action by the units (corresponding to the right action by the underlying ring), but that's not a deliberate omission</p>



<a name="271271132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271271132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271271132">(Feb 09 2022 at 12:49)</a>:</h4>
<p>Ok, fair enough. (But who would multiply with a <code>units K</code> on the right?? <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span>)</p>



<a name="271273632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271273632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271273632">(Feb 09 2022 at 13:10)</a>:</h4>
<p>I can see someone maybe wanting to do that if <code>k</code> is not commutative</p>



<a name="271274404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271274404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian K√ºlshammer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271274404">(Feb 09 2022 at 13:16)</a>:</h4>
<p>Would it be a solution to strongly suggest to the user to use a typeclass synonym for <code>units K</code> if they want to take it as <code>G</code> in the <code>monoid_algebra K G</code>?</p>



<a name="271282308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271282308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271282308">(Feb 09 2022 at 14:06)</a>:</h4>
<p>Like <code>Gm K</code>?</p>



<a name="271283361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271283361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271283361">(Feb 09 2022 at 14:13)</a>:</h4>
<p>What would be the difference between that synonym and the units themselves?</p>



<a name="271283549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271283549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271283549">(Feb 09 2022 at 14:15)</a>:</h4>
<p>Different instances?</p>



<a name="271283585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271283585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271283585">(Feb 09 2022 at 14:15)</a>:</h4>
<p>But I'm not sure if that's the right solution</p>



<a name="271284329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271284329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271284329">(Feb 09 2022 at 14:20)</a>:</h4>
<p>Right, my question is which instance you would remove</p>



<a name="271285295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285295">(Feb 09 2022 at 14:27)</a>:</h4>
<p><code>Gm R</code> is only defined for commutative rings <code>R</code>. Maybe that helps.</p>



<a name="271285591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285591">(Feb 09 2022 at 14:28)</a>:</h4>
<p>Really, I think that expressions of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>‚àë</mo><mrow><mi>g</mi><mo>‚àà</mo><mi>G</mi></mrow></msub><msub><mi>c</mi><mi>g</mi></msub><mtext>‚Ä¢</mtext><mo stretchy="false">[</mo><mi>g</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">‚àë_{g ‚àà G} c_g ‚Ä¢ [g]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1858em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">‚àë</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mrel mtight">‚àà</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">‚Ä¢</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">]</span></span></span></span> with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>g</mi></msub><mo>‚àà</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">c_g ‚àà K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8252em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> should only accept scalar multiplication by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>‚àà</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">x ‚àà K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> on the left and by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>‚àà</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">h ‚àà G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> on the right.</p>



<a name="271285615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285615">(Feb 09 2022 at 14:28)</a>:</h4>
<p>That's what the notation forces on you.</p>



<a name="271285660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285660">(Feb 09 2022 at 14:29)</a>:</h4>
<p><span class="user-mention" data-user-id="317890">@Julian K√ºlshammer</span> Do people consider <code>monoid_algebra R G</code> for non-commutative <code>R</code>?</p>



<a name="271285669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285669">(Feb 09 2022 at 14:29)</a>:</h4>
<p>With that rule you can't scalar multiply by <code>nat</code></p>



<a name="271285878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285878">(Feb 09 2022 at 14:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/271285660">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="317890">Julian K√ºlshammer</span> Do people consider <code>monoid_algebra R G</code> for non-commutative <code>R</code>?</p>
</blockquote>
<p>I think <span class="user-mention" data-user-id="240862">@Oliver Nash</span> did in the context of lie algebras; <code>monoid_algebra</code> doubles as a <code>magma_algebra</code></p>



<a name="271285982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271285982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271285982">(Feb 09 2022 at 14:31)</a>:</h4>
<p>But do we need an action from <code>K</code> on the right?</p>



<a name="271286076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271286076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271286076">(Feb 09 2022 at 14:31)</a>:</h4>
<p>And more importantly, do we need an action from <code>units K</code> on the right. I very much doubt this.</p>



<a name="271286284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271286284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271286284">(Feb 09 2022 at 14:33)</a>:</h4>
<p>Note that in the WIP <a href="https://github.com/leanprover-community/mathlib/pull/10716">#10716</a> I attempt to change <code>algebra R A</code> to additionally require that <code>A</code> has a compatible right-<code>R</code> action</p>



<a name="271286359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271286359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271286359">(Feb 09 2022 at 14:33)</a>:</h4>
<p>In which case yes, we need a <code>k</code>-action from the right for <code>monoid_algebra k G</code> to be a <code>k</code>-algebra.</p>



<a name="271286618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271286618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian K√ºlshammer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271286618">(Feb 09 2022 at 14:35)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Usually by a (not necessarily commutative) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> one means that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> is commutative and that the action of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> is central on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>. There is the more general concept , slightly confusingly called a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Œõ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Œõ</span></span></span></span>-ring, which is the same as a monoid object in the category of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Œõ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Œõ</span></span></span></span>-<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Œõ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Œõ</span></span></span></span>-bimodules. In this case one usually doesn't assume that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Œõ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Œõ</span></span></span></span> is commutative. And people (e.g. one of my PhD students) in particular work with skew group rings.</p>



<a name="271289280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271289280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271289280">(Feb 09 2022 at 14:53)</a>:</h4>
<p>One option would just to be state that we don't care about diamonds - we seem to have them all over the place anyway. One I found just now:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory.algebraic</span>
<span class="kd">universes</span> <span class="n">u</span> <span class="n">v</span>
<span class="kd">variables</span> <span class="o">(</span><span class="n">R'</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">S'</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span>
<span class="n">open_locale</span> <span class="n">polynomial</span>
<span class="kn">open</span> <span class="n">polynomial</span>

<span class="sd">/-- `polynomial.has_scalar_pi` forms a diamond. -/</span>
<span class="kd">example</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R'</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">R'</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">polynomial.has_scalar_pi</span> <span class="n">_</span> <span class="n">_</span> <span class="bp">‚â†</span> <span class="o">(</span><span class="n">pi.has_scalar</span> <span class="o">:</span> <span class="n">has_scalar</span> <span class="o">(</span><span class="n">R'</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">R'</span> <span class="bp">‚Üí</span> <span class="n">R'</span><span class="o">[</span><span class="n">X</span><span class="o">]))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">simp_rw</span> <span class="o">[</span><span class="n">has_scalar.ext_iff</span><span class="o">,</span> <span class="n">function.funext_iff</span><span class="o">,</span> <span class="n">polynomial.ext_iff</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">simpa</span> <span class="n">using</span> <span class="n">h</span> <span class="n">X</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="271291491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271291491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271291491">(Feb 09 2022 at 15:07)</a>:</h4>
<p>(de-<code>instance</code>d in <a href="https://github.com/leanprover-community/mathlib/pull/11935">#11935</a>)</p>



<a name="271292145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271292145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271292145">(Feb 09 2022 at 15:12)</a>:</h4>
<p>That whole <code>section pi</code> looks a bit weird anyways</p>



<a name="271292648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271292648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271292648">(Feb 09 2022 at 15:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/271285878">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/Schur's.20lemma/near/271285660">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="317890">Julian K√ºlshammer</span> Do people consider <code>monoid_algebra R G</code> for non-commutative <code>R</code>?</p>
</blockquote>
<p>I think <span class="user-mention silent" data-user-id="240862">Oliver Nash</span> did in the context of lie algebras; <code>monoid_algebra</code> doubles as a <code>magma_algebra</code></p>
</blockquote>
<p>That's right. In my application <code>R</code> was commutative but the key result I needed was <a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_algebra.lift_magma">docs#monoid_algebra.lift_magma</a> and this does not assume commutative coefficients.</p>



<a name="271296359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271296359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271296359">(Feb 09 2022 at 15:39)</a>:</h4>
<p>One hacky way would be to define a right action of <code>list G</code> on <code>monoid_algebra R G</code>. Where <code>[g]</code> acts in the expected way. And longer lists act by repeated scalar multiplication (= first applying <code>list.prod</code> and then doing the scalar multiplication).</p>



<a name="271296394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271296394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271296394">(Feb 09 2022 at 15:39)</a>:</h4>
<p>It would recover the notation that is used on paper <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="271299004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271299004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271299004">(Feb 09 2022 at 15:55)</a>:</h4>
<p>you'd need to define <code>*</code> on <code>list</code> for that to work</p>



<a name="271299595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271299595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271299595">(Feb 09 2022 at 15:58)</a>:</h4>
<p>I had added those polynomial pi scalar instances to think of polynomials as functions. What was my conceptual mistake? I'd like to understand what I got wrong.</p>



<a name="271301025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271301025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271301025">(Feb 09 2022 at 16:07)</a>:</h4>
<p>Well maybe I'm just not managing to reconstruct the kind of situation where you would want to use this instance.</p>



<a name="271301287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271301287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271301287">(Feb 09 2022 at 16:08)</a>:</h4>
<p>It's usually not that natural to think of polynomials as functions (e.g. because the function might not determine the polynomial). But mainly, I would expect (maybe naively) this instance to built out of other instances such as: if <code>R</code> acts on <code>S</code> then <code>a -&gt; R</code> acts on <code>a -&gt; S</code> (pointwise)</p>



<a name="271323181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271323181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271323181">(Feb 09 2022 at 18:12)</a>:</h4>
<p>I have some unpushed branches on tropical polynomials that I think used these. So while I don't have them published, I guess we can uninstance them. </p>
<p>If we consider polynomials not as algebraic objects but as more high school terms, they're taught as functions. The function one gets through eval or aeval is uniquely determined over some semirings (fundamental theorem etc etc). That's the pointwise instance what I was "using" in these cases.</p>



<a name="271333069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271333069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271333069">(Feb 09 2022 at 19:22)</a>:</h4>
<p><del>Your pointwise instance was acting on the domain though, which is not how any of our other instances act</del></p>



<a name="271333346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/271333346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#271333346">(Feb 09 2022 at 19:24)</a>:</h4>
<p>Actually, that looks like it's really the same sort of diamond as the <a href="https://leanprover-community.github.io/mathlib_docs/find/pi.has_scalar'">docs#pi.has_scalar'</a> one I made a thread about a while ago</p>



<a name="273190192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Schur%27s%20lemma/near/273190192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Schur's.20lemma.html#273190192">(Feb 25 2022 at 05:23)</a>:</h4>
<p>Ah, I found (thanks to Rob's CI script) where I was using the instance:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="c1">-- f(X) = ‚àö(X ^ 3 ‚àí 3 X + 1),</span>
<span class="c1">-- which is a root of Y ^ 2 ‚àí (X ^ 3 ‚àí 3 X + 1), is an algebraic function</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">is_algebraic</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">‚Ñ§</span><span class="o">)</span> <span class="o">(</span><span class="bp">Œª</span> <span class="n">x</span><span class="o">,</span> <span class="n">complex.cpow</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span> <span class="bp">‚Ä¢</span> <span class="n">x</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">/</span> <span class="mi">2</span><span class="o">))</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p><a href="https://github.com/pechersky/gouvea/blob/main/src/chapters/ch001/pg010.lean#L47-L72">https://github.com/pechersky/gouvea/blob/main/src/chapters/ch001/pg010.lean#L47-L72</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>