---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html">Why does an `ordered_semiring` need to be add cancellative?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="276147003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276147003" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276147003">(Mar 22 2022 at 06:06)</a>:</h4>
<p>Why does an <code>ordered_semiring</code> need to be an <code>add_cancel_comm_monoid</code>?</p>



<a name="276148123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276148123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276148123">(Mar 22 2022 at 06:31)</a>:</h4>
<p>This has been a subject of long discussions.  A partial fix comes from using <code>co(ntra)variant_class</code>es, but the refactor is taking me a long time!</p>



<a name="276149137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276149137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276149137">(Mar 22 2022 at 06:50)</a>:</h4>
<p>In many cases, there is no <code>add_left_cancel</code>. Also, many lemmas do not need it. Would it become more appropriate if we rename the structure and def a new <code>ordered_semiring</code>?</p>



<a name="276150980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276150980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276150980">(Mar 22 2022 at 07:24)</a>:</h4>
<p>My understanding is that <code>norm_num</code>, <code>linarith</code> and likely <code>ring</code>, <code>abel</code>, <code>field_simp</code> use <code>ordered_semiring</code> with its assumptions to work.</p>
<p>Changing the definition of <code>ordered_semiring</code> would break a lot of what is currently in mathlib.  This is the ain reason for not having already done what you suggest.</p>
<p>At least, this is how I internalised the issue!</p>



<a name="276211486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276211486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276211486">(Mar 22 2022 at 16:00)</a>:</h4>
<p>I have written a version of <code>algebra/order/ring.lean</code> which <code>ordered_semiring</code> does not need to be an <code>add_cancel_comm_monoid</code>. The previous class is <code>ordered_add_cancel_semiring</code> now. But I'm still confused with <code>canonically_ordered_comm_semiring</code>. I even suspect it is a misspelling of <code>conically_ordered</code>.</p>



<a name="276214083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276214083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276214083">(Mar 22 2022 at 16:16)</a>:</h4>
<p>By canonically ordered we mean that <code>a ≤ b ↔ ∃ c, a + c = b</code>. Never heard of a conical order before.</p>



<a name="276217919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276217919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> FR <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276217919">(Mar 22 2022 at 16:39)</a>:</h4>
<p>I've seen a similar expression (Conical) in the agda stdlib, although it doesn't refer to exactly the same thing. It doesn't matter. What confuses me is whether a <code>canonically_ordered_comm_semiring</code> is also an <code>ordered_semiring</code>.</p>



<a name="276218051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276218051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276218051">(Mar 22 2022 at 16:40)</a>:</h4>
<p>It currently is not, for the precise reason you started this thread.</p>



<a name="276290265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276290265" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276290265">(Mar 23 2022 at 05:26)</a>:</h4>
<p>I wonder if there's a counterexample...</p>



<a name="276291991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Why%20does%20an%20%60ordered_semiring%60%20need%20to%20be%20add%20cancellative%3F/near/276291991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Why.20does.20an.20.60ordered_semiring.60.20need.20to.20be.20add.20cancellative.3F.html#276291991">(Mar 23 2022 at 06:02)</a>:</h4>
<p>Either I missed some assumptions, or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{0, 1, \infty\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∞</span><span class="mclose">}</span></span></span></span> is ...?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>