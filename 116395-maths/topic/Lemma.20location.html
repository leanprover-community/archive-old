---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Lemma.20location.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html">Lemma location</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="266078963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20location/near/266078963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html#266078963">(Dec 25 2021 at 22:42)</a>:</h4>
<p>This lemma doesn't seem to be in mathlib, but I'm not sure where it should go. Any suggestions?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[to_additive]</span> <span class="kd">lemma</span> <span class="n">mul_eq_mul_iff_eq_and_eq</span> <span class="o">{</span><span class="n">N</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ordered_cancel_comm_monoid</span> <span class="n">N</span><span class="o">]</span>
  <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">N</span><span class="o">}</span> <span class="o">(</span><span class="n">hac</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">c</span><span class="o">)</span> <span class="o">(</span><span class="n">hbd</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≤</span> <span class="n">d</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">d</span> <span class="bp">↔</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">c</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">d</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">⟨</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">_</span><span class="o">,</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">congr_arg2</span> <span class="o">(</span><span class="bp">*</span><span class="o">)</span> <span class="n">h.1</span> <span class="n">h.2</span><span class="o">⟩,</span>
  <span class="n">cases</span> <span class="n">eq_or_lt_of_le</span> <span class="n">hac</span> <span class="k">with</span> <span class="n">hac</span> <span class="n">hac</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">hac</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="n">hac</span><span class="o">,</span> <span class="n">mul_left_cancel</span> <span class="n">h</span><span class="o">⟩</span> <span class="o">},</span>
  <span class="n">cases</span> <span class="n">eq_or_lt_of_le</span> <span class="n">hbd</span> <span class="k">with</span> <span class="n">hbd</span> <span class="n">hbd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="n">hbd</span> <span class="n">at</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">exact</span> <span class="o">⟨</span><span class="n">mul_right_cancel</span> <span class="n">h</span><span class="o">,</span> <span class="n">hbd</span><span class="o">⟩</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="o">((</span><span class="n">mul_lt_mul'''</span> <span class="n">hac</span> <span class="n">hbd</span><span class="o">)</span><span class="bp">.</span><span class="n">ne</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">elim</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="266079812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20location/near/266079812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html#266079812">(Dec 25 2021 at 23:07)</a>:</h4>
<p>Close to the other <code>ordered_cancel_comm_monoid</code> lemmas, in <code>algebra.order.monoid_lemmas</code>.</p>



<a name="266081060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20location/near/266081060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html#266081060">(Dec 25 2021 at 23:45)</a>:</h4>
<p>Thanks!</p>



<a name="266166803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20location/near/266166803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html#266166803">(Dec 27 2021 at 11:49)</a>:</h4>
<p>There is something funny: I would have expected that the lemma was missing some exceptional cases where one of the variables is zero, but of course, if it formalizes, it has to be true as stated! (This reminds me of sth that happened to <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> in real life.)</p>



<a name="266167071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20location/near/266167071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20location.html#266167071">(Dec 27 2021 at 11:54)</a>:</h4>
<p>There is no zero because it's <code>cancel_</code>, which means you can cancel any multiplication: <code>a * b = a * c → b = c</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>