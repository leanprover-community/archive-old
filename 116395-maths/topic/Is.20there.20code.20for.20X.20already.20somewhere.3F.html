---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html">Is there code for X already somewhere?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="183735833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183735833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juho Kupiainen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183735833">(Dec 18 2019 at 10:06)</a>:</h4>
<p>I'm starting this topic so people have a place to ask questions of the form "has someone already coded X, or something close to it?" All such questions are welcome even if you could probably find the answer on your own fairly quickly..</p>



<a name="183736057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183736057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juho Kupiainen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183736057">(Dec 18 2019 at 10:09)</a>:</h4>
<p>Is there code for <strong>symmetric algebras</strong> <a href="https://en.wikipedia.org/wiki/Symmetric_algebra" target="_blank" title="https://en.wikipedia.org/wiki/Symmetric_algebra">https://en.wikipedia.org/wiki/Symmetric_algebra</a></p>



<a name="183736404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183736404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183736404">(Dec 18 2019 at 10:15)</a>:</h4>
<p>We have tensor products, but nothing beyond that</p>



<a name="183737888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183737888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183737888">(Dec 18 2019 at 10:34)</a>:</h4>
<p>Multilinear algebra is pretty high on the TODO list, but not done yet. We'll almost need the alternating and anti-symmetric parts of the story.</p>



<a name="183748363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183748363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183748363">(Dec 18 2019 at 13:12)</a>:</h4>
<p>There's the question of whether we're allowed to divide by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">k!</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">!</span></span></span></span> as well (the theory can be simplified in characteristic zero).</p>



<a name="183748403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183748403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183748403">(Dec 18 2019 at 13:13)</a>:</h4>
<p>I guess the mathlib answer is pretty clear, we should follow Bourbaki and never divide anything.</p>



<a name="183774555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183774555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183774555">(Dec 18 2019 at 18:07)</a>:</h4>
<p>(deleted)</p>



<a name="183823455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183823455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183823455">(Dec 19 2019 at 07:52)</a>:</h4>
<p>I need the function changing the value of a function at a given point. Something like</p>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm">- `replace_at f i₀ x` is the function equal to `f`, except at `i₀` where it is equal to `x`. -/</span>
<span class="n">def</span> <span class="n">replace_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">if</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">i₀</span> <span class="k">then</span> <span class="n">x</span> <span class="k">else</span> <span class="n">f</span> <span class="n">i</span>
</pre></div>


<p>Is this already in mathlib?</p>



<a name="183824144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183824144">(Dec 19 2019 at 08:07)</a>:</h4>
<p>We really need to be able to write</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">kitchen_sink</span>

<span class="c">/-</span><span class="cm">- `replace_at f i₀ x` is the function equal to `f`, except at `i₀` where it is equal to `x`. -/</span>
<span class="n">def</span> <span class="n">replace_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
</pre></div>


<p>in some scratch file.</p>



<a name="183824149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183824149">(Dec 19 2019 at 08:07)</a>:</h4>
<p>Don't these <code>mk_all.sh</code> scripts allow us to do that?</p>



<a name="183824343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824343" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183824343">(Dec 19 2019 at 08:11)</a>:</h4>
<p>Except that here <code>library_search</code> will not help, because it doesn't know what I want to do. For instance, <code>suggest</code> could give me the answer <code>f i</code>. Or  <code>x</code>. Or <code>f i₀</code>. This is really a question where automated tools will not help you, and where you need human beings.</p>



<a name="183825723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183825723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183825723">(Dec 19 2019 at 08:37)</a>:</h4>
<p>Well, a list of all existing terms of that type would still be helpful, right?</p>



<a name="183826188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183826188">(Dec 19 2019 at 08:45)</a>:</h4>
<p>Of that exact type (i.e., using the same parameters and not a subset of them), up to permutation, yes this would definitely be useful.</p>



<a name="183826243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183826243">(Dec 19 2019 at 08:46)</a>:</h4>
<p>function.update?</p>



<a name="183826896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183826896">(Dec 19 2019 at 08:58)</a>:</h4>
<p>Thanks!</p>



<a name="183827006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183827006">(Dec 19 2019 at 09:00)</a>:</h4>
<p>Do you know the name of the following lemma in the library?</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">lt_of_lt_succ_ne</span> <span class="o">{</span><span class="n">j</span> <span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">≠</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">&lt;</span> <span class="n">n</span>
</pre></div>


<p>It is called <code>array.push_back_idx</code>. Thanks <code>library_search</code>!</p>



<a name="183827022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183827022">(Dec 19 2019 at 09:01)</a>:</h4>
<p>I believe there is something like that in <code>data.function</code>, I think it is called <code>function.write</code></p>



<a name="183827059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183827059">(Dec 19 2019 at 09:01)</a>:</h4>
<p>oh, I see Marc already found it</p>



<a name="183866525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juho Kupiainen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866525">(Dec 19 2019 at 17:28)</a>:</h4>
<p>This topic should probably actually be a stream.</p>



<a name="183866598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juho Kupiainen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866598">(Dec 19 2019 at 17:29)</a>:</h4>
<p>Is there the <strong>category Set</strong> defined somewhere? And set isomorphisms.</p>



<a name="183866703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866703" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866703">(Dec 19 2019 at 17:30)</a>:</h4>
<p>This category is overrated.</p>



<a name="183866736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866736">(Dec 19 2019 at 17:30)</a>:</h4>
<p>The relevant one is <strong>Type</strong>.</p>



<a name="183866792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Juho Kupiainen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866792">(Dec 19 2019 at 17:31)</a>:</h4>
<p>I really don't know anything about category theory. I'm just thinking there should be a definition of bijection somewhere..</p>



<a name="183866807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866807">(Dec 19 2019 at 17:31)</a>:</h4>
<p><code>equiv</code></p>



<a name="183866822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866822">(Dec 19 2019 at 17:31)</a>:</h4>
<p>is the type of bijections of types.</p>



<a name="183866930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866930">(Dec 19 2019 at 17:32)</a>:</h4>
<p>and if you don't know the difference between a set and a type (which is fine, e.g. most mathematicians don't) then what Patrick is saying is that in type theory, we call sets types, and the category you're looking for is indeed called <code>Type</code></p>



<a name="183866963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183866963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183866963">(Dec 19 2019 at 17:33)</a>:</h4>
<p>To give a term of type <code>equiv X Y</code> you have to give functions X-&gt;Y and Y-&gt;X, and proofs that both composites are the identity function.</p>



<a name="183867155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183867155" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183867155">(Dec 19 2019 at 17:35)</a>:</h4>
<p>There is also <code>bijective f</code>, a predicate for a function between types to be bijective, but in practice <code>equiv</code> works better.</p>



<a name="183867235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183867235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183867235">(Dec 19 2019 at 17:36)</a>:</h4>
<p>There are maps in both directions so you can move from one to the other</p>



<a name="183867291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183867291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183867291">(Dec 19 2019 at 17:37)</a>:</h4>
<p>there should be an equiv of them ;-)</p>



<a name="183868202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183868202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183868202">(Dec 19 2019 at 17:46)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">equiv</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">open</span> <span class="n">function</span>

<span class="n">noncomputable</span> <span class="kn">example</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span> <span class="bp">//</span> <span class="n">bijective</span> <span class="n">f</span><span class="o">}</span> <span class="err">≃</span> <span class="o">(</span><span class="n">X</span> <span class="err">≃</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">equiv</span><span class="bp">.</span><span class="n">of_bijective</span> <span class="n">f</span><span class="bp">.</span><span class="mi">2</span><span class="o">,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">e</span><span class="o">,</span> <span class="bp">⟨</span><span class="n">e</span><span class="o">,</span> <span class="n">e</span><span class="bp">.</span><span class="n">bijective</span><span class="bp">⟩</span><span class="o">,</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">subtype</span><span class="bp">.</span><span class="n">ext</span><span class="bp">.</span><span class="mi">2</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">e</span><span class="o">,</span> <span class="n">equiv</span><span class="bp">.</span><span class="n">ext</span> <span class="bp">_</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">rfl</span><span class="o">)</span>  <span class="o">}</span>
</pre></div>


<p>There's the two definitions of bijection, and a proof that they biject with each other ;-)</p>



<a name="183873808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183873808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183873808">(Dec 19 2019 at 18:54)</a>:</h4>
<p>I guess you could now apply the theorem to itself and deduce that they biject with each other in the other way too.</p>



<a name="183874089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183874089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Is.20there.20code.20for.20X.20already.20somewhere.3F.html#183874089">(Dec 19 2019 at 18:57)</a>:</h4>
<p>And then there is <code>iso</code> for the category <code>Type</code>. That's a third option.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>