---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html">$$[-\infty,\infty]$$ in Lean?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="180914397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914397">(Nov 16 2019 at 14:33)</a>:</h4>
<p>I am trying to develop a nice theory of suprema on the reals so I can teach it cleanly to undergraduates in Lean. Along the way I realised that I didn't know if we had a convenient "black box" API for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>. I guess I'd like an addition, subtraction, multiplication and division on it, and a total order with a bottom and a top. Is that a thing in Lean? I want it to be the target of a <code>def supremum : set ℝ →</code> map.</p>



<a name="180914456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914456">(Nov 16 2019 at 14:35)</a>:</h4>
<p>I don't want to re-invent the wheel.</p>



<a name="180914524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914524">(Nov 16 2019 at 14:37)</a>:</h4>
<p>The operations aren't very nice</p>



<a name="180914568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914568">(Nov 16 2019 at 14:38)</a>:</h4>
<p>what is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty + \infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span>? What about <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>⋅</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">0 \cdot \infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span>?</p>



<a name="180914574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914574">(Nov 16 2019 at 14:38)</a>:</h4>
<p>I don't care, I will never ask such silly questions so as far as I'm concerned it could be 37</p>



<a name="180914585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914585">(Nov 16 2019 at 14:39)</a>:</h4>
<p>When I write my theorems I'll put in hypotheses which are guaranteed to make + make sense.</p>



<a name="180914587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914587">(Nov 16 2019 at 14:39)</a>:</h4>
<p>the hypotheses are pretty hairy</p>



<a name="180914617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914617">(Nov 16 2019 at 14:40)</a>:</h4>
<p>You are quite happily incorrectly assigning <code>0</code> to <code>1/0</code> and we don't care because we'd never do that. Isn't it the same here?</p>



<a name="180914637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914637">(Nov 16 2019 at 14:40)</a>:</h4>
<p>Do you want me to write you a formal API for what I want?</p>



<a name="180914645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914645">(Nov 16 2019 at 14:40)</a>:</h4>
<p>Assuming <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi><mo>+</mo><mi mathvariant="normal">∞</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">-\infty+\infty=0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>, the addition is associative except in the case <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo><mo>+</mo><mi>a</mi><mi mathvariant="normal">≠</mi><mo>−</mo><mi mathvariant="normal">∞</mi><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∞</mi><mo>+</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-\infty + \infty) + a \ne -\infty + (\infty + a)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∞</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span></p>



<a name="180914657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914657">(Nov 16 2019 at 14:41)</a>:</h4>
<p>I can just develop a theory of sup and give you some sort of a formal API.</p>



<a name="180914712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914712">(Nov 16 2019 at 14:43)</a>:</h4>
<p>I think it might be good to have a <code>with_bounds</code> constructor like <code>with_top</code> and <code>with_bot</code></p>



<a name="180914718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914718">(Nov 16 2019 at 14:43)</a>:</h4>
<p>(from mathlib:) </p>
<div class="codehilite"><pre><span></span>noncomputable def Sup (S : set ℝ) : ℝ :=
if h : (∃ x, x ∈ S) ∧ (∃ x, ∀ y ∈ S, y ≤ x)
then classical.some (exists_sup S h.1 h.2) else 0
</pre></div>


<p>That is not a pretty function.</p>



<a name="180914760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914760">(Nov 16 2019 at 14:44)</a>:</h4>
<p>A better target is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>.</p>



<a name="180914764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914764">(Nov 16 2019 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> what do you think?</p>



<a name="180914830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914830">(Nov 16 2019 at 14:46)</a>:</h4>
<p>I'm not really disagreeing, but I'm surprised to hear this coming from a mathematician</p>



<a name="180914838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914838">(Nov 16 2019 at 14:47)</a>:</h4>
<p>metamath has extended reals defined just as you say, with a bunch of messy totalized algebraic operations</p>



<a name="180914879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914879">(Nov 16 2019 at 14:48)</a>:</h4>
<p>but it works better in ZFC I think because you can just take subsets for things like <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> instead of building a whole new type from scratch</p>



<a name="180914882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914882">(Nov 16 2019 at 14:48)</a>:</h4>
<p>Oh so now can you just magically import it to Lean 3?</p>



<a name="180914898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914898">(Nov 16 2019 at 14:49)</a>:</h4>
<p>The <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span> relation is actually defined over <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty, \infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> and merely specializes to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span></p>



<a name="180914900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914900">(Nov 16 2019 at 14:49)</a>:</h4>
<p>I don't care about your silly infrastructure issues, I would be completely happy with an axiomatised version of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> and then just a way of knowing that the metamath API which I would use, could be ported to Lean by you.</p>



<a name="180914908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914908">(Nov 16 2019 at 14:49)</a>:</h4>
<p>It would save us all a lot of bother. I would quite happily just develop with a metamath API.</p>



<a name="180914950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914950" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914950">(Nov 16 2019 at 14:50)</a>:</h4>
<p>I don't think you would actually save much in this case</p>



<a name="180914957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914957">(Nov 16 2019 at 14:50)</a>:</h4>
<p>the theorems are all pretty trivial, it's like "integer world"</p>



<a name="180914963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914963">(Nov 16 2019 at 14:51)</a>:</h4>
<p>So for example how do I prove <code>sup (X + Y) = sup X + sup Y</code>?</p>



<a name="180914971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914971">(Nov 16 2019 at 14:51)</a>:</h4>
<p>That's false</p>



<a name="180914973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914973">(Nov 16 2019 at 14:51)</a>:</h4>
<p>It depends on what X and Y are</p>



<a name="180914975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914975">(Nov 16 2019 at 14:51)</a>:</h4>
<p>ok assuming some edge conditions</p>



<a name="180914977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914977">(Nov 16 2019 at 14:51)</a>:</h4>
<p>it's true with probability 1</p>



<a name="180914978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180914978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180914978">(Nov 16 2019 at 14:51)</a>:</h4>
<p>like that everything is a defined real number?</p>



<a name="180915020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915020">(Nov 16 2019 at 14:52)</a>:</h4>
<p><code>sup (X + Y) = sup X + sup Y</code> is a well-known example sheet question so it must be true.</p>



<a name="180915035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915035">(Nov 16 2019 at 14:52)</a>:</h4>
<p>the details of sorting out the edge cases are left to the reader.</p>



<a name="180915047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915047">(Nov 16 2019 at 14:53)</a>:</h4>
<p>extended reals are basically an exercise in "trivial generalization". You have a bunch of theorems about reals, you replace everything with extended reals, and then stuff holds under some assumption, and you work out the assumption</p>



<a name="180915053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915053">(Nov 16 2019 at 14:53)</a>:</h4>
<p>and if the assumption is "everything is real" then you scrap the theorem</p>



<a name="180915055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915055">(Nov 16 2019 at 14:54)</a>:</h4>
<p>So what is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> called in Lean?</p>



<a name="180915094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915094">(Nov 16 2019 at 14:54)</a>:</h4>
<p><code>ereal</code> seems reasonable</p>



<a name="180915098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915098">(Nov 16 2019 at 14:54)</a>:</h4>
<p>But it doesn't exist yet in mathlib?</p>



<a name="180915100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915100">(Nov 16 2019 at 14:54)</a>:</h4>
<p>nope</p>



<a name="180915102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915102">(Nov 16 2019 at 14:54)</a>:</h4>
<p>and does it exist in metamath?</p>



<a name="180915103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915103">(Nov 16 2019 at 14:54)</a>:</h4>
<p><code>with_bot (with_top real)</code> does</p>



<a name="180915113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915113">(Nov 16 2019 at 14:55)</a>:</h4>
<p>So is that the mathlib-correct definition of <code>ereal</code> in Lean?</p>



<a name="180915114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915114">(Nov 16 2019 at 14:55)</a>:</h4>
<p>yes, metamath has used this representation for a long time</p>



<a name="180915116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915116">(Nov 16 2019 at 14:56)</a>:</h4>
<p>Depends on whether you care about computability. There is a way to define it using cauchy sequences that converge to infinity</p>



<a name="180915160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915160">(Nov 16 2019 at 14:56)</a>:</h4>
<p>Can you just give me a way of generating a Lean 3.5.0c definition of <code>ereal</code> with all its metamath API?</p>



<a name="180915161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915161">(Nov 16 2019 at 14:56)</a>:</h4>
<p>If you don't care about computability, then <code>with_bounds real</code> would do the trick</p>



<a name="180915166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915166">(Nov 16 2019 at 14:57)</a>:</h4>
<p>using some <code>mm0</code> magic?</p>



<a name="180915170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915170">(Nov 16 2019 at 14:57)</a>:</h4>
<p>you are wishing for a kind of magic that doesn't exist yet</p>



<a name="180915171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915171">(Nov 16 2019 at 14:57)</a>:</h4>
<p>API translation is really hard because idioms are different</p>



<a name="180915217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915217">(Nov 16 2019 at 14:58)</a>:</h4>
<p>I can give you theorems but they will be ugly and horrible</p>



<a name="180915302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915302">(Nov 16 2019 at 15:00)</a>:</h4>
<p>Can you point me to the metamath definition of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>?</p>



<a name="180915314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915314">(Nov 16 2019 at 15:01)</a>:</h4>
<p>I just don't like the look of mathlib's <code>Sup</code>.</p>



<a name="180915368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915368" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915368">(Nov 16 2019 at 15:02)</a>:</h4>
<p>Even better, can you point me to the definition of <code>\math{Sup} (S : set ℝ) : </code><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>?</p>



<a name="180915377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915377">(Nov 16 2019 at 15:03)</a>:</h4>
<p>I want "mathematican's sup" in some language or other.</p>



<a name="180915427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915427">(Nov 16 2019 at 15:04)</a>:</h4>
<p>The definition of the numbers <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">∞</span></span></span></span> in metamath is a bit peculiar: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∞</mi><mo>=</mo><mi mathvariant="script">P</mi><mo>⋃</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\infty=\mathcal{P}\bigcup(\mathbb{R})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋃</span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi><mo>=</mo><mi mathvariant="script">P</mi><mi mathvariant="script">P</mi><mo>⋃</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-\infty=\mathcal{P}\mathcal{P}\bigcup(\mathbb{R})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋃</span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> so that Russell's paradox ensures that these are disjoint from <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span>. In lean that would be an inductive with two extra elements.</p>



<a name="180915430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915430">(Nov 16 2019 at 15:04)</a>:</h4>
<p>I'm just hoping you can give me some kind of link to the definition.</p>



<a name="180915445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915445">(Nov 16 2019 at 15:05)</a>:</h4>
<p>Either of math <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> or of math sup.</p>



<a name="180915450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915450">(Nov 16 2019 at 15:05)</a>:</h4>
<p><a href="http://us.metamath.org/mpeuni/df-pnf.html" target="_blank" title="http://us.metamath.org/mpeuni/df-pnf.html">http://us.metamath.org/mpeuni/df-pnf.html</a> is infinity, <a href="http://us.metamath.org/mpeuni/df-xadd.html" target="_blank" title="http://us.metamath.org/mpeuni/df-xadd.html">http://us.metamath.org/mpeuni/df-xadd.html</a> is the addition operation, and other algebra is near that</p>



<a name="180915497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915497">(Nov 16 2019 at 15:06)</a>:</h4>
<p>the order is <a href="http://us.metamath.org/mpeuni/df-ltxr.html" target="_blank" title="http://us.metamath.org/mpeuni/df-ltxr.html">http://us.metamath.org/mpeuni/df-ltxr.html</a></p>



<a name="180915502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915502">(Nov 16 2019 at 15:06)</a>:</h4>
<p>it's all very explicit case analysis</p>



<a name="180915512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915512">(Nov 16 2019 at 15:07)</a>:</h4>
<p>proofs of stuff like associativity requires lots of case disjunctions</p>



<a name="180915520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915520">(Nov 16 2019 at 15:07)</a>:</h4>
<p>I was just hoping for precisely one link which either corresponded to <code>ereal</code> or <code>sup</code>.</p>



<a name="180915558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915558">(Nov 16 2019 at 15:08)</a>:</h4>
<p>I'm trying to make contact.</p>



<a name="180915565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915565">(Nov 16 2019 at 15:08)</a>:</h4>
<p><code>sup</code> is defined generically, and <code>[A, B]</code> is also defined somewhat generically</p>



<a name="180915581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915581">(Nov 16 2019 at 15:09)</a>:</h4>
<p>you just say <code>sup(A, &lt;, R*)</code> for the extended real sup</p>



<a name="180915589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915589">(Nov 16 2019 at 15:09)</a>:</h4>
<p>So are you saying that you cannot offer me some kind of explicit computer program which I can run and in which I'll be able to construct something which you would call a <code>term</code> and which I would call <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>?</p>



<a name="180915591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915591">(Nov 16 2019 at 15:09)</a>:</h4>
<p>oh right, ereal is a set <a href="http://us.metamath.org/mpeuni/df-xr.html" target="_blank" title="http://us.metamath.org/mpeuni/df-xr.html">http://us.metamath.org/mpeuni/df-xr.html</a></p>



<a name="180915603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915603">(Nov 16 2019 at 15:10)</a>:</h4>
<p>Oh fabulous :D</p>



<a name="180915648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915648">(Nov 16 2019 at 15:11)</a>:</h4>
<p>I forgot that the notation isn't actually <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> but that is actual notation, the closed interval from <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span>, and it is equal to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></p>



<a name="180915658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915658">(Nov 16 2019 at 15:11)</a>:</h4>
<p>so ennreal is written <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> and that's not a fake composite notation</p>



<a name="180915715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180915715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180915715">(Nov 16 2019 at 15:13)</a>:</h4>
<p>sup is <a href="http://us.metamath.org/mpeuni/df-sup.html" target="_blank" title="http://us.metamath.org/mpeuni/df-sup.html">http://us.metamath.org/mpeuni/df-sup.html</a></p>



<a name="180916052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916052">(Nov 16 2019 at 15:22)</a>:</h4>
<p>What is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span> in Lean? I'd like it to be a term of some type.</p>



<a name="180916148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916148">(Nov 16 2019 at 15:24)</a>:</h4>
<p>Is <code>metamath.df_sup</code> a function?</p>



<a name="180916153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916153">(Nov 16 2019 at 15:24)</a>:</h4>
<p>It's annoying that <code>metamath.df-sup</code> doesn't seem to be OK for Lean.</p>



<a name="180916178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916178">(Nov 16 2019 at 15:25)</a>:</h4>
<p>Are there two URLs at <code>http://us.metamath.org</code> such that metamath's <code>df-sup</code> is a function between those two URLs?</p>



<a name="180916228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916228">(Nov 16 2019 at 15:26)</a>:</h4>
<p>Kevin, can't you just prove a bunch of theorems about <code>with_bot (with_top real)</code>?</p>



<a name="180916237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916237">(Nov 16 2019 at 15:26)</a>:</h4>
<p>Of course I could! But I want to understand why <code>mm0</code> can't just do it for me.</p>



<a name="180916323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916323">(Nov 16 2019 at 15:29)</a>:</h4>
<p>df-sup means that if you write <code>sup(A, &lt;, R*)</code> and <code>A</code> is a subset of the extended reals then the result is an extended real. You can call that a function I guess</p>



<a name="180916371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916371">(Nov 16 2019 at 15:30)</a>:</h4>
<p><a href="http://us.metamath.org/mpeuni/supxrcl.html" target="_blank" title="http://us.metamath.org/mpeuni/supxrcl.html">http://us.metamath.org/mpeuni/supxrcl.html</a></p>



<a name="180916379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916379">(Nov 16 2019 at 15:31)</a>:</h4>
<p>this theorem is nice since it doesn't have any assumptions unlike so many other theorems about sup</p>



<a name="180916424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916424">(Nov 16 2019 at 15:32)</a>:</h4>
<p>I was looking through mathlib for uses of the notation <code>\infty</code>. It seems that it is defined <a href="https://github.com/leanprover-community/mathlib/blob/6ebb7e7884c9b11c137f5bb288cd80a46bc6dfac/src/data/real/ennreal.lean#L19" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/6ebb7e7884c9b11c137f5bb288cd80a46bc6dfac/src/data/real/ennreal.lean#L19">here</a> as "localised notation"? What does that mean?</p>



<a name="180916430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916430">(Nov 16 2019 at 15:32)</a>:</h4>
<p>That you need to <code>open_locale</code> to access it</p>



<a name="180916448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916448">(Nov 16 2019 at 15:33)</a>:</h4>
<p>I want to use <code>∞</code> and <code>-∞</code> and any real number to be terms of this type.</p>



<a name="180916454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916454">(Nov 16 2019 at 15:34)</a>:</h4>
<p>okay...?</p>



<a name="180916493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916493">(Nov 16 2019 at 15:34)</a>:</h4>
<p>I'm happy for a coercion from the reals but I demand the notation <code>∞</code> and <code>-∞</code></p>



<a name="180916495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916495">(Nov 16 2019 at 15:34)</a>:</h4>
<p>mathlib will probably prefer \top and \bot</p>



<a name="180916497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916497">(Nov 16 2019 at 15:34)</a>:</h4>
<p>Can I get that with <code>with_bot (with_top real)</code>?</p>



<a name="180916500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916500">(Nov 16 2019 at 15:34)</a>:</h4>
<p>you will have to write notation for it</p>



<a name="180916504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916504">(Nov 16 2019 at 15:35)</a>:</h4>
<p>OK I am completely happy to use \top and \bot.</p>



<a name="180916515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916515">(Nov 16 2019 at 15:35)</a>:</h4>
<p>I am happy to write a mathematician's dictionary.</p>



<a name="180916518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916518">(Nov 16 2019 at 15:35)</a>:</h4>
<p>I'm losing track of what you want</p>



<a name="180916551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916551">(Nov 16 2019 at 15:36)</a>:</h4>
<p>If I were to write a real number game I could just hack that.</p>



<a name="180916560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916560">(Nov 16 2019 at 15:36)</a>:</h4>
<p>you should just hack all of this</p>



<a name="180916567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916567" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916567">(Nov 16 2019 at 15:36)</a>:</h4>
<p>I want the following thing to compile in Lean: (give me a sec)</p>



<a name="180916569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916569" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916569">(Nov 16 2019 at 15:36)</a>:</h4>
<p>then you can call anything you want whatever you want</p>



<a name="180916769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916769">(Nov 16 2019 at 15:42)</a>:</h4>
<p>Does Lean have <code>conditionally complete lattice : with_bot (with_top real)</code>? Does Metamath?</p>



<a name="180916789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916789">(Nov 16 2019 at 15:43)</a>:</h4>
<p>Does metamath have Lean's <code>conditionally complete lattice</code>?</p>



<a name="180916833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916833">(Nov 16 2019 at 15:44)</a>:</h4>
<p>It would be a complete lattice.</p>



<a name="180916904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180916904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180916904">(Nov 16 2019 at 15:46)</a>:</h4>
<p>Thanks Chris. I am well out of my depth in lattice theory here. Does Lean have the instance of whatever the correct kind of sup-semi-bot lattice <code>with_bot (with_top real)</code> is supposed to be? And the same question for metamath for the metamath term <code>df-xr</code>?</p>



<a name="180917180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917180">(Nov 16 2019 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> this doesn't compile in Lean:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">complete_lattice</span> <span class="n">with_bot</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">real</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>


<p>What other imports or open stuff do I need?</p>



<a name="180917223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917223">(Nov 16 2019 at 15:54)</a>:</h4>
<p>You need to <code>open lattice</code></p>



<a name="180917248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917248">(Nov 16 2019 at 15:55)</a>:</h4>
<p>This fails:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="c">/-</span><span class="cm">- The set $$[-\infty,+\infty]$$ is a</span>
<span class="cm">&lt;a href=&quot;https://en.wikipedia.org/wiki/Complete_lattice&quot;&gt;complete lattice.&lt;/a&gt; -/</span>
<span class="kn">instance</span> <span class="o">:</span> <span class="n">lattice</span><span class="bp">.</span><span class="n">complete_lattice</span> <span class="o">(</span><span class="n">with_bot</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">ℝ</span><span class="o">))</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">apply_instance</span>
</pre></div>



<a name="180917375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917375">(Nov 16 2019 at 15:58)</a>:</h4>
<p>Ooh sure it will fail. Why wouldn't it.</p>



<a name="180917382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917382">(Nov 16 2019 at 15:58)</a>:</h4>
<p>It should be able to figure out that you've got a lattice though</p>



<a name="180917385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917385">(Nov 16 2019 at 15:58)</a>:</h4>
<p>But completeness needs a bit of work</p>



<a name="180917475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917475">(Nov 16 2019 at 16:00)</a>:</h4>
<p>But is it true?</p>



<a name="180917485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917485">(Nov 16 2019 at 16:01)</a>:</h4>
<p>And does metamath have it?</p>



<a name="180917493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917493">(Nov 16 2019 at 16:01)</a>:</h4>
<p>How do I use automation to find out whether metamath has complete lattices?</p>



<a name="180917542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917542">(Nov 16 2019 at 16:02)</a>:</h4>
<p>Metamath has complete lattices, but they aren't involved in the definition of the reals at all</p>



<a name="180917562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917562">(Nov 16 2019 at 16:03)</a>:</h4>
<p>Can you give me a <code>us.metamath.org</code> URL corresponding to the proof that <code>df-xr</code> is a complete lattice?</p>



<a name="180917568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917568">(Nov 16 2019 at 16:03)</a>:</h4>
<p>not sure there is one</p>



<a name="180917578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917578">(Nov 16 2019 at 16:03)</a>:</h4>
<p>Would it be easier to make one in Lean or in metamath?</p>



<a name="180917613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917613">(Nov 16 2019 at 16:04)</a>:</h4>
<p>oh, no it is: <a href="http://us.metamath.org/mpeuni/xrsclat.html" target="_blank" title="http://us.metamath.org/mpeuni/xrsclat.html">http://us.metamath.org/mpeuni/xrsclat.html</a></p>



<a name="180917628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917628">(Nov 16 2019 at 16:04)</a>:</h4>
<p>How do I verify that this is a theorem about <code>df-xr</code>?</p>



<a name="180917644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917644">(Nov 16 2019 at 16:05)</a>:</h4>
<p>being a complete lattice is a property of a structure, not just a set. <code>RR*</code> is a set, <code>RR*s</code> is the structure</p>



<a name="180917692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917692">(Nov 16 2019 at 16:06)</a>:</h4>
<p>the definition of the structure is <a href="http://us.metamath.org/mpeuni/df-xrs.html" target="_blank" title="http://us.metamath.org/mpeuni/df-xrs.html">http://us.metamath.org/mpeuni/df-xrs.html</a></p>



<a name="180917699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917699">(Nov 16 2019 at 16:06)</a>:</h4>
<p>Are you using metamath notation? I keep talking about <code>df-xr</code> and you never mention it. I don't know what any of this <code>RR*</code> business means</p>



<a name="180917700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917700">(Nov 16 2019 at 16:06)</a>:</h4>
<p>you are going to notice that metamath does things pretty significantly differently than lean here</p>



<a name="180917702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917702">(Nov 16 2019 at 16:06)</a>:</h4>
<p>RR* is df-xr</p>



<a name="180917705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917705">(Nov 16 2019 at 16:06)</a>:</h4>
<p>RR* is the actual term</p>



<a name="180917709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917709">(Nov 16 2019 at 16:07)</a>:</h4>
<p>df-xr is the definition that introduces it</p>



<a name="180917718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917718">(Nov 16 2019 at 16:07)</a>:</h4>
<p>these are distinct?</p>



<a name="180917729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917729">(Nov 16 2019 at 16:07)</a>:</h4>
<p>Is <code>RR*</code> a set?</p>



<a name="180917773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917773">(Nov 16 2019 at 16:08)</a>:</h4>
<p>they are in different syntactic classes. One is the label of a theorem (saying RR* = ...) and the other is a math expression</p>



<a name="180917780"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917780" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917780">(Nov 16 2019 at 16:08)</a>:</h4>
<p>RR* is a set</p>



<a name="180917788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917788">(Nov 16 2019 at 16:08)</a>:</h4>
<p>In lean this is like <code>ereal</code> itself</p>



<a name="180917789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917789">(Nov 16 2019 at 16:08)</a>:</h4>
<p>I want to call it <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span>.</p>



<a name="180917791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917791">(Nov 16 2019 at 16:08)</a>:</h4>
<p>sure</p>



<a name="180917796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917796">(Nov 16 2019 at 16:08)</a>:</h4>
<p>that's also a set, and it's the same set</p>



<a name="180917810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917810">(Nov 16 2019 at 16:09)</a>:</h4>
<p>so in metamath we wouldn't make a big fuss about the distinction</p>



<a name="180917882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917882">(Nov 16 2019 at 16:10)</a>:</h4>
<p><a href="http://us.metamath.org/mpeuni/iccmax.html" target="_blank" title="http://us.metamath.org/mpeuni/iccmax.html">http://us.metamath.org/mpeuni/iccmax.html</a></p>



<a name="180917895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917895">(Nov 16 2019 at 16:11)</a>:</h4>
<p>Would you way that <a href="http://us.metamath.org/mpeuni/xrsclat.html" target="_blank" title="http://us.metamath.org/mpeuni/xrsclat.html">this link (us.metamath.org)</a> faithfully corresponded to what a mathematican means when they say "<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a <a href="https://en.wikipedia.org/wiki/Complete_lattice" target="_blank" title="https://en.wikipedia.org/wiki/Complete_lattice">complete lattice</a>"?</p>



<a name="180917900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917900">(Nov 16 2019 at 16:11)</a>:</h4>
<p>yes</p>



<a name="180917954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917954">(Nov 16 2019 at 16:12)</a>:</h4>
<p>And would you also say that the Lean term </p>
<div class="codehilite"><pre><span></span>import data.real.basic
/-- The set $$[-\infty,+\infty]$$ is a
&lt;a href=&quot;https://en.wikipedia.org/wiki/Complete_lattice&quot;&gt;complete lattice.&lt;/a&gt; -/
instance : lattice.complete_lattice (with_bot (with_top ℝ)) := sorry
</pre></div>


<p>also faithfully corresponded to that metamath link?</p>



<a name="180917968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180917968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180917968">(Nov 16 2019 at 16:13)</a>:</h4>
<p>I would want to double check that the ordering being talked about is the natural one, but otherwise yes</p>



<a name="180918015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918015">(Nov 16 2019 at 16:14)</a>:</h4>
<p>Then I can go into the <code>i_believe_in_metamath</code> namespace in a Lean file and just add the Lean instance as an axiom.</p>



<a name="180918021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918021">(Nov 16 2019 at 16:14)</a>:</h4>
<p>I'm not sure what you are getting at</p>



<a name="180918046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918046">(Nov 16 2019 at 16:15)</a>:</h4>
<p>I assume you believe in math here</p>



<a name="180918050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918050">(Nov 16 2019 at 16:15)</a>:</h4>
<p>I want automation to make that term, and until it does I'm happy to throw it in as an axiom.</p>



<a name="180918051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918051">(Nov 16 2019 at 16:15)</a>:</h4>
<p>of course <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a complete lattice</p>



<a name="180918053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918053">(Nov 16 2019 at 16:15)</a>:</h4>
<p>I never want to see any details of that term.</p>



<a name="180918065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918065">(Nov 16 2019 at 16:15)</a>:</h4>
<p>you are going to have a hard time turning the metamath proof into a lean proof of that term</p>



<a name="180918105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918105">(Nov 16 2019 at 16:16)</a>:</h4>
<p>Why is that?</p>



<a name="180918110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918110">(Nov 16 2019 at 16:16)</a>:</h4>
<p>they are stated in completely different ways</p>



<a name="180918111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918111">(Nov 16 2019 at 16:16)</a>:</h4>
<p>What does mm0 do?</p>



<a name="180918112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918112">(Nov 16 2019 at 16:16)</a>:</h4>
<p>it gives you a deep embedding of the metamath statement in lean</p>



<a name="180918118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918118">(Nov 16 2019 at 16:16)</a>:</h4>
<p>Does it give me the term?</p>



<a name="180918132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918132">(Nov 16 2019 at 16:17)</a>:</h4>
<p>If not, then what substitute does it give me?</p>



<a name="180918140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918140">(Nov 16 2019 at 16:17)</a>:</h4>
<p>you get that <code>metamath.RR*s</code> is an element of <code>metamath.CLat</code> and now you have a hundred theorems to prove about how <code>CLat</code> is related to <code>complete_lattice</code> and the structures correspond etc etc</p>



<a name="180918211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918211">(Nov 16 2019 at 16:19)</a>:</h4>
<p>If you are willing to accept that <code>metamath.CLat</code> is the definition of a complete lattice then that's fine, but the problem is that lean already has a pre-existing definition and you want to connect to that</p>



<a name="180918281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918281">(Nov 16 2019 at 16:20)</a>:</h4>
<p>kevin only wanted a banana but he got the gorilla holding it and the entire jungle :p</p>



<a name="180918290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918290">(Nov 16 2019 at 16:20)</a>:</h4>
<p>a fair bit of the continent too</p>



<a name="180918301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918301">(Nov 16 2019 at 16:21)</a>:</h4>
<p>So at the end of the day, <code>CLat</code> is a translation of the Wikipedia definition into one computer language, and <code>complete lattice</code> is a translation of the same page into another language, but we can't link the languages very easily at all.</p>



<a name="180918304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918304">(Nov 16 2019 at 16:21)</a>:</h4>
<p>such is life</p>



<a name="180918308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918308">(Nov 16 2019 at 16:21)</a>:</h4>
<p>it's doable, but a nontrivial amount of work</p>



<a name="180918349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918349">(Nov 16 2019 at 16:22)</a>:</h4>
<p>But I can just add it as an axiom in the real number game.</p>



<a name="180918360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918360">(Nov 16 2019 at 16:22)</a>:</h4>
<p>or you could ask one of your minions</p>



<a name="180918363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918363">(Nov 16 2019 at 16:22)</a>:</h4>
<p>And leave a note on the axiom that this relies on claims both from Lean and from metamath.</p>



<a name="180918366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918366">(Nov 16 2019 at 16:22)</a>:</h4>
<p>it's not a hard theorem, really</p>



<a name="180918381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918381">(Nov 16 2019 at 16:23)</a>:</h4>
<p>the claims being "this is the way our system says that "<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a complete lattice"</p>



<a name="180918386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918386">(Nov 16 2019 at 16:23)</a>:</h4>
<p>If it's not a hard theorem than can Lean's automation do it?</p>



<a name="180918428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918428">(Nov 16 2019 at 16:24)</a>:</h4>
<p>it's quite close already</p>



<a name="180918431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918431">(Nov 16 2019 at 16:24)</a>:</h4>
<p>we just lack the necessary typeclasses to infer this outright</p>



<a name="180918451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918451">(Nov 16 2019 at 16:25)</a>:</h4>
<p>but if you want a minimum work solution, it is to just prove the theorem directly</p>



<a name="180918459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918459">(Nov 16 2019 at 16:25)</a>:</h4>
<p>using the fact that R is conditionally complete</p>



<a name="180918462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918462">(Nov 16 2019 at 16:25)</a>:</h4>
<p>Let's just say that I add the instance as an axiom now, and start developing a theory of suprema for ereal`. Some time later a minion constructs the term, I update mathlib, I get a nameclash error with my axiom and I just delete it. Will my code still compile?</p>



<a name="180918505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918505">(Nov 16 2019 at 16:26)</a>:</h4>
<p>Will I have had trouble with writing code when it was just an axiom?</p>



<a name="180918510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918510">(Nov 16 2019 at 16:26)</a>:</h4>
<p>yes, it's an instance with data</p>



<a name="180918513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918513">(Nov 16 2019 at 16:26)</a>:</h4>
<p>you can't just sorry the whole thing</p>



<a name="180918526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918526">(Nov 16 2019 at 16:27)</a>:</h4>
<p>at the very least you should partially fill in the instance with the inherited order</p>



<a name="180918581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918581">(Nov 16 2019 at 16:28)</a>:</h4>
<p>Aah so you are claiming more than the existence of a term<br>
<code>instance : lattice.complete_lattice (with_bot (with_top ℝ)) := sorry</code>? This instance has some properties?</p>



<a name="180918589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918589">(Nov 16 2019 at 16:28)</a>:</h4>
<p>You told me that it faithfully conformed to the mathematican statement.</p>



<a name="180918611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918611">(Nov 16 2019 at 16:29)</a>:</h4>
<p>I qualified that statement if you recall</p>



<a name="180918613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918613">(Nov 16 2019 at 16:29)</a>:</h4>
<blockquote>
<p>I would want to double check that the ordering being talked about is the natural one, but otherwise yes</p>
</blockquote>



<a name="180918689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918689">(Nov 16 2019 at 16:31)</a>:</h4>
<p>for all I know it's the complete powerset ordering on 2^nat mapped to ereal</p>



<a name="180918691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918691">(Nov 16 2019 at 16:31)</a>:</h4>
<p>But could it be possible to construct an instance of <code>lattice.complete_lattice (with_bot (with_top ℝ))</code> which did not extend the lattice structure on the reals after the import of <code>data.real.basic</code>?</p>



<a name="180918696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918696">(Nov 16 2019 at 16:31)</a>:</h4>
<p>yes, this is possible</p>



<a name="180918735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918735">(Nov 16 2019 at 16:32)</a>:</h4>
<p>So it really is not true that this term is the same as what a mathematician <em>means</em>.</p>



<a name="180918738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918738">(Nov 16 2019 at 16:32)</a>:</h4>
<p>you would get two incompatible instances of <code>has_le (with_bot (with_top ℝ)) </code> as a result</p>



<a name="180918741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918741">(Nov 16 2019 at 16:32)</a>:</h4>
<p>which is bad but not checked by lean</p>



<a name="180918742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918742">(Nov 16 2019 at 16:32)</a>:</h4>
<p>So you'd get a diamond?</p>



<a name="180918746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918746">(Nov 16 2019 at 16:32)</a>:</h4>
<p>a non-commuting diamond</p>



<a name="180918749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918749">(Nov 16 2019 at 16:32)</a>:</h4>
<p>Would having those two incompatible instances be acceptable in a mathlib PR?</p>



<a name="180918751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918751">(Nov 16 2019 at 16:32)</a>:</h4>
<p>absolutely not</p>



<a name="180918765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918765">(Nov 16 2019 at 16:33)</a>:</h4>
<p>Is there some automation which mathlib passes and which a PR with such a diamond would not pass?</p>



<a name="180918769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918769">(Nov 16 2019 at 16:33)</a>:</h4>
<p>theoretical automation could check this</p>



<a name="180918819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918819">(Nov 16 2019 at 16:34)</a>:</h4>
<p>Just come kind of completely stupid "let's check for diamonds of some generic form" automation? But it's not there, we're relying on humans to spot the diamond. Would mathlib compile with the diamond in there?</p>



<a name="180918828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918828">(Nov 16 2019 at 16:35)</a>:</h4>
<p>yes it would compile, but a few months down the line someone would get a weird instance failure in the middle of a proof</p>



<a name="180918841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918841">(Nov 16 2019 at 16:35)</a>:</h4>
<p>I'm trying to evaluate to what extent humans are involved in the proof of your claim that a term of this type is the same as what a mathematician means by the statement that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a complete lattice.</p>



<a name="180918886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918886">(Nov 16 2019 at 16:36)</a>:</h4>
<p>I will remind you that " <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a complete lattice" is an incomplete statement. It should be "<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mo>≤</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">([-\infty,+\infty],\le)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span> is a complete lattice" and you have to provide a definition of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span></p>



<a name="180918898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918898">(Nov 16 2019 at 16:37)</a>:</h4>
<p>Oh I can do that! It's the obvious one. Is that term in mathlib?</p>



<a name="180918945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918945">(Nov 16 2019 at 16:38)</a>:</h4>
<p>This would be acceptable to me:</p>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm">- The set $$[-\infty,+\infty]$$ is a</span>
<span class="cm">&lt;a href=&quot;https://en.wikipedia.org/wiki/Complete_lattice&quot;&gt;complete lattice.&lt;/a&gt; -/</span>
<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="o">:</span> <span class="n">lattice</span><span class="bp">.</span><span class="n">complete_lattice</span> <span class="o">(</span><span class="n">with_bot</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">ℝ</span><span class="o">))</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">top</span> <span class="o">:=</span> <span class="err">⊤</span><span class="o">,</span>
  <span class="n">le_top</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">lattice</span><span class="bp">.</span><span class="n">le_top</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">bot</span> <span class="o">:=</span> <span class="err">⊥</span><span class="o">,</span>
  <span class="n">bot_le</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">lattice</span><span class="bp">.</span><span class="n">bot_le</span> <span class="bp">_</span> <span class="bp">_</span><span class="o">,</span>
  <span class="n">Sup</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">Inf</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">le_Sup</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">Sup_le</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">Inf_le</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">le_Inf</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">with_bot</span><span class="bp">.</span><span class="n">lattice</span> <span class="o">}</span>
</pre></div>



<a name="180918946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918946">(Nov 16 2019 at 16:38)</a>:</h4>
<p><code>instance : has_le (with_bot (with_top ℝ)) := by apply_instance</code> works! Yeah, I want that one.</p>



<a name="180918954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918954">(Nov 16 2019 at 16:39)</a>:</h4>
<p>Does the instance you post have a diamond?</p>



<a name="180918961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918961">(Nov 16 2019 at 16:39)</a>:</h4>
<p>it commutes</p>



<a name="180918964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918964">(Nov 16 2019 at 16:39)</a>:</h4>
<p>defeq?</p>



<a name="180918967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180918967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180918967">(Nov 16 2019 at 16:39)</a>:</h4>
<p>yes</p>



<a name="180919008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919008">(Nov 16 2019 at 16:40)</a>:</h4>
<p>Is there a metamath URL for each of the sorrys?</p>



<a name="180919019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919019">(Nov 16 2019 at 16:40)</a>:</h4>
<p>not really, metamath expresses the property of being complete differently</p>



<a name="180919024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919024">(Nov 16 2019 at 16:40)</a>:</h4>
<p>there is a lot less data in metamath's definition</p>



<a name="180919025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919025">(Nov 16 2019 at 16:40)</a>:</h4>
<p>Oh curses, then my luck has run out.</p>



<a name="180919035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919035">(Nov 16 2019 at 16:41)</a>:</h4>
<p>But these sorries are minion-fodder right?</p>



<a name="180919039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919039">(Nov 16 2019 at 16:41)</a>:</h4>
<p>in metamath it really is just <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mo>≤</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X, \le)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span> rather than lean's <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mo>≤</mo><mo separator="true">,</mo><mo>&lt;</mo><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><mi mathvariant="normal">⊤</mi><mo separator="true">,</mo><mo>⊓</mo><mo separator="true">,</mo><mo>⊔</mo><mo separator="true">,</mo><mo>⋂</mo><mo separator="true">,</mo><mo>⋃</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X,\le,&lt;,\bot,\top,\sqcap,\sqcup,\bigcap,\bigcup)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⊤</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⊓</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">⊔</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋂</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">⋃</span><span class="mclose">)</span></span></span></span></p>



<a name="180919088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919088">(Nov 16 2019 at 16:42)</a>:</h4>
<p>Is there a URL for any or all of the extra Lean notation?</p>



<a name="180919090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919090">(Nov 16 2019 at 16:42)</a>:</h4>
<p>Is every URL you give me a term in metamath's type theory?</p>



<a name="180919100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919100">(Nov 16 2019 at 16:43)</a>:</h4>
<p>or some other word which I can use which I'm not too fussed about the definition of? Something better than URL.</p>



<a name="180919101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919101">(Nov 16 2019 at 16:43)</a>:</h4>
<p>yes, there are things like <a href="http://us.metamath.org/mpeuni/df-glb.html" target="_blank" title="http://us.metamath.org/mpeuni/df-glb.html">http://us.metamath.org/mpeuni/df-glb.html</a></p>



<a name="180919106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919106">(Nov 16 2019 at 16:43)</a>:</h4>
<p>every URL is a theorem in metamath</p>



<a name="180919107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919107">(Nov 16 2019 at 16:43)</a>:</h4>
<p>or an axiom/definition</p>



<a name="180919153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919153" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919153">(Nov 16 2019 at 16:44)</a>:</h4>
<p>lol metamath isn't a type theory</p>



<a name="180919237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919237">(Nov 16 2019 at 16:46)</a>:</h4>
<p>In the case of complete lattices, the other operations don't matter (that's why metamath omits them); as long as the order is correct you can prove in lean that the other operations are uniquely defined</p>



<a name="180919249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919249">(Nov 16 2019 at 16:47)</a>:</h4>
<p>of course that's only up to equality not defeq</p>



<a name="180919262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919262">(Nov 16 2019 at 16:47)</a>:</h4>
<p>and metamath definitions will <em>definitely</em> not give you the right defeqs</p>



<a name="180919494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919494">(Nov 16 2019 at 16:54)</a>:</h4>
<p>Oh some of your Lean sorries are not props! </p>
<div class="codehilite"><pre><span></span>  <span class="n">Sup</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="err">⊥</span><span class="o">,</span>
  <span class="n">Inf</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="err">⊥</span><span class="o">,</span>
</pre></div>


<p>Is this OK with you?</p>



<a name="180919606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919606">(Nov 16 2019 at 16:57)</a>:</h4>
<p>aargh curse those axioms</p>



<a name="180919607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919607">(Nov 16 2019 at 16:57)</a>:</h4>
<p>you won't be able to prove the axioms</p>



<a name="180919610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919610">(Nov 16 2019 at 16:57)</a>:</h4>
<p>yeah I just got stuck :D</p>



<a name="180919612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919612">(Nov 16 2019 at 16:57)</a>:</h4>
<p>I changed sup to top and then the first one went swimmingly</p>



<a name="180919613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919613">(Nov 16 2019 at 16:57)</a>:</h4>
<p>gets a bit hairier later though</p>



<a name="180919615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919615">(Nov 16 2019 at 16:58)</a>:</h4>
<p>You don't want that right/</p>



<a name="180919658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919658">(Nov 16 2019 at 16:58)</a>:</h4>
<p>however, assuming you define <code>ereal.Sup</code>, something like <code>if choice nat = 0 then ereal.Sup else ereal.Sup</code> also satisfies the properties</p>



<a name="180919660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919660">(Nov 16 2019 at 16:58)</a>:</h4>
<p>Because <code>Sup X</code> should be smaller than upper bounds of <code>X</code></p>



<a name="180919666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919666">(Nov 16 2019 at 16:58)</a>:</h4>
<p>but is not defeq to <code>ereal.Sup</code></p>



<a name="180919801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919801">(Nov 16 2019 at 17:02)</a>:</h4>
<p>Would the terms be provably the same though?</p>



<a name="180919836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919836">(Nov 16 2019 at 17:02)</a>:</h4>
<p>yes</p>



<a name="180919840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919840">(Nov 16 2019 at 17:02)</a>:</h4>
<p>that's why they are both suprema</p>



<a name="180919842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919842">(Nov 16 2019 at 17:02)</a>:</h4>
<p>I only work up to proof so as far as I'm concerned the two terms are equal and you can choose whichever one you like.</p>



<a name="180919867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919867">(Nov 16 2019 at 17:03)</a>:</h4>
<p>Since the complete lattice structure is adding the Sup and Inf fields, there are no diamonds, so you are pretty unconstrained here</p>



<a name="180919908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180919908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180919908">(Nov 16 2019 at 17:04)</a>:</h4>
<p>but for the lattice fields, they have to be defeq to the lattice fields that you get from the existing instance</p>



<a name="180942256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180942256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180942256">(Nov 17 2019 at 04:42)</a>:</h4>
<p>What is the canonical way to write <code>(x : with_bot L)</code> if <code>(x : L)</code>? Is it <code>\u x</code>, is it <code>some x</code>, is it something else? Here L is <code>with_top real</code> if it matters.</p>



<a name="180942476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180942476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180942476">(Nov 17 2019 at 04:50)</a>:</h4>
<p><code>\u x</code>, but that is very often ambiguous so it is usually just <code>(x : with_bot L)</code></p>



<a name="180947929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180947929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180947929">(Nov 17 2019 at 08:03)</a>:</h4>
<p><a href="https://gist.github.com/kbuzzard/c21daf1fb89acb5698413706e8ace5ca" target="_blank" title="https://gist.github.com/kbuzzard/c21daf1fb89acb5698413706e8ace5ca">https://gist.github.com/kbuzzard/c21daf1fb89acb5698413706e8ace5ca</a></p>



<a name="180947930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180947930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180947930">(Nov 17 2019 at 08:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> do you want to tidy it up? I prove <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-\infty,+\infty]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">]</span></span></span></span> is a complete lattice.</p>



<a name="180948139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180948139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180948139">(Nov 17 2019 at 08:10)</a>:</h4>
<p>Do I get a prize for proving <code>ereal.neg_neg</code> and <code>ereal.neg_le</code> (and <code>ereal.le_neg</code>)? Is that a <code>lattice.with_neg</code> or something? It's a lattice with an antiinvolution or something. Is that a thing?</p>



<a name="180963347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180963347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180963347">(Nov 17 2019 at 16:32)</a>:</h4>
<p>I golfed the <code>neg</code> stuff: <a href="https://github.com/ImperialCollegeLondon/real-number-game/blob/master/src/for_mathlib/ereal.lean" target="_blank" title="https://github.com/ImperialCollegeLondon/real-number-game/blob/master/src/for_mathlib/ereal.lean">https://github.com/ImperialCollegeLondon/real-number-game/blob/master/src/for_mathlib/ereal.lean</a></p>



<a name="180963701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180963701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180963701">(Nov 17 2019 at 16:43)</a>:</h4>
<p>I should probably point to <a href="http://isabelle.in.tum.de/dist/library/HOL/HOL-Library/Extended_Real.html" target="_blank" title="http://isabelle.in.tum.de/dist/library/HOL/HOL-Library/Extended_Real.html">http://isabelle.in.tum.de/dist/library/HOL/HOL-Library/Extended_Real.html</a>, that does a lot of things on extended reals.</p>



<a name="180963823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180963823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180963823">(Nov 17 2019 at 16:46)</a>:</h4>
<p>Whilst I can't really speak Isabelle, it seems to me that they went for a three-constructor set-up, with -infty, +infty, and a real as the constructors. This would have spared me all the <code>some none</code> stuff.</p>



<a name="180963959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180963959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180963959">(Nov 17 2019 at 16:50)</a>:</h4>
<p>Yes, Isabelle does not use preexisting constructions with <code>with_top</code> and <code>with_bot</code>, and goes straight to the point here. It spares a good deal of boilerplate, but it also means you have to redefine everything from scratch.</p>



<a name="180971485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180971485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180971485">(Nov 17 2019 at 20:33)</a>:</h4>
<p>I think it would have been easier to make new constructors. Whenever I did case splits I had to deal with <code>none</code> instead of <code>infty</code> or whatever -- all this could have been fixed. Case splits would have been nicer with three constuctors instead of two then two. I never knew how to prove <code>\u \u x &lt;= \u \u y iff x &lt;= y</code>, I had to use <code>simp</code> and it didn't always work, I had some sort of <code>change, unfold_coes, simp</code> thing going. If <code>&lt;=</code> were defined on <code>ereal</code> just as a recursive prop then I would just have been able to do cases</p>



<a name="180971494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180971494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180971494">(Nov 17 2019 at 20:33)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/1703" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1703">#1703</a> by the way</p>



<a name="180974470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180974470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180974470">(Nov 17 2019 at 21:54)</a>:</h4>
<p>Are you sure you shouldn't start over with the better approach?</p>



<a name="180976485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180976485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180976485">(Nov 17 2019 at 22:56)</a>:</h4>
<p>I am not sure and I'm happy to get it right</p>



<a name="180976490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180976490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180976490">(Nov 17 2019 at 22:57)</a>:</h4>
<p>Who says it's better? I mean, I do, but I am very naive about these things</p>



<a name="180976613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180976613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180976613">(Nov 17 2019 at 23:00)</a>:</h4>
<p>I think it's basically irrelevant as long as the lemmas are there.</p>



<a name="180977532"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180977532" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180977532">(Nov 17 2019 at 23:31)</a>:</h4>
<p>I had trouble several times trying to go between some some a &lt;= some some b and a &lt;= b.</p>



<a name="180977592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180977592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180977592">(Nov 17 2019 at 23:33)</a>:</h4>
<p>Bit if it doesn't matter how messy the proofs are then this is an argument for sticking with with_top etc although I have no real idea why we don't just use option, with_top seems to add nothing helpful, oh except I guess the order got ported over. Except that even that didn't happen reliably, if something accidentally ended up with type option R then it wouldn't work</p>



<a name="180977864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/180977864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#180977864">(Nov 17 2019 at 23:42)</a>:</h4>
<p>Just proving <code>option.cases_on</code> but with <code>coe</code> instead of <code>some</code>could be okay.</p>



<a name="181287167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181287167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181287167">(Nov 21 2019 at 09:15)</a>:</h4>
<p>OK so having thought about this a bit more I decided that one interesting approach might be constructing <code>instance {α : Type*} [conditionally_complete_lattice α] :
  conditionally_complete_lattice (with_top α)</code> and similarly for <code>with_bot</code>. I've done <code>with_top</code> (see <a href="https://gist.github.com/kbuzzard/73d45ef2c350b3beb81017ae52606d71" target="_blank" title="https://gist.github.com/kbuzzard/73d45ef2c350b3beb81017ae52606d71">here</a>). For <code>with_bot</code> I could just duplicate code, or I could use some trickery with order_dual and try and generate it automatically.</p>
<p>What I'm worried about with the order-dual trickery is that when I prove that with_bot (with_top (conditionally_complete_lattice)) is a complete lattice, 50% of the time I see "sup" it will mean "inf", because presumably order_dual alpha is just defined to be alpha. If I just duplicate the code then I won't have this issue. It's about 65 lines of code. What is best practice here? </p>
<p>I should say that the idea here is to "refine" Sup. For a set of reals which is not bounded or not non-empty, Sup returns 37. The refined Sup on with_top real will return a slightly more sensible value, i.e. it's right for unbounded sets but still 37 for the empty set, and similar comments apply for the refined Inf. After adding a top and a bottom, one will have the theorem that Sup returns the correct value for non-empty bounded sets, so then one only has to add in the proof that it also returns a sensible value for the empty set and an unbounded set.</p>



<a name="181327464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181327464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181327464">(Nov 21 2019 at 17:32)</a>:</h4>
<p>Concrete question:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">order</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>

<span class="kn">open</span> <span class="n">lattice</span>

<span class="n">open_locale</span> <span class="n">classical</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_Sup</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">S</span><span class="o">,</span> <span class="k">if</span> <span class="err">⊤</span> <span class="err">∈</span> <span class="n">S</span> <span class="k">then</span> <span class="err">⊤</span> <span class="k">else</span>
      <span class="k">let</span> <span class="n">So</span> <span class="o">:=</span> <span class="o">(</span><span class="n">coe</span> <span class="bp">⁻¹</span><span class="err">&#39;</span> <span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="k">in</span>
      <span class="k">if</span> <span class="n">bdd_above</span> <span class="n">So</span> <span class="k">then</span> <span class="err">↑</span><span class="o">(</span><span class="n">Sup</span> <span class="n">So</span><span class="o">)</span> <span class="k">else</span> <span class="err">⊤</span><span class="bp">⟩</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_Inf</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨λ</span> <span class="n">S</span><span class="o">,</span> <span class="k">if</span> <span class="n">S</span> <span class="err">⊆</span> <span class="o">{</span><span class="err">⊤</span><span class="o">}</span> <span class="k">then</span> <span class="err">⊤</span> <span class="k">else</span> <span class="err">↑</span><span class="o">(</span><span class="n">Inf</span> <span class="o">(</span><span class="n">coe</span> <span class="bp">⁻¹</span><span class="err">&#39;</span> <span class="n">S</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⟩</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">with_top</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le_cSup</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">cSup_le</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">cInf_le</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">le_cInf</span> <span class="o">:=</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">with_top</span><span class="bp">.</span><span class="n">lattice</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span>
<span class="o">}</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_bot</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_Sup</span> <span class="o">(</span><span class="n">with_bot</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">Inf</span><span class="bp">⟩</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_bot</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_Sup</span> <span class="o">(</span><span class="n">with_bot</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">⟨</span><span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">Sup</span><span class="bp">⟩</span>

<span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_bot</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">with_bot</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le_cSup</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">cInf_le</span><span class="o">,</span>
  <span class="n">cSup_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cInf</span><span class="o">,</span>
  <span class="n">cInf_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cSup</span><span class="o">,</span>
  <span class="n">le_cInf</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">cSup_le</span><span class="o">,</span>
  <span class="bp">..@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
  <span class="bp">..@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
  <span class="bp">..@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span>
<span class="o">}</span>

<span class="c">/-</span><span class="cm"></span>
<span class="cm">type mismatch at field &#39;le_cSup&#39;</span>
<span class="cm">  conditionally_complete_lattice.cInf_le</span>
<span class="cm">has type</span>
<span class="cm">  ∀ (s : set (with_top (order_dual α))) (a : with_top (order_dual α)),</span>
<span class="cm">    bdd_below s → a ∈ s → conditionally_complete_lattice.Inf s ≤ a</span>
<span class="cm">but is expected to have type</span>
<span class="cm">  ∀ (s : set (with_bot α)) (a : with_bot α), bdd_above s → a ∈ s → a ≤ has_Sup.Sup s</span>
<span class="cm">-/</span>
</pre></div>


<p>Should I be fixing this sorry?</p>



<a name="181568974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181568974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181568974">(Nov 21 2019 at 18:16)</a>:</h4>
<p>Are you <code>Sup</code> and <code>Inf</code> definitions the right way round?</p>



<a name="181569304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181569304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181569304">(Nov 21 2019 at 18:20)</a>:</h4>
<p>Also, I think your definition of <code>le</code> is the wrong way round.</p>



<a name="181569394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181569394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181569394">(Nov 21 2019 at 18:21)</a>:</h4>
<p>Now the proofs work</p>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_bot</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">with_bot</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">le</span> <span class="o">:=</span> <span class="n">function</span><span class="bp">.</span><span class="n">swap</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le</span><span class="o">,</span>
  <span class="n">Sup</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_Inf</span><span class="bp">.</span><span class="n">Inf</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">Inf</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_Sup</span><span class="bp">.</span><span class="n">Sup</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">le_cSup</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span>
      <span class="o">(</span><span class="k">by</span> <span class="n">apply_instance</span><span class="o">))</span><span class="bp">.</span><span class="n">cInf_le</span><span class="o">,</span>
  <span class="n">cSup_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cInf</span><span class="o">,</span>
  <span class="n">cInf_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cSup</span><span class="o">,</span>
  <span class="n">le_cInf</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">cSup_le</span> <span class="o">}</span>
</pre></div>



<a name="181569413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181569413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181569413">(Nov 21 2019 at 18:21)</a>:</h4>
<p>There might be a neater way.</p>



<a name="181569523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%24%24%5B-%5Cinfty%2C%5Cinfty%5D%24%24%20in%20Lean%3F/near/181569523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.24.24.5B-.5Cinfty.2C.5Cinfty.5D.24.24.20in.20Lean.3F.html#181569523">(Nov 21 2019 at 18:22)</a>:</h4>
<p>Now they work even better.</p>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="kn">instance</span> <span class="n">with_bot</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span>
  <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">conditionally_complete_lattice</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span>
  <span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">with_bot</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">Sup</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_Inf</span><span class="bp">.</span><span class="n">Inf</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Inf</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">Inf</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_Sup</span><span class="bp">.</span><span class="n">Sup</span> <span class="bp">_</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span><span class="bp">.</span><span class="n">has_Sup</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">),</span>
  <span class="n">le_cSup</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">cInf_le</span><span class="o">,</span>
  <span class="n">cSup_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cInf</span><span class="o">,</span>
  <span class="n">cInf_le</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">le_cSup</span><span class="o">,</span>
  <span class="n">le_cInf</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">@</span><span class="n">with_top</span><span class="bp">.</span><span class="n">conditionally_complete_lattice</span> <span class="o">(</span><span class="n">order_dual</span> <span class="n">α</span><span class="o">)</span> <span class="bp">_</span><span class="o">)</span><span class="bp">.</span><span class="n">cSup_le</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">with_bot</span><span class="bp">.</span><span class="n">lattice</span> <span class="o">}</span>
</pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>