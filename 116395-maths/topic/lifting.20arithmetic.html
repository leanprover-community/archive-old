---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/lifting.20arithmetic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html">lifting arithmetic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197998841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197998841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197998841">(May 18 2020 at 21:39)</a>:</h4>
<p>Here's an example of an arithmetic fact that's somewhat harder to prove in <code>ℕ</code> than <code>ℤ</code>. It's also clear to a mathematician that the latter one implies the former.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_eq_iff_eq_add</span><span class="o">,</span>
    <span class="o">{</span><span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">ring</span><span class="o">},</span>
    <span class="n">apply</span> <span class="n">le_add_left</span><span class="o">,</span> <span class="n">refl</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">ring_exp</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197999038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999038">(May 18 2020 at 21:40)</a>:</h4>
<p>After a bit of thought, it seems the reason it's clear that one implies the other is because there's an embedding of semirings <code>ℕ → ℤ</code>. Is it feasible to make a tactic that helps you figure out that that's what you need? (And then, is typeclass instance search able to find that embedding?)</p>



<a name="197999191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999191">(May 18 2020 at 21:42)</a>:</h4>
<p>I'm imagining that at the commented point in this proof you say something like <code>transfer key</code> and the goal gets replaced with asking you for a semiring embedding (or maybe it asks for separate embeddings for the <code>has_add</code> and <code>has_pow</code>)</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="k">have</span> <span class="n">key</span> <span class="o">:</span>  <span class="o">(</span><span class="mi">2</span><span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="k">by</span> <span class="o">{</span><span class="n">ring_exp</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span> <span class="n">ring</span><span class="o">},</span>
<span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_eq_iff_eq_add</span><span class="o">,</span>
<span class="c1">-- apply an embedding of semirings ℕ → ℤ?</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197999316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999316">(May 18 2020 at 21:44)</a>:</h4>
<p>I am now strongly of the opinion that one should not even be proving results like your example</p>



<a name="197999401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999401">(May 18 2020 at 21:45)</a>:</h4>
<p>I don't think that your question should typecheck because I don't think subtraction should be defined on nat</p>



<a name="197999403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999403">(May 18 2020 at 21:45)</a>:</h4>
<p>Here's where it came from</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">big_operators</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="n">noncomputable</span> <span class="n">theory</span>
<span class="n">open_locale</span> <span class="n">classical</span>
<span class="n">open_locale</span> <span class="n">big_operators</span>
<span class="kn">open</span> <span class="n">finset</span>

<span class="kn">lemma</span> <span class="n">p1</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span>
<span class="mi">1</span><span class="bp">/</span><span class="mi">2</span> <span class="bp">≤</span> <span class="err">∑</span> <span class="n">k</span> <span class="k">in</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">Ico</span> <span class="o">(</span><span class="mi">2</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="mi">2</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">))),</span> <span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">ℚ</span><span class="o">)</span><span class="bp">/</span><span class="n">k</span>  <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">transitivity</span> <span class="err">∑</span> <span class="n">k</span> <span class="k">in</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">Ico</span> <span class="o">(</span><span class="mi">2</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">(</span><span class="mi">2</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">))),</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">2</span><span class="bp">^</span><span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">2</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">sum_const</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">Ico</span><span class="bp">.</span><span class="n">card</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">le_of_eq</span><span class="o">,</span>
    <span class="n">field_simp</span><span class="o">,</span>

    <span class="k">have</span> <span class="n">calc2</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">sub_eq_iff_eq_add</span><span class="o">,</span> <span class="n">ring_exp</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
    <span class="n">ring_exp</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_comm</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">mul_le_mul_right</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span> <span class="n">refine</span> <span class="n">pow_pos</span> <span class="bp">_</span> <span class="n">n</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197999426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999426">(May 18 2020 at 21:45)</a>:</h4>
<p>oh, I guess finset.Ico would be fine working with integers!</p>



<a name="197999514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999514">(May 18 2020 at 21:46)</a>:</h4>
<p>hmm no, it's defined for nats</p>



<a name="197999547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999547">(May 18 2020 at 21:46)</a>:</h4>
<p>There is more to it than your claim that the inclusion is a morphism of semirings. The problem is that the inclusion does not commute with <code>-</code> and the reason for this is that if mathematicians were in charge then subtraction on naturals would not make sense</p>



<a name="197999603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999603">(May 18 2020 at 21:47)</a>:</h4>
<p>It's also clear to a mathematician that <code>(1 : int) - 2 + 2 = 1</code> implies <code>(1 : nat) - 2 + 2 = 1</code> but this is false</p>



<a name="197999611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999611">(May 18 2020 at 21:47)</a>:</h4>
<p>I think my question still makes sense after <code>rw nat.sub_eq_iff_eq_add</code> so that there's no subtraction</p>



<a name="197999731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999731" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999731">(May 18 2020 at 21:48)</a>:</h4>
<p>But presumably there's a side condition of the form "we're in the region where natural subtraction is not a pathological operation"</p>



<a name="197999744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999744">(May 18 2020 at 21:49)</a>:</h4>
<p>I think in this pair of examples, the second proof is still harder than the first</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>  <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">):=</span>
<span class="k">begin</span>
    <span class="n">rw</span> <span class="n">nat</span><span class="bp">.</span><span class="n">pow_succ</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">ring_exp</span><span class="o">,</span> <span class="n">norm_num</span><span class="o">,</span> <span class="n">ring</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="197999752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999752">(May 18 2020 at 21:49)</a>:</h4>
<p>You can freely move between nat and int versions of a theorem provided you have assumptions saying that all subterms are well defined</p>



<a name="197999761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999761">(May 18 2020 at 21:49)</a>:</h4>
<p>I think <code>field_simp</code> is doing something similar</p>



<a name="197999789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999789">(May 18 2020 at 21:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/197999752">said</a>:</p>
<blockquote>
<p>You can freely move between nat and int versions of a theorem provided you have assumptions saying that all subterms are well defined</p>
</blockquote>
<p>That sounds like what I'm trying to learn about, can you say more?</p>



<a name="197999869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999869">(May 18 2020 at 21:50)</a>:</h4>
<p>For every subterm<code>a - b</code> of the theorem, <code>a &gt;= b</code> must be in the context or otherwise provable</p>



<a name="197999938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999938">(May 18 2020 at 21:51)</a>:</h4>
<p>sure, but how do you do actually do the moving between nat and int?</p>



<a name="197999979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999979">(May 18 2020 at 21:51)</a>:</h4>
<p>I think you can apply <code>int.coe_nat_inj</code> and then use <code>simp [*]</code> to push the coercions to the leaves</p>



<a name="197999983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/197999983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#197999983">(May 18 2020 at 21:51)</a>:</h4>
<p>I can't get anything to compile. Can you supply the imports?</p>



<a name="198000060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000060">(May 18 2020 at 21:52)</a>:</h4>
<p>(I mean the "Here's where it came from" post)</p>



<a name="198000064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000064">(May 18 2020 at 21:52)</a>:</h4>
<p>fixed</p>



<a name="198000436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000436">(May 18 2020 at 21:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/197999979">said</a>:</p>
<blockquote>
<p>I think you can apply <code>int.coe_nat_inj</code> and then use <code>simp [*]</code> to push the coercions to the leaves</p>
</blockquote>
<p>Yes, this works</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span>  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span>  <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">apply</span> <span class="n">int</span><span class="bp">.</span><span class="n">coe_nat_inj</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="n">exact</span> <span class="n">h</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="198000463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000463">(May 18 2020 at 21:57)</a>:</h4>
<p>wait, that's the easy version</p>



<a name="198000467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000467">(May 18 2020 at 21:57)</a>:</h4>
<p>there are no subtracts</p>



<a name="198000500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000500">(May 18 2020 at 21:57)</a>:</h4>
<p>Yeah, we xy'ed the subtraction away</p>



<a name="198000518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000518">(May 18 2020 at 21:57)</a>:</h4>
<p>the easy version is the thing I wanted</p>



<a name="198000583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000583">(May 18 2020 at 21:58)</a>:</h4>
<p>I'm saying, if you have a goal with subtracts in it and want to get rid of them by casting to int, that's the procedure</p>



<a name="198000614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000614">(May 18 2020 at 21:58)</a>:</h4>
<p>And I'm saying, if you have a goal with <code>nat.sub</code> in it then you already made a mistake.</p>



<a name="198000644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000644">(May 18 2020 at 21:59)</a>:</h4>
<p>In your case you get a subtract from <code>Ico.card</code>, which actually has a genuine use for the <code>nat.sub</code> because it is actually a truncated subtraction</p>



<a name="198000649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000649">(May 18 2020 at 21:59)</a>:</h4>
<p>And I know that Mario will know counterexamples in CS, but in maths I am sticking to my guns</p>



<a name="198000775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000775">(May 18 2020 at 22:00)</a>:</h4>
<p>Mathematician speak for the theorem would be <code>|{a..b}| = max(0, b - a)</code>, and so there is an extra step to rewrite the <code>max(0, b-a)</code> into <code>b-a</code></p>



<a name="198000778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000778">(May 18 2020 at 22:00)</a>:</h4>
<p>I think <code>Ico.card</code> is useful for maths, so maybe we can think of an API that doesn't expose the nat substract</p>



<a name="198000819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000819">(May 18 2020 at 22:00)</a>:</h4>
<p>Mathematicians would not use <code>Ico x y</code> if <code>y&lt;&lt;x</code>. We have certain conventions which preclude this.</p>



<a name="198000820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000820">(May 18 2020 at 22:00)</a>:</h4>
<p>I think the a maths-ier version of Ico carries a proof of <code>a \le b</code><br>
(Edit: this is exactly what kevin just said)</p>



<a name="198000861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000861">(May 18 2020 at 22:01)</a>:</h4>
<p>Right, it's like division. I'm not complaining about division on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Q</mi></mrow><annotation encoding="application/x-tex">\mathbb{Q}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.85556em;vertical-align:-0.16667em;"></span><span class="mord"><span class="mord mathbb">Q</span></span></span></span></span> because we never divide by 0.</p>



<a name="198000887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000887">(May 18 2020 at 22:01)</a>:</h4>
<p>I will only write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>x</mi><mo>=</mo><mi>a</mi></mrow><mi>b</mi></msubsup></mrow><annotation encoding="application/x-tex">\sum_{x=a}^b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.2887179999999998em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">a</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span> if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>≥</mo><mi>a</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">b\geq a-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.</p>



<a name="198000909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000909">(May 18 2020 at 22:01)</a>:</h4>
<p>But we still need to be able to talk about the cardinality of <code>{x \in int | a &lt;= x &lt; b}</code></p>



<a name="198000971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000971">(May 18 2020 at 22:02)</a>:</h4>
<p>I'm happy with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">\sum_{i=1}^0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span> but <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>2</mn></mrow><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">\sum_{i=2}^0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span> is "not allowed" as part of math interface.</p>



<a name="198000977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198000977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198000977">(May 18 2020 at 22:02)</a>:</h4>
<p>that's a mathematical question independent of whether that is called <code>Ico</code> or not</p>



<a name="198001066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001066">(May 18 2020 at 22:03)</a>:</h4>
<p>In mathematics one does not usually find oneself in the situation where you need the cardinality of that set and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>≤</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">b\leq a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>.</p>



<a name="198001084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001084">(May 18 2020 at 22:03)</a>:</h4>
<p>but it's not an ill formed question</p>



<a name="198001088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001088">(May 18 2020 at 22:03)</a>:</h4>
<p>It's just the way it works. And if you do, then yeah rotten luck, it's some <code>max</code>.</p>



<a name="198001184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001184">(May 18 2020 at 22:04)</a>:</h4>
<p>maybe we can leave Ico as is and have something math friendly like <code>∑ from a to b</code></p>



<a name="198001194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001194">(May 18 2020 at 22:04)</a>:</h4>
<p>We could have a theorem about <code>Ico.card</code> in the presence of a le assumption, but there isn't much the theorem can say that is more informative</p>



<a name="198001203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001203">(May 18 2020 at 22:04)</a>:</h4>
<p>Right, it's not an ill-formed question, and the well-formed answer is that it's a max. There is this weird thing going on which I still don't really understand, where mathematicians only really see objects when they are at some certain level of "decency" which is hard to quantify.</p>



<a name="198001242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001242">(May 18 2020 at 22:05)</a>:</h4>
<p>Maybe a better version of the theorem is <code>a + c = b -&gt; (Ico b a).card = c</code></p>



<a name="198001260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001260">(May 18 2020 at 22:05)</a>:</h4>
<p>That's interesting.</p>



<a name="198001271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001271">(May 18 2020 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198001194">said</a>:</p>
<blockquote>
<p>We could have a theorem about <code>Ico.card</code> in the presence of a le assumption, but there isn't much the theorem can say that is more informative</p>
</blockquote>
<p>it can say that the length is <code>(a:ℤ) - (b:ℤ)</code></p>



<a name="198001303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001303">(May 18 2020 at 22:05)</a>:</h4>
<p>Yeah this is a really funny situation. Nat subtraction is clearly made for this kind of question.</p>



<a name="198001311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001311">(May 18 2020 at 22:06)</a>:</h4>
<p>no, it can say that the length casted to <code>int</code> is that</p>



<a name="198001354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001354">(May 18 2020 at 22:06)</a>:</h4>
<p>so you can't rewrite with that</p>



<a name="198001392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001392">(May 18 2020 at 22:06)</a>:</h4>
<p>Oh I see. The original question is "mathematical" so it carries an <em>implicit assumption</em> then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n+1}\leq 2^{n+2}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.950078em;vertical-align:-0.13597em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="198001422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001422">(May 18 2020 at 22:07)</a>:</h4>
<p>The very fact that you're summing over that range means that the subtraction is going to be OK.</p>



<a name="198001537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001537">(May 18 2020 at 22:08)</a>:</h4>
<p>It is implicit in the question itself that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n+1}\leq 2^{n+2}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.950078em;vertical-align:-0.13597em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>, and mathematicians would not state this because ass Jalex says, it is "obvious to us".</p>



<a name="198001547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001547">(May 18 2020 at 22:08)</a>:</h4>
<p>but formalising the proof has brought this out explicitly.</p>



<a name="198001587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001587">(May 18 2020 at 22:09)</a>:</h4>
<p>sure, but if you have the necessary in range assumptions, then <code>a - b</code> is not a bad thing to write, and it is exactly as bad as <code>Ico b a</code> itself, so the theorem <code>Ico.card</code> is fine</p>



<a name="198001629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001629">(May 18 2020 at 22:09)</a>:</h4>
<p>But <code>Ico b a</code> is a "mathematically" bad thing to write if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a&lt;b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>, like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">1/0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">/</span><span class="mord">0</span></span></span></span> is a bad thing to write</p>



<a name="198001687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001687">(May 18 2020 at 22:10)</a>:</h4>
<p>Mathematicians do not write these things.</p>



<a name="198001705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001705">(May 18 2020 at 22:10)</a>:</h4>
<p>Yes, but we aren't in that situation</p>



<a name="198001714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001714">(May 18 2020 at 22:10)</a>:</h4>
<p>Indeed!</p>



<a name="198001718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001718">(May 18 2020 at 22:10)</a>:</h4>
<p><code>Ico.card</code> has applicability to that situation but that doesn't matter here</p>



<a name="198001769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001769">(May 18 2020 at 22:11)</a>:</h4>
<p>I'm saying that it's not necessary to ban <code>nat.sub</code> even in the places where it is well defined</p>



<a name="198001820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001820">(May 18 2020 at 22:11)</a>:</h4>
<p>which your comments seem to suggest</p>



<a name="198001844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001844">(May 18 2020 at 22:11)</a>:</h4>
<p>Sure. But I want to argue that if a mathematician has run into it then either they've done something wrong or the inequality which enables you to rewrite as an addition is "in the context somewhere".</p>



<a name="198001913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001913">(May 18 2020 at 22:12)</a>:</h4>
<p>the original question, <code>2 ^ (n + 2) - 2 ^ (n + 1) = 2 ^ (n + 1)</code>, is within the mathematician strike zone</p>



<a name="198001959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001959">(May 18 2020 at 22:13)</a>:</h4>
<p>and the assumption that this is a mathematically reasonable assertion allows you to assume that <code>2 ^ (n + 1) &lt;= 2 ^ (n + 2)</code> is provable</p>



<a name="198001967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198001967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198001967">(May 18 2020 at 22:13)</a>:</h4>
<p>which of course it is in this case</p>



<a name="198002073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002073">(May 18 2020 at 22:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/197999979">said</a>:</p>
<blockquote>
<p>I think you can apply <code>int.coe_nat_inj</code> and then use <code>simp [*]</code> to push the coercions to the leaves</p>
</blockquote>
<p>This is how you deal with mathematically reasonable questions involving <code>nat.sub</code></p>



<a name="198002466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002466">(May 18 2020 at 22:19)</a>:</h4>
<p>It seems that you're going to prove that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><mfrac><mn>1</mn><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">\sum \frac{1}{n}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> diverges. I think that it should come with the <code>p</code>-series test.</p>



<a name="198002563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002563">(May 18 2020 at 22:20)</a>:</h4>
<p>I've had to apply <code>int.coe_nat_inj</code> before, when I wanted to use proper subtraction. I wonder if there should be a shortcut for this? I always have to look up the name because I can never remember (a) whether it's coe or cast and (b) which namespace it's in</p>



<a name="198002566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002566">(May 18 2020 at 22:20)</a>:</h4>
<p>You can also generalize the proof method to the <a href="https://en.wikipedia.org/wiki/Cauchy_condensation_test">Cauchy condensation test</a></p>



<a name="198002613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002613">(May 18 2020 at 22:20)</a>:</h4>
<p>BTW, you can easily prove the integral test without actual integrals using MVT.</p>



<a name="198002651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002651">(May 18 2020 at 22:21)</a>:</h4>
<p>You can do it with the integral test as well, which would be simple if the infrastructure was there</p>



<a name="198002765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002765">(May 18 2020 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> If you start with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">F'=f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>, then you only need MVT, and it's there.</p>



<a name="198002829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002829">(May 18 2020 at 22:23)</a>:</h4>
<p>Do we know the derivative of log is 1/x?</p>



<a name="198002998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198002998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198002998">(May 18 2020 at 22:24)</a>:</h4>
<p>The integral test method might be useful if we want to define the Euler-Mascheroni constant, but otherwise I would say the condensation test is quite simple and elementary</p>



<a name="198003339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198003339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198003339">(May 18 2020 at 22:28)</a>:</h4>
<p>Someday we'll need both of them anyway</p>



<a name="198003405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198003405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198003405">(May 18 2020 at 22:29)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Yes, search for <code>deriv_log</code></p>



<a name="198003581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198003581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198003581">(May 18 2020 at 22:31)</a>:</h4>
<p>In metamath I've advocated for never using integrals at all, in favor of antiderivatives, because when the antiderivative is elementary you are writing both sides anyway</p>



<a name="198003735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198003735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198003735">(May 18 2020 at 22:33)</a>:</h4>
<p>for all the usual analysis applications all you use about intervals is additivity, breaking one along a partition and bounding by constants, and all these things are also true of antiderivatives using the MVT</p>



<a name="198003843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198003843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198003843">(May 18 2020 at 22:34)</a>:</h4>
<p>(you also need countable choice to define the lebesgue integral but not derivatives)</p>



<a name="198004215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198004215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Earnshaw <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198004215">(May 18 2020 at 22:37)</a>:</h4>
<p>(mathematician voice) <code>nat.sub</code> is the most natural operation in the world ... being simply the adjoint to addition operators in a poset <code>x + a ≥ y iff  x ≥ y - a</code> (playing devil's advocate and hoping Kevin won't notice this is the lambda abstraction rule in disguise <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span> )</p>



<a name="198004473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198004473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Earnshaw <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198004473">(May 18 2020 at 22:40)</a>:</h4>
<p>on a more serious note, I have been wondering if this work would provide the foundations for a useful tactic <a href="https://arxiv.org/abs/math/0212377">https://arxiv.org/abs/math/0212377</a></p>



<a name="198004544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198004544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198004544">(May 18 2020 at 22:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="247064">Matt Earnshaw</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198004473">said</a>:</p>
<blockquote>
<p>I have been wondering if this work would provide the foundations for a useful tactic &lt;link&gt;</p>
</blockquote>
<p>This is the kind of message spammers should send :D</p>



<a name="198005046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005046">(May 18 2020 at 22:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="247064">Matt Earnshaw</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198004473">said</a>:</p>
<blockquote>
<p>on a more serious note, I have been wondering if this work would provide the foundations for a useful tactic <a href="https://arxiv.org/abs/math/0212377">https://arxiv.org/abs/math/0212377</a></p>
</blockquote>
<p>Do you mean just the part about lifting identities from rings to rigs (Theorem 5.1), or the whole rig category stuff?</p>



<a name="198005224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Earnshaw <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005224">(May 18 2020 at 22:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198005046">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="247064">Matt Earnshaw</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198004473">said</a>:</p>
<blockquote>
<p>on a more serious note, I have been wondering if this work would provide the foundations for a useful tactic <a href="https://arxiv.org/abs/math/0212377">https://arxiv.org/abs/math/0212377</a></p>
</blockquote>
<p>Do you mean just the part about lifting identities from rings to rigs (Theorem 5.1), or the whole rig category stuff?</p>
</blockquote>
<p>the former really, though I have a personal interest in the rig category side of things</p>



<a name="198005248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005248">(May 18 2020 at 22:51)</a>:</h4>
<p>and they said semirings were useless ;)</p>



<a name="198005250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005250">(May 18 2020 at 22:51)</a>:</h4>
<p>What's the tactic? Don't you just need the theorem?</p>



<a name="198005310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005310">(May 18 2020 at 22:52)</a>:</h4>
<p>(Or, if there might eventually be a useful tactic, then the theorem on its own should be useful?)</p>



<a name="198005385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198005385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Earnshaw <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198005385">(May 18 2020 at 22:53)</a>:</h4>
<p>yeah, I suppose the theorem would suffice</p>



<a name="198006136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198006136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matt Earnshaw <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198006136">(May 18 2020 at 23:03)</a>:</h4>
<p>I'll try and have a crack at the lemmas this week, for a bit of fun even if it would seldom find application</p>



<a name="198006602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198006602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198006602">(May 18 2020 at 23:11)</a>:</h4>
<p>doing math for fun? crazy</p>



<a name="198006729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198006729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198006729">(May 18 2020 at 23:13)</a>:</h4>
<p>Someone on Twitter had the gall to suggest that funding agencies did not consider "PI will have fun doing this" as evidence that a project should be funded</p>



<a name="198006815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198006815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198006815">(May 18 2020 at 23:14)</a>:</h4>
<p>It's pretty much the only reason I've ever done anything</p>



<a name="198020816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198020816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198020816">(May 19 2020 at 04:18)</a>:</h4>
<p>If <code>-</code> on <code>nat</code> were a partial function, you would always have the information you need to reduce questions about it to <code>int</code> on hand.</p>



<a name="198020904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198020904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198020904">(May 19 2020 at 04:20)</a>:</h4>
<p>Obviously as a mathematician I am biased, but I suspect that using partial functions is generally better than totalizing in principle, it's just not that practical without better automation than we currently have.</p>



<a name="198021085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021085">(May 19 2020 at 04:25)</a>:</h4>
<p>My impression is that it is this thinking that leads to the general huge difference in sizes of terms between DTT and ZFC. Obviously I am also biased, but I would like to see if it is possible to instead implement type theory with an undefinedness logic where bad applications evaluate to a bottom value</p>



<a name="198021160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021160" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021160">(May 19 2020 at 04:26)</a>:</h4>
<p>so a type theory where the option monad is always open?</p>



<a name="198021163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021163">(May 19 2020 at 04:27)</a>:</h4>
<p>right</p>



<a name="198021170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021170">(May 19 2020 at 04:27)</a>:</h4>
<p>yeah i think that's closer to how i think than Lean's type theory is</p>



<a name="198021188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021188">(May 19 2020 at 04:27)</a>:</h4>
<p>possibly also done in a way where you can "invert" well definedness assumptions, i.e. x+y is well defined implies that x and y are</p>



<a name="198021198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021198">(May 19 2020 at 04:28)</a>:</h4>
<p>because this really cuts down on the number of assumptions you have to keep around</p>



<a name="198021236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021236">(May 19 2020 at 04:28)</a>:</h4>
<p>But this doesn't really solve the issue here because then you still need to synthesize a proof that the <code>-</code>s are well-formed to convert to <code>int</code>.</p>



<a name="198021237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021237">(May 19 2020 at 04:28)</a>:</h4>
<p>I guess maybe not with this latest idea.</p>



<a name="198021256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198021256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198021256">(May 19 2020 at 04:29)</a>:</h4>
<p>The term size issue is indeed awkward. One would like to say that we can just forget the proof term by definitional proof irrelevance. We just need to keep track of the fact that <code>x &gt;= y</code>, we don't need to remember how to prove it.</p>



<a name="198022933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198022933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198022933">(May 19 2020 at 05:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/116395-maths/topic/lifting.20arithmetic/near/198005250">said</a>:</p>
<blockquote>
<p>What's the tactic? Don't you just need the theorem?</p>
</blockquote>
<p>I guess, once you have the theorem, the tactic could try to automatically show that in the special case of <code>nat</code> all the <code>a &lt; b</code> conditions for <code>nat.cast_sub</code> are satisfied.</p>



<a name="198023867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198023867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198023867">(May 19 2020 at 05:37)</a>:</h4>
<p>uh by "the theorem" i meant theorem 5.1 in the "a tree is seven trees" paper</p>



<a name="198023944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198023944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198023944">(May 19 2020 at 05:39)</a>:</h4>
<p>which says that under mild assumptions, for polynomials <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo separator="true">,</mo><msup><mi>q</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">p,q,q'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>, if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>q</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x = p(x) \implies q(x) = q'(x) </annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> in arbitrary rings, then the same implication holds in arbitrary rigs</p>



<a name="198025119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198025119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198025119">(May 19 2020 at 06:07)</a>:</h4>
<p>I think you would have difficulty applying this theorem directly in the context of categories though, because it's an isomorphism not an equality</p>



<a name="198025201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lifting%20arithmetic/near/198025201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lifting.20arithmetic.html#198025201">(May 19 2020 at 06:09)</a>:</h4>
<p>yes, I think matt's aim was mostly to use it for bare rigs and rings</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>