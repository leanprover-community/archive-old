---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/analysis.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html">analysis</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="180544772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180544772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Palmer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180544772">(Nov 12 2019 at 18:20)</a>:</h4>
<p>Hi there, I was wondering if we had a proof formalised in Lean yet that the limit of (sin(x))/x is equal to 1. I looked over Mathlib and couldn't find anything of the sort.</p>



<a name="180544803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180544803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180544803">(Nov 12 2019 at 18:20)</a>:</h4>
<p>I don't think we have. We have very little "concrete" results so far.</p>



<a name="180544867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180544867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180544867">(Nov 12 2019 at 18:21)</a>:</h4>
<p>I also think it might be quite a challenge given current technology. But you might be able to reuse a whole bunch of computations that Chris used for the definition of pi</p>



<a name="180545101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180545101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180545101">(Nov 12 2019 at 18:23)</a>:</h4>
<p>This is basically equivalent to proving that the derivative of sin is cos, which in my mind is a key missing thing. What I think we really need is that a power series is differentiable within its radius of convergence.</p>



<a name="180545866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180545866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180545866">(Nov 12 2019 at 18:30)</a>:</h4>
<p>At school I was told that we would at some point prove that sin(x)/x tended to 1 as x tended to zero. We then used that fact to deduce that the derivative of sin was cos, and then later on after we'd drawn the graph of sin and had got thoroughly used to the fact that its derivative at 0 was cos(0)=1, the teacher told us that it was now obvious that sin(x)/x tended to 1 because cos(0)=1.</p>



<a name="180546717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180546717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180546717">(Nov 12 2019 at 18:39)</a>:</h4>
<p>I think you actually want this more general result first. <a href="https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Series_of_Continuously_Differentiable_Functions" target="_blank" title="https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Series_of_Continuously_Differentiable_Functions">https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Series_of_Continuously_Differentiable_Functions</a></p>



<a name="180574623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180574623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180574623">(Nov 12 2019 at 23:49)</a>:</h4>
<p>I've never taught this stuff so the last time I saw a proof of it was 30 years ago and I have no idea where to start.</p>



<a name="180574692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180574692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180574692">(Nov 12 2019 at 23:50)</a>:</h4>
<p>You're right that it looks like a nice general statement though. Is it proved in 2nd year analysis at Imperial?</p>



<a name="180574991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180574991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180574991">(Nov 12 2019 at 23:53)</a>:</h4>
<p>I think so.</p>



<a name="180575062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180575062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180575062">(Nov 12 2019 at 23:54)</a>:</h4>
<p>I think there's something more general about sequences.</p>



<a name="180575257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180575257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180575257">(Nov 12 2019 at 23:58)</a>:</h4>
<p><a href="https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Sequence_of_Differentiable_Functions" target="_blank" title="https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Sequence_of_Differentiable_Functions">https://proofwiki.org/wiki/Derivative_of_Uniformly_Convergent_Sequence_of_Differentiable_Functions</a></p>



<a name="180601929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180601929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180601929">(Nov 13 2019 at 08:18)</a>:</h4>
<p>I guess the road map is to</p>
<ol>
<li>Define power series, with ROC, etc</li>
<li>Define sine as some power series, prove that that power series converges (possibly before defining sine to be that power series) </li>
<li>Do a similar thing for cosine</li>
<li>Use the Fr√©chet derivative in mathlib to ge the univariate derivative.</li>
<li>Prove some result like what Chris has mentioned about being able to differentiate inside the power series within the ROC or something else about uniform convergence</li>
<li>Differentiate the sine power series, see that it is equal to the cosine power series</li>
<li>Try to generalise to the complex numbers (shouldn't be too difficult, just replace a bunch of symbols and then fix things)</li>
<li>Try to generalise even further to some sufficiently regular algebraic structure</li>
</ol>



<a name="180601939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180601939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180601939">(Nov 13 2019 at 08:19)</a>:</h4>
<p>Oh and of course,</p>
<ol start="9">
<li>Realise that the initial road map was completely changed after step 1</li>
</ol>



<a name="180601959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180601959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180601959">(Nov 13 2019 at 08:19)</a>:</h4>
<p>1a is done</p>



<a name="180602015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602015">(Nov 13 2019 at 08:20)</a>:</h4>
<p>As in, we have a definition of formal power series in mathlib. But nothing yet about ROC</p>



<a name="180602041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602041">(Nov 13 2019 at 08:21)</a>:</h4>
<p>Also, Chris's work on <code>exp</code>, <code>sin</code> and <code>pi</code> was from before the definition of power series. So far these pieces of the library have not been glued together</p>



<a name="180602846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602846">(Nov 13 2019 at 08:35)</a>:</h4>
<p>Oh, ok thanks. We'll have a look these things. Will we have to learn what a filter is?</p>



<a name="180602857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602857">(Nov 13 2019 at 08:35)</a>:</h4>
<p>Yes.</p>



<a name="180602859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602859">(Nov 13 2019 at 08:35)</a>:</h4>
<p>If you want to do things the mathlib way, then yes</p>



<a name="180602879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602879">(Nov 13 2019 at 08:35)</a>:</h4>
<p>If you are interested in anything related to analysis in mathlib you need to learn filters. And you'll be very happy in the end.</p>



<a name="180602971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180602971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180602971">(Nov 13 2019 at 08:37)</a>:</h4>
<p>Ok, great <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span><span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="180603089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180603089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180603089">(Nov 13 2019 at 08:39)</a>:</h4>
<p><span class="user-mention" data-user-id="221895">@Luca Seemungal</span> Why don't you post your roadmap as an issue in the mathlib github? If you use <code>[ ]</code> then we can even have checkboxes to tick off.</p>



<a name="180603980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180603980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180603980">(Nov 13 2019 at 08:53)</a>:</h4>
<p>Yes please do this. If people want to change it later that's fine. I am interested in formalising parts of our undergraduate syllabus and the fact that the derivative of sin is cos is used from day 1 in the "methods" courses (without justification, because everyone was told it in high school and the methods courses continue with this tradition) so this sort of thing is a big roadblock to even beginning to formalise the problem sheets in these courses.</p>



<a name="180606013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180606013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180606013">(Nov 13 2019 at 09:24)</a>:</h4>
<p>I would suggest focusing on <code>exp</code> for this roadmap. <code>sin</code> and <code>cos</code> should follow as algebraic combinations, not more power series</p>



<a name="180606362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180606362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180606362">(Nov 13 2019 at 09:28)</a>:</h4>
<p>I've also said this before, but the theory of power series and termwise differentiation is not required for <code>exp</code>; you can take the derivative at zero by some elementary estimates, using the definition of the derivative</p>



<a name="180606417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180606417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180606417">(Nov 13 2019 at 09:29)</a>:</h4>
<p>Not that it wouldn't be useful to have the analytic theory of power series, but to me it's a high powered tool that isn't needed here</p>



<a name="180608126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180608126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180608126">(Nov 13 2019 at 09:52)</a>:</h4>
<p>Ah, yes this makes sense. I see that in <code>data/complex/exponential.lean</code> we have that <code>exp</code> is defined as a power series and <code>sin</code> and <code>cos</code> are algebraic combinations of <code>exp</code> as you suggest.</p>



<a name="180608136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180608136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180608136">(Nov 13 2019 at 09:52)</a>:</h4>
<p>Right, of course - I can just guess the derivative of exp and then show it satisfies the definition of a Fr√©chet derivative. And I can also do the same with sin! Sorry, I was still in the "analysis 2" mindset where you don't know any multivariate calculus yet; at my university we proved all these derivative theorems by differentiating a power series term by term.</p>



<a name="180608270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180608270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180608270">(Nov 13 2019 at 09:54)</a>:</h4>
<p>I'll put a theory of power series as a different project some of us at Warwick will want to do after proving that the derivative of sine is cosine</p>



<a name="180608505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180608505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180608505">(Nov 13 2019 at 09:57)</a>:</h4>
<p>The trick with <code>exp</code> is to prove that <code>exp' 0 = 1</code>, and then <code>exp' a = (exp (a+x))' (x=0) = (exp a * exp x)' (0) = exp a * exp' 0 = exp a</code></p>



<a name="180608699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180608699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180608699">(Nov 13 2019 at 09:58)</a>:</h4>
<p>in other words, you can exploit <code>exp (a+x) = exp a * exp x</code> and the multiplication rule for differentiation to reduce the problem to calculating the derivative at zero</p>



<a name="180609349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180609349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180609349">(Nov 13 2019 at 10:05)</a>:</h4>
<p>This also makes sense, thanks!</p>



<a name="180609785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180609785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180609785">(Nov 13 2019 at 10:10)</a>:</h4>
<p>But we need the theorem that a power series is differentiable within its radius of convergence to be a respectable maths library.</p>



<a name="180610389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610389">(Nov 13 2019 at 10:18)</a>:</h4>
<p>Of course. But I like to have the developments follow the needs, when possible, and use the simplest tool for the job. In metamath I used a basic tail estimate to find the derivative of exp, and it wasn't until the lagrange formula for pi that I needed the actual theory of power series, to prove that Abel's theorem applies to the power series for the arctangent.</p>



<a name="180610439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610439">(Nov 13 2019 at 10:19)</a>:</h4>
<p>Then how come we ended up with the Bochner integral before the Riemann integral?</p>



<a name="180610515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610515">(Nov 13 2019 at 10:20)</a>:</h4>
<p>'The job' involves a bunch of things that aren't going to be Riemann integrable</p>



<a name="180610587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610587">(Nov 13 2019 at 10:21)</a>:</h4>
<p>It's possible that some of the power series work can be reused for the proof that exp is differentiable, but I think it is unlikely</p>



<a name="180610658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610658">(Nov 13 2019 at 10:22)</a>:</h4>
<p>the direct elementary proof is pretty simple, it's hard to beat</p>



<a name="180610715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610715">(Nov 13 2019 at 10:22)</a>:</h4>
<p>in order to apply the general theory you still need to know a bunch of things about the ROC that amount to the same tail estimates I'm talking about</p>



<a name="180610911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610911">(Nov 13 2019 at 10:25)</a>:</h4>
<p>fair do's</p>



<a name="180610987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180610987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180610987">(Nov 13 2019 at 10:25)</a>:</h4>
<p>To reiterate, I think that the general theory of power series is useful and we should put it on the todo list. But it's not blocking elementary calculus</p>



<a name="180623065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180623065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180623065">(Nov 13 2019 at 13:04)</a>:</h4>
<p>I just wanted to mention that the question whether <code>deriv ‚Ñù sin = cos</code> makes sense in mathlib since 20 minutes (i.e., the moment <a href="https://github.com/leanprover-community/mathlib/issues/1670" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1670">#1670</a> was merged). Thanks <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> !</p>



<a name="180817744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180817744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180817744">(Nov 15 2019 at 10:08)</a>:</h4>
<p>What are good resources for learning about filters? Are filters "common knowledge" or are they a weird quirk? That is, if I ask one of my analysis professors about filters will they start talking about coffee or analysis?</p>



<a name="180820489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180820489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180820489">(Nov 15 2019 at 10:49)</a>:</h4>
<p>Coffee</p>



<a name="180820609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180820609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180820609">(Nov 15 2019 at 10:50)</a>:</h4>
<p>Filters are treated in Bourbaki. You can also read about them in any treatment on the Stone-Cech compactification, or compactness in model theory.</p>



<a name="180821117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180821117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180821117">(Nov 15 2019 at 10:57)</a>:</h4>
<p>Ok thanks</p>



<a name="180822080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180822080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180822080">(Nov 15 2019 at 11:10)</a>:</h4>
<p>Besides the wikipedia page, you can also look at Johannes's paper on filters for formalization of analysis: <a href="http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf" target="_blank" title="http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf">http://home.in.tum.de/~hoelzl/documents/hoelzl2013typeclasses.pdf</a></p>



<a name="180836572"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180836572" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180836572">(Nov 15 2019 at 14:28)</a>:</h4>
<p><a href="https://xenaproject.wordpress.com/2018/08/04/what-is-a-filter-how-some-computer-scientists-think-about-limits/" target="_blank" title="https://xenaproject.wordpress.com/2018/08/04/what-is-a-filter-how-some-computer-scientists-think-about-limits/">https://xenaproject.wordpress.com/2018/08/04/what-is-a-filter-how-some-computer-scientists-think-about-limits/</a></p>



<a name="180850908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180850908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180850908">(Nov 15 2019 at 17:00)</a>:</h4>
<p>Cheers!</p>
<p>What is <code>set.univ</code> in the definition of a filter?</p>
<div class="codehilite"><pre><span></span>structure filter (Œ± : Type*) :=
(sets                   : set (set Œ±))
(univ_sets              : set.univ ‚àà sets)
(sets_of_superset {x y} : x ‚àà sets ‚Üí x ‚äÜ y ‚Üí y ‚àà sets)
(inter_sets {x y} : x ‚àà sets ‚Üí y ‚àà sets ‚Üí x ‚à© y ‚àà sets)
</pre></div>



<a name="180851483"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180851483" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180851483">(Nov 15 2019 at 17:07)</a>:</h4>
<p>The set containing every element of <code>Œ±</code>. In normal maths it is <code>Œ±</code>, but in type theory <code>Œ±</code> is not a set.</p>



<a name="180853142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180853142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180853142">(Nov 15 2019 at 17:26)</a>:</h4>
<blockquote>
<p>If you are interested in anything related to analysis in mathlib you need to learn filters. And you'll be very happy in the end.</p>
</blockquote>
<p>wow - can confirm, filters are cool and are making me very happy</p>



<a name="180942103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180942103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180942103">(Nov 17 2019 at 04:37)</a>:</h4>
<p><span class="user-mention" data-user-id="221895">@Luca Seemungal</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> About power series, <code>exp</code>, <code>sin</code> etc. Would be cool to have one-variable power series in non-commutative settings. I think of the exponent of a linear endomorphism. Though one can play a game like "restrict to the subalgebra generated by <code>A</code>, compute in this subalgebra, come back". Maybe, it's easier.</p>



<a name="180950938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180950938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180950938">(Nov 17 2019 at 09:53)</a>:</h4>
<p>I don't know much algebra - what's the motivation for this?</p>



<a name="180951235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180951235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180951235">(Nov 17 2019 at 10:02)</a>:</h4>
<p>Given the spirit of mathlib, power series are probably going to end up being done with as much generality as possible. I don't know whether this includes noncommutative settings.</p>
<p>Currently, however, I personally am still at a fairly early stage; I've yet to fully understand the definition of the derivative because it's so general and it's written in lean.</p>



<a name="180965356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180965356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180965356">(Nov 17 2019 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="221895">@Luca Seemungal</span> Then ignore my comment. I'd like to have a proof of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mi>exp</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>A</mi><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>exp</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>A</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac{d}{dt} \exp(At)=\exp(At)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span> in Lean for <code>A</code> being a bounded linear endomorphism. This immediately leads to the formula <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>exp</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>A</mi><mi>t</mi><mo stretchy="false">)</mo><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t)=\exp(At)x(0)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span> for solutions of a linear ODE <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>x</mi><mo>Àô</mo></mover><mo>=</mo><mi>A</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\dot x=Ax</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11111000000000001em;">Àô</span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">x</span></span></span></span>. As I said before, it's possible to work around non-commutativity even if most theorems are stated for commutative algebras.</p>



<a name="180968589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/180968589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#180968589">(Nov 17 2019 at 19:13)</a>:</h4>
<p>Sounds interesting. I've no idea :)</p>



<a name="181654370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181654370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181654370">(Nov 22 2019 at 16:35)</a>:</h4>
<p>what does the  <code>L[ùïú] F</code> in <code>analysis/calculus/fderiv.lean</code> mean? </p>
<div class="codehilite"><pre><span></span>def has_fderiv_at_filter (f : E ‚Üí F) (f&#39; : E ‚ÜíL[ùïú] F) (x : E) (L : filter E) :=
is_o (Œª x&#39;, f x&#39; - f x - f&#39; (x&#39; - x)) (Œª x&#39;, x&#39; - x) L
</pre></div>



<a name="181654524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181654524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181654524">(Nov 22 2019 at 16:36)</a>:</h4>
<p>I think <code>‚ÜíL[ùïú]</code> means a continuous ùïú-linear map. Jump to definition should help.</p>



<a name="181655152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181655152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181655152">(Nov 22 2019 at 16:42)</a>:</h4>
<p>Cheers! The thing is though, when I <code>git clone</code> mathlib, and then I open it in vs-code, none of it seems to compile? Do I have to grab some binaries from somewhere? Do I have to just wait?</p>



<a name="181655231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181655231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181655231">(Nov 22 2019 at 16:43)</a>:</h4>
<p>What are you doing? Are you contributing to mathlib or using mathlib?</p>



<a name="181655316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181655316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181655316">(Nov 22 2019 at 16:44)</a>:</h4>
<p>Contributing / messing about with it to understand it more</p>



<a name="181655410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181655410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181655410">(Nov 22 2019 at 16:45)</a>:</h4>
<p>Ok, then git clone is a good first move. Then you need to checkout the <code>lean-3.4.2</code> branch and call <code>cache-olean --fetch</code> (assuming your installed the supporting tooling as described in mathlib install page).</p>



<a name="181655631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181655631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181655631">(Nov 22 2019 at 16:47)</a>:</h4>
<p>Thanks! This seems to be working a bit more. I now get errors like</p>
<div class="codehilite"><pre><span></span>file &#39;analysis/asymptotics&#39; not found in the LEAN_PATH
</pre></div>



<a name="181656069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656069">(Nov 22 2019 at 16:52)</a>:</h4>
<p>Where are you seeing this? Did you restart the Lean server after fetching oleans?</p>



<a name="181656383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656383">(Nov 22 2019 at 16:56)</a>:</h4>
<p>yes, I have restarted the lean server. Now I get issues like</p>
<div class="codehilite"><pre><span></span>could not resolve import: analysis.calculus.fderiv
</pre></div>



<a name="181656419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656419">(Nov 22 2019 at 16:56)</a>:</h4>
<p>Did you open the mathlib folder in VScode?</p>



<a name="181656440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656440">(Nov 22 2019 at 16:57)</a>:</h4>
<p>Or directly a file?</p>



<a name="181656454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656454">(Nov 22 2019 at 16:57)</a>:</h4>
<p>Or a subfolder of the mathlib folder?</p>



<a name="181656607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656607">(Nov 22 2019 at 16:58)</a>:</h4>
<p>Ah, yes! I had opened <code>src</code>. Everything is working fine now, thanks!</p>



<a name="181656764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181656764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181656764">(Nov 22 2019 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> and <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> it seems almost every beginner falls into this trap. Do you think the VScode extension could issue a warning if asked to work outside of a folder containing a leanpkg.path?</p>



<a name="181662537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181662537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181662537">(Nov 22 2019 at 18:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Yes, that's a great idea. The earliest I could look into this is probably next weekend, so if Gabriel or anyone else has some time before then they should go for it.</p>



<a name="181662775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181662775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181662775">(Nov 22 2019 at 18:05)</a>:</h4>
<p>Would a FAQ page be a good idea?</p>



<a name="181662947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181662947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181662947">(Nov 22 2019 at 18:07)</a>:</h4>
<p>This particular issue with opening the project directory is mentioned in the <a href="https://github.com/leanprover-community/mathlib/blob/master/docs/install/project.md" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/docs/install/project.md">"project"</a> doc file. But a separate FAQ would probably be a good idea too.</p>



<a name="181668467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181668467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181668467">(Nov 22 2019 at 19:15)</a>:</h4>
<p>I've seen students just click on Lean files and open them with VS Code. I would say that pointing people towards cloning Patrick's test repo and using update-mathlib was a better idea than getting them to clone mathlib directly and then have to switch branches before cache-olean works. I think cloning the test repo is the easiest way to get going. See <a href="https://github.com/leanprover-community/mathlib/issues/1728" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1728">#1728</a> (ooh, modular form number!)</p>



<a name="181670841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181670841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181670841">(Nov 22 2019 at 19:46)</a>:</h4>
<p>For me, mathlib defaulted to the lean-4.3.2 branch</p>



<a name="181671074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181671074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181671074">(Nov 22 2019 at 19:49)</a>:</h4>
<p>wow, that version doesn't even exist yet</p>



<a name="181673414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181673414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181673414">(Nov 22 2019 at 20:16)</a>:</h4>
<p>Oh, oops - I mean lean-4.2.1, or whatever!</p>



<a name="181673448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181673448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181673448">(Nov 22 2019 at 20:17)</a>:</h4>
<p>Oh wait</p>



<a name="181673458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181673458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181673458">(Nov 22 2019 at 20:17)</a>:</h4>
<p>3.4.2?</p>



<a name="181731589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181731589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181731589">(Nov 23 2019 at 21:15)</a>:</h4>
<p>I have a tactic state</p>
<div class="codehilite"><pre><span></span>1 goal
y c : ‚Ñù,
hc : c &gt; 0
‚ä¢ {x : ‚Ñù | ‚à•sin x + (-sin y + -((x + -y) * cos y))‚à• ‚â§ c * ‚à•x + -y‚à•} ‚àà (nhds y).sets
</pre></div>


<p>In normal maths I would say<br>
Let x ‚àà ‚Ñù such that ‚à•sin x + (-sin y + -((x + -y) * cos y))‚à• ‚â§ c * ‚à•x + -y‚à•<br>
So I feel like <code>intros x, hx</code> should do what I want - but it doesn't work.<br>
How do I deal with sets in lean?</p>
<p>Context  below:</p>
<div class="codehilite"><pre><span></span>import analysis.calculus.deriv
import data.complex.exponential

open real

example (y : ‚Ñù): has_deriv_at sin (cos y) y :=
begin
  intro,
  intro hc,
  simp,

  sorry
end
</pre></div>



<a name="181731989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181731989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181731989">(Nov 23 2019 at 21:26)</a>:</h4>
<p>Just to mention that this fact is proved in <a href="https://github.com/leanprover-community/mathlib/issues/1695" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1695">#1695</a>, which is currently PRed to mathlib, so no need to work too hard on it. As for your question, you want to show that some set is a neighborhood of <code>y</code>. In maths terms, you need to find some <code>epsilon</code> such that your set contains the open interval <code>(y - epsilon, y + epsilon)</code>, so a math proof would certainly not start with <code>Let x ‚àà ‚Ñù such that ‚à•sin x + (-sin y + -((x + -y) * cos y))‚à• ‚â§ c * ‚à•x + -y‚à•</code>. It would start with <code>let epsilon = c/10</code> (or whatever you need). Let me show that, for any <code>x</code> satisfying <code>|x - y| &lt; epsilon</code>, then  <code>‚à•sin x + (-sin y + -((x + -y) * cos y))‚à• ‚â§ c * ‚à•x + -y‚à•</code>. The mathlib proof would definitely go this way, using additionally things like <code>filter.mem_sets_of_superset</code> and <code>mem_nhds_sets</code> (that say that a set containing a neighborhood of <code>y</code> is itself a neighborhood of <code>y</code>, and that an open set containing <code>y</code> is a neighborhood of <code>y</code>).</p>



<a name="181732167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181732167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181732167">(Nov 23 2019 at 21:32)</a>:</h4>
<p>Ah, thanks. I don't really understand what <code>nhds y</code> is yet so I'll have to focus on that.</p>



<a name="181751028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181751028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181751028">(Nov 24 2019 at 08:22)</a>:</h4>
<p>S√©bastien's answer is right, but you may still have some difficulties to return to familiar grounds. You could study:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">calculus</span><span class="bp">.</span><span class="n">deriv</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">complex</span><span class="bp">.</span><span class="n">exponential</span>

<span class="kn">open</span> <span class="n">real</span>
<span class="n">open_locale</span> <span class="n">topological_space</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">‚Ñù</span><span class="o">):</span> <span class="n">has_deriv_at</span> <span class="n">sin</span> <span class="o">(</span><span class="n">cos</span> <span class="n">y</span><span class="o">)</span> <span class="n">y</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">intro</span><span class="o">,</span>
  <span class="n">intro</span> <span class="n">hc</span><span class="o">,</span>
  <span class="n">suffices</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">‚Ñù</span> <span class="bp">|</span> <span class="err">‚à•</span><span class="n">sin</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">sin</span> <span class="n">y</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">*</span> <span class="n">cos</span> <span class="n">y</span><span class="err">‚à•</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="bp">*</span> <span class="err">‚à•</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="err">‚à•</span><span class="o">}</span> <span class="err">‚àà</span> <span class="err">ùìù</span> <span class="n">y</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">simpa</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">metric</span><span class="bp">.</span><span class="n">mem_nhds_iff</span><span class="o">,</span>
  <span class="n">use</span> <span class="o">[</span><span class="n">c</span><span class="bp">/</span><span class="mi">10</span><span class="o">,</span> <span class="k">by</span> <span class="n">linarith</span><span class="o">],</span>
  <span class="n">intros</span> <span class="n">x</span> <span class="n">x_in</span><span class="o">,</span>
  <span class="n">change</span> <span class="n">abs</span><span class="o">(</span><span class="n">sin</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">sin</span> <span class="n">y</span> <span class="bp">-</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">)</span> <span class="bp">*</span> <span class="n">cos</span> <span class="n">y</span><span class="o">)</span> <span class="bp">‚â§</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">abs</span><span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">y</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">metric</span><span class="bp">.</span><span class="n">mem_ball</span><span class="o">,</span> <span class="n">real</span><span class="bp">.</span><span class="n">dist_eq</span><span class="o">]</span> <span class="n">at</span> <span class="n">x_in</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>


<p>Note how your non-terminal <code>simp</code> with unwanted "simplification" (using the dreaded <code>sub_eq_add_neg</code>) is replaced by something much more controled. The last two lines are controversial, you may be better off with general notions than trying to get down to earth with absolute value, but they illustrate the power of <code>change</code>.</p>



<a name="181751205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181751205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Luca Seemungal <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181751205">(Nov 24 2019 at 08:28)</a>:</h4>
<p>Thanks! This is a helpful example to study</p>



<a name="181751213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181751213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181751213">(Nov 24 2019 at 08:29)</a>:</h4>
<p>I forgot one piece of my message at the end: the last line could be replace by <code>change abs (x - y) &lt; c / 10 at x_in,</code> but I wanted to illustrate explicit rewriting of definitional equality vs <code>change</code>.</p>



<a name="181764533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/analysis/near/181764533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/analysis.html#181764533">(Nov 24 2019 at 15:13)</a>:</h4>
<blockquote>
<p>Do you think the VScode extension could issue a warning if asked to work outside of a folder containing a leanpkg.path?</p>
</blockquote>
<p>Gabriel has implemented this feature in the latest release! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>