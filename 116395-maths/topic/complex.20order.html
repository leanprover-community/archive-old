---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/complex.20order.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html">complex order</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="255139908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255139908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255139908">(Sep 28 2021 at 00:02)</a>:</h4>
<p>I've just realized that assumption <code>h₂ : 0 &lt; (f x).re ∨ (f x).im ≠ 0</code> of <a href="https://leanprover-community.github.io/mathlib_docs/find/has_deriv_at.clog">docs#has_deriv_at.clog</a> and a bunch of similar lemmas can be formulated as <code>¬ (f x ≤ 0)</code> in locale <code>complex_order</code>, see <a href="https://leanprover-community.github.io/mathlib_docs/find/complex.complex_partial_order">docs#complex.complex_partial_order</a> and its redefinition in <a href="https://github.com/leanprover-community/mathlib/issues/9420">#9420</a>. Why not make it an instance?</p>



<a name="255140481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255140481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255140481">(Sep 28 2021 at 00:08)</a>:</h4>
<p>I think it was/is controversial to make that order an instance on <code>ℂ</code>, because it is pretty non-canonical.</p>



<a name="255140503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255140503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255140503">(Sep 28 2021 at 00:08)</a>:</h4>
<p>We should probably add some comments about the pros and cons to one of those files.</p>



<a name="255142385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255142385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255142385">(Sep 28 2021 at 00:30)</a>:</h4>
<p>Another solution: define it as an instance, add a library note, and mention it in the docstring of every lemma that depends on <code>complex.partial_order</code>.</p>



<a name="255142457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255142457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255142457">(Sep 28 2021 at 00:30)</a>:</h4>
<p>I guess, we can have a linter for the docstring requirement.</p>



<a name="255142504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255142504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255142504">(Sep 28 2021 at 00:30)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="110087">@Scott Morrison</span> was one of the proponents of making this an instance. But maybe I don't remember correctly.</p>



<a name="255149923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255149923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255149923">(Sep 28 2021 at 02:04)</a>:</h4>
<p>In any Banach algebra, there's the cone of positive elements. Everyone would be pretty happy saying that there is a partial order on the self-adjoint elements, given by <code>x &gt;= y</code> iff <code>x - y</code> is positive.  Of course, you can extend that definition to the whole Banach algebra if you like: <code>x</code> and <code>y</code> will never be comparable if their difference is not self-adjoint. Is that a useful thing to do? Not obvious. Yury is observing that it's ever so slightly useful for stating some hypotheses concisely.</p>
<p>I'm still in favour of making it an instance, on the general theme that we like to make our functions "total", and so we might as well extend the partial order of self-adjoint elements to a partial order on everything, using "the default value" of "incomparable". But I agree that not everyone is going to like that <code>-7 + 7i &lt; 1 + 7i</code>.</p>



<a name="255159425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255159425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255159425">(Sep 28 2021 at 04:22)</a>:</h4>
<p>I'm complex-partial-order-agnostic.</p>



<a name="255160193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255160193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255160193">(Sep 28 2021 at 04:35)</a>:</h4>
<p>Yury has a PR that puts the instances in a locale <code>complex_order</code>, which seems a good middle path.</p>



<a name="255168162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255168162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255168162">(Sep 28 2021 at 06:31)</a>:</h4>
<p>0&lt;re or im!=0 is instantly comprehensible to any reader, whereas not z&lt;=0 is instantly confusing</p>



<a name="255168623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255168623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255168623">(Sep 28 2021 at 06:36)</a>:</h4>
<p>I should add that it's not just experts who read mathlib. I sometimes link to mathlib code on Twitter for example as part of my evangelism attempts</p>



<a name="255200061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20order/near/255200061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20order.html#255200061">(Sep 28 2021 at 11:23)</a>:</h4>
<p>They were already in this locale. I'm changing the definition from <code>∃ x : real, 0 ≤ x ∧ z + x = w</code> to something about <code>re</code> and <code>im</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>