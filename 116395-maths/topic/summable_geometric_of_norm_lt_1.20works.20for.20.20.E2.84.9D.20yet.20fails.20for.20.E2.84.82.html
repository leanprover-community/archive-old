---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html">summable_geometric_of_norm_lt_1 works for  ℝ yet fails for ℂ</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="256073169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256073169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256073169">(Oct 04 2021 at 15:00)</a>:</h4>
<p><a href="/user_uploads/3121/bgkwswPmU3pqlCtxXniUSHVy/summable_geometric_of_norm_lt_1_Problem.lean">summable_geometric_of_norm_lt_1_Problem.lean</a> <br>
Using ℂ results in a type mismatch error. This seems like a bug to me.</p>



<a name="256073676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256073676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256073676">(Oct 04 2021 at 15:03)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis.specific_limits</span>
<span class="kn">import</span> <span class="n">analysis.normed_space.basic</span>
<span class="kn">import</span> <span class="n">analysis.complex.basic</span>
<span class="kn">import</span> <span class="n">data.complex.basic</span>

<span class="kd">noncomputable theory</span>

<span class="kn">open</span> <span class="n">topological_space</span> <span class="n">normed_space</span>
<span class="n">open_locale</span> <span class="n">topological_space</span>

<span class="kn">namespace</span> <span class="n">complex</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">topological_space</span> <span class="n">ℂ</span>  <span class="o">:=</span> <span class="bp">⊥</span>

<span class="sd">/-- works -/</span>
<span class="kd">lemma</span> <span class="n">works</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h0</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">r</span><span class="bp">∥</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">summable</span> <span class="o">(</span><span class="bp">λ</span><span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span><span class="n">r</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">summable_geometric_of_norm_lt_1</span> <span class="n">h0</span>

<span class="sd">/-- fails -/</span>
<span class="kd">lemma</span> <span class="n">fails</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">ℂ</span><span class="o">)</span> <span class="o">(</span><span class="n">h0</span> <span class="o">:</span> <span class="bp">∥</span><span class="n">r</span><span class="bp">∥</span> <span class="bp">&lt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="n">summable</span> <span class="o">(</span><span class="bp">λ</span><span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span><span class="n">r</span><span class="bp">^</span><span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">summable_geometric_of_norm_lt_1</span> <span class="n">h0</span>

<span class="kd">end</span> <span class="n">complex</span>
</code></pre></div>



<a name="256073744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256073744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256073744">(Oct 04 2021 at 15:04)</a>:</h4>
<p>It works if you drop the <code>instance</code></p>



<a name="256073870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256073870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256073870">(Oct 04 2021 at 15:05)</a>:</h4>
<p>Huh. Thanks.</p>



<a name="256073874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256073874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256073874">(Oct 04 2021 at 15:05)</a>:</h4>
<p>Mark, what did you have in mind when writing this instance line?</p>



<a name="256074627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256074627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256074627">(Oct 04 2021 at 15:09)</a>:</h4>
<p>Originally, I added it to stop LEAN from complaining when I was declaring<br>
lemma prob_neg1 (f : ℕ → ℂ) (r : ℂ) (h0 : abs r &lt; 1) (h : ∀(k : ℕ), abs (f k) &lt; abs (r^k)) : summable f :=<br>
...<br>
The word 'summable' was redlined and requested an instance which I provided. This seems to have been fixed by an import I added after that, I suspect 'import analysis.complex.basic' fixed it, but I don't know.</p>



<a name="256075221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256075221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256075221">(Oct 04 2021 at 15:13)</a>:</h4>
<p>Indeed, the <code>normed_space</code> structure on <code>complex</code> is defined in <code>analysis.complex.basic</code></p>



<a name="256075300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256075300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256075300">(Oct 04 2021 at 15:13)</a>:</h4>
<p><code>instance : topological_space ℂ := ⊥</code> basically means "give <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">C</mi></mrow><annotation encoding="application/x-tex">\mathbb{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">C</span></span></span></span> the discrete topology", in which case the lemma <code>fails</code> makes sense but is false, of course, and it's not what you want.</p>



<a name="256075507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256075507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256075507">(Oct 04 2021 at 15:14)</a>:</h4>
<p>OTOH, <code>instance : topological_space ℂ := ⊤</code> would make this lemma trivial ;)</p>



<a name="256075840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256075840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256075840">(Oct 04 2021 at 15:17)</a>:</h4>
<p>I copied and modified 'instance : topological_space ℤ := ⊥' without understanding what it meant.</p>



<a name="256130544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/summable_geometric_of_norm_lt_1%20works%20for%20%20%E2%84%9D%20yet%20fails%20for%20%E2%84%82/near/256130544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/summable_geometric_of_norm_lt_1.20works.20for.20.20.E2.84.9D.20yet.20fails.20for.20.E2.84.82.html#256130544">(Oct 04 2021 at 20:49)</a>:</h4>
<p>Topological space structures on a type form a lattice, with the bottom one the discrete topology and the top one the indiscrete topology. Two topologies T1 and T2 satisfy T1&lt;=T2 iff the identity map (X,T1) -&gt; (X,T2) is continuous.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>