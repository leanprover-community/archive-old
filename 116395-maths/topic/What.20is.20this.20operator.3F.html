---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/What.20is.20this.20operator.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html">What is this operator?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="219081054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219081054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219081054">(Dec 07 2020 at 13:46)</a>:</h4>
<p>This is kind of a weird question, but I find myself needing to make use of the following logical operator:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foo</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">‚àÉ</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">)</span> <span class="bp">‚àß</span> <span class="o">(</span><span class="bp">‚àÄ</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">P</span> <span class="n">x</span> <span class="bp">‚Üí</span> <span class="n">Q</span> <span class="n">x</span><span class="o">))</span>

<span class="kd">notation</span> <span class="bp">`ùîΩ`</span> <span class="n">P</span> <span class="bp">`</span> <span class="bp">&gt;&gt;</span> <span class="bp">`</span> <span class="n">Q</span> <span class="o">:=</span> <span class="n">foo</span> <span class="n">P</span> <span class="n">Q</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="kt">Prop</span><span class="o">)</span>
<span class="k">#check</span> <span class="bp">ùîΩ</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">)</span> <span class="bp">&gt;&gt;</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">Q</span> <span class="n">x</span><span class="o">)</span>
<span class="c1">-- #check ùîΩ x, P x &gt;&gt; Q x</span>
</code></pre></div>
<p>What would you call it? Bonus points if you can figure out how to declare the commented notation</p>



<a name="219081648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219081648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219081648">(Dec 07 2020 at 13:52)</a>:</h4>
<p>Though not completely related, a <em>porism</em> is a statement that, as long as it is true once, it is always true (see <a href="https://en.wikipedia.org/wiki/Poncelet%27s_closure_theorem">Poncelet's porism</a>).  Hope that this helps!</p>
<p>(I may have completely misunderstood the question, though...)</p>



<a name="219082189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082189">(Dec 07 2020 at 13:57)</a>:</h4>
<p>the working title for it is "positive implication". It's pretty weird since it isn't monotone or antitone wrt the first argument. You might gloss it as "P implies Q, but not vacuously"</p>



<a name="219082433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082433">(Dec 07 2020 at 13:59)</a>:</h4>
<p>It comes up "often": a topological space is connected if it is non-empty and [something else].  It is frequent to simply check the something else, though.  I rarely like this...</p>



<a name="219082563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082563" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082563">(Dec 07 2020 at 14:00)</a>:</h4>
<p>A natural number is prime if it is at least 2 and had only 1 and itself as prime divisors.  The latter condition is often the only one to be checked...</p>



<a name="219082593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082593">(Dec 07 2020 at 14:00)</a>:</h4>
<p>(Often, likely outside of the crowd of Lean users...)</p>



<a name="219082648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082648">(Dec 07 2020 at 14:01)</a>:</h4>
<p>well, notice that the same P has to be used in both conjuncts</p>



<a name="219082707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082707">(Dec 07 2020 at 14:01)</a>:</h4>
<p>Actually, I was using the same P and the same Q!  Sorry!</p>



<a name="219082729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219082729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219082729">(Dec 07 2020 at 14:01)</a>:</h4>
<p>the connectedness example might fit this, if [something else] is a statement about every point in the space</p>



<a name="219083059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083059">(Dec 07 2020 at 14:04)</a>:</h4>
<p>Hmmm, to be honest, I am now a little skeptical that either of my examples fit what you want....</p>



<a name="219083212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083212">(Dec 07 2020 at 14:05)</a>:</h4>
<p>I think that I read your initial statement as <code>(‚àÉ x, P x) ‚àß ‚àÄ x, P x</code>.  My examples might fit this operator...</p>



<a name="219083311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083311">(Dec 07 2020 at 14:06)</a>:</h4>
<p>I put parentheses in to clarify</p>



<a name="219083392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083392">(Dec 07 2020 at 14:07)</a>:</h4>
<p>I think this operator has been considered as a way to read the natural language "if then"</p>



<a name="219083555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083555">(Dec 07 2020 at 14:09)</a>:</h4>
<p>That is, "when I go to lunch, I order a sandwich" is nominally a universal conditional, but there is some additional pragmatic content that implies that I go to lunch sometimes (or else it would be a weird thing to say)</p>



<a name="219083715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219083715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219083715">(Dec 07 2020 at 14:10)</a>:</h4>
<p>"nonempty implication" instead of "positive application"?</p>



<a name="219084318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084318">(Dec 07 2020 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> didn't you just suggest a name? <code>when</code>, or the <code>when-then</code> operator.</p>



<a name="219084358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084358">(Dec 07 2020 at 14:15)</a>:</h4>
<p>For the bonus points:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`ùîΩ`</span> <span class="n">binders</span> <span class="bp">`</span><span class="o">,</span> <span class="bp">`</span> <span class="n">s</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">P</span><span class="o">,</span> <span class="n">P</span><span class="o">)</span> <span class="bp">`</span> <span class="bp">&gt;&gt;'</span> <span class="bp">`</span> <span class="n">r</span><span class="o">:(</span><span class="n">scoped</span> <span class="n">P</span><span class="o">,</span> <span class="n">P</span><span class="o">)</span> <span class="o">:=</span> <span class="n">foo</span> <span class="n">s</span> <span class="n">r</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">Œ±</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="n">P</span> <span class="n">Q</span> <span class="o">:</span> <span class="n">Œ±</span> <span class="bp">‚Üí</span> <span class="kt">Prop</span><span class="o">)</span>

<span class="k">#check</span> <span class="bp">ùîΩ</span> <span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span> <span class="bp">&gt;&gt;'</span> <span class="n">Q</span> <span class="n">x</span>
</code></pre></div>



<a name="219084383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084383">(Dec 07 2020 at 14:15)</a>:</h4>
<p><code>&gt;&gt;</code> doesn't seem to work because it's already an operator</p>



<a name="219084453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084453">(Dec 07 2020 at 14:16)</a>:</h4>
<p>Oh that's how that works</p>



<a name="219084512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084512">(Dec 07 2020 at 14:16)</a>:</h4>
<p>The syntax of notation commands is a mystery to me</p>



<a name="219084518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084518">(Dec 07 2020 at 14:16)</a>:</h4>
<p>Maybe adjusting the binding precedence can make <code>&gt;&gt;</code> work</p>



<a name="219084556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084556">(Dec 07 2020 at 14:17)</a>:</h4>
<p>Also your original version <code>#check ùîΩ (Œªx, P x) &gt;&gt; (Œªx, Q x)</code> seems to poison the parser on the following line</p>



<a name="219084621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084621">(Dec 07 2020 at 14:17)</a>:</h4>
<p>oh, so it does</p>



<a name="219084627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219084627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219084627">(Dec 07 2020 at 14:17)</a>:</h4>
<p>With your version, this fails on the second line:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">#check</span> <span class="bp">ùîΩ</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">)</span> <span class="bp">&gt;&gt;</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">Q</span> <span class="n">x</span><span class="o">)</span>
<span class="k">#check</span> <span class="bp">ùîΩ</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">P</span> <span class="n">x</span><span class="o">)</span> <span class="bp">&gt;&gt;</span> <span class="o">(</span><span class="bp">Œª</span><span class="n">x</span><span class="o">,</span> <span class="n">Q</span> <span class="n">x</span><span class="o">)</span>
</code></pre></div>



<a name="219086149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219086149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219086149">(Dec 07 2020 at 14:30)</a>:</h4>
<p>Let me try with another example.  In the case in which <code>Œ± = ‚Ñï</code> and <code> Q n = P n.succ</code> your operator is "eventual induction", right?</p>
<p>For instance, <code>P n := 37 \leq n</code> and <code>Q n := 37 \leq n.succ</code> fit the requirements?</p>
<p>Kind of a silly example, however, <code>P 36</code> is false, while <code>Q 36</code> is true.  Otherwise, they are either both true or both false.</p>



<a name="219086455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219086455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219086455">(Dec 07 2020 at 14:32)</a>:</h4>
<p>ah yes, that's an interesting example</p>



<a name="219086819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%20is%20this%20operator%3F/near/219086819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What.20is.20this.20operator.3F.html#219086819">(Dec 07 2020 at 14:35)</a>:</h4>
<p>The context where this came up for me was in the safety property for a nondeterministic state machine: if s is "safe" then this means that there exists s' such that s -&gt; s', and every s' such that s -&gt; s' is "safe"</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>