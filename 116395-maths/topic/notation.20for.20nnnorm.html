---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/notation.20for.20nnnorm.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html">notation for nnnorm</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="229716356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229716356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229716356">(Mar 10 2021 at 18:22)</a>:</h4>
<p>In the liquid project we make a lot of use of <code>nnreal</code>, and hence it's convenient to also use <code>nnnorm</code>. But it looks ugly.<br>
What do people think of making</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`∥`</span><span class="n">x</span><span class="bp">`∥₊`</span> <span class="o">:=</span> <span class="n">nnnorm</span> <span class="n">x</span>
</code></pre></div>



<a name="229716458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229716458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229716458">(Mar 10 2021 at 18:23)</a>:</h4>
<p>We can already do this in the liquid project, but for code that is supposed to move to mathlib, I would rather not do this. Unless we also add the notation to mathlib</p>



<a name="229716519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229716519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229716519">(Mar 10 2021 at 18:23)</a>:</h4>
<p>Another option (quite radical, I admit) would be to refactor mathlib so that <code>norm</code> takes values in <code>nnreal</code>.</p>



<a name="229717204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229717204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229717204">(Mar 10 2021 at 18:28)</a>:</h4>
<p>How bad an idea would a <code>has_some_norm</code> typeclass be that instead of specifiy <code>real</code> or <code>nnreal</code> supports an arbitrary output type?</p>



<a name="229717291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229717291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229717291">(Mar 10 2021 at 18:28)</a>:</h4>
<p>Then the notation could just be the same everywhere, although you'd need to give lean a few more hints about what type you're talking about</p>



<a name="229717349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229717349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229717349">(Mar 10 2021 at 18:28)</a>:</h4>
<p>As an aside, your proposed notation is actually better behaved than the one for <code>norm</code>, as it has different opening and closing markers!</p>



<a name="229717784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229717784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229717784">(Mar 10 2021 at 18:31)</a>:</h4>
<p>Won't lean mind that the starting marker is already in use for plain <code>norm</code>?</p>



<a name="229717810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229717810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229717810">(Mar 10 2021 at 18:31)</a>:</h4>
<p>I guess not if lean-liquid uses it already</p>



<a name="229719455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229719455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229719455">(Mar 10 2021 at 18:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20nnnorm/near/229717204">said</a>:</p>
<blockquote>
<p>How bad an idea would a <code>has_some_norm</code> typeclass be that instead of specifiy <code>real</code> or <code>nnreal</code> supports an arbitrary output type?<br>
Then the notation could just be the same everywhere, although you'd need to give lean a few more hints about what type you're talking about</p>
</blockquote>
<p>I think you would need <em>a lot</em> of hints in mathlib</p>



<a name="229720596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229720596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229720596">(Mar 10 2021 at 18:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20nnnorm/near/229716356">said</a>:</p>
<blockquote>
<p>In the liquid project we make a lot of use of <code>nnreal</code>, and hence it's convenient to also use <code>nnnorm</code>. But it looks ugly.<br>
What do people think of making</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`∥`</span><span class="n">x</span><span class="bp">`∥₊`</span> <span class="o">:=</span> <span class="n">nnnorm</span> <span class="n">x</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I think that's a very good idea!</p>



<a name="229720623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229720623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229720623">(Mar 10 2021 at 18:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20nnnorm/near/229716519">said</a>:</p>
<blockquote>
<p>Another option (quite radical, I admit) would be to refactor mathlib so that <code>norm</code> takes values in <code>nnreal</code>.</p>
</blockquote>
<p>Please don't do that :-)</p>



<a name="229720653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229720653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229720653">(Mar 10 2021 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20nnnorm/near/229717204">said</a>:</p>
<blockquote>
<p>How bad an idea would a <code>has_some_norm</code> typeclass be that instead of specifiy <code>real</code> or <code>nnreal</code> supports an arbitrary output type?</p>
</blockquote>
<p>Please don't do that :-)</p>



<a name="229721182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229721182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229721182">(Mar 10 2021 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> What do you think of decoupling the definition of <code>nnnorm</code> from <code>norm</code>?</p>



<a name="229721298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229721298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229721298">(Mar 10 2021 at 18:52)</a>:</h4>
<p>Currently you can only get <code>nnnorm</code> if you have a <code>normed_group</code>. But in LTE we have gadgets that are not normed groups, but still carry a norm.</p>



<a name="229721423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229721423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229721423">(Mar 10 2021 at 18:53)</a>:</h4>
<p>So I would like to have <code>has_nnnorm</code>, which is automatically filled in by <code>normed_group</code></p>



<a name="229729609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229729609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229729609">(Mar 10 2021 at 19:41)</a>:</h4>
<p>We have the syntactic class <code>has_norm</code>. You could register a <code>norm_nonneg</code> class extending <code>has_norm</code> (which would be instantiated by all usual classes), and define <code>nnnorm</code> on all <code>norm_nonneg</code> classes.</p>



<a name="229733128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20nnnorm/near/229733128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20nnnorm.html#229733128">(Mar 10 2021 at 20:03)</a>:</h4>
<p>Or you could definitely have a <code>has_nnnorm</code> class if that's more convenient for you!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>