---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html">algebra is not scaling for me</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="188403964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188403964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#188403964">(Feb 17 2020 at 20:09)</a>:</h4>
<p><a href="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png" target="_blank" title="artintate1.png">artintate1.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png" target="_blank" title="artintate1.png"><img src="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png"></a></div><p><a href="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png" target="_blank" title="artintate2.png">artintate2.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png" target="_blank" title="artintate2.png"><img src="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png"></a></div><p>There's a proof from Atiyah--Macdonald. There are three rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi><mo>⊆</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\subseteq B\subseteq C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> and during the proof a fourth ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is introduced. All the fast and loose playing with elements of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> makes me want to write this entire proof using subsets of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> (i.e. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is a big ring and everything else is a subset). However the following concepts are also used: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is a Noetherian ring, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, and this makes me want to write the proof using four different rings and lots of <code>[algebra X Y]</code> instances. Whichever option I choose will then cause me pain in the parts of the argument which work far more nicely with the other option. What am I supposed to be doing here?</p>



<a name="188405617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188405617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#188405617">(Feb 17 2020 at 20:45)</a>:</h4>
<p>This seems like a really nice test case.</p>



<a name="188405636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188405636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#188405636">(Feb 17 2020 at 20:45)</a>:</h4>
<p>I completely agree that things like this are an enormous pain in the back at the moment. And we have to find a way to make it go smoother.</p>



<a name="188406193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188406193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#188406193">(Feb 17 2020 at 20:56)</a>:</h4>
<p>We can ask <span class="user-mention" data-user-id="110172">@Assia Mahboubi</span> and <span class="user-mention" data-user-id="110193">@Cyril Cohen</span> how that would be handled in math-comp.</p>



<a name="188408482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188408482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#188408482">(Feb 17 2020 at 21:43)</a>:</h4>
<p>I wonder whether this is the sort of situation (when doing finite groups, say) which makes people want to work in some big underlying group like they do in Feit-Thompson?</p>
<p>Having thought about this more on the way home though, without touching Lean, I am beginning to think that actually the approach with everything a different type might work fine, after some sort of interface is written. Maybe I'm being naive. I guess one thing that will come up is that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is defined later on, and probably at this stage <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, but I'm going to need to make <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-algebra and hope that everything works out with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> now being an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra in two ways (actually maybe it isn't even an algebra in two ways, as that instance is not there I guess).</p>



<a name="191346381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191346381">(Mar 21 2020 at 13:46)</a>:</h4>
<p>Hi, sorry for this answer one month later, and many thanks <span class="user-mention" data-user-id="210574">@Patrick Massot</span> for inviting me in this discussion. I will try to write a mockup, mathcomp style, draft one of these days. (NB: this might well be outrageous wishful thinking, as the complete lockdown in France has considerably deteriorated my working conditions.) I would say that such a mockup would rely on two ingredients:</p>
<ul>
<li>Having <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> as (carrier) sets of a same  type</li>
<li>Attaching different algebraic structures to a same carrier set via the definition of different, convertible copies of the same carrier.</li>
</ul>
<p>But I have been told at several occasion that this is considered as too brittle in mathlib (or in Lean?). I would love to understand better why so.</p>



<a name="191346640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191346640">(Mar 21 2020 at 13:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110172">@Assia Mahboubi</span> Cool! (And good luck with the tough situation.)<br>
In this example, the maps <code>A → B → C</code> are injective, so we can regard them as subrings of some ambient ring. But in other situations the maps need not be injective. And then you can use sets in an ambient type...</p>



<a name="191346665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191346665">(Mar 21 2020 at 13:53)</a>:</h4>
<p>This is my main reason why I think the "subsets of ambient type" cannot work for the general commutative algebra problem</p>



<a name="191346678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191346678">(Mar 21 2020 at 13:53)</a>:</h4>
<p>We use this trick in a few places in mathlib, notably in <code>additive</code> and <code>multiplicative</code>. In other places, like <code>opposite</code>, we have moved from the "defeq newtype" approach to a more locked down "irreducible defeq newtype" which still gives you <code>up</code> and <code>down</code> functions satisfying <code>up (down x) = x</code> and <code>down (up x) = x</code> definitionally. But it seems in lean 4 that these have been abolished in favor of singleton structures, which loses one of those two defeqs for the coercions.</p>



<a name="191346846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191346846">(Mar 21 2020 at 13:56)</a>:</h4>
<p>One issue you can run into if you use types like <code>multiplicative nat</code> is that it becomes easy to get confused since the notations are all wrong: <code>0</code> is actually <code>1</code> and if you aren't careful your goal might end up saying <code>1 * 1 = 2</code> where the <code>1</code> is carrying the instance from <code>nat</code> and <code>*</code> is carrying the instance from <code>multiplicative nat</code>.</p>



<a name="191347937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191347937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191347937">(Mar 21 2020 at 14:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> many thanks for your answers! This is really helpful. Note that I am not advocating this  as an all-purpose solution, just trying to think about Kevin's problem, which is stated on paper using set inclusions. I am just suggesting to formalize these inclusions as, well, inclusions. Also, I am used to a different, more bundled approach to notations, and in any case I agree that the notation problem mentioned by Mario is of a different nature.</p>



<a name="191348029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348029">(Mar 21 2020 at 14:24)</a>:</h4>
<p>The statement and proof of the lemma work fine if A -&gt; B -&gt; C are maps of rings. I was surprised! One proof is "replacing A and B by their images in C, we can assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi><mo>⊆</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\subseteq B\subseteq C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>..."</p>



<a name="191348062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348062">(Mar 21 2020 at 14:25)</a>:</h4>
<p>The intermediate construction B_0 really does seem to be a subset of B though.</p>



<a name="191348195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348195">(Mar 21 2020 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> ah ok! Then it is the same as what I was suggesting. Working with subsets when possible does not mean that one does not generalize statement afterwards. Thanks for this additional comment.</p>



<a name="191348229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348229" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348229">(Mar 21 2020 at 14:29)</a>:</h4>
<p>My problem was that I didn't know if I wanted [B : subring C] or [algebra B C]. In mathematics they're kind of the same</p>



<a name="191348294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348294">(Mar 21 2020 at 14:30)</a>:</h4>
<p>Does it make a different when you need to <em>apply</em> this lemma? I mean, in Lean of course.</p>



<a name="191348321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348321">(Mar 21 2020 at 14:31)</a>:</h4>
<p>But with this B_0 it really was built as a subring of B. So I just want to painlessly switch between the two concepts really. Maybe it just means writing a bunch of interface to enable me to do this. And then I will need things like "B is integral over A" which will have two definitions depending on whether B is an A-algebra or A is a subring of B, and we need that one is true if and only if the other is etc.</p>



<a name="191348330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348330">(Mar 21 2020 at 14:31)</a>:</h4>
<p>Yes I'm sure that applying it will be hopeless with the subring definition</p>



<a name="191348415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348415">(Mar 21 2020 at 14:33)</a>:</h4>
<p>so then everything has to be an algebra over everything else. But in the proof I really make B_0 a subring of B, and the map from A to B lands in B_0, so now I have to decide whether I want to make a new type B_0 with B_0 an A-algebra and B a B_0-algebra or whether to have some hybrid approach with some subrings and some algebras</p>



<a name="191348640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348640">(Mar 21 2020 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I am lost : I though that in the proof <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> are subsets, so what it is the problem with the "map" from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>?</p>



<a name="191348666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348666">(Mar 21 2020 at 14:39)</a>:</h4>
<p>So I do not really know what I am supposed to be proving here. If I prove the subset version, then I can deduce the version with A -&gt; B -&gt; C. This is what I'd say to a mathematician.</p>



<a name="191348693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348693">(Mar 21 2020 at 14:39)</a>:</h4>
<p>But the subset version is probably not so easy to apply in practice because <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi></mrow><annotation encoding="application/x-tex">\mathbb{N}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span></span> is not a subset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> even though mathematicians think it is.</p>



<a name="191348694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348694">(Mar 21 2020 at 14:39)</a>:</h4>
<p>Exactly, and that's the route I would go for in type theory as well.</p>



<a name="191348739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348739">(Mar 21 2020 at 14:40)</a>:</h4>
<p>The problem is that if I have a morphism of rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> then there are various common predicates, such as "the morphism is integral"</p>



<a name="191348747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348747">(Mar 21 2020 at 14:40)</a>:</h4>
<p>and if I have a subset <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> then we get the same predicates</p>



<a name="191348751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348751">(Mar 21 2020 at 14:40)</a>:</h4>
<p>because there's an induced morphism</p>



<a name="191348761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348761">(Mar 21 2020 at 14:41)</a>:</h4>
<p>and some of these predicates are defined for subrings and some are defined for morphisms</p>



<a name="191348771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348771">(Mar 21 2020 at 14:41)</a>:</h4>
<p>and some are perhaps defined for both, and then you need some theorem saying that one is true iff the other is true</p>



<a name="191348821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348821">(Mar 21 2020 at 14:42)</a>:</h4>
<p>but actually the problem is much worse</p>



<a name="191348826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348826">(Mar 21 2020 at 14:42)</a>:</h4>
<p>because if A and B are both subsets of C in the sense that they are terms of type <code>set C</code></p>



<a name="191348831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348831">(Mar 21 2020 at 14:42)</a>:</h4>
<p>then A is not a subset of B, at least in Lean</p>



<a name="191348834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348834">(Mar 21 2020 at 14:42)</a>:</h4>
<p>in the sense that A doesn't have type <code>set B</code></p>



<a name="191348844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348844">(Mar 21 2020 at 14:43)</a>:</h4>
<p>so now I need another predicate: if A and B are both subsets of C then one can ask that the inclusion A -&gt; B is integral as well</p>



<a name="191348846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348846">(Mar 21 2020 at 14:43)</a>:</h4>
<p>so this is now three ways of saying exactly the same thing</p>



<a name="191348849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348849">(Mar 21 2020 at 14:43)</a>:</h4>
<p>aren't they all the same though?</p>



<a name="191348852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348852">(Mar 21 2020 at 14:43)</a>:</h4>
<p>sure</p>



<a name="191348882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348882">(Mar 21 2020 at 14:44)</a>:</h4>
<p>and of course I could hack through some proof</p>



<a name="191348893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348893">(Mar 21 2020 at 14:44)</a>:</h4>
<p>like in lean that would just be one predicate and various kinds of coercion arrows</p>



<a name="191348901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348901">(Mar 21 2020 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , in the first version of the lemma, the one about inclusions, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> are all sets of a same, larger type. Which does not even need to be equiped with a ring structure.</p>



<a name="191348923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348923">(Mar 21 2020 at 14:45)</a>:</h4>
<p>Right -- so in the odd order paper this is the way of thinking.</p>



<a name="191348928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348928">(Mar 21 2020 at 14:45)</a>:</h4>
<p>Make everything a subset of a large object, and then put the predicates on inclusions of subsets</p>



<a name="191348935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191348935">(Mar 21 2020 at 14:45)</a>:</h4>
<p>But Mario is saying the exact opposite, he's saying put the predicate on A a ring and B an A-algebra</p>



<a name="191349012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349012">(Mar 21 2020 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191348928" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191348928">said</a>:</p>
<blockquote>
<p>Make everything a subset of a large object, and then put the predicates on inclusions of subsets</p>
</blockquote>
<p>And afterwards, when needed and possible, prove alternate versions for items with a different carrier type, images under an appropriate morphism.</p>



<a name="191349097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349097">(Mar 21 2020 at 14:48)</a>:</h4>
<p>so you're saying that I should define the concepts for A and B both subrings of some large X, and then if I happen to have a map of rings R -&gt; S then the image of R is a subset of the universal subset of S</p>



<a name="191349113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349113">(Mar 21 2020 at 14:49)</a>:</h4>
<p>Yes</p>



<a name="191349120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349120">(Mar 21 2020 at 14:49)</a>:</h4>
<p>I think she wants <code>A</code> <code>B</code> and <code>C</code> subrings of large <code>R</code>.</p>



<a name="191349122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349122">(Mar 21 2020 at 14:49)</a>:</h4>
<p>but now if I have R -&gt; S and S -&gt; T and I get an induced map R -&gt; T then aren't I in big trouble?</p>



<a name="191349184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349184">(Mar 21 2020 at 14:50)</a>:</h4>
<p>because my integrality predicate on R -&gt; S is about an inclusion (image of R) -&gt; (universal subset of S) in S</p>



<a name="191349199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349199">(Mar 21 2020 at 14:50)</a>:</h4>
<p>but I now want to talk about the image of R and the image of S in T which is a different thing</p>



<a name="191349209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349209">(Mar 21 2020 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>, in general the supertype does not need to have a very strong structure. The carrier type of finite groups in the odd order theorem formal development is not necessarily a group itself.</p>



<a name="191349282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349282" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349282">(Mar 21 2020 at 14:52)</a>:</h4>
<p>Isn't the issue here that if I define the predicate for two subsets A and B of a large ring X, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>, if I define integrality for this, then if I have rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> subsets of a large ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> isomorphic to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> isomorphic to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and the diagram commuting, I can't deduce integrality of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo>→</mo><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'\to B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> from integrality of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></p>



<a name="191349295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349295">(Mar 21 2020 at 14:52)</a>:</h4>
<p>Assia, are those lemmas stated in terms of an amorphous ambient type meant to be part of the public API, or are they hidden? (And thanks for joining us!)</p>



<a name="191349307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349307">(Mar 21 2020 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> sorry you lost me. We are no more talking about the same lemma, are we?</p>



<a name="191349334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349334">(Mar 21 2020 at 14:53)</a>:</h4>
<p>I am trying to work out how to define 100 predicates on a situation where I have an injective map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> of rings.</p>



<a name="191349335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349335">(Mar 21 2020 at 14:53)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="210574">@Patrick Massot</span> ! My pleasure, again, thank you!</p>



<a name="191349396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349396">(Mar 21 2020 at 14:54)</a>:</h4>
<p>I can model this situation in three ways. (1) I can define a structure <code>algebra A B</code> to mean that A and B are rings and we have a map A -&gt; B (2) I can consider A as a subset of B or (3) I can consider both A and B as subsets of a larger structure.</p>



<a name="191349400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349400">(Mar 21 2020 at 14:54)</a>:</h4>
<p>It is not completly amorphous: it is equipped with a signature, which fixes the laws common to all sub-stuff under consideration (here, ring operations I guess).</p>



<a name="191349413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349413">(Mar 21 2020 at 14:55)</a>:</h4>
<p>I want to define 100 predicates and prove 100 lemmas about these predicates</p>



<a name="191349429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349429">(Mar 21 2020 at 14:55)</a>:</h4>
<p>and the lemmas are of the form "if A -&gt; B has property P, and B -&gt; C has property Q, then A -&gt; C has property R"</p>



<a name="191349445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349445">(Mar 21 2020 at 14:55)</a>:</h4>
<p>or "if A -&gt; B and B -&gt; C are ring homomorphisms and if A -&gt; B has property P and A -&gt; C has property Q then B -&gt; C has property R"</p>



<a name="191349504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349504">(Mar 21 2020 at 14:56)</a>:</h4>
<p>and all of these predicates make sense for general ring homomorphisms A -&gt; B, but they only depend on the image of A in B</p>



<a name="191349516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349516">(Mar 21 2020 at 14:57)</a>:</h4>
<p>so we can imagine that they are predicates on a ring B and a subring A</p>



<a name="191349581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349581">(Mar 21 2020 at 14:58)</a>:</h4>
<p>The idea of making everything a subset of a big Type, is basically just the assumption that everything lives inside some big commutative diagram where the maps are injective. What do you lose by just assuming something like this, where there are no injectivity assumptions?</p>
<div class="codehilite"><pre><span></span><span class="o">{</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">ι</span><span class="o">]</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">comm_ring</span> <span class="o">(</span><span class="n">R</span> <span class="n">i</span><span class="o">)]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">j</span> <span class="bp">→</span> <span class="n">R</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">R</span> <span class="n">j</span><span class="o">)</span>
</pre></div>



<a name="191349589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349589">(Mar 21 2020 at 14:58)</a>:</h4>
<p>I forgot the commutativity assumption but you get the idea.</p>



<a name="191349590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349590">(Mar 21 2020 at 14:58)</a>:</h4>
<p>But yes, it is part of the public API. The formal statement of the odd order theorem proved by our proof is</p>
<div class="codehilite"><pre><span></span>Theorem Feit_Thompson (gT : finGroupType) (G : {group gT}) : odd #|G| -&gt; solvable G.
</pre></div>


<p>where <code>finGroupType</code> is the ambiant type, equipped with a distinguished element, a binary law, etc. and <code>G</code> is a subset thereof, equipped with a true structure of group. So yes, one quantifier more than expected on paper.</p>



<a name="191349594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349594">(Mar 21 2020 at 14:58)</a>:</h4>
<p>But what happens in practice is that when you are working with rings, sometimes you have two rings and a map between them, sometimes you have a ring and a subring, and sometimes you have two subrings of a ring, so I need all my theorems in all three situations and I also need them in "mixed" situations where A is a subring of B and there's a map from B to C</p>



<a name="191349699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349699">(Mar 21 2020 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> sorry I am not fast enough to answer all the messages. I am trying in order.</p>



<a name="191349745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349745">(Mar 21 2020 at 15:01)</a>:</h4>
<p>First I would like  to make a disclaimer: I am still not quite sure about how to do commutative algebra right.</p>



<a name="191349825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349825">(Mar 21 2020 at 15:03)</a>:</h4>
<p>Yes, as a mathematician I was very surprised when I started to learn about this area that these issues, which simply do not exist in mathematics, are very subtle and perhaps not completely understood in this community.</p>



<a name="191349902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349902">(Mar 21 2020 at 15:04)</a>:</h4>
<p>Can you apply the odd order theorem? If I create just an abstract group by putting a group structure on some type with precisely one term, can you prove that it is solvable using Feit-Thompson?</p>



<a name="191349918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349918">(Mar 21 2020 at 15:05)</a>:</h4>
<p>some people might say that this is using a sledgehammer to crack a nut I guess</p>



<a name="191349926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349926">(Mar 21 2020 at 15:05)</a>:</h4>
<p>Things are currently broken in mathcomp (which you can guess from <a href="https://github.com/math-comp/math-comp/blob/14e28e78155e3e6cfbe78aee0964569283f04d7d/mathcomp/algebra/ssralg.v#L903" target="_blank" title="https://github.com/math-comp/math-comp/blob/14e28e78155e3e6cfbe78aee0964569283f04d7d/mathcomp/algebra/ssralg.v#L903">this line</a> in the definition of a ring structure in the hierarchy).</p>



<a name="191349978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349978">(Mar 21 2020 at 15:06)</a>:</h4>
<p>Ooooh, that's bad</p>



<a name="191349982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349982">(Mar 21 2020 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191349902" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191349902">said</a>:</p>
<blockquote>
<p>Can you apply the odd order theorem? If I create just an abstract group by putting a group structure on some type with precisely one term, can you prove that it is solvable using Feit-Thompson?</p>
</blockquote>
<p>Of course you can.</p>



<a name="191349990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349990">(Mar 21 2020 at 15:06)</a>:</h4>
<p>Why not stating the expected version of Feit-Thompson after your weird statement?</p>



<a name="191349998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191349998">(Mar 21 2020 at 15:06)</a>:</h4>
<p>but my type is nothing to do with <code>finGroupType</code>?</p>



<a name="191350006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350006">(Mar 21 2020 at 15:07)</a>:</h4>
<p>At least it would make it easier to read for mathematicians.</p>



<a name="191350069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350069">(Mar 21 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> you will define the instance of group carrier type from your singleton type, and then the group you want to work with is the trivial group on this group type (yes, the library has defined this for you).</p>



<a name="191350076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350076">(Mar 21 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="210574">@Patrick Massot</span> What is the expected version?</p>



<a name="191350088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350088">(Mar 21 2020 at 15:08)</a>:</h4>
<p>The expected version doesn't have the carrier type</p>



<a name="191350091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350091">(Mar 21 2020 at 15:08)</a>:</h4>
<p>Only one type, equipped with a group structure.</p>



<a name="191350094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350094">(Mar 21 2020 at 15:08)</a>:</h4>
<p>Because it is stated in set theory.</p>



<a name="191350157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350157">(Mar 21 2020 at 15:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350091" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350091">said</a>:</p>
<blockquote>
<p>Only one type, equipped with a group structure.</p>
</blockquote>
<p>I am not sure. My feeling is that mathematicians do not speak about types, just about sets.</p>



<a name="191350158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350158">(Mar 21 2020 at 15:10)</a>:</h4>
<p>I mean <code>Theorem Feit_Thompson  (G : Group) : odd #|G| -&gt; solvable G.</code> (assuming bundled groups).</p>



<a name="191350177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350177">(Mar 21 2020 at 15:10)</a>:</h4>
<p>or <code>Theorem Feit_Thompson (G : Type*) [group G] [finite G] : odd #|G| -&gt; solvable G.</code> if unbundled.</p>



<a name="191350191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350191">(Mar 21 2020 at 15:11)</a>:</h4>
<p>That was the question I was trying to ask with my group of order 1 question.</p>



<a name="191350248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350248">(Mar 21 2020 at 15:12)</a>:</h4>
<p>I am trying to prove theorems about rings in this thread, and I am just beginning to understand that the statement of Feit-Thompson above is not in some sense a statement about the most general concept of a group</p>



<a name="191350251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350251">(Mar 21 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  In fact, you would apply the statement to the singleton <em>set</em>. And then inference of implicit stuff does the rest.</p>



<a name="191350262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350262">(Mar 21 2020 at 15:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350248" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350248">said</a>:</p>
<blockquote>
<p>I am trying to prove theorems about rings in this thread, and I am just beginning to understand that the statement of Feit-Thompson above is not in some sense a statement about the most general concept of a group</p>
</blockquote>
<p>Why not?</p>



<a name="191350269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350269">(Mar 21 2020 at 15:13)</a>:</h4>
<p>oops, I have to go offline, sorry.</p>



<a name="191350272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350272">(Mar 21 2020 at 15:13)</a>:</h4>
<p>thank you very much!</p>



<a name="191350277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350277">(Mar 21 2020 at 15:13)</a>:</h4>
<p>Maybe you shouldn't care, but if you tell a mathematician "I've formalized Feit-Thompson, the statement is <code>Theorem Feit_Thompson  (G : Group) : odd #|G| -&gt; solvable G</code>" they agree this is the expected statement, even without having ever heard of type theory, whereas <code>Theorem Feit_Thompson (gT : finGroupType) (G : {group gT}) : odd #|G| -&gt; solvable G.</code> looks alien.</p>



<a name="191350330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350330">(Mar 21 2020 at 15:14)</a>:</h4>
<p>So <code>solvable</code> here is a predicate on subsets of some ambient type. We can prove what Patrick and I would think of as the "normal" version by <em>defining</em> <code>solvable G</code> to be <code>solvable (set.univ G)</code></p>



<a name="191350640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350640">(Mar 21 2020 at 15:21)</a>:</h4>
<p>I am only guessing at what is happening with Assia's link above, but here is some observation. If we have finitely many groups and for some technical type theory reason we want them all to be subgroups of a big object with a <code>1</code> and a <code>*</code> and an <code>inv</code>, we can just take the product of the groups and then each group naturally embeds as a subset.</p>



<a name="191350694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350694" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350694">(Mar 21 2020 at 15:22)</a>:</h4>
<p>it doesn't even have to be a finite set of groups</p>



<a name="191350701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350701">(Mar 21 2020 at 15:22)</a>:</h4>
<p>But this same trick cannot work with rings. If you have finitely many rings then each has a <code>0</code> and a <code>1</code> and a <code>+</code>, and if you want them all to be subsets of a big object with a universal <code>0</code> and <code>1</code> and <code>+</code>, then you're in trouble, because maybe <code>1 + 1 = 0</code> in some of the rings, but not in others, and if they all have the same <code>0</code> and the same <code>1</code> and the same <code>+</code> then they all have the same <code>2</code></p>



<a name="191350715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350715">(Mar 21 2020 at 15:23)</a>:</h4>
<p>and the zero ring has <code>0=1</code></p>



<a name="191350720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350720" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350720">(Mar 21 2020 at 15:23)</a>:</h4>
<p>although possibly the big not-a-group in F-T is actually finite; I'm not sure whether it gets enforced there or on the groups themselves</p>



<a name="191350772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350772">(Mar 21 2020 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350640" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350640">said</a>:</p>
<blockquote>
<p>I am only guessing at what is happening with Assia's link above, but here is some observation. If we have finitely many groups and for some technical type theory reason we want them all to be subgroups of a big object with a <code>1</code> and a <code>*</code> and an <code>inv</code>, we can just take the product of the groups and then each group naturally embeds as a subset.</p>
</blockquote>
<p>I don't think that really works particularly well, because they also have to embed in a way such that all the maps you care about between these groups become inclusions</p>



<a name="191350777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350777">(Mar 21 2020 at 15:24)</a>:</h4>
<p>But Kevin, the big object is not a group/ring/whatever structure</p>



<a name="191350784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350784">(Mar 21 2020 at 15:24)</a>:</h4>
<p>This doesn't matter</p>



<a name="191350788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350788">(Mar 21 2020 at 15:24)</a>:</h4>
<p>and the inclusions are not ring homs</p>



<a name="191350797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350797">(Mar 21 2020 at 15:24)</a>:</h4>
<p>Oh this matters</p>



<a name="191350801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350801">(Mar 21 2020 at 15:25)</a>:</h4>
<p>My understanding was that they were all inheriting the structure from the big type</p>



<a name="191350816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350816">(Mar 21 2020 at 15:25)</a>:</h4>
<p>oh wait, they are not ring homs but they are +,*,0,1 homs</p>



<a name="191350872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350872">(Mar 21 2020 at 15:26)</a>:</h4>
<p>Mario, concretely I'm saying that there is no big object with 0,1,+,* such that Z/2Z and Z/3Z are both subsets containing the 0 and 1 and closed under + and *</p>



<a name="191350880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350880">(Mar 21 2020 at 15:26)</a>:</h4>
<p>Z/2Z * Z/3Z?</p>



<a name="191350882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350882">(Mar 21 2020 at 15:26)</a>:</h4>
<p>It doesn't work</p>



<a name="191350887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350887">(Mar 21 2020 at 15:27)</a>:</h4>
<p>they have different 1's</p>



<a name="191350891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350891">(Mar 21 2020 at 15:27)</a>:</h4>
<p>Z/2Z x Z/3Z = Z/6Z and Z/2Z ={0,3} and Z/3Z={0,2,4}</p>



<a name="191350892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350892">(Mar 21 2020 at 15:27)</a>:</h4>
<p>However I'm not sure that this is a problem. So what if the big not-a-ring fixes the characteristic? All rings in the commutative diagram will have compatible characteristics anyway</p>



<a name="191350897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350897">(Mar 21 2020 at 15:27)</a>:</h4>
<p>Oh yes, you're right.</p>



<a name="191350940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350940">(Mar 21 2020 at 15:28)</a>:</h4>
<p>It's not true that the rings will have the same characteristic. There is a perfectly good map Z/6Z -&gt; Z/3Z</p>



<a name="191350946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350946">(Mar 21 2020 at 15:28)</a>:</h4>
<p>compatible meaning divisible</p>



<a name="191350965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350965">(Mar 21 2020 at 15:29)</a>:</h4>
<p>This is weird. In the A-M situation it's a question about inclusions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> but there is a more general statement about maps <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></p>



<a name="191350967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350967">(Mar 21 2020 at 15:29)</a>:</h4>
<p>this trick is only for inclusion maps, right?</p>



<a name="191350972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191350972">(Mar 21 2020 at 15:29)</a>:</h4>
<p>and in the more general statement you certainly can't embed everything into an ambient type, but in the inclusion situation you can</p>



<a name="191351035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351035">(Mar 21 2020 at 15:31)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="110044">@Chris Hughes</span>  suggestion is really interesting. It feels like a much more Lean-idiomatic way to do things.</p>



<a name="191351038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351038">(Mar 21 2020 at 15:31)</a>:</h4>
<p>I think this trick is not generally applicable. It's good for groups, but I can't possibly see this generalizing to all the other interesting algebraic objects, given the constraints already in rings</p>



<a name="191351076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351076">(Mar 21 2020 at 15:32)</a>:</h4>
<p>Yes that is my guess too.</p>



<a name="191351082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351082">(Mar 21 2020 at 15:32)</a>:</h4>
<p>I don't understand what properties groups have that make the technique so powerful for them</p>



<a name="191351101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351101">(Mar 21 2020 at 15:33)</a>:</h4>
<p>for it to be generally applicable, it needs to put basically no restrictions on the "mathematical content". If the embeddings were more unstructured, for example if they each pick their own 0,1,+,* operations, then this could work, but then you are basically just doing set theory</p>



<a name="191351107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351107">(Mar 21 2020 at 15:33)</a>:</h4>
<p>I feel like I am very interested in one structure consisting of three rings A, B, C and a commuting triangle A -&gt; B -&gt; C (in the maths sense, i.e. maps A -&gt; B and B -&gt; C)</p>



<a name="191351168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351168">(Mar 21 2020 at 15:34)</a>:</h4>
<p>and I am not at all sure that I want to assume that the image of A in B is isomorphic to the image of A in C</p>



<a name="191351263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351263">(Mar 21 2020 at 15:36)</a>:</h4>
<p>I think what makes groups work is just what you said earlier: you can product a bunch of groups together to embed whatever you want. The category of groups has coproducts</p>



<a name="191351285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351285">(Mar 21 2020 at 15:37)</a>:</h4>
<p>the category of rings has coproducts too but the maps aren't in general injective</p>



<a name="191351298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351298">(Mar 21 2020 at 15:37)</a>:</h4>
<p>the coproduct of Z/2 and Z/3 is 0</p>



<a name="191351312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#191351312">(Mar 21 2020 at 15:37)</a>:</h4>
<p>if R is a ring and I have a map Z/2Z -&gt; R and a map Z/3Z -&gt; R (ring homs) then 2=0 and 3=0 in R so 1=0</p>



<a name="199853767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199853767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199853767">(Jun 05 2020 at 09:36)</a>:</h4>
<p>how about we refactor <code>algebra</code> in terms of <code>ring_hom</code> like <a href="https://github.com/leanprover-community/mathlib/blob/a130c73a36a15ae2b98933e31ffb49a83c7f7420/src/field_theory/splitting_field.lean">https://github.com/leanprover-community/mathlib/blob/a130c73a36a15ae2b98933e31ffb49a83c7f7420/src/field_theory/splitting_field.lean</a></p>



<a name="199853788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199853788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199853788">(Jun 05 2020 at 09:36)</a>:</h4>
<p>like define <code>is_noetherian : ring_hom A B \to Prop</code></p>



<a name="199853955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199853955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199853955">(Jun 05 2020 at 09:38)</a>:</h4>
<p>hmm maybe this doesn't solve the problem</p>



<a name="199858161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858161">(Jun 05 2020 at 10:27)</a>:</h4>
<p>Another possibiilty is to do it all in the concrete category of rings</p>



<a name="199858163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858163">(Jun 05 2020 at 10:27)</a>:</h4>
<p>They made that now</p>



<a name="199858215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858215">(Jun 05 2020 at 10:28)</a>:</h4>
<p>so you have all the flexibility of category theory notation and your ring stuff too</p>



<a name="199858253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858253">(Jun 05 2020 at 10:28)</a>:</h4>
<p>The reasom <code>algebra</code> is so interesting is because it is a bundled mophism</p>



<a name="199858274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858274">(Jun 05 2020 at 10:28)</a>:</h4>
<p>It's "Hom(A,B)"</p>



<a name="199858370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858370">(Jun 05 2020 at 10:30)</a>:</h4>
<p>and in some sense  category theory or not category theory is the question about whether we want to do abstract homs ("sure you can compose them, here's the answer") or concrete homs ("this is a functional programming language, I will compose the functions")</p>



<a name="199858700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199858700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199858700">(Jun 05 2020 at 10:33)</a>:</h4>
<p>The issue with <code>algebra</code> is that it gives rise to a module structure so it kind of has to be a class. If you've got some diagram of rings, then you have a ton of modules lying around, and it's quite difficult to synthesise the instances.</p>



<a name="199859037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859037">(Jun 05 2020 at 10:37)</a>:</h4>
<p>"I am a morphism of rings" is a troublesome concept. There seem to be several ways of setting up <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Hom(A,R)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span>.. <code>algebra A R</code> is one way (bundled homs and <code>coe_to_fun</code>, which there are apparently problems with) or  <code> A \to R</code>  plus a huge amount of typeclass inference ("Yes of course a division ring is a semimonoid, stop wasting my time" -- the curse of the invisible maps) or do you want to try some category theory  <code>A \hom B</code> now <span class="user-mention" data-user-id="110087">@Scott Morrison</span> has made it a concrete category?</p>



<a name="199859126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859126">(Jun 05 2020 at 10:38)</a>:</h4>
<p>bundled all the way! :-)</p>



<a name="199859225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859225">(Jun 05 2020 at 10:39)</a>:</h4>
<p>It seems to me that if the typeclass system is completely refactored in Lean 4 then perhaps it is worth attempting unbundled classes for ring homs again</p>



<a name="199859341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859341">(Jun 05 2020 at 10:40)</a>:</h4>
<p>Scott -- if you think everything should be bundled, then are you suggesting that category theory is a solution which will somehow avoid all the issues involved with carrying around boilerplate?</p>



<a name="199859471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859471">(Jun 05 2020 at 10:42)</a>:</h4>
<p>We want to pick one term of <code>algebra R A</code> (aka <code>R →* A</code>) and say: Hey, this one is special.<br>
Lean is bad at composing special maps.</p>



<a name="199859521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859521">(Jun 05 2020 at 10:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">adjoin</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>

<span class="c1">-- algebra.comap A B C is defeq to C</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">is_noetherian_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">hac</span> <span class="o">:</span> <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">A</span> <span class="o">(</span><span class="n">algebra</span><span class="bp">.</span><span class="n">comap</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span><span class="o">))</span><span class="bp">.</span><span class="n">fg</span><span class="o">)</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">hbc</span> <span class="o">:</span> <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">B</span> <span class="o">(</span><span class="n">algebra</span><span class="bp">.</span><span class="n">comap</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span><span class="o">))</span><span class="bp">.</span><span class="n">fg</span><span class="o">)</span>
<span class="n">include</span> <span class="n">hac</span> <span class="n">hbc</span>

<span class="kn">theorem</span> <span class="n">Artin_Tate</span> <span class="o">:</span> <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">fg</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>



<a name="199859527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859527">(Jun 05 2020 at 10:43)</a>:</h4>
<p>let's say this is the statement</p>



<a name="199859537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859537">(Jun 05 2020 at 10:43)</a>:</h4>
<p>then I think I should be able to prove this</p>



<a name="199859632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859632">(Jun 05 2020 at 10:44)</a>:</h4>
<p>But will you be able to use it?</p>



<a name="199859652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859652">(Jun 05 2020 at 10:44)</a>:</h4>
<p>I think Chris pointed out some time ago that we shouldn't have <code>comap</code> in theorem statements.</p>



<a name="199859732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859732">(Jun 05 2020 at 10:45)</a>:</h4>
<p>oh well oh no</p>



<a name="199859748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199859748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199859748">(Jun 05 2020 at 10:45)</a>:</h4>
<p>is there just no way to state the theorem then?</p>



<a name="199860021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860021">(Jun 05 2020 at 10:48)</a>:</h4>
<p>How about you have an <code>A</code>-algebra structure on <code>C</code> and an <code>A</code>-alg-hom from <code>B</code> to <code>C</code> as argument?</p>



<a name="199860048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860048">(Jun 05 2020 at 10:48)</a>:</h4>
<p>Then you need to think about how you turn <code>C</code> into a <code>B</code>-module...</p>



<a name="199860058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860058">(Jun 05 2020 at 10:48)</a>:</h4>
<p>yeah...</p>



<a name="199860073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860073">(Jun 05 2020 at 10:49)</a>:</h4>
<p>and then we would need to define algebras on top of algebra</p>



<a name="199860080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860080">(Jun 05 2020 at 10:49)</a>:</h4>
<p>and then hence the title of this post</p>



<a name="199860093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860093">(Jun 05 2020 at 10:49)</a>:</h4>
<p>Yup... it hasn't been scaling for me either</p>



<a name="199860131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860131">(Jun 05 2020 at 10:49)</a>:</h4>
<p>I think that there has been almost no commutative algebra getting into mathlib for quite a long time. And it's mostly because of this issue, I think.</p>



<a name="199860204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860204">(Jun 05 2020 at 10:50)</a>:</h4>
<p>how did the ZFC people never realize this problem?</p>



<a name="199860219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860219">(Jun 05 2020 at 10:50)</a>:</h4>
<p>Because it isn't?</p>



<a name="199860283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860283">(Jun 05 2020 at 10:51)</a>:</h4>
<p>Mathematicians are only interested in what can be done in theory, not in what can be done in practice.</p>



<a name="199860360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860360">(Jun 05 2020 at 10:52)</a>:</h4>
<p>Just add an instance <code>algebra A C</code> to your statement, and drop the comap stuff. Then add <code>H : the_diagram_commutes</code></p>



<a name="199860375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860375">(Jun 05 2020 at 10:52)</a>:</h4>
<p>And maybe this is the way to go...</p>



<a name="199860401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860401">(Jun 05 2020 at 10:52)</a>:</h4>
<p>Just have lots of explicit <code>the_diagram_commutes</code> hypothesis. And hope that we can build and API (and automation) around that.</p>



<a name="199860440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860440">(Jun 05 2020 at 10:53)</a>:</h4>
<p>But I feel like we need something better than <code>function.comp</code> for such machinery.</p>



<a name="199860702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860702">(Jun 05 2020 at 10:56)</a>:</h4>
<p>I think this is definitely the way to go. Just have functors from preorders, and a bunch of standard diagram shapes, and we'll use <code>ring_hom.comp</code>. For the standard shapes you'd be able to synthesize module instances as well, i.e., if the diagram in <code>fin3</code> with the usual order, then <code>field 2</code> is a module over <code>field 0</code> and so on.</p>



<a name="199860705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860705">(Jun 05 2020 at 10:56)</a>:</h4>
<p>Kenny I never made it to the end of NSS :-( and I was really into that for a while, when I was teaching alg geom for the first time and trying to formalise it as well (just backing up Johan's claim that algebra has slowed down).</p>



<a name="199860806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199860806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199860806">(Jun 05 2020 at 10:57)</a>:</h4>
<p>On the other hand, Amelia has completely refactored localisations, so progress is still being made.</p>



<a name="199861043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861043">(Jun 05 2020 at 11:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110044">Chris Hughes</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/199860702">said</a>:</p>
<blockquote>
<p>I think this is definitely the way to go. Just have functors from preorders, and a bunch of standard diagram shapes, and we'll use <code>ring_hom.comp</code>.</p>
</blockquote>
<ol>
<li>I would like to abstract over<code>ring_hom.comp</code>. So use category theory.</li>
<li>You need the diagrams to glue in an unobtrusive way. Whatever approach I think of with these diagrams... it always seems to lead to something really ugly and unreadable.</li>
</ol>



<a name="199861065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861065">(Jun 05 2020 at 11:00)</a>:</h4>
<p><span class="user-mention" data-user-id="260921">@Markus Himmel</span> Can your diagram machinery help us here?</p>



<a name="199861214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861214">(Jun 05 2020 at 11:02)</a>:</h4>
<p>That is another problem actually. You want the fact that the corresponding diagram of polynomial rings commutes and all this stuff.</p>



<a name="199861241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861241">(Jun 05 2020 at 11:02)</a>:</h4>
<p>Ideally, I would like to be able to write (in 95% of the cases):</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">blabla</span>
  <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">D</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">D</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="k">by</span> <span class="n">obvious_diagram_commutes</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">...</span>
</code></pre></div>



<a name="199861294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861294">(Jun 05 2020 at 11:03)</a>:</h4>
<p><code>by obvious_diagram_commutes</code> should spit out some data structure that can be as ugly and complex as it wants, as long as I don't have to see it or write it!</p>



<a name="199861370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861370">(Jun 05 2020 at 11:04)</a>:</h4>
<p>And then whenever we have to prove such a hypothesis, another tactic steps in, and eats up all these complex data structures, and spits out the proof that is needed.</p>



<a name="199861377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861377">(Jun 05 2020 at 11:04)</a>:</h4>
<p>But this becomes quite complicated quite quickly. You also want the fact that <code>ideal.quotient (I.map (ring_hom.of C)) \~- polynomial (ideal.quotient I)</code> and there are hundreds of these little things.</p>



<a name="199861493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861493">(Jun 05 2020 at 11:06)</a>:</h4>
<p>This requires something quite powerful, I think it's probably possible but a big job.</p>



<a name="199861542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861542">(Jun 05 2020 at 11:06)</a>:</h4>
<p>But we need it.</p>



<a name="199861562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861562">(Jun 05 2020 at 11:06)</a>:</h4>
<p>Of course we can just do everything by hand. But that feels like admitting defeat to me.</p>



<a name="199861609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861609">(Jun 05 2020 at 11:07)</a>:</h4>
<p>Also, we'll never reach a proof of the big theorems in alg.geom / number theory if we have to do everything by hand.</p>



<a name="199861625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861625">(Jun 05 2020 at 11:07)</a>:</h4>
<p>Agreed.</p>



<a name="199861692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861692">(Jun 05 2020 at 11:08)</a>:</h4>
<p>The <code>le/lt</code> vs <code>ge/gt</code> issue already feels like defeat to me. But I can see past it. This one, I can't.</p>



<a name="199861702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861702">(Jun 05 2020 at 11:08)</a>:</h4>
<p>I have to do a fourth year project, and I was thinking about potentially doing something related to this. I have a lot of time, but maybe not enough</p>



<a name="199861751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861751">(Jun 05 2020 at 11:09)</a>:</h4>
<p>At some point someone said that Lean was "bad at carrying around a canonical instance". Type class inference seems to carry around the canonical 0, but we sometimes want to carry around the canonical map (and most definitely we do not want to do this all the time). How about an <code>is_canonical</code> typeclass for whatever <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>o</mi><mi>m</mi><mo stretchy="false">(</mo><mi>R</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Hom(R,A)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mclose">)</span></span></span></span> turns out to be?</p>



<a name="199861843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861843">(Jun 05 2020 at 11:10)</a>:</h4>
<p>What are the laws?</p>



<a name="199861868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861868">(Jun 05 2020 at 11:10)</a>:</h4>
<p>Many A-strutures are R-structures, but it's always comapping along the canonical map from R to A so we don't even bother noting that they're R-structures eplicitly</p>



<a name="199861888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861888">(Jun 05 2020 at 11:10)</a>:</h4>
<p>it's certainly transitive</p>



<a name="199861910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861910">(Jun 05 2020 at 11:10)</a>:</h4>
<p>it's most definitely never a global instance</p>



<a name="199861972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199861972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199861972">(Jun 05 2020 at 11:11)</a>:</h4>
<p>because sometimes the identity is canonical but sometimes I'm checking that some diagram commutes under some explicit change of convention</p>



<a name="199862040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862040">(Jun 05 2020 at 11:12)</a>:</h4>
<p>e,g, once you picked a basis, the map from the vector space to the lists of real numbers is now canonical</p>



<a name="199862096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862096">(Jun 05 2020 at 11:12)</a>:</h4>
<p>Maybe canonicality is a purely local notion, which is why the global attempt to define it in Wikipedia is so atrocious.</p>



<a name="199862157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862157">(Jun 05 2020 at 11:13)</a>:</h4>
<p>I need a badge saying <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo>↦</mo><mo stretchy="false">(</mo><mi>f</mi><mo>↦</mo><mo stretchy="false">(</mo><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">v\mapsto(f\mapsto(-f(v)))</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">↦</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>



<a name="199862168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862168">(Jun 05 2020 at 11:13)</a>:</h4>
<p>The canonical map from a vector space to its double dual</p>



<a name="199862296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862296">(Jun 05 2020 at 11:15)</a>:</h4>
<p>There are two canonical maps from an idele group to the abelianisation of an absolute Galois group of Q, you choose which one you want (Artin or Deligne) and then all the maps between the objects will be the canonical ones under that normalisation in your paper on Shimura varieties.</p>



<a name="199862429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862429">(Jun 05 2020 at 11:17)</a>:</h4>
<p><code>canonical</code> should mean a "flat section" of a functor <code>C ⥤  Type</code>. That is, a function <code>f : Π X : C, F.obj X</code>, with the property that for any iso <code>i : X ≅ Y</code>, we have <code>F.map (i.hom) (f x) = f y</code>.</p>



<a name="199862485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862485">(Jun 05 2020 at 11:18)</a>:</h4>
<p>(and you get to design the morphisms in <code>C</code> appropriately to make this fit examples)</p>



<a name="199862533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862533">(Jun 05 2020 at 11:18)</a>:</h4>
<p>as trivial examples, <code>(λ R : Ring, (0 : R))</code> is a flat section of the forgetful functor <code>Ring ⥤  Type</code>, and hence "<code>0</code> is <code>canonical</code>"</p>



<a name="199862642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862642">(Jun 05 2020 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> But will this help with <code>Artin_Tate</code> that Kenny posted above?</p>



<a name="199862655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862655" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862655">(Jun 05 2020 at 11:20)</a>:</h4>
<p>How would you write the statement of that result?</p>



<a name="199862666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862666">(Jun 05 2020 at 11:20)</a>:</h4>
<p>No idea :-)</p>



<a name="199862675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862675">(Jun 05 2020 at 11:20)</a>:</h4>
<p>I just want people to stop hoping <code>canonical</code> means something magical. :-)</p>



<a name="199862705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862705">(Jun 05 2020 at 11:21)</a>:</h4>
<p>I'm pretty sure the "canonical" map V to V-double-dual is canonical in this sense.</p>



<a name="199862713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862713">(Jun 05 2020 at 11:21)</a>:</h4>
<p>I am just explaining the specification, I don't know anything about the implementation :-)</p>



<a name="199862732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862732">(Jun 05 2020 at 11:21)</a>:</h4>
<p>Yes, the canonical map from V to its double-dual is also canonical, that's the point</p>



<a name="199862735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862735">(Jun 05 2020 at 11:21)</a>:</h4>
<p>The definition of canonical is part of the specification.</p>



<a name="199862794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862794">(Jun 05 2020 at 11:22)</a>:</h4>
<p>The definition is just that I want it to spit out the term I ask for.</p>



<a name="199862821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862821">(Jun 05 2020 at 11:23)</a>:</h4>
<p>And then you let me train it while I prove the Artin-Tate lemma with rings A,B,C  and canonical maps between them</p>



<a name="199862865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862865">(Jun 05 2020 at 11:23)</a>:</h4>
<p>If A -&gt; B is injective, and c is the canonical element of B, and it is in the image of A, then we just got a canonical element of A</p>



<a name="199862879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862879">(Jun 05 2020 at 11:23)</a>:</h4>
<p>They'll just come up as I think of them I think</p>



<a name="199862968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199862968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199862968">(Jun 05 2020 at 11:24)</a>:</h4>
<p>Or maybe these rings A, B and C are somehow only rings up to isomorphism or up to canonical isomorphism perhaps</p>



<a name="199863084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863084">(Jun 05 2020 at 11:26)</a>:</h4>
<p>From the thesis of <span class="user-mention" data-user-id="260921">@Markus Himmel</span> </p>
<div class="codehilite"><pre><span></span><code><span class="n">meta</span> <span class="kn">structure</span> <span class="n">chase_data</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">morphisms</span> <span class="o">:</span> <span class="n">list</span> <span class="n">morphism</span><span class="o">)</span>
<span class="o">(</span><span class="n">comm_lemmas</span> <span class="o">:</span> <span class="n">list</span> <span class="n">commutativity_lemma</span><span class="o">)</span>
<span class="o">(</span><span class="n">elem_lemmas</span> <span class="o">:</span> <span class="n">list</span> <span class="n">element_lemma</span><span class="o">)</span>
<span class="o">(</span><span class="n">exact_lemmas</span> <span class="o">:</span> <span class="n">list</span> <span class="n">exactness_lemma</span><span class="o">)</span>
</code></pre></div>



<a name="199863108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863108">(Jun 05 2020 at 11:26)</a>:</h4>
<p>Maybe we need a similar data structure. And some tactics to prove commutativity diagrams.</p>



<a name="199863128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863128">(Jun 05 2020 at 11:27)</a>:</h4>
<p>It could even use <code>coe_to_fun</code> maybe.</p>



<a name="199863283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863283">(Jun 05 2020 at 11:28)</a>:</h4>
<p>Here's a concrete question: can you write me a tactic that collects all terms in the context that can be coerced to a function?</p>



<a name="199863345"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863345" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863345">(Jun 05 2020 at 11:29)</a>:</h4>
<p>And then another one that asserts that any two possible paths with the same endpoints (via those collected functions) are propositionally equal.</p>



<a name="199863431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863431">(Jun 05 2020 at 11:30)</a>:</h4>
<p>Actually, I'm fine with providing all the maps in the diagram, for now.</p>



<a name="199863599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863599">(Jun 05 2020 at 11:32)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">diagram_commutes</span> <span class="o">[</span><span class="n">algebra_map</span> <span class="n">A</span> <span class="n">B</span><span class="o">,</span> <span class="n">algebra_map</span> <span class="n">B</span> <span class="n">C</span><span class="o">,</span> <span class="n">algebra_map</span> <span class="n">A</span> <span class="n">C</span><span class="o">])</span>
</code></pre></div>


<p>The problem is that this doesn't type check, because <code>algebra_map A B</code> doesn't have the same type as <code>algebra_map B C</code>.</p>



<a name="199863923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199863923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199863923">(Jun 05 2020 at 11:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/199863345">said</a>:</p>
<blockquote>
<p>And then another one that asserts that any two possible paths with the same endpoints (via those collected functions) are propositionally equal.</p>
</blockquote>
<p>I think this is essentially a finite problem, there are only finitely many (and not that many) ways of composing the paths together, and you can compute the transitive closure of a relation on a finite type, so I would say yes.</p>



<a name="199864291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864291">(Jun 05 2020 at 11:42)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">adjoin</span>

<span class="kn">universe</span> <span class="kn">variables</span> <span class="n">u</span>

<span class="n">def</span> <span class="n">list_of_functions</span> <span class="o">:=</span>
<span class="n">list</span> <span class="o">(</span><span class="err">Σ</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span>

<span class="n">def</span> <span class="n">diagram_commutes</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list_of_functions</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">section</span> <span class="n">test</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">is_noetherian_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">hac</span> <span class="o">:</span> <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">)</span><span class="bp">.</span><span class="n">fg</span><span class="o">)</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">hbc</span> <span class="o">:</span> <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">submodule</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span><span class="bp">.</span><span class="n">fg</span><span class="o">)</span>
<span class="n">include</span> <span class="n">hac</span> <span class="n">hbc</span>

<span class="kn">theorem</span> <span class="n">artin_tate</span>
  <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">diagram_commutes</span> <span class="o">[</span><span class="bp">⟨</span><span class="n">A</span><span class="o">,</span> <span class="n">B</span><span class="o">,</span> <span class="n">algebra_map</span> <span class="n">A</span> <span class="n">B</span><span class="bp">⟩</span><span class="o">,</span>
                          <span class="bp">⟨</span><span class="n">A</span><span class="o">,</span> <span class="n">C</span><span class="o">,</span> <span class="n">algebra_map</span> <span class="n">A</span> <span class="n">C</span><span class="bp">⟩</span><span class="o">,</span>
                          <span class="bp">⟨</span><span class="n">B</span><span class="o">,</span> <span class="n">C</span><span class="o">,</span> <span class="n">algebra_map</span> <span class="n">B</span> <span class="n">C</span><span class="bp">⟩</span><span class="o">])</span> <span class="o">:</span>
  <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">fg</span> <span class="o">:=</span> <span class="n">sorry</span>

<span class="kn">end</span> <span class="n">test</span>
</code></pre></div>



<a name="199864353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864353">(Jun 05 2020 at 11:43)</a>:</h4>
<p>Ideally this would become</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">artin_tate</span>
  <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">diagram_commutes</span> <span class="o">(</span><span class="k">by</span> <span class="n">duh</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="err">⊤</span> <span class="o">:</span> <span class="n">subalgebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span><span class="bp">.</span><span class="n">fg</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>



<a name="199864372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864372">(Jun 05 2020 at 11:43)</a>:</h4>
<p>For some value of <code>duh</code></p>



<a name="199864479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864479">(Jun 05 2020 at 11:44)</a>:</h4>
<p>What information do you want to give the <code>duh</code> tactic?</p>



<a name="199864554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864554">(Jun 05 2020 at 11:45)</a>:</h4>
<p>It could just look through the context for assumptions that are arrow like: <code>→</code>, <code>→+</code>, <code>→*</code>, <code>algebra A B</code>, etc...</p>



<a name="199864623"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864623" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864623">(Jun 05 2020 at 11:46)</a>:</h4>
<p>Do you want it to use things like <code>polynomial.map_map</code>?</p>



<a name="199864658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864658">(Jun 05 2020 at 11:46)</a>:</h4>
<p>No, it should just collect morphisms from the context</p>



<a name="199864768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199864768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199864768">(Jun 05 2020 at 11:47)</a>:</h4>
<p>The smart tactics are the ones that consume <code>diagram_commutes</code></p>



<a name="199865665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199865665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199865665">(Jun 05 2020 at 11:56)</a>:</h4>
<p>I see. I'm not sure the smart tactics should consume <code>diagram_commutes</code>. Just like you can't prove equalities of ring expressions using <code>simp [ring_axioms]</code> you need something smarter to prove equality of expressions in categories that use standard category theory things like functors.</p>



<a name="199866064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199866064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199866064">(Jun 05 2020 at 12:01)</a>:</h4>
<p>Hmm, I see</p>



<a name="199866119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199866119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199866119">(Jun 05 2020 at 12:01)</a>:</h4>
<p>Nevertheless... it might work in most cases?</p>



<a name="199866187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199866187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199866187">(Jun 05 2020 at 12:02)</a>:</h4>
<p>I mean... <code>obviously</code> can prove a lot of stuff in the category library.</p>



<a name="199868852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/199868852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#199868852">(Jun 05 2020 at 12:31)</a>:</h4>
<p>and <code>rewrite_search</code> is very good at commutative diagrams...</p>



<a name="202394874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202394874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202394874">(Jun 30 2020 at 04:35)</a>:</h4>
<p>So the solution (as of the current state of mathlib) is to have three maps between A, B, and C, and a claim that they commute?</p>



<a name="202394881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202394881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202394881">(Jun 30 2020 at 04:35)</a>:</h4>
<p>(this thread has become kinda long for me to scroll through it)</p>



<a name="202394890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202394890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202394890">(Jun 30 2020 at 04:35)</a>:</h4>
<p>That's whay I would like to have.<br>
Plus automation to figure out why diagrams commute.</p>



<a name="202394943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202394943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202394943">(Jun 30 2020 at 04:36)</a>:</h4>
<p>or maybe <code>[algebra A B] [algebra B C] [algebra A C]</code>?</p>



<a name="202394948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202394948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202394948">(Jun 30 2020 at 04:36)</a>:</h4>
<p>(and then a fact that they commute)</p>



<a name="202395033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202395033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202395033">(Jun 30 2020 at 04:39)</a>:</h4>
<p>Exactly</p>



<a name="202395037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202395037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202395037">(Jun 30 2020 at 04:39)</a>:</h4>
<p>That's what I was thinking of somewhere upstairs</p>



<a name="202395559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202395559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202395559">(Jun 30 2020 at 04:53)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">integral_closure</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">]</span>

<span class="n">class</span> <span class="n">is_commute₃</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">smul_assoc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">}</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">},</span> <span class="o">(</span><span class="n">x</span> <span class="err">•</span> <span class="n">y</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="err">•</span> <span class="o">(</span><span class="n">y</span> <span class="err">•</span> <span class="n">z</span><span class="o">))</span>
</code></pre></div>



<a name="202395561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202395561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202395561">(Jun 30 2020 at 04:53)</a>:</h4>
<p>how does this look?</p>



<a name="202396458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202396458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202396458">(Jun 30 2020 at 05:15)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">integral_closure</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">]</span>

<span class="n">class</span> <span class="n">is_commute₃</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">smul_assoc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">}</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">},</span> <span class="o">(</span><span class="n">x</span> <span class="err">•</span> <span class="n">y</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="err">•</span> <span class="o">(</span><span class="n">y</span> <span class="err">•</span> <span class="n">z</span><span class="o">))</span>

<span class="kn">variables</span> <span class="o">[</span><span class="n">is_commute₃</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span>

<span class="kn">theorem</span> <span class="n">is_integral_trans&#39;</span> <span class="o">(</span><span class="n">hab</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">},</span> <span class="n">is_integral</span> <span class="n">A</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hz</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">B</span> <span class="n">z</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">A</span> <span class="n">z</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>



<a name="202396518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202396518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202396518">(Jun 30 2020 at 05:16)</a>:</h4>
<p>I will try (and maybe livestream on discord) to prove this after 30 minutes from now</p>



<a name="202397536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397536">(Jun 30 2020 at 05:43)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> I'm not sure whether <code>is_commute3</code> should be a class.</p>



<a name="202397579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397579">(Jun 30 2020 at 05:44)</a>:</h4>
<p>why not?</p>



<a name="202397582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397582" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397582">(Jun 30 2020 at 05:44)</a>:</h4>
<p>I don't think tc is the correct sort of automation to take 5 <code>is_commute</code> instances and prove number 6</p>



<a name="202397588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397588">(Jun 30 2020 at 05:44)</a>:</h4>
<p>I want a solution that will also work in the statement of the snake lemma</p>



<a name="202397598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397598">(Jun 30 2020 at 05:45)</a>:</h4>
<p>In particular, my gut feeling is that we should state the condition in terms of composition of ordinary functions.</p>



<a name="202397653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202397653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202397653">(Jun 30 2020 at 05:46)</a>:</h4>
<p>And probably a dedicated tactic can build proofs of <code>is_commute</code> by looking through the context for other terms of <code>is_commute</code> and then doing some elementary chase through the diagram.</p>



<a name="202398201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398201">(Jun 30 2020 at 06:02)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">ring_theory</span><span class="bp">.</span><span class="n">integral_closure</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">]</span>

<span class="n">class</span> <span class="n">is_commute₃</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">smul_assoc</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">}</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">},</span> <span class="o">(</span><span class="n">x</span> <span class="err">•</span> <span class="n">y</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="err">•</span> <span class="o">(</span><span class="n">y</span> <span class="err">•</span> <span class="n">z</span><span class="o">))</span>

<span class="kn">variables</span> <span class="o">[</span><span class="n">is_commute₃</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span>

<span class="c1">-- I hope this will never be used.</span>
<span class="bp">@</span><span class="o">[</span><span class="n">ext</span><span class="o">]</span> <span class="kn">lemma</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ext</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">}</span>
  <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">(</span><span class="n">h1</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">},</span> <span class="o">(</span><span class="k">by</span> <span class="n">clear</span> <span class="n">h2</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">r</span> <span class="err">•</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">r</span> <span class="err">•</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span> <span class="n">h1</span> <span class="bp">=</span> <span class="n">h2</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">unfreezingI</span> <span class="o">{</span> <span class="n">cases</span> <span class="n">h1</span> <span class="k">with</span> <span class="n">f1</span> <span class="n">g1</span> <span class="n">h11</span> <span class="n">h12</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h2</span> <span class="k">with</span> <span class="n">f2</span> <span class="n">g2</span> <span class="n">h21</span> <span class="n">h22</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">f1</span><span class="o">,</span> <span class="n">cases</span> <span class="n">f2</span><span class="o">,</span> <span class="n">congr&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="n">ext</span> <span class="n">r</span> <span class="n">x</span><span class="o">,</span> <span class="n">exact</span> <span class="n">h</span> <span class="o">},</span>
  <span class="n">ext</span> <span class="n">r</span><span class="o">,</span> <span class="n">erw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_one</span> <span class="o">(</span><span class="n">g1</span> <span class="n">r</span><span class="o">),</span> <span class="err">←</span> <span class="n">h12</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_one</span> <span class="o">(</span><span class="n">g2</span> <span class="n">r</span><span class="o">),</span> <span class="err">←</span> <span class="n">h22</span><span class="o">,</span> <span class="n">h</span><span class="o">],</span> <span class="n">refl</span> <span class="o">}</span>
<span class="kn">end</span>

<span class="c1">-- I hope this will never be used.</span>
<span class="kn">theorem</span> <span class="n">is_commute₃</span><span class="bp">.</span><span class="n">comap_eq</span> <span class="o">:</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">comap</span><span class="bp">.</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="bp">=</span> <span class="bp">_</span><span class="n">inst_6</span> <span class="o">:=</span>
<span class="n">algebra</span><span class="bp">.</span><span class="n">ext</span> <span class="bp">_</span> <span class="bp">_</span> <span class="err">$</span> <span class="bp">λ</span> <span class="n">x</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">),</span>
<span class="k">calc</span>  <span class="n">algebra_map</span> <span class="n">A</span> <span class="n">B</span> <span class="n">x</span> <span class="err">•</span> <span class="n">z</span>
    <span class="bp">=</span> <span class="o">(</span><span class="n">x</span> <span class="err">•</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">B</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">algebra_map_eq_smul_one</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="n">x</span> <span class="err">•</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">B</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">is_commute₃</span><span class="bp">.</span><span class="n">smul_assoc</span>
<span class="bp">...</span> <span class="bp">=</span> <span class="o">(</span><span class="k">by</span> <span class="n">exact</span> <span class="n">x</span> <span class="err">•</span> <span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">one_smul</span>

<span class="kn">theorem</span> <span class="n">is_integral_trans&#39;</span> <span class="o">(</span><span class="n">hab</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">},</span> <span class="n">is_integral</span> <span class="n">A</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span>
  <span class="o">(</span><span class="n">hz</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">B</span> <span class="n">z</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_integral</span> <span class="n">A</span> <span class="n">z</span> <span class="o">:=</span>
<span class="k">by</span> <span class="o">{</span> <span class="n">convert</span> <span class="n">is_integral_trans</span> <span class="bp">@</span><span class="n">hab</span> <span class="n">z</span> <span class="n">hz</span><span class="o">,</span> <span class="n">rw</span> <span class="n">is_commute₃</span><span class="bp">.</span><span class="n">comap_eq</span> <span class="o">}</span>
</code></pre></div>



<a name="202398204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398204">(Jun 30 2020 at 06:02)</a>:</h4>
<p>hey this worked like a charm!</p>



<a name="202398220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398220">(Jun 30 2020 at 06:03)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span></p>



<a name="202398233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398233">(Jun 30 2020 at 06:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/202397588">said</a>:</p>
<blockquote>
<p>I want a solution that will also work in the statement of the snake lemma</p>
</blockquote>
<p>I guess at this moment I'm only interested at formalizing a C/B/A situation</p>



<a name="202398236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398236">(Jun 30 2020 at 06:04)</a>:</h4>
<p>Will there be <code>D/C/B/A</code> situations?</p>



<a name="202398283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398283">(Jun 30 2020 at 06:05)</a>:</h4>
<p>Yes, but tomorrow</p>



<a name="202398292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398292">(Jun 30 2020 at 06:05)</a>:</h4>
<p>then I can have (if I still remember my combinatorics) four <code>is_commute\3</code> instances</p>



<a name="202398306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398306">(Jun 30 2020 at 06:05)</a>:</h4>
<p>That might be like asking whether there will be a quotient.induction_on4 function one day</p>



<a name="202398373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398373">(Jun 30 2020 at 06:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Well, you do care about the snake lemma, do you?</p>



<a name="202398456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398456">(Jun 30 2020 at 06:09)</a>:</h4>
<p>Sure. But I also care about this Artin Tate lemma</p>



<a name="202398656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398656">(Jun 30 2020 at 06:13)</a>:</h4>
<p>Artin--Tate is false!</p>



<a name="202398670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398670">(Jun 30 2020 at 06:14)</a>:</h4>
<p>Take A any Noetherian ring, B = A[x1, x2, ...], C = A, where B -&gt; C sends each xi to 0</p>



<a name="202398716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398716">(Jun 30 2020 at 06:14)</a>:</h4>
<p>then C/A is algebra-finite and C/B is module-finite but B/A is not algebra-finite</p>



<a name="202398849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398849">(Jun 30 2020 at 06:17)</a>:</h4>
<p>So we need some injective hypothesis...? If so then why don't we just assume B is a subring of C to begin with?</p>



<a name="202398868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398868">(Jun 30 2020 at 06:18)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">section</span>
<span class="kn">variables</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">Z</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Z</span><span class="o">)</span>

<span class="kn">structure</span> <span class="n">is_commute</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">comm</span> <span class="o">:</span> <span class="n">g</span> <span class="err">∘</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">h</span><span class="o">)</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="n">h</span><span class="o">}</span>

<span class="kn">lemma</span> <span class="n">is_commute</span><span class="bp">.</span><span class="n">apply_apply</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">is_commute</span> <span class="n">f</span> <span class="n">g</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">h</span> <span class="n">x</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">H</span><span class="bp">.</span><span class="n">comm</span><span class="o">]</span>

<span class="kn">end</span>

<span class="kn">section</span>

<span class="kn">variables</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">A</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">B</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">B</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">C</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">B</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">A</span> <span class="n">C</span><span class="o">]</span>

<span class="kn">abbreviation</span> <span class="n">is_commute_alg</span> <span class="o">:=</span> <span class="n">is_commute</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">A</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">A</span> <span class="n">C</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">is_commute_alg</span><span class="bp">.</span><span class="n">smul_assoc</span> <span class="o">(</span><span class="n">hc</span> <span class="o">:</span> <span class="n">is_commute_alg</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span><span class="o">)</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">}</span> <span class="o">{</span><span class="n">y</span> <span class="o">:</span> <span class="n">B</span><span class="o">}</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">x</span> <span class="err">•</span> <span class="n">y</span><span class="o">)</span> <span class="err">•</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="err">•</span> <span class="o">(</span><span class="n">y</span> <span class="err">•</span> <span class="n">z</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">algebra</span><span class="bp">.</span><span class="n">smul_def</span><span class="o">,</span> <span class="n">ring_hom</span><span class="bp">.</span><span class="n">map_mul</span><span class="o">,</span> <span class="n">hc</span><span class="bp">.</span><span class="n">apply_apply</span><span class="o">,</span> <span class="n">mul_assoc</span><span class="o">]</span>

<span class="kn">end</span>
</code></pre></div>



<a name="202398909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398909">(Jun 30 2020 at 06:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> How about that?</p>



<a name="202398918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398918" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398918">(Jun 30 2020 at 06:18)</a>:</h4>
<p>what's the difference?</p>



<a name="202398929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398929">(Jun 30 2020 at 06:18)</a>:</h4>
<p>That the base structure would mix with group homs and ring homs etc...</p>



<a name="202398934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398934">(Jun 30 2020 at 06:18)</a>:</h4>
<p>It's not tying itself down to algebras</p>



<a name="202398949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398949">(Jun 30 2020 at 06:19)</a>:</h4>
<p>I care about commutative diagrams of modules</p>



<a name="202398956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398956">(Jun 30 2020 at 06:19)</a>:</h4>
<p>I've never seen a statement involving a tower of group extensions</p>



<a name="202398962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398962">(Jun 30 2020 at 06:19)</a>:</h4>
<p>oh ok</p>



<a name="202398972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202398972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202398972">(Jun 30 2020 at 06:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/202398956">said</a>:</p>
<blockquote>
<p>I've never seen a statement involving a tower of group extensions</p>
</blockquote>
<p>Snake lemma</p>



<a name="202399288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399288">(Jun 30 2020 at 06:25)</a>:</h4>
<p>no no no this is all wrong</p>



<a name="202399297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399297">(Jun 30 2020 at 06:25)</a>:</h4>
<p>the correct definition of a diagram is a functor from a small category on <code>fin n</code> to the category of rings/modules/whatever</p>



<a name="202399307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399307">(Jun 30 2020 at 06:25)</a>:</h4>
<p>this doesn't mean we have to use the category theory library</p>



<a name="202399360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399360">(Jun 30 2020 at 06:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/199864291">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">list_of_functions</span> <span class="o">:=</span>
<span class="n">list</span> <span class="o">(</span><span class="err">Σ</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span>

<span class="n">def</span> <span class="n">diagram_commutes</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list_of_functions</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


</blockquote>



<a name="202399376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399376" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399376">(Jun 30 2020 at 06:27)</a>:</h4>
<p>This won't work because we would have to use type equality</p>



<a name="202399384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399384">(Jun 30 2020 at 06:27)</a>:</h4>
<p>and then the workaround would be just to index the types with natural numbers</p>



<a name="202399398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399398">(Jun 30 2020 at 06:27)</a>:</h4>
<p>hence what I said about <code>fin n</code></p>



<a name="202399446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399446">(Jun 30 2020 at 06:28)</a>:</h4>
<p>Again, when I say "category", I just mean a concrete implementation of category into Lean</p>



<a name="202399614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399614">(Jun 30 2020 at 06:31)</a>:</h4>
<p>Yes I think A can be anything but B to C has to be injective</p>



<a name="202399722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399722">(Jun 30 2020 at 06:33)</a>:</h4>
<p>There's an intermediate A-algebra  B0 in the AM proof which has to be a subring of B (and of C)</p>



<a name="202399784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399784">(Jun 30 2020 at 06:34)</a>:</h4>
<p>so what's the point of using this if B is always a subring of C</p>



<a name="202399795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399795">(Jun 30 2020 at 06:34)</a>:</h4>
<p>anyway, I'm trying to make commutative diagrams, and I would like to know what it means for f1, f2: A -&gt; B to commute</p>



<a name="202399934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202399934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202399934">(Jun 30 2020 at 06:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110064">Kenny Lau</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/202399360">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/199864291">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">list_of_functions</span> <span class="o">:=</span>
<span class="n">list</span> <span class="o">(</span><span class="err">Σ</span> <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span>

<span class="n">def</span> <span class="n">diagram_commutes</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">list_of_functions</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">sorry</span>
</code></pre></div>


</blockquote>
</blockquote>
<p>Yup, I proposed something like that higher up in the thread... and I agree that we should generalise <code>is_commute3</code>.</p>



<a name="202400001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202400001" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202400001">(Jun 30 2020 at 06:38)</a>:</h4>
<p>But it's not obvious how to get it right. Because type equality, like you said.</p>



<a name="202400019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202400019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202400019">(Jun 30 2020 at 06:38)</a>:</h4>
<p>And I want to take unions of diagrams, and add a vertex, etc...</p>



<a name="202400072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202400072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202400072">(Jun 30 2020 at 06:40)</a>:</h4>
<p>I think this is an interesting nontrivial problem</p>



<a name="202400176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202400176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202400176">(Jun 30 2020 at 06:41)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> come to my livestream to find out!</p>



<a name="202400276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202400276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202400276">(Jun 30 2020 at 06:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110064">@Kenny Lau</span> I'm on my way</p>



<a name="202401346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202401346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202401346">(Jun 30 2020 at 07:00)</a>:</h4>
<p>I'll be there once I've got my daughter off to school</p>



<a name="202404285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202404285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202404285">(Jun 30 2020 at 07:48)</a>:</h4>
<p>A question that has arisen from the livestream is whether <code>algebra A B</code> or <code>A \to+* B</code> should be the "simp-normal form"</p>



<a name="202404308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202404308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202404308">(Jun 30 2020 at 07:49)</a>:</h4>
<p>Oooh, I thought the question was which side of <code>algebra.smul_def</code> should be SNF</p>



<a name="202557766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202557766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202557766">(Jul 01 2020 at 11:33)</a>:</h4>
<p>what do we do with situations where the map is the Frobenius map? Then we would have two <code>[algebra R R]</code> instances</p>



<a name="202557808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202557808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202557808">(Jul 01 2020 at 11:34)</a>:</h4>
<p>What are reasons preferring one over the other?</p>



<a name="202558004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202558004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202558004">(Jul 01 2020 at 11:36)</a>:</h4>
<p>Usually in maths when one considers an R-module M as an R-module via the Frobenius there is some kind of notational indication of this, like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>M</mi><mrow><mo stretchy="false">(</mo><mi>σ</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">M^{(\sigma)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">σ</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span> or something</p>



<a name="202559351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202559351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202559351">(Jul 01 2020 at 11:55)</a>:</h4>
<p>aka a type synonym (-;</p>



<a name="202562142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/202562142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#202562142">(Jul 01 2020 at 12:29)</a>:</h4>
<p>Sometimes the algebra type class is used when the module structure isn't really being considered, but maybe it was considered somewhere in a proof. I'm not sure it should be, I think perhaps the algebra type-class should only be used when you are really stating something about the algebra structure, i.e. the statement uses the module structure.</p>



<a name="211403399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/211403399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#211403399">(Sep 27 2020 at 07:31)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/4282">#4282</a></p>



<a name="211404876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/211404876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#211404876">(Sep 27 2020 at 08:18)</a>:</h4>
<p>So the problem I ran into has been solved with <code>is_scalar_tower</code>. To summarise this thread, if you're proving things about three rings A subset B subset C then ideally you would have A a subring of B, B a subring of C, A a subring of C, B an A-algebra, C a B-algebra and C an A-algebra all at once. With the current set up in mathlib it doesn't even make sense to say all of these things at once. In the odd order work for groups this is fixed by making A,B,C all subgroups of a big group but this trick can't be done in general and one world rather work with types than terms anyway. This is a proof of concept that <code>is_scalar_tower</code> can be used instead.</p>



<a name="211589330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/211589330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me.html#211589330">(Sep 29 2020 at 07:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112165">rss-bot</span> <a href="#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/211585013">said</a>:</p>
<blockquote>
<p><strong><a href="https://github.com/leanprover-community/mathlib/commit/0bb5e5d94d688bdbde8615d924742315cbe19def">feat(ring_theory/algebra_tower): Artin--Tate lemma (#4282)</a></strong><br>
feat(ring_theory/algebra_tower): Artin--Tate lemma (<a href="https://github.com/leanprover-community/mathlib/issues/4282">#4282</a>)</p>
<p>Co-authored-by: Rob Lewis &lt;<a href="mailto:Rob.y.lewis@gmail.com">Rob.y.lewis@gmail.com</a>&gt;<br>
<a href="https://github.com/leanprover-community/mathlib/commit/0bb5e5d94d688bdbde8615d924742315cbe19def">https://github.com/leanprover-community/mathlib/commit/0bb5e5d94d688bdbde8615d924742315cbe19def</a></p>
</blockquote>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>