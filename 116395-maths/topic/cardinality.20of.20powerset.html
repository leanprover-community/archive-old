---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/cardinality.20of.20powerset.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html">cardinality of powerset</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270296017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270296017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan Tiji <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270296017">(Feb 01 2022 at 22:07)</a>:</h4>
<p>Hi my name is Milan and I am a computer science student learning Lean and trying to write a proof on the cardinality of the powerset. Right now I am doing the proof for no surjection between X and the powerset. I have had some trouble using 'match' .</p>
<p><code>have u2 : ∃ x, x ∈ A ∧ f x = y, </code><br>
<code>match u2 with (x0, u3, u4) := </code></p>
<p>So I tried defining u2 and matching it with the other variable names so that x0 matches with ∃ x, u3 matches with x ∈ A and u4 matches with f x = y. It gives me the error '<em>Can't synthesize placeholder</em>' on the match and u2. Can anyone give me some assistance on how to go about this please. Thank you!</p>



<a name="270296375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270296375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270296375">(Feb 01 2022 at 22:09)</a>:</h4>
<p>It would be helpful if you could provide a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> that shows the error -- that way we can paste it into Lean and more easily give suggestions.</p>



<a name="270296507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270296507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270296507">(Feb 01 2022 at 22:10)</a>:</h4>
<p>The parentheses should definitely be angle brackets, though.</p>



<a name="270296551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270296551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270296551">(Feb 01 2022 at 22:10)</a>:</h4>
<p>Also, you should properly use <a href="https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks">#backticks</a></p>



<a name="270299895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270299895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270299895">(Feb 01 2022 at 22:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="306601">Kyle Miller</span> <a href="#narrow/stream/116395-maths/topic/cardinality.20of.20powerset/near/270296375">said</a>:</p>
<blockquote>
<p>It would be helpful if you could provide a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> that shows the error -- that way we can paste it into Lean and more easily give suggestions.</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">U</span> <span class="n">V</span><span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">powerset</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">B</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>

<span class="kd">theorem</span> <span class="n">no_surjection</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>

<span class="k">assume</span> <span class="n">f</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">A</span><span class="o">,</span>
<span class="k">assume</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)),</span>
<span class="k">show</span> <span class="n">false</span><span class="o">,</span>

<span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
<span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">),</span>
<span class="k">from</span> <span class="n">h</span> <span class="n">y</span> <span class="n">u1</span><span class="o">,</span>
<span class="k">have</span> <span class="n">u2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>

<span class="k">match</span> <span class="n">u2</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x0</span><span class="o">,</span> <span class="n">u3</span><span class="o">,</span> <span class="n">u4</span><span class="o">⟩</span> <span class="o">:=</span>

<span class="kd">end</span>
</code></pre></div>
<p>This is not the entire code but I got rid of  some things and hopefully this is enough to help understand what's going on and what I am doing.</p>



<a name="270300240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270300240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270300240">(Feb 01 2022 at 22:39)</a>:</h4>
<p>You should fix your first error before you start worrying about your last error. If you comment out the <code>match</code> you'll see an error earlier in your script.</p>



<a name="270300505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270300505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270300505">(Feb 01 2022 at 22:41)</a>:</h4>
<p>That's interesting because I don't actually get an error</p>



<a name="270300594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270300594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270300594">(Feb 01 2022 at 22:42)</a>:</h4>
<p>you do if you comment out the <code>match</code> (or at least I do) -- you can't prove u1 using u1 because it's not there yet. Maybe comment out the <code>have u2</code> too? After that error Lean is totally confused and can't be trusted.</p>



<a name="270301036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270301036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270301036">(Feb 01 2022 at 22:46)</a>:</h4>
<p>I have tried commenting out both and I don't seem to get any error still.</p>



<a name="270301144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270301144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270301144">(Feb 01 2022 at 22:47)</a>:</h4>
<p>On the other hand, I'm sure you believe that you can't prove a new theorem called <code>u1</code> using a fact called <code>u1</code> which has not been defined up until this point -- that would be circular reasoning.</p>



<a name="270301242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270301242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270301242">(Feb 01 2022 at 22:48)</a>:</h4>
<p><a href="/user_uploads/3121/-Gy02nYCpZJJ9QTTCbdV5MAW/u1.png">u1.png</a> <br>
That's what I see. Note the red underline under u1 and the error on the right</p>
<div class="message_inline_image"><a href="/user_uploads/3121/-Gy02nYCpZJJ9QTTCbdV5MAW/u1.png" title="u1.png"><img src="/user_uploads/3121/-Gy02nYCpZJJ9QTTCbdV5MAW/u1.png"></a></div>



<a name="270301941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270301941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270301941">(Feb 01 2022 at 22:53)</a>:</h4>
<p>Okay, I see the error on your one. So I will have to define it first?</p>



<a name="270302786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270302786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270302786">(Feb 01 2022 at 22:59)</a>:</h4>
<p>I think your first error is actually even earlier. I don't think that your definition of <code>y</code> is valid lean syntax. Edit: Hmm -- apparently it is? I didn't know that! Ignore me.</p>



<a name="270303254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270303254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270303254">(Feb 01 2022 at 23:02)</a>:</h4>
<p>I will try amend the first error before the other but I will have to look into it more. I am still perplexed as to why the error does not show up on my system. Thank you.</p>



<a name="270303306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270303306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270303306">(Feb 01 2022 at 23:02)</a>:</h4>
<p>Try restarting VS Code.</p>



<a name="270303408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270303408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270303408">(Feb 01 2022 at 23:03)</a>:</h4>
<p>If you still have no error, post a screenshot like I did and I'll see if I can spot any funny business. Open the file explorer by clicking on the "two pieces of paper" icon on the top left in VS Code. You are using VS Code, right?</p>



<a name="270303447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270303447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270303447">(Feb 01 2022 at 23:03)</a>:</h4>
<p>Okay will do, I have it installed on VS code.</p>



<a name="270304361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270304361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270304361">(Feb 01 2022 at 23:10)</a>:</h4>
<p><a href="/user_uploads/3121/0gR1ZWYWWyOpi5Ya9DwaW1mU/Screenshot-2022-02-01-at-23.08.34.png">Screenshot-2022-02-01-at-23.08.34.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/0gR1ZWYWWyOpi5Ya9DwaW1mU/Screenshot-2022-02-01-at-23.08.34.png" title="Screenshot-2022-02-01-at-23.08.34.png"><img src="/user_uploads/3121/0gR1ZWYWWyOpi5Ya9DwaW1mU/Screenshot-2022-02-01-at-23.08.34.png"></a></div><p>I don't seem to be getting the same errors as you but now it is showing an error on the no_surjection. But when I comment out the match line it gets rid of all errors.</p>



<a name="270304370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270304370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270304370">(Feb 01 2022 at 23:10)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
<span class="k">have</span> <span class="n">hy</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">=</span> <span class="o">{</span><span class="n">z</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">|</span> <span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)</span> <span class="o">},</span>
  <span class="n">refl</span><span class="o">,</span>
</code></pre></div>
<p>Your definition of <code>y</code> is definitionally equal to that.</p>



<a name="270304441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270304441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270304441">(Feb 01 2022 at 23:11)</a>:</h4>
<p>There is no <code>match</code> tactic, Lean is totally confused by that point. Can I see what happens when you comment out <code>match</code>?</p>



<a name="270304632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270304632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270304632">(Feb 01 2022 at 23:12)</a>:</h4>
<p>Actually, you are correct. I have managed to find the error with u1.</p>



<a name="270304760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270304760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270304760">(Feb 01 2022 at 23:13)</a>:</h4>
<p>Thank you very much, I will work on fixing the u1 error now.</p>



<a name="270306078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/270306078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#270306078">(Feb 01 2022 at 23:24)</a>:</h4>
<p>If you <code>import tactic</code> you will gain access to <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.interactive.set">docs#tactic.interactive.set</a>, which you can use instead of <code>let</code> if you want explicit hypothesis, and <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.interactive.rcases">docs#tactic.interactive.rcases</a>, which you can use instead of <code>match</code>. Note that your definition of <code>powerset</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/set.powerset">docs#set.powerset</a> and <code>surjective</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/set.surj_on">docs#set.surj_on</a>.</p>



<a name="276520759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/276520759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#276520759">(Mar 24 2022 at 18:28)</a>:</h4>
<p>Hi, I can't understand why my code gives me an error on the <code>from powerset A</code>  as it says the term has a <code>invalid type ascription</code>. I was trying to define <code>u1</code> although Lean does not understand it and so I am unsure how to go about this. Could anyone help me please solve this error? Here is <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> of my code.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">U</span> <span class="n">V</span><span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">powerset</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">B</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="kd">def</span> <span class="n">injection</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">x1</span> <span class="n">x2</span><span class="o">,</span> <span class="n">x1</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">x2</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">x1</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x2</span> <span class="bp">→</span> <span class="n">x1</span> <span class="bp">=</span> <span class="n">x2</span>

<span class="kd">theorem</span> <span class="n">no_surjection</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>

<span class="kd">begin</span>
<span class="k">assume</span> <span class="n">f</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">A</span><span class="o">,</span>
<span class="k">assume</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)),</span>
<span class="k">show</span> <span class="n">false</span><span class="o">,</span>

<span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
<span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">),</span>
  <span class="k">from</span> <span class="n">powerset</span> <span class="n">A</span><span class="o">,</span>
<span class="k">have</span> <span class="n">u2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
  <span class="k">from</span> <span class="n">h</span> <span class="n">y</span> <span class="n">u1</span><span class="o">,</span>

<span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>



<a name="276527680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/276527680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#276527680">(Mar 24 2022 at 19:24)</a>:</h4>
<p>You're trying to provide <code>powerset A</code> as a term of type <code>y ∈ (powerset A)</code>. How should that make sense?</p>



<a name="276528392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/276528392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#276528392">(Mar 24 2022 at 19:31)</a>:</h4>
<blockquote>
<p><code>from powerset A,</code></p>
</blockquote>
<p>After the word <code>from</code> you need to write a proof of the theorem that <code>y ∈ powerset A</code>. But <code>powerset A</code> is not a proof of this statement, it's just a random type.</p>



<a name="276532392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/276532392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Johnson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#276532392">(Mar 24 2022 at 20:04)</a>:</h4>
<p>You need a proof of <code>y ∈ powerset A</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">powerset</span> <span class="n">A</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">and.left</span><span class="o">,</span>
</code></pre></div>



<a name="276534149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/276534149" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#276534149">(Mar 24 2022 at 20:20)</a>:</h4>
<p>Thank you that has worked now</p>



<a name="277412578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/277412578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#277412578">(Apr 01 2022 at 12:54)</a>:</h4>
<p>Hi again, my last problem was fixed however now  my code has completely broke which hasn't happened before. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">U</span> <span class="n">V</span><span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">powerset</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">B</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="kd">def</span> <span class="n">injection</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">x1</span> <span class="n">x2</span><span class="o">,</span> <span class="n">x1</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">x2</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">f</span> <span class="n">x1</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">x2</span> <span class="bp">→</span> <span class="n">x1</span> <span class="bp">=</span> <span class="n">x2</span>

<span class="kd">theorem</span> <span class="n">no_surjection</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>

<span class="kd">begin</span>
<span class="k">assume</span> <span class="n">f</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">A</span><span class="o">,</span>
<span class="k">assume</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)),</span>
<span class="k">show</span> <span class="n">false</span><span class="o">,</span>

<span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
<span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">and.left</span><span class="o">,</span>
<span class="k">have</span> <span class="n">u2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
  <span class="k">from</span> <span class="n">h</span> <span class="n">y</span> <span class="n">u1</span><span class="o">,</span>

<span class="k">match</span> <span class="n">u2</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">x0</span><span class="o">,</span> <span class="n">u3</span><span class="o">,</span> <span class="n">u4</span><span class="o">⟩</span> <span class="o">:=</span>
<span class="n">Let</span> <span class="n">y</span> <span class="bp">=</span> <span class="o">{</span><span class="n">z</span> <span class="k">in</span> <span class="n">A</span> <span class="bp">|</span> <span class="n">z</span> <span class="bp">¬</span> <span class="bp">∈</span> <span class="n">f</span><span class="o">(</span><span class="n">z</span><span class="o">)}</span> <span class="kd">by</span> <span class="n">h</span> <span class="n">there</span> <span class="n">exists</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="n">such</span> <span class="n">that</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span>

<span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>
<p>I uncommented the match to fix the earlier error with the powerset definition however now I get multiple errors including where it says <code>theorem no_surjection</code>  saying  <code>equation compiler failed</code> . This didn't happen previously and I'm unsure how this has occurred. Any help will be much appreciated, thank you.</p>



<a name="277412845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/277412845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#277412845">(Apr 01 2022 at 12:56)</a>:</h4>
<p><code>match</code> is not a tactic in Lean 3. If you're not using mathlib you can do <code>cases</code> on u2, and if you are then you can do <code>rcases</code>.</p>



<a name="277413147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/277413147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#277413147">(Apr 01 2022 at 12:58)</a>:</h4>
<p>Also <code>Let y = {z in A | z ¬ ∈ f(z)} by h there exists x ∈ A such that f(x) = y</code> is not valid Lean syntax, as you probably know</p>



<a name="277432117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/277432117" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#277432117">(Apr 01 2022 at 15:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/116395-maths/topic/cardinality.20of.20powerset/near/277413147">said</a>:</p>
<blockquote>
<p>Also <code>Let y = {z in A | z ¬ ∈ f(z)} by h there exists x ∈ A such that f(x) = y</code> is not valid Lean syntax, as you probably know</p>
</blockquote>
<p>Haha apologies, that should not have been there.</p>



<a name="279461743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279461743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279461743">(Apr 19 2022 at 20:05)</a>:</h4>
<p>Hi, so basically I am facing another problem with my proof. I am struggling to write the proof by contradiction segment of my theorem and I have come across an error saying <code>focused goal has not been solved</code> for the middle begin and end. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">section</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">U</span> <span class="n">V</span><span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">powerset</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">set</span> <span class="n">U</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span> <span class="bp">|</span> <span class="n">B</span> <span class="bp">⊆</span> <span class="n">A</span><span class="o">}</span>
<span class="kd">def</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">V</span><span class="o">)(</span><span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">)(</span><span class="n">B</span> <span class="o">:</span> <span class="n">set</span> <span class="n">V</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">B</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>

<span class="kd">theorem</span> <span class="n">no_surjection</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>

<span class="kd">begin</span>
<span class="k">assume</span> <span class="n">f</span><span class="o">,</span>
<span class="k">assume</span> <span class="n">A</span><span class="o">,</span>
<span class="k">assume</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)),</span>
<span class="k">show</span> <span class="n">false</span><span class="o">,</span>

<span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
<span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">and.left</span><span class="o">,</span>
<span class="k">have</span> <span class="n">u2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
  <span class="k">from</span> <span class="n">h</span> <span class="n">y</span> <span class="n">u1</span><span class="o">,</span>

<span class="n">cases</span> <span class="n">u2</span> <span class="k">with</span> <span class="n">x0</span> <span class="n">u3</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">u3</span> <span class="k">with</span> <span class="n">u30</span> <span class="n">u31</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">claim1</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span> <span class="o">:=</span>
      <span class="kd">begin</span> <span class="k">assume</span> <span class="n">v1</span> <span class="o">:</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span><span class="o">,</span> <span class="k">show</span> <span class="n">false</span><span class="o">,</span>
          <span class="kd">begin</span>
              <span class="k">have</span> <span class="n">u5</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">x0</span><span class="o">,</span> <span class="k">from</span> <span class="n">v1.right</span><span class="o">,</span>
              <span class="k">have</span> <span class="n">u6</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq.rec</span> <span class="n">u5</span> <span class="n">u31</span><span class="o">,</span>
              <span class="k">have</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">u6</span> <span class="n">v1</span><span class="o">,</span>
          <span class="kd">end</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">claim2</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">x0</span> <span class="o">:=</span> <span class="n">eq.rec</span> <span class="n">claim1</span> <span class="n">u31</span><span class="o">,</span>
  <span class="k">let</span> <span class="n">claim3</span><span class="o">:</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">constructor</span><span class="o">,</span> <span class="n">exact</span> <span class="n">u30</span><span class="o">,</span> <span class="n">exact</span> <span class="n">claim2</span><span class="o">,</span>
      <span class="kd">end</span>

<span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>
<p>I feel like I am going about this the wrong way. Would it be better to use classical reasoning and use the <code>by_contradiction</code> inference to solve the contradiction part? Also, I was wondering if the <code>eq</code> equality relation is the same as using an <code>=</code> symbol? Thank you.</p>



<a name="279463935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279463935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279463935">(Apr 19 2022 at 20:25)</a>:</h4>
<p>The proof looks okay math-wise but you have <code>begin</code>/<code>end</code> in the wrong places</p>



<a name="279464241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279464241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279464241">(Apr 19 2022 at 20:27)</a>:</h4>
<p>And <code>let claim3: x0 ∈ y := constructor,</code> cannot be correct</p>



<a name="279464395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279464395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279464395">(Apr 19 2022 at 20:28)</a>:</h4>
<p>You should try to avoid ever having errors (aside from goals that are unsolved). If Lean gives you an error then fix it--don't keep typing more stuff.</p>



<a name="279464943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279464943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279464943">(Apr 19 2022 at 20:33)</a>:</h4>
<p>Yes, <code>eq = (=)</code>.</p>



<a name="279595047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279595047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279595047">(Apr 20 2022 at 19:55)</a>:</h4>
<p>How do I fix this begin/end issue as this is how I believed it had to be done by looking through the Lean manual</p>



<a name="279596247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279596247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279596247">(Apr 20 2022 at 20:05)</a>:</h4>
<p>What <code>have false, from u6 v1,</code> is doing is creating a new hypothesis named <code>false</code> that is a proof of <code>false</code>. The current goal is <code>false</code>, so you can just do <code>exact u6 v1</code>.</p>



<a name="279596955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279596955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279596955">(Apr 20 2022 at 20:11)</a>:</h4>
<p>Your proof might be more conventionally structured like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">no_surjection</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">f</span> <span class="o">:</span> <span class="n">U</span> <span class="bp">→</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">A</span> <span class="o">:</span> <span class="n">set</span> <span class="n">U</span><span class="o">,</span> <span class="bp">¬</span> <span class="n">surjective</span> <span class="n">f</span> <span class="n">A</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">f</span> <span class="n">A</span> <span class="n">h</span><span class="o">,</span>

  <span class="k">let</span> <span class="n">y</span> <span class="o">:=</span> <span class="o">{</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">|</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">z</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">z</span><span class="o">)},</span>
  <span class="k">have</span> <span class="n">u1</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">∈</span> <span class="o">(</span><span class="n">powerset</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">and.left</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">u2</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">A</span> <span class="bp">∧</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">h</span> <span class="n">y</span> <span class="n">u1</span><span class="o">,</span>

  <span class="n">cases</span> <span class="n">u2</span> <span class="k">with</span> <span class="n">x0</span> <span class="n">u3</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">u3</span> <span class="k">with</span> <span class="n">u30</span> <span class="n">u31</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">claim1</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span><span class="o">,</span>
  <span class="o">{</span> <span class="k">assume</span> <span class="n">v1</span> <span class="o">:</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">u5</span><span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">x0</span> <span class="o">:=</span> <span class="n">v1.right</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="n">u31</span><span class="o">]</span> <span class="n">at</span> <span class="n">u5</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">u5</span> <span class="n">v1</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">claim2</span> <span class="o">:</span> <span class="bp">¬</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">f</span> <span class="n">x0</span><span class="o">,</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">claim3</span> <span class="o">:</span> <span class="n">x0</span> <span class="bp">∈</span> <span class="n">y</span><span class="o">,</span>
  <span class="o">{</span> <span class="gr">sorry</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">exact</span> <span class="n">claim1</span> <span class="n">claim3</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>Curly braces are a synonym for <code>begin ... end</code> in a tactic block. I replaced the parts that didn't work with <code>sorry</code> (<code>claim2</code> doesn't seem to be used though).</p>



<a name="279617166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/cardinality%20of%20powerset/near/279617166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Milan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/cardinality.20of.20powerset.html#279617166">(Apr 20 2022 at 23:36)</a>:</h4>
<p>Thank you</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>