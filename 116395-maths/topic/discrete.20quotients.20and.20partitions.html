---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html">discrete quotients and partitions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237379287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237379287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237379287">(May 04 2021 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="132603">@Calle Sönne</span> and <span class="user-mention" data-user-id="243562">@Adam Topaz</span>, when writing <a href="https://leanprover-community.github.io/mathlib_docs/topology/discrete_quotient.html">discrete_quotient</a>, did you make a conscious choice to ignore <a href="https://leanprover-community.github.io/mathlib_docs/data/setoid/partition.html">setoid.partition</a>? If no, do you think it's too late to reconcile those files?</p>



<a name="237380026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237380026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237380026">(May 04 2021 at 18:57)</a>:</h4>
<p>TBH I didn't know that setoid/partition.lean existed. What in particular would you like to see reconciled <span class="user-mention" data-user-id="110031">@Patrick Massot</span> ?</p>



<a name="237380277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237380277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237380277">(May 04 2021 at 18:59)</a>:</h4>
<p>Half of discrete_quotient.lean is proving trivial stuff on partitions, equivalence relations and quotient that have nothing to do with topology.</p>



<a name="237382848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237382848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237382848">(May 04 2021 at 19:16)</a>:</h4>
<p>The whole point of the <code>discrete_quotient</code> type is to endow the quotient with the discrete topology and still retain continuity with respect to the quotient map. There are a couple of lemmas about the fibers of <code>discrete_quotient.proj</code> that can be generalized (or exist already for general quotients), but I don't see how half of this file can be done with arbitrary quotients.  (I actually asked a few days ago on zulip whether we had such lemmas about the equivalence classes associated to a setoid, but no one responded.)</p>



<a name="237383050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237383050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237383050">(May 04 2021 at 19:17)</a>:</h4>
<p>I also didn't know about that file until I started to work on continuing the discrete quotient file.</p>



<a name="237383286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237383286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237383286">(May 04 2021 at 19:19)</a>:</h4>
<p>It is not imported by any other file in mathlib.</p>



<a name="237383405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237383405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237383405">(May 04 2021 at 19:20)</a>:</h4>
<p>A reasonable generalization is to define the type of all quotients of a type, then <code>discrete_quotient</code> can be a subtype, but I don't know whether such a thing would be actually useful (over just using the <code>quotient</code> API )</p>



<a name="237384141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237384141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237384141">(May 04 2021 at 19:26)</a>:</h4>
<p>Thinking in terms of quotients is of course almost always better. But this story of profinite sets proves this is not always the case.</p>



<a name="237384624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237384624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237384624">(May 04 2021 at 19:30)</a>:</h4>
<p>Maybe also worth mentioning that the code I originally had in LTE (and which was a modification of Calle's code) was in terms of partitions whose terms are clopen, and it turned out to be very cumbersome to work with in practice. Some lemmas which are proved essentially by <code>refl</code> with quotients required several lines when using partitions.</p>



<a name="237384850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237384850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237384850">(May 04 2021 at 19:31)</a>:</h4>
<p>Perhaps a reasonable compromise is to construct a term of <code>discrete_quotient X</code> from a clopen partition?</p>



<a name="237385018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237385018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237385018">(May 04 2021 at 19:33)</a>:</h4>
<p>Sure we need at least that.</p>



<a name="237385841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237385841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237385841">(May 04 2021 at 19:38)</a>:</h4>
<p>But using <code>setoid</code> and <code>setoid.classes</code> in the definition of <code>discrete_quotient</code>  would be nice.</p>



<a name="237385975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237385975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237385975">(May 04 2021 at 19:39)</a>:</h4>
<p>Especially since you ordered variables in a way that the discrete quotient of <code>X</code> associated to a locally constant <code>f : X → Y</code> is associated to the relation <code>x ∼ x'</code> if <code>f x' = f x</code> instead of <code>f x = f x'</code>.</p>



<a name="237386128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237386128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237386128">(May 04 2021 at 19:40)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/blob/5a91d05e3b457aac6f656f8b02acb893f96341fa/src/topology/discrete_quotient.lean#L55">This line</a> should really be <code>(clopen : ∀ x, is_clopen { y | rel y x})</code></p>



<a name="237386192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237386192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237386192">(May 04 2021 at 19:40)</a>:</h4>
<p>Of course this is equivalent since the relation is symmetric, but not defeq.</p>



<a name="237386315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237386315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237386315">(May 04 2021 at 19:41)</a>:</h4>
<p>Yes, I agree. I wish I had known about <code>setoid.classes</code> before... Anyway, I can refactor once <a href="https://github.com/leanprover-community/mathlib/issues/7454">#7454</a> is merged</p>



<a name="237387447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237387447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237387447">(May 04 2021 at 19:49)</a>:</h4>
<p>Ah, I should handle that PR then.</p>



<a name="237387466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237387466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237387466">(May 04 2021 at 19:49)</a>:</h4>
<p>I think the name <code>le_rel</code> is a bit obscure</p>



<a name="237387763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237387763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237387763">(May 04 2021 at 19:52)</a>:</h4>
<p><code>le_rel</code> is supposed to be <code>le_relative_to</code></p>



<a name="237387840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237387840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237387840">(May 04 2021 at 19:52)</a>:</h4>
<p>But the latter is mouthful</p>



<a name="237388014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237388014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237388014">(May 04 2021 at 19:53)</a>:</h4>
<p>I see. What is confusing is there are <code>rel</code> that mean relation everywhere in the neighborhood</p>



<a name="237388302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237388302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237388302">(May 04 2021 at 19:55)</a>:</h4>
<p>Maybe <code>le_comap</code> would be better?</p>



<a name="237388846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237388846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237388846">(May 04 2021 at 19:59)</a>:</h4>
<p>Or <code>desc</code> since this condition says precisely that a continuous map descends to the quotients</p>



<a name="237388996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237388996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237388996">(May 04 2021 at 20:00)</a>:</h4>
<p>You mean lifts, right? :-)</p>



<a name="237390781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237390781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237390781">(May 04 2021 at 20:13)</a>:</h4>
<p>Oh, but it's already waiting for bors</p>



<a name="237391059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391059" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391059">(May 04 2021 at 20:15)</a>:</h4>
<p>Is it too late to cancel bors? It made a commit already it seems</p>



<a name="237391203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391203">(May 04 2021 at 20:16)</a>:</h4>
<p>Actually the build was cancelled</p>



<a name="237391215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391215">(May 04 2021 at 20:16)</a>:</h4>
<p>so you could change that name</p>



<a name="237391283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391283">(May 04 2021 at 20:17)</a>:</h4>
<p>All this quotient and partition stuff is a deeper rabbit hole than what I expected...</p>



<a name="237391315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391315">(May 04 2021 at 20:17)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7454">#7454</a> is still in "Waiting to run" status <a href="https://app.bors.tech/repositories/24316">here</a>, so it should be safe to make changes without disrupting anything. (In fact, the current "Running" batch is likely to time out anyways, so canceling even that batch will be fairly harmless.)</p>



<a name="237391949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/discrete%20quotients%20and%20partitions/near/237391949" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/discrete.20quotients.20and.20partitions.html#237391949">(May 04 2021 at 20:22)</a>:</h4>
<p>Renamed.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>