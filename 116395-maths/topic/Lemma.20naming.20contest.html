---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Lemma.20naming.20contest.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html">Lemma naming contest</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="211505091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211505091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211505091">(Sep 28 2020 at 15:07)</a>:</h4>
<p>Heather and I need help to name lemmas (or find them already named in mathlib).</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">inf_property'</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ordered_add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">ε</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">is_glb</span> <span class="n">s</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">∉</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">h₃</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">b</span><span class="o">,</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">s</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">∧</span> <span class="bp">¬</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">ε</span> <span class="bp">≤</span> <span class="n">b</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">lemma</span> <span class="n">inf_property</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">decidable_linear_ordered_add_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">{</span><span class="n">s</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">ε</span> <span class="o">:</span> <span class="n">α</span><span class="o">}</span>
  <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">is_glb</span> <span class="n">s</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">∉</span> <span class="n">s</span><span class="o">)</span> <span class="o">(</span><span class="n">h₃</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">ε</span><span class="o">)</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">b</span><span class="o">,</span> <span class="n">b</span> <span class="bp">∈</span> <span class="n">s</span> <span class="bp">∧</span> <span class="n">a</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">∧</span> <span class="n">b</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">ε</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">inf_property'</span> <span class="n">h₁</span> <span class="n">h₂</span> <span class="n">h₃</span>
</code></pre></div>

<p>The proof is omitted for brevity, we had no trouble proving this. <span class="user-mention" data-user-id="110087">@Scott Morrison</span>: enjoy the type class mess in these examples, in relation to our previous discussion.</p>



<a name="211505990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211505990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211505990">(Sep 28 2020 at 15:12)</a>:</h4>
<p><code>is_glb.exists_lt_mem</code>?</p>



<a name="211506176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211506176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211506176">(Sep 28 2020 at 15:14)</a>:</h4>
<p>To me it sounds like a pretty random sampling from the statement, but if you like it then it's good enough for me.</p>



<a name="211506478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211506478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211506478">(Sep 28 2020 at 15:16)</a>:</h4>
<p>It is exactly that, but most options will be unless you spell everything out. <code>is_glb.exists_lt_mem_near</code>?</p>



<a name="211506652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211506652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211506652">(Sep 28 2020 at 15:18)</a>:</h4>
<p>And we have <em>two</em> lemmas to name.</p>



<a name="211506709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211506709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211506709">(Sep 28 2020 at 15:18)</a>:</h4>
<p>TBH I don't expect the first one will get any use, maybe I should remove it.</p>



<a name="211506772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211506772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211506772">(Sep 28 2020 at 15:19)</a>:</h4>
<p>Heather originally stated this for real numbers and I simply picked random type classes to make it look more respectable;</p>



<a name="211508133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211508133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211508133">(Sep 28 2020 at 15:29)</a>:</h4>
<p><code>is_glb.exists_between_self_add</code>?</p>



<a name="211508161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211508161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211508161">(Sep 28 2020 at 15:29)</a>:</h4>
<p>Or <code>exists_lt_add</code></p>



<a name="211508260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211508260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211508260">(Sep 28 2020 at 15:30)</a>:</h4>
<p>Life was so much easier when we could just call it lemma 37.</p>



<a name="211512942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211512942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211512942">(Sep 28 2020 at 16:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Lemma.20naming.20contest/near/211508260">said</a>:</p>
<blockquote>
<p>Life was so much easier when we could just call it lemma 37.</p>
</blockquote>
<p>Like in some parts of <a href="https://coq.inria.fr/distrib/current/stdlib/Coq.Reals.RiemannInt.html">coq stdlib</a>?</p>



<a name="211514653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211514653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211514653">(Sep 28 2020 at 16:21)</a>:</h4>
<p>imagine trying to use the API :-) I was skeptical of this naming system at first, believing it simply would not scale. But often I realised one just had to break things down carefully into the right pieces and name them well.</p>



<a name="211551344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211551344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211551344">(Sep 28 2020 at 21:13)</a>:</h4>
<p>Ok, I went with a variation on Reid's proposal. Next challenge is: where should we put:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">add_subgroup.int_mul_mem</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="n">add_subgroup</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">{</span><span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">g</span> <span class="bp">∈</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g</span> <span class="bp">∈</span> <span class="n">G</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">add_subgroup.gsmul_mem</span> <span class="n">G</span> <span class="n">h</span> <span class="n">k</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">gsmul_eq_mul</span> <span class="n">g</span> <span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="211551408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211551408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211551408">(Sep 28 2020 at 21:14)</a>:</h4>
<p>This needs both <code>ring</code> and <code>add_subgroup</code>.</p>



<a name="211551618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211551618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211551618">(Sep 28 2020 at 21:16)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>  Actually, I was wondering if the branch could be rewritten to use only <code>k •ℤ g</code>.</p>



<a name="211551663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211551663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211551663">(Sep 28 2020 at 21:17)</a>:</h4>
<p>I can try this later if you like the idea.</p>



<a name="211551675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Lemma%20naming%20contest/near/211551675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Lemma.20naming.20contest.html#211551675">(Sep 28 2020 at 21:17)</a>:</h4>
<p>Maybe. I think the lemma is good to have anyway. It's bedtime here, so it's your turn to play with this branch. I think this lemma is the last remaining thing to move.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>