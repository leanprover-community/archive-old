---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html">F.g. modules over PIDs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="237315637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237315637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexey S. Vasilev <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237315637">(May 04 2021 at 12:37)</a>:</h4>
<p>There is a group of students at my university studying Lean, with the final goal being some contribution to mathlib. Our supervisor offered to prove the structure theorem for finitely generated abelian groups (or even the structure theorem for f.g. modules over PIDs). <br>
We found out that the first half was already <a href="https://github.com/leanprover-community/mathlib/pull/6178">proved</a> by <span class="user-mention" data-user-id="238446">@Anne Baanen</span>. <a href="https://github.com/leanprover-community/mathlib/pull/7341">This</a> also looks relevant. </p>
<p>Were there any other results in this direction? Maybe someone works on the second part of the theorem right now?</p>



<a name="237315741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237315741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237315741">(May 04 2021 at 12:38)</a>:</h4>
<p><del>Right now we have f.g. + torsion-free implies free (for modules over a PID) but we don't have the full theorem.</del> (oh sorry, you already spotted this!). <span class="user-mention" data-user-id="110031">@Patrick Massot</span> are you planning on proving the structure theorem for f.g. modules over a PID?</p>



<a name="237316043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237316043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237316043">(May 04 2021 at 12:40)</a>:</h4>
<p>I think the only part that is missing is the "nasty" part that classifies f.g. torsion modules.</p>



<a name="237316200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237316200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237316200">(May 04 2021 at 12:41)</a>:</h4>
<p>I've seen a proof which involves a lot of manipulation of matrices :-/ That won't be much fun to do formally. Is the structure theorem for finite abelian groups any easier?</p>



<a name="237316746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237316746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237316746">(May 04 2021 at 12:44)</a>:</h4>
<p>Yes, the remaining part is classification of f.g. torsion modules, even in the abelian group case. Yes the classical proof involves a lot of matrix manipulations, but it's not the only possible proof. The matrix proof can probably give you a computable classification, but this is not what we usually care about in mathlib.</p>



<a name="237316797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237316797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237316797">(May 04 2021 at 12:45)</a>:</h4>
<p>And yes , there are shortcuts for abelian groups.</p>



<a name="237316959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237316959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237316959">(May 04 2021 at 12:46)</a>:</h4>
<p>For abelian groups it is easy to setup an induction process using the group exponent.</p>



<a name="237317027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237317027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237317027">(May 04 2021 at 12:46)</a>:</h4>
<p>And I don't plan to work on this at all. I did <a href="https://github.com/leanprover-community/mathlib/issues/7341">#7341</a> because it was potentially useful for LTE and low hanging.</p>



<a name="237317235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237317235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237317235">(May 04 2021 at 12:48)</a>:</h4>
<p>Alexey, who is your advisor? What is your university?</p>



<a name="237319930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237319930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexey S. Vasilev <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237319930">(May 04 2021 at 13:06)</a>:</h4>
<p>My university is Novosibirsk State University, Russia, and the advisor is Evgeny Vdovin. He does not specialize in formalizing mathematics, and in fact our Lean group is quite new. Perhaps the theorem we chose is too complicated (for example, we thought that the matrix proof is the easiest to formalize). We will be glad to hear any advice or suggestions.</p>



<a name="237320893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237320893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237320893">(May 04 2021 at 13:12)</a>:</h4>
<p>Typically, the more abstract the easier it is to formalize. Explicitly manipulating matrices can quickly become quite dirty.</p>



<a name="237321033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237321033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237321033">(May 04 2021 at 13:13)</a>:</h4>
<p>Am I right in saying we also don't have the infinitary version of Dedekind's theorem "submodule of free module over PID is free"? I don't think this one should be too hard using well-ordering principle</p>



<a name="237321174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237321174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237321174">(May 04 2021 at 13:14)</a>:</h4>
<p>Right, I don't think that's in mathlib</p>



<a name="237321298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/237321298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#237321298">(May 04 2021 at 13:15)</a>:</h4>
<p>That might be a more accessible challenge for beginners (if you know the maths, that is)</p>



<a name="271808462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/271808462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#271808462">(Feb 14 2022 at 10:33)</a>:</h4>
<p><span class="user-mention" data-user-id="475844">@Pierre-Alexandre Bazin</span> is currently thinking about this. Did anything come of <span class="user-mention" data-user-id="399281">@Alexey S. Vasilev</span> 's project?</p>



<a name="271818197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/271818197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#271818197">(Feb 14 2022 at 12:16)</a>:</h4>
<p>What about projective modules over local rings ?</p>



<a name="271872324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/271872324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#271872324">(Feb 14 2022 at 19:02)</a>:</h4>
<p>That would be another good project. The proof in Matsumura uses transfinite induction! I once noted to Conrad that it was the only time I'd ever seen ordinals used in "regular math" and he pointed out that he knew a proof which didn't use transfinite induction.</p>



<a name="271872964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/271872964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#271872964">(Feb 14 2022 at 19:06)</a>:</h4>
<p>I may have commented this to you before but I think as a rule, arguments with Zorn's lemma tend to be more transparent with transfinite induction (e.g. every vector space has a basis: well-order the elements of the vector space arbitrarily and keep whatever vectors are not in the span of the preceding ones).</p>



<a name="271873399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/271873399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#271873399">(Feb 14 2022 at 19:09)</a>:</h4>
<p>It's just Gaussian elimination that takes a bit longer.</p>



<a name="286041592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286041592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286041592">(Jun 14 2022 at 09:03)</a>:</h4>
<p>I'm glad to announce the structure theorem for f.g. modules over a PID is now proved in mathlib ! (<a href="https://github.com/leanprover-community/mathlib/pull/13524">#13524</a>)</p>



<a name="286042336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286042336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286042336">(Jun 14 2022 at 09:11)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/module.equiv_free_prod_direct_sum">docs#module.equiv_free_prod_direct_sum</a></p>



<a name="286042656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286042656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286042656">(Jun 14 2022 at 09:14)</a>:</h4>
<p>It's been a long time coming. Thank you very much <span class="user-mention" data-user-id="475844">@Pierre-Alexandre Bazin</span> for making it happen!</p>



<a name="286043090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286043090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286043090">(Jun 14 2022 at 09:19)</a>:</h4>
<p>We still need a little bit of glue to get the statement for finite abelian groups, but nothing special I think. </p>
<p>Are we ready for Jordan normal form?</p>



<a name="286044005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286044005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286044005">(Jun 14 2022 at 09:27)</a>:</h4>
<p>For Jordan normal form I'll at least need the stuff at <a href="https://github.com/leanprover-community/mathlib/pull/14666">#14666</a> + defining what a Jordan block is (I don't think we have it) and show it's multiplication by <code>X</code>in <code>R[X] ⧸ ((X - a) ^ n)</code> (with the right basis) so that's still quite some work remaining</p>



<a name="286053406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286053406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286053406">(Jun 14 2022 at 10:58)</a>:</h4>
<p>It's great that we got this! However isn't a bit exaggerated to  call that "the structure theorem for f.g. modules over a PID " if you don't have uniqueness? I thought uniqueness is the tricky part.</p>



<a name="286054657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286054657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286054657">(Jun 14 2022 at 11:12)</a>:</h4>
<p>What would a statement of uniqueness look like there?</p>



<a name="286055205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286055205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286055205">(Jun 14 2022 at 11:16)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Structure_theorem_for_finitely_generated_modules_over_a_principal_ideal_domain#Invariant_factor_decomposition">https://en.wikipedia.org/wiki/Structure_theorem_for_finitely_generated_modules_over_a_principal_ideal_domain#Invariant_factor_decomposition</a></p>



<a name="286055258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286055258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286055258">(Jun 14 2022 at 11:16)</a>:</h4>
<p>Oh, I guess you mean uniqueness of <code>p</code> and <code>e</code> up to permutation of <code>ι</code>?</p>



<a name="286055892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286055892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286055892">(Jun 14 2022 at 11:23)</a>:</h4>
<p>I don't think uniqueness is too hard; you tensor up to the field of fractions to get uniqueness of rank, and you look at P^i-torsion to get uniqueness of the powers of P. I agree it might be fiddly to do uniqueness in Lean, but existence is hard even on paper.</p>



<a name="286057025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286057025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286057025">(Jun 14 2022 at 11:33)</a>:</h4>
<p>Maybe I'm misremembering what is really harder in the general case than in the abelian group case.</p>



<a name="286062185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286062185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286062185">(Jun 14 2022 at 12:20)</a>:</h4>
<p>I had a go at extracting some constructions from the existentials in <a href="https://github.com/leanprover-community/mathlib/pull/14734">#14734</a>, in case that's helpful for showing uniqueness</p>



<a name="286075584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/F.g.%20modules%20over%20PIDs/near/286075584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Pierre-Alexandre Bazin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/F.2Eg.2E.20modules.20over.20PIDs.html#286075584">(Jun 14 2022 at 13:58)</a>:</h4>
<p>Indeed, uniqueness is missing. By the way, I just opened <a href="https://github.com/leanprover-community/mathlib/pull/14736">#14736</a> for the case of abelian groups</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>