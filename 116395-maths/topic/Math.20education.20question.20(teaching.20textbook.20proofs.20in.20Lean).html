---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html">Math education question (teaching textbook proofs in Lean)</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="177181202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177181202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177181202">(Oct 02 2019 at 18:58)</a>:</h4>
<p>Hi. I'm from the computer science contingency of Lean users, but I'm going through 'Understanding Analysis' to try some very basic 'proper math' in Lean. Many of the proofs use arguments that are classics, but either aren't very Lean-friendly or aren't constructive. As an example, the proof of <code>irrat (sqrt 2)</code> used in the book is the proof by contradiction/infinite descent.</p>
<p>Is the approach you guys have taken (or would take) for math education to say "Well here's how these are done in Lean/mathlib, the sooner you get used to doing things this way the better", or is it to try and power through the classic definitions in Lean? Or are you trying to give equal time to both approaches?</p>
<p>Thanks!</p>



<a name="177183164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177183164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177183164">(Oct 02 2019 at 19:21)</a>:</h4>
<p>We certainly don't worry about being constructive. Usually</p>



<a name="177183317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177183317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177183317">(Oct 02 2019 at 19:23)</a>:</h4>
<p>If something in mathlib differs from theclassical definition it's because it's in a greater generality, in which case the classical definition is better to formalize.</p>



<a name="177184716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177184716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177184716">(Oct 02 2019 at 19:40)</a>:</h4>
<p><span class="user-mention" data-user-id="228466">@Chris B</span> What do you mean when you say "Many of the proofs ... either aren't very Lean-friendly"? If there are proofs in the library that can be optimized to become more Lean friendly, I think we very much welcome those.</p>



<a name="177184772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177184772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177184772">(Oct 02 2019 at 19:41)</a>:</h4>
<p>Some of our contributors care more about being constructive than others. But in general, we unashamedly celebrate the axiom of choice.</p>



<a name="177185748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177185748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177185748">(Oct 02 2019 at 19:52)</a>:</h4>
<p>Do you refer to <a href="https://www.amazon.com/Understanding-Analysis-Undergraduate-Texts-Mathematics/dp/1493927116" target="_blank" title="https://www.amazon.com/Understanding-Analysis-Undergraduate-Texts-Mathematics/dp/1493927116">https://www.amazon.com/Understanding-Analysis-Undergraduate-Texts-Mathematics/dp/1493927116</a>?</p>



<a name="177185828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177185828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177185828">(Oct 02 2019 at 19:53)</a>:</h4>
<p>Note that I don't understand your question either way.</p>



<a name="177186025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177186025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177186025">(Oct 02 2019 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Sorry, I meant "the proofs in the textbook aren't always Lean-friendly" in that some of the things they take for granted don't seem trivial in Lean. I'm sure the ones in mathlib are great.</p>



<a name="177186306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177186306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177186306">(Oct 02 2019 at 19:58)</a>:</h4>
<p>What is an example of a non-Lean friendly proof? I don't understand the issue with the irrationality of sqrt 2 example.</p>



<a name="177186324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177186324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177186324">(Oct 02 2019 at 19:58)</a>:</h4>
<p>Aha... I see. And I'm sure there are also lots of proofs in mathlib that could be improved. But yes... most maths is not "designed to be formalised" to quote Mario out of context.</p>



<a name="177192098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177192098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177192098">(Oct 02 2019 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Yes, that's the book. Maybe 'lean-aware' is a better choice of words than 'lean friendly'. The <code>irrat sqrt 2</code> proof is simple, but it's  not aware of the behavior/interaction between Lean's number types or the fact that rewriting terms in Lean is not always as easy as it is on paper, so as someone who's not super familiar with mathlib it's not trivial to recreate in terms of time and might end up brittle, ugly etc. On the other hand, there is also a definition of <code>irrat sqrt 2</code> in mathlib that is different but was written by someone who IS aware of those things.</p>
<p>The question was whether educators who were using Lean and had a similar pair of proofs (one from mathlib and one from a textbook) were choosing to focus on one or the other.</p>



<a name="177192286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177192286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177192286">(Oct 02 2019 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span>  That's good to know going forward, thanks.</p>



<a name="177194041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177194041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177194041">(Oct 02 2019 at 21:26)</a>:</h4>
<p>Maybe we should move this conversation to the "Lean for teaching" stream. When I use Lean for teaching I only use mathlib for its tactics and definition of real numbers. For instance I redefine limits of sequences and functions. I cannot expect my first year students to understand mathlib's use of filters and uniform spaces... This is the same reason we don't use Bourbaki for teaching. The good news is we can still use Lean (and mathlib tactics).</p>



<a name="177198088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177198088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris B <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177198088">(Oct 02 2019 at 22:17)</a>:</h4>
<p>Interesting, thanks for that insight.</p>



<a name="177210215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177210215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Tim Daly <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177210215">(Oct 03 2019 at 02:37)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span>  I understand, from a lecture by Kevin Buzzard, that you have written python code to convert lean-related material to an interactive webpage, a "literate form" of input involving latex. Where can I get this?</p>



<a name="177211626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/177211626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jesse Michael Han <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#177211626">(Oct 03 2019 at 03:18)</a>:</h4>
<p>I believe it's <a href="https://github.com/leanprover-community/format_lean" target="_blank" title="https://github.com/leanprover-community/format_lean">https://github.com/leanprover-community/format_lean</a></p>



<a name="178342423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178342423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178342423">(Oct 17 2019 at 01:19)</a>:</h4>
<p><span class="user-mention" data-user-id="210574">@Patrick Massot</span> </p>
<blockquote>
<p>For instance I redefine limits of sequences and functions. </p>
</blockquote>
<p>I want to show my friend in advanced calculus the power of LEAN but I haven't got the hang of it yet. Could you show me how you redefined the limits? Btw the theorem I am working on is</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><mi>C</mi><mo>⋅</mo><msub><mi>a</mi><mi>n</mi></msub><mo>=</mo><mi>C</mi><mo>⋅</mo><munder><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><msub><mi>a</mi><mi>n</mi></msub><mtext> for </mtext><mi>C</mi><mo>∈</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\lim_{n\to\infty} C \cdot a_n = C \cdot \lim_{n\to\infty} a_n \text{ for } C \in \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.39444em;vertical-align:-0.7em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.1em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.39444em;vertical-align:-0.7em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.1em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord"> for </span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span></span></p>



<a name="178344291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178344291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178344291">(Oct 17 2019 at 02:06)</a>:</h4>
<p>I am trying to define it according to <a href="https://en.wikipedia.org/wiki/(%CE%B5,_%CE%B4)-definition_of_limit" target="_blank" title="https://en.wikipedia.org/wiki/(%CE%B5,_%CE%B4)-definition_of_limit">https://en.wikipedia.org/wiki/(%CE%B5,_%CE%B4)-definition_of_limit</a></p>



<a name="178344312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178344312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178344312">(Oct 17 2019 at 02:07)</a>:</h4>
<p>But it involves an equation and I am kinda stuck on this</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="n">def</span> <span class="n">lim</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">c</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">δ</span> <span class="bp">→</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="o">)</span>
</pre></div>



<a name="178344598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178344598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178344598">(Oct 17 2019 at 02:14)</a>:</h4>
<p>Oh ok this seems to work</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">lim</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="n">c</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">δ</span> <span class="bp">→</span>
    <span class="n">abs</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">ε</span>
</pre></div>



<a name="178344665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178344665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178344665">(Oct 17 2019 at 02:16)</a>:</h4>
<p>lol how do I express infinity in this thing</p>



<a name="178345138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345138">(Oct 17 2019 at 02:28)</a>:</h4>
<p>There is a type <code>ennreal</code> in mathlib that represents non-negative reals with a positive infinity, possibly this does what you want?</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">ennreal</span>

<span class="kn">open</span> <span class="n">ennreal</span>
<span class="n">open_locale</span> <span class="n">ennreal</span>

<span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="err">∞</span> <span class="o">:</span> <span class="n">ennreal</span><span class="o">)</span>
</pre></div>



<a name="178345231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345231">(Oct 17 2019 at 02:30)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> There are two answers... the first (which is what mathlib does) is to step back, generalize everything and use so-called filters, instead of the epsilon-delta-sequence definition. The second would be to say that some statement is true for <code>x</code> sufficiently close to infty, in other words, for <code>x</code> sufficiently large.</p>



<a name="178345247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345247">(Oct 17 2019 at 02:30)</a>:</h4>
<p>Btw, the <code>0 &lt; abs (x - c)</code> doesn't seem very useful in your definition.</p>



<a name="178345264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345264">(Oct 17 2019 at 02:31)</a>:</h4>
<p>I personally don't think that using <code>ennreal</code> would lead to a nice experience.</p>



<a name="178345332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345332">(Oct 17 2019 at 02:33)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> What do mathematicians actually mean when that say that <code>f</code> has a limit as <code>x</code> tends to infty? After all, they don't have <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∞</mi><mo>∈</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\infty \in \mathbb{R}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord">∞</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> either. So they must have explained somewhere what they mean when the abuse notation like this.</p>



<a name="178345519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345519">(Oct 17 2019 at 02:37)</a>:</h4>
<p>LOL That's a great question, but I don't have a mathematician around to ask</p>



<a name="178345570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345570">(Oct 17 2019 at 02:38)</a>:</h4>
<p>Oh wait there is a subsection defining the infinity case separately</p>



<a name="178345589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345589">(Oct 17 2019 at 02:39)</a>:</h4>
<p>Ah... that goes into metric space which I don't understand tho</p>



<a name="178345658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345658">(Oct 17 2019 at 02:41)</a>:</h4>
<p>The precise statement for limits at infinity is as follows:[16]</p>
<p>Suppose f  is defined on a subset D of a metric space X with a metric d X ( x , y ) and maps into a metric space Y with a metric d Y ( x , y ) . Let L ∈ Y.</p>
<p>We say that</p>
<div class="codehilite"><pre><span></span>lim x → ∞ f ( x ) = L
</pre></div>


<p>if for every ε &gt; 0 , there is a real number N &gt; 0 such that there is an x ∈ D  where d X ( x , 0 ) &gt; N and such that if d X ( x , 0 ) &gt; N and x ∈ D, then d Y ( f ( x ) , L ) &lt; ε .</p>



<a name="178345700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345700">(Oct 17 2019 at 02:42)</a>:</h4>
<p>Ok metric space basically redefines absolute value aka "distance" right</p>



<a name="178345718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345718">(Oct 17 2019 at 02:43)</a>:</h4>
<p>if I only need real number I just replace d X with abs</p>



<a name="178345772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178345772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178345772">(Oct 17 2019 at 02:44)</a>:</h4>
<p>Yep, that's right</p>



<a name="178346011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346011">(Oct 17 2019 at 02:52)</a>:</h4>
<p>Yeah!</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span> <span class="bp">&gt;</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">abs</span> <span class="o">(</span><span class="n">x</span> <span class="bp">-</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">),</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">ε</span>
</pre></div>


<p>How to type the maths abs notation tho</p>



<a name="178346054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346054">(Oct 17 2019 at 02:52)</a>:</h4>
<p>Also wikipedia language so redundant</p>



<a name="178346065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346065">(Oct 17 2019 at 02:53)</a>:</h4>
<p>Try <code>\||</code> I think</p>



<a name="178346143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346143" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346143">(Oct 17 2019 at 02:56)</a>:</h4>
<p>k</p>



<a name="178346174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346174">(Oct 17 2019 at 02:56)</a>:</h4>
<p>Btw, I think this is taking the limit at all infinities</p>



<a name="178346180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346180">(Oct 17 2019 at 02:56)</a>:</h4>
<p>You only want the positive one</p>



<a name="178346184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346184" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346184">(Oct 17 2019 at 02:56)</a>:</h4>
<p>In a general metric space you can't really talk of positive and negative infinity</p>



<a name="178346187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346187">(Oct 17 2019 at 02:57)</a>:</h4>
<p>But you want <code>x &gt; N</code> not <code>abs (x - 0) &gt; N</code></p>



<a name="178346193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346193">(Oct 17 2019 at 02:57)</a>:</h4>
<p>oh ok! thanks for simplifying :D</p>



<a name="178346255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346255">(Oct 17 2019 at 02:59)</a>:</h4>
<p><code>\||</code> gives me unexpected token tho</p>



<a name="178346320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346320">(Oct 17 2019 at 03:00)</a>:</h4>
<p>I still need the other abs right?</p>



<a name="178346535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346535">(Oct 17 2019 at 03:06)</a>:</h4>
<p>Search mathlib for <code>norm</code>. You'll see the double-bar symbol show up a lot. But I forgot how to input it.</p>



<a name="178346538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346538">(Oct 17 2019 at 03:06)</a>:</h4>
<p>gotcha</p>



<a name="178346615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346615">(Oct 17 2019 at 03:08)</a>:</h4>
<p>I see it, it's the same, but I still get unexpected token</p>



<a name="178346617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346617">(Oct 17 2019 at 03:08)</a>:</h4>
<p>missing import?</p>



<a name="178346632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346632">(Oct 17 2019 at 03:09)</a>:</h4>
<p>Wouldn't think so...</p>



<a name="178346635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346635">(Oct 17 2019 at 03:09)</a>:</h4>
<p>also I cannot multiply a function directly with a real LOL</p>



<a name="178346641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346641">(Oct 17 2019 at 03:10)</a>:</h4>
<p>No... they are different things, right?</p>



<a name="178346685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346685">(Oct 17 2019 at 03:10)</a>:</h4>
<p>You can try <code>r \bu f</code></p>



<a name="178346689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346689">(Oct 17 2019 at 03:10)</a>:</h4>
<p>Where <code>r</code> is real and <code>f</code> a function</p>



<a name="178346692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346692">(Oct 17 2019 at 03:10)</a>:</h4>
<p>I understand LOL just musing</p>



<a name="178346693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346693">(Oct 17 2019 at 03:10)</a>:</h4>
<p>oh! let me try</p>



<a name="178346706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346706">(Oct 17 2019 at 03:11)</a>:</h4>
<p>What does <code>example : normed_field real := by apply_instance</code> give you? If it gives an error, then there is a missing import.</p>



<a name="178346710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346710">(Oct 17 2019 at 03:12)</a>:</h4>
<p><code>unknown identifier 'normed_field'</code> missing import it is</p>



<a name="178346747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346747">(Oct 17 2019 at 03:12)</a>:</h4>
<p>/me never really works with real numbers</p>



<a name="178346758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346758">(Oct 17 2019 at 03:13)</a>:</h4>
<p><code>import analysis.normed_space.basic</code> fixes it</p>



<a name="178346772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346772">(Oct 17 2019 at 03:13)</a>:</h4>
<p>Good</p>



<a name="178346812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346812">(Oct 17 2019 at 03:14)</a>:</h4>
<p>The name is kinda scary XD I hope it doesn't make proof harder to write</p>



<a name="178346836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346836">(Oct 17 2019 at 03:15)</a>:</h4>
<p>This is the line that you needed: <a href="https://github.com/leanprover-community/mathlib/blob/master/src/analysis/normed_space/basic.lean#L370" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/analysis/normed_space/basic.lean#L370">https://github.com/leanprover-community/mathlib/blob/master/src/analysis/normed_space/basic.lean#L370</a></p>



<a name="178346837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346837">(Oct 17 2019 at 03:15)</a>:</h4>
<p>So that explains why the import fixes it</p>



<a name="178346839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346839">(Oct 17 2019 at 03:15)</a>:</h4>
<p>I see</p>



<a name="178346883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346883">(Oct 17 2019 at 03:16)</a>:</h4>
<p>Ahh I am getting <code>(deterministic) timeout</code> on this theorem signature</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">lim_inf</span> <span class="n">a</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">C</span> <span class="err">•</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>



<a name="178346895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346895" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346895">(Oct 17 2019 at 03:17)</a>:</h4>
<p>Can you post a MWE (minimal working example, i.e. showing the imports) so someone can investigate for you?</p>



<a name="178346898"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346898" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346898">(Oct 17 2019 at 03:17)</a>:</h4>
<blockquote>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><mi>C</mi><mo>⋅</mo><msub><mi>a</mi><mi>n</mi></msub><mo>=</mo><mi>C</mi><mo>⋅</mo><munder><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><msub><mi>a</mi><mi>n</mi></msub><mtext> for </mtext><mi>C</mi><mo>∈</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">\lim_{n\to\infty} C \cdot a_n = C \cdot \lim_{n\to\infty} a_n \text{ for } C \in \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.39444em;vertical-align:-0.7em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.1em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.39444em;vertical-align:-0.7em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.1em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord"> for </span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span></span></p>
</blockquote>
<p>This was the theorem I was going for</p>



<a name="178346937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346937">(Oct 17 2019 at 03:18)</a>:</h4>
<p>I've never used this part of the library myself, but I do remember students seeing deterministic timeouts when working with normed_fields way too often, so it would be good to get to the bottom of this.</p>



<a name="178346947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346947">(Oct 17 2019 at 03:18)</a>:</h4>
<p>(I meant, show us exactly the code that produces the deterministic timeout, including the imports)</p>



<a name="178346951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178346951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178346951">(Oct 17 2019 at 03:18)</a>:</h4>
<p>Ah, sorry, this is the code</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">norm_num</span>
<span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">basic</span>

<span class="n">def</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span> <span class="bp">&gt;</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="bp">∃</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">ε</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">lim_inf</span> <span class="n">a</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">C</span> <span class="err">•</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>



<a name="178347011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347011">(Oct 17 2019 at 03:20)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> What happens if you replace <code>C \bu a</code> with <code>(\lambda x, C * a x)</code>?</p>



<a name="178347023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347023">(Oct 17 2019 at 03:21)</a>:</h4>
<p>That fixes it</p>



<a name="178347084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347084">(Oct 17 2019 at 03:23)</a>:</h4>
<p>Doubling the timeout limit, it works, but is incredibly slow. :-(</p>



<a name="178347132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347132">(Oct 17 2019 at 03:24)</a>:</h4>
<p><span aria-label="sweat" class="emoji emoji-1f613" role="img" title="sweat">:sweat:</span> hopefully it's not something too complicated</p>



<a name="178347136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347136">(Oct 17 2019 at 03:24)</a>:</h4>
<p>meanwhile I'll continue with my proof I think</p>



<a name="178347351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347351">(Oct 17 2019 at 03:31)</a>:</h4>
<p>LOL how to prove <code>1 &gt; 0</code></p>



<a name="178347404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347404">(Oct 17 2019 at 03:32)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> ,  I posted an issue for you, I have to go soon but hopefully someone will sort it out: <a href="https://github.com/leanprover-community/mathlib/issues/1561" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1561">https://github.com/leanprover-community/mathlib/issues/1561</a></p>



<a name="178347406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347406">(Oct 17 2019 at 03:32)</a>:</h4>
<p><code>by norm_num</code>.</p>



<a name="178347407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347407">(Oct 17 2019 at 03:33)</a>:</h4>
<p>Ah Thank you!</p>



<a name="178347414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347414">(Oct 17 2019 at 03:33)</a>:</h4>
<p>Or <code>by linarith</code>.</p>



<a name="178347419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347419">(Oct 17 2019 at 03:33)</a>:</h4>
<p>or <code>by simp</code> :-)</p>



<a name="178347459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347459">(Oct 17 2019 at 03:34)</a>:</h4>
<p>How come I forgot <code>simp</code> XD only tried <code>trivial</code></p>



<a name="178347462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347462" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347462">(Oct 17 2019 at 03:34)</a>:</h4>
<p>Not trivial enough for Lean</p>



<a name="178347463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347463">(Oct 17 2019 at 03:34)</a>:</h4>
<p>(<code>simp</code> can only handle the case in <code>nat</code>; if you meant in the reals then use norm_num.)</p>



<a name="178347476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178347476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178347476">(Oct 17 2019 at 03:35)</a>:</h4>
<p>Was about to say <code>simp</code> gave me <code>0 &lt; 1</code> as a new goal LOL</p>



<a name="178348044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178348044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178348044">(Oct 17 2019 at 03:50)</a>:</h4>
<p>Which tactic shall I use to factor <code>C * a 2 - C * L</code> into <code>C * (a 2 - L)</code></p>



<a name="178348262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178348262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178348262">(Oct 17 2019 at 03:57)</a>:</h4>
<p>eh library_search to the rescue</p>



<a name="178353294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353294">(Oct 17 2019 at 06:07)</a>:</h4>
<p>ahhhh just realized this thing  requires by case cuz C = 0 C not = 0</p>



<a name="178353470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353470">(Oct 17 2019 at 06:11)</a>:</h4>
<p>I can't parse the last part of your sentence</p>



<a name="178353619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353619">(Oct 17 2019 at 06:14)</a>:</h4>
<p><code>by_cases C = 0 with Ceq0</code> gives me <code>invalid 'begin-end' expression, ',' expected</code></p>



<a name="178353692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353692">(Oct 17 2019 at 06:16)</a>:</h4>
<p>while <code>by_cases C = 0</code> is fine</p>



<a name="178353693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353693">(Oct 17 2019 at 06:16)</a>:</h4>
<p><code>by_cases hC : C = 0,</code></p>



<a name="178353700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353700" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353700">(Oct 17 2019 at 06:17)</a>:</h4>
<p>Yeah, the syntax is not always uniform <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="178353707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353707">(Oct 17 2019 at 06:17)</a>:</h4>
<p>Ah OK, that just means this needs update <a href="https://leanprover.github.io/reference/tactics.html#basic-tactics" target="_blank" title="https://leanprover.github.io/reference/tactics.html#basic-tactics">https://leanprover.github.io/reference/tactics.html#basic-tactics</a></p>



<a name="178353759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353759">(Oct 17 2019 at 06:18)</a>:</h4>
<p>Ok. <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> <span aria-label="upper right" class="emoji emoji-2197" role="img" title="upper right">:upper_right:</span></p>



<a name="178353827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178353827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178353827">(Oct 17 2019 at 06:20)</a>:</h4>
<p>As posted on the issue, the quick fix for the scalar multiplication is</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">basic</span>

<span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">900</span><span class="o">]</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">has_scalar</span>
<span class="n">attribute</span> <span class="o">[</span><span class="kn">instance</span><span class="o">,</span> <span class="n">priority</span> <span class="mi">800</span><span class="o">]</span> <span class="n">mul_action</span><span class="bp">.</span><span class="n">to_has_scalar</span>

<span class="n">def</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">N</span> <span class="bp">&gt;</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span>
    <span class="bp">∃</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">,</span> <span class="n">abs</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">ε</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">lim_inf</span> <span class="n">a</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="n">C</span> <span class="err">•</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sorry</span>
</pre></div>



<a name="178354000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178354000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178354000">(Oct 17 2019 at 06:25)</a>:</h4>
<p>XD I see thanks</p>



<a name="178354226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178354226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178354226">(Oct 17 2019 at 06:31)</a>:</h4>
<p>Well, thanks for the fix but the <code>C • a</code> version feels at least 10x slower than than the lambda version</p>



<a name="178354233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178354233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178354233">(Oct 17 2019 at 06:31)</a>:</h4>
<p>I am sticking with the lambda version for now</p>



<a name="178356465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178356465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178356465">(Oct 17 2019 at 07:17)</a>:</h4>
<p>I need this lemma as my final step but I don't know how</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">ε</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
<span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="bp">&lt;</span> <span class="err">∥</span><span class="mi">1</span> <span class="bp">/</span> <span class="n">C</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span> <span class="bp">→</span> <span class="err">∥</span><span class="n">C</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="bp">&lt;</span> <span class="n">ε</span> <span class="o">:=</span>
<span class="k">begin</span>
<span class="n">intros</span><span class="o">,</span>
<span class="n">simp</span> <span class="n">at</span> <span class="bp">*</span><span class="o">,</span>
<span class="n">library_search</span>
<span class="kn">end</span>
</pre></div>



<a name="178356706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178356706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178356706">(Oct 17 2019 at 07:21)</a>:</h4>
<p>Yeah, those things are really annoying</p>



<a name="178356754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178356754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178356754">(Oct 17 2019 at 07:22)</a>:</h4>
<p>You'll need things like <code>norm_div</code> and <code>norm_nonneg</code> and <code>mul_lt_mul_left</code></p>



<a name="178356982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178356982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178356982">(Oct 17 2019 at 07:27)</a>:</h4>
<p>Hmm, let me try</p>



<a name="178356990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178356990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178356990">(Oct 17 2019 at 07:27)</a>:</h4>
<p>What should I import</p>



<a name="178357013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357013">(Oct 17 2019 at 07:27)</a>:</h4>
<p>I would think most of those things are already there</p>



<a name="178357087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357087">(Oct 17 2019 at 07:28)</a>:</h4>
<p>huh, I have <code>import analysis.normed_space.basic</code> but still <code>unknown identifier 'norm_div'</code></p>



<a name="178357158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357158">(Oct 17 2019 at 07:30)</a>:</h4>
<p><code>src/analysis/normed_space/basic.lean:@[simp] lemma norm_div {α : Type*} [normed_field α] (a b : α) : ∥a/b∥ = ∥a∥/∥b∥ :=</code></p>



<a name="178357171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357171">(Oct 17 2019 at 07:30)</a>:</h4>
<p>You might need to prefix it with something</p>



<a name="178357172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357172">(Oct 17 2019 at 07:30)</a>:</h4>
<p>Or open a namespace</p>



<a name="178357173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357173">(Oct 17 2019 at 07:30)</a>:</h4>
<p>k</p>



<a name="178357176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357176">(Oct 17 2019 at 07:30)</a>:</h4>
<p>Are you using VScode?</p>



<a name="178357201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357201">(Oct 17 2019 at 07:31)</a>:</h4>
<p>If so, hit <code>Ctrl-P</code> and then type <code>#norm_div</code>. You'll likely see the full name of the lemma</p>



<a name="178357277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178357277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178357277">(Oct 17 2019 at 07:32)</a>:</h4>
<p>found it, thank you!</p>



<a name="178358960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178358960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178358960">(Oct 17 2019 at 08:01)</a>:</h4>
<p>OMGGGGG I actually finished this</p>



<a name="178359067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178359067" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178359067">(Oct 17 2019 at 08:02)</a>:</h4>
<p>Now go and read the wiki page on Stockholm syndrome</p>



<a name="178359088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178359088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178359088">(Oct 17 2019 at 08:03)</a>:</h4>
<p>LOOOOOOOL</p>



<a name="178359334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178359334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178359334">(Oct 17 2019 at 08:07)</a>:</h4>
<p><a href="https://gist.github.com/louy2/4c5938960dd649d0e49aa53d3f56e07c" target="_blank" title="https://gist.github.com/louy2/4c5938960dd649d0e49aa53d3f56e07c">https://gist.github.com/louy2/4c5938960dd649d0e49aa53d3f56e07c</a></p>



<a name="178359405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178359405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178359405">(Oct 17 2019 at 08:08)</a>:</h4>
<p>Comments welcome!</p>



<a name="178360319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178360319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178360319">(Oct 17 2019 at 08:22)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> there is a proof without casing C=0</p>



<a name="178360464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178360464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178360464">(Oct 17 2019 at 08:25)</a>:</h4>
<p><code>let</code> should be used when the object is not <code>Prop</code>; otherwise use <code>have</code></p>



<a name="178360799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178360799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178360799">(Oct 17 2019 at 08:31)</a>:</h4>
<p>I chose <code>let</code> where I couldn't figure out how to use <code>have</code></p>



<a name="178360919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178360919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178360919">(Oct 17 2019 at 08:33)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">lim_inf_cons_mul_eq</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">lim_inf</span> <span class="n">a</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
<span class="bp">∀</span> <span class="o">(</span><span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">),</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">C</span> <span class="bp">*</span> <span class="n">a</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">assume</span> <span class="n">C</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span>
  <span class="n">unfold</span> <span class="n">lim_inf</span> <span class="n">at</span> <span class="n">H</span> <span class="err">⊢</span><span class="o">,</span> <span class="c">/-</span><span class="cm"> unfold definitions -/</span>
  <span class="k">assume</span> <span class="o">(</span><span class="n">ε</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">Hε</span> <span class="o">:</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">),</span>
  <span class="n">by_cases</span> <span class="n">HC</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">],</span>
    <span class="k">assume</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">Hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="mi">1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">HC</span><span class="o">,</span> <span class="c">/-</span><span class="cm"> ∥0 * a x - 0 * L∥ &lt; ε -/</span>
    <span class="n">simpa</span> <span class="kn">using</span> <span class="n">Hε</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">HinvC</span> <span class="o">:</span> <span class="n">C</span><span class="bp">⁻¹</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">inv_ne_zero</span> <span class="n">HC</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">HnC</span> <span class="o">:</span> <span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">abs_pos_of_ne_zero</span> <span class="n">HinvC</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">HnCε</span> <span class="o">:</span> <span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_pos&#39;</span> <span class="n">HnC</span> <span class="n">Hε</span><span class="o">,</span>
    <span class="n">specialize</span> <span class="n">H</span> <span class="o">(</span><span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span><span class="o">)</span> <span class="n">HnCε</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">H</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">N</span><span class="o">,</span> <span class="n">HN</span><span class="o">,</span> <span class="n">H</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">N</span><span class="o">,</span> <span class="n">HN</span><span class="o">],</span>
    <span class="k">assume</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">Hx</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">&gt;</span> <span class="n">N</span><span class="o">),</span>
    <span class="n">specialize</span> <span class="n">H</span> <span class="n">x</span> <span class="n">Hx</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_sub</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_lt_mul_left</span> <span class="n">HnC</span><span class="o">,</span> <span class="err">←</span> <span class="n">norm_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">inv_mul_cancel</span> <span class="n">HC</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
    <span class="n">exact</span> <span class="n">H</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>



<a name="178361076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178361076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178361076">(Oct 17 2019 at 08:36)</a>:</h4>
<p>Ah! <code>specialize</code>!</p>



<a name="178361105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178361105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178361105">(Oct 17 2019 at 08:37)</a>:</h4>
<p>I fiddled with pattern matching for quite a while too... so <code>rcases</code> is the answer</p>



<a name="178361122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178361122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178361122">(Oct 17 2019 at 08:37)</a>:</h4>
<p>Thank you so much!</p>



<a name="178361750"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178361750" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178361750">(Oct 17 2019 at 08:48)</a>:</h4>
<p>You can even merge those two lines if you want</p>



<a name="178362116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362116">(Oct 17 2019 at 08:54)</a>:</h4>
<p>What's the point of all these type ascriptions? Is it for readability?</p>



<a name="178362122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362122">(Oct 17 2019 at 08:54)</a>:</h4>
<p>Why specializing right before an exact?</p>



<a name="178362135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362135" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362135">(Oct 17 2019 at 08:54)</a>:</h4>
<p>Anyway, I did a quick compression pass, maybe you'll learn something by studying:</p>
<div class="codehilite"><pre><span></span><span class="kn">theorem</span> <span class="n">lim_inf_cons_mul_eq</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">L</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">lim_inf</span> <span class="n">a</span> <span class="n">L</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">C</span><span class="o">,</span> <span class="n">lim_inf</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">C</span> <span class="bp">*</span> <span class="n">a</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">intros</span> <span class="n">C</span> <span class="n">ε</span> <span class="n">Hε</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">HC</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">use</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">],</span>
    <span class="n">intros</span><span class="o">,</span>
    <span class="n">simpa</span> <span class="o">[</span><span class="n">HC</span><span class="o">]</span> <span class="kn">using</span> <span class="n">Hε</span> <span class="o">},</span>
  <span class="o">{</span> <span class="k">have</span> <span class="n">HnC</span> <span class="o">:</span> <span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">abs_pos_of_ne_zero</span> <span class="o">(</span><span class="n">inv_ne_zero</span> <span class="n">HC</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">HnCε</span> <span class="o">:</span> <span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="k">from</span> <span class="n">mul_pos&#39;</span> <span class="n">HnC</span> <span class="n">Hε</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">H</span> <span class="o">(</span><span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span><span class="o">)</span> <span class="n">HnCε</span> <span class="k">with</span> <span class="bp">⟨</span><span class="n">N</span><span class="o">,</span> <span class="n">HN</span><span class="o">,</span> <span class="n">H</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">N</span><span class="o">,</span> <span class="n">HN</span><span class="o">],</span>
    <span class="n">intros</span> <span class="n">x</span> <span class="n">Hx</span><span class="o">,</span>
    <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_sub</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_lt_mul_left</span> <span class="n">HnC</span><span class="o">,</span> <span class="err">←</span> <span class="n">norm_mul</span><span class="o">,</span> <span class="err">←</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="n">inv_mul_cancel</span> <span class="n">HC</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">],</span>
    <span class="n">exact</span> <span class="n">H</span> <span class="n">x</span> <span class="n">Hx</span> <span class="o">}</span>
<span class="kn">end</span>
</pre></div>



<a name="178362333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362333">(Oct 17 2019 at 08:58)</a>:</h4>
<p>Thanks! Yeah I had readability in mind. I want to share this with my maths friend and try to make it somewhat similar to what we would do by hand. So I wonder if the <code>rw</code> at the end can be done with <code>calc</code>.</p>



<a name="178362361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362361">(Oct 17 2019 at 08:58)</a>:</h4>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> In that case, you will love <code>show</code></p>



<a name="178362382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362382">(Oct 17 2019 at 08:59)</a>:</h4>
<p>You can write <code>show this = what * the * goal looks like</code>,</p>



<a name="178362417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362417">(Oct 17 2019 at 08:59)</a>:</h4>
<p>wow what LOL I couldn't tell what's different between <code>show</code> and <code>have</code></p>



<a name="178362531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362531">(Oct 17 2019 at 09:00)</a>:</h4>
<p><code>have</code> introduces a new assumption (but you have to prove it, of course)</p>



<a name="178362539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362539">(Oct 17 2019 at 09:01)</a>:</h4>
<p><code>show</code> restates the goal</p>



<a name="178362713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362713">(Oct 17 2019 at 09:03)</a>:</h4>
<p>Ahhhhhh I suspected that but didn't get it to work for some reason XD</p>



<a name="178362866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362866">(Oct 17 2019 at 09:05)</a>:</h4>
<p>"unification" <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> how far can I restate it</p>



<a name="178362912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178362912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178362912">(Oct 17 2019 at 09:05)</a>:</h4>
<p>So far I have only read proofs  where <code>show</code>  is at the end</p>



<a name="178363627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178363627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178363627">(Oct 17 2019 at 09:16)</a>:</h4>
<p>Sure you can use a calc block, ending like</p>



<a name="178363633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178363633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178363633">(Oct 17 2019 at 09:16)</a>:</h4>
<div class="codehilite"><pre><span></span>    <span class="n">intros</span> <span class="n">x</span> <span class="n">Hx</span><span class="o">,</span>
    <span class="k">calc</span>  <span class="err">∥</span> <span class="n">C</span> <span class="bp">*</span> <span class="n">a</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">C</span> <span class="bp">*</span> <span class="n">L</span><span class="err">∥</span>
        <span class="bp">=</span> <span class="err">∥</span> <span class="n">C</span> <span class="bp">*</span> <span class="o">(</span><span class="n">a</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span><span class="o">)</span> <span class="err">∥</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">mul_sub</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">∥</span> <span class="n">C</span> <span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">a</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">L</span> <span class="err">∥</span> <span class="o">:</span> <span class="n">norm_mul</span> <span class="bp">_</span> <span class="bp">_</span>
    <span class="bp">...</span> <span class="bp">&lt;</span> <span class="err">∥</span> <span class="n">C</span> <span class="err">∥</span> <span class="bp">*</span> <span class="o">(</span><span class="err">∥</span><span class="n">C</span><span class="bp">⁻¹</span><span class="err">∥</span> <span class="bp">*</span> <span class="n">ε</span><span class="o">)</span> <span class="o">:</span> <span class="n">mul_lt_mul_of_pos_left</span> <span class="o">(</span><span class="n">H</span> <span class="n">x</span> <span class="n">Hx</span><span class="o">)</span> <span class="o">(</span><span class="n">abs_pos_of_ne_zero</span> <span class="n">HC</span><span class="o">)</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="n">ε</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="o">[</span><span class="err">←</span> <span class="n">mul_assoc</span><span class="o">,</span> <span class="err">←</span> <span class="n">norm_mul</span><span class="o">,</span> <span class="n">mul_inv_cancel</span> <span class="n">HC</span><span class="o">,</span> <span class="n">norm_one</span><span class="o">,</span> <span class="n">one_mul</span><span class="o">]</span> <span class="o">}</span>
</pre></div>



<a name="178363645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178363645" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178363645">(Oct 17 2019 at 09:16)</a>:</h4>
<p>or many variation, depending where you want to split steps.</p>



<a name="178363757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178363757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178363757">(Oct 17 2019 at 09:18)</a>:</h4>
<p>But this is probably not so good if you want to impress people. Really Lean should need help in all those steps. Stating the steps is ok, by tactics should then crush the proofs. <span class="user-mention" data-user-id="110596">@Rob Lewis</span> is that in scope for polya?</p>



<a name="178364857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178364857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yufan Lou <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178364857">(Oct 17 2019 at 09:34)</a>:</h4>
<p>That's beautiful! Thank you! I can explain that Lean can help with all those, but I feel that without showing the steps my friends would just not know what Lean is doing.</p>



<a name="178365249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178365249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178365249">(Oct 17 2019 at 09:40)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="110596">Rob Lewis</span> is that in scope for polya?</p>
</blockquote>
<p>Depending what you have in the context, some of it is. But this looks primarily like a rewriting problem, not an arithmetic one.</p>



<a name="178378807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178378807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jeremy Avigad <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178378807">(Oct 17 2019 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="132222">@Yufan Lou</span> I'll make the correction to the reference manual (I didn't think anyone was using it any more, but I guess people are still finding it). It may take a little while. I have lists of corrections to deal with for TPIL and Logic and Proof as well. I just need to find an afternoon to work through them all.</p>



<a name="178426494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Math%20education%20question%20%28teaching%20textbook%20proofs%20in%20Lean%29/near/178426494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Math.20education.20question.20(teaching.20textbook.20proofs.20in.20Lean).html#178426494">(Oct 17 2019 at 22:10)</a>:</h4>
<blockquote>
<p>Thanks! Yeah I had readability in mind. I want to share this with my maths friend and try to make it somewhat similar to what we would do by hand. So I wonder if the <code>rw</code> at the end can be done with <code>calc</code>.</p>
</blockquote>
<p><span class="user-mention" data-user-id="132222">@Yufan Lou</span> if you want to make your code more appealing to your maths friends, you can try Patrick Massot's <a href="https://github.com/leanprover-community/format_lean" target="_blank" title="https://github.com/leanprover-community/format_lean">formatter</a>. I used it to make <a href="http://wwwf.imperial.ac.uk/~buzzard/docs/lean/sandwich.html" target="_blank" title="http://wwwf.imperial.ac.uk/~buzzard/docs/lean/sandwich.html">this Lean proof of the sandwich theorem</a> and I will be using it later on to make Lean notes for the course I am currently involved in. You click on stuff and it opens up Lean code -- click on the grey rectangles to view the tactic state at any point in the proof. In practice this just means adding a bunch of comments (in LaTeX) to your code.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>