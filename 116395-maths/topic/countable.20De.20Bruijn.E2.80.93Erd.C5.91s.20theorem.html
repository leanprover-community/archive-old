---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html">countable De Bruijn–Erdős theorem</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200298738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200298738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200298738">(Jun 09 2020 at 22:22)</a>:</h4>
<p>Greetings from the Berkeley Lean Seminar, where a bunch of us are learning Lean this summer.  As my first "real" project, I decided to formalize the Nash-Williams argument for the following version of the De Bruijn–Erdős theorem, that if a graph with countably many vertices has the property that every finite subgraph can be n-colored, then the graph can be n-colored.  This involved proving a specialization of Kőnig's lemma, that the inverse limit of an ℕ-indexed family of nonempty finite sets is nonempty.</p>
<p>So, fresh off the presses, here it is:</p>
<p>Coloring statement: <a href="https://github.com/kmill/lean-graphcoloring/blob/master/src/graph.lean#L347">https://github.com/kmill/lean-graphcoloring/blob/master/src/graph.lean#L347</a></p>
<p>Kőnig's lemma: <a href="https://github.com/kmill/lean-graphcoloring/blob/master/src/konig.lean#L153">https://github.com/kmill/lean-graphcoloring/blob/master/src/konig.lean#L153</a></p>
<p>The proofs are terrible, but, hey, it's proved.  (While any hints to clean things up would be appreciated, I don't want to harm any of your eyes with its very hacky state.  I feel like much of it was constructed through pure force of will.)</p>
<p>Many decisions were made for pedagogical reasons, to learn different parts of Lean.  Probably a more straightforward proof would be for the full De Bruijn–Erdős theorem, using ultrafilters to construct a coloring from a choice of coloring for each finite subgraph. (That is, a compactness argument.)</p>



<a name="200382504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200382504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200382504">(Jun 10 2020 at 06:34)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> Nice! We also wrote a bunch of graph colouring stuff on the <code>hedetniemi</code> branch. But it hasn't made it into mathlib master yet.</p>



<a name="200382546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200382546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200382546">(Jun 10 2020 at 06:34)</a>:</h4>
<p>Are you planning to PR this to mathlib?</p>



<a name="200382660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200382660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200382660">(Jun 10 2020 at 06:37)</a>:</h4>
<p>feature request: GUI for hedetniemi branch</p>



<a name="200382679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200382679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200382679">(Jun 10 2020 at 06:37)</a>:</h4>
<p>Assigned to: <span class="user-mention" data-user-id="110064">@Kenny Lau</span> <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span> <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span> <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="200396512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200396512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200396512">(Jun 10 2020 at 09:52)</a>:</h4>
<p>Very nice! I agree that the full theorem might be easier to prove -- either using ultrafilters, or Tychonoff, or Zorn (consider the poset of partial colourings that can be extended to cover any finite subgraph).</p>



<a name="200397353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200397353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200397353">(Jun 10 2020 at 10:02)</a>:</h4>
<p>I want to say that this follows from the compactness theorem from logic but I'm no expert in this area</p>



<a name="200397436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200397436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200397436">(Jun 10 2020 at 10:03)</a>:</h4>
<p>Who hacked Kevin's Zulip account <em>again</em>?</p>



<a name="200397528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200397528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200397528">(Jun 10 2020 at 10:04)</a>:</h4>
<p>We already had people posting type theory messages using his account and now logic?!</p>



<a name="200398101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200398101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200398101">(Jun 10 2020 at 10:11)</a>:</h4>
<p>Yes, compactness theorem for propositional logic is basically same thing as Tychonoff for products of finite spaces</p>



<a name="200405778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200405778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dave <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200405778">(Jun 10 2020 at 11:51)</a>:</h4>
<p>^This is not totally true. Tychonoff implies it, yes, but you only need Boolean prime ideal theorem (they are equivalent), which is weaker than choice and so weaker than Tychonoff.</p>



<a name="200414071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200414071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Wärn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200414071">(Jun 10 2020 at 13:14)</a>:</h4>
<p>Right, I'm saying it's equivalent to "product of finite spaces is compact", which is all you need for De Bruijn–Erdos</p>



<a name="200444704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200444704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200444704">(Jun 10 2020 at 16:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  Yes, there is a pretty straightforward proof using the compactness theorem for first order logic. That proof also works for uncountable graphs, unlike the Konig's lemma proof (but like the Tychonoff proof).</p>



<a name="200616821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200616821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200616821">(Jun 11 2020 at 22:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem/near/200382546">said</a>:</p>
<blockquote>
<p>Are you planning to PR this to mathlib?</p>
</blockquote>
<p>I'm willing to create PRs, but I'm not exactly sure what the criteria for inclusion is.  I've at least now factored out and cleaned up some possibly useful results in <code>mylist</code>, <code>myoption</code>, and <code>myfintype</code> (<a href="https://github.com/kmill/lean-graphcoloring/tree/master/src">https://github.com/kmill/lean-graphcoloring/tree/master/src</a>).  The proof of this specialization of Konig's lemma has also been cleaned up a bit.</p>



<a name="200634758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634758">(Jun 12 2020 at 04:46)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> The criteria for inclusion are: it should follow the style guidelines, and it should not be "crackpot". If you cook up a definition of <code>boolala</code>s and prove 10.000 lines of code about them, without any connection to the outside world... then we probably aren't very interested. (Clearly, this doesn't apply to whay you've done.)<br>
Also, when you PR, expect to get 50 comments about how to improve things... they're meant to help you (-;</p>



<a name="200634885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634885">(Jun 12 2020 at 04:50)</a>:</h4>
<p>I don't know, <code>boolala</code> sounds pretty interesting if there is that much to say about it</p>



<a name="200634888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634888">(Jun 12 2020 at 04:50)</a>:</h4>
<p>If it's "recognisably maths", it passes the interest criterion. :-)</p>



<a name="200634908"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634908" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634908">(Jun 12 2020 at 04:51)</a>:</h4>
<p>I've been wondering about whether to submit my <a href="https://github.com/digama0/vc0">formalization of the type theory of C</a> to mathlib. It's definitely starting to rot but it's also very far removed from everything else currently in mathlib</p>



<a name="200634960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634960">(Jun 12 2020 at 04:52)</a>:</h4>
<p>Why don't you start a <code>computer_science/</code> top-level directory?</p>



<a name="200634967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/200634967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#200634967">(Jun 12 2020 at 04:53)</a>:</h4>
<p>You could always put it in <code>archive/</code></p>



<a name="242458713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242458713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242458713">(Jun 12 2021 at 16:14)</a>:</h4>
<p>After about a year almost exactly, mathlib now has a generalized version of Kőnig's lemma integrated into the category theory library: <a href="https://leanprover-community.github.io/mathlib_docs/find/nonempty_sections_of_fintype_inverse_system">docs#nonempty_sections_of_fintype_inverse_system</a></p>
<p>At this rate, there will be a PR for the De Bruijn–Erdős theorem by June 2022 <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="242458916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242458916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242458916">(Jun 12 2021 at 16:18)</a>:</h4>
<p>Isn't this theorem true with <code>J</code> satisfying <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.is_cofiltered">docs#category_theory.is_cofiltered</a> ?</p>



<a name="242459471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242459471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242459471">(Jun 12 2021 at 16:28)</a>:</h4>
<p>Hah! I just saw your comment <span class="user-mention" data-user-id="306601">@Kyle Miller</span> </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">TODO</span><span class="o">:</span> <span class="n">The</span> <span class="kd">theorem</span> <span class="n">hold</span> <span class="n">also</span> <span class="k">in</span> <span class="n">the</span> <span class="n">case</span> <span class="bp">`</span><span class="o">{</span><span class="n">J</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">J</span><span class="o">]</span> <span class="o">[</span><span class="n">is_cofiltered</span> <span class="n">J</span><span class="o">]</span><span class="bp">`.</span>
</code></pre></div>



<a name="242459635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242459635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242459635">(Jun 12 2021 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> Yeah, I would have liked this generalized version, but as far as I understood the entries on the Stacks project, you reduce to the directed order case and then relate the limit you get there to the original cofiltered limit.  I wasn't sure how to organize this, so it's a TODO for now.</p>



<a name="242459659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242459659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242459659">(Jun 12 2021 at 16:32)</a>:</h4>
<p>I think there is just a direct proof... I'll see if I can generalize</p>



<a name="242459788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242459788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242459788">(Jun 12 2021 at 16:35)</a>:</h4>
<p>Not only would it be more general, but it should clean up the universe and instance wrangling.  There were two conflicting instances: the <code>small_category</code> from the <code>directed_order</code> applied to the <code>ulift</code> of <code>J</code>, vs the <code>category</code> from the <code>ulift</code> of the <code>small_category</code> from the <code>directed_order</code> on <code>J</code>.</p>



<a name="242459857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242459857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242459857">(Jun 12 2021 at 16:37)</a>:</h4>
<p>A <code>[is_cofiltered J] : is_cofiltered (ulift J)</code> instance would simplify this</p>



<a name="242468075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242468075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242468075">(Jun 12 2021 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="306601">@Kyle Miller</span> I generalized this in the branch <a href="https://github.com/leanprover-community/mathlib/tree/koenig_generalize">branch#koenig_generalize</a> but it needs some golfing and some cleanup which I don't have time for right now.</p>



<a name="242468317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242468317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242468317">(Jun 12 2021 at 19:47)</a>:</h4>
<p>The <code>small_category J</code> condition can probably be relaxed further to just <code>category J</code></p>



<a name="242468489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242468489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242468489">(Jun 12 2021 at 19:49)</a>:</h4>
<p>(Note that the small category condition is required to have a <code>Top.limit_cone F</code> in <code>nonempty_limit_cone_of_compact_t2_inverse_system</code>)</p>



<a name="242635669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242635669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242635669">(Jun 14 2021 at 17:52)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="243562">@Adam Topaz</span>! That was a nice and clean generalization -- I had tried a direct proof, but the right notion of a partial section eluded me.</p>
<p>I've refactored things, updated documentation, and generalized the <code>fintype</code> version to <code>category J</code>.</p>



<a name="242635844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242635844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242635844">(Jun 14 2021 at 17:53)</a>:</h4>
<p>The <code>ulift.small_category</code> instance seemed like it might be problematic, since it conflicts with the <code>category_theory.ulift_category</code> instance (different morphism types).  I replaced it with something to lift a category to a universe where it's a small category:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">as_small</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">α</span><span class="o">]</span> <span class="o">:=</span> <span class="n">ulift.</span><span class="o">{</span><span class="n">max</span> <span class="n">u</span> <span class="n">v</span><span class="o">}</span> <span class="n">α</span>

<span class="kd">instance</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">[</span><span class="n">category.</span><span class="o">{</span><span class="n">v</span><span class="o">}</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">small_category</span> <span class="o">(</span><span class="n">as_small</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">hom</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span> <span class="n">Y</span><span class="o">,</span> <span class="n">ulift.</span><span class="o">{</span><span class="n">max</span> <span class="n">u</span> <span class="n">v</span><span class="o">}</span> <span class="o">(</span><span class="n">X.down</span> <span class="bp">⟶</span> <span class="n">Y.down</span><span class="o">),</span>
  <span class="n">id</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span><span class="o">,</span> <span class="o">⟨</span><span class="mi">𝟙</span> <span class="n">_</span><span class="o">⟩,</span>
  <span class="n">comp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="o">⟨</span><span class="n">f.down</span> <span class="bp">≫</span> <span class="n">g.down</span><span class="o">⟩</span> <span class="o">}</span>
</code></pre></div>
<p>Not sure if this makes sense to have, but it helped with the <code>small_category</code> to <code>category</code> generalization.</p>



<a name="242637136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242637136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242637136">(Jun 14 2021 at 18:03)</a>:</h4>
<p>Yes, you're right about the ulift category instance. The <code>as_small</code> thing looks like a good solution. It should go somewhere in the category theory folder!</p>



<a name="242637268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242637268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242637268">(Jun 14 2021 at 18:04)</a>:</h4>
<p>Maybe in <code>category_theory/category/ulift</code>?</p>



<a name="242638455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242638455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242638455">(Jun 14 2021 at 18:14)</a>:</h4>
<p>Similarly the <code>directed_order</code> to <code>is_(co)filtered</code> instance (and its various variants) should probably go in <code>category_theory/filtered</code>. Do we want to add a <code>codirected_order</code> class?</p>



<a name="242644547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242644547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242644547">(Jun 14 2021 at 19:04)</a>:</h4>
<p>Do you have any thoughts about having an abbreviation for <code>Σ' (X Y : C) (mX : X ∈ O) (mY : Y ∈ O), X ⟶ Y</code> in <code>category_theory/filtered</code>?  I was using a local abbreviation <code>finite_diagram_arrow O</code> for it, but an argument can be made that it doesn't need a name. (Pinging <span class="user-mention" data-user-id="110087">@Scott Morrison</span>)</p>



<a name="242645300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242645300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242645300">(Jun 14 2021 at 19:10)</a>:</h4>
<p>Hmmm... I don't know. TBH I only used it because it's the format needed for things like <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.is_cofiltered.inf">docs#category_theory.is_cofiltered.inf</a></p>



<a name="242645395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242645395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242645395">(Jun 14 2021 at 19:11)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I'd worry about duplicate code with directed and codirected orders, but at least for now there really aren't any theorems about directed orders.  Given that there are both filtered and cofiltered categories already, it seems like it would make sense to add a <code>codirected_order</code> class (and I wouldn't mind dropping all the <code>op</code>'s!).</p>



<a name="242645527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242645527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242645527">(Jun 14 2021 at 19:12)</a>:</h4>
<p>I don't know if it makes sense to introduce an abbreviation for this Sigma type. Maybe <span class="user-mention" data-user-id="110087">@Scott Morrison</span> has an opinion?</p>



<a name="242645942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242645942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242645942">(Jun 14 2021 at 19:15)</a>:</h4>
<p>Do we have a <code>directed_order</code> instance given a <code>semilattice_sup</code> (we should!)? If so, these sort of instances in category_theory/filtered could be generalized</p>



<a name="242646449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242646449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242646449">(Jun 14 2021 at 19:19)</a>:</h4>
<p>According to the mathlib docs, the only <a href="https://leanprover-community.github.io/mathlib_docs/find/directed_order">docs#directed_order</a> instance is the one from a <code>linear_order</code></p>



<a name="242646576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242646576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242646576">(Jun 14 2021 at 19:20)</a>:</h4>
<p>Ah. Well, that's another missing instance then...</p>



<a name="242646747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242646747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242646747">(Jun 14 2021 at 19:21)</a>:</h4>
<p>I don't have much experience working with <a href="https://leanprover-community.github.io/mathlib_docs/find/order_dual">docs#order_dual</a> but working with opposites in category theory is annoying enough that I do think it could be useful to have a codirected order class</p>



<a name="242646869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242646869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242646869">(Jun 14 2021 at 19:22)</a>:</h4>
<p>(I don't even know what the opposite order is called...)</p>



<a name="242647022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242647022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242647022">(Jun 14 2021 at 19:23)</a>:</h4>
<p>It's called <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span></span></span></span>, you may have known this at one point.</p>



<a name="242648330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/countable%20De%20Bruijn%E2%80%93Erd%C5%91s%20theorem/near/242648330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/countable.20De.20Bruijn.E2.80.93Erd.C5.91s.20theorem.html#242648330">(Jun 14 2021 at 19:34)</a>:</h4>
<p>Oh wow, I remember that ancient rune</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>