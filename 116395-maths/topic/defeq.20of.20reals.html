---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/defeq.20of.20reals.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html">defeq of reals</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202787621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787621">(Jul 03 2020 at 10:09)</a>:</h4>
<p>No cheating and firing up Lean, now! </p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">2</span> <span class="o">:=</span> <span class="n">rfl</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">4</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>


<p>Which of these proofs do you think works? (a) <code>2 + 0 = 2</code>, (b) <code>0 + 2 = 2</code> and (c) <code>2 + 2 = 4</code>. I'm not asserting that precisely one works. I will tell you that at least one works though.</p>



<a name="202787711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787711">(Jul 03 2020 at 10:10)</a>:</h4>
<p>all three should work?</p>



<a name="202787738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787738">(Jul 03 2020 at 10:11)</a>:</h4>
<p>Whether or not they work is an implementation issue. They do not all work.</p>



<a name="202787755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787755">(Jul 03 2020 at 10:11)</a>:</h4>
<p>The final one</p>



<a name="202787785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787785">(Jul 03 2020 at 10:11)</a>:</h4>
<p>0 is broken for some reason. Positive integers are <code>rfl</code>ing fine.</p>



<a name="202787841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787841">(Jul 03 2020 at 10:12)</a>:</h4>
<p>Because <code>4</code> is <code>bit0 2</code></p>



<a name="202787849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787849">(Jul 03 2020 at 10:12)</a>:</h4>
<p>the final one obviously works, but I'm wondering whether 2+0 would correspond to the Cauchy sequence <code>fun n, (2+0 : \Q)</code> and would therefore be defeq to <code>fun n, (2 : \Q)</code></p>



<a name="202787866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787866">(Jul 03 2020 at 10:12)</a>:</h4>
<p>And the reals are irreducible now so the other two don't work.</p>



<a name="202787900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787900">(Jul 03 2020 at 10:12)</a>:</h4>
<p>but <code>rfl</code> still works with irreducible right</p>



<a name="202787905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202787905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202787905">(Jul 03 2020 at 10:12)</a>:</h4>
<p><code>4 + 1 = 5</code> works and <code>1 + 4 = 5</code> doesn't.</p>



<a name="202788022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202788022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202788022">(Jul 03 2020 at 10:14)</a>:</h4>
<p>There's some funny way of getting <code>rfl</code> to work with irreducible via <code>tactic.add_decl</code> or something like that.</p>



<a name="202788026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202788026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202788026">(Jul 03 2020 at 10:14)</a>:</h4>
<p><code>0 + 0 = 0</code> isn't <code>rfl</code> (for <code>real</code> obviously: works fine for <code>rat</code>)</p>



<a name="202788243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/defeq%20of%20reals/near/202788243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rob Lewis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/defeq.20of.20reals.html#202788243">(Jul 03 2020 at 10:17)</a>:</h4>
<p>Chris is exactly right. The only reason <code>rfl</code> will work for you on real numerals is when the numerals unfold to the same sum of 0 and 1. You can change some reducibility settings to make more work.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="n">local</span> <span class="n">attribute</span> <span class="o">[</span><span class="n">semireducible</span><span class="o">]</span> <span class="n">real</span> <span class="n">real</span><span class="bp">.</span><span class="n">comm_ring_aux</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">rfl</span>

<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">4</span> <span class="bp">=</span> <span class="mi">5</span> <span class="o">:=</span> <span class="n">rfl</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>