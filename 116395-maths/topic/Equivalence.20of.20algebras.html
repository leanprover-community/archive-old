---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Equivalence.20of.20algebras.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html">Equivalence of algebras</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196684284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196684284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196684284">(May 06 2020 at 19:27)</a>:</h4>
<p>Mathlib has R-algebra morphisms but I cannot find a definition for R-algebra equivalences, and I'd like to make use of the concept. Am I missing something, or should I just PR a definition + basic properties?</p>



<a name="196684970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196684970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196684970">(May 06 2020 at 19:31)</a>:</h4>
<p>I was about to say "aargh no, all that algebra stuff is built on <code>is_ring_hom</code> which needs to be replaced by <code>ring_hom</code> first", but I see that <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> has refactored!</p>



<a name="196685171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685171">(May 06 2020 at 19:32)</a>:</h4>
<p>Well I can hold off of course.</p>



<a name="196685271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685271">(May 06 2020 at 19:33)</a>:</h4>
<p>No I can't see any reason not to make a PR (<span class="user-mention" data-user-id="112680">@Johan Commelin</span> and <span class="user-mention" data-user-id="110064">@Kenny Lau</span> might want to comment though). Making an "equiv" PR is actually a rather nice kind of PR to make.</p>



<a name="196685351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685351">(May 06 2020 at 19:34)</a>:</h4>
<p>OK, I'll go for it and if someone disagrees I can just close the PR.</p>



<a name="196685412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685412">(May 06 2020 at 19:34)</a>:</h4>
<p>You prove <a href="http://algebra_equiv.id" title="http://algebra_equiv.id">algebra_equiv.id</a> and algebra_equiv.comp, and a few more bits and bobs and it's all over.</p>



<a name="196685460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685460">(May 06 2020 at 19:34)</a>:</h4>
<p>Yep</p>



<a name="196685465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685465">(May 06 2020 at 19:34)</a>:</h4>
<p>You should look to see what is done with e.g. mul_equiv first.</p>



<a name="196685482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685482">(May 06 2020 at 19:34)</a>:</h4>
<p>Thanks, will do.</p>



<a name="196685649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685649">(May 06 2020 at 19:35)</a>:</h4>
<p>You should extend <code>ring_equiv</code> copying an extra axiom from <code>alg_hom</code>.</p>



<a name="196685749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685749">(May 06 2020 at 19:36)</a>:</h4>
<p>Thanks! I actually have a working local definition and that's what I did.</p>



<a name="196685791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685791">(May 06 2020 at 19:36)</a>:</h4>
<p>OK, then I'll wait till you PR it.</p>



<a name="196685870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685870">(May 06 2020 at 19:37)</a>:</h4>
<p>I wish we had better support for superstructures or some tactic to copy standard <code>equiv</code> theory to a new kind of <code>*_equiv</code>.</p>



<a name="196685873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685873">(May 06 2020 at 19:37)</a>:</h4>
<p>Oh wait, sorry that's not what I did.</p>



<a name="196685879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685879">(May 06 2020 at 19:37)</a>:</h4>
<p>But I can do that.</p>



<a name="196685893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685893">(May 06 2020 at 19:37)</a>:</h4>
<p>What did you do?</p>



<a name="196685896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685896">(May 06 2020 at 19:37)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">set_option</span> <span class="n">old_structure_cmd</span> <span class="n">true</span>
<span class="kn">structure</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">equiv</span> <span class="kn">extends</span> <span class="n">A</span> <span class="bp">→</span><span class="err">ₐ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">A&#39;</span><span class="o">,</span> <span class="n">A</span> <span class="err">≃</span> <span class="n">A&#39;</span> <span class="c1">-- Probably better to extend ≃+*</span>
</code></pre></div>



<a name="196685971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685971">(May 06 2020 at 19:38)</a>:</h4>
<p>Note that <code>alg_hom</code> includes unnecessary axioms like <code>map_zero'</code></p>



<a name="196685988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196685988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196685988">(May 06 2020 at 19:38)</a>:</h4>
<p>Yeah I did notice that.</p>



<a name="196686056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196686056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196686056">(May 06 2020 at 19:39)</a>:</h4>
<p>OK I have one other bit of work to finish first and then I'll pick this up and extend <code>ring_equiv</code> as you suggest.</p>



<a name="196686165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196686165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196686165">(May 06 2020 at 19:39)</a>:</h4>
<p>BTW, other <code>equiv</code>s follow naming scheme <code>*_equiv</code>, not <code>*.equiv</code>. So it should be <code>alg_equiv</code> to match <code>alg_hom</code>.</p>



<a name="196701875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196701875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196701875">(May 06 2020 at 21:41)</a>:</h4>
<p>I got unlucky and had to recompile Mathlib (which takes my 2013 Macbook 75 minutes!) so I'll have to wait till tomorrow to pick this up.</p>



<a name="196701985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196701985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196701985">(May 06 2020 at 21:42)</a>:</h4>
<p><code>leanproject up</code></p>



<a name="196702010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702010">(May 06 2020 at 21:42)</a>:</h4>
<p>I'm a bit afraid of that command!</p>



<a name="196702056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702056">(May 06 2020 at 21:43)</a>:</h4>
<p>Does it work when the corresponding branch (master / lean.3.10.0) is still building on GH?</p>



<a name="196702083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702083">(May 06 2020 at 21:43)</a>:</h4>
<p>yes</p>



<a name="196702128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702128">(May 06 2020 at 21:44)</a>:</h4>
<p>Oh wow; so I could have immediately unblocked myself. Thanks.</p>



<a name="196702203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702203">(May 06 2020 at 21:44)</a>:</h4>
<p>Well, I did other productive non-Mathlib things anyway :)</p>



<a name="196702856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196702856" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196702856">(May 06 2020 at 21:50)</a>:</h4>
<p>I think the oleans which come from the azure server are the ones which were built using the github CI.</p>



<a name="196770174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196770174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196770174">(May 07 2020 at 13:32)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/2625" title="https://github.com/leanprover-community/mathlib/pull/2625">https://github.com/leanprover-community/mathlib/pull/2625</a></p>



<a name="196770196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196770196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196770196">(May 07 2020 at 13:32)</a>:</h4>
<p>And now lunch is over and I must get back to work</p>



<a name="196804796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196804796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196804796">(May 07 2020 at 17:35)</a>:</h4>
<p>We definitely need a tactic to import lemmas from a substructure while replacing <code>coe_fn</code> instance. I often find out that this or that structure extending <code>equiv</code> lacks a lemma like <code>apply_symm_apply</code>. In the meantime, <span class="user-mention" data-user-id="240862">@Oliver Nash</span>  could you please add (some of) the following lemmas to your PR:</p>
<ul>
<li><code>map_add</code>, <code>map_zero</code>, <code>map_mul</code>, <code>map_one</code>, <code>map_neg</code>, <code>map_sub</code>, <code>commutes</code>;</li>
<li><code>apply_symm_apply</code>, <code>symm_apply_apply</code>, <code>injective</code>, <code>bijective</code>, <code>surjective</code>;</li>
<li>coercion to <code>alg_hom</code> with a <code>norm_cast</code> lemma?</li>
</ul>



<a name="196826984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Equivalence%20of%20algebras/near/196826984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Equivalence.20of.20algebras.html#196826984">(May 07 2020 at 20:36)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> this is excellent feedback which I really appreciate. I will add (hopefully all) of these lemmas + definition, though it might not happen till the weekend.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>