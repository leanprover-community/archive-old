---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html">Polynomial composition and map commute</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206512257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206512257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206512257">(Aug 10 2020 at 20:57)</a>:</h4>
<p>For the Berkeley Galois theory project, we had to use the following fact: if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> are polynomials over a ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ι</span></span></span></span> is a map from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> to a ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ι</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>ι</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>ι</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\iota(f(g)) = (\iota(f))(\iota(g))</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ι</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">ι</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">ι</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>. We couldn't find this fact in mathlib, so we proved it <a href="https://github.com/pglutz/galois_theory/blob/master/src/primitive_element.lean#L103">here</a>. Is it really true that this is not in mathlib? If not, then I will make a PR to add it.</p>



<a name="206512515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206512515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206512515">(Aug 10 2020 at 20:59)</a>:</h4>
<p>Also, is <a href="https://github.com/pglutz/galois_theory/blob/master/src/primitive_element.lean#L72">this</a> lemma already in mathlib? It's almost exactly the same as <code>polynomial.map_prod</code> but for sums instead of products.</p>



<a name="206518386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206518386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206518386">(Aug 10 2020 at 21:56)</a>:</h4>
<p>can <code>to_additive</code> generate your <code>map_sum</code> from <code>map_prod</code>?</p>



<a name="206519241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206519241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206519241">(Aug 10 2020 at 22:06)</a>:</h4>
<p>I don't know how <code>to_additive</code> works. Is there somewhere I can read about it or see examples?</p>



<a name="206519271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206519271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206519271">(Aug 10 2020 at 22:07)</a>:</h4>
<p>do you just tag map_prod with to_additive?</p>



<a name="206519768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206519768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206519768">(Aug 10 2020 at 22:13)</a>:</h4>
<p>searching to_additive in github shows examples:<br>
<a href="https://github.com/leanprover-community/mathlib/search?q=to_additive&amp;unscoped_q=to_additive">https://github.com/leanprover-community/mathlib/search?q=to_additive&amp;unscoped_q=to_additive</a></p>



<a name="206529395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206529395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206529395">(Aug 11 2020 at 00:33)</a>:</h4>
<p>@[to_additive] probably starts to become unreliable in the polynomial world. When both multiplicative and additive structures are simultaneously present (...pretty much the definition of talking about polynomials...) it often requires more hand-holding than is worth it.</p>



<a name="206529412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206529412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206529412">(Aug 11 2020 at 00:33)</a>:</h4>
<p>But yes, please PR <code>polynomial.map_comp</code>!</p>



<a name="206530244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206530244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206530244">(Aug 11 2020 at 00:46)</a>:</h4>
<p>My initial reaction was that it wouldn't work (because addition and multiplication of polynomials are totally different things) but if it works by just making certain textual changes to the statement of the proof of the lemma then I guess it might actually work in this case after all.</p>



<a name="206537591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Polynomial%20composition%20and%20map%20commute/near/206537591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Lutz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Polynomial.20composition.20and.20map.20commute.html#206537591">(Aug 11 2020 at 03:45)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/3736">#3736</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>