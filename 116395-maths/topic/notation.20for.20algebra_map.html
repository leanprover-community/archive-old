---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/notation.20for.20algebra_map.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html">notation for algebra_map</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="267033987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267033987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267033987">(Jan 06 2022 at 07:55)</a>:</h4>
<p>Random thought. Should we have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`↑ₐ`</span> <span class="o">:=</span> <span class="n">algebra_map</span> <span class="n">_</span> <span class="n">_</span>
</code></pre></div>
<p>• Pro: in informal maths, this is usually an invisible map. <code>↑ₐ</code> is a lot more invisible than <code>algebra_map _ _</code><br>
• Con: It's pretty invisible to new users. Yet another mysterioglyph that needs to be learned and deciphered.</p>



<a name="267042837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267042837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267042837">(Jan 06 2022 at 09:57)</a>:</h4>
<p>I made a thread about this maybe 6 months ago</p>



<a name="267043116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267043116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267043116">(Jan 06 2022 at 10:00)</a>:</h4>
<p>I'm not sure about notation for this. When we're creating something resembling conventional mathematical notation then I see the case but I don't recall ever seeing notation for <code>algebra_map</code> in conventional mathematics (except maybe <code>•</code>).</p>



<a name="267043404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267043404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267043404">(Jan 06 2022 at 10:02)</a>:</h4>
<p>In conventional mathematics we don't write <code>A →ₐ[R] B</code> or <code>↑n * r</code> either though, right?</p>



<a name="267043486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267043486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267043486">(Jan 06 2022 at 10:03)</a>:</h4>
<p>No, we write things like "A -&gt; B is an R-algebra homomorphism" which is far worse</p>



<a name="267043492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267043492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267043492">(Jan 06 2022 at 10:03)</a>:</h4>
<p>So both <code>↑</code> and <code>ₐ</code> are already "lean noise"</p>



<a name="267043551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267043551" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267043551">(Jan 06 2022 at 10:04)</a>:</h4>
<p>or "efficient compression"</p>



<a name="267044585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267044585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267044585">(Jan 06 2022 at 10:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20algebra_map/near/267043404">said</a>:</p>
<blockquote>
<p>In conventional mathematics we don't write <code>A →ₐ[R] B</code> or <code>↑n * r</code> either though, right?</p>
</blockquote>
<p>I could be blind to the craziness of familiar notation (both formal and informal) but at least for me the distance between our <code>A →ₐ[R] B</code> and the conventional <code>A → B</code> (where context disambiguates) is smaller than between <code>↑ₐ</code> and what we'd write informally (e.g, <code>•</code> or <code>f</code> or nothing).</p>



<a name="267044669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267044669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267044669">(Jan 06 2022 at 10:16)</a>:</h4>
<p>I think I'd write nothing at all for <code>algebra_map</code> -- if B is an A-algebra then elements of A "are" elements of B.</p>



<a name="267044682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267044682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267044682">(Jan 06 2022 at 10:17)</a>:</h4>
<p>Right.</p>



<a name="267044735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267044735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267044735">(Jan 06 2022 at 10:17)</a>:</h4>
<p>I'm not against <code>↑ₐ</code> though, I enjoy using fewer characters. I just don't want Mathlib to become as opaque to new users as APL.</p>



<a name="267045000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045000">(Jan 06 2022 at 10:21)</a>:</h4>
<p>ι gεt θat <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> APL φτɯ</p>



<a name="267045114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045114">(Jan 06 2022 at 10:22)</a>:</h4>
<p>There was the old proposal to get rid of <code>algebra_map</code> and just use <code>a • b</code> everywhere. Maybe that's the best option after all.</p>



<a name="267045262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045262">(Jan 06 2022 at 10:24)</a>:</h4>
<p>I'm confused. Surely \bub can only be used when doing algebra_map a * b? What if I want to do (algebra_map a)^2?</p>



<a name="267045290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045290">(Jan 06 2022 at 10:24)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/algebra_map">docs#algebra_map</a></p>



<a name="267045318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045318">(Jan 06 2022 at 10:24)</a>:</h4>
<p><code>(a • 1)^2</code> <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="267045333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045333">(Jan 06 2022 at 10:25)</a>:</h4>
<p>Great</p>



<a name="267045362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045362">(Jan 06 2022 at 10:25)</a>:</h4>
<p>It's still shorter <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="267045386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045386">(Jan 06 2022 at 10:25)</a>:</h4>
<p>I'm still holding out hope that someone will change the definition of <code>algebra</code> so that it extends <code>module</code> and does not include the map.</p>



<a name="267045445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045445">(Jan 06 2022 at 10:26)</a>:</h4>
<p>But we still need to refer to the map sometimes</p>



<a name="267045485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045485">(Jan 06 2022 at 10:27)</a>:</h4>
<p>Yes but it will be definitionally shorter which should help.</p>



<a name="267045656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045656">(Jan 06 2022 at 10:29)</a>:</h4>
<p>Or more precisely we won't write <code>algebra_map</code> for the times when we don't care that the scalar action is also a multiplicative homomorphism.</p>



<a name="267045765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267045765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267045765">(Jan 06 2022 at 10:30)</a>:</h4>
<p>Anyway I've ruined this thread. There are good reasons to consider <code>↑ₐ</code>. I'm not against it, just on the fence.</p>



<a name="267047796"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267047796" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267047796">(Jan 06 2022 at 10:54)</a>:</h4>
<p>What if we made a class extending <code>has_coe</code>(<code>_t</code>?) stating the coercion is a ring hom? This could replace the uses of <code>algebra</code> where we want <code>algebra_map</code> to be defeq to something concrete, and it gives nice and easy <code>↑</code> notation for the easy case. We'd still want some notation for the bundled map, but that should occur less (I hope!) than the unbundled, applied coercion.</p>



<a name="267047881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267047881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267047881">(Jan 06 2022 at 10:55)</a>:</h4>
<p>The downside is that it would duplicate a bunch of ring hom API.</p>



<a name="267047999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267047999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267047999">(Jan 06 2022 at 10:56)</a>:</h4>
<p>On the other hand, we'll deduplicate e.g. <a href="https://leanprover-community.github.io/mathlib_docs/find/int.cast_mul">docs#int.cast_mul</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/subring.coe_mul">docs#subring.coe_mul</a>, etc.</p>



<a name="267048029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048029" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048029">(Jan 06 2022 at 10:57)</a>:</h4>
<p>We'd still need a typeclass to say that smul and the coercion are consistent though</p>



<a name="267048110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048110">(Jan 06 2022 at 10:58)</a>:</h4>
<p>Either that, or we make a <code>has_ring_coe.to_algebra</code> instance.</p>



<a name="267048127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048127">(Jan 06 2022 at 10:58)</a>:</h4>
<p>That would generate data which is bad</p>



<a name="267048287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048287">(Jan 06 2022 at 11:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="238446">Anne Baanen</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20algebra_map/near/267047796">said</a>:</p>
<blockquote>
<p>What if we made a class extending <code>has_coe</code>(<code>_t</code>?) stating the coercion is a ring hom?</p>
</blockquote>
<p>Could this just be an extra part of the existing <code>[algebra A B]</code>?</p>



<a name="267048346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048346">(Jan 06 2022 at 11:00)</a>:</h4>
<p>Then we would automatically have compatibility with <code>smul</code>, etc...</p>



<a name="267048373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048373">(Jan 06 2022 at 11:00)</a>:</h4>
<p>Yes, that's what algebra.smul_def is today</p>



<a name="267048487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048487">(Jan 06 2022 at 11:02)</a>:</h4>
<p>It would mean that every search for a <code>coe</code> between <code>A</code> and <code>B</code> would fire <code>[semiring A] [semiring B] [algebra A B]</code>. Is that a problem?</p>



<a name="267048512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048512">(Jan 06 2022 at 11:02)</a>:</h4>
<p>(Here's the old thread: <a href="#narrow/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60/near/216356787">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Notation.20for.20.60algebra_map.60.20.2F.20.60algebra.2Eof_id.60/near/216356787</a>)</p>



<a name="267048759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048759">(Jan 06 2022 at 11:05)</a>:</h4>
<p>If we go down this route, I would envisage something like:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">has_ring_hom_coe</span> <span class="kd">extends</span> <span class="n">ring_hom</span> <span class="n">A</span> <span class="n">B.</span>

<span class="kd">instance</span> <span class="o">[</span><span class="n">has_ring_hom_coe</span> <span class="n">A</span> <span class="n">B</span><span class="o">]</span> <span class="o">:</span> <span class="n">has_coe_t</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="c1">-- just like we have today, but `ring_hom` is replaced with `has_ring_hom_coe`</span>
<span class="kd">class</span> <span class="n">algebra</span> <span class="kd">extends</span> <span class="n">has_ring_hom_coe</span> <span class="n">R</span> <span class="n">A</span> <span class="o">:=</span>
<span class="c1">-- the same fields we have today</span>
</code></pre></div>



<a name="267048809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267048809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267048809">(Jan 06 2022 at 11:06)</a>:</h4>
<p>To summarize, I guess this is the "yes, let's have notation and it should just be <code>coe</code>" answer to your question</p>



<a name="267049102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267049102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267049102">(Jan 06 2022 at 11:09)</a>:</h4>
<p>A crazier option would be to change the type of <code>coe</code> from <code>A → B</code> to <code>coe_wrapper A B</code> (a single-field structure) and then we can register a <code>ring_hom_class (coe_wrapper A B)</code>, <code>monoid_hom_class</code>, etc under suitable situations</p>



<a name="267051111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267051111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267051111">(Jan 06 2022 at 11:34)</a>:</h4>
<p>What is the benefit of having both <code>has_ring_hom_coe</code> <em>and</em> <code>algebra</code>?</p>



<a name="267052413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267052413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267052413">(Jan 06 2022 at 11:53)</a>:</h4>
<p>I would like to add that sometimes we really want to talk about the map. For example in <code>flt-regular</code> we are using a lot the fact that sometimes it is automatically injective.</p>



<a name="267052704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267052704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267052704">(Jan 06 2022 at 11:57)</a>:</h4>
<p>Not sure that I like it, but how about the spelling <code>ring_hom.coe A B</code> for what used to be <code>algebra_map A B</code>?</p>



<a name="267058847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267058847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267058847">(Jan 06 2022 at 13:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20algebra_map/near/267051111">said</a>:</p>
<blockquote>
<p>What is the benefit of having both <code>has_ring_hom_coe</code> <em>and</em> <code>algebra</code>?</p>
</blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.scalar">docs#matrix.scalar</a> satisfies the first but not the second when <code>R</code> is not commutative</p>



<a name="267063045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267063045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267063045">(Jan 06 2022 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/notation.20for.20algebra_map/near/267051111">said</a>:</p>
<blockquote>
<p>What is the benefit of having both <code>has_ring_hom_coe</code> <em>and</em> <code>algebra</code>?</p>
</blockquote>
<p>I want my canonical maps to have concrete <code>defeq</code>s, while Oliver doesn't want to have the <code>algebra_map</code> field in <code>algebra</code>. If I can use <code>has_ring_hom_coe</code> instead, then an <code>algebra_map</code>-less algebra is fine for me.</p>



<a name="267067721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267067721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267067721">(Jan 06 2022 at 14:41)</a>:</h4>
<p>Note that I'm in the middle of a large algebra refactor regarding right actions (<a href="https://github.com/leanprover-community/mathlib/pull/10716">#10716</a>), so I'd appreciate it if people could hold off on starting a large parallel one!</p>



<a name="267071060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267071060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267071060">(Jan 06 2022 at 15:08)</a>:</h4>
<p>My personal view is that up-arrows feel much less "mathematical" than decorated left-to-right arrows or bullets for multiplication.</p>
<p>I actually find the proposal of writing <code>a • b</code> quite good: I am used to writing the product of elements of A and of an A-algebra B in the same way as multiplication in either A or B alone, but there is always something in the back of my mind saying that the notation should really acknowledge that they are not the same...</p>



<a name="267074446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/notation%20for%20algebra_map/near/267074446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/notation.20for.20algebra_map.html#267074446">(Jan 06 2022 at 15:38)</a>:</h4>
<p>Right, mathematically it would make sense to delete <code>algebra_map</code> altogether and just write <code>a • 1</code> for the inclusion of the scalars into the algebra. The thing is that you very often encounter a pair of rings with a canonical map between them: a subring and a larger ring, {ℕ, ℤ, ℚ} and a {semiring, ring, field of char 0}, a ring and its fraction field, a ring of integers and a number field, ... It doesn't quite make mathematical sense to use "algebra" to describe this situation, but the <code>algebra</code> class does work well. So my proposal to make a <code>coe_ring_hom</code> class is to separate the second kind of usage from the first, so that (later) we can get rid of <code>algebra_map</code> and just write <code>a • b</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>