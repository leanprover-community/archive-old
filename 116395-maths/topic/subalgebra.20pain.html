---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/subalgebra.20pain.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html">subalgebra pain</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="252229521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252229521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252229521">(Sep 06 2021 at 22:41)</a>:</h4>
<p>I have some fields, <code>K</code> and <code>L</code> and <code>N : subalgebra K L</code>. I now need <code>algebra K (algebra.adjoin N {(x : L)} : subalgebra N L)</code> What's the best way to get this instance and all the 4 choose 3 <code>is_scalar tower</code> instances I might need?</p>



<a name="252229713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252229713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252229713">(Sep 06 2021 at 22:44)</a>:</h4>
<p>Does <a href="https://leanprover-community.github.io/mathlib_docs/find/subalgebra.algebra">docs#subalgebra.algebra</a> exist and answer your question?</p>



<a name="252229742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252229742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252229742">(Sep 06 2021 at 22:45)</a>:</h4>
<p>Hmm, it doesn't allow scalar towers</p>



<a name="252229770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252229770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252229770">(Sep 06 2021 at 22:46)</a>:</h4>
<p>I guess either that should be fixed, or the tower version is defined elsewhere</p>



<a name="252230146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252230146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252230146">(Sep 06 2021 at 22:52)</a>:</h4>
<p>That would give me <code>algebra N (algebra.adjoin N {x})</code>, but I need <code>algebra K (algebra.adjoin N {x})</code></p>



<a name="252230203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252230203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252230203">(Sep 06 2021 at 22:53)</a>:</h4>
<p>I know <code>N</code> is a <code>K</code> algebra, so it's basically transitivity of <code>algebra</code>, but then I'll probably need the fact that everything commutes.</p>



<a name="252230589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252230589" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252230589">(Sep 06 2021 at 23:00)</a>:</h4>
<p>I think the conditions should be the same as <a href="https://leanprover-community.github.io/mathlib_docs/find/submodule.module'">docs#submodule.module'</a></p>



<a name="252231454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252231454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252231454">(Sep 06 2021 at 23:12)</a>:</h4>
<p>I think so.</p>



<a name="252231466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252231466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252231466">(Sep 06 2021 at 23:13)</a>:</h4>
<p>But we'll need two extra <code>is_scalar_tower</code> instances for this.</p>



<a name="252231658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252231658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252231658">(Sep 06 2021 at 23:16)</a>:</h4>
<p>Why two? Isn't <code>K L N</code> enough</p>



<a name="252231772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252231772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252231772">(Sep 06 2021 at 23:18)</a>:</h4>
<p>You need <code>K (algebra.adjoin N {x}) L</code> and <code>N (algebra.adjoin N {x}) L</code>. If you have a chain of n fields you're going to need n choose 3 <code>is_scalar_tower</code> instances.</p>



<a name="252232490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252232490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252232490">(Sep 06 2021 at 23:29)</a>:</h4>
<p>I actually already have <code>is_scalar_tower N (algebra.adjoin N {x}) L</code>, so I guess it's just one extra. <code>is_scalar_tower</code> never felt like it would work for more complicated diagrams, but maybe it does.</p>



<a name="252258449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252258449" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252258449">(Sep 07 2021 at 06:40)</a>:</h4>
<p>I think <code>is_scalar_tower</code> just says "one triangle commutes in this diagram" and in a complex diagram there might be lots of triangles</p>



<a name="252259113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252259113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252259113">(Sep 07 2021 at 06:48)</a>:</h4>
<p>Maybe a little bit of meta code could help us add all those triangles to the context.</p>



<a name="252259139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252259139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252259139">(Sep 07 2021 at 06:48)</a>:</h4>
<p>Certainly lean 4 macros should be able to help us there.</p>



<a name="252259204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252259204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252259204">(Sep 07 2021 at 06:49)</a>:</h4>
<p><code>long_scalar_tower [A, B, C, D, E]</code> just expands to <code>5 choose 3</code> versions of <code>[is_scalar_tower foo bar baz]</code></p>



<a name="252270344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252270344" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252270344">(Sep 07 2021 at 08:39)</a>:</h4>
<p>I'll add the missing instance here tomorrow, probably</p>



<a name="252303422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252303422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252303422">(Sep 07 2021 at 13:20)</a>:</h4>
<p>I really wanted this quickly so <a href="https://github.com/leanprover-community/mathlib/issues/9062">#9062</a></p>



<a name="252345634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252345634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252345634">(Sep 07 2021 at 17:58)</a>:</h4>
<p>I have the more general version I was thinking of locally, just with an easy sorry left</p>



<a name="252459419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252459419" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252459419">(Sep 08 2021 at 13:31)</a>:</h4>
<p>has <a href="https://leanprover-community.github.io/mathlib_docs/find/subalgebra.algebra'">docs#subalgebra.algebra'</a> now resolved this?</p>



<a name="252806188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/subalgebra%20pain/near/252806188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/subalgebra.20pain.html#252806188">(Sep 10 2021 at 15:41)</a>:</h4>
<p>Yes. It was all motivated by <a href="https://github.com/leanprover-community/mathlib/issues/9110">#9110</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>