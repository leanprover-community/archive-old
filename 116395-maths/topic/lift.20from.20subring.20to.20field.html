---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/lift.20from.20subring.20to.20field.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html">lift from subring to field</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203344851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203344851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203344851">(Jul 09 2020 at 02:12)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="n">K</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="bp">_</span><span class="n">inst_4</span><span class="o">:</span> <span class="n">field</span> <span class="n">K</span>
<span class="bp">_</span><span class="n">inst_5</span><span class="o">:</span> <span class="n">discrete_valuation_field</span> <span class="n">K</span>
<span class="n">S</span><span class="o">:</span> <span class="n">ideal</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">)</span>
<span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">S</span> <span class="bp">=</span> <span class="err">⊥</span>
<span class="n">x</span><span class="o">:</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">)</span>
<span class="n">a</span><span class="o">:</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">S</span>
<span class="n">h</span><span class="o">:</span> <span class="bp">¬</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="n">h_1</span><span class="o">:</span> <span class="err">↑</span><span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span>
<span class="err">⊢</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>


<p>val_ring K is a subring of K. As far as I understand, I am given that the lift of x to K is 0, and need to prove that x = 0. I don't know how to proceed. <br>
Any help is appreciated, thank you!</p>



<a name="203344945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203344945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203344945">(Jul 09 2020 at 02:14)</a>:</h4>
<p>Does <code>exact subtype.eq h_1</code> work?</p>



<a name="203344984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203344984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203344984">(Jul 09 2020 at 02:15)</a>:</h4>
<p>Yes, that works!</p>



<a name="203345264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203345264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203345264">(Jul 09 2020 at 02:21)</a>:</h4>
<p>does <code>assumption_mod_cast</code> work?</p>



<a name="203345341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203345341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203345341">(Jul 09 2020 at 02:23)</a>:</h4>
<p>I don't think <code>norm_cast</code> knows about subtype casts</p>



<a name="203345516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203345516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203345516">(Jul 09 2020 at 02:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252300">Jalex Stark</span> <a href="#narrow/stream/116395-maths/topic/lift.20from.20subring.20to.20field/near/203345264">said</a>:</p>
<blockquote>
<p>does <code>assumption_mod_cast</code> work?</p>
</blockquote>
<p>No, it gives the error </p>
<div class="codehilite"><pre><span></span><code><span class="n">assumption_mod_cast</span> <span class="n">failed</span><span class="o">:</span>
<span class="n">exact</span> <span class="n">tactic</span> <span class="n">failed</span><span class="o">,</span> <span class="n">type</span> <span class="n">mismatch</span><span class="o">,</span> <span class="n">given</span> <span class="n">expression</span> <span class="n">has</span> <span class="n">type</span>
  <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span>
</code></pre></div>



<a name="203345598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203345598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203345598">(Jul 09 2020 at 02:28)</a>:</h4>
<p>Alternatively, you can rewrite using h_1 (probably after doing a case split on x)</p>



<a name="203346046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203346046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203346046">(Jul 09 2020 at 02:39)</a>:</h4>
<p>I am now having the same problem, with \le :</p>
<div class="codehilite"><pre><span></span><code><span class="n">K</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="bp">_</span><span class="n">inst_4</span><span class="o">:</span> <span class="n">field</span> <span class="n">K</span>
<span class="bp">_</span><span class="n">inst_5</span><span class="o">:</span> <span class="n">discrete_valuation_field</span> <span class="n">K</span>
<span class="n">x</span><span class="o">:</span> <span class="err">↥</span><span class="o">(</span><span class="n">val_ring</span> <span class="n">K</span><span class="o">)</span>
<span class="err">⊢</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">v</span> <span class="err">↑</span><span class="n">x</span>
</code></pre></div>


<p>The definition of val_ring K is:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">val_ring</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">field</span> <span class="n">K</span><span class="o">]</span> <span class="o">[</span><span class="n">discrete_valuation_field</span> <span class="n">K</span><span class="o">]</span> <span class="o">:=</span> <span class="o">{</span> <span class="n">x</span> <span class="o">:</span> <span class="n">K</span> <span class="bp">|</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">v</span> <span class="n">x</span> <span class="o">}</span>
</code></pre></div>


<p>Any help is appreciated, thank you!</p>



<a name="203346106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203346106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203346106">(Jul 09 2020 at 02:40)</a>:</h4>
<p>Try the same thing -- split x, and see what you get.</p>



<a name="203346142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203346142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203346142">(Jul 09 2020 at 02:41)</a>:</h4>
<p>(I think <code>exact x.2</code> should take care of this in one line.)</p>



<a name="203346350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203346350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203346350">(Jul 09 2020 at 02:47)</a>:</h4>
<p>Ah ok, cases x does it, as does exact x.2 . Thank you!</p>



<a name="203349608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203349608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203349608">(Jul 09 2020 at 04:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/lift.20from.20subring.20to.20field/near/203346142">said</a>:</p>
<blockquote>
<p>(I think <code>exact x.2</code> should take care of this in one line.)</p>
</blockquote>
<p><span class="user-mention" data-user-id="250372">@Ashvni Narayanan</span> This is (strictly speaking) leaking an implementation detail. Hence it is encouraged to prove a lemma <code>val_ring.zero_le</code> as one of the first things after you define <code>val_ring</code>. It is part of the basic API.</p>



<a name="203390173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/lift%20from%20subring%20to%20field/near/203390173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/lift.20from.20subring.20to.20field.html#203390173">(Jul 09 2020 at 14:12)</a>:</h4>
<p>Ok sure. Thank you!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>