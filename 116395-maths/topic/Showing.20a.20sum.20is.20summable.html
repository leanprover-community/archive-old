---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html">Showing a sum is summable</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="300193236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300193236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300193236">(Sep 22 2022 at 16:03)</a>:</h4>
<p>I want the following lemma, yet don't know how to show it. <code>library_search</code>, <code>hint</code>, and <code>suggest</code> did not help.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">ruesSummable</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">n</span><span class="bp">&gt;</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span><span class="o">:</span><span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">summable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span><span class="n">ℕ</span><span class="o">),</span> <span class="n">z</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">factorial</span><span class="o">):=</span>
</code></pre></div>



<a name="300194880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300194880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300194880">(Sep 22 2022 at 16:11)</a>:</h4>
<p>Do you mean "I think this is in the library, but I can't find it", or "I want to prove it by myself, but I don't know how to start"?</p>



<a name="300196443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300196443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300196443">(Sep 22 2022 at 16:19)</a>:</h4>
<p>I would like to prove it; I don't know how to start, and it is not in the library.</p>



<a name="300197181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300197181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300197181">(Sep 22 2022 at 16:23)</a>:</h4>
<p>if you can compute the sum, you can use <a href="https://leanprover-community.github.io/mathlib_docs/find/has_sum">docs#has_sum</a></p>



<a name="300197336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300197336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300197336">(Sep 22 2022 at 16:23)</a>:</h4>
<p><code>summable</code> is defined as <code>∃ a, has_sum f a</code></p>



<a name="300197456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300197456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300197456">(Sep 22 2022 at 16:24)</a>:</h4>
<p>And <a href="https://leanprover-community.github.io/mathlib_docs/find/has_sum">docs#has_sum</a> unfolds to a <code>tendsto</code> assertion.</p>



<a name="300197683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300197683" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300197683">(Sep 22 2022 at 16:25)</a>:</h4>
<p>In this case you can probably get by with less explicit methods by using summability of the series defining the exponential</p>



<a name="300216203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300216203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300216203">(Sep 22 2022 at 18:03)</a>:</h4>
<p>I only got this far, and don't know how to get further:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">ruesSummable</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">n</span><span class="bp">&gt;</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span><span class="o">:</span><span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">summable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span><span class="n">ℕ</span><span class="o">),</span> <span class="n">z</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">factorial</span><span class="o">):=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">summable</span><span class="o">],</span>
  <span class="n">use</span> <span class="n">tsum</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span><span class="n">ℕ</span><span class="o">),</span> <span class="n">z</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">factorial</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">has_sum</span><span class="o">,</span>
  <span class="gr">sorry</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="300217778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300217778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Congzhou Sha <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300217778">(Sep 22 2022 at 18:13)</a>:</h4>
<p>You can keep unfolding/rewriting terms until you get something more basic. Can you show the entire file (the imports), or at least what suggest comes up with?</p>



<a name="300218805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300218805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300218805">(Sep 22 2022 at 18:20)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/summable_nat_add_iff">docs#summable_nat_add_iff</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series_div_summable">docs#exp_series_div_summable</a> and I think will get you almost all the way there.</p>



<a name="300218879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300218879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300218879">(Sep 22 2022 at 18:21)</a>:</h4>
<p>whoops, sorry, I misread <code>*</code> for <code>+</code>.</p>



<a name="300218961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300218961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300218961">(Sep 22 2022 at 18:21)</a>:</h4>
<p><code>suggest</code> results in an error: <code>excessive memory consumption detected</code><br>
<a href="/user_uploads/3121/J-vHFX52jdDNMMy8Nt0upC7S/RootOfUnityExponentialSum.lean">RootOfUnityExponentialSum.lean</a></p>



<a name="300219544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300219544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300219544">(Sep 22 2022 at 18:25)</a>:</h4>
<p>how about <a href="https://leanprover-community.github.io/mathlib_docs/find/summable.comp_injective">docs#summable.comp_injective</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series_div_summable">docs#exp_series_div_summable</a>, that should do the trick.</p>



<a name="300220045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300220045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300220045">(Sep 22 2022 at 18:28)</a>:</h4>
<p>Do you understand my suggestion?</p>



<a name="300220708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300220708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300220708">(Sep 22 2022 at 18:32)</a>:</h4>
<p>theorem summable.comp_injective {α : Type u_1} {β : Type u_2} {γ : Type u_3} [add_comm_group α] [uniform_space α] [uniform_add_group α] {f : β → α} [complete_space α] {i : γ → β} (hf : summable f) (hi : function.injective i) :<br>
summable (f ∘ i)</p>
<p>This does look like it will work; I need to show that i=(λ (k:ℕ), n*k) is injective, then the pieces should fit, right?</p>



<a name="300221674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300221674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300221674">(Sep 22 2022 at 18:37)</a>:</h4>
<p>Yes, for which I think it would be easiest to apply <a href="https://leanprover-community.github.io/mathlib_docs/find/strict_mono.injective">docs#strict_mono.injective</a></p>



<a name="300222073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300222073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300222073">(Sep 22 2022 at 18:39)</a>:</h4>
<p>Yep, here:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">ruesSummable</span> <span class="o">(</span><span class="n">n</span><span class="o">:</span><span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span><span class="n">n</span><span class="bp">&gt;</span><span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span><span class="o">:</span><span class="n">ℂ</span><span class="o">)</span> <span class="o">:</span> <span class="n">summable</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">k</span><span class="o">:</span><span class="n">ℕ</span><span class="o">),</span> <span class="n">z</span> <span class="bp">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="n">n</span><span class="bp">*</span><span class="n">k</span><span class="o">)</span><span class="bp">.</span><span class="n">factorial</span><span class="o">):=</span>
<span class="o">(</span><span class="n">exp_series_div_summable</span> <span class="n">ℂ</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="n">comp_injective</span> <span class="o">(</span><span class="n">strict_mono_mul_left_of_pos</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">injective</span>
</code></pre></div>



<a name="300223190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300223190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300223190">(Sep 22 2022 at 18:46)</a>:</h4>
<p>As an exercise <span class="user-mention" data-user-id="385848">@Mark Gerads</span>  can you translate Jireh's term mode proof into a tactic mode proof?</p>



<a name="300223415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300223415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300223415">(Sep 22 2022 at 18:47)</a>:</h4>
<p>By the way, the mathlib style would be <code>h : 0 &lt; n</code> not <code>h:n&gt;0</code>, because <code>&gt;</code> is banned until Lean 4.</p>



<a name="300223810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300223810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mark Gerads <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300223810">(Sep 22 2022 at 18:49)</a>:</h4>
<p>I suppose just adding <code>begin</code>, <code>exact</code>, and <code>end</code> around the golf code is cheating?<br>
I'll update my file to get rid of <code>&gt;</code> then.</p>



<a name="300228150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Showing%20a%20sum%20is%20summable/near/300228150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Showing.20a.20sum.20is.20summable.html#300228150">(Sep 22 2022 at 19:13)</a>:</h4>
<p>I think what Kevin means is: take the pieces <a href="https://leanprover-community.github.io/mathlib_docs/find/summable.comp_injective">docs#summable.comp_injective</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/exp_series_div_summable">docs#exp_series_div_summable</a>, <a href="https://leanprover-community.github.io/mathlib_docs/find/strict_mono.injective">docs#strict_mono.injective</a> (and potentially <a href="https://leanprover-community.github.io/mathlib_docs/find/strict_mono_mul_left_of_pos">docs#strict_mono_mul_left_of_pos</a>, but to be honest I found this with <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#library_search">tactic#library_search</a>) and build a proof in tactic mode using these pieces on your own. Optionally, you can look at my proof to understand how the pieces should fit together, but it might be better to try and avoid that.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>