---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/has_emptyc.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html">has_emptyc</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="203892320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203892320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203892320">(Jul 14 2020 at 21:44)</a>:</h4>
<p>So I'm trying to show that something is a module. I was able to show that it's a semimodule, but when I try to give it a module structure:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="err">ğ•œ</span> <span class="o">(</span><span class="n">hom</span> <span class="n">G</span> <span class="err">ğ•œ</span> <span class="n">V</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span> <span class="o">}</span>
</code></pre></div>


<p>I get this goal:</p>
<div class="codehilite"><pre><span></span><code><span class="n">failed</span> <span class="n">to</span> <span class="n">synthesize</span> <span class="n">type</span> <span class="n">class</span> <span class="kn">instance</span> <span class="n">for</span>
<span class="o">[</span><span class="n">some</span> <span class="n">stuff</span><span class="o">]</span>
<span class="err">âŠ¢</span> <span class="n">has_emptyc</span> <span class="o">(</span><span class="n">module</span> <span class="err">ğ•œ</span> <span class="o">(</span><span class="n">hom</span> <span class="n">G</span> <span class="err">ğ•œ</span> <span class="n">V</span> <span class="n">W</span><span class="o">))</span>
</code></pre></div>


<p>What is this <code>has_emptyc</code> thing? I thought that a semimodule over a ring (here k is a field) was automatically a module:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">abbreviation</span> <span class="n">module</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">:=</span>
<span class="n">semimodule</span> <span class="n">R</span> <span class="n">M</span>
</code></pre></div>



<a name="203892718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203892718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203892718">(Jul 14 2020 at 21:49)</a>:</h4>
<p><code>{}</code> is notation for the empty collection!</p>



<a name="203892852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203892852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203892852">(Jul 14 2020 at 21:50)</a>:</h4>
<p>I think Thomas was aiming for the empty structure so that he could see which fields needed to be implemented.  I've used <code>{ }</code> before for this -- why is it the empty collection here?</p>



<a name="203892915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203892915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203892915">(Jul 14 2020 at 21:51)</a>:</h4>
<p>Well, Lean doesn't seem to agree</p>



<a name="203892943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203892943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203892943">(Jul 14 2020 at 21:51)</a>:</h4>
<p>maybe because <code>module</code> is not a structure, but an abbreviation?</p>



<a name="203893011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893011">(Jul 14 2020 at 21:52)</a>:</h4>
<p>So do I just not need to bother giving a module structure, since I've already given a semi_module structure?</p>



<a name="203893061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893061">(Jul 14 2020 at 21:53)</a>:</h4>
<p>I think that's right</p>



<a name="203893170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893170">(Jul 14 2020 at 21:54)</a>:</h4>
<p>You probably just need to make sure you have all the instances in the definition of <code>module</code>.  Like <code>add_comm_group (hom G ğ•œ V W)</code>.</p>



<a name="203893224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893224">(Jul 14 2020 at 21:55)</a>:</h4>
<p>I have all that (it was needed when giving the semimodule structure)</p>



<a name="203893408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893408">(Jul 14 2020 at 21:56)</a>:</h4>
<p>If you really needed to, I think you can write something like <code>{ semimodule . }</code> to make it clear to Lean that you want to write a structure literal, and for which kind of structure.</p>



<a name="203893497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893497">(Jul 14 2020 at 21:57)</a>:</h4>
<p>Oh, I see, the only difference is <code>module</code> requires there to be a <code>ring ğ•œ</code> instance, which you probably already have because it's a field (knowing what you're working on).</p>



<a name="203893635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893635">(Jul 14 2020 at 21:59)</a>:</h4>
<p>Indeed, as <a href="#narrow/stream/113489-new-members/topic/Semialgebra/near/203665887">recently discussed</a>, we could probably just remove <code>module</code> and rename <code>semimodule</code> to <code>module</code>.</p>



<a name="203893819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/has_emptyc/near/203893819" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/has_emptyc.html#203893819">(Jul 14 2020 at 22:01)</a>:</h4>
<p>Actually, one thing that works is just this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="o">(</span><span class="n">hom</span> <span class="n">G</span> <span class="err">ğ•œ</span> <span class="n">V</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span>
<span class="o">[</span><span class="n">do</span> <span class="n">a</span> <span class="n">bunch</span> <span class="n">of</span> <span class="n">stuff</span><span class="o">]</span>
<span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">module</span> <span class="err">ğ•œ</span> <span class="o">(</span><span class="n">hom</span> <span class="n">G</span> <span class="err">ğ•œ</span> <span class="n">V</span> <span class="n">W</span><span class="o">)</span> <span class="o">:=</span> <span class="o">{</span>
<span class="o">[</span><span class="n">do</span> <span class="n">a</span> <span class="n">bunch</span> <span class="n">of</span> <span class="n">stuff</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div>


<p>(previously I had "semimodule" instead of "module")</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>