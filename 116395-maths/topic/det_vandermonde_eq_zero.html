---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/det_vandermonde_eq_zero.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html">det_vandermonde_eq_zero</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="285670359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285670359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285670359">(Jun 10 2022 at 12:47)</a>:</h4>
<p>I've written two small lemmas about Vandermonde determinants (that I need somewhere else). Is there a branch I can get write access to, or should I create my own?<br>
My github username is bartmichels.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">det_vandermonde_eq_zero_iff</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">det</span> <span class="o">(</span><span class="n">vandermonde</span> <span class="n">v</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">i</span> <span class="n">j</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span> <span class="n">i</span> <span class="bp">≠</span> <span class="n">j</span> <span class="bp">∧</span> <span class="n">v</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">v</span> <span class="n">j</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">simp</span> <span class="o">[</span><span class="n">det_vandermonde</span> <span class="n">v</span><span class="o">,</span> <span class="n">finset.prod_eq_zero_iff</span><span class="o">,</span> <span class="n">sub_eq_zero</span><span class="o">],</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="n">rintros</span> <span class="o">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">hij</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">j</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">ne_of_gt</span> <span class="o">(</span><span class="n">hij.left</span><span class="o">),</span> <span class="n">hij.right</span><span class="o">⟩,</span>
  <span class="n">rintros</span> <span class="o">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">hij</span><span class="o">⟩,</span>
  <span class="n">cases</span> <span class="n">lt_or_gt_of_ne</span> <span class="n">hij.left</span> <span class="k">with</span> <span class="n">hilt</span> <span class="n">higt</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">hilt</span><span class="o">,</span> <span class="kd">by</span> <span class="n">symmetry</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">hij.right</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">j</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">higt</span><span class="o">,</span> <span class="n">hij.right</span><span class="o">⟩,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">det_vandermonde_ne_zero_iff</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">is_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">v</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">det</span> <span class="o">(</span><span class="n">vandermonde</span> <span class="n">v</span><span class="o">)</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">↔</span> <span class="n">function.injective</span> <span class="n">v</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">det_vandermonde_eq_zero_iff</span><span class="o">,</span> <span class="n">not_imp_not</span><span class="o">]</span>
</code></pre></div>
<p>Also, if you can make the proof of the first one shorter, please do :)</p>



<a name="285671166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285671166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285671166">(Jun 10 2022 at 12:54)</a>:</h4>
<p>At least, you'll want to use <code>squeeze_simp</code> or <code>simp?</code> on that first line, and put braces <code>{ }</code> around the subgoals after <code>split</code></p>



<a name="285671688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285671688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285671688">(Jun 10 2022 at 12:59)</a>:</h4>
<p>I'm not sure if this is desirable, but you can "golf" the statement asserting that <code>v</code> is not injective.</p>



<a name="285672202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285672202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285672202">(Jun 10 2022 at 13:03)</a>:</h4>
<p>Right, thanks. I added the braces and indentation for subgoals.</p>



<a name="285674015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285674015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285674015">(Jun 10 2022 at 13:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285671688">said</a>:</p>
<blockquote>
<p>I'm not sure if this is desirable, but you can "golf" the statement asserting that <code>v</code> is not injective.</p>
</blockquote>
<p>Certainly desirable, I'll try.</p>



<a name="285698077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285698077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285698077">(Jun 10 2022 at 16:11)</a>:</h4>
<p>I can replace the "not injective" part with a single term (or split and two terms) that's not so horrible, for the most part:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">split</span><span class="o">,</span>
<span class="o">{</span> <span class="n">exact</span> <span class="n">Exists₂.imp</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">j</span> <span class="n">h</span><span class="o">,</span> <span class="o">⟨</span><span class="n">ne_of_lt</span> <span class="n">h.left</span><span class="o">,</span> <span class="n">h.right.symm</span> <span class="o">⟩)</span> <span class="o">},</span>
<span class="o">{</span> <span class="n">exact</span> <span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">exists.elim</span> <span class="n">h</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">i</span> <span class="n">h</span><span class="o">,</span> <span class="n">exists.elim</span> <span class="n">h</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">j</span> <span class="n">h₁</span><span class="o">,</span> <span class="o">⟨</span><span class="n">min</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="n">max</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span>
          <span class="n">min_lt_max.mpr</span> <span class="n">h₁.left</span><span class="o">,</span> <span class="o">((</span><span class="n">fn_min_eq_fn_max_iff</span> <span class="n">v</span> <span class="n">i</span> <span class="n">j</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="n">h₁.right</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span> <span class="o">⟩))</span> <span class="o">}</span>
</code></pre></div>
<p>It would be nice to have an <code>exists₂.elim</code>.<br>
I also didn't find any term-mode ways to <code>wlog</code> assume <code>i ≤ j</code>. Is there anything? Here it's hidden in <code>fn_min_eq_fn_max_iff</code>, which is another lemma (that does not exist yet), to show <code>v n = v m → v (min n m) = v (max n m)</code>.</p>



<a name="285701768"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285701768" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285701768">(Jun 10 2022 at 16:38)</a>:</h4>
<p>I'm surprised that you're not using <a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_zero_of_row_eq">docs#matrix.det_zero_of_row_eq</a></p>



<a name="285702267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/285702267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#285702267">(Jun 10 2022 at 16:43)</a>:</h4>
<p>Forgot about that along the way, thanks.</p>



<a name="286156116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156116">(Jun 15 2022 at 02:09)</a>:</h4>
<p>I'm interested in this. I have some prior work with vandermonde stuff myself and this looks nice.</p>



<a name="286156307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156307">(Jun 15 2022 at 02:13)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_vandermonde_eq_zero_iff">docs#matrix.det_vandermonde_eq_zero_iff</a></p>



<a name="286156412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156412">(Jun 15 2022 at 02:14)</a>:</h4>
<p>I'm fairly sure this is your first.</p>



<a name="286156430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156430">(Jun 15 2022 at 02:15)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/matrix.det_vandermonde_ne_zero_iff">docs#matrix.det_vandermonde_ne_zero_iff</a></p>



<a name="286156433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156433">(Jun 15 2022 at 02:15)</a>:</h4>
<p>And this is your second.</p>



<a name="286156502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156502">(Jun 15 2022 at 02:16)</a>:</h4>
<p>(deleted)</p>



<a name="286156650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286156650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286156650">(Jun 15 2022 at 02:18)</a>:</h4>
<p>So unfortunately I don't think this is much new.</p>



<a name="286172251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286172251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286172251">(Jun 15 2022 at 07:12)</a>:</h4>
<p><span class="user-mention" data-user-id="330967">@Wrenna Robson</span>, both of those lemmas were PR'd by <span class="user-mention" data-user-id="501306">@Bart Michels</span> after this thread was made</p>



<a name="286193182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286193182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286193182">(Jun 15 2022 at 10:29)</a>:</h4>
<p>Huh. I'm sure I used them before June!</p>



<a name="286196756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286196756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286196756">(Jun 15 2022 at 11:10)</a>:</h4>
<p>Ah - it turns out I had proved very similar things myself, which is why they looked familiar.</p>



<a name="286198487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/det_vandermonde_eq_zero/near/286198487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/det_vandermonde_eq_zero.html#286198487">(Jun 15 2022 at 11:29)</a>:</h4>
<p>Sorry about that though - naively I had assumed that because those messages were from only a few days ago there wouldn't be a PR!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>