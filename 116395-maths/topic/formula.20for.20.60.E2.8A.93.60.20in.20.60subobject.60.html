---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html">formula for `⊓` in `subobject`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="283849712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283849712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283849712">(May 25 2022 at 08:05)</a>:</h4>
<p>I'd like to have the following formula for <code>inf</code> in <code>subobject A</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.subobject.lattice</span>

<span class="kn">open</span> <span class="n">category_theory</span>
<span class="kn">open</span> <span class="n">category_theory.limits</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">has_pullbacks</span> <span class="n">C</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">inf_eq_mk_fst_arrow</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">X</span> <span class="bp">⊓</span> <span class="n">Y</span> <span class="bp">=</span> <span class="n">subobject.mk</span> <span class="o">((</span><span class="n">pullback.fst</span> <span class="o">:</span> <span class="n">limits.pullback</span> <span class="n">X.arrow</span> <span class="n">Y.arrow</span> <span class="bp">⟶</span> <span class="n">X</span><span class="o">)</span> <span class="bp">≫</span> <span class="n">X.arrow</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">inf_eq_mk_snd_arrow</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">X</span> <span class="bp">⊓</span> <span class="n">Y</span> <span class="bp">=</span> <span class="n">subobject.mk</span> <span class="o">((</span><span class="n">pullback.snd</span> <span class="o">:</span> <span class="n">limits.pullback</span> <span class="n">X.arrow</span> <span class="n">Y.arrow</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">≫</span> <span class="n">Y.arrow</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>Can anyone fill this in? I don't see how to get it from the existing API for <code>⊓</code>. <span class="user-mention" data-user-id="246273">@Bhavik Mehta</span>?</p>
<p>(If one needs to actually unfold the definition of <code>⊓</code>, perhaps the second lemma is easier because <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.over.pullback">docs#category_theory.over.pullback</a> is defined in terms of <code>pullback.snd</code>.)</p>



<a name="283861525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283861525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283861525">(May 25 2022 at 10:00)</a>:</h4>
<p>(I've found another solution to my problems that don't need these lemmas, but I'm still curious how they should be proved.)</p>



<a name="283869822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283869822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283869822">(May 25 2022 at 11:31)</a>:</h4>
<p>I'm pretty sure I had these lemmas in the topos project a while back, I will take a closer look later today if I can!</p>



<a name="283870293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283870293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283870293">(May 25 2022 at 11:37)</a>:</h4>
<p>I did manage to prove <code>X ⊔ Y = subobject.mk (image.ι (coprod.desc X.arrow Y.arrow))</code> (although needed to assume <code>[has_equalizers C]</code>...).</p>



<a name="283898564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283898564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283898564">(May 25 2022 at 15:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60/near/283849712">said</a>:</p>
<blockquote>
<p>I'd like to have the following formula for <code>inf</code> in <code>subobject A</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">category_theory.subobject.lattice</span>

<span class="kn">open</span> <span class="n">category_theory</span>
<span class="kn">open</span> <span class="n">category_theory.limits</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">C</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">category</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">has_pullbacks</span> <span class="n">C</span><span class="o">]</span>

<span class="kd">lemma</span> <span class="n">inf_eq_mk_fst_arrow</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">X</span> <span class="bp">⊓</span> <span class="n">Y</span> <span class="bp">=</span> <span class="n">subobject.mk</span> <span class="o">((</span><span class="n">pullback.fst</span> <span class="o">:</span> <span class="n">limits.pullback</span> <span class="n">X.arrow</span> <span class="n">Y.arrow</span> <span class="bp">⟶</span> <span class="n">X</span><span class="o">)</span> <span class="bp">≫</span> <span class="n">X.arrow</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">inf_eq_mk_snd_arrow</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">X</span> <span class="bp">⊓</span> <span class="n">Y</span> <span class="bp">=</span> <span class="n">subobject.mk</span> <span class="o">((</span><span class="n">pullback.snd</span> <span class="o">:</span> <span class="n">limits.pullback</span> <span class="n">X.arrow</span> <span class="n">Y.arrow</span> <span class="bp">⟶</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">≫</span> <span class="n">Y.arrow</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>Can anyone fill this in? I don't see how to get it from the existing API for <code>⊓</code>. <span class="user-mention silent" data-user-id="246273">Bhavik Mehta</span>?</p>
<p>(If one needs to actually unfold the definition of <code>⊓</code>, perhaps the second lemma is easier because <a href="https://leanprover-community.github.io/mathlib_docs/find/category_theory.over.pullback">docs#category_theory.over.pullback</a> is defined in terms of <code>pullback.snd</code>.)</p>
</blockquote>
<p>If it comes to it, I think using antisymm should give this</p>



<a name="283898695"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283898695" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283898695">(May 25 2022 at 15:28)</a>:</h4>
<p>I've always been very hesitant about <code>subobject.arrow</code>, I expect the easiest way to prove this would be to show it for mono_over using antisymm, and then taking this special case</p>



<a name="283954065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283954065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283954065">(May 25 2022 at 23:42)</a>:</h4>
<p>If you think it's a good idea I can try to do a refactor of the <code>subobject/</code> directory, moving as much as possible about <code>arrow</code> into a new <code>arrow.lean</code>.</p>



<a name="283954112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283954112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283954112">(May 25 2022 at 23:42)</a>:</h4>
<p>I admit I do like to use the arrow API, but maybe it makes sense to make it clearer in the sources that it is an optional extra.</p>



<a name="283954258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283954258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283954258">(May 25 2022 at 23:45)</a>:</h4>
<p>I'm curious what your preferred formulation of something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">[</span><span class="bp">...</span><span class="n">hypotheses</span> <span class="n">on</span> <span class="n">C...</span><span class="o">]</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">Y</span><span class="o">,</span> <span class="n">is_compl</span> <span class="n">X</span> <span class="n">Y</span><span class="o">)</span> <span class="bp">↔</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">Y</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="n">C</span><span class="o">)</span> <span class="bp">⊞</span> <span class="n">Y</span> <span class="bp">≅</span> <span class="n">A</span><span class="o">),</span> <span class="n">X.arrow</span> <span class="bp">=</span> <span class="n">biprod.inl</span> <span class="bp">≫</span> <span class="n">i.hom</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">...</span>
</code></pre></div>
<p>(stating that "complemented in the lattice sense" and "complemented in the biproduct sense" agree, with whatever hypotheses are required to make it true) would be.</p>



<a name="283956298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283956298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283956298">(May 26 2022 at 00:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60/near/283954065">said</a>:</p>
<blockquote>
<p>If you think it's a good idea I can try to do a refactor of the <code>subobject/</code> directory, moving as much as possible about <code>arrow</code> into a new <code>arrow.lean</code>.</p>
</blockquote>
<p>I think it might be nice but I don't have particularly strong feelings on it - I personally prefer to state things without using <code>arrow</code> but I agree there are times when it's needed.</p>



<a name="283974062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/283974062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#283974062">(May 26 2022 at 06:20)</a>:</h4>
<p><span class="user-mention" data-user-id="246273">@Bhavik Mehta</span> (or anyone else!!), any ideas on how to prove </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">[</span><span class="n">has_pullbacks</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">has_initial</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">initial_mono_class</span> <span class="n">C</span><span class="o">]</span> <span class="o">[</span><span class="n">has_binary_coproducts</span> <span class="n">C</span><span class="o">]</span>
  <span class="o">[</span><span class="bp">...</span><span class="n">more</span> <span class="n">hypotheses</span> <span class="n">on</span> <span class="n">C</span><span class="bp">?...</span><span class="o">]</span>
  <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">C</span><span class="o">}</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">subobject</span> <span class="n">A</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">⊓</span> <span class="n">Y</span> <span class="bp">=</span> <span class="bp">⊥</span><span class="o">)</span> <span class="o">:</span> <span class="n">mono</span> <span class="o">(</span><span class="n">coprod.desc</span> <span class="n">X.arrow</span> <span class="n">Y.arrow</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>either on paper or in Lean? I hope it's true fairly generally, but don't see why yet. Perhaps replacing the coproduct with biproduct could make it easier?</p>



<a name="284024804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/284024804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#284024804">(May 26 2022 at 16:02)</a>:</h4>
<p>I expect you need <a href="https://ncatlab.org/nlab/show/disjoint+coproduct">https://ncatlab.org/nlab/show/disjoint+coproduct</a> for this to be true</p>



<a name="284024972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/284024972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#284024972">(May 26 2022 at 16:03)</a>:</h4>
<p><del>oops wrong way round - I don't think this is true</del> nope I'm not sure again, let me think about this harder</p>



<a name="284128737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/284128737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#284128737">(May 27 2022 at 12:59)</a>:</h4>
<p>I have a rough idea of a proof which additionally requires that your category has images, and is extensive - namely condition 3 here <a href="https://ncatlab.org/nlab/show/extensive+category#extensive_categories">https://ncatlab.org/nlab/show/extensive+category#extensive_categories</a>; I think I have a formalisation of the equivalence between 1,2,3 in a branch but I expect it's rotted quite a bit now</p>



<a name="284700384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/formula%20for%20%60%E2%8A%93%60%20in%20%60subobject%60/near/284700384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/formula.20for.20.60.E2.8A.93.60.20in.20.60subobject.60.html#284700384">(Jun 02 2022 at 05:08)</a>:</h4>
<p>Hmm... it would be nice to have a proof that works for <code>Vect</code>, which is not extensive.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>