---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html">direct product of sylow groups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269727879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269727879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269727879">(Jan 28 2022 at 12:29)</a>:</h4>
<p>The next step in my <a href="https://groupprops.subwiki.org/wiki/Equivalence_of_definitions_of_finite_nilpotent_group">quest to provide the equivalent definitions for finite nilpotent groups</a> I have to show that if every sylow group is normal, then the group is the direct product of its sylow groups.<br>
I am unsure what would be the best way to phrase the latter statement. Do we have “group is the direct product of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> of its subgroups” somewhere? Should I go via <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> isomorphic to the external product of the sylow subgroups, or rather some notion of internal n-ary product?</p>



<a name="269728099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269728099" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269728099">(Jan 28 2022 at 12:31)</a>:</h4>
<p>Probably something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">foobar</span> <span class="o">:</span> <span class="n">G</span> <span class="bp">≃*</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">nat.primes</span><span class="o">)</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="n">sylow</span> <span class="n">p</span> <span class="n">G</span><span class="o">),</span> <span class="n">H</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="269751137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269751137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269751137">(Jan 28 2022 at 15:15)</a>:</h4>
<p>Oh, is this using the fact that those primes that don't divide the group order have trivial Sylow group? Clever, thanks!</p>



<a name="269751955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269751955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269751955">(Jan 28 2022 at 15:20)</a>:</h4>
<p>Hmm, but it does seem to assume that there is exactly one Sylow group for each prime (else that product contains conjugate copies). Which I know in the one implication, but not the other. So maybe I should fix a function <code>P : Pi (p : nat.primes) , Sylow p G</code> and use that selection of Sylow groups.</p>
<p>OTOH, if that equivalency holds, it follows thst each Sylow group exists only once in it, based on a group order argument. </p>
<p>I'll play around with what works best.</p>



<a name="269754106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269754106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269754106">(Jan 28 2022 at 15:33)</a>:</h4>
<p>Don't we have some kind of internal direct products?</p>



<a name="269755473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269755473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269755473">(Jan 28 2022 at 15:43)</a>:</h4>
<p>There is the subgroup lattice’s <code>⊔</code>, e.g. as used in Frattini’s argument. That’s a product? But not necessarily a direct product.</p>



<a name="269756364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269756364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269756364">(Jan 28 2022 at 15:49)</a>:</h4>
<p>Right, you would need a separate lemma saying that the product is direct.</p>



<a name="269756650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269756650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269756650">(Jan 28 2022 at 15:51)</a>:</h4>
<p>For the binary product, that’s “just” that the <code>⊓</code> is trivial. But for the n-ary internal direct product, that’s a bit more hairy to express, isn't it?</p>



<a name="269757280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269757280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269757280">(Jan 28 2022 at 15:55)</a>:</h4>
<p>Yep, I think so.</p>



<a name="269782912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269782912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269782912">(Jan 28 2022 at 18:42)</a>:</h4>
<p>So the best course of action is to create a new definition for the internal product (in its own file?), with various helper lemmas as desired, maybe even the equivalence with the external product definition, and then use that in the Sylow development.</p>



<a name="269784450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269784450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269784450">(Jan 28 2022 at 18:54)</a>:</h4>
<p>That might very well be the smoothest way forward.</p>



<a name="269792770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269792770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269792770">(Jan 28 2022 at 19:54)</a>:</h4>
<p>Is the direct product distinct from the <a href="https://leanprover-community.github.io/mathlib_docs/find/free_product">docs#free_product</a>?</p>



<a name="269797322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269797322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269797322">(Jan 28 2022 at 20:24)</a>:</h4>
<p>I think so: the direct product of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span></span></span></span> with itself is commutative, while the free product is not.</p>



<a name="269797456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269797456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269797456">(Jan 28 2022 at 20:25)</a>:</h4>
<p>In the direct product, the operation happens componentwise, while the free product is essentially only concatenation of symbols from each factor.</p>



<a name="269926853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269926853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269926853">(Jan 30 2022 at 11:11)</a>:</h4>
<p>I am starting with this definition:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">structure</span> <span class="n">direct_factors</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">subgroup</span> <span class="n">G</span><span class="o">))</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">elements_commute</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">H₁</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">H₂</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">H₁</span> <span class="bp">≠</span> <span class="n">H₂</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">H₁</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">y</span> <span class="bp">∈</span> <span class="n">H₂</span><span class="o">,</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span>
  <span class="o">(</span><span class="n">triv_intersection</span><span class="o">:</span> <span class="bp">∀</span> <span class="n">H₁</span> <span class="bp">∈</span> <span class="n">S</span><span class="o">,</span> <span class="n">H₁</span> <span class="bp">⊓</span> <span class="n">Sup</span> <span class="o">(</span><span class="n">S</span> <span class="bp">\</span> <span class="o">{</span><span class="n">H₁</span><span class="o">})</span> <span class="bp">=</span> <span class="bp">⊥</span><span class="o">)</span>
</code></pre></div>
<p>I am _not_ requiring that <code>Sup S</code> is the whole group here, so this  is “these groups are the direct factors of their product”. Not sure if this is helpful or not.</p>
<p>The main theorem would be something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">external_of_internal_direct_product</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="o">(</span><span class="n">subgroup</span> <span class="n">G</span><span class="o">))</span>
  <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="n">direct_factors</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">subgroup</span> <span class="n">G</span><span class="o">)))</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∏</span> <span class="n">H</span> <span class="k">in</span> <span class="n">S</span><span class="o">,</span> <span class="n">H</span><span class="o">)</span> <span class="bp">≃</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>but these n-ary products are only defined for <code>comm_monoid</code>, it seems. </p>
<p>Am I missing something or do we not have the n-ary product of groups somewhere?</p>



<a name="269927980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269927980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269927980">(Jan 30 2022 at 11:34)</a>:</h4>
<p>It would probably be better to use an indexed family (indexed by some other type) rather than a <code>set</code>. Then the product is just a Pi type. I'm not even sure what <code>∏ H in S, H</code> is.</p>



<a name="269928055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928055">(Jan 30 2022 at 11:36)</a>:</h4>
<p>compare <a href="https://leanprover-community.github.io/mathlib_docs/linear_algebra/linear_independent.html">https://leanprover-community.github.io/mathlib_docs/linear_algebra/linear_independent.html</a></p>



<a name="269928331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928331">(Jan 30 2022 at 11:42)</a>:</h4>
<p>It’s defined in <a href="https://leanprover-community.github.io/mathlib_docs/algebra/big_operators/basic.html">https://leanprover-community.github.io/mathlib_docs/algebra/big_operators/basic.html</a>: There products are defined over types and over sets.<br>
But in either case it’s <code>comm_monoids</code>, which is where I think I am stuck here.<br>
Or is there another definitions elsewhere for n-ary products of groups?</p>



<a name="269928508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928508">(Jan 30 2022 at 11:47)</a>:</h4>
<p>Ah, I think I get what you are saying: Lean’s fundamental Pi type has  group instance somewhere?</p>



<a name="269928521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928521">(Jan 30 2022 at 11:47)</a>:</h4>
<p>Indeed,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">external_of_internal_direct_product</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="o">(</span><span class="n">subgroup</span> <span class="n">G</span><span class="o">))</span>
  <span class="o">(</span><span class="n">hi</span> <span class="o">:</span> <span class="n">direct_factors</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">subgroup</span> <span class="n">G</span><span class="o">)))</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">S</span><span class="o">),</span> <span class="n">x</span><span class="o">)</span> <span class="bp">≃</span> <span class="o">(</span><span class="n">Sup</span> <span class="n">S</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">:=</span>
</code></pre></div>
<p>typechecks. Thanks :-)</p>



<a name="269928545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928545">(Jan 30 2022 at 11:48)</a>:</h4>
<p>Right</p>



<a name="269928594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928594">(Jan 30 2022 at 11:49)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/algebra/group/pi.html">https://leanprover-community.github.io/mathlib_docs/algebra/group/pi.html</a></p>



<a name="269928657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928657" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Joachim Breitner <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928657">(Jan 30 2022 at 11:50)</a>:</h4>
<p>Heh, I looked at that fine, but didn’t get it. Thanks for the nudge.</p>



<a name="269928756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/direct%20product%20of%20sylow%20groups/near/269928756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/direct.20product.20of.20sylow.20groups.html#269928756">(Jan 30 2022 at 11:53)</a>:</h4>
<p>Before I think you were using the fact that <code>subgroup G</code> has a <code>*</code> operation, and then implicitly coercing to a type at the end</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>