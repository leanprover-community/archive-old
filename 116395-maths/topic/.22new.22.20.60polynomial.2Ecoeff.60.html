---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html">"new" `polynomial.coeff`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278299747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278299747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278299747">(Apr 08 2022 at 12:57)</a>:</h4>
<p>Dear All,</p>
<p>I have been playing around a little bit with the definition below, and I find that it works very smoothly.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.basic</span>
<span class="n">open_locale</span> <span class="n">polynomial</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>

<span class="kd">def</span> <span class="n">polynomial.zcoeff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">R</span> <span class="o">:=</span>
<span class="n">ite</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">f.coeff</span> <span class="n">n.to_nat</span><span class="o">)</span> <span class="mi">0</span>
</code></pre></div>
<p>Compared to <code>polynomial.coeff</code>,</p>
<ul>
<li>it often creates side goals that are easier to solve, since they are in <code>ℤ</code>, rather than in <code>ℕ</code> (e.g. better <code>linarith</code> support);</li>
<li>it sometimes removes proof obligations that were required when you compute the <code>f.coeff (0 - 1)</code> and you "clearly want to get <code>0</code>, but you get the constant coefficient of <code>f</code>, because of nat-subtraction.</li>
</ul>
<p>Of course, this would be alongside <code>polynomial.coeff</code>, it would not be a replacement.</p>
<p>Finally, feel free to suggest a different name!</p>
<p>Thanks!</p>



<a name="278299955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278299955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278299955">(Apr 08 2022 at 12:59)</a>:</h4>
<p>If you think that you would like it in mathlib, let me know and I will prepare a PR!</p>



<a name="278300020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278300020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278300020">(Apr 08 2022 at 12:59)</a>:</h4>
<p>Here is an example where you get a statement that I consider "better":</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">coeff_mul_X_pow</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">),</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">d</span> <span class="bp">+</span> <span class="n">n</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p.coeff</span> <span class="n">d</span>
<span class="n">zcoeff_mul_X_pow</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">),</span>
  <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">^</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">mc</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">p.zcoeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="bp">↑</span><span class="n">a</span><span class="o">)</span>
</code></pre></div>
<p>So you do not have to fight to get the <code>+n</code> in the <code>coeff</code>, you get it for free and everything "just works".</p>



<a name="278300606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278300606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278300606">(Apr 08 2022 at 13:04)</a>:</h4>
<p>Another option would be to give <code>with_bot ℕ</code> a subtraction, such that <code>x - y = if y ≤ x then x - y else ⊥</code>, which might work nicely with <code>polynomial.degree</code>.</p>



<a name="278300733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278300733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278300733">(Apr 08 2022 at 13:05)</a>:</h4>
<p><span class="user-mention" data-user-id="330967">@Wrenna Robson</span>, you might have thoughts here!</p>



<a name="278300902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278300902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278300902">(Apr 08 2022 at 13:06)</a>:</h4>
<p>Eric, I like your suggestion.  I have not worked with <code>with_bot ℕ</code>, but I know that the API for <code>ℤ</code> is very good!  Also, it is a ring, which might make it easier to work with.</p>



<a name="278300974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278300974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278300974">(Apr 08 2022 at 13:07)</a>:</h4>
<p>I think that we may have both: a <code>with_bot_coeff</code> to work with degree and <code>zcoeff</code> to work with <code>nat_degree</code>.</p>



<a name="278301045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301045">(Apr 08 2022 at 13:07)</a>:</h4>
<p>I think only with_bot has the right semantics for <code>(p.div_X * X).coeff n = p.coeff (n - 1 + 1)</code></p>



<a name="278301298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301298">(Apr 08 2022 at 13:09)</a>:</h4>
<p>"negative" monomials can't be made into regular ones just by multiplying by X, just like ⊥ can't be changed by addition</p>



<a name="278301387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301387">(Apr 08 2022 at 13:10)</a>:</h4>
<p><code>with_bot ℕ</code> is neither a semiring nor a ring, it doesn't respect zero_mul.</p>



<a name="278301466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301466">(Apr 08 2022 at 13:11)</a>:</h4>
<p>I see your point.  Mine was going the opposite direction: I prefer to work with a ring, whenever I can.  Not every result will work better with <code>zcoeff</code>, but I think a good proportion might.</p>



<a name="278301620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301620">(Apr 08 2022 at 13:12)</a>:</h4>
<p>For instance, when working with the previous-to-last coefficient, converting <code>a+b-1</code> to <code>a+(b-1)</code> or <code>(a-1)+b</code> is always a pain and you always have to provide proofs that something is non-negative.  With <code>zcoeff</code> this disappears and you have an easier time formalizing stuff.</p>



<a name="278301879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278301879" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278301879">(Apr 08 2022 at 13:14)</a>:</h4>
<p>I feel that this issue would not be addressed by <code>with_bot</code>, since you will have to tell lean that you are not a the <code>\bot</code> level, rather than not at the <code>0</code> level.</p>



<a name="278302045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278302045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278302045">(Apr 08 2022 at 13:15)</a>:</h4>
<p>Also, I imagine working with both <code>coeff</code> and <code>zcoeff</code>, even at the same time.  They should complement each other, not substitute each other: the API around <code>coeff</code> is great.  I am simply suggesting using a different tool, in the cases where <code>coeff</code> gets clunky.</p>



<a name="278305220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278305220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278305220">(Apr 08 2022 at 13:41)</a>:</h4>
<p>Remind me of the "previous-to-last" statement that motivates this?</p>



<a name="278306049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278306049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278306049">(Apr 08 2022 at 13:47)</a>:</h4>
<p>The "previous-to-last" statement is the computation of the coefficient "just below the top" of a product of two polynomials/power of a single polynomial.</p>



<a name="278306141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278306141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278306141">(Apr 08 2022 at 13:47)</a>:</h4>
<p>I have not a working version where I no longer need the assumptions that the polynomials are non-constant and the proof is shorter (modulo the brief API for <code>zcoeff</code> which relies on the one for <code>coeff</code>).</p>



<a name="278306357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278306357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278306357">(Apr 08 2022 at 13:48)</a>:</h4>
<p>Here is the "final" lemma, before clean-up:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">eq_right</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">fa</span> <span class="o">:</span> <span class="n">f.nat_degree</span> <span class="bp">≤</span> <span class="n">a</span><span class="o">)</span> <span class="o">(</span><span class="n">gb</span> <span class="o">:</span> <span class="n">g.nat_degree</span> <span class="bp">≤</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">f</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">zcoeff</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">ptl</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="n">b</span> <span class="n">f</span> <span class="n">g</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="n">induction_with_nat_degree_le</span>
    <span class="o">(</span><span class="bp">λ</span> <span class="n">q</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span> <span class="bp">*</span> <span class="n">q</span><span class="o">)</span><span class="bp">.</span><span class="n">zcoeff</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span> <span class="n">pl</span> <span class="n">a</span> <span class="o">(</span><span class="n">b</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="n">f</span> <span class="n">q</span> <span class="bp">+</span> <span class="n">pl</span> <span class="o">(</span><span class="n">a</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="n">b</span> <span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="n">b</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">gb</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">n</span> <span class="n">r</span> <span class="n">r0</span> <span class="n">nb</span><span class="o">,</span>
    <span class="n">rcases</span> <span class="n">exists_add_of_le</span> <span class="n">nb</span> <span class="k">with</span> <span class="o">⟨</span><span class="n">c</span><span class="o">,</span> <span class="n">rfl</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">clear</span> <span class="n">nb</span><span class="o">,</span>
    <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="bp">←</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="n">pl</span><span class="o">,</span> <span class="n">zcoeff_C</span><span class="o">,</span> <span class="n">coeff_X_pow</span><span class="o">,</span> <span class="n">zcoeff_mul_X_pow</span><span class="o">,</span> <span class="n">zcoeff_mul_C</span><span class="o">,</span> <span class="n">sub_eq_zero</span><span class="o">,</span>
      <span class="n">zcoeff_eq_coeff</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">,</span> <span class="n">add_sub_assoc</span><span class="o">,</span> <span class="n">int.coe_nat_add</span><span class="o">,</span> <span class="n">add_sub_cancel'_right</span><span class="o">],</span>
    <span class="n">rcases</span> <span class="n">c</span> <span class="k">with</span> <span class="n">_</span> <span class="bp">|</span> <span class="n">_</span> <span class="bp">|</span> <span class="n">c</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">simp</span> <span class="o">[</span><span class="n">coeff_C</span><span class="o">]</span> <span class="o">},</span>
    <span class="o">{</span> <span class="k">have</span> <span class="n">c1</span> <span class="o">:</span> <span class="bp">¬</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span> <span class="o">(</span><span class="n">add_pos_of_nonneg_of_pos</span> <span class="o">(</span><span class="n">int.coe_zero_le</span> <span class="n">c</span><span class="o">)</span> <span class="n">zero_lt_one</span><span class="o">)</span><span class="bp">.</span><span class="n">ne'</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">flt</span> <span class="o">:</span> <span class="o">(</span><span class="n">f.nat_degree</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">+</span> <span class="o">(</span><span class="n">c</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
      <span class="o">{</span> <span class="n">norm_cast</span><span class="o">,</span>
        <span class="n">exact</span> <span class="n">fa.trans_lt</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span><span class="o">)</span> <span class="o">},</span>
      <span class="n">simp</span> <span class="o">[</span><span class="n">coeff_C</span><span class="o">,</span> <span class="n">c1</span><span class="o">,</span> <span class="n">zcoeff_eq_zero_of_nat_degree_lt</span><span class="o">,</span> <span class="n">flt</span><span class="o">]</span> <span class="o">}</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">exact</span> <span class="bp">λ</span> <span class="n">p</span> <span class="n">q</span> <span class="n">pq</span> <span class="n">qb</span> <span class="n">fq</span> <span class="n">gq</span><span class="o">,</span> <span class="kd">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">fq</span><span class="o">,</span> <span class="n">gq</span><span class="o">,</span> <span class="n">mul_add</span><span class="o">,</span> <span class="n">add_add_add_comm</span><span class="o">]</span> <span class="o">}</span>
<span class="kd">end</span>
</code></pre></div>



<a name="278306502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278306502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278306502">(Apr 08 2022 at 13:49)</a>:</h4>
<p>(Note that this does not work in current mathlib, since I have some API before that in my file.)</p>



<a name="278307080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278307080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278307080">(Apr 08 2022 at 13:53)</a>:</h4>
<p>To bring the attention to something relevant: in the assumptions, <code>a b</code> are natural numbers, but <code>a + b - 1</code> is shielded by <code>zcoeff</code>.  Thus, the edge cases where <code>a</code> or <code>b</code> are <code>0</code> no longer cause pain.</p>



<a name="278307227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278307227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278307227">(Apr 08 2022 at 13:54)</a>:</h4>
<p>(Also, I redefined <code>ptl</code> to use <code>zcoeff</code> instead of <code>coeff</code>, so those <code>a - 1</code> and <code>b - 1</code> that you see there are "safe".)</p>



<a name="278307420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278307420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278307420">(Apr 08 2022 at 13:55)</a>:</h4>
<p>what's <code>ptl</code>?</p>



<a name="278307990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278307990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278307990">(Apr 08 2022 at 13:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/-- "Previous-To-Last coefficient":</span>
<span class="sd">`ptl (a : ℤ) (b : ℤ) (c : ℤ) (d : ℤ) (f : R[X]) (g : R[X]) = f_a * g_b + f_c * g_d`,</span>
<span class="sd">where `p_i` is the `i`th coefficient of the polynomial `p`.</span>
<span class="sd">`ptl` is an auxilliary definition whose main purpose is to prove</span>
<span class="sd">lemma `coeff_mul_nat_degree_add_sub_one`.  The intended application is to compute</span>
<span class="sd">`(f * g)_(deg f + deg g - 1)`, the coefficient of `f * g` just before the top.  -/</span>
<span class="kd">def</span> <span class="n">ptl</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">:</span> <span class="n">R</span> <span class="o">:=</span>
<span class="n">f.zcoeff</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">g.zcoeff</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">f.zcoeff</span> <span class="n">c</span> <span class="bp">*</span> <span class="n">g.zcoeff</span> <span class="n">d</span>
</code></pre></div>
<p>The context is <a href="https://github.com/leanprover-community/mathlib/pull/13200">#13200</a>.</p>



<a name="278308334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278308334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278308334">(Apr 08 2022 at 14:01)</a>:</h4>
<p>To get an idea, you should substitute</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">a</span> <span class="bp">=</span> <span class="n">f.nat_degree</span><span class="o">,</span>
<span class="n">b</span> <span class="bp">=</span> <span class="n">g.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">,</span>
<span class="n">c</span> <span class="bp">=</span> <span class="n">f.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">,</span>
<span class="n">d</span> <span class="bp">=</span> <span class="n">g.nat_degree.</span>
</code></pre></div>



<a name="278309985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278309985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278309985">(Apr 08 2022 at 14:13)</a>:</h4>
<p>I produced a quick PR with what I had: <a href="https://github.com/leanprover-community/mathlib/pull/13240">#13240</a>.</p>



<a name="278334275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278334275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278334275">(Apr 08 2022 at 17:07)</a>:</h4>
<p>I've been doing some work with with_bot recently. It's nice, though needs a bit of work.</p>



<a name="278334653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278334653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278334653">(Apr 08 2022 at 17:10)</a>:</h4>
<p>Fundamentally it is true that there are two, maybe three conventions for the degree of the zero polynomial: negative infinity, 0, and -1. Of these, we only support the first two, and it's the first we call degree. I strongly believe this to be the conceptually "right" choice, but that's mainly because I've been staring at this for a little while now (for other reasons).</p>



<a name="278334853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278334853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278334853">(Apr 08 2022 at 17:11)</a>:</h4>
<p>I think it is a good idea to look at supporting integer indexing of coefficients because in practice this is indeed a thing people tend to sort of assume.</p>



<a name="278335035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278335035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278335035">(Apr 08 2022 at 17:13)</a>:</h4>
<p>I note that in a sense there is a natural extension here: namely defining polynomials in R[x, 1/x]...</p>



<a name="278342375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278342375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278342375">(Apr 08 2022 at 18:14)</a>:</h4>
<p>I'm not yet fully convinced integer coefficients are actually useful, but I won't be able to try anything out in lean (or properly review any PRs) for around a week</p>



<a name="278447040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278447040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278447040">(Apr 10 2022 at 04:13)</a>:</h4>
<p>Eric, here are some thoughts.  The short summary is that</p>
<ul>
<li><code>f.coeff (0 - 1)</code> returns <code>f.coeff 0</code>,</li>
<li><code>f.zcoeff (0 - 1)</code> returns <code>0</code>.<br>
I am pretty sure that If you asked a mathematician, they would say that the $$-1$$st-coefficient of a polynomial is <code>0</code>, not its constant coefficient.</li>
</ul>
<p>The current work-around to this, is to avoid lemmas that imply a out-of-range-nat-subtraction.  This constraint shows up in some awkwardness in proofs.</p>



<a name="278447045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278447045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278447045">(Apr 10 2022 at 04:13)</a>:</h4>
<p>More in detail, the two statements <code>coeff_ident</code> and <code>zcoeff_ident</code> highlight some of the differences between <code>coeff</code> and <code>zcoeff</code>.</p>
<p>I can prove either one of these statements, but the proof of the second version is somewhat cleaner.  As you can see, using <code>zcoeff</code>, there is no need for the assumptions</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">f0</span> <span class="o">:</span> <span class="n">f.nat_degree</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">g0</span> <span class="o">:</span> <span class="n">g.nat_degree</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span>
</code></pre></div>
<p>that appear in <code>coeff_ident</code>.  Note that <code>coeff_ident</code> is false if either one of those assumptions<br>
is not satisfied, because the computation <code>0 - 1</code> yields <code>0</code>, when done in <code>ℕ</code> and <code>-1</code> when done in <code>ℤ</code>.  This difference means that <code>coeff</code> picks up an erroneous <code>f.coeff 0</code>, instead of <code>f.zcoeff (-1)</code>, giving an incorrect result.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.polynomial.degree.definitions</span>

<span class="n">open_locale</span> <span class="n">polynomial</span>
<span class="kn">namespace</span> <span class="n">polynomial</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">f</span> <span class="n">g</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">]}</span>

<span class="c1">-- the two assumptions are not present below in `zcoeff_ident`</span>
<span class="kd">lemma</span> <span class="n">coeff_ident</span> <span class="o">(</span><span class="n">f0</span> <span class="o">:</span> <span class="n">f.nat_degree</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="n">g0</span> <span class="o">:</span> <span class="n">g.nat_degree</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">f</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">coeff</span> <span class="o">(</span><span class="n">f.nat_degree</span> <span class="bp">+</span> <span class="n">g.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">f.coeff</span> <span class="n">f.nat_degree</span> <span class="bp">*</span> <span class="n">g.coeff</span> <span class="o">(</span><span class="n">g.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
    <span class="n">f.coeff</span> <span class="o">(</span><span class="n">f.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g.coeff</span> <span class="n">g.nat_degree</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">def</span> <span class="n">zcoeff</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span> <span class="n">R</span> <span class="o">:=</span>
<span class="n">ite</span> <span class="o">(</span><span class="mi">0</span> <span class="bp">≤</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="n">f.coeff</span> <span class="n">n.to_nat</span><span class="o">)</span> <span class="mi">0</span>

<span class="kd">lemma</span> <span class="n">zcoeff_ident</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">f</span> <span class="bp">*</span> <span class="n">g</span><span class="o">)</span><span class="bp">.</span><span class="n">zcoeff</span> <span class="o">(</span><span class="n">f.nat_degree</span> <span class="bp">+</span> <span class="n">g.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">=</span>
    <span class="n">f.zcoeff</span> <span class="n">f.nat_degree</span> <span class="bp">*</span> <span class="n">g.zcoeff</span> <span class="o">(</span><span class="n">g.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">+</span>
    <span class="n">f.zcoeff</span> <span class="o">(</span><span class="n">f.nat_degree</span> <span class="bp">-</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">g.zcoeff</span> <span class="n">g.nat_degree</span> <span class="o">:=</span>
<span class="gr">sorry</span>

<span class="kd">end</span> <span class="n">polynomial</span>
</code></pre></div>



<a name="278447048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278447048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278447048">(Apr 10 2022 at 04:13)</a>:</h4>
<p>As I mentioned above, what makes the proof easier in the second case is that <code>ℤ</code> is a (commutative) ring, as opposed to just a (commutative) semi_ring.  In particular, <code>linarith</code> works better and the lemmas<br>
<a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.coeff_mul_X_pow">docs#polynomial.coeff_mul_X_pow</a><br>
<a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.coeff_mul_X_pow'">docs#polynomial.coeff_mul_X_pow'</a><br>
can be restated as</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">zcoeff_mul_X_pow</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">R</span><span class="o">[</span><span class="n">X</span><span class="o">])</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">f</span> <span class="bp">*</span> <span class="n">X</span> <span class="bp">^</span> <span class="n">a</span><span class="o">)</span><span class="bp">.</span><span class="n">zcoeff</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">f.zcoeff</span> <span class="o">(</span><span class="n">n</span> <span class="bp">-</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>
<p>(The same applies to the sibling-lemmas without <code>pow</code> of with <code>mul</code> at the end.)</p>



<a name="278450726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278450726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278450726">(Apr 10 2022 at 06:07)</a>:</h4>
<p>I think it's irrelevant to ask what a mathematician thinks <code>0-1</code> is, we all know that natural subtraction is a pathological operation</p>



<a name="278452386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278452386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278452386">(Apr 10 2022 at 06:55)</a>:</h4>
<p>Oh, sorry for the confusion: I meant to ask for the coefficient of <code>x^(-1)</code>!</p>



<a name="278452859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278452859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278452859">(Apr 10 2022 at 07:08)</a>:</h4>
<p>What about if they want to ask for the coefficient of <code>x^0.5</code> or <code>x^√2</code> or .... It's not clear to me where you draw the "that's not a reasonable question to ask a polynomial" line</p>



<a name="278453006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278453006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278453006">(Apr 10 2022 at 07:12)</a>:</h4>
<p>Would it be better to introduce the type of Laurent polynomials which really do have a <code>x^-1</code> term?</p>



<a name="278453010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278453010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278453010">(Apr 10 2022 at 07:12)</a>:</h4>
<p>My point of view is that Laurent polynomials are a good "stopping point".</p>



<a name="278453032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278453032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278453032">(Apr 10 2022 at 07:13)</a>:</h4>
<p>I would be happy with converting to Laurent polynomials, though would need to see how much of the API for coefficients "just works".</p>



<a name="278453076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278453076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278453076">(Apr 10 2022 at 07:14)</a>:</h4>
<p>I would think "promote my polynomials to Laurent polynomials, then use <code>laurent_polynomial.coeff</code> would produce a cleaner proof</p>



<a name="278453236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278453236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278453236">(Apr 10 2022 at 07:19)</a>:</h4>
<p>Ok, I like this suggestion: I'll try it out once I'm back at a computer!</p>



<a name="278454438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278454438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278454438">(Apr 10 2022 at 07:52)</a>:</h4>
<p>Presumably since they're used a lot less, it's not worth writing the hundreds of lines of boilerplate to make Laurent polynomials irreducible</p>



<a name="278454509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278454509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278454509">(Apr 10 2022 at 07:53)</a>:</h4>
<p>And instead just do something like <code>abbreviation laurent_polynomial := add_monoid_algebra R ℤ</code> (maybe those arguments are backwards)</p>



<a name="278462596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278462596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278462596">(Apr 10 2022 at 11:19)</a>:</h4>
<p>Is there a coercion from <code>R[X]</code> to <code>laurent_series R</code>?</p>
<p>I cannot find one, but I have missed out on instances several times!</p>



<a name="278463057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463057">(Apr 10 2022 at 11:30)</a>:</h4>
<p>It will start with <code>to_finsupp</code></p>



<a name="278463061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463061">(Apr 10 2022 at 11:30)</a>:</h4>
<p>How's <a href="https://leanprover-community.github.io/mathlib_docs/find/laurent_series">docs#laurent_series</a> defined?</p>



<a name="278463089"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463089" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463089">(Apr 10 2022 at 11:31)</a>:</h4>
<p>Via <code>hahn_series/power_series</code>.</p>



<a name="278463231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463231">(Apr 10 2022 at 11:34)</a>:</h4>
<p>I think you might need to chain together a lot of conversions</p>



<a name="278463257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463257">(Apr 10 2022 at 11:35)</a>:</h4>
<p>The design of polynomial vs power_series are quite different compared to <code>mv_polynomial</code> vs <code>mv_power_series</code></p>



<a name="278463340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278463340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278463340">(Apr 10 2022 at 11:36)</a>:</h4>
<p>Yes, I am seeing this.  I am hoping that, as long as I have the coercion, I'd be able to piggy-back on the <code>polynomial.coeff</code> API.</p>
<p>I'll try to get the coercion working!</p>



<a name="278464234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278464234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278464234">(Apr 10 2022 at 11:57)</a>:</h4>
<p>Note I was suggesting defining <code>laurent_polynomial</code>, not trying to use <code>laurent_series</code></p>



<a name="278497871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/278497871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#278497871">(Apr 11 2022 at 00:30)</a>:</h4>
<p>Eric, thank you for patiently pointing out that we are talking about Laurent <em>polynomials</em>.  Although I had this in mind, I kept reading not seeing that I was using Laurent <em>series</em> and was convinced that they were <em>polynomials</em>.</p>



<a name="280488980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280488980" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280488980">(Apr 28 2022 at 12:57)</a>:</h4>
<p>Where did we reach on this?</p>



<a name="280489137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489137">(Apr 28 2022 at 12:58)</a>:</h4>
<p>I think the most recent progress was <a href="https://leanprover-community.github.io/mathlib_docs/find/add_monoid_algebra.map_domain_alg_hom">docs#add_monoid_algebra.map_domain_alg_hom</a>, for turning polynomials into laurent polynomials (with <code>f=algebra_map N Z</code> or some equivalent spelling)</p>



<a name="280489294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489294">(Apr 28 2022 at 12:59)</a>:</h4>
<p>Aha.</p>



<a name="280489435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489435">(Apr 28 2022 at 13:00)</a>:</h4>
<p>Do we have much API for laurent polynomials?</p>



<a name="280489515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489515">(Apr 28 2022 at 13:00)</a>:</h4>
<p>Not until <a href="https://github.com/leanprover-community/mathlib/pull/13415">#13415</a></p>



<a name="280489614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489614">(Apr 28 2022 at 13:01)</a>:</h4>
<p>I have a number of thoughts on this - I'm currently working with a paper that uses, uh - a bunch of stuff, and freely converts between them.</p>



<a name="280489626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489626" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489626">(Apr 28 2022 at 13:01)</a>:</h4>
<p>Unless you phrase your question as "do we have API for <code>add_monoid_algebra Z R</code>?", in which the asnwer is "probably".</p>



<a name="280489635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280489635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280489635">(Apr 28 2022 at 13:01)</a>:</h4>
<p>Not my paper, to be clear.</p>



<a name="280490837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280490837" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280490837">(Apr 28 2022 at 13:10)</a>:</h4>
<p>But for a field k, they use, uh:</p>
<ul>
<li>polynomials k[x]</li>
<li>the field of rational functions k(x)</li>
<li>k [[x]] (formal power series with nonnegative powers)</li>
<li>k[[1/x]] (formal power series with nonpositive powers)</li>
<li>k((x)) (formal power series with finitely many negative powers)</li>
<li>k((1/x)) (formal power series with finitely many positive powers)</li>
</ul>
<p>(And they also claim that k(x), the field of rational functions, is contained in k((1/x)) - is this even true??)</p>
<p>Also they merrily use notions of <code>coeff</code> and <code>degree</code> on this (as well as, essentially, <code>leading_degree</code>).</p>



<a name="280490878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280490878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280490878">(Apr 28 2022 at 13:11)</a>:</h4>
<p>This is all, uh, A Lot. I was wondering how much of the above hierarchy we actually had.</p>



<a name="280491093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491093">(Apr 28 2022 at 13:13)</a>:</h4>
<p>I note that that Laurent implementation doesn't even define the degree of a Laurent polynomial. And at the very least, surely R[1/X] would be a useful thing to have? Which corresponds interestingly with <code>leading_degree</code>, I note - in some sense the most general codomain of degree/leading_degree, and domain of coeff, is <code>with_top (with_bot Z)</code> - which would at least put it all on the same footing..</p>



<a name="280491243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491243">(Apr 28 2022 at 13:14)</a>:</h4>
<p>I think as much as possible, results on <code>polynomial</code> should at least be generalised to results on <code>laurent_polynomial</code> and backported.</p>



<a name="280491267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491267">(Apr 28 2022 at 13:14)</a>:</h4>
<p><code>eint</code>, in the same fashion as <a href="https://leanprover-community.github.io/mathlib_docs/find/ereal">docs#ereal</a> and <a href="https://leanprover-community.github.io/mathlib_docs/find/ennreal">docs#ennreal</a>?</p>



<a name="280491304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491304">(Apr 28 2022 at 13:14)</a>:</h4>
<p>Yes - do we not already have it?</p>



<a name="280491758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491758">(Apr 28 2022 at 13:17)</a>:</h4>
<p>Well, it's <code>with_top (with_bot ℤ)</code>, but nothing more. At this point, we really ought to find a proper way to handle it alongside <code>ennreal</code> and <code>ereal</code>, because handmade lemmas only go so far. Maybe <code>linear_ordered_ring_with_bot_top</code>?</p>



<a name="280491851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491851">(Apr 28 2022 at 13:18)</a>:</h4>
<p>Is <code>R[1/X] </code> different in any meaningful way from <code>R[X] </code>?</p>



<a name="280491891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491891">(Apr 28 2022 at 13:18)</a>:</h4>
<p>The type of the degree :)</p>



<a name="280491935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491935">(Apr 28 2022 at 13:18)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span>, we really need a working version of <code>covariant_class</code> for "extended ordered rings"</p>



<a name="280491953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491953" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491953">(Apr 28 2022 at 13:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280491243">said</a>:</p>
<blockquote>
<p>I think as much as possible, results on <code>polynomial</code> should at least be generalised to results on <code>laurent_polynomial</code> and backported.</p>
</blockquote>
<p>This amounts to stating the results about <code>add_monoid_algebra</code> I think</p>



<a name="280491963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491963">(Apr 28 2022 at 13:19)</a>:</h4>
<p>I got a little side-tracked with the <code>laurent_polynomial</code> PR, but I was more or less happy with it, modulo the stuff that got merged in <code>monoid_algebra</code>.</p>



<a name="280491989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280491989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280491989">(Apr 28 2022 at 13:19)</a>:</h4>
<p>The degree of the 0 polynomial in 1/X should really be +infinity.</p>



<a name="280492024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492024">(Apr 28 2022 at 13:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280490837">said</a>:</p>
<blockquote>
<p>(And they also claim that k(x), the field of rational functions, is contained in k((1/x)) - is this even true??)</p>
</blockquote>
<p>Note that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k((1/x))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">((</span><span class="mord">1/</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span> is a field which contains both <code>k</code> and <code>x</code>, so this must be true :)</p>



<a name="280492038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492038">(Apr 28 2022 at 13:19)</a>:</h4>
<p>And indeed the degrees are nonpositive integers...</p>



<a name="280492053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492053">(Apr 28 2022 at 13:19)</a>:</h4>
<p>I could make it <code>available-for-review</code>, if people want.  I find it a little longish for a single PR, but it is a new file, which comes with copyright and some docmodule...</p>



<a name="280492061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492061">(Apr 28 2022 at 13:19)</a>:</h4>
<p>Why not dualize? <code>order_dual (with_bot ℕ)</code></p>



<a name="280492076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492076">(Apr 28 2022 at 13:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280492024">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280490837">said</a>:</p>
<blockquote>
<p>(And they also claim that k(x), the field of rational functions, is contained in k((1/x)) - is this even true??)</p>
</blockquote>
<p>Note that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k((1/x))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">((</span><span class="mord">1/</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span> is a field which contains both <code>k</code> and <code>x</code>, so this must be true :)</p>
</blockquote>
<p>so it is - thank you.</p>



<a name="280492131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492131">(Apr 28 2022 at 13:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280492061">said</a>:</p>
<blockquote>
<p>Why not dualize? <code>order_dual (with_bot ℕ)</code></p>
</blockquote>
<p>That's definitely what you want to do.</p>



<a name="280492247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492247">(Apr 28 2022 at 13:21)</a>:</h4>
<p>But these things are useful. In particular in this paper there's an offhand remark "many of these results and proofs work for k((1/x)) but for ease are stated for k[x]", and kinda they implictly use it. Which as I say I find a bit irritating.</p>



<a name="280492289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492289">(Apr 28 2022 at 13:21)</a>:</h4>
<p>Also I got told off by the author yesterday for natural number subtraction, and that one isn't even my fault :P</p>



<a name="280492293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492293">(Apr 28 2022 at 13:21)</a>:</h4>
<p>My plan was to get porting stuff from <code>polynomial</code>s to <code>laurent_polynomial</code>s "easy", which was part of my interest in learning meta-programming.</p>



<a name="280492407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492407">(Apr 28 2022 at 13:22)</a>:</h4>
<p>Can we define <code>degree</code> on <code>add_monoid_algebra</code> as the maximum (after coercion to <code>with_bot</code>) of the support?</p>



<a name="280492420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492420">(Apr 28 2022 at 13:22)</a>:</h4>
<p>(though this kind of automation is certainly not in scope for the current PR and would be left for a subsequent one.)</p>



<a name="280492518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492518">(Apr 28 2022 at 13:23)</a>:</h4>
<p>Eric, assuming that there is some form of order on the grading type, why not?</p>



<a name="280492519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492519">(Apr 28 2022 at 13:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280492289">said</a>:</p>
<blockquote>
<p>Also I got told off by the author yesterday for natural number subtraction, and that one isn't even my fault :P</p>
</blockquote>
<p>Quite often you want to do things like subtract degrees from one another though, and it would be good to, you know, be able to do that...</p>



<a name="280492549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492549">(Apr 28 2022 at 13:23)</a>:</h4>
<p>I would like to use more of the <code>finset.semiring</code> (or however it is called)</p>



<a name="280492588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492588">(Apr 28 2022 at 13:23)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/set.set_semiring">docs#set.set_semiring</a>?</p>



<a name="280492661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492661">(Apr 28 2022 at 13:24)</a>:</h4>
<p>yes, <a href="https://leanprover-community.github.io/mathlib_docs/find/set.semiring">docs#set.semiring</a>, thanks Yaël!</p>



<a name="280492669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492669">(Apr 28 2022 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280492407">said</a>:</p>
<blockquote>
<p>Can we define <code>degree</code> on <code>add_monoid_algebra</code> as the maximum (after coercion to <code>with_bot</code>) of the support?</p>
</blockquote>
<p>And <code>leading_degree</code>, I think. Arguably would be good to have them both have the same codomain as I say.</p>



<a name="280492725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492725">(Apr 28 2022 at 13:24)</a>:</h4>
<p>except that (for polynomials and laurent polynomials) the support is a finset and this should play a role.</p>



<a name="280492785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492785">(Apr 28 2022 at 13:25)</a>:</h4>
<p>(I have a meeting in 2 minutes, I'll come back to this once I am done!)</p>



<a name="280492809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492809">(Apr 28 2022 at 13:25)</a>:</h4>
<p><code>leading_degree</code> would be the min, not the max?</p>



<a name="280492829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492829">(Apr 28 2022 at 13:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280492809">said</a>:</p>
<blockquote>
<p><code>leading_degree</code> would be the min, not the max?</p>
</blockquote>
<p>well it's all the same modulo the dual (yes)</p>



<a name="280492855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492855">(Apr 28 2022 at 13:25)</a>:</h4>
<p>I don't think that's consistent with the naming of <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.leading_coeff">docs#polynomial.leading_coeff</a>, where leading refers to the term of highest degree</p>



<a name="280492926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492926">(Apr 28 2022 at 13:26)</a>:</h4>
<p>Sorry, I mean <code>trailing_degree</code></p>



<a name="280492994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280492994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280492994">(Apr 28 2022 at 13:26)</a>:</h4>
<p>You could call them <code>trailing_degree</code> and <code>leading_degree</code> I guess.</p>



<a name="280493118"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493118" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493118">(Apr 28 2022 at 13:27)</a>:</h4>
<p>Although those spellings are longer than <code>.support.min</code> and <code>.support.max</code></p>



<a name="280493127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493127">(Apr 28 2022 at 13:27)</a>:</h4>
<p>Yes.</p>



<a name="280493234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493234">(Apr 28 2022 at 13:28)</a>:</h4>
<p>But useful to have the context-appropriate name maybe.</p>



<a name="280493269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493269" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493269">(Apr 28 2022 at 13:28)</a>:</h4>
<p>It would be great to generalize some of the results about <code>polynomial.nat_degree</code> to <code>.support.min</code></p>



<a name="280493295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493295">(Apr 28 2022 at 13:28)</a>:</h4>
<p>Ideally they should also work on <code>k((x))</code>. I don't know how hard that is to define or do.</p>



<a name="280493339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493339">(Apr 28 2022 at 13:29)</a>:</h4>
<p><del><code>k((x))</code> is <a href="https://leanprover-community.github.io/mathlib_docs/find/power_series">docs#power_series</a>, right?</del></p>



<a name="280493342"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493342" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493342">(Apr 28 2022 at 13:29)</a>:</h4>
<p>But clearly there is still a sensible notion of <code>.support.min</code> and <code>.support.max</code> there.</p>



<a name="280493385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493385">(Apr 28 2022 at 13:29)</a>:</h4>
<p>Ah - yes.</p>



<a name="280493437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493437">(Apr 28 2022 at 13:30)</a>:</h4>
<p>But things should be consistent, and if we can prove stuff in the highest generality, that's all for the good.</p>



<a name="280493544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493544">(Apr 28 2022 at 13:30)</a>:</h4>
<p>Wait - no, k[[x]] is the power series?</p>



<a name="280493740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493740">(Apr 28 2022 at 13:32)</a>:</h4>
<p>k((x)) is - well, dunno what you do for ring, when you really want to not have k((x)) be a field. But k[[x]] doesn't allow for negative-degree coefficents  - k((x)) allows for finitely many.</p>



<a name="280493791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493791">(Apr 28 2022 at 13:32)</a>:</h4>
<p>I am not sure I understand the definition of <code>power_series</code>/<code>mv_power_series</code> - why does it use <code>→₀</code>? Surely the point is that the support <em>isn't</em> finite?</p>



<a name="280493846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493846">(Apr 28 2022 at 13:33)</a>:</h4>
<p>Ah sorry, I misread "finitely many negative coefficients" as "_only_ negative coefficients, of which there are finitely many"</p>



<a name="280493870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493870">(Apr 28 2022 at 13:33)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/7626">#7626</a> might be related to trying to generalize here</p>



<a name="280493923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280493923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280493923">(Apr 28 2022 at 13:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280493791">said</a>:</p>
<blockquote>
<p>I am not sure I understand the definition of <code>power_series</code>/<code>mv_power_series</code> - why does it use <code>→₀</code>? Surely the point is that the support <em>isn't</em> finite?</p>
</blockquote>
<p>That refers to the number of variables in each monomial being finite</p>



<a name="280494179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280494179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280494179">(Apr 28 2022 at 13:35)</a>:</h4>
<p>aha, right right</p>



<a name="280494262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280494262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280494262">(Apr 28 2022 at 13:36)</a>:</h4>
<p>sorry, yes, I see the definition now.</p>



<a name="280494370"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280494370" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280494370">(Apr 28 2022 at 13:37)</a>:</h4>
<p>You can probably define the formal derivative for some or all of these also.</p>



<a name="280494595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280494595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280494595">(Apr 28 2022 at 13:38)</a>:</h4>
<p>I'm not sure if this was already established but Laurent series are <a href="https://leanprover-community.github.io/mathlib_docs/ring_theory/laurent_series.html">https://leanprover-community.github.io/mathlib_docs/ring_theory/laurent_series.html</a> (built on Hahn series) and <a href="https://leanprover-community.github.io/mathlib_docs/find/hahn_series.order">docs#hahn_series.order</a> gives the leading exponent, or whatever it should be called</p>



<a name="280494938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280494938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280494938">(Apr 28 2022 at 13:40)</a>:</h4>
<p>Ah nice. I... don't understand what a Hahn series is. In theory would that give you everything in the hierarchy above?</p>



<a name="280495012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495012">(Apr 28 2022 at 13:41)</a>:</h4>
<p>I think so (except the function field k(x))</p>



<a name="280495157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495157">(Apr 28 2022 at 13:42)</a>:</h4>
<p>Aye, though as pointed out above surely if you have k((x)) and k is a field you must have k(x) within it?</p>



<a name="280495199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495199">(Apr 28 2022 at 13:42)</a>:</h4>
<p>So maybe with even more structure on <code>R</code>.</p>



<a name="280495205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495205">(Apr 28 2022 at 13:42)</a>:</h4>
<p>e.g., polynomials should be Hahn series with the discrete ordering, though in this case you wouldn't get any notion of degree/trailing degree out from that</p>



<a name="280495254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495254">(Apr 28 2022 at 13:43)</a>:</h4>
<p>(discrete ordering on <code>nat</code>)</p>



<a name="280495256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495256">(Apr 28 2022 at 13:43)</a>:</h4>
<p>Is there a natural way to define one?</p>



<a name="280495425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495425">(Apr 28 2022 at 13:44)</a>:</h4>
<p>Like, can we not still define <code>support.max</code> and <code>.support.min</code></p>



<a name="280495508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495508">(Apr 28 2022 at 13:44)</a>:</h4>
<p>You can by deciding that <code>nat</code> has an order after all. So probably it is better not to think of polynomials as Hahn series.</p>



<a name="280495560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495560">(Apr 28 2022 at 13:45)</a>:</h4>
<p>As far as I can tell, multivariate power series over infinitely many variables don't "fit" into a <code>hahn_series</code>? (c.f. <a href="https://leanprover-community.github.io/mathlib_docs/find/hahn_series.to_mv_power_series">docs#hahn_series.to_mv_power_series</a> )</p>



<a name="280495604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495604">(Apr 28 2022 at 13:45)</a>:</h4>
<p>Hmm. But then we don't have this nice hierarchy.</p>



<a name="280495835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495835">(Apr 28 2022 at 13:46)</a>:</h4>
<p>For a univariate series then they're isomorphic (<a href="https://leanprover-community.github.io/mathlib_docs/find/hahn_series.to_power_series">docs#hahn_series.to_power_series</a>)</p>



<a name="280495905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280495905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280495905">(Apr 28 2022 at 13:47)</a>:</h4>
<p>(I mean, we don't need it necessarily! It just seems to me that there might be an appropriate level of generality to do this all at that isn't where things currently are - entirely prosaically, y'know, it would be quite nice as in the OP to have a <code>zcoeff</code> notion, but then this naturally leads to all these questions.)</p>



<a name="280496399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280496399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280496399">(Apr 28 2022 at 13:50)</a>:</h4>
<p>(Separately, but not entirely unrelatedly, it would be quite useful to have, analogous to <code>degree_lt n</code> and <code>degree_le n</code>, <code>trailing_degree_gt n</code> and <code>trailing_degree_gt m</code>. And possibly something like degree_Ioo n m (n &lt; trailing_degree, trailing_degree &lt; m). You then have a bunch of natural equivalences on these.)</p>



<a name="280496805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280496805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280496805">(Apr 28 2022 at 13:53)</a>:</h4>
<p>For k[x] those guys are ideals. But yes for k((x)) they sound very useful.</p>



<a name="280496939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280496939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280496939">(Apr 28 2022 at 13:54)</a>:</h4>
<p>(I mention it because such notions also make sense for, well, nearly any of these, and also under that basis, you basically have R[x], R[1/x], R((x)), R((1/x)) as subspaces of... is it R[x, 1/x]? I lose track of the notions. No, R((x, 1/x))?)</p>



<a name="280496945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280496945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280496945">(Apr 28 2022 at 13:54)</a>:</h4>
<p>laurent series.</p>



<a name="280497034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280497034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280497034">(Apr 28 2022 at 13:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280496805">said</a>:</p>
<blockquote>
<p>For k[x] those guys are ideals. But yes for k((x)) they sound very useful.</p>
</blockquote>
<p>Are <code>degree_lt n</code> not ideals/modules also?</p>



<a name="280497085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280497085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280497085">(Apr 28 2022 at 13:55)</a>:</h4>
<p>Like I'm not sure I see the difference and <code>degree_lt n</code> is useful.</p>



<a name="280497363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280497363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280497363">(Apr 28 2022 at 13:57)</a>:</h4>
<p>like in particular these are nice finite-dimensional spaces, at least over a field (can you define that over a ring?)</p>



<a name="280497424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280497424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280497424">(Apr 28 2022 at 13:57)</a>:</h4>
<p>So one can then Do Linear Algebra to them</p>



<a name="280503313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280503313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280503313">(Apr 28 2022 at 14:37)</a>:</h4>
<p>As far as I have gathered from this discussion, this lines up well with what I wanted to do all along.  Most of the rings mentioned above are some variation of "formal sums of monomials".  Here, "monomial" means "something indexed by an <code>(add_)monoid</code> that often has an order.  Whether we take finite sums, sums of non-negative elements, infinite sums whose exponents form a well-founded set, all sums,... the "degree" is always a function that only depends on the support.  For this reason I wanted to relate it to the <code>set.semiring</code>.  E.g. there is nothing special about a "polynomial", these notions go directly via the support.</p>
<p>With respect to the relationship between <code>nat_degree</code> and <code>nat_trailing_degree</code>, this was one of the very first projects that I started in Lean.  I wanted to get a procedure that would take a lemma for <code>nat_degree</code> and convert it to a lemma for <code>nat_trailing_degree</code>.  I have been playing with this idea for a while and I suspect that this should be possible by a mechanism similar to <code>to_additive</code>, although I do not understand <code>to_additive</code> and how it works...</p>
<p>The more I think about this, the more I think that there is the need for <code>to_dual</code>: <code>trailing_degree</code> is what you obtain from <code>nat_degree</code>by conjugating by <code>to_dual</code>.</p>



<a name="280507245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507245">(Apr 28 2022 at 15:03)</a>:</h4>
<p>Isn't it what you obtain from <code>degree</code>?</p>



<a name="280507293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507293">(Apr 28 2022 at 15:03)</a>:</h4>
<p>Because you also have <code>nat_trailing_degree</code>.</p>



<a name="280507369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507369">(Apr 28 2022 at 15:04)</a>:</h4>
<p>I very much agree <span class="user-mention" data-user-id="321459">@Damiano Testa</span> and it's interesting we started in a similar place.</p>



<a name="280507614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507614">(Apr 28 2022 at 15:05)</a>:</h4>
<p>For dualization to happen correctly, you need to let go off concrete types, namely <code>ℕ</code> for <code>polynomial</code>.</p>



<a name="280507619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507619">(Apr 28 2022 at 15:05)</a>:</h4>
<p>I meant to say that I think that I was the one who defined <code>nat_trailing_degree</code>, thinking that it would have been much easier to convert the <code>nat_degree</code> API to it, but then got stumped by my inexperience with Lean!</p>



<a name="280507755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507755">(Apr 28 2022 at 15:06)</a>:</h4>
<p>Yaël, this is why I wanted to go via <code>set.semiring</code>, to disattach the "grading" type from the polynomials.</p>



<a name="280507761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507761">(Apr 28 2022 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280507614">said</a>:</p>
<blockquote>
<p>For dualization to happen correctly, you need to let go off concrete types, namely <code>ℕ</code> for <code>polynomial</code>.</p>
</blockquote>
<p>This feels fine. I mean, it's not like our notion of polynomial is computable anyway. As long is it has a nice surface interface.</p>



<a name="280507866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507866">(Apr 28 2022 at 15:06)</a>:</h4>
<p>I continue to like <code>degree</code> a lot more than <code>nat_degree</code> because it means I have to check for 0 less, which I basically never want to have to do.</p>



<a name="280507926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280507926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280507926">(Apr 28 2022 at 15:07)</a>:</h4>
<p><code>0.degree</code> is meaningful, and <code>0.nat_degree</code> isn't.</p>



<a name="280508146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508146">(Apr 28 2022 at 15:08)</a>:</h4>
<p>I am fascinated as to what <code>next_coeff_up</code> was useful for. That seems very cursed.</p>



<a name="280508201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508201">(Apr 28 2022 at 15:09)</a>:</h4>
<p>I was very scared of <code>option</code> when I started formalizing <code>nat_trailing_degree</code>, hence why I did not define <code>trailing_degree</code>!</p>
<p>I am more comfortable with <code>option</code>s now, but I still feel that for Laurent polynomials I would want to think a little more about what to assign as the degree of the <code>0</code> polynomial.  I keep thinking that the most reasonable thing is to assign to a laurent polynomial its support as a (finite) subset of <code>int</code> and whether it is empty or not is a natural case split.</p>



<a name="280508325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508325">(Apr 28 2022 at 15:09)</a>:</h4>
<p>The degree of 0 should still be <code>-infinity</code> for Laurent polynomials.</p>



<a name="280508341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508341">(Apr 28 2022 at 15:10)</a>:</h4>
<p>What else should it be?</p>



<a name="280508428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508428" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508428">(Apr 28 2022 at 15:10)</a>:</h4>
<p>I think that <code>next_coeff_up</code> was useful for the fact that it is <code>0</code> when nat-subtraction would give some weird answer.  E.g. <code>next_coeff_up</code> of a constant is <code>0</code>, rather than the constant itself!</p>



<a name="280508558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508558">(Apr 28 2022 at 15:11)</a>:</h4>
<p>Taking <code>X</code> to <code>X^-1</code> is a ring automorphism of Laurent polynomials that changes the sign on degrees, so why <code>-infinity</code> and not <code>+infinity</code>?</p>



<a name="280508717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508717">(Apr 28 2022 at 15:12)</a>:</h4>
<p>Degree is the max of the support.</p>



<a name="280508788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508788" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508788">(Apr 28 2022 at 15:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280508558">said</a>:</p>
<blockquote>
<p>Taking <code>X</code> to <code>X^-1</code> is a ring automorphism of Laurent polynomials that changes the sign on degrees, so why <code>-infinity</code> and not <code>+infinity</code>?</p>
</blockquote>
<p>Ah, you see, this is very simple: it should be a different space.</p>



<a name="280508875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508875">(Apr 28 2022 at 15:13)</a>:</h4>
<p>Like, yes, it's an automorphism. But we could also think of it as reversing the underlying index.</p>



<a name="280508915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508915">(Apr 28 2022 at 15:13)</a>:</h4>
<p>I agree that there is a definition of <code>degree</code> that makes the degree of the <code>0</code> polynomial equal to <code>-infinity</code>, I was simply wondering whether I am happy with that definition.  I am for the case of polynomials, not so much for Laurent polynomials.</p>



<a name="280508919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280508919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280508919">(Apr 28 2022 at 15:13)</a>:</h4>
<p>In other words, 1 / x + 1 + x is not equal to x + 1 + 1/x.</p>



<a name="280509030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509030">(Apr 28 2022 at 15:14)</a>:</h4>
<p>Or rather, x + 1 + 1/x is not a laurent polynomial, it's in the dual.</p>



<a name="280509234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509234">(Apr 28 2022 at 15:15)</a>:</h4>
<p>I would definitely consider <code>1 / x + 1 + x</code> <em>and</em> <code>x + 1 + 1/x</code> to be Laurent polynomials!  Also, I would say that the first thing that I think that would be the dual of Laurent polynomials would be formal power series with exponents in <code>int</code>.</p>



<a name="280509279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509279">(Apr 28 2022 at 15:15)</a>:</h4>
<p>I think <code>x + 1 + 1/x</code> is a Laurent polynomial, but it's also not.</p>



<a name="280509488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509488">(Apr 28 2022 at 15:17)</a>:</h4>
<p>Like, formally, a Laurent polynomial is a finitely-supported map from Z to R.</p>



<a name="280509870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509870">(Apr 28 2022 at 15:19)</a>:</h4>
<p>Indeed, this is what Laurent polynomials are defined to be in <a href="https://github.com/leanprover-community/mathlib/pull/13415">#13415</a>.</p>



<a name="280509916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280509916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280509916">(Apr 28 2022 at 15:19)</a>:</h4>
<p>We have some (F : Z →₀ R). Define <a href="http://F.degree">F.degree</a> = F.support.max, with with_bot added to Z. Alright - so yes, there's this natural automorphism that switches x and 1/x. What I'm saying is that it could switch the type, so that after the automorphism, we have something of type order_dual Z →₀ R.</p>



<a name="280510113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510113">(Apr 28 2022 at 15:20)</a>:</h4>
<p>I wonder whether the degree of a Laurent polynomial should take values in <code>with_zero int</code> and be a <code>add_group_with_zero</code>.</p>



<a name="280510163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510163">(Apr 28 2022 at 15:21)</a>:</h4>
<p>No, totally disagreed.</p>



<a name="280510171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510171">(Apr 28 2022 at 15:21)</a>:</h4>
<p>Or it doesn't preserve the degree. Which is OK - the degree isn't a property of it as a ring, it's a property that comes from the order on Z. But because of that, it feels like you have this order + algebra property.</p>



<a name="280510348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510348">(Apr 28 2022 at 15:22)</a>:</h4>
<p>I do see what you mean - zero IS weird. But I think this notion I propose is consistent with the embedding of polynomials.</p>



<a name="280510408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510408">(Apr 28 2022 at 15:22)</a>:</h4>
<p>I am suggesting that there should be "two" zeros in <code>degree</code>: one corresponding to the degree of the "constant and non-zero Laurent polynomials"  and one corresponding <em>only</em> to the degree of the <code>0</code> polynomial.</p>



<a name="280510455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510455">(Apr 28 2022 at 15:23)</a>:</h4>
<p>No, I understand. But that's just adding a junk value.</p>



<a name="280510519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510519">(Apr 28 2022 at 15:23)</a>:</h4>
<p>The same junk that <code>-infinity</code> is, except with better properties.</p>



<a name="280510522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510522">(Apr 28 2022 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> : we don't have a <a href="https://leanprover-community.github.io/mathlib_docs/find/add_group_with_zero">docs#add_group_with_zero</a>.</p>



<a name="280510599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510599">(Apr 28 2022 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280510519">said</a>:</p>
<blockquote>
<p>The same junk that <code>-infinity</code> is, except with better properties.</p>
</blockquote>
<p>I disagree. -infinity isn't junk.</p>



<a name="280510604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510604">(Apr 28 2022 at 15:24)</a>:</h4>
<p>Ok, so <code>with_zero (multiplicative int)</code>.</p>



<a name="280510640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510640">(Apr 28 2022 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280510522">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> : we don't have a <a href="https://leanprover-community.github.io/mathlib_docs/find/add_group_with_zero">docs#add_group_with_zero</a>.</p>
</blockquote>
<p>But we do have <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_group_with_top">docs#linear_ordered_add_comm_group_with_top</a></p>



<a name="280510649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510649">(Apr 28 2022 at 15:24)</a>:</h4>
<p>Like I guess there is fundamentally this discontinuity - maybe it SHOULD be junk, I'm not sure.</p>



<a name="280510721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510721">(Apr 28 2022 at 15:25)</a>:</h4>
<p>I disagree that the degree of the <code>0</code> Laurent polynomial should be either top or bot.  I agree that it should be an absorbing element of the monoid where the degree takes values.</p>



<a name="280510755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510755">(Apr 28 2022 at 15:25)</a>:</h4>
<p>I think you just want <code>option</code> then.</p>



<a name="280510871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510871">(Apr 28 2022 at 15:26)</a>:</h4>
<p>I assume you agree that the degree of 0 in R[1/X] should be +infinity?</p>



<a name="280510919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510919">(Apr 28 2022 at 15:26)</a>:</h4>
<p>I'm happy with option, but I want <code>none</code> to be absorbing, which is why I was calling it <code>0</code> (and viewing addition on int as the operation in the "rest" of the monoid).</p>



<a name="280510933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510933">(Apr 28 2022 at 15:26)</a>:</h4>
<p>So yeah there is this issue I guess that it wants to be "both", somehow - maybe this absorbing element captures that.</p>



<a name="280510979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280510979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280510979">(Apr 28 2022 at 15:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280510721">said</a>:</p>
<blockquote>
<p>I disagree that the degree of the <code>0</code> Laurent polynomial should be either top or bot.  I agree that it should be an absorbing element of the monoid where the degree takes values.</p>
</blockquote>
<p><code>⊤ + a = a + ⊤ = ⊤</code>. Isn't that exactly what you want?</p>



<a name="280511017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511017">(Apr 28 2022 at 15:27)</a>:</h4>
<p>The argument is whether it should be top or bot.</p>



<a name="280511040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511040">(Apr 28 2022 at 15:27)</a>:</h4>
<p>I think <code>infinity</code> and <code>-infinity</code> make sense for <code>R[X]</code> and for <code>R[1/X]</code>.  i think that neither makes sense for Laurent polynomials.</p>



<a name="280511075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511075">(Apr 28 2022 at 15:27)</a>:</h4>
<p>My answer to the argument is that it should be neither the top, nor the bottom.</p>



<a name="280511170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511170">(Apr 28 2022 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280511040">said</a>:</p>
<blockquote>
<p>I think <code>infinity</code> and <code>-infinity</code> make sense for <code>R[X]</code> and for <code>R[1/X]</code>.  i think that neither makes sense for Laurent polynomials.</p>
</blockquote>
<p>Well, I think you can choose one, and that choice is better than a random junk value, but it means choosing whether you have a copy of R[X] or R[1/X] in R{X, 1/X] which respects degree.</p>



<a name="280511237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511237">(Apr 28 2022 at 15:29)</a>:</h4>
<p>I think that we are talking about different structures.   The algebraic structure of what the operation on the target of the degree I think that we all agree: it is <code>int</code> with its addition, together with a separate element that is absorbing.</p>



<a name="280511243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511243">(Apr 28 2022 at 15:29)</a>:</h4>
<p>My feeling is that this might be captured by my notion of <code>Z →₀ R</code> and <code>order_dual Z →₀ R</code>.</p>



<a name="280511259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511259">(Apr 28 2022 at 15:29)</a>:</h4>
<p>I guess there's two different issues here: the additive property of the degree of zero, which is what Yaël was referring to, and the order properties of degree.</p>



<a name="280511313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511313">(Apr 28 2022 at 15:29)</a>:</h4>
<p>I am not sure what the ordering on this monoid should be, as I do not think that neither the top, nor the bottom are good choices.</p>



<a name="280511369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511369">(Apr 28 2022 at 15:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280511243">said</a>:</p>
<blockquote>
<p>My feeling is that this might be captured by my notion of <code>Z →₀ R</code> and <code>order_dual Z →₀ R</code>.</p>
</blockquote>
<p>Do we define R[1/X] currently?</p>



<a name="280511427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511427">(Apr 28 2022 at 15:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280511313">said</a>:</p>
<blockquote>
<p>I am not sure what the ordering on this monoid should be, as I do not think that neither the top, nor the bottom are good choices.</p>
</blockquote>
<p>Bottom is better for me I think because it corresponds to the fact that Z is built out of N.</p>



<a name="280511461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511461">(Apr 28 2022 at 15:30)</a>:</h4>
<p>Whereas order_dual Z is somehow built out of order_dual N.</p>



<a name="280511539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511539">(Apr 28 2022 at 15:31)</a>:</h4>
<p>Do you see what I mean?</p>



<a name="280511610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511610">(Apr 28 2022 at 15:31)</a>:</h4>
<p>To me it feels pretty - aesthetically right - but it's hard to communicate it.</p>



<a name="280511877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511877">(Apr 28 2022 at 15:33)</a>:</h4>
<p>I see and I do not agree.  But I think that it is simply a matter of opinions, since I am not sure what would be a good order on this monoid.</p>
<p>I consider that <code>R[X]</code> and <code>R[1/X]</code> are isomorphic and I am not so happy that the notion of degree should depend on the choice of exactly which representative of the isomorphism class we choose.</p>



<a name="280511995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280511995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280511995">(Apr 28 2022 at 15:34)</a>:</h4>
<p>I agree that <code>R[X]</code> and <code>R[1/X]</code> are isomorphic... as rings.</p>



<a name="280512027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512027">(Apr 28 2022 at 15:34)</a>:</h4>
<p>My argument is that <code>degree</code> is not a property of the ring structure.</p>



<a name="280512060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512060">(Apr 28 2022 at 15:34)</a>:</h4>
<p>What about <code>R[s]</code>?  What if <code>s</code> is the inverse of some element in a bigger ring?</p>



<a name="280512169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512169">(Apr 28 2022 at 15:35)</a>:</h4>
<p>What should the degree of 1/X be?</p>



<a name="280512416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512416">(Apr 28 2022 at 15:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280512060">said</a>:</p>
<blockquote>
<p>What about <code>R[s]</code>?  What if <code>s</code> is the inverse of some element in a bigger ring?</p>
</blockquote>
<p>As I say - <code>degree</code> cannot be a property of the ring structure alone.</p>



<a name="280512433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512433" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512433">(Apr 28 2022 at 15:37)</a>:</h4>
<p>I would say <code>-1</code>, since, if asked this question, I would think that this is an element of Laurent polynomials.  If you asked about <code>1/X in C</code> I would say that it does not have a degree and in <code>R[1/X]</code> I would probably say that it is <span class="tex-error">$$ -1 \in \mahtbb{Z}_{\le 0} $$</span>.</p>



<a name="280512513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512513">(Apr 28 2022 at 15:37)</a>:</h4>
<p>I think I agree with Wrenna here. I think even in "normal mathematics" we talk about the "degree of a polynomial with respect to a certain variable." In this case, the degree of <code>1/X</code> is <code>1</code> in the variable <code>1/X</code>.</p>



<a name="280512794"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512794" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512794">(Apr 28 2022 at 15:39)</a>:</h4>
<p>And -1 in the variable X, and if I'm using 1/X I think it makes sense to talk about X. Consider, I don't know, R[X^2], let's move away from negatives for a sec as that adds complexities.</p>



<a name="280512801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512801">(Apr 28 2022 at 15:39)</a>:</h4>
<p>Ok, as with all junk values, it will be correct a proportion of the times and likely there is nothing that would be correct always!</p>



<a name="280512921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512921">(Apr 28 2022 at 15:40)</a>:</h4>
<p>I think there is a right notion here, or at least some subtle structure that we should think about.</p>



<a name="280512995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280512995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280512995">(Apr 28 2022 at 15:40)</a>:</h4>
<p>What's the degree of X^4? In R{X], it's 4. In R[X^2], it's 2.</p>



<a name="280513069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513069" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513069">(Apr 28 2022 at 15:41)</a>:</h4>
<p>What even is the definition of R[X^2]? I would argue it's basically finitely-supported function from 2N to R.</p>



<a name="280513087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513087">(Apr 28 2022 at 15:41)</a>:</h4>
<p>I agree, but I thought that the issue was about the degree of <code>0</code>...</p>



<a name="280513105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513105">(Apr 28 2022 at 15:41)</a>:</h4>
<p>it's all related :)</p>



<a name="280513281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513281">(Apr 28 2022 at 15:42)</a>:</h4>
<p>Damiano, the point is that the degree depends on more than just the structure of the polynomial (or laurent) ring <em>as a ring</em>. It depends also on the variable under consideration.</p>



<a name="280513317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513317">(Apr 28 2022 at 15:43)</a>:</h4>
<p>The point is that while R[X] and R[1/X] are indeed isomorphic, under, say, a ring isomorphism P, it is not true that degree f &lt; degree g implies degree P f &lt; degree P g (or, at least, it shouldn't be).</p>



<a name="280513380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513380">(Apr 28 2022 at 15:43)</a>:</h4>
<p>Polynomials are and should be variable-agnostic. <code>R[X^2]</code> makes no sense in mathlib. Instead, you have a map <code>polynomial R → polynomial R</code> which sends <code>X</code> to<code>X^2</code>.</p>



<a name="280513409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513409">(Apr 28 2022 at 15:43)</a>:</h4>
<p>R{X^2] can make sense.</p>



<a name="280513554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513554">(Apr 28 2022 at 15:44)</a>:</h4>
<p>It's <code>add_monoid_algebra R (2ℕ)</code>, if you like.</p>



<a name="280513581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513581">(Apr 28 2022 at 15:44)</a>:</h4>
<p>And what is <code>2ℕ</code>?</p>



<a name="280513615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513615">(Apr 28 2022 at 15:44)</a>:</h4>
<p>submonoid of ℕ.</p>



<a name="280513890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513890">(Apr 28 2022 at 15:46)</a>:</h4>
<p>If R[X^2] doesn't make sense, I'm not sure R[1/X] can, on its own terms. But it can - and should.</p>



<a name="280513922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280513922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280513922">(Apr 28 2022 at 15:47)</a>:</h4>
<p>It should be <code>add_monoid_algebra R (order_dual ℕ)</code>.</p>



<a name="280514101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514101">(Apr 28 2022 at 15:48)</a>:</h4>
<p>So in one case you replace <code>ℕ</code> by a submonoid of <code>ℕ</code>, and in the other you replace it by <code>order_dual ℕ</code>. That does not seem very consistent.</p>



<a name="280514115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514115">(Apr 28 2022 at 15:48)</a>:</h4>
<p>With the <code>polynomial R → polynomial R</code>approach, you can still talk about the "degree of a polynomial with respect to the variable <code>X^2</code>", it's just pushforward of the degree under this ring homomorphism. I'm not sure exactly how to incorporate Laurent polynomials into this though without first defining the degree of a Laurent polynomial, which puts us back at square one.</p>



<a name="280514182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514182">(Apr 28 2022 at 15:49)</a>:</h4>
<p>Sure, I agree - actually it's not so good for R[X^2]. It should be the monoid which is the image of <code>ℕ</code> under the isomorphism between <code>ℕ</code> and <code>2ℕ</code>.</p>



<a name="280514198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514198">(Apr 28 2022 at 15:49)</a>:</h4>
<p>Then it's consistent :).</p>



<a name="280514239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514239">(Apr 28 2022 at 15:49)</a>:</h4>
<p>I think that these discussions arise precisely because the notion depends on extra choices.  I know that the definition you are suggesting will work for most of the applications, so I am happy to go with it.</p>



<a name="280514513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514513">(Apr 28 2022 at 15:51)</a>:</h4>
<p>Yeah, basically my conclusion is - it probably depends what you want R[1/X] to mean.</p>



<a name="280514717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514717">(Apr 28 2022 at 15:52)</a>:</h4>
<p>Also there's this issue that, well, as I say, degree isn't a ring-theoretic property. So what is the appropriate context in which it is preserved?</p>



<a name="280514835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514835">(Apr 28 2022 at 15:53)</a>:</h4>
<p>What kind of isomorphism is one that preserves both the algebraic and order properties of degree?</p>



<a name="280514897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280514897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280514897">(Apr 28 2022 at 15:54)</a>:</h4>
<p>I would suggest working over a type synonym of <code>α →₀ β</code> where <code>linear_ordered_add_comm_monoid α</code>. Then you can define <code>degree : fancy_new_polynomial α β → option α</code> which outputs junk <code>none</code> when fed in <code>0</code>. Then you can talk about maps <code>fancy_new_polynomial α β → fancy_new_polynomial α β'</code> (the inclusion from <code>R[X^2]</code> to <code>R[X]</code> for example) <strong>and</strong> about maps <code>fancy_new_polynomial α β → fancy_new_polynomial α' β</code> (inclusion of polynomials in Laurent polynomials)</p>



<a name="280515085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280515085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280515085">(Apr 28 2022 at 15:55)</a>:</h4>
<p>My feeling is still that junk is a solution, but not the best one, because formally it should be the minimum of support, and that has a perfectly sensible definition if you allow bot.</p>



<a name="280515308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280515308" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280515308">(Apr 28 2022 at 15:56)</a>:</h4>
<p>It's like - in regular maths, people define the degree of the 0 polynomial as: -1, "junk/undefined", or -infinity (I guess sometimes 0 - but that's kinda junk). Of these, I think <code>-infinity</code> gives the nicest properties by far. It doesn't make sense to me to abandon that.</p>



<a name="280515748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280515748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280515748">(Apr 28 2022 at 15:59)</a>:</h4>
<p>I like your idea, Yaël. That's exactly what I was thinking.</p>



<a name="280515886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280515886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280515886">(Apr 28 2022 at 16:00)</a>:</h4>
<p>Though as I say I don't see why the inclusion from R[X^2] to R[X] would be of type <code>fancy_new_polynomial α β → fancy_new_polynomial α β'</code></p>



<a name="280516387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280516387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280516387">(Apr 28 2022 at 16:03)</a>:</h4>
<p>(<code>hahn_series.order</code> uses a junk value for 0, but I don't think it necessarily has to - but it <em>does</em> define it as the minimum otherwise. <code>order</code> there is the equivalent of <code>nat_degree</code> - it doesn't have a <code>degree</code> I think)</p>



<a name="280516472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280516472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280516472">(Apr 28 2022 at 16:03)</a>:</h4>
<p>I consider <code>R[X]</code> and <code>R[X^2]</code> to be the same ground type, but I put between them an "inclusion map" which is not the identity. It would be <code>inc : fancy_new_polynomial ℕ R → fancy_new_polynomial ℕ R</code> given by <code>inc X = X^2</code>.</p>



<a name="280516669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280516669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280516669">(Apr 28 2022 at 16:04)</a>:</h4>
<p>It feels very odd to me to think of <code>R[X]</code> and <code>R[X^2]</code> as the same type. I'm not trying to be overly critical; that just makes me deeply unhappy.</p>



<a name="280516933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280516933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280516933">(Apr 28 2022 at 16:06)</a>:</h4>
<p>I agree that the image of <code>R[X]</code> under the <code>inc</code> you have defined is somehow "isomorphic" to <code>R[X^2]</code>, but it isn't the same as it.</p>



<a name="280517907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280517907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280517907">(Apr 28 2022 at 16:13)</a>:</h4>
<p>How do you define a map from R[X] to R[X^2] under your perspective?</p>



<a name="280518077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518077">(Apr 28 2022 at 16:14)</a>:</h4>
<p>There are lots of them, but surely there is no "inclusion map" because <code>X</code> is in <code>R[X]</code>but not <code>R[X^2}</code>.</p>



<a name="280518094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518094">(Apr 28 2022 at 16:14)</a>:</h4>
<p>As far as I am concerned, the "proper" definition of the degree of a polynomial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(X) \in k[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> is the negative of its <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">1/X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>-adic valuation you obtain by viewing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> as a subring of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>k</mi><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(X) = k(1/X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>. Such a (discrete) valuation usually takes values in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mo>∪</mo><mo stretchy="false">{</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z} \cup \{\infty\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">∞</span><span class="mclose">}</span></span></span></span>.</p>



<a name="280518129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518129">(Apr 28 2022 at 16:14)</a>:</h4>
<p>Sure. But I mean the map that sends, say, 1 + X to 1 + X^2.</p>



<a name="280518238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518238">(Apr 28 2022 at 16:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280518094">said</a>:</p>
<blockquote>
<p>As far as I am concerned, the "proper" definition of the degree of a polynomial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(X) \in k[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> is the negative of its <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">1/X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>-adic valuation you obtain by viewing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> as a subring of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>k</mi><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(X) = k(1/X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>. Such a (discrete) valuation usually takes values in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mo>∪</mo><mo stretchy="false">{</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z} \cup \{\infty\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">∞</span><span class="mclose">}</span></span></span></span>.</p>
</blockquote>
<p>Does infinity here have any ordered meaning, or is it just in the sense of "extra element"?</p>



<a name="280518254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518254">(Apr 28 2022 at 16:15)</a>:</h4>
<p>It's the maximal element</p>



<a name="280518279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518279">(Apr 28 2022 at 16:16)</a>:</h4>
<p><code>id : fancy_new_polynomial ℕ R → fancy_new_polynomial ℕ R</code>. The operation is just relabelling the variable.</p>



<a name="280518352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518352">(Apr 28 2022 at 16:16)</a>:</h4>
<p>You consider <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mo>∪</mo><mo stretchy="false">{</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z} \cup \{\infty\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">∞</span><span class="mclose">}</span></span></span></span> as <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_group_with_top">docs#linear_ordered_add_comm_group_with_top</a> (or some other combination of words)</p>



<a name="280518399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518399">(Apr 28 2022 at 16:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280518352">said</a>:</p>
<blockquote>
<p>You consider <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi><mo>∪</mo><mo stretchy="false">{</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbb{Z} \cup \{\infty\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">∞</span><span class="mclose">}</span></span></span></span> as <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_add_comm_group_with_top">docs#linear_ordered_add_comm_group_with_top</a> (or some other combination of words)</p>
</blockquote>
<p>Right - that makes sense (and I think corresponds to what I am saying).</p>



<a name="280518496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518496">(Apr 28 2022 at 16:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280518279">said</a>:</p>
<blockquote>
<p><code>id : fancy_new_polynomial ℕ R → fancy_new_polynomial ℕ R</code>. The operation is just relabelling the variable.</p>
</blockquote>
<p>But then your id doesn't preserve degree :)</p>



<a name="280518510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518510">(Apr 28 2022 at 16:17)</a>:</h4>
<p>Sorry, what is <code>fancy_new_polynomial</code> supposed to be? I'm still catching up on this discussion</p>



<a name="280518627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518627">(Apr 28 2022 at 16:18)</a>:</h4>
<p>Actually pretty much what you said, or close - essentially a fancy polynomial is <code>α →₀ β</code> with <code>linear_ordered_add_comm_monoid α</code>.</p>



<a name="280518804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518804">(Apr 28 2022 at 16:19)</a>:</h4>
<p>And then you define the degree as existing in <code>with_bot α</code>, say, which I think corresponds to what you were saying about the negative of the 1/X-adic valuation.</p>



<a name="280518823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518823">(Apr 28 2022 at 16:19)</a>:</h4>
<p>It does preserve the degree, because <code>1 + X^2</code> has degree <code>1</code> in <code>R[X^2]</code> (but <code>2</code> in <code>R[X]</code>).</p>



<a name="280518833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518833" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518833">(Apr 28 2022 at 16:19)</a>:</h4>
<p>Ah, so this is <a href="https://leanprover-community.github.io/mathlib_docs/find/monoid_algebra">docs#monoid_algebra</a> ?</p>



<a name="280518944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280518944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280518944">(Apr 28 2022 at 16:20)</a>:</h4>
<p>Probably!</p>



<a name="280519016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519016" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519016">(Apr 28 2022 at 16:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280518823">said</a>:</p>
<blockquote>
<p>It does preserve the degree, because <code>1 + X^2</code> has degree <code>1</code> in <code>R[X^2]</code> (but <code>2</code> in <code>R[X]</code>).</p>
</blockquote>
<p>You have <code>id : fancy_new_polynomial ℕ R → fancy_new_polynomial ℕ R</code>. Type's the same on the left and the right. So <code>degree</code> has to have the same meaning.</p>



<a name="280519079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519079">(Apr 28 2022 at 16:21)</a>:</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> is meaningless unless you consider it as a sub-<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra of something that contains an element called <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>.</p>



<a name="280519147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519147">(Apr 28 2022 at 16:21)</a>:</h4>
<p>I assume you feel similarly about <code>R[1/X]</code>?</p>



<a name="280519171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519171">(Apr 28 2022 at 16:21)</a>:</h4>
<p>Yes</p>



<a name="280519180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519180">(Apr 28 2022 at 16:21)</a>:</h4>
<p>Which I actually don't disagree with!</p>



<a name="280519310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519310" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519310">(Apr 28 2022 at 16:22)</a>:</h4>
<p>But it comes back to what I was saying - that for <code>R[X, 1/X]</code>, it is natural to orientate yourself around <code>R[X]</code> rather than <code>R[1/X]</code></p>



<a name="280519430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519430" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519430">(Apr 28 2022 at 16:23)</a>:</h4>
<p>I would not say that it is natural, I would say that it is common...</p>



<a name="280519442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519442">(Apr 28 2022 at 16:23)</a>:</h4>
<p>I agree that <code>R[X^2]</code> is the same as <code>R[X]</code> or <code>R[Y]</code> or <code>R[ :octopus: ]</code> if you treat <code>X^2</code> as a formal symbol.</p>



<a name="280519590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519590">(Apr 28 2022 at 16:24)</a>:</h4>
<p>But if you want <code>X^2</code> to have the meaning implied by the notation, then, yeah, you need to think about subalgebras, and something similar for <code>R[1/X]</code>.</p>



<a name="280519598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519598">(Apr 28 2022 at 16:24)</a>:</h4>
<p>I'm not sure about that. The point of rings like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo separator="true">,</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X,1/X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> is that you <em>can't</em> make any choice between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">1/X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>. In terms of algebraic geometry, you're working with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{G}_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. If you want to choose <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> as your distinguished variable, you are really working with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{G}_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and the "natural" inclusion <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub><mo>↪</mo><msup><mi mathvariant="double-struck">A</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{G}_m \hookrightarrow \mathbb{A}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↪</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathbb">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="280519688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519688">(Apr 28 2022 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280519598">said</a>:</p>
<blockquote>
<p>I'm not sure about that. The point of rings like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mi>X</mi><mo separator="true">,</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[X,1/X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> is that you <em>can't</em> make any choice between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">1/X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>. In terms of algebraic geometry, you're working with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{G}_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. If you want to choose <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> as your distinguished variable, you are really working with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{G}_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and the "natural" inclusion <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="double-struck">G</mi><mi>m</mi></msub><mo>↪</mo><msup><mi mathvariant="double-struck">A</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{G}_m \hookrightarrow \mathbb{A}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↪</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathbb">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>.</p>
</blockquote>
<p>This all sprang from trying to work out if there should be a definition of <code>deg 0</code> in <code>R[X, 1/X]</code>, and if so, what should that be.</p>



<a name="280519730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519730">(Apr 28 2022 at 16:25)</a>:</h4>
<p>What is <code>deg 0</code> supposed to be?</p>



<a name="280519732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519732">(Apr 28 2022 at 16:25)</a>:</h4>
<p>So if there's an algebraic geometry insight there, that would be very useful.</p>



<a name="280519743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519743">(Apr 28 2022 at 16:25)</a>:</h4>
<p>Oh, the degree of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>?</p>



<a name="280519748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519748">(Apr 28 2022 at 16:25)</a>:</h4>
<p>It should be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span></p>



<a name="280519751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519751">(Apr 28 2022 at 16:25)</a>:</h4>
<p>Yep.</p>



<a name="280519777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519777" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519777">(Apr 28 2022 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280519748">said</a>:</p>
<blockquote>
<p>It should be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span></p>
</blockquote>
<p>HUZZAH</p>



<a name="280519860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519860">(Apr 28 2022 at 16:26)</a>:</h4>
<p>Embed <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><msup><mi>X</mi><mrow><mo>±</mo><mn>1</mn></mrow></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[X^{\pm 1}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">±</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> into <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>, take the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">1/X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>-adic valuation, which gives you <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">∞</span></span></span></span> and negate it to get <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span>.</p>



<a name="280519985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280519985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280519985">(Apr 28 2022 at 16:27)</a>:</h4>
<p>Actually, this will be true no matter what variable you choose for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> (i.e. you can replace <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> with any fractional-linear transformation of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and get the same result)</p>



<a name="280520055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520055">(Apr 28 2022 at 16:27)</a>:</h4>
<p>I was trying to articulate - I'm not sure if this makes sense in this context or at all - but it feels like you should be able to "reverse things" such that the degree of 0 is larger than all other degrees, rather than smaller.</p>



<a name="280520072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520072">(Apr 28 2022 at 16:27)</a>:</h4>
<p>Anyway, I think that for the most part, this means that these two statements will not both be true:<br>
<code>degree (f * g) ≤ degree f + degree g</code>,<br>
<code>trailing_degree f + trailing_degree g ≤ trailing_degree (f * g)</code>.</p>
<p>Which ones we prefer to be true is what we seem to be discussing.  I personally do not find it too important which choice we make.  It seems that there is no alternative choice that is better than either of these.  I view these two as entirely equivalent.</p>



<a name="280520079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520079">(Apr 28 2022 at 16:27)</a>:</h4>
<p>Like how you've negated the valuation there.</p>



<a name="280520173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520173">(Apr 28 2022 at 16:28)</a>:</h4>
<p>Sorry Damiano, what's the definition of <code>trailing_degree</code>?</p>



<a name="280520197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520197">(Apr 28 2022 at 16:28)</a>:</h4>
<p>the min of the support, instead of the max.</p>



<a name="280520233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520233">(Apr 28 2022 at 16:28)</a>:</h4>
<p>(i.e. you use the "other" valuation)</p>



<a name="280520245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520245">(Apr 28 2022 at 16:28)</a>:</h4>
<p>So for (X^2 + 3X^3), it's 2.</p>



<a name="280520253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520253" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520253">(Apr 28 2022 at 16:28)</a>:</h4>
<p>Ah okay</p>



<a name="280520331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520331">(Apr 28 2022 at 16:29)</a>:</h4>
<p>I might say that your <code>trailing_degree</code> needs to be negated :) (at least that's what would be consistent if you view things in terms of valuations coming from points on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{P}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathbb">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>)</p>



<a name="280520335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520335">(Apr 28 2022 at 16:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520072">said</a>:</p>
<blockquote>
<p>Anyway, I think that for the most part, this means that these two statements will not both be true:<br>
<code>degree (f * g) ≤ degree f + degree g</code>,<br>
<code>trailing_degree f + trailing_degree g ≤ trailing_degree (f * g)</code>.</p>
<p>Which ones we prefer to be true is what we seem to be discussing.  I personally do not find it too important which choice we make.  It seems that there is no alternative choice that is better than either of these.  I view these two as entirely equivalent.</p>
</blockquote>
<p>Hang on, why isn't this true?</p>



<a name="280520364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520364">(Apr 28 2022 at 16:29)</a>:</h4>
<p>(also, those statements are not true "in Lean", in real maths, no one cares about the degree of the zero polynomial and they are "both true"!)</p>



<a name="280520369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520369">(Apr 28 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520331">said</a>:</p>
<blockquote>
<p>I might say that your <code>trailing_degree</code> needs to be negated :) (at least that's what would be consistent if you view things in terms of valuations coming from points on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb{P}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathbb">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>)</p>
</blockquote>
<p>Negated in what sense?</p>



<a name="280520461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520461">(Apr 28 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520364">said</a>:</p>
<blockquote>
<p>(also, those statements are not true "in Lean", in real maths, no one cares about the degree of the zero polynomial and they are "both true"!)</p>
</blockquote>
<p>This isn't... entirely... true.</p>



<a name="280520481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520481">(Apr 28 2022 at 16:30)</a>:</h4>
<p>Otherwise I wouldn't care :)</p>



<a name="280520492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520492">(Apr 28 2022 at 16:30)</a>:</h4>
<p>So that the trailing degree of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>X</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">X^2 + X^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">2</span></span></span></span></p>



<a name="280520518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520518">(Apr 28 2022 at 16:30)</a>:</h4>
<p>Adam, I agree with your negation, but I was not going to go there... <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="280520520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520520">(Apr 28 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243562">Adam Topaz</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520492">said</a>:</p>
<blockquote>
<p>So that the trailing degree of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>X</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">X^2 + X^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">2</span></span></span></span></p>
</blockquote>
<p>Oh, that's interesting. I see the logic.</p>



<a name="280520543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520543">(Apr 28 2022 at 16:30)</a>:</h4>
<p>Yeah we should do that :D</p>



<a name="280520767"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520767" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520767">(Apr 28 2022 at 16:32)</a>:</h4>
<p>Ok, so with the "right" conventions, which statement do we prefer to be true?<br>
<code>degree (f * g) ≤ degree f + degree g</code><br>
or<br>
<code>trailing_degree (f * g) ≤ trailing_degree f + trailing_degree g</code></p>



<a name="280520803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520803">(Apr 28 2022 at 16:32)</a>:</h4>
<p>In which context, sorry? It looks like that's true in <code>polynomial</code>?</p>



<a name="280520806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280520806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280520806">(Apr 28 2022 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520245">said</a>:</p>
<blockquote>
<p>So for (X^2 + 3X^3), it's 2.</p>
</blockquote>
<p>And for 0, it's <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord">∞</span></span></span></span></p>



<a name="280521011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521011">(Apr 28 2022 at 16:34)</a>:</h4>
<p>Which yes, is annoying because it means <code>trailing_degree</code> and <code>degree</code> have different types, but that's just an indication that you're going to have to think carefully before trying to combine them</p>



<a name="280521018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521018">(Apr 28 2022 at 16:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280520803">said</a>:</p>
<blockquote>
<p>In which context, sorry? It looks like that's true in <code>polynomial</code>?</p>
</blockquote>
<p>If one of f or g is 0, this looks true. If they are both non-zero surely we avoid the problem case anyway?</p>



<a name="280521091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521091">(Apr 28 2022 at 16:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280521011">said</a>:</p>
<blockquote>
<p>Which yes, is annoying because it means <code>trailing_degree</code> and <code>degree</code> have different types, but that's just an indication that you're going to have to think carefully before trying to combine them</p>
</blockquote>
<p>Deffo.</p>



<a name="280521178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521178">(Apr 28 2022 at 16:35)</a>:</h4>
<p>If one of them is zero, one of the right hand sides is <code>-infinty</code> and the other is <code>+infinty</code>, so surely they are not both correct!</p>



<a name="280521277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521277">(Apr 28 2022 at 16:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280521178">said</a>:</p>
<blockquote>
<p>If one of them is zero, one of the right hand sides is <code>-infinty</code> and the other is <code>+infinty</code>, so surely they are not both correct!</p>
</blockquote>
<p>Well, no, if we're negating trailing_degree, they are both -infinity.</p>



<a name="280521291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521291">(Apr 28 2022 at 16:36)</a>:</h4>
<p>Damiano, which RHS are you referring to?</p>



<a name="280521407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521407">(Apr 28 2022 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280521277">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280521178">said</a>:</p>
<blockquote>
<p>If one of them is zero, one of the right hand sides is <code>-infinty</code> and the other is <code>+infinty</code>, so surely they are not both correct!</p>
</blockquote>
<p>Well, no, if we're negating trailing_degree, they are both -infinity.</p>
</blockquote>
<p>Oh no I got it wrong. But wait - then <code>trailing_degree f + trailing_degree g ≤ trailing_degree (f * g)</code> is the right thing!</p>



<a name="280521409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521409">(Apr 28 2022 at 16:37)</a>:</h4>
<p>I was referring to these statements:<br>
<code>degree (f * g) ≤ degree f + degree g</code><br>
or<br>
<code>trailing_degree (f * g) ≤ trailing_degree f + trailing_degree g</code><br>
and I said rhs, but I really meant lhs!  I seem to have a problem with bottom/top <em>and</em> left/right...</p>



<a name="280521461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521461">(Apr 28 2022 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280521011">said</a>:</p>
<blockquote>
<p>Which yes, is annoying because it means <code>trailing_degree</code> and <code>degree</code> have different types, but that's just an indication that you're going to have to think carefully before trying to combine them</p>
</blockquote>
<p>I think there's a well-behaved subtraction between <code>with_bot X</code> and <code>with_top X</code> (into <code>with_bot X</code>) that satisfies <code>none - x = x - none = none - none = none</code>. Of course, you can't call this <code>has_sub</code>, but maybe it fits into another notation.</p>



<a name="280521545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280521545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280521545">(Apr 28 2022 at 16:38)</a>:</h4>
<p><code>trailing_degree f + trailing_degree g ≤ trailing_degree (f * g)</code> and <code>degree (f * g) ≤ degree f + degree g</code> are both true under the above convention, where the trailing degree of X^2 is -2 and the degree is 2, and so forth.</p>



<a name="280522009"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522009" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522009">(Apr 28 2022 at 16:41)</a>:</h4>
<p>Ok, so we would define <code>degree f = support.max f</code> and <code>trailing_degree f = - support.min f</code>?</p>



<a name="280522126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522126">(Apr 28 2022 at 16:42)</a>:</h4>
<p>I actually like this choice.</p>



<a name="280522183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522183">(Apr 28 2022 at 16:42)</a>:</h4>
<p>we-ll. Yes! But exactly what type trailing_degree f should be is unclear. I think it should actually be <code>order_dual.with_bot nat</code>. Which is the same.</p>



<a name="280522251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522251" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522251">(Apr 28 2022 at 16:43)</a>:</h4>
<p>I am still not so happy about the situation of relating the degree of <code>f</code> and the degree of <code>f.eval (1/X)</code>.  Is <code>-(+infinity) = +infinity</code>?</p>



<a name="280522312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522312">(Apr 28 2022 at 16:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280522183">said</a>:</p>
<blockquote>
<p>we-ll. Yes! But exactly what type trailing_degree f should be is unclear. I think it should actually be <code>order_dual.with_bot nat</code>. Which is the same.</p>
</blockquote>
<p>But yes, fundamentally this is just the nonpositive integers.</p>



<a name="280522379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522379">(Apr 28 2022 at 16:44)</a>:</h4>
<p>Plus positive infinity.</p>



<a name="280522807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522807">(Apr 28 2022 at 16:47)</a>:</h4>
<p>If we are talking about Laurent polynomials, then I would say that both <code>degree</code> and <code>trailing_degree</code>should "contain" <code>int</code> among their values, not just <code>nat</code>.</p>



<a name="280522923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280522923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280522923">(Apr 28 2022 at 16:48)</a>:</h4>
<p>Oh, sorry, I thought we were just talking about <code>polynomial</code> still.</p>



<a name="280523025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523025">(Apr 28 2022 at 16:49)</a>:</h4>
<p>Ok, so I may have to re-read the conversation, since I thought that we were all happy with the situation of <code>degree</code> on polynomials: a bottom element, and then <code>nat</code>!</p>



<a name="280523066"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523066" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523066">(Apr 28 2022 at 16:49)</a>:</h4>
<p>I agree!</p>



<a name="280523115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523115">(Apr 28 2022 at 16:49)</a>:</h4>
<p>Then, uh, I basically do still think that for Laurent Polynomials the type of degree should be <code>with_bot int</code> and the type of trailing_degree should be <code>order_dual.with_bot Z</code>, or, if you like, <code>-Z</code></p>



<a name="280523223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523223" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523223">(Apr 28 2022 at 16:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280523025">said</a>:</p>
<blockquote>
<p>Ok, so I may have to re-read the conversation, since I thought that we were all happy with the situation of <code>degree</code> on polynomials: a bottom element, and then <code>nat</code>!</p>
</blockquote>
<p>I'm not sure why you think I don't agree, but yeah, basically, this.</p>



<a name="280523332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523332">(Apr 28 2022 at 16:51)</a>:</h4>
<p>I think that what I am struggling to accept is that we are talking about Laurent polynomials and we are automatically attaching a valuation to it in a way that I consider "random".  I do agree that it is a valuation and I can live with the fact that this choice has been made.  I am slowly coming to terms with it.</p>



<a name="280523534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523534">(Apr 28 2022 at 16:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330967">Wrenna Robson</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280522183">said</a>:</p>
<blockquote>
<p>we-ll. Yes! But exactly what type trailing_degree f should be is unclear. I think it should actually be <code>order_dual.with_bot nat</code>. Which is the same.</p>
</blockquote>
<p>Wrenna, I thought that here you were talking about polynomials, since there is a <code>nat</code> present.</p>



<a name="280523578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523578">(Apr 28 2022 at 16:52)</a>:</h4>
<p>Right, but <code>trailing_degree</code>, not <code>degree</code>.</p>



<a name="280523648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523648">(Apr 28 2022 at 16:53)</a>:</h4>
<p>The type of degree should be <code>with_bot nat</code>.</p>



<a name="280523806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523806">(Apr 28 2022 at 16:54)</a>:</h4>
<p>Ok, so I probably caused the confusion: whenever I talked about <code>trailing_degree</code>, I always was thinking about Laurent polynomials, not polynomials.</p>



<a name="280523811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523811">(Apr 28 2022 at 16:54)</a>:</h4>
<p>Currently the type of <code>trailing_degree</code> is <code>with_top nat</code>. I'm saying it should be <code>order_dual.with_bot nat</code>, which is morally the same as taking it as the non-positive integers along with positive infinity.</p>



<a name="280523820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523820">(Apr 28 2022 at 16:54)</a>:</h4>
<p>(For polynomials.)</p>



<a name="280523958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280523958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280523958">(Apr 28 2022 at 16:55)</a>:</h4>
<p>That's based on what Adam said about the trailing degree of <code>X^2 + X^3</code> wanting to be - 2.</p>



<a name="280524181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280524181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280524181">(Apr 28 2022 at 16:57)</a>:</h4>
<p>A historical remark: when I defined <code>trailing_degree</code>, <code>order_dual</code>s were not really a thing.  I tried making them work, since I wanted to use them for <code>trailing_degree</code>, failed and moved on to other projects.</p>
<p>Now, <code>order_dual</code>s are much more developed and I would probably not get confused as much as I did when I started, so this might be viable.</p>



<a name="280524727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280524727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280524727">(Apr 28 2022 at 17:00)</a>:</h4>
<p>That would be good</p>



<a name="280524853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280524853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280524853">(Apr 28 2022 at 17:01)</a>:</h4>
<p>I was relieved that apparantly algebraic geometry agrees with me, but on some level I think you are quite right that there is a choice to be made!</p>



<a name="280524917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280524917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280524917">(Apr 28 2022 at 17:02)</a>:</h4>
<p>But for me it's like, it's the same choice that means that -1 &lt; 1 rather than 1 &lt; - 1</p>



<a name="280524982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280524982" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280524982">(Apr 28 2022 at 17:02)</a>:</h4>
<p>it is arbitrary, but so is which direction you write in.</p>



<a name="280525051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525051">(Apr 28 2022 at 17:03)</a>:</h4>
<p>וזה עובד.</p>



<a name="280525071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525071">(Apr 28 2022 at 17:03)</a>:</h4>
<p>But this is what I'm used to.</p>



<a name="280525166"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525166" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525166">(Apr 28 2022 at 17:04)</a>:</h4>
<p>(Apologies for bad google translate Hebrew).</p>



<a name="280525194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525194" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525194">(Apr 28 2022 at 17:04)</a>:</h4>
<p>I also think that the support itself plays a bigger role than just its <code>± max/min</code>.  And this applies to polynomials as well as Laurent polynomials.</p>



<a name="280525217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525217">(Apr 28 2022 at 17:04)</a>:</h4>
<p>oh? I think I might agree.</p>



<a name="280525553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280525553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280525553">(Apr 28 2022 at 17:07)</a>:</h4>
<p>though intuitively I feel like, say, for "X + X^3 + X^4", sometimes I want to treat 2 as if it is "really" in the support in a way that, say, 0 or 5 isn't.</p>



<a name="280526224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280526224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280526224">(Apr 28 2022 at 17:12)</a>:</h4>
<p>That would be what I would call the Newton polygon.</p>



<a name="280526494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280526494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280526494">(Apr 28 2022 at 17:14)</a>:</h4>
<p>(the convex hull of the "exponents" with nonzero coefficients)</p>



<a name="280526512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280526512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280526512">(Apr 28 2022 at 17:14)</a>:</h4>
<p>Aha, right.</p>



<a name="280527157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527157">(Apr 28 2022 at 17:18)</a>:</h4>
<p>Wrenna, out of curiosity, in what circumstances would it matter to you to consider 2 as really being in the support, but not 0 or 5?</p>



<a name="280527358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527358">(Apr 28 2022 at 17:20)</a>:</h4>
<p>Jireh, I can answer with my perspective.  In the case of one variable, the length of the "interval of exponents" is the number of nonzero roots.</p>



<a name="280527464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527464">(Apr 28 2022 at 17:21)</a>:</h4>
<p>If you define the analogous notions for polynomials in 2 variables, the area of the corresponding polygon is the geometric genus of the complex curve obtained as the zero locus of the polynomial itself</p>



<a name="280527498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527498">(Apr 28 2022 at 17:21)</a>:</h4>
<p>(at least, if you discard a set of measure zero of the coefficients)</p>



<a name="280527600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527600">(Apr 28 2022 at 17:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60/near/280527157">said</a>:</p>
<blockquote>
<p>Wrenna, out of curiosity, in what circumstances would it matter to you to consider 2 as really being in the support, but not 0 or 5?</p>
</blockquote>
<p>If I was wanting to state Vieta's formulas, I guess.</p>



<a name="280527673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527673">(Apr 28 2022 at 17:22)</a>:</h4>
<p>Thus, for me at least, the fact that 2 is in the support is not so important, but the convex hull of the exponents is.  It just so happens that 2 is in the convex hull and 0 is not in that example!</p>



<a name="280527689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527689">(Apr 28 2022 at 17:23)</a>:</h4>
<p>Or in the case where I'm viewing the polynomials with degree &lt; n as a f-d vector space, I don't really care about whether or not an individual component is zero.</p>



<a name="280527748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527748">(Apr 28 2022 at 17:23)</a>:</h4>
<p>So I definitely have some notion of the coefficients of a polynomial being a list/vector, right?</p>



<a name="280527945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280527945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280527945">(Apr 28 2022 at 17:25)</a>:</h4>
<p>Indeed, under that logic I might well think of 0 as being relevant - but 5 not.</p>



<a name="280528209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%22new%22%20%60polynomial.coeff%60/near/280528209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.22new.22.20.60polynomial.2Ecoeff.60.html#280528209">(Apr 28 2022 at 17:27)</a>:</h4>
<p>Thanks both. I can see the <em>convex hull</em> of the support being important for all the reasons mentioned.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>