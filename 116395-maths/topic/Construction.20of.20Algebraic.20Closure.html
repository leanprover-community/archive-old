---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html">Construction of Algebraic Closure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="127264707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264707">(May 29 2018 at 18:03)</a>:</h4>
<p>I saw many constructions of the algebraic closure of a field <strong>k</strong> using direct limit, but I have a different construction in mind:<br>
The set <strong>k-bar</strong> is { (f,n) in k[X] x N | f is irreducible and n &lt; deg f }. The n represents the n-th root of the polynomial.<br>
Addition and multiplicatoin can be defined using resultant.<br>
Is this construction valid? Would this be a better construction?</p>



<a name="127264852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264852">(May 29 2018 at 18:06)</a>:</h4>
<p>Hmm, maybe I'm being silly. But how do you order the roots?</p>



<a name="127264858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264858">(May 29 2018 at 18:06)</a>:</h4>
<p>I don't</p>



<a name="127264862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264862">(May 29 2018 at 18:06)</a>:</h4>
<p>Ok, so how do you do addition and multiplication?</p>



<a name="127264874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264874" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264874">(May 29 2018 at 18:06)</a>:</h4>
<p>For f and g, I use resultant to construct h that contains all the roots</p>



<a name="127264876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264876" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264876">(May 29 2018 at 18:07)</a>:</h4>
<p>then just, you know, do the thing</p>



<a name="127264884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264884">(May 29 2018 at 18:07)</a>:</h4>
<p>if f has deg m and g has deg n, then h has deg mn</p>



<a name="127264885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264885">(May 29 2018 at 18:07)</a>:</h4>
<p>no this doesn't work</p>



<a name="127264932"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264932" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264932">(May 29 2018 at 18:08)</a>:</h4>
<p>I mean, your approach looks very constructive. But we know that you need choice for k-bar</p>



<a name="127264948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264948">(May 29 2018 at 18:08)</a>:</h4>
<p>So that makes me suspicious</p>



<a name="127264979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127264979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127264979">(May 29 2018 at 18:09)</a>:</h4>
<p>do you need choice for the direct limit construction?</p>



<a name="127265144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265144">(May 29 2018 at 18:12)</a>:</h4>
<p>Yes, you want to use Zorn to pick a maximal element</p>



<a name="127265313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265313">(May 29 2018 at 18:15)</a>:</h4>
<p>Does this mean you are going to refuse the project that Kevin gave you?</p>



<a name="127265318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265318">(May 29 2018 at 18:15)</a>:</h4>
<p>I think the problem is when I add 1+sqrt(2) and -sqrt(2)</p>



<a name="127265321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265321">(May 29 2018 at 18:15)</a>:</h4>
<p>no, that doesn't</p>



<a name="127265337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265337">(May 29 2018 at 18:15)</a>:</h4>
<p>and how do you know about the project</p>



<a name="127265356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265356">(May 29 2018 at 18:15)</a>:</h4>
<p>Kevin mentioned somewhere that you were working on some algebraic stuff</p>



<a name="127265363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265363">(May 29 2018 at 18:15)</a>:</h4>
<p>for a project that he gave you</p>



<a name="127265431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265431" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265431">(May 29 2018 at 18:16)</a>:</h4>
<p>Anyway, I think it is very cool. I have been thinking about Galois theory. But I was daunted by defining the algebraic closure.</p>



<a name="127265438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265438">(May 29 2018 at 18:16)</a>:</h4>
<p>I haven't worked with Choice yet in Lean</p>



<a name="127265446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265446">(May 29 2018 at 18:17)</a>:</h4>
<p>nice</p>



<a name="127265451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265451" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265451">(May 29 2018 at 18:17)</a>:</h4>
<p>But we really need Galois theory</p>



<a name="127265454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265454">(May 29 2018 at 18:17)</a>:</h4>
<p>stop before you are corrupted by choice</p>



<a name="127265476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265476">(May 29 2018 at 18:17)</a>:</h4>
<blockquote>
<p>I mean, your approach looks very constructive. But we know that you need choice for k-bar</p>
</blockquote>
<p>we all know that you don't need choice for F_p-bar or Q-bar or R-bar</p>



<a name="127265478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265478">(May 29 2018 at 18:17)</a>:</h4>
<p>Yes, I also reject infinity (-;</p>



<a name="127265798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265798">(May 29 2018 at 18:23)</a>:</h4>
<p>Yes you can't do add this way Kenny</p>



<a name="127265799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265799">(May 29 2018 at 18:24)</a>:</h4>
<p>The problem is that what you are doing in your head, is this:</p>



<a name="127265841"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265841" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265841">(May 29 2018 at 18:24)</a>:</h4>
<p>if you have have two polynomials f(X) and g(X), irreducible in k[X] say</p>



<a name="127265843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265843">(May 29 2018 at 18:24)</a>:</h4>
<p>then you are doing mathematics in the ring k[X]/(f) tensor_k k[X]/(g)</p>



<a name="127265847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265847">(May 29 2018 at 18:24)</a>:</h4>
<p>and unfortunately this is not in general a field</p>



<a name="127265880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265880">(May 29 2018 at 18:25)</a>:</h4>
<p>Consider the polynomials f(X)=X^3-2 and g(X)=(X+1)^3-2. Both are irredudible over Q</p>



<a name="127265886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265886">(May 29 2018 at 18:25)</a>:</h4>
<p>You order the roots of both of them</p>



<a name="127265888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265888">(May 29 2018 at 18:25)</a>:</h4>
<p>If you do this construction, I would like to have a computable algebraic numbers construction from it</p>



<a name="127265897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265897">(May 29 2018 at 18:25)</a>:</h4>
<p>but who is to say that if a,b,c was the first order then a-1,b-1,c-1 was the second one</p>



<a name="127265942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265942">(May 29 2018 at 18:26)</a>:</h4>
<p>but we all know that Q-bar is computable</p>



<a name="127265948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265948">(May 29 2018 at 18:26)</a>:</h4>
<p>so who can possibly tell when (root 1 of f) - (root 1 of g) is 1 or not?</p>



<a name="127265965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265965">(May 29 2018 at 18:26)</a>:</h4>
<p>The problem is that whilst g is irreducible over Q</p>



<a name="127265970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265970">(May 29 2018 at 18:27)</a>:</h4>
<p>it is not irreducible over the larger field Q[X]/(f)</p>



<a name="127265983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265983" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265983">(May 29 2018 at 18:27)</a>:</h4>
<p>indeed, it factors into a linear and an irreducible quadric over this larger field</p>



<a name="127265988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127265988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127265988">(May 29 2018 at 18:27)</a>:</h4>
<p>so now all of a sudden the roots are not as indistinguishable as they used to be</p>



<a name="127274084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274084">(May 29 2018 at 21:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110064">@Kenny Lau</span> <a href="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/countalg.v" target="_blank" title="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/countalg.v">here</a> is a formalized construction of the algebraic closure of countable fields. It heavily relies on <a href="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/algebraics_fundamentals.v" target="_blank" title="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/algebraics_fundamentals.v">this</a>, the existence of an algebraically closed field with an   automorphism of order 2. <a href="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/algC.v" target="_blank" title="https://github.com/math-comp/math-comp/blob/master/mathcomp/field/algC.v">Here</a>  is an abstract construction of algebraic numbers. I can help deciphering the statements and proofs if you're interested. But several of these files have long headers describing what's done in them.</p>



<a name="127274120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274120">(May 29 2018 at 21:03)</a>:</h4>
<p>thanks</p>



<a name="127274182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274182">(May 29 2018 at 21:04)</a>:</h4>
<p>And all this is constructive. It only relies on the fact that there is choice operator on countable types with a decidable equality. This is provable in Coq without extra axioms, but using a subtle singleton elimination argument. I do not know if the same holds in Lean.</p>



<a name="127274220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274220">(May 29 2018 at 21:05)</a>:</h4>
<p>we don't have the axiom of unique choice in Lean, if that's what you mean</p>



<a name="127274231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274231">(May 29 2018 at 21:05)</a>:</h4>
<p>I suppose we can look at the preimage under the bijection from N and find the minimum element</p>



<a name="127274233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274233">(May 29 2018 at 21:05)</a>:</h4>
<p>No this is not what I mean, unique choice does not hold in Coq either.</p>



<a name="127274235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274235">(May 29 2018 at 21:05)</a>:</h4>
<p>then it should still be constructive in Lean</p>



<a name="127274326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274326" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274326">(May 29 2018 at 21:07)</a>:</h4>
<p>There is a choice operator on countable types in lean</p>



<a name="127274374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274374" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274374">(May 29 2018 at 21:08)</a>:</h4>
<p><code>encodable.choose</code> in <code>data.encodable</code></p>



<a name="127274391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274391">(May 29 2018 at 21:08)</a>:</h4>
<p>Noooo! Assia, please don't encourage Kenny in his constructive deviance</p>



<a name="127274403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274403">(May 29 2018 at 21:09)</a>:</h4>
<p>Ah thanks <span class="user-mention" data-user-id="110049">@Mario Carneiro</span>, I was trying to dig into Lean to see if I could find it.</p>



<a name="127274413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274413">(May 29 2018 at 21:09)</a>:</h4>
<p>The axiomatically basic one is <code>nat.find</code></p>



<a name="127274688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/127274688" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Assia Mahboubi <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#127274688">(May 29 2018 at 21:15)</a>:</h4>
<p>Hi again <span class="user-mention" data-user-id="110031">@Patrick Massot</span>! Don't worry, I am just saying that for countable fields, classical proofs are constructive, in fact. I don't think that constructivism is the difficult issue here but I may well have forgotten how easy classical life is.</p>



<a name="207030881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207030881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207030881">(Aug 15 2020 at 17:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure/near/127274413">said</a>:</p>
<blockquote>
<p>The axiomatically basic one is <code>nat.find</code></p>
</blockquote>
<p>What do you mean by axiomatically basic? <code>#print axioms nat.find</code> shows <code>classical.choice</code> <code>quot.sound</code> and <code>propext</code>, so essentially all the axioms.<br>
In ZF set theory it doesn't require any choice. I wonder if adding the axiom of unique choice makes Lean suitable for formalizing implications between different forms of choice in set theory, like dependent choice or ultrafilter lemma.<br>
The use of choice seems to make <code>nat.find</code> noncomputable, which is confusing as it's just the mu-operator (as in mu-recursive functions, even with a termination guarantee). Is Lean using a stronger notion of computability somewhere between primitive recursive and recursive? To be clear, <code>nat.find</code> itself isn't labeled <code>noncomputable</code>, but the following code</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span> <span class="n">bld_extr</span> <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">m</span> <span class="n">N</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">N</span><span class="o">,</span> <span class="n">p</span> <span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="bp">ℕ</span>
  <span class="c1">-- build a extraction (indices for increasing subsequence) satisfying condition p</span>
  <span class="bp">|</span> <span class="mi">0</span> <span class="o">:=</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">)</span>
  <span class="bp">|</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">nat</span><span class="bp">.</span><span class="n">find</span> <span class="o">(</span><span class="n">h</span> <span class="o">(</span><span class="n">m</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">bld_extr</span> <span class="n">m</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span>
</code></pre></div>


<p>yields the message</p>
<div class="codehilite"><pre><span></span><code><span class="n">equation</span> <span class="n">compiler</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">bytecode</span> <span class="n">for</span> <span class="err">&#39;</span><span class="n">bld_extr</span><span class="bp">._</span><span class="n">main&#39;</span>
<span class="n">nested</span> <span class="n">exception</span> <span class="n">message</span><span class="o">:</span>
<span class="n">code</span> <span class="n">generation</span> <span class="n">failed</span><span class="o">,</span> <span class="n">VM</span> <span class="n">does</span> <span class="n">not</span> <span class="k">have</span> <span class="n">code</span> <span class="n">for</span> <span class="err">&#39;</span><span class="n">classical</span><span class="bp">.</span><span class="n">choice&#39;</span>
</code></pre></div>


<p>which disappears when I add the <code>noncomputable</code> prefix.</p>
<p>However, the code <code>def f := nat.find (by use 0; trivial : ∃n:ℕ, n=n)</code> yields a different message <code>definition 'f' is noncomputable, it depends on 'classical.prop_decidable'</code>.</p>



<a name="207030901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207030901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207030901">(Aug 15 2020 at 17:25)</a>:</h4>
<p><code>h</code> is not decidable</p>



<a name="207031248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031248">(Aug 15 2020 at 17:34)</a>:</h4>
<p>The first message points to <code>choice</code> as a problem, while the second message is strange: <br>
<code>def nat.​find {p : ℕ → Prop} [decidable_pred p] : (∃ (n : ℕ), p n) → ℕ</code> only requires <code>p</code> to be decidable. In this case, <code>p</code> is <code>n=n</code>, which Lean should know/be able to infer is decidable.</p>



<a name="207031262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031262">(Aug 15 2020 at 17:35)</a>:</h4>
<p>no, <code>p</code> is <code>∃ n ≥ 0, p 0 n</code></p>



<a name="207031313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031313">(Aug 15 2020 at 17:36)</a>:</h4>
<p>The second example is <code>def f := nat.find (by use 0; trivial : ∃n:ℕ, n=n)</code></p>



<a name="207031318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031318" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031318">(Aug 15 2020 at 17:36)</a>:</h4>
<p>you can replace it with <code>def f := nat.find (by use 0 : ∃n:ℕ, true)</code> and get the same message</p>



<a name="207031330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031330">(Aug 15 2020 at 17:37)</a>:</h4>
<p>if you have <code>open_locale classical</code> then the <code>decidable</code> instance is by default the <code>classical</code> one</p>



<a name="207031542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031542">(Aug 15 2020 at 17:44)</a>:</h4>
<p>Good point! I was working in a file in the tutorial exercises and <code>tuto_lib</code> was imported. I switched to an empty file and <code>def f := nat.find (⟨0,true.intro⟩ : ∃n:ℕ, true)</code> and no error message appears.</p>



<a name="207031727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031727">(Aug 15 2020 at 17:48)</a>:</h4>
<p><code>tuto_lib</code> contains <code>attribute [instance] classical.prop_decidable</code></p>



<a name="207031936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207031936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207031936">(Aug 15 2020 at 17:53)</a>:</h4>
<blockquote>
<p>What do you mean by axiomatically basic? #print axioms nat.find shows classical.choice quot.sound and propext, so essentially all the axioms.</p>
</blockquote>
<p>What? That should not be, <code>nat.find</code> should require no axioms</p>



<a name="207032243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207032243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207032243">(Aug 15 2020 at 18:01)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/issues/446">lean#446</a></p>



<a name="207032543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207032543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207032543">(Aug 15 2020 at 18:08)</a>:</h4>
<p>What the hell? I just noticed that the section <a href="https://github.com/leanprover-community/mathlib/blob/55d430ca22bad157799afdf5e3d9a26597ee37f9/src/algebra/order.lean#L125-L180">https://github.com/leanprover-community/mathlib/blob/55d430ca22bad157799afdf5e3d9a26597ee37f9/src/algebra/order.lean#L125-L180</a> of choiceless proofs about decidable linear orders was completely destroyed by the decidable classical linter</p>



<a name="207032922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207032922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207032922">(Aug 15 2020 at 18:18)</a>:</h4>
<p>Looks like the discussion was in this thread: <a href="#narrow/stream/144837-PR-reviews/topic/.232332/near/193211152">https://leanprover.zulipchat.com/#narrow/stream/144837-PR-reviews/topic/.232332/near/193211152</a></p>



<a name="207033058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033058">(Aug 15 2020 at 18:22)</a>:</h4>
<p>Yes, I didn't realize that they actually went forward with the theorem defacement. In any case I've restored the theorems in <a href="https://github.com/leanprover-community/mathlib/issues/3799">#3799</a></p>



<a name="207033070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033070">(Aug 15 2020 at 18:22)</a>:</h4>
<p>They have been marked <code>@[nolint classical_decidable]</code> this time, so hopefully this won't happen again</p>



<a name="207033082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033082">(Aug 15 2020 at 18:23)</a>:</h4>
<p>If we decide these don't deserve to exist in mathlib, then they should be deleted, not trivialized</p>



<a name="207033141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033141">(Aug 15 2020 at 18:24)</a>:</h4>
<p>It'd be good to add a library note or some other documentation about the <code>decidable</code> namespace too.</p>



<a name="207033157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033157">(Aug 15 2020 at 18:25)</a>:</h4>
<p>I was actually thinking of moving these theorems to core so that they can support things like <a href="https://github.com/leanprover-community/lean/issues/446">lean#446</a> (which was the original reason I wrote them)</p>



<a name="207033165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033165">(Aug 15 2020 at 18:25)</a>:</h4>
<p>but this means they can't keep the <code>nolint</code></p>



<a name="207033206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033206">(Aug 15 2020 at 18:26)</a>:</h4>
<p>We can always add <code>nolint</code> in mathlib. </p>
<p>I thought we were planning to move order-stuff out of core rather than into it though?</p>



<a name="207033210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033210">(Aug 15 2020 at 18:27)</a>:</h4>
<p>that too</p>



<a name="207033261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033261" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033261">(Aug 15 2020 at 18:28)</a>:</h4>
<p>I would like the proof that int is a ring to not use the axiom of choice. If all the lemmas come out of core then these can come with</p>



<a name="207033274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033274">(Aug 15 2020 at 18:28)</a>:</h4>
<p>Like does <code>init.data.nat.lemmas</code> need to exist?</p>



<a name="207033706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033706">(Aug 15 2020 at 18:40)</a>:</h4>
<p>I think the three axioms are not so bad as a single invocation of <code>classical.em</code> in the proof will make the theorem depend on all three, because of how <code>classical.em</code> is proved. Would be nice to have a command that tells whether a proof uses only excluded middle and not choice (as is the case for most of the incidence geometry problems). Maybe designate certain important theorems from where you don't trace further back.</p>



<a name="207033715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033715">(Aug 15 2020 at 18:40)</a>:</h4>
<p>I think <code>core.init.data.nat.lemmas</code> contains many useful lemmas. It's the go-to place when I can't find what I need in <code>data.nat.basic</code>.</p>



<a name="207033791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033791">(Aug 15 2020 at 18:42)</a>:</h4>
<p>Of course the contents of <code>init.data.nat.lemmas</code> are important, I'm not saying to delete them! I mean to move everything to mathlib</p>



<a name="207033802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033802">(Aug 15 2020 at 18:43)</a>:</h4>
<p>the question is really what is the minimal substrate that lean needs to pass its test suite</p>



<a name="207033818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207033818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207033818">(Aug 15 2020 at 18:43)</a>:</h4>
<p>and what is needed to make VM builtins work</p>



<a name="207101260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Construction%20of%20Algebraic%20Closure/near/207101260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Construction.20of.20Algebraic.20Closure.html#207101260">(Aug 17 2020 at 02:28)</a>:</h4>
<p>I studied the proof of <code>nat.find</code> to convince myself it works and to learn the terse proof style, and I just came up with a different, shorter proof. Unfortuantely it uses <code>nat.decreasing_induction</code> which is not in the core, but it doesn't use addition. Let me know if it is worth PRing or can be further simplified.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">parameter</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span>
<span class="kn">variables</span> <span class="o">[</span><span class="n">decidable_pred</span> <span class="n">p</span><span class="o">]</span> <span class="o">(</span><span class="n">H</span> <span class="o">:</span> <span class="bp">∃</span><span class="n">n</span><span class="o">,</span> <span class="n">p</span> <span class="n">n</span><span class="o">)</span>
<span class="kn">private</span> <span class="n">def</span> <span class="n">lbp</span> <span class="o">(</span><span class="n">m</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="n">m</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">∧</span> <span class="bp">¬</span><span class="n">p</span> <span class="n">n</span>
<span class="kn">protected</span> <span class="n">def</span> <span class="n">find_x</span> <span class="o">:</span> <span class="o">{</span><span class="n">n</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">n</span> <span class="bp">∧</span> <span class="bp">∀</span><span class="n">m</span> <span class="bp">&lt;</span> <span class="n">n</span><span class="o">,</span> <span class="bp">¬</span><span class="n">p</span> <span class="n">m</span><span class="o">}</span> <span class="o">:=</span>
<span class="bp">@</span><span class="n">well_founded</span><span class="bp">.</span><span class="n">fix_F</span> <span class="bp">_</span> <span class="n">lbp</span> <span class="o">(</span><span class="bp">λ</span><span class="n">k</span><span class="o">,</span> <span class="o">(</span><span class="bp">∀</span><span class="n">n</span><span class="bp">&lt;</span><span class="n">k</span><span class="o">,</span> <span class="bp">¬</span><span class="n">p</span> <span class="n">n</span><span class="o">)</span> <span class="bp">→</span> <span class="o">{</span><span class="n">n</span> <span class="bp">//</span> <span class="n">p</span> <span class="n">n</span> <span class="bp">∧</span> <span class="bp">∀</span><span class="n">m</span><span class="bp">&lt;</span><span class="n">n</span><span class="o">,</span> <span class="bp">¬</span><span class="n">p</span> <span class="n">m</span><span class="o">})</span>
  <span class="o">(</span><span class="bp">λ</span><span class="n">k</span> <span class="n">h</span> <span class="n">al</span><span class="o">,</span> <span class="k">if</span> <span class="n">pk</span><span class="o">:</span> <span class="n">p</span> <span class="n">k</span> <span class="k">then</span> <span class="bp">⟨</span><span class="n">k</span><span class="o">,</span><span class="n">pk</span><span class="o">,</span><span class="n">al</span><span class="bp">⟩</span> <span class="k">else</span> <span class="n">h</span> <span class="o">(</span><span class="n">k</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">⟨</span><span class="n">rfl</span><span class="o">,</span><span class="n">pk</span><span class="bp">⟩</span>
    <span class="o">(</span><span class="bp">λ</span><span class="n">n</span> <span class="n">pn</span><span class="o">,</span> <span class="o">(</span><span class="n">lt_or_eq_of_le</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">le_of_lt_succ</span> <span class="n">pn</span><span class="o">))</span><span class="bp">.</span><span class="n">elim</span>
      <span class="o">(</span><span class="bp">λ</span><span class="n">h</span><span class="o">,</span> <span class="n">al</span> <span class="n">n</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="bp">λ</span><span class="n">h</span><span class="o">,</span> <span class="k">by</span> <span class="n">rwa</span> <span class="n">h</span><span class="o">)))</span> <span class="mi">0</span>
  <span class="o">(</span><span class="k">let</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span><span class="n">pn</span><span class="bp">⟩</span> <span class="o">:=</span> <span class="n">H</span> <span class="k">in</span> <span class="n">suffices</span> <span class="bp">∀</span><span class="n">m</span><span class="bp">≤</span><span class="n">n</span><span class="o">,</span> <span class="n">acc</span> <span class="n">lbp</span> <span class="n">m</span><span class="o">,</span> <span class="k">from</span> <span class="n">this</span> <span class="mi">0</span> <span class="n">n</span><span class="bp">.</span><span class="n">zero_le</span><span class="o">,</span>
    <span class="bp">λ_</span> <span class="n">hm</span><span class="o">,</span> <span class="n">nat</span><span class="bp">.</span><span class="n">decreasing_induction</span>
      <span class="o">(</span><span class="bp">λ_</span> <span class="n">hn</span><span class="o">,</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">λ_</span> <span class="n">hy</span><span class="o">,</span> <span class="k">by</span> <span class="n">rwa</span> <span class="n">hy</span><span class="bp">.</span><span class="mi">1</span><span class="bp">⟩</span><span class="o">)</span> <span class="n">hm</span> <span class="bp">⟨_</span><span class="o">,</span> <span class="bp">λ_</span> <span class="n">hy</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">pn</span> <span class="n">hy</span><span class="bp">.</span><span class="mi">2</span><span class="bp">⟩</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">λ_</span> <span class="n">h</span><span class="o">,</span> <span class="n">absurd</span> <span class="n">h</span> <span class="o">(</span><span class="n">nat</span><span class="bp">.</span><span class="n">not_lt_zero</span> <span class="bp">_</span><span class="o">))</span>
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>