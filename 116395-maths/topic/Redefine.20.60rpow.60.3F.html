---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html">Redefine `rpow`?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="258703999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258703999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258703999">(Oct 22 2021 at 12:26)</a>:</h4>
<p>What do you think about using <code>exp (b * log a)</code> as the definition of <code>a ^ b</code> for real <code>a</code> and <code>b</code> (with usual exceptions for <code>a = 0</code>)? Some pros and cons I see:</p>
<ul>
<li>pro: we can define <code>a ^ b</code> (and Lp spaces) before we have <code>π</code> and inverse trig functions;</li>
<li>pro: probably easier <code>simp</code> lemmas for <code>a ^ b</code>, <code>a &lt; 0</code>;</li>
<li>con: we loose equalities about <code>real.rpow</code> and <code>complex.cpow</code>.</li>
</ul>
<p>Another possibility is to make a new definition propositionally equal to the current one, just write it explicitly.</p>



<a name="258704064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258704064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258704064">(Oct 22 2021 at 12:27)</a>:</h4>
<p>I would be very happy if this was even the definition for a real and b complex</p>



<a name="258704105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258704105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258704105">(Oct 22 2021 at 12:27)</a>:</h4>
<p>this is the definition which is easiest to work with when doing Dirichlet series (like the Riemann zeta function defined as an infinite sum)</p>



<a name="258704167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258704167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258704167">(Oct 22 2021 at 12:28)</a>:</h4>
<p>but this is a definition question so I guess I'm not really the right person to answer</p>



<a name="258708678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258708678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258708678">(Oct 22 2021 at 13:07)</a>:</h4>
<p>There is the problem that with your definition you don't have <code>a ^ (3 : N) = a ^ (3 : R)</code> for negative <code>a</code>, right? I think this is a non-negotiable property I want to have of my power function.</p>



<a name="258709207"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258709207" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258709207">(Oct 22 2021 at 13:11)</a>:</h4>
<p>You're right.</p>



<a name="258709292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258709292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258709292">(Oct 22 2021 at 13:12)</a>:</h4>
<p>I'll think about it.</p>



<a name="258709650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258709650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258709650">(Oct 22 2021 at 13:15)</a>:</h4>
<p>Btw this property is unknown to <code>norm_cast</code>. Is it intended?</p>



<a name="258709665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258709665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258709665">(Oct 22 2021 at 13:15)</a>:</h4>
<p>Giving an explicit formula directly, without going through all the complex stuff, looks like a good idea to me, though.</p>



<a name="258710457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258710457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258710457">(Oct 22 2021 at 13:22)</a>:</h4>
<p>Except that the explicit formula uses <code>cos</code> and <code>pi</code>...</p>



<a name="258710485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258710485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258710485">(Oct 22 2021 at 13:22)</a>:</h4>
<p>Exactly.</p>



<a name="258710525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258710525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258710525">(Oct 22 2021 at 13:23)</a>:</h4>
<p>So, we need large parts of inverse trig functions anyway.</p>



<a name="258710648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258710648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258710648">(Oct 22 2021 at 13:24)</a>:</h4>
<p>Then I'm not sure that removing <code>complex.log</code>/<code>complex.cpow</code> as dependencies is worth it.</p>



<a name="258712434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Redefine%20%60rpow%60%3F/near/258712434" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Redefine.20.60rpow.60.3F.html#258712434">(Oct 22 2021 at 13:37)</a>:</h4>
<p>Yes, I agree.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>