---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/bundles.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html">bundles</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="282619640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282619640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282619640">(May 17 2022 at 10:33)</a>:</h4>
<p>What should be the simp-normal form of the map <code>bundle.total_space E -&gt; B</code>?<br>
Currently it is <a href="https://leanprover-community.github.io/mathlib_docs/find/sigma.fst">docs#sigma.fst</a> since <a href="https://leanprover-community.github.io/mathlib_docs/find/bundle.proj">docs#bundle.proj</a> simplifies to <code>sigma.fst</code>. However, if <code>sigma.fst</code>, why do we even define <code>bundle.proj</code> in the first place? If <code>sigma.fst</code> is simp-normal form, we want to use <code>sigma.fst</code> everywhere, and not <code>bundle.proj</code>.</p>



<a name="282619707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282619707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282619707">(May 17 2022 at 10:34)</a>:</h4>
<p><span class="user-mention" data-user-id="267205">@Nicolò Cavalleri</span></p>



<a name="282748181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282748181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282748181">(May 18 2022 at 07:16)</a>:</h4>
<p>There might be some discussion about that in <a href="https://github.com/leanprover-community/mathlib/pull/4658">#4658</a> which introduced it</p>



<a name="282748424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282748424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282748424">(May 18 2022 at 07:19)</a>:</h4>
<p>My guess would be that it exists for dot notation, but is removed by simp to avoid repeating tonnes of boring lemmas</p>



<a name="282748578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282748578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282748578">(May 18 2022 at 07:21)</a>:</h4>
<p>Tangential question; why does <a href="https://leanprover-community.github.io/mathlib_docs/find/bundle">docs#bundle</a> seem to pick up instances for other types of bundle?</p>



<a name="282748592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/282748592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#282748592">(May 18 2022 at 07:21)</a>:</h4>
<p>Are those other bundle types deliberately marked as reducible?</p>



<a name="283311679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/283311679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#283311679">(May 23 2022 at 12:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/116395-maths/topic/bundles/near/282619640">said</a>:</p>
<blockquote>
<p>What should be the simp-normal form of the map <code>bundle.total_space E -&gt; B</code>?<br>
Currently it is <a href="https://leanprover-community.github.io/mathlib_docs/find/sigma.fst">docs#sigma.fst</a> since <a href="https://leanprover-community.github.io/mathlib_docs/find/bundle.proj">docs#bundle.proj</a> simplifies to <code>sigma.fst</code>. However, if <code>sigma.fst</code>, why do we even define <code>bundle.proj</code> in the first place? If <code>sigma.fst</code> is simp-normal form, we want to use <code>sigma.fst</code> everywhere, and not <code>bundle.proj</code>.</p>
</blockquote>
<p>To me, this question is related to type synonyms. <code>sigma.fst</code> goes from <code>Σ x, E x</code> to <code>B</code>, while <code>bundle.proj E</code> goes from <code>total_space E</code> to <code>B</code>. Since these two spaces don't have the same typeclasses, I think it really makes a difference when discussing, say, continuity of the projection, as the topologies on  <code>Σ x, E x</code> and <code>total_space E</code> are typically not the same. But writing <code>v.1</code> is much more convenient than writing <code>proj E v</code>, so I have mixed feelings.</p>



<a name="283313053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/283313053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kyle Miller <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#283313053">(May 23 2022 at 12:46)</a>:</h4>
<p>Would it be a bad idea to make <code>E</code> implicit for <code>proj</code>? Then you could write <code>v.proj</code> instead of <code>proj E v</code>. When you just want the projection map you might need <code>@proj _ foo</code> though for a specific bundle <code>foo</code> (which in Lean 4 you'll be able to write as <code>proj (E := foo)</code>).</p>
<p>Without making it implicit, I think <code>v.proj _</code> should work, but there are occasions where you need to put parentheses around the whole expression.</p>



<a name="283313628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/283313628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#283313628">(May 23 2022 at 12:51)</a>:</h4>
<p>I think that's a good idea, since the @ version is not too verbose.</p>



<a name="283738534"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/283738534" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#283738534">(May 24 2022 at 12:44)</a>:</h4>
<p>I had similar concerns to those of Sebastien: if we write a type synonym, we should develop and use its API. I like the suggestion to make the argument <code>E</code> of <code>proj</code> implicit. I will PR that.</p>



<a name="283778732"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/bundles/near/283778732" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/bundles.html#283778732">(May 24 2022 at 17:21)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/14359">#14359</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>