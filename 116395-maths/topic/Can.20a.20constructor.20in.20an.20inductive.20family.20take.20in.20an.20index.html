---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html">Can a constructor in an inductive family take in an index</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="213699094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699094">(Oct 18 2020 at 09:59)</a>:</h4>
<p>Let's say I have an inductive family</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">nil</span>  <span class="o">:</span> <span class="n">vector</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>

<p>I found that the constructors of an inductive family indexed over \y should have type</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code> <span class="n">foo.constructor</span><span class="bp">ᵢ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="bp">ᵢ</span><span class="o">),</span> <span class="n">foo</span> <span class="n">a</span> <span class="n">t</span><span class="bp">ᵢ</span>
</code></pre></div>

<p>, where t_i : \y.<br>
So the constructors does not take arguments from \y, the indices.<br>
But it seems like in the above example succ depends on n. What's going on here?<br>
(I got my information about the constructur from <a href="https://leanprover.github.io/reference/declarations.html">https://leanprover.github.io/reference/declarations.html</a> 4.5)</p>



<a name="213699277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699277">(Oct 18 2020 at 10:04)</a>:</h4>
<p>the indices in that description are the <code>tᵢ</code>, while additional constructor arguments are <code> (b : βᵢ)</code>. The <code>tᵢ</code> are terms in terms of the <code>a</code> and <code>b</code> arguments, and in particular you are allowed to just use a constructor argument as the value of an index</p>



<a name="213699408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699408">(Oct 18 2020 at 10:07)</a>:</h4>
<p>In this case, set <code>(a : α)</code> to <code>(α : Type u)</code>, <code>(b : βᵢ)</code> to <code>(n : nat) (_ : vector n)</code>, and <code>tᵢ</code> to <code>n + 1</code> to type <code>vector.succ</code></p>



<a name="213699552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699552">(Oct 18 2020 at 10:11)</a>:</h4>
<p>As I understand it (b : \b_i) should be a telescope in the context of (a : \a) and (vector : Π (n : Nat), Sort u),<br>
but then none of the types \b_i,j can be nat?</p>



<a name="213699561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699561">(Oct 18 2020 at 10:11)</a>:</h4>
<p><code>nat</code> is valid in the empty context</p>



<a name="213699581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699581">(Oct 18 2020 at 10:12)</a>:</h4>
<p>the environment is a global parameter on the typing judgment</p>



<a name="213699630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699630">(Oct 18 2020 at 10:12)</a>:</h4>
<p>and it supplies the set of well typed constants, such as <code>nat</code></p>



<a name="213699635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699635" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699635">(Oct 18 2020 at 10:12)</a>:</h4>
<p>because it is in some sense globally defined?<br>
What if instead of nat the index family was be a type which is not valid in the empty context?</p>



<a name="213699650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699650">(Oct 18 2020 at 10:12)</a>:</h4>
<p>then it would be a parameter to the inductive type, like <code>(α : Type u)</code></p>



<a name="213699658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699658">(Oct 18 2020 at 10:13)</a>:</h4>
<p>and you would still be able to use it in the betas</p>



<a name="213699736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699736">(Oct 18 2020 at 10:14)</a>:</h4>
<p>alternatively, it could be neither, but you could introduce it as a constructor argument, like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vector</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>



<a name="213699742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699742">(Oct 18 2020 at 10:15)</a>:</h4>
<p>That's surprising to me</p>



<a name="213699754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699754">(Oct 18 2020 at 10:15)</a>:</h4>
<p>This is actually not valid though, it violates universe level restrictions</p>



<a name="213699766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699766">(Oct 18 2020 at 10:15)</a>:</h4>
<p>you would have to do this instead</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vector</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>



<a name="213699769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699769">(Oct 18 2020 at 10:15)</a>:</h4>
<p>which part is surprising?</p>



<a name="213699882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699882">(Oct 18 2020 at 10:18)</a>:</h4>
<p>Here's a version of <code>vector</code> that uses a local variable instead of the global constant <code>nat</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
<span class="kd">inductive</span> <span class="n">vector'</span>
  <span class="o">(</span><span class="n">Nat</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>
  <span class="o">(</span><span class="n">zero</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span>
  <span class="o">(</span><span class="n">succ</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span><span class="o">)</span>
  <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">:</span> <span class="n">vector'</span> <span class="n">zero</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">,</span> <span class="n">vector'</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector'</span> <span class="o">(</span><span class="n">succ</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>



<a name="213699893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699893">(Oct 18 2020 at 10:19)</a>:</h4>
<p>you should think of the parameters as being stuck to the left of all the visible arguments to the constructor</p>



<a name="213699933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699933">(Oct 18 2020 at 10:20)</a>:</h4>
<p>so the types of <code>nil</code> and <code>cons</code> are allowed to refer to those parameters</p>



<a name="213699937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699937">(Oct 18 2020 at 10:20)</a>:</h4>
<p>well I'm trying to understand what exactly makes inductive families necessary, basically why is it</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span> <span class="bp">-&gt;</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
</code></pre></div>

<p>and not</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">:</span>  <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">(</span><span class="n">u</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>
</code></pre></div>

<p>Then I figured the crucial difference must be how A and n can be used as arguments in the constructor, noticing that a constructor can set the type of its output according to a fixed index t_i, but can not take indices as inputs itself, while it can take arguments of type A.<br>
But the difference in needing a family seems to be about the question if the index Type is in the empty context?</p>



<a name="213699952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699952">(Oct 18 2020 at 10:21)</a>:</h4>
<p>Yes, that's right. Logically, the indices are the things that are "allowed to change" in application of the constructors</p>



<a name="213699998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213699998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213699998">(Oct 18 2020 at 10:22)</a>:</h4>
<p>Note that <code>Nat</code> is still not allowed to change in <code>vector'</code>, because it is a parameter not an index</p>



<a name="213700002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700002">(Oct 18 2020 at 10:22)</a>:</h4>
<p>So parameters are much more like constants in that respect</p>



<a name="213700011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700011">(Oct 18 2020 at 10:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index/near/213699882">said</a>:</p>
<blockquote>
<p>Here's a version of <code>vector</code> that uses a local variable instead of the global constant <code>nat</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">universe</span> <span class="n">u</span>
<span class="kd">inductive</span> <span class="n">vector'</span>
  <span class="o">(</span><span class="n">Nat</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>
  <span class="o">(</span><span class="n">zero</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span>
  <span class="o">(</span><span class="n">succ</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span><span class="o">)</span>
  <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="bp">|</span> <span class="n">nil</span> <span class="o">:</span> <span class="n">vector'</span> <span class="n">zero</span>
<span class="bp">|</span> <span class="n">cons</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">,</span> <span class="n">vector'</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector'</span> <span class="o">(</span><span class="n">succ</span> <span class="n">n</span><span class="o">)</span>
</code></pre></div>

</blockquote>
<p>Okay now this seems much more like I would imagine things work... you just put the indices before the colon too.</p>



<a name="213700015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700015">(Oct 18 2020 at 10:23)</a>:</h4>
<p>Well the index <code>Nat -&gt;</code> is still right of the colon</p>



<a name="213700057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700057">(Oct 18 2020 at 10:24)</a>:</h4>
<p>yea but now that it is also on the left it feels more acceptable for me to use it for constructor arguments :D</p>



<a name="213700072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700072">(Oct 18 2020 at 10:24)</a>:</h4>
<p>You should imagine that you are in a giant context of pis introducing all the definitions in the environment</p>



<a name="213700092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700092">(Oct 18 2020 at 10:25)</a>:</h4>
<p>This doesn't quite work out formally though, because definitions in the environment can be universe polymorphic and pis can't</p>



<a name="213700212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700212">(Oct 18 2020 at 10:28)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">vector</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vector</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>

<p>Is this an inductive type or an inductive family? If it is an inductive type, how can you specify vector 0 in the definition of nil.<br>
As I thought for an inductive type he nil should be sort of a function like \Pi (a : \a) (n : nat) : vector a n.<br>
Thanks  a lot for the help btw!</p>



<a name="213700225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700225">(Oct 18 2020 at 10:29)</a>:</h4>
<p>Well there isn't much difference between those, lean only has one thing. If you mean does it have any indices, yes it has two</p>



<a name="213700283"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700283" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700283">(Oct 18 2020 at 10:30)</a>:</h4>
<p>The full type of nil there is <code>vector.nil : Π (α : Type u), @vector α 0</code>, which in this case is the same as the visible type because there are no parameters to adjoin</p>



<a name="213700302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700302">(Oct 18 2020 at 10:31)</a>:</h4>
<p>Ah, I was trying to find an example of inductive families being a strict extension to the concept of inductive type. Are they internally the same thing? inductive families are just an inductive type that we interpret in a bit of a different way?</p>



<a name="213700361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700361">(Oct 18 2020 at 10:32)</a>:</h4>
<p>it's the other way around; the core concept is an <code>inductive</code> which can have m parameters and n indices; we would usually call that an inductive family if n &gt; 0 and an inductive type if n = 0</p>



<a name="213700427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700427">(Oct 18 2020 at 10:34)</a>:</h4>
<p>It might help to look at <a href="https://gist.github.com/digama0/ff92084b58a8e669bb421829fcd04f55#file-induction-lean-L22-L47">https://gist.github.com/digama0/ff92084b58a8e669bb421829fcd04f55#file-induction-lean-L22-L47</a> , which is the definition of an inductive type that is "maximally general" in the sense that all other inductive types can be defined in terms of it</p>



<a name="213700454"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700454" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700454">(Oct 18 2020 at 10:35)</a>:</h4>
<p>what the heck is that sorcery</p>



<a name="213700565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700565">(Oct 18 2020 at 10:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>  <span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">i</span><span class="o">}</span> <span class="o">{</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Sort</span> <span class="n">j</span><span class="o">}</span> <span class="o">{</span><span class="n">ξ</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="kt">Sort</span> <span class="n">k</span><span class="o">}</span>
    <span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">π</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">),</span> <span class="n">ξ</span> <span class="n">b</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span>
  <span class="kd">inductive</span> <span class="n">ind</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="kt">Sort</span> <span class="o">(</span><span class="n">max</span> <span class="n">j</span> <span class="n">k</span> <span class="n">l</span> <span class="mi">1</span><span class="o">)</span>
  <span class="bp">|</span> <span class="n">intro</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ξ</span> <span class="n">b</span><span class="o">),</span> <span class="n">ind</span> <span class="o">(</span><span class="n">π</span> <span class="n">b</span> <span class="n">x</span><span class="o">))</span> <span class="bp">→</span> <span class="n">ind</span> <span class="o">(</span><span class="n">p</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>

<p>There is exactly one of each kind of thing going on in an inductive type (except parameters, which just go along for the ride). <code>(a : α)</code> is the indices of the family; <code>(b : β)</code> are the nonrecursive arguments to the constructor; <code>p</code> is the mapping from constructor arguments to indices. We haven't talked about recursive arguments but <code>ξ</code> is the domain of the recursive calls and <code>π</code> is the mapping to indices in those recursive calls</p>



<a name="213700577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700577">(Oct 18 2020 at 10:39)</a>:</h4>
<p>there is an example further down showing how <code>nat</code> can be defined using <code>ind</code></p>



<a name="213700634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700634">(Oct 18 2020 at 10:40)</a>:</h4>
<p>It's useful to have something like this because it means that lean doesn't need infinitely many axioms (the inductive types), you can get the whole lot with just one very general inductive type</p>



<a name="213700638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213700638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213700638">(Oct 18 2020 at 10:41)</a>:</h4>
<p>My thesis spells out the details behind this construction a bit more</p>



<a name="213701299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213701299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213701299">(Oct 18 2020 at 10:59)</a>:</h4>
<p>Can I find your thesis online?<br>
I suppose it's probably not necessary to understand induction to this depth to get how vector works, but I always feel like I'm not getting it if I don't know the type of every object and why things can't be written in a different way.</p>



<a name="213701301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213701301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213701301">(Oct 18 2020 at 10:59)</a>:</h4>
<p><a href="https://github.com/digama0/lean-type-theory/releases/tag/v1.0">https://github.com/digama0/lean-type-theory/releases/tag/v1.0</a></p>



<a name="213701359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213701359" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213701359">(Oct 18 2020 at 11:00)</a>:</h4>
<p>The precise rules for inductives are in chapter 2, the reduction to W types (aka <code>ind</code> above) is in chapter 5</p>



<a name="213703676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213703676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213703676">(Oct 18 2020 at 12:09)</a>:</h4>
<p>I'll try to read chapter 2. One thing is a bit mysterious me so far: What would a specification be in practice in lean?</p>



<a name="213703960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213703960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213703960">(Oct 18 2020 at 12:18)</a>:</h4>
<p>You mean an inductive specification, the <code>spec</code> judgment from the paper?</p>



<a name="213703969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213703969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213703969">(Oct 18 2020 at 12:19)</a>:</h4>
<p>That would be the stuff after the first line of an <code>inductive</code> command:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">|</span> <span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vector</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>
</code></pre></div>



<a name="213704028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213704028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213704028">(Oct 18 2020 at 12:20)</a>:</h4>
<p>This would get translated to the spec</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vector</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">+</span>
<span class="o">(</span><span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vector</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vector</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
<span class="mi">0</span>
</code></pre></div>

<p>in the notation of the paper</p>



<a name="213704051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213704051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213704051">(Oct 18 2020 at 12:21)</a>:</h4>
<p>and the full vector type would be translated to</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">vector</span> <span class="o">:=</span>
<span class="n">μ</span> <span class="o">(</span><span class="n">vec</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Type</span> <span class="o">(</span><span class="n">u</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)),</span>
<span class="o">(</span><span class="n">nil</span>  <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">),</span> <span class="n">vec</span> <span class="mi">0</span><span class="o">)</span> <span class="bp">+</span>
<span class="o">(</span><span class="n">succ</span> <span class="o">:</span> <span class="bp">Π</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="n">n</span><span class="o">,</span> <span class="n">vec</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">vec</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="bp">+</span>
<span class="mi">0</span>
</code></pre></div>



<a name="213704095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213704095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213704095">(Oct 18 2020 at 12:22)</a>:</h4>
<p>where <code>μ</code> is a binder that represents the <code>inductive</code> command (you won't find it in standard lean)</p>



<a name="213704100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213704100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Marc Huisinga <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213704100">(Oct 18 2020 at 12:22)</a>:</h4>
<p>some more examples in the notation of the paper:<br>
<a href="/user_uploads/3121/yTr1Urlt9m2L5SAKSWtxgFUu/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/yTr1Urlt9m2L5SAKSWtxgFUu/image.png" title="image.png"><img src="/user_uploads/3121/yTr1Urlt9m2L5SAKSWtxgFUu/image.png"></a></div>



<a name="213707046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707046">(Oct 18 2020 at 13:43)</a>:</h4>
<p>I am not familiar with lambda-mu calculus, what would be an intuition for what mu does?</p>



<a name="213707254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707254">(Oct 18 2020 at 13:48)</a>:</h4>
<p>It seems to collect the type former and the specification together into one object</p>



<a name="213707336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707336" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707336">(Oct 18 2020 at 13:50)</a>:</h4>
<p>It's another type former like pi. Intuitively, it has the type <code>(Type -&gt; Type) -&gt; Type</code> and gets the least fixed point of the passed in type functor</p>



<a name="213707365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707365" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707365">(Oct 18 2020 at 13:51)</a>:</h4>
<p>it's not the same mu as the lambda mu calculus</p>



<a name="213707377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707377" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707377">(Oct 18 2020 at 13:52)</a>:</h4>
<p>It's this mu -&gt; <a href="https://en.wikipedia.org/wiki/Recursive_data_type#Theory">https://en.wikipedia.org/wiki/Recursive_data_type#Theory</a></p>



<a name="213707725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Golol <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707725">(Oct 18 2020 at 14:01)</a>:</h4>
<p>Okay hm, I'm imagining it as declaring that a type former together with a specification are now one object with the name mu t : F .  K</p>



<a name="213707958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Can%20a%20constructor%20in%20an%20inductive%20family%20take%20in%20an%20index/near/213707958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Can.20a.20constructor.20in.20an.20inductive.20family.20take.20in.20an.20index.html#213707958">(Oct 18 2020 at 14:07)</a>:</h4>
<p>yes, that's right. <code>K</code> describes the actual form of the inductive type, and <code>mu t : F. K</code> is the inductive type so defined (and <code>c_(mu t : F. K)</code> and <code>rec_(mu t : F. K)</code> are the constructor and recursor for the type)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>