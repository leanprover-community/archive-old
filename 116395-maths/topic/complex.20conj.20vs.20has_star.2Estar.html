---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html">complex conj vs has_star.star</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="255139317"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255139317" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255139317">(Sep 27 2021 at 23:57)</a>:</h4>
<p>Is there any reason to have both? I understand that mathematicians care about notation but we can have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`</span><span class="n">conj</span><span class="bp">`</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">has_star.star</span> <span class="n">complex</span> <span class="n">complex.has_star</span>
</code></pre></div>
<p>or something like that.</p>



<a name="255139734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255139734" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255139734">(Sep 28 2021 at 00:00)</a>:</h4>
<p>I think <code>star</code> as currently defined goes between a ring and its opposite, right?  I might worry that some unexpected messes would arise with type synonyms.</p>



<a name="255139943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255139943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255139943">(Sep 28 2021 at 00:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar/near/255139734">said</a>:</p>
<blockquote>
<p>I think <code>star</code> as currently defined goes between a ring and its opposite, right?  I might worry that some unexpected messes would arise with type synonyms.</p>
</blockquote>
<p>No, <code>has_star.star</code> is just some function <code>R → R</code>.</p>



<a name="255139970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255139970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255139970">(Sep 28 2021 at 00:03)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/has_star.star">docs#has_star.star</a> <a href="https://leanprover-community.github.io/mathlib_docs/find/star_ring">docs#star_ring</a></p>



<a name="255140082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140082" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140082">(Sep 28 2021 at 00:04)</a>:</h4>
<p>I can't really think of a good reason to keep <code>conj</code>, this sounds like a good idea.</p>



<a name="255140174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140174">(Sep 28 2021 at 00:05)</a>:</h4>
<p>Also, with unified <code>has_star.star</code> approach we won't have to duplicate code between complex semilinear maps and semilinear maps between star rings.</p>



<a name="255140314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140314">(Sep 28 2021 at 00:06)</a>:</h4>
<p>I think, the only reason <code>complex.conj</code> exists is that <code>star_ring</code>s were not there, and nobody cared to do a refactor.</p>



<a name="255140597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140597">(Sep 28 2021 at 00:09)</a>:</h4>
<p>Opened an issue <a href="https://github.com/leanprover-community/mathlib/issues/9421">#9421</a></p>



<a name="255140654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140654">(Sep 28 2021 at 00:10)</a>:</h4>
<p>I actually tried (... not very hard) rewriting <code>star_ring</code> using semilinear stuff last weekend.  I found the star hierarchy a bit awkward to use -- I wonder whether it would be better to have separate classes <code>star_ring</code> equipped with a ring equiv <code>star</code>, <code>star_algebra</code> equipped with an algebra <code>star</code>, etc.</p>



<a name="255140897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140897">(Sep 28 2021 at 00:12)</a>:</h4>
<p>Sorry, I don't understand. What exactly is wrong with current setup?</p>



<a name="255140920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255140920" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255140920">(Sep 28 2021 at 00:13)</a>:</h4>
<p>Here is the point I found tricky: how do you translate</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">star_algebra</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span>
  <span class="o">[</span><span class="n">comm_semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">star_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">star_ring</span> <span class="n">A</span><span class="o">]</span> <span class="o">[</span><span class="n">algebra</span> <span class="n">R</span> <span class="n">A</span><span class="o">]</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">star_smul</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">r</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">A</span><span class="o">),</span> <span class="n">star</span> <span class="o">(</span><span class="n">r</span> <span class="bp">•</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(</span><span class="bp">@</span><span class="n">has_star.star</span> <span class="n">R</span> <span class="n">_</span> <span class="n">r</span><span class="o">)</span> <span class="bp">•</span> <span class="n">star</span> <span class="n">a</span><span class="o">)</span>
</code></pre></div>
<p>to a semilinear statement?  I couldn't think of a simpler way than saying, "there exists an <code>R</code>-<code>star</code>-semilinear-map from <code>A</code> to itself, which we will call <code>star'</code>, and whose underlying function is equal to <code>star</code>."</p>



<a name="255141094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141094" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141094">(Sep 28 2021 at 00:15)</a>:</h4>
<p>Hmm, I guess you would want <code>star</code> to be a bundled semilinear map.</p>



<a name="255141148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141148">(Sep 28 2021 at 00:15)</a>:</h4>
<p>Yes. (Eventually more ... we want to define semilinear algebra-maps and then star will be such a thing.)</p>



<a name="255141256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141256">(Sep 28 2021 at 00:16)</a>:</h4>
<p>But this is why I said above that I wondered if the star hierarchy would work better if <code>star</code> was not just a function, introduced using this <code>has_star</code> class, but came with more structure -- add hom, ring hom, different for each algebraic object.</p>



<a name="255141380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141380">(Sep 28 2021 at 00:18)</a>:</h4>
<p>Right, but there's a bootstrap problem here, in the sense that the ring hom we want <code>star</code> to be semilinear over should itself be the <code>star</code> of something else.</p>



<a name="255141510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141510">(Sep 28 2021 at 00:19)</a>:</h4>
<p>Why not define <code>linear_equiv.star</code> to be a bundled semilinear equivalence, and leave <code>star</code> to be unbundled?</p>



<a name="255141729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255141729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255141729">(Sep 28 2021 at 00:22)</a>:</h4>
<p>I don't think I understand either Frédéric's comment (i.e., I agree that "the ring hom we want <code>star</code> to be semilinear over should itself be the <code>star</code> of something else" but I don't see yet why it's a problem) or Yury's.</p>



<a name="255143491"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255143491" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255143491">(Sep 28 2021 at 00:42)</a>:</h4>
<p>My point was that if we look at i.e. the complex numbers, and we define <code>has_star.star</code> to be a semilinear equivalence, what is it semilinear over? I guess we would have to keep <code>complex.conj</code>. (Which isn't really a problem.)</p>



<a name="255143713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255143713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255143713">(Sep 28 2021 at 00:45)</a>:</h4>
<p>I was thinking it would run more as follows: in the instance of the complex numbers as a star-algebra, the star operation is a semilinear-algebra-equiv-involution, semilinear over the ring-equiv-involution which is the star operation of the complex numbers considered as a star-ring.</p>



<a name="255143718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255143718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255143718">(Sep 28 2021 at 00:45)</a>:</h4>
<p>(!)</p>



<a name="255143849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255143849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255143849">(Sep 28 2021 at 00:47)</a>:</h4>
<p>Ah, so you would have totally separate star operations, as opposed to <code>has_star</code> to which we add more properties in separate classes?</p>



<a name="255144030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144030">(Sep 28 2021 at 00:49)</a>:</h4>
<p>We have things like <code>mul_equiv.inv</code> etc. We can define <code>ring_equiv.star</code> and/or <code>star_ring_equiv.star</code> too.</p>



<a name="255144087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144087">(Sep 28 2021 at 00:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="311453">Frédéric Dupuis</span> <a href="#narrow/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar/near/255143849">said</a>:</p>
<blockquote>
<p>Ah, so you would have totally separate star operations, as opposed to <code>has_star</code> to which we add more properties in separate classes?</p>
</blockquote>
<p>Yes.  (If we even do it at all ... I'm not sure yet whether we really want to upgrade star-theory from "convenient formalism invented by Scott to prove a form of Clauser-Horne-Shimony-Holt" to "core part of the algebraic hierarchy")</p>



<a name="255144228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144228" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144228">(Sep 28 2021 at 00:51)</a>:</h4>
<p>Yury, your idea is that we have both the unbundled <code>star</code> as a function, <em>and</em> the bundled version?</p>



<a name="255144255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144255">(Sep 28 2021 at 00:52)</a>:</h4>
<p>(With the bundled version constructed from the unbundled version using the axioms.)</p>



<a name="255144701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144701">(Sep 28 2021 at 00:56)</a>:</h4>
<p>I think it would be worth expanding this part of the library actually -- things like C*-algebras are definitely worth having and this is a good start.</p>



<a name="255144942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255144942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255144942">(Sep 28 2021 at 00:59)</a>:</h4>
<p>That's true -- as another possible point of use: when I was proving complex Stone-Weierstrass I wished that the results I was proving ad-hoc about the involution of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="double-struck">C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(X, \mathbb{C})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">C</span><span class="mclose">)</span></span></span></span> defined by pointwise conjugation were in fact general results about conjugate-linear involutions of complex modules.</p>



<a name="255145078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255145078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255145078">(Sep 28 2021 at 01:00)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> I think that we should choose some minimal interface (<code>has_star</code>? <code>star_ring</code>? something else?) and define <code>star</code> to be the corresponding bundled automorphism.</p>



<a name="255145119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255145119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255145119">(Sep 28 2021 at 01:01)</a>:</h4>
<p>Note that we can have an unbundled <code>has_star.star</code> and all lemmas restated in terms of a bundled automorphism.</p>



<a name="255145144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255145144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255145144">(Sep 28 2021 at 01:01)</a>:</h4>
<p>(and use only the bundled version outside of instance definitions)</p>



<a name="255145259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255145259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255145259">(Sep 28 2021 at 01:02)</a>:</h4>
<p>I was also thinking a bit about how to formalize information theory in a way that covers all cases of interest. The challenge here is to define the relative entropy in a uniform way for probability measures and for quantum states. I think a general definition involving some sort of star algebra might work but I haven't fully thought it through.</p>



<a name="255150134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150134">(Sep 28 2021 at 02:07)</a>:</h4>
<p>I certainly agree that we shouldn't be afraid of messing with the CHSH design. :-) Whatever makes C-star algebras work best!</p>



<a name="255150539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150539">(Sep 28 2021 at 02:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span>, when you <a href="https://github.com/leanprover-community/mathlib/blob/master/src/algebra/star/basic.lean">decided</a> to make the star hierarchy a mixin hierarchy,</p>
<blockquote>
<p>These are implemented as "mixin" typeclasses, so to summon a star ring (for example)<br>
one needs to write <code>(R : Type) [ring R] [star_ring R]</code>.<br>
This avoids difficulties with diamond inheritance.</p>
</blockquote>
<p>did you do this mainly because you wanted something quick and lightweight?  Would you have made <code>star_{monoid, ring, ...}</code> extend <code>{monoid, ring, ...}</code> if you'd had the energy?</p>



<a name="255150649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150649">(Sep 28 2021 at 02:15)</a>:</h4>
<p>I did that because it seemed at that time we wanted to escape combinatorial explosion of the algebra hierarchy, and people were working on the refactors of both <code>ordered_*</code> and <code>topological_*</code> to a mixin model. I didn't want to cause another problem.</p>



<a name="255150661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150661">(Sep 28 2021 at 02:15)</a>:</h4>
<p>So no, I don't think I would have, energy permitting. :-)</p>



<a name="255150792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150792">(Sep 28 2021 at 02:17)</a>:</h4>
<p>I guess what seems odd to me is that the axioms on <code>star</code> in <code>star_monoid</code> amound to <code>is_mul_hom</code> (modulo commutativity), in <code>star_add_monoid</code> they amount to <code>is_add_hom</code>, in <code>star_ring</code> they amount to <code>is_ring_hom</code>, etc.</p>



<a name="255150816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255150816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255150816">(Sep 28 2021 at 02:17)</a>:</h4>
<p>And unbundled morphisms are very unfashionable :)</p>



<a name="255173121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255173121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255173121">(Sep 28 2021 at 07:23)</a>:</h4>
<p>You could say the same thing about <code>semiring</code> looking like <code>is_add_hom (* a)</code> though, right?</p>



<a name="255191163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255191163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255191163">(Sep 28 2021 at 10:05)</a>:</h4>
<p>I've PR'd <a href="https://github.com/leanprover-community/mathlib/issues/9426">#9426</a> which adds <code>star_linear_equiv</code> as a semilinear equiv</p>



<a name="255724006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255724006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255724006">(Oct 01 2021 at 10:45)</a>:</h4>
<p>I ran into some typeclass inference problems with the semilinear equivalence here.</p>
<p>I'm not particularly invested in what remains in this PR; perhaps someone more involved in the semilinear refactor should adopt it?</p>



<a name="255733138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255733138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255733138">(Oct 01 2021 at 12:09)</a>:</h4>
<p>I'll look at it later, but in the meantime look at how it's done in our "test" file <code>src/linear_algebra/conjugate_linear.lean</code> in the <a href="https://github.com/leanprover-community/mathlib/tree/semilinear-surjective">branch#semilinear-surjective</a>.</p>



<a name="255827614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255827614" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255827614">(Oct 02 2021 at 00:50)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> I could adopt <a href="https://github.com/leanprover-community/mathlib/issues/9426">#9426</a> if you want.</p>



<a name="255860137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/255860137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#255860137">(Oct 02 2021 at 10:24)</a>:</h4>
<p>Please do! I'll wrap up the last dependent PR, but the rest can be yours</p>



<a name="256874221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/256874221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#256874221">(Oct 09 2021 at 14:30)</a>:</h4>
<p>I just opened a PR to replace <code>complex.conj</code> and <code>is_R_or_C.conj</code> with <code>star_ring_aut</code>: <a href="https://github.com/leanprover-community/mathlib/issues/9640">#9640</a>. It works quite well!</p>



<a name="256888708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/256888708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#256888708">(Oct 09 2021 at 18:22)</a>:</h4>
<p>I'm a little wary of not making <code>star_ring_aut_apply</code> simp any more, as now all the lemmas about <code>star</code> won't apply to it.</p>



<a name="256888742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/256888742" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#256888742">(Oct 09 2021 at 18:23)</a>:</h4>
<p>How much breaks if you leave that as <code>simp</code>?</p>



<a name="256909230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/256909230" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#256909230">(Oct 10 2021 at 00:04)</a>:</h4>
<p>The main problem with that lemma being a simp lemma is that simp always unbundles <code>star_ring_aut</code>, leaving us with the bare function <code>star</code>. We definitely don't want this.</p>



<a name="256909252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/complex%20conj%20vs%20has_star.star/near/256909252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Frédéric Dupuis <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/complex.20conj.20vs.20has_star.2Estar.html#256909252">(Oct 10 2021 at 00:04)</a>:</h4>
<p>I removed the simp attribute because it got annoying very quickly.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>