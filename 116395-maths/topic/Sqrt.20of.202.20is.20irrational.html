---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html">Sqrt of 2 is irrational</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="196294967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196294967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sayantan Majumdar <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196294967">(May 05 2020 at 11:25)</a>:</h4>
<p>I am trying to prove <code>¬(∃ p : ℚ, p * p = 2)</code>. I have reached to a somewhat good place but there is a coercion issue</p>
<div class="codehilite"><pre><span></span><code><span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="bp">∃</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">p</span> <span class="bp">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">exists</span><span class="bp">.</span><span class="n">elim</span> <span class="n">h</span><span class="o">,</span>
    <span class="k">assume</span> <span class="n">p</span><span class="o">,</span>
    <span class="k">assume</span> <span class="n">h₀</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h₁</span><span class="o">,</span> <span class="k">from</span> <span class="bp">@</span><span class="n">rat</span><span class="bp">.</span><span class="n">eq_iff_mul_eq_mul</span> <span class="o">(</span><span class="n">p</span> <span class="bp">*</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">h₂</span><span class="o">,</span> <span class="k">from</span> <span class="o">(</span><span class="n">iff</span><span class="bp">.</span><span class="n">elim_left</span> <span class="n">h₁</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">h₃</span><span class="o">,</span> <span class="k">from</span> <span class="n">eq</span><span class="bp">.</span><span class="n">symm</span> <span class="o">(</span><span class="n">h₂</span> <span class="n">h₀</span><span class="o">),</span>
    <span class="k">have</span> <span class="n">h₄</span><span class="o">,</span> <span class="k">from</span> <span class="o">(</span><span class="n">rat</span><span class="bp">.</span><span class="n">coe_nat_denom</span> <span class="mi">2</span><span class="o">),</span>
    <span class="c1">-- have h₅, from @eq.subst ℤ (λ x, (2 : ℚ).num * ↑((p * p).denom) = (p * p).num * x) ↑((2 : ℚ).denom) 1 h₄ h₃,</span>
    <span class="k">have</span> <span class="n">h₅</span><span class="o">,</span> <span class="k">from</span> <span class="n">rat</span><span class="bp">.</span><span class="n">coe_nat_num</span> <span class="mi">2</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h₆</span><span class="o">,</span> <span class="k">from</span> <span class="n">rat</span><span class="bp">.</span><span class="n">coe_int_denom</span> <span class="mi">2</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h₇</span><span class="o">,</span> <span class="k">from</span> <span class="n">rat</span><span class="bp">.</span><span class="n">coe_int_num</span> <span class="mi">2</span><span class="o">,</span>
    <span class="k">have</span> <span class="n">h₈</span><span class="o">,</span> <span class="k">from</span> <span class="n">rat</span><span class="bp">.</span><span class="n">coe_int_eq_of_int</span> <span class="mi">2</span><span class="o">,</span>
    <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="196295025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196295025" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sayantan Majumdar <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196295025">(May 05 2020 at 11:26)</a>:</h4>
<p>has anyone done this proof in a better way?</p>



<a name="196295057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196295057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sayantan Majumdar <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196295057">(May 05 2020 at 11:26)</a>:</h4>
<p>I am having trouble getting rid of the <code>2.denom</code> part</p>



<a name="196296479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196296479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196296479">(May 05 2020 at 11:44)</a>:</h4>
<p>I have zero experience using rational numbers in Lean but I would start with:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>
<span class="kn">example</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="bp">∃</span> <span class="n">p</span> <span class="o">:</span> <span class="n">ℚ</span><span class="o">,</span> <span class="n">p</span> <span class="bp">*</span> <span class="n">p</span> <span class="bp">=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">suffices</span> <span class="o">:</span> <span class="bp">¬</span> <span class="bp">∃</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">,</span> <span class="n">a</span><span class="bp">*</span><span class="n">a</span> <span class="bp">=</span> <span class="mi">2</span><span class="bp">*</span><span class="n">b</span><span class="bp">*</span><span class="n">b</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rintro</span> <span class="bp">⟨</span><span class="n">p</span><span class="o">,</span> <span class="n">h₀</span><span class="bp">⟩</span><span class="o">,</span>
    <span class="n">apply</span> <span class="n">this</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">rat</span><span class="bp">.</span><span class="n">eq_iff_mul_eq_mul</span> <span class="n">at</span> <span class="n">h₀</span><span class="o">,</span>
    <span class="n">use</span> <span class="o">[</span><span class="n">p</span><span class="bp">.</span><span class="n">num</span><span class="o">,</span> <span class="n">p</span><span class="bp">.</span><span class="n">denom</span><span class="o">],</span>
    <span class="n">norm_cast</span> <span class="n">at</span> <span class="n">h₀</span><span class="o">,</span>
    <span class="n">simpa</span> <span class="o">[</span><span class="n">mul_assoc</span><span class="o">,</span> <span class="n">rat</span><span class="bp">.</span><span class="n">mul_self_num</span><span class="o">,</span> <span class="n">rat</span><span class="bp">.</span><span class="n">mul_self_denom</span><span class="o">]</span> <span class="kn">using</span> <span class="n">h₀</span> <span class="o">},</span>

    <span class="n">sorry</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>



<a name="196296562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196296562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196296562">(May 05 2020 at 11:45)</a>:</h4>
<p>Of course you'll find much more by reading <a href="https://leanprover-community.github.io/mathlib_docs/data/real/irrational.html" title="https://leanprover-community.github.io/mathlib_docs/data/real/irrational.html">https://leanprover-community.github.io/mathlib_docs/data/real/irrational.html</a></p>



<a name="196297604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196297604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sayantan Majumdar <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196297604">(May 05 2020 at 11:57)</a>:</h4>
<p>thanks, will try to continue from there</p>



<a name="196298146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196298146" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196298146">(May 05 2020 at 12:03)</a>:</h4>
<p>You should also study the use of <code>rintros</code> and <code>rw</code> here (and <code>simpa</code>). It will make your code much more efficient.</p>



<a name="196298289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196298289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196298289">(May 05 2020 at 12:04)</a>:</h4>
<p>Your handling of negation also strongly suggests you would benefit from going through the <a href="https://github.com/leanprover-community/tutorials" title="https://github.com/leanprover-community/tutorials">tutorials project</a>.</p>



<a name="196298692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Sqrt%20of%202%20is%20irrational/near/196298692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sayantan Majumdar <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Sqrt.20of.202.20is.20irrational.html#196298692">(May 05 2020 at 12:09)</a>:</h4>
<p>thanks, will do. was trying to write everything out  to understand where thing have gone wrong</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>