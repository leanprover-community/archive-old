---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html">finite-dimensionality of field over subfield</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="188324334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188324334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188324334">(Feb 16 2020 at 12:33)</a>:</h4>
<p>What is the canonical way to say that a field <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> is finite-dimensional over a subfield <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>, i.e. <code>(k : set K) [is_subfield k]</code>?</p>



<a name="188325113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325113">(Feb 16 2020 at 13:01)</a>:</h4>
<p>Kind-of related: how do I say that a subring of a ring <code>{A : Type*} [ring A] (R : set A) [is_subring R]</code> is commutative? So it's like <code>algebra R A</code>.</p>



<a name="188325583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325583" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325583">(Feb 16 2020 at 13:19)</a>:</h4>
<p>I think what I need for the subfields is that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>⊆</mo><msub><mi>k</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">k_1\subseteq k_2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are two subfields of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> is finite-dimensional as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">k_1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-vector space then it's finite-dimensional as a  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">k_2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-vector space.</p>



<a name="188325586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325586">(Feb 16 2020 at 13:19)</a>:</h4>
<p>But I don't even know how to say it</p>



<a name="188325588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325588">(Feb 16 2020 at 13:19)</a>:</h4>
<p>and I might well need more</p>



<a name="188325634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325634">(Feb 16 2020 at 13:20)</a>:</h4>
<p>I thought formalising the Nullstellensatz would be easy :-/</p>



<a name="188325793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188325793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188325793">(Feb 16 2020 at 13:26)</a>:</h4>
<p>Oh I don't even know the canonical way to say that a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>-algebra is finite-dimensional as a vector space. <code>is_noetherian</code>?</p>



<a name="188326285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326285">(Feb 16 2020 at 13:45)</a>:</h4>
<p>There's a finite dimensional predicate for vector spaces. It's defined to be <code>is_noetherian</code></p>



<a name="188326287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326287">(Feb 16 2020 at 13:45)</a>:</h4>
<p>Is what's going on that when we say <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> an inclusion of rings, we're happy to let both rings play an equal role, whereas the CS people either want <code>A</code> to be the leader and <code>(B : Type) [ring B] [algebra A B]</code> to be the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra or they want <code>B</code> to be the leader and <code>(A : set B) [is_subring A]</code> to be the subalgebra?</p>



<a name="188326341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326341">(Feb 16 2020 at 13:47)</a>:</h4>
<p>This is Zariski's Lemma.</p>
<div class="codehilite"><pre><span></span>1 goal
K : Type v,
_inst_1 : discrete_field K
⊢ ∀ (k : set K) (S : finset K) [_inst_2 : is_subfield k],
    ring.closure (k ∪ finset.to_set S) = univ → is_noetherian ↥k K
</pre></div>



<a name="188326382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326382">(Feb 16 2020 at 13:48)</a>:</h4>
<p>(possibly -- I was super-surprised that typeclass inference succeeded with the <code>↥k</code>-module structure on <code>K</code>.)</p>



<a name="188326390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326390">(Feb 16 2020 at 13:49)</a>:</h4>
<p>It's a problem that these two things are different I think. It's the same concept with two different ways of expressing it, and you can go between them on paper fluently, but in Lean, you have to be careful about proving things in the correct generality, and that makes statements look ugly.</p>



<a name="188326391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326391">(Feb 16 2020 at 13:49)</a>:</h4>
<p>The proof of Zariski's Lemma is by induction on the size of S and it quantifies over all k, so I have to use <code>unfreeze_local_instances</code> and then add them again with <code>letI</code></p>



<a name="188326392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326392">(Feb 16 2020 at 13:49)</a>:</h4>
<p>Am I missing something?</p>



<a name="188326437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326437">(Feb 16 2020 at 13:51)</a>:</h4>
<p>That sounds possible.</p>



<a name="188326441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326441" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326441">(Feb 16 2020 at 13:51)</a>:</h4>
<p>But maybe subfields should be bundled.</p>



<a name="188326479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326479">(Feb 16 2020 at 13:52)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="n">suffices</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">,</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">K</span><span class="o">),</span> <span class="n">S</span><span class="bp">.</span><span class="n">card</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∀</span> <span class="o">(</span><span class="n">k</span> <span class="o">:</span> <span class="n">set</span> <span class="n">K</span><span class="o">)</span> <span class="o">[</span><span class="n">hk</span> <span class="o">:</span> <span class="n">is_subfield</span> <span class="n">k</span><span class="o">],</span>

    <span class="n">ring</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">k</span> <span class="err">∪</span> <span class="n">finset</span><span class="bp">.</span><span class="n">to_set</span> <span class="n">S</span><span class="o">)</span> <span class="bp">=</span> <span class="n">univ</span> <span class="bp">→</span> <span class="k">by</span> <span class="n">letI</span> <span class="o">:</span> <span class="n">is_subfield</span> <span class="n">k</span> <span class="o">:=</span> <span class="n">hk</span><span class="bp">;</span> <span class="n">exact</span> <span class="n">is_noetherian</span> <span class="err">↥</span><span class="n">k</span> <span class="n">K</span><span class="o">),</span>
</pre></div>



<a name="188326484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326484">(Feb 16 2020 at 13:53)</a>:</h4>
<p>Use <code>finset.induction</code></p>



<a name="188326536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326536" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326536">(Feb 16 2020 at 13:55)</a>:</h4>
<p>But using subfield for this seems wrong. You want a map.</p>



<a name="188326580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326580">(Feb 16 2020 at 13:56)</a>:</h4>
<p>For my inductive step I'll have a set <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> and I will construct (nonconstructively) some element <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">s\in S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> with a certain property and I will then use that the lemma is true for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>−</mo><mo stretchy="false">{</mo><mi>s</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S-\{s\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mclose">}</span></span></span></span>.</p>



<a name="188326586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326586">(Feb 16 2020 at 13:57)</a>:</h4>
<p>You think I should be using <code>algebra k K</code>?</p>



<a name="188326631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326631">(Feb 16 2020 at 13:58)</a>:</h4>
<p>It might be trick to use that during the proof actually, but you definitely want the final statement to be like that, even if you prove it for subfields first.</p>



<a name="188326641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326641">(Feb 16 2020 at 13:59)</a>:</h4>
<p>I see! Thanks for this. Should I be using <code>finset.induction</code> in my case?</p>



<a name="188326685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326685">(Feb 16 2020 at 14:00)</a>:</h4>
<p>I am happy to build what I need, but I want to do it right.</p>



<a name="188326784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326784">(Feb 16 2020 at 14:04)</a>:</h4>
<p>It seems like a bit of a kerfuffle to get from what I have to finset.induction</p>



<a name="188326799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326799">(Feb 16 2020 at 14:05)</a>:</h4>
<p><code>apply finset.induction S</code>?</p>



<a name="188326805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326805">(Feb 16 2020 at 14:05)</a>:</h4>
<p>What is the induction, is it a one element at a time induction or a strong induction?</p>



<a name="188326847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326847">(Feb 16 2020 at 14:06)</a>:</h4>
<p>I prove <code>P emptyset</code>. I then show that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> is non-empty then I can manufacture an element <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">s\in S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> which satisfies a certain property, and then I use the inductive hypothesis on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>−</mo><mo stretchy="false">{</mo><mi>s</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S-\{s\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mclose">}</span></span></span></span>.</p>



<a name="188326852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326852" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326852">(Feb 16 2020 at 14:07)</a>:</h4>
<p>which has size one less.</p>



<a name="188326862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326862">(Feb 16 2020 at 14:07)</a>:</h4>
<p>Okay, so it is a strong induction really.</p>



<a name="188326901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326901">(Feb 16 2020 at 14:08)</a>:</h4>
<p>The manufacturing explicitly uses some nonconstructiveness because it's a case split: if no <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">s\in S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> has the property then I prove the result directly using other means.</p>



<a name="188326907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326907">(Feb 16 2020 at 14:08)</a>:</h4>
<p>It's what a mathematician would undoubtedly call "induction on the size of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>".</p>



<a name="188326912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326912">(Feb 16 2020 at 14:09)</a>:</h4>
<p>I would use the equation compiler for this, but that's just my taste.</p>



<a name="188326955"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188326955" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188326955">(Feb 16 2020 at 14:10)</a>:</h4>
<p>Are you suggesting I use a <code>match S.card with</code>?</p>



<a name="188327013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327013">(Feb 16 2020 at 14:12)</a>:</h4>
<p>No, because then you don't get an induction hypothesis.</p>



<a name="188327101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327101">(Feb 16 2020 at 14:17)</a>:</h4>
<p>This is my goal:</p>
<div class="codehilite"><pre><span></span>⊢ ∀ (S : finset K) (k : Type u) [_inst_1 : discrete_field k] [_inst_3 : algebra k K],
    algebra.adjoin k (finset.to_set S) = ⊤ → submodule.fg ⊤
</pre></div>


<p>I'm in tactic mode. I want to prove it by induction on the size of S. What do I do? I'm not with you yet.</p>



<a name="188327150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327150">(Feb 16 2020 at 14:19)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="k">obtain</span> <span class="bp">⟨</span><span class="n">n</span><span class="o">,</span> <span class="n">hn</span><span class="bp">⟩</span> <span class="o">:</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">//</span> <span class="n">S</span><span class="bp">.</span><span class="n">card</span> <span class="bp">=</span> <span class="n">n</span><span class="o">}</span> <span class="o">:=</span>
    <span class="bp">⟨_</span><span class="o">,</span> <span class="n">rfl</span><span class="bp">⟩</span><span class="o">,</span>
</pre></div>



<a name="188327314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327314">(Feb 16 2020 at 14:25)</a>:</h4>
<p>You can't really do it in the middle of a proof.</p>



<a name="188327355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327355">(Feb 16 2020 at 14:26)</a>:</h4>
<p>Not even with some <code>exact</code> trick?</p>



<a name="188327363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327363">(Feb 16 2020 at 14:27)</a>:</h4>
<p>no</p>



<a name="188327403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327403">(Feb 16 2020 at 14:28)</a>:</h4>
<p>My <code>obtain</code> solution seems to be working fine. I just put <code>induction n with d hd</code> on the next step.</p>



<a name="188327408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327408">(Feb 16 2020 at 14:29)</a>:</h4>
<p>There's <code>finset.strong_induction_on</code> as well.</p>



<a name="188327474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327474" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327474">(Feb 16 2020 at 14:31)</a>:</h4>
<p>Oh that's exactly what I need! Thanks! I thought you were just philosophising, I didn't realise it was there; I checked <code>finset.strong_induction</code> and it wasn't :-/</p>



<a name="188327525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188327525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188327525">(Feb 16 2020 at 14:33)</a>:</h4>
<p><code>  intro S, apply finset.strong_induction_on S, clear S,</code></p>



<a name="188330706"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188330706" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188330706">(Feb 16 2020 at 16:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110044">Chris Hughes</span> <a href="#narrow/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield/near/188326631" title="#narrow/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield/near/188326631">said</a>:</p>
<blockquote>
<p>It might be trick to use that during the proof actually, but you definitely want the final statement to be like that, even if you prove it for subfields first.</p>
</blockquote>
<p>I tried to prove it directly and now I am faced with the issue that it is maths-trivial that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> is a subfield of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>∋</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">S\ni s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∋</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> is a finite subset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> such that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><mi>k</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K=k(S)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><msup><mi>S</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K=L(S')</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mi>K</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L=K(s)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo>=</mo><mi>S</mi><mo>−</mo><mo stretchy="false">{</mo><mi>s</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S'=S-\{s\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mclose">}</span></span></span></span></p>



<a name="188330755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188330755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188330755">(Feb 16 2020 at 16:30)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">K</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">discrete_field</span> <span class="n">K</span><span class="o">,</span>
<span class="n">S</span> <span class="o">:</span> <span class="n">finset</span> <span class="n">K</span><span class="o">,</span>
<span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">,</span>
<span class="n">hk</span> <span class="o">:</span> <span class="n">discrete_field</span> <span class="n">k</span><span class="o">,</span>
<span class="n">hka</span> <span class="o">:</span> <span class="n">algebra</span> <span class="n">k</span> <span class="n">K</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst</span> <span class="o">:</span> <span class="n">discrete_field</span> <span class="n">k</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">algebra</span> <span class="n">k</span> <span class="n">K</span><span class="o">,</span>
<span class="n">hSgen</span> <span class="o">:</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">adjoin</span> <span class="n">k</span> <span class="err">↑</span><span class="n">S</span> <span class="bp">=</span> <span class="err">⊤</span><span class="o">,</span>
<span class="n">s</span> <span class="o">:</span> <span class="n">K</span><span class="o">,</span>
<span class="n">hs</span> <span class="o">:</span> <span class="n">s</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span>
<span class="n">L</span> <span class="o">:</span> <span class="n">set</span> <span class="n">K</span> <span class="o">:=</span> <span class="n">field</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span><span class="o">)</span> <span class="err">∪</span> <span class="o">{</span><span class="n">s</span><span class="o">})</span>
<span class="err">⊢</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">adjoin</span> <span class="err">↥</span><span class="n">L</span> <span class="err">↑</span><span class="o">(</span><span class="n">S</span> <span class="err">\</span> <span class="o">{</span><span class="n">s</span><span class="o">})</span> <span class="bp">=</span> <span class="err">⊤</span>
</pre></div>



<a name="188330771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188330771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188330771">(Feb 16 2020 at 16:31)</a>:</h4>
<p>This feels like it would be easy with subsets.</p>



<a name="188331063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188331063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188331063">(Feb 16 2020 at 16:40)</a>:</h4>
<p>but if I use subsets it's hard to express finite-dimensionality of K over k</p>



<a name="188331128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188331128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188331128">(Feb 16 2020 at 16:43)</a>:</h4>
<p>I think that at some point I need to use subsets and then talk about the sub-R-module of an R-algebra A generated by a subset of A in the subset language.</p>



<a name="188339171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188339171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188339171">(Feb 16 2020 at 20:59)</a>:</h4>
<div class="codehilite"><pre><span></span>_inst_1 : algebra k K := hka,
s : K,
hs : s ∈ S,
L : set K := field.closure (set.range (algebra_map K) ∪ {s}),
x : K,
hSgen : x ∈ ↑(algebra.adjoin k ↑S)
⊢ x ∈ ↑(algebra.adjoin ↥L ↑(S \ {s}))
</pre></div>


<p>This is what I need to make the induction work. <code>algebra.adjoin</code> and <code>↑</code> is a Galois insertion between subsets and sub-R-algebras. My problem is that R changes from k to L.</p>



<a name="188339499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188339499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188339499">(Feb 16 2020 at 21:08)</a>:</h4>
<p>and all the proper mathematicians are looking at me and laughing because <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>⊆</mo><mi>L</mi><mo stretchy="false">(</mo><mi>S</mi><mo>−</mo><mo stretchy="false">{</mo><mi>s</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(S)\subseteq L(S-\{s\})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mclose">}</span><span class="mclose">)</span></span></span></span> is trivial.</p>



<a name="188339826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188339826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188339826">(Feb 16 2020 at 21:18)</a>:</h4>
<p><code>algebra.adjoin</code> as a set is just <code>ring.closure</code> of <code>k \cup S</code> right? So it's easy if you write it like that.</p>



<a name="188339871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188339871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188339871">(Feb 16 2020 at 21:18)</a>:</h4>
<p>That's probably even the definition of the set.</p>



<a name="188340202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188340202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188340202">(Feb 16 2020 at 21:29)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="err">⊢</span> <span class="n">ring</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span><span class="o">)</span> <span class="err">∪</span> <span class="n">finset</span><span class="bp">.</span><span class="n">to_set</span> <span class="n">S</span><span class="o">)</span> <span class="bp">≤</span>
    <span class="n">ring</span><span class="bp">.</span><span class="n">closure</span> <span class="o">(</span><span class="n">set</span><span class="bp">.</span><span class="n">range</span> <span class="o">(</span><span class="n">algebra_map</span> <span class="n">K</span><span class="o">)</span> <span class="err">∪</span> <span class="n">finset</span><span class="bp">.</span><span class="n">to_set</span> <span class="o">(</span><span class="n">finset</span><span class="bp">.</span><span class="n">erase</span> <span class="n">S</span> <span class="n">s</span><span class="o">))</span>
</pre></div>


<p>Looks wrong but there are two different <code>algebra_map</code>s involved; one from k and one from L.</p>



<a name="188340528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188340528" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188340528">(Feb 16 2020 at 21:39)</a>:</h4>
<p>I'm still not there. If <code>(L : set K) [is_subfield L]</code> then I need that <code>L = range (algebra_map K)</code> with the obvious instance of <code>[algebra L K]</code></p>



<a name="188342651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188342651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188342651">(Feb 16 2020 at 22:53)</a>:</h4>
<p>Is <code>range_subtype_val</code> a theorem.</p>



<a name="188342656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188342656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188342656">(Feb 16 2020 at 22:53)</a>:</h4>
<p>That's not it actually.</p>



<a name="188342698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188342698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188342698">(Feb 16 2020 at 22:54)</a>:</h4>
<p>Yes it is</p>



<a name="188342921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188342921" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188342921">(Feb 16 2020 at 23:02)</a>:</h4>
<p>Oh nice. This is surprisingly messy!</p>



<a name="188397227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite-dimensionality%20of%20field%20over%20subfield/near/188397227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/finite-dimensionality.20of.20field.20over.20subfield.html#188397227">(Feb 17 2020 at 18:02)</a>:</h4>
<div class="codehilite"><pre><span></span>subtype.range_val : ∀ (s : set ?M_1), set.range subtype.val = s
</pre></div>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>