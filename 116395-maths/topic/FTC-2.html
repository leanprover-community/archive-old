---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/FTC-2.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html">FTC-2</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="206947810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206947810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206947810">(Aug 14 2020 at 16:22)</a>:</h4>
<p>Is there any short proof of FTC-2 for Lebesgue integral? I mean, the version that does not assume continuity of <code>f'</code>.</p>



<a name="206954725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206954725" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206954725">(Aug 14 2020 at 17:25)</a>:</h4>
<p>Can you state more precisely the theorem you're thinking of?</p>



<a name="206964759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206964759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206964759">(Aug 14 2020 at 18:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">ftc&#39;</span> <span class="o">(</span><span class="n">F</span> <span class="n">f</span><span class="o">:</span> <span class="n">ℝ</span> <span class="bp">-&gt;</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">{</span><span class="n">hF</span> <span class="o">:</span> <span class="n">differentiable</span> <span class="n">ℝ</span> <span class="n">F</span><span class="o">}</span>  <span class="o">{</span><span class="n">F_deriv</span> <span class="o">:</span> <span class="n">deriv</span> <span class="n">F</span> <span class="bp">=</span> <span class="n">f</span><span class="o">}</span> <span class="o">{</span><span class="n">hf</span> <span class="o">:</span> <span class="n">measurable</span> <span class="n">f</span><span class="o">}</span> <span class="o">{</span><span class="n">hf1</span> <span class="o">:</span> <span class="n">continuous</span> <span class="n">f</span><span class="o">}</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">≥</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="n">a</span><span class="bp">..</span><span class="n">b</span><span class="o">,</span> <span class="n">f</span> <span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">F</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">F</span> <span class="n">a</span> <span class="o">:=</span>
</code></pre></div>



<a name="206964765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206964765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206964765">(Aug 14 2020 at 18:58)</a>:</h4>
<p>Is this ok?</p>



<a name="206978055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206978055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206978055">(Aug 14 2020 at 20:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/116395-maths/topic/FTC-2/near/206954725">said</a>:</p>
<blockquote>
<p>Can you state more precisely the theorem you're thinking of?</p>
</blockquote>
<p>Ideally,</p>
<div class="codehilite"><pre><span></span><code><span class="kn">theorem</span> <span class="n">FTC2</span> <span class="o">{</span><span class="n">F</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">E</span><span class="o">}</span> <span class="o">{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span> <span class="o">(</span><span class="n">hFd</span> <span class="o">:</span> <span class="n">diferentiable</span> <span class="n">F</span><span class="o">)</span>
    <span class="o">(</span><span class="n">hfm</span> <span class="o">:</span> <span class="n">measurable</span> <span class="o">(</span><span class="n">deriv</span> <span class="n">f</span><span class="o">))</span>
    <span class="o">(</span><span class="n">hfi</span> <span class="o">:</span> <span class="n">interval_integrable</span> <span class="o">(</span><span class="n">deriv</span> <span class="n">F</span><span class="o">)</span> <span class="n">volume</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">:</span>
  <span class="err">∫</span> <span class="n">x</span> <span class="k">in</span> <span class="n">a</span><span class="bp">..</span><span class="n">b</span><span class="o">,</span> <span class="n">deriv</span> <span class="n">F</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">F</span> <span class="n">b</span> <span class="bp">-</span> <span class="n">F</span> <span class="n">a</span> <span class="o">:=</span>
<span class="n">sorry</span>
</code></pre></div>



<a name="206978084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206978084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206978084">(Aug 14 2020 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="252627">@Jujian Zhang</span> Your version assumes continuity of the derivative. I'd like to avoid this.</p>



<a name="206978250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206978250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206978250">(Aug 14 2020 at 20:30)</a>:</h4>
<p>I want something at least as strong as <a href="https://en.wikipedia.org/wiki/Fundamental_theorem_of_calculus#Second_part">this</a></p>



<a name="206978875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206978875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206978875">(Aug 14 2020 at 20:36)</a>:</h4>
<p>I'm reading (Rudin, 7.21) reference from WIki. It proves the theorem for <code>F : ℝ → ℝ</code>.</p>



<a name="206980578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206980578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206980578">(Aug 14 2020 at 20:53)</a>:</h4>
<p>The derivative is always measurable (when the target space is complete), as I explained in another thread, so the assumption <code>hfm</code> could be dropped. Otherwise, I agree that your statement is the right one. (Of course, with variations such as differentiability inside the open interval and continuity at the endpoints should be enough)</p>



<a name="206984191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206984191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206984191">(Aug 14 2020 at 21:27)</a>:</h4>
<p>Is there a simple proof?</p>



<a name="206984288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/206984288" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#206984288">(Aug 14 2020 at 21:28)</a>:</h4>
<p>Rudin proves only a version for a real-valued function, and the proof essentially uses the order on <code>ℝ</code>.</p>



<a name="207039446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/FTC-2/near/207039446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/FTC-2.html#207039446">(Aug 15 2020 at 21:08)</a>:</h4>
<p>Once you have the theorem for real-valued functions, the general version follows by applying a linear form (coming from Hahn-Banach): if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>b</mi><mo>−</mo><mi>F</mi><mi>a</mi><mo>−</mo><mo>∫</mo><msup><mi>F</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">F b -F a - \int F'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> were nonzero, there would be a linear form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℓ</mi></mrow><annotation encoding="application/x-tex">\ell</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">ℓ</span></span></span></span> mapping it to something nonzero, i.e., <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℓ</mi><mo>∘</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">\ell \circ F</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">ℓ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> would not satisfy the 1D-version, a contradiction.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>