---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/What's.20this.20typeclass.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html">What's this typeclass?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="299577189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299577189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299577189">(Sep 19 2022 at 14:40)</a>:</h4>
<p>Let's say I have a type, probably a monoid, and it has a cast/coercion to the reals which is order-preserving, respects addition, and which maps only zero to zero.<br>
What's a short way of describing this?<br>
For example, the relation that the natural embedding of the naturals or the rationals into the reals has this property</p>



<a name="299577761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299577761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299577761">(Sep 19 2022 at 14:43)</a>:</h4>
<p>My guess is <code>variables {F α : Type*} [ordered_add_comm_monoid α] [order_add_monoid_hom_class F α ℝ] (f : F) (hf : function.injective f)</code></p>



<a name="299577838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299577838" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299577838">(Sep 19 2022 at 14:43)</a>:</h4>
<p>(deleted)</p>



<a name="299577903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299577903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299577903">(Sep 19 2022 at 14:44)</a>:</h4>
<p>Oh wait, nevermind.</p>



<a name="299578061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299578061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299578061">(Sep 19 2022 at 14:45)</a>:</h4>
<p>If you want to set up the API for one specific coercion (say it is "canonical" in some sense), then the trick is to use the right <a href="https://leanprover-community.github.io/mathlib_docs/attributes.html#norm_cast%20attributes">norm_cast attributes</a></p>



<a name="299579052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299579052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299579052">(Sep 19 2022 at 14:50)</a>:</h4>
<p>I'm defining something and I happened to be defining it on nat, but I'm not really using many actual properties of nat.</p>



<a name="299579381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299579381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299579381">(Sep 19 2022 at 14:52)</a>:</h4>
<p>To be honest it might be the case that nat and int and rat and real are the only ones I really care about.</p>



<a name="299581303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299581303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299581303">(Sep 19 2022 at 15:02)</a>:</h4>
<p>(But it would still be nice to have a typeclass that more or less boils down to nat_or_int_or_rat_or_real...)</p>



<a name="299581749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299581749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299581749">(Sep 19 2022 at 15:05)</a>:</h4>
<p>That would be a weird type class. What do you want it for?</p>



<a name="299581951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299581951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299581951">(Sep 19 2022 at 15:06)</a>:</h4>
<p>I was defining "nat metrics", natural-valued metrics, and I was trying to work out if I could generalise what I was doing</p>



<a name="299582057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582057">(Sep 19 2022 at 15:07)</a>:</h4>
<p>okay, but why would you need that type class you described?</p>



<a name="299582105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582105">(Sep 19 2022 at 15:07)</a>:</h4>
<p>inb4 hamming codes</p>



<a name="299582165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582165">(Sep 19 2022 at 15:07)</a>:</h4>
<p>actually for hamming codes nat is sufficient</p>



<a name="299582328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582328">(Sep 19 2022 at 15:08)</a>:</h4>
<p>basically I was trying to work out what other types could be said to be "reasonable" codomains for a metric</p>



<a name="299582363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582363" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582363">(Sep 19 2022 at 15:08)</a>:</h4>
<p>slash dist-variant</p>



<a name="299582390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582390" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582390">(Sep 19 2022 at 15:08)</a>:</h4>
<p>Any subset of the nonnegative reals?</p>



<a name="299582494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582494">(Sep 19 2022 at 15:09)</a>:</h4>
<p>in that case, it doesn't seem to be much of an advantage to not just say it's nonneg reals</p>



<a name="299582497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582497">(Sep 19 2022 at 15:09)</a>:</h4>
<p>presumably you want it to be closed under addition so you can state the triangle inequality.</p>



<a name="299582525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582525">(Sep 19 2022 at 15:09)</a>:</h4>
<p>Yes.</p>



<a name="299582650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582650">(Sep 19 2022 at 15:10)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> there are specific useful properties that you get from being careful about the nat-valued-ness</p>



<a name="299582673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582673">(Sep 19 2022 at 15:10)</a>:</h4>
<p>especially if you are saying that this set naturally injects into the reals</p>



<a name="299582718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582718">(Sep 19 2022 at 15:10)</a>:</h4>
<p>some of which you can see in <a href="https://leanprover-community.github.io/mathlib_docs/information_theory/hamming.html">https://leanprover-community.github.io/mathlib_docs/information_theory/hamming.html</a></p>



<a name="299582747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582747" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582747">(Sep 19 2022 at 15:10)</a>:</h4>
<p>there are other reasonable notions of metric that go beyond the reals but if it's a subset then I don't see the point</p>



<a name="299582894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582894">(Sep 19 2022 at 15:11)</a>:</h4>
<p>I think you can capture this another way. Why don't you just have a structure that extends metric that says the values are all coercions of nats? Then you can prove all the properties you want "from being careful about the nat-valued ones"</p>



<a name="299582911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582911">(Sep 19 2022 at 15:11)</a>:</h4>
<p>sure, <code>hamming_dist</code> is a nat, but that's already everything you need to know</p>



<a name="299582991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299582991" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299582991">(Sep 19 2022 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> that's exactly what I've done</p>



<a name="299583043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583043">(Sep 19 2022 at 15:12)</a>:</h4>
<p>the <code>dist</code> you get out of the structure is a real but that's fine since you still have <code>hamming_dist</code> in the restricted case</p>



<a name="299583064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583064">(Sep 19 2022 at 15:12)</a>:</h4>
<p>Aye, I have all this.</p>



<a name="299583107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583107">(Sep 19 2022 at 15:12)</a>:</h4>
<p>if you want to be generic about it then you don't know it's a nat anymore but rather some subset of the reals and the benefits are lost</p>



<a name="299583144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583144">(Sep 19 2022 at 15:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/116395-maths/topic/What's.20this.20typeclass.3F/near/299582497">said</a>:</p>
<blockquote>
<p>presumably you want it to be closed under addition so you can state the triangle inequality.</p>
</blockquote>
<p>You don't <em>need</em> it to be closed under addition because you can do the addition in the reals I guess.</p>



<a name="299583475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583475" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583475">(Sep 19 2022 at 15:14)</a>:</h4>
<p>Yeah, at the time I thought we were talking about <em>actually</em> ℕ (or whatever) valued dist functions, as opposed to <code>ℝ</code>-valued ones where the range is included in the range of the coercion.</p>



<a name="299583554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583554">(Sep 19 2022 at 15:15)</a>:</h4>
<p>Aye, but in a sense you want all the lemmas that only come from the metric axioms "for free". Currently <code>hamming_dist</code> has a bunch of lemmas that duplicate a lot of <code>dist</code> lemmas - that's fine enough, but if someone defined some other natural-valued or rational-valued metric for some other information-theoretic application... you wouldn't want to prove them all again, it would be a waste.</p>



<a name="299583741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583741">(Sep 19 2022 at 15:16)</a>:</h4>
<p>you do get them "for free" though, as a result of instantiating the real-valued <code>metric_space</code> using <code>\u (my_dist x y)</code> as the metric</p>



<a name="299583748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583748">(Sep 19 2022 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="197836">@Jireh Loreaux</span> oh to be fair I have implemented it as ℕ-valued dist functions, but I suppose one could do it in other ways.</p>



<a name="299583917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583917">(Sep 19 2022 at 15:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/What's.20this.20typeclass.3F/near/299583741">said</a>:</p>
<blockquote>
<p>you do get them "for free" though, as a result of instantiating the real-valued <code>metric_space</code> using <code>\u (my_dist x y)</code> as the metric</p>
</blockquote>
<p>Mmm, but that means reasoning about them can be a pain because you end up doing a lot of coercing around.</p>



<a name="299583959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299583959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299583959">(Sep 19 2022 at 15:17)</a>:</h4>
<p>I think that's why Eric advised me to write the hamming file in the way that I did.</p>



<a name="299584002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584002">(Sep 19 2022 at 15:17)</a>:</h4>
<p>is this one of those examples where we are generalizing from one example?</p>



<a name="299584030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584030">(Sep 19 2022 at 15:17)</a>:</h4>
<p>Yes.</p>



<a name="299584053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584053">(Sep 19 2022 at 15:17)</a>:</h4>
<p>I'm perfectly happy to just stay in my one-example box.</p>



<a name="299584056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584056" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584056">(Sep 19 2022 at 15:17)</a>:</h4>
<p>please don't</p>



<a name="299584116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584116">(Sep 19 2022 at 15:18)</a>:</h4>
<p>But sometimes when I do that people then say "this isn't general enough".</p>



<a name="299584264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584264">(Sep 19 2022 at 15:18)</a>:</h4>
<p>I suggest leaving that to the refactor junkies once there are at least 3 examples</p>



<a name="299584327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584327">(Sep 19 2022 at 15:19)</a>:</h4>
<p>Yeah it is just annoying when it blocks me from doing stuff.</p>



<a name="299584386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584386">(Sep 19 2022 at 15:19)</a>:</h4>
<p>As in, when it jams up PRs.</p>



<a name="299584444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584444">(Sep 19 2022 at 15:20)</a>:</h4>
<p>I've found if I don't hit the right level of generality I spend a lot longer on stuff.</p>



<a name="299584682"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584682" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584682">(Sep 19 2022 at 15:21)</a>:</h4>
<p>I think you should try not to write code that is "trivially generalizable", but if generalization makes the code significantly structurally different then it's fine to put it off until the next example shows up to motivate it better</p>



<a name="299584870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299584870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299584870">(Sep 19 2022 at 15:22)</a>:</h4>
<p>a typeclass that generalizes over nat,int,rat coes is what I would call a significant structural refactor of the hamming_dist code</p>



<a name="299591358"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299591358" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wrenna Robson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299591358">(Sep 19 2022 at 15:44)</a>:</h4>
<p>Alright.</p>



<a name="299594436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/What%27s%20this%20typeclass%3F/near/299594436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/What's.20this.20typeclass.3F.html#299594436">(Sep 19 2022 at 15:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/What's.20this.20typeclass.3F/near/299584264">said</a>:</p>
<blockquote>
<p>I suggest leaving that to the refactor junkies once there are at least 3 examples</p>
</blockquote>
<p>Is that me? <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>