---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/order.20on.20prime_spectrum.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html">order on prime_spectrum</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226707248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226707248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226707248">(Feb 17 2021 at 18:57)</a>:</h4>
<p>Do people agree that it's a good idea to turn <code>prime_spectrum R</code> into a poset using the specialisation order?</p>



<a name="226707754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226707754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226707754">(Feb 17 2021 at 19:00)</a>:</h4>
<p>My instinct is that this is a good idea. However when Jason and Giulia and I bundled both subgroups and normal subgroups in our development of group theory, things got a bit annoying. So another solution is to have <code>is_prime</code> on <code>ideal R</code> and get the induced poset structure.</p>



<a name="226708005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226708005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226708005">(Feb 17 2021 at 19:02)</a>:</h4>
<p>But I think that in general I am a bundler, and for sure we need the <code>prime_spectrum R</code> type, there is certainly no argument for removing it, so why not put the poset structure on it? It is of a topological nature, right? P &lt;= Q iff Q is in the closure of {P}, right?</p>



<a name="226708501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226708501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226708501">(Feb 17 2021 at 19:05)</a>:</h4>
<p>Yeah, we could make it a <code>def</code> for arbitrary topological spaces, and make it an instance for <code>prime_spec</code></p>



<a name="226710902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226710902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226710902">(Feb 17 2021 at 19:20)</a>:</h4>
<p>I fully approve of this!  Even more, specialization <em>and</em> generalization should both be readily accessible!</p>



<a name="226711145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711145">(Feb 17 2021 at 19:21)</a>:</h4>
<p>Hmmm, they can't both be instances</p>



<a name="226711185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711185">(Feb 17 2021 at 19:21)</a>:</h4>
<p>Another +1 for this suggestion.</p>



<a name="226711312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711312" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711312">(Feb 17 2021 at 19:22)</a>:</h4>
<p>The terminology that I'm used to is that "smaller" means "closer to the generic point".</p>



<a name="226711372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711372" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711372">(Feb 17 2021 at 19:23)</a>:</h4>
<p>So I guess that corresponds to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≤</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \le b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> iff <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> is a specialization of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>.</p>



<a name="226711375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711375">(Feb 17 2021 at 19:23)</a>:</h4>
<p>Ok, I really <em>really</em> think that being able to work with an order and its dual is something that I need to understand better, then!</p>



<a name="226711764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711764">(Feb 17 2021 at 19:25)</a>:</h4>
<p>I guess which one of the convention on the order we adopt is secondary: in my mind, points are smaller than curves and so on, but their ideals go the opposite way.  So it is simply a matter of remembering whether we think geometrically or algebraically</p>



<a name="226711848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711848">(Feb 17 2021 at 19:26)</a>:</h4>
<p>We can work with <code>order_dual (prime_spectrum R)</code> to get the other ordering... but I think you have already discovered that this isn't always an optimal experience.</p>



<a name="226711884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711884">(Feb 17 2021 at 19:26)</a>:</h4>
<p>Yes, I will avoid order dual... Ahaha</p>



<a name="226711945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226711945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226711945">(Feb 17 2021 at 19:27)</a>:</h4>
<p>I also don't have a strong opinion on which order to choose</p>



<a name="226712170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712170">(Feb 17 2021 at 19:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/order.20on.20prime_spectrum/near/226711764">said</a>:</p>
<blockquote>
<p>I guess which one of the convention on the order we adopt is secondary: in my mind, points are smaller than curves and so on, but their ideals go the opposite way.  So it is simply a matter of remembering whether we think geometrically or algebraically</p>
</blockquote>
<p>the way I think of it is in terms of valuations. A point on a surface is an equivalence class of flags of points on curves, hence it's "more" information than just a curve.</p>



<a name="226712177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712177">(Feb 17 2021 at 19:28)</a>:</h4>
<p>Since we are building stuff from the algebraic side, using ideals, it might make sense to have the order on points match the one on ideals?</p>



<a name="226712236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712236">(Feb 17 2021 at 19:29)</a>:</h4>
<p>And the generic point corresponds to the trivial valuation, hence it's "the smallest"</p>



<a name="226712436"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712436" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712436">(Feb 17 2021 at 19:30)</a>:</h4>
<p>The correct solution is to choose one, and make <code>order_dual</code> work. Damiano had a bad experience with it, but if you're principled about whether <code>(a : X)</code> or <code>(a : order_dual X)</code> things work out -- this was my experience with <code>multiplicative</code> anyway. It's the moment you start abusing type equality that you get into problems.</p>



<a name="226712472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712472">(Feb 17 2021 at 19:30)</a>:</h4>
<p>Which incidentally matches the one that Adam suggests: minimal ideals correspond to irreducible components, maximal ideals to points</p>



<a name="226712543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712543">(Feb 17 2021 at 19:31)</a>:</h4>
<p>The CS people love abusing their type equality because it makes proofs look slicker, but <code>order_dual</code> should be irreducible and then abuse is banned.</p>



<a name="226712658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712658">(Feb 17 2021 at 19:32)</a>:</h4>
<p>I am happy to learn to use order dual and would really think that it can be used <em>a lot</em>.  Not by me, at the moment, though!</p>



<a name="226712665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712665">(Feb 17 2021 at 19:32)</a>:</h4>
<p>I would vote for</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">inductive</span> <span class="n">order_dual</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Sort</span><span class="bp">*</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">dual_of</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">)</span> <span class="o">:</span> <span class="n">order_dual</span>
</code></pre></div>



<a name="226712689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712689" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712689">(Feb 17 2021 at 19:32)</a>:</h4>
<p>and my understanding is that this is the preferred solution in Lean 4.</p>



<a name="226712778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712778">(Feb 17 2021 at 19:33)</a>:</h4>
<p>Wont this be terrible to work with if you want to take the order dual of the order dual (and have it "agree" with the original thing)?</p>



<a name="226712782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712782">(Feb 17 2021 at 19:33)</a>:</h4>
<p>Leaks are the problem, when accidentally you have a : X and b : order_dual X and a &lt;= b and you have no idea what &lt;= means. With the new inductive definition this literally cannot happen.</p>



<a name="226712855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712855">(Feb 17 2021 at 19:34)</a>:</h4>
<p>We have this with multiplicative and additive, and we just have equivs.</p>



<a name="226712986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226712986" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226712986">(Feb 17 2021 at 19:35)</a>:</h4>
<p>it's an order isomorphism, and we need a robust machinery for moving structures across isomophisms, and if we start writing principled code like this then eventually our wishes and dreams about what we actually want for such a tactic will become clearer. Right now Mario just shrugs his shoulders and says "well you seem to be managing so far".</p>



<a name="226713322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226713322" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226713322">(Feb 17 2021 at 19:37)</a>:</h4>
<p>Right now the problem is that definitional equality cannot be controlled, because part of the system works under the assumption that definitional equality is "the" equality, and then stuff of type <code>order_dual X</code> magically becomes of type <code>X</code>. This is, in my mind, an error.</p>



<a name="226713457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226713457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226713457">(Feb 17 2021 at 19:38)</a>:</h4>
<p>I think X -&gt; order_dual X is an invisible map, just like nat -&gt; int is an invisible map and we've made some great tactics which now mean that for someone who has had experience with these matters, the map is no longer a problem.</p>



<a name="226713650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226713650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226713650">(Feb 17 2021 at 19:39)</a>:</h4>
<p>Maybe we want an <code>undual</code> map if you are worried about duals of duals. But just saying "oh there will be problems with duals of duals so let's not do it" isn't the answer, as Damiano found out. We have this problem with category theory, and we have <code>op</code> and <code>unop</code>. We need to find an abstract problem and then solve it with tactics.</p>



<a name="226714974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226714974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226714974">(Feb 17 2021 at 19:49)</a>:</h4>
<p>I think that the idea of the double-dual map is good!  Part of the confusion (for me) is that it is not true that the dual of a dual is necessarily what you started with: in the context of vector spaces, this actually characterizes the finite-dimensional ones.  So, I am in favour of keeping our mind straight about which order to consider.  Besides, when thinking about specialization of points or inclusion of ideals, I think that there is little room for being confused about which side of the dual divide we are.</p>



<a name="226716881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226716881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226716881">(Feb 17 2021 at 20:02)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/6286">#6286</a></p>



<a name="226717049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226717049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226717049">(Feb 17 2021 at 20:03)</a>:</h4>
<p>Now I hope there will be some lattice-theoretic machinery in place to give us the Krull dimension. <span class="user-mention" data-user-id="302826">@Aaron Anderson</span> you're the expert here (-;</p>



<a name="226720640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226720640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226720640">(Feb 17 2021 at 20:31)</a>:</h4>
<p>I'll look into it. Coming up with some rudimentary definition of rank/height on posets should be fine, but there's some choices as to whether you want the ranks to be nats, enats, ordinals, cardinals... I'll have to do some reading.</p>



<a name="226721851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226721851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226721851">(Feb 17 2021 at 20:39)</a>:</h4>
<p>Most mathematics goes on in a finite-dimensions or under other finiteness hypotheses, so my instinct would be to define <code>nat_dimension</code> which just returns 37 for infinite-dimensional objects. We also have the problem with the empty set, which has dimension -1, or possibly every natural. So maybe <code>nat_dimension</code> and a predicate <code>is_finite_dimensional</code>? Of course one could make the perfect type which takes in the correct concept of dimension in terms of cardinals or what have you, but after a while one has to consider things which are <em>useful in practice</em> rather than the abstract beautiful thing which takes values in <code>enat</code> or whatever and just annoys everyone because <code>ring</code> doesn't work.</p>



<a name="226722255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226722255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226722255">(Feb 17 2021 at 20:43)</a>:</h4>
<p>My memory is that for various theorems relating depth and dimension, you could be clever and let stuff be infinite but actually the theorems are false in these cases anyway.</p>



<a name="226723019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723019" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723019">(Feb 17 2021 at 20:48)</a>:</h4>
<p>I could imagine that we will have <code>krull_dim</code> and <code>krull_findim</code>, just like for vector spaces.</p>



<a name="226723097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723097">(Feb 17 2021 at 20:49)</a>:</h4>
<p>One returns an cardordinal, the other a <code>nat</code></p>



<a name="226723110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723110">(Feb 17 2021 at 20:49)</a>:</h4>
<p>We could do, but is there any theorem about infinite-dimensional rings which we will ever need/use?</p>



<a name="226723173"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723173" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723173">(Feb 17 2021 at 20:50)</a>:</h4>
<p>And we still have problems with krull_dim (Spec(0)) even if we use cordinals.</p>



<a name="226723179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723179">(Feb 17 2021 at 20:50)</a>:</h4>
<p>Touche</p>



<a name="226723315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723315">(Feb 17 2021 at 20:50)</a>:</h4>
<p>Literally the only thing I know about infinite-dimensional rings is some counterexample of maybe Nagata -- an infinite-dimensional Noetherian...ring? Or something?</p>



<a name="226723384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723384">(Feb 17 2021 at 20:51)</a>:</h4>
<p><a href="https://math.stackexchange.com/questions/1109732/noetherian-ring-with-infinite-krull-dimension-nagatas-example">bingo</a></p>



<a name="226723439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226723439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226723439">(Feb 17 2021 at 20:51)</a>:</h4>
<p>I would be happy proving that it had dimension 37.</p>



<a name="226727050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226727050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226727050">(Feb 17 2021 at 21:17)</a>:</h4>
<p>I agree with Kevin: most interesting examples are finite-dimensional.  And most of the next ones are locally finite dimensional.</p>
<p>But, if you are interested in a non-finite dimensional scheme, you are likely not going to take seriously what its dimension is.</p>



<a name="226727187"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226727187" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226727187">(Feb 17 2021 at 21:18)</a>:</h4>
<p>Given how things work out in algebraic geometry, defining codimension might be useful as well</p>



<a name="226727216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226727216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226727216">(Feb 17 2021 at 21:18)</a>:</h4>
<p>and depth</p>



<a name="226727248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226727248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226727248">(Feb 17 2021 at 21:18)</a>:</h4>
<p>and height</p>



<a name="226727300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226727300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226727300">(Feb 17 2021 at 21:19)</a>:</h4>
<p>Is upper semicontinuity already defined in mathlib?</p>



<a name="226733639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226733639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226733639">(Feb 17 2021 at 22:03)</a>:</h4>
<p>I buy that in algebra, we mostly care about finite dimensions or infinite dimensions, but if I define it for posets in general, a more general version might be nice.</p>



<a name="226733739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226733739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226733739">(Feb 17 2021 at 22:04)</a>:</h4>
<p>Also, I think I could define the cardinal version to literally be the sup of the cardinalities of all chains</p>



<a name="226734602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226734602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226734602">(Feb 17 2021 at 22:08)</a>:</h4>
<p>although I guess there isn't a fantastic API for turning that into an enat or a nat, is there?</p>



<a name="226737666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226737666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226737666">(Feb 17 2021 at 22:27)</a>:</h4>
<p>I think the reasonable thing to do is what has been done for dimension of vector spaces.</p>



<a name="226737785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226737785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226737785">(Feb 17 2021 at 22:28)</a>:</h4>
<p>I.e. define a dimension as a cardinal, then make a findim taking values in nat with value 0 (or 37) on something that is not finite dimensional, etc.</p>



<a name="226738043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226738043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226738043">(Feb 17 2021 at 22:30)</a>:</h4>
<p>And maybe down the line one can redefine the dimension of a vector space in terms of the lattice of subspaces?</p>



<a name="226740247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226740247" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226740247">(Feb 17 2021 at 22:52)</a>:</h4>
<p>Ok, the definition of <code>finite_dimensional.findim</code> is a composition of cardinal-valued <code>dim</code> with a cardinal-to-nat function that just returns 0 for infinite cardinals. I think my first step should be to separate out that cardinal-to-nat function, because that just sounds useful, and then I can use the same strategy to define the cardinal-valued and nat-valued heights of posets.</p>



<a name="226740506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226740506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226740506">(Feb 17 2021 at 22:54)</a>:</h4>
<p>Fair enough. As long as there's a nat version which returns the right thing for nonempty finite- dimensional lattices i don't care what else there is</p>



<a name="226740611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226740611" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226740611">(Feb 17 2021 at 22:55)</a>:</h4>
<p>Thanks! This is all part of the slow but sure build-up of a serious commutative algebra library which I'm very excited about</p>



<a name="226740943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226740943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226740943">(Feb 17 2021 at 22:58)</a>:</h4>
<p>Bonus of this strategy: we get a <code>fincard</code> function (albeit one that's grotesquely noncomputable)</p>



<a name="226743053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226743053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226743053">(Feb 17 2021 at 23:19)</a>:</h4>
<p>We never wanted it to be computable, we just want a painless way to take the size of something :-) There's a basic API for fincard somewhere, probably in the group theory game?</p>



<a name="226743236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/order%20on%20prime_spectrum/near/226743236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/order.20on.20prime_spectrum.html#226743236">(Feb 17 2021 at 23:21)</a>:</h4>
<p><a href="https://github.com/ImperialCollegeLondon/group-theory-game/blob/master/src/finsum/basic.lean">https://github.com/ImperialCollegeLondon/group-theory-game/blob/master/src/finsum/basic.lean</a> second half of the file</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>